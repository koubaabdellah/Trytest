//>>built
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(G){var A=0;return function(){return A<G.length?{done:!1,value:G[A++]}:{done:!0}}};$jscomp.arrayIterator=function(G){return{next:$jscomp.arrayIteratorImpl(G)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(G,A,a){if(G==Array.prototype||G==Object.prototype)return G;G[A]=a.value;return G};$jscomp.getGlobal=function(G){G=["object"==typeof globalThis&&globalThis,G,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var A=0;A<G.length;++A){var a=G[A];if(a&&a.Math==Math)return a}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(G,A){var a=$jscomp.propertyToPolyfillSymbol[A];if(null==a)return G[A];a=G[a];return void 0!==a?a:G[A]};
$jscomp.polyfill=function(G,A,a,m){A&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(G,A,a,m):$jscomp.polyfillUnisolated(G,A,a,m))};$jscomp.polyfillUnisolated=function(G,A,a,m){a=$jscomp.global;G=G.split(".");for(m=0;m<G.length-1;m++){var p=G[m];if(!(p in a))return;a=a[p]}G=G[G.length-1];m=a[G];A=A(m);A!=m&&null!=A&&$jscomp.defineProperty(a,G,{configurable:!0,writable:!0,value:A})};
$jscomp.polyfillIsolated=function(G,A,a,m){var p=G.split(".");G=1===p.length;m=p[0];m=!G&&m in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var t=0;t<p.length-1;t++){var n=p[t];if(!(n in m))return;m=m[n]}p=p[p.length-1];a=$jscomp.IS_SYMBOL_NATIVE&&"es6"===a?m[p]:null;A=A(a);null!=A&&(G?$jscomp.defineProperty($jscomp.polyfills,p,{configurable:!0,writable:!0,value:A}):A!==a&&($jscomp.propertyToPolyfillSymbol[p]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(p):$jscomp.POLYFILL_PREFIX+p,p=
$jscomp.propertyToPolyfillSymbol[p],$jscomp.defineProperty(m,p,{configurable:!0,writable:!0,value:A})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(G){if(G)return G;var A=function(p,t){this.$jscomp$symbol$id_=p;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:t})};A.prototype.toString=function(){return this.$jscomp$symbol$id_};var a=0,m=function(p){if(this instanceof m)throw new TypeError("Symbol is not a constructor");return new A("jscomp_symbol_"+(p||"")+"_"+a++,p)};return m},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(G){if(G)return G;G=Symbol("Symbol.iterator");for(var A="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),a=0;a<A.length;a++){var m=$jscomp.global[A[a]];"function"===typeof m&&"function"!=typeof m.prototype[G]&&$jscomp.defineProperty(m.prototype,G,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return G},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(G){G={next:G};G[Symbol.iterator]=function(){return this};return G};
(function(G,A){var a,m=function(){return"undefined"!==typeof q&&"function"!==typeof q?q:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),p=function(){},t=function(za){for(var Z in za)return 0;return 1},n={}.toString,h=function(za){return"[object Function]"==n.call(za)},c=function(za){return"[object String]"==n.call(za)},b=function(za){return"[object Array]"==n.call(za)},e=function(za,Z){if(za)for(var Fa=0;Fa<za.length;)Z(za[Fa++])},f=function(za,Z){for(var Fa in Z)za[Fa]=
Z[Fa];return za},k=function(za,Z){return f(Error(za),{src:"dojoLoader",info:Z})},u=1,v=function(){return"_"+u++},g=function(za,Z,Fa){return Ra(za,Z,Fa,0,g)},q=m,x=q.document,w=x&&x.createElement("DiV"),B=g.has=function(za){return h(z[za])?z[za]=z[za](q,x,w):z[za]},z=B.cache=A.hasCache;h(G)&&(G=G(m));B.add=function(za,Z,Fa,Ea){(void 0===z[za]||Ea)&&(z[za]=Z);return Fa&&B(za)};B.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);B("host-webworker")&&(f(A.hasCache,
{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),A.loaderPatch={injectUrl:function(za,Z){try{importScripts(za),Z()}catch(Fa){console.info("failed to load resource ("+za+")"),console.error(Fa)}}});for(var C in G.has)B.add(C,G.has[C],0,1);var y=0,D=[],F=0,H=p,E=p;g.isXdUrl=p;g.initSyncLoader=function(za,Z,Fa){F||(F=za,H=Z,E=Fa);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:D,
modules:Q,execQ:La,getModule:Ja,injectModule:Pb,setArrived:X,signal:M,finishExec:Hb,execModule:wb,dojoRequirePlugin:F,getLegacyMode:function(){return y},guardCheckComplete:xb}};var I=location.protocol,J=location.host;g.isXdUrl=function(za){return/^\./.test(za)?!1:/^\/\//.test(za)?!0:(za=za.match(/^([^\/:]+:)\/+([^\/]+)/))&&(za[1]!=I||J&&za[2]!=J)};B.add("dojo-force-activex-xhr",!x.addEventListener&&"file:"==window.location.protocol);B.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(B("native-xhr")&&
!B("dojo-force-activex-xhr"))var K=function(){return new XMLHttpRequest};else{var L=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(a=0;3>a;)try{var O=L[a++];new ActiveXObject(O);break}catch(za){}K=function(){return new ActiveXObject(O)}}g.getXhr=K;B.add("dojo-gettext-api",1);g.getText=function(za,Z,Fa){var Ea=K();Ea.open("GET",Jb(za),!1);Ea.send(null);if(200==Ea.status||!location.host&&!Ea.status)Fa&&Fa(Ea.responseText,Z);else throw k("xhrFailed",Ea.status);return Ea.responseText};
var U=B("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");g.eval=function(za,Z){return U(za+"\r\n//# sourceURL\x3d"+Z)};var S={},M=g.signal=function(za,Z){za=S[za];e(za&&za.slice(0),function(Fa){Fa.apply(null,b(Z)?Z:[Z])})},N=g.on=function(za,Z){var Fa=S[za]||(S[za]=[]);Fa.push(Z);return{remove:function(){for(var Ea=0;Ea<Fa.length;Ea++)if(Fa[Ea]===Z){Fa.splice(Ea,1);break}}}},T=[],V={},ea=[],P={},ba=g.map={},la=[],Q={},Y="",ja={},pa={},ka={},va=0;if(!B("foreign-loader"))var Aa=
function(za,Z){Z=!1!==Z;var Fa,Ea;for(Fa in pa){var Ba=pa[Fa];if(Ea=Fa.match(/^url:(.+)/))ja["url:"+fb(Ea[1],za)]=Ba;else if("*now"==Fa)var Ia=Ba;else"*noref"!=Fa&&(Ea=Ma(Fa,za,!0),ja[Ea.mid]=ja["url:"+Ea.url]=Ba)}Ia&&Ia(Sa(za));Z&&(pa={})};var da=function(za){return za.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(Z){return"\\"+Z})},ca=function(za,Z){Z.splice(0,Z.length);for(var Fa in za)Z.push([Fa,za[Fa],new RegExp("^"+da(Fa)+"(/|$)"),Fa.length]);Z.sort(function(Ea,Ba){return Ba[3]-Ea[3]});return Z},
ma=function(za,Z){e(za,function(Fa){Z.push([c(Fa[0])?new RegExp("^"+da(Fa[0])+"$"):Fa[0],Fa[1]])})},qa=function(za){var Z=za.name;Z||(Z=za,za={name:Z});za=f({main:"main"},za);za.location=za.location?za.location:Z;za.packageMap&&(ba[Z]=za.packageMap);za.main.indexOf("./")||(za.main=za.main.substring(2));P[Z]=za},ta=[],Ca=function(za,Z,Fa){for(var Ea in za){"waitSeconds"==Ea&&(g.waitms=1E3*(za[Ea]||0));"cacheBust"==Ea&&(Y=za[Ea]?c(za[Ea])?za[Ea]:(new Date).getTime()+"":"");if("baseUrl"==Ea||"combo"==
Ea)g[Ea]=za[Ea];if("async"==Ea){var Ba=za[Ea];g.legacyMode=y=c(Ba)&&/sync|legacyAsync/.test(Ba)?Ba:Ba?!1:"sync";g.async=!y}za[Ea]!==z&&(g.rawConfig[Ea]=za[Ea],"has"!=Ea&&B.add("config-"+Ea,za[Ea],0,Z))}g.baseUrl||(g.baseUrl="./");/\/$/.test(g.baseUrl)||(g.baseUrl+="/");for(Ea in za.has)B.add(Ea,za.has[Ea],0,Z);e(za.packages,qa);for(var Ia in za.packagePaths)e(za.packagePaths[Ia],function(Pa){var Ua=Ia+"/"+Pa;c(Pa)&&(Pa={name:Pa});Pa.location=Ua;qa(Pa)});ca(f(ba,za.map),la);e(la,function(Pa){Pa[1]=
ca(Pa[1],[]);"*"==Pa[0]&&(la.star=Pa)});ca(f(V,za.paths),ea);ma(za.aliases,T);if(!B("foreign-loader")){if(Z)ta.push({config:za.config});else for(Ea in za.config)Z=Ja(Ea,Fa),Z.config=f(Z.config||{},za.config[Ea]);za.cache&&(Aa(),pa=za.cache,Aa(0,!!za.cache["*noref"]))}M("config",[za,g.rawConfig])};B("dojo-cdn");var ha=x.getElementsByTagName("script");a=0;for(var fa,ra,wa,Ga;a<ha.length;)if(fa=ha[a++],(wa=fa.getAttribute("src"))&&(Ga=wa.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ra=Ga[3]||"",A.baseUrl=
A.baseUrl||ra,va=fa),wa=fa.getAttribute("data-dojo-config")||fa.getAttribute("djConfig"))ka=g.eval("({ "+wa+" })","data-dojo-config"),va=fa;g.rawConfig={};Ca(A,1);B("dojo-cdn")&&((P.dojo.location=ra)&&(ra+="/"),P.dijit.location=ra+"../dijit/",P.dojox.location=ra+"../dojox/");Ca(G,1);Ca(ka,1);if(!B("foreign-loader"))var Na=function(za){xb(function(){e(za.deps,Pb)})},Ra=function(za,Z,Fa,Ea,Ba){var Ia;if(c(za)){if((Ia=Ja(za,Ea,!0))&&Ia.executed)return Ia.result;throw k("undefinedModule",za);}b(za)||
(Ca(za,0,Ea),za=Z,Z=Fa);if(b(za))if(za.length){Fa="require*"+v();for(var Pa,Ua=[],Qa=0;Qa<za.length;)Pa=za[Qa++],Ua.push(Ja(Pa,Ea));Ia=f(Ha("",Fa,0,""),{injected:2,deps:Ua,def:Z||p,require:Ea?Ea.require:g,gc:1});Q[Ia.mid]=Ia;Na(Ia);var Wa=Nb&&"sync"!=y;xb(function(){wb(Ia,Wa)});Ia.executed||La.push(Ia);Ab()}else Z&&Z();return Ba},Sa=function(za){if(!za)return g;var Z=za.require;Z||(Z=function(Fa,Ea,Ba){return Ra(Fa,Ea,Ba,za,Z)},za.require=f(Z,g),Z.module=za,Z.toUrl=function(Fa){return fb(Fa,za)},
Z.toAbsMid=function(Fa){return Va(Fa,za)},Z.syncLoadNls=function(Fa){Fa=Ma(Fa,za);var Ea=Q[Fa.mid];if(!Ea||!Ea.executed)if(Fb=ja[Fa.mid]||ja["url:"+Fa.url])Qb(Fb),Ea=Q[Fa.mid];return Ea&&Ea.executed&&Ea.result});return Z},La=[],W=[],ia={},sa=function(za){za.injected=1;ia[za.mid]=1;za.url&&(ia[za.url]=za.pack||1);Vb()},X=function(za){za.injected=2;delete ia[za.mid];za.url&&delete ia[za.url];t(ia)&&(Gb(),"xd"==y&&(y="sync"))},na=g.idle=function(){return!W.length&&t(ia)&&!La.length&&!Nb};var ua=function(za,
Z){if(Z)for(var Fa=0;Fa<Z.length;Fa++)if(Z[Fa][2].test(za))return Z[Fa];return 0},ya=function(za){var Z=[];for(za=za.replace(/\\/g,"/").split("/");za.length;){var Fa=za.shift();if(".."==Fa&&Z.length&&".."!=Ea){Z.pop();var Ea=Z[Z.length-1]}else"."!=Fa&&Z.push(Ea=Fa)}return Z.join("/")},Ha=function(za,Z,Fa,Ea){var Ba=g.isXdUrl(Ea);return{pid:za,mid:Z,pack:Fa,url:Ea,executed:0,def:0,isXd:Ba,isAmd:!!(Ba||P[za]&&P[za].isAmd)}},Oa=function(za,Z,Fa,Ea,Ba,Ia,Pa,Ua,Qa,Wa){var Xa,ab,eb;var Za=/^\./.test(za);
if(/(^\/)|(:)|(\.js$)/.test(za)||Za&&!Z)return Ha(0,za,0,za);za=ya(Za?Z.mid+"/../"+za:za);if(/^\./.test(za))throw k("irrationalPath",za);Wa||Za||!Ia.star||(eb=ua(za,Ia.star[1]));!eb&&Z&&(eb=(eb=ua(Z.mid,Ia))&&ua(za,eb[1]));eb&&(za=eb[1]+za.substring(eb[3]));Z=(Ga=za.match(/^([^\/]+)(\/(.+))?$/))?Ga[1]:"";(Xa=Fa[Z])?za=Z+"/"+(ab=Ga[3]||Xa.main):Z="";var db=0;e(Ua,function(gb){var jb=za.match(gb[0]);jb&&0<jb.length&&(db=h(gb[1])?za.replace(gb[0],gb[1]):gb[1])});if(db)return Oa(db,0,Fa,Ea,Ba,Ia,Pa,Ua,
Qa);if(Fa=Ea[za])return Qa?Ha(Fa.pid,Fa.mid,Fa.pack,Fa.url):Ea[za];Ea=(eb=ua(za,Pa))?eb[1]+za.substring(eb[3]):Z?("/"===Xa.location.slice(-1)?Xa.location.slice(0,-1):Xa.location)+"/"+ab:za;/(^\/)|(:)/.test(Ea)||(Ea=Ba+Ea);return Ha(Z,za,Xa,ya(Ea+".js"))},Ma=function(za,Z,Fa){return Oa(za,Z,P,Q,g.baseUrl,la,ea,T,void 0,Fa)};if(!B("foreign-loader"))var Da=function(za,Z,Fa){return za.normalize?za.normalize(Z,function(Ea){return Va(Ea,Fa)}):Va(Z,Fa)},Ka=0,Ja=function(za,Z,Fa){var Ea;if(Ea=za.match(/^(.+?)!(.*)$/)){var Ba=
Ja(Ea[1],Z,Fa);"sync"!=y||Ba.executed||(Pb(Ba),2!==Ba.injected||Ba.executed||xb(function(){wb(Ba)}),Ba.executed?mb(Ba):La.unshift(Ba));5!==Ba.executed||Ba.load||mb(Ba);Ba.load?(Ea=Da(Ba,Ea[2],Z),za=Ba.mid+"!"+(Ba.dynamic?++Ka+"!":"")+Ea):(Ea=Ea[2],za=Ba.mid+"!"+ ++Ka+"!waitingForPlugin");za={plugin:Ba,mid:za,req:Sa(Z),prid:Ea}}else za=Ma(za,Z);return Q[za.mid]||!Fa&&(Q[za.mid]=za)};var Va=g.toAbsMid=function(za,Z){return Ma(za,Z).mid},fb=g.toUrl=function(za,Z){Z=Ma(za+"/x",Z);var Fa=Z.url;return Jb(0===
Z.pid?za:Fa.substring(0,Fa.length-5))};if(!B("foreign-loader"))var bb={injected:2,executed:5,def:3,result:3},kb=function(za){return Q[za]=f({mid:za},bb)},hb=kb("require"),nb=kb("exports"),tb=kb("module"),ob={},ib=0,mb=function(za){var Z=za.result;za.dynamic=Z.dynamic;za.normalize=Z.normalize;za.load=Z.load;return za},rb=function(za){var Z={};e(za.loadQ,function(Ba){var Ia=Da(za,Ba.prid,Ba.req.module),Pa=za.dynamic?Ba.mid.replace(/waitingForPlugin$/,Ia):za.mid+"!"+Ia;Ia=f(f({},Ba),{mid:Pa,prid:Ia,
injected:0});Q[Pa]&&Q[Pa].injected||Rb(Q[Pa]=Ia);Z[Ba.mid]=Q[Pa];X(Ba);delete Q[Ba.mid]});za.loadQ=0;var Fa=function(Ba){for(var Ia=Ba.deps||[],Pa=0;Pa<Ia.length;Pa++)(Ba=Z[Ia[Pa].mid])&&(Ia[Pa]=Ba)},Ea;for(Ea in Q)Fa(Q[Ea]);e(La,Fa)},Hb=function(za){g.trace("loader-finish-exec",[za.mid]);za.executed=5;za.defOrder=ib++;e(za.provides,function(Z){Z()});za.loadQ&&(mb(za),rb(za));for(a=0;a<La.length;)La[a]===za?La.splice(a,1):a++;/^require\*/.test(za.mid)&&delete Q[za.mid]},Bb=[],wb=function(za,Z){if(4===
za.executed)return g.trace("loader-circular-dependency",[Bb.concat(za.mid).join("-\x3e")]),!za.def||Z?ob:za.cjs&&za.cjs.exports;if(!za.executed){if(!za.def)return ob;var Fa=za.mid,Ea=za.deps||[],Ba,Ia=[],Pa=0;for(za.executed=4;Ba=Ea[Pa++];){Ba=Ba===hb?Sa(za):Ba===nb?za.cjs.exports:Ba===tb?za.cjs:wb(Ba,Z);if(Ba===ob)return za.executed=0,g.trace("loader-exec-module",["abort",Fa]),ob;Ia.push(Ba)}g.trace("loader-run-factory",[za.mid]);Z=za.def;D.unshift(za);Ia=h(Z)?Z.apply(null,Ia):Z;za.result=void 0===
Ia&&za.cjs?za.cjs.exports:Ia;D.shift(za);Hb(za)}return za.result},Nb=0,xb=function(za){try{Nb++,za()}catch(Z){throw Z;}finally{Nb--}na()&&M("idle",[])},Ab=function(){Nb||xb(function(){H();for(var za,Z,Fa=0;Fa<La.length;)za=ib,Z=La[Fa],wb(Z),za!=ib?(H(),Fa=0):Fa++})};var Jb="function"==typeof G.fixupUrl?G.fixupUrl:function(za){za+="";return za+(Y?(/\?/.test(za)?"\x26":"?")+Y:"")};void 0===B("dojo-loader-eval-hint-url")&&B.add("dojo-loader-eval-hint-url",1);var Rb=function(za){var Z=za.plugin;5!==Z.executed||
Z.load||mb(Z);var Fa=function(Ea){za.result=Ea;X(za);Hb(za);Ab()};Z.load?Z.load(za.prid,za.req,Fa):Z.loadQ?Z.loadQ.push(za):(Z.loadQ=[za],La.unshift(Z),Pb(Z))},Fb=0,Lb=0,Yb=0,Qb=function(za,Z){B("config-stripStrict")&&(za=za.replace(/(["'])use strict\1/g,""));Yb=1;za===Fb?Fb.call(null):g.eval(za,B("dojo-loader-eval-hint-url")?Z.url:Z.mid);Yb=0},Pb=function(za){var Z=za.mid,Fa=za.url;if(!(za.executed||za.injected||ia[Z]||za.url&&(za.pack&&ia[za.url]===za.pack||1==ia[za.url])))if(sa(za),za.plugin)Rb(za);
else{var Ea=function(){dc(za);if(2!==za.injected){if(B("dojo-enforceDefine")){M("error",k("noDefine",za));return}X(za);f(za,bb);g.trace("loader-define-nonmodule",[za.url])}y?!D.length&&Ab():Ab()};if(Fb=ja[Z]||ja["url:"+za.url])g.trace("loader-inject",["cache",za.mid,Fa]),Qb(Fb,za),Ea();else{if(y)if(za.isXd)"sync"==y&&(y="xd");else if(!za.isAmd||"sync"==y){g.trace("loader-inject",["xhr",za.mid,Fa,"sync"!=y]);g.getText(Fa,"sync"!=y,function(Ba){if("sync"==y){D.unshift(za);Qb(Ba,za);D.shift();dc(za);
za.cjs||(X(za),Hb(za));if(za.finish){Ba=Z+"*finish";var Ia=za.finish;delete za.finish;Wb(Ba,["dojo",("dojo/require!"+Ia.join(",")).replace(/\./g,"/")],function(Pa){e(Ia,function(Ua){Pa.require(Ua)})});La.unshift(Ja(Ba))}Ea()}else(Ba=E(za,Ba))?(Qb(Ba,za),Ea()):(Lb=za,g.injectUrl(Jb(Fa),Ea,za),Lb=0)});return}g.trace("loader-inject",["script",za.mid,Fa]);Lb=za;g.injectUrl(Jb(Fa),Ea,za);Lb=0}}},Sb=function(za,Z,Fa){g.trace("loader-define-module",[za.mid,Z]);var Ea=za.mid;if(2===za.injected)return M("error",
k("multipleDefine",za)),za;f(za,{deps:Z,def:Fa,cjs:{id:za.mid,uri:za.url,exports:za.result={},setExports:function(Ia){za.cjs.exports=Ia},config:function(){return za.config}}});for(var Ba=0;Z[Ba];Ba++)Z[Ba]=Ja(Z[Ba],za);y&&!ia[Ea]&&(Na(za),La.push(za),Ab());X(za);h(Fa)||Z.length||(za.result=Fa,Hb(za));return za},dc=function(za,Z){for(var Fa=[],Ea,Ba;W.length;)Ba=W.shift(),Z&&(Ba[0]=Z.shift()),Ea=Ba[0]&&Ja(Ba[0])||za,Fa.push([Ea,Ba[1],Ba[2]]);Aa(za);e(Fa,function(Ia){Na(Sb.apply(null,Ia))})},Tb=0,Gb=
p,Vb=p;Gb=function(){Tb&&clearTimeout(Tb);Tb=0};Vb=function(){Gb();g.waitms&&(Tb=q.setTimeout(function(){Gb();M("error",k("timeout",ia))},g.waitms))};B.add("ie-event-behavior",x.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Zb=function(za,Z,Fa,Ea){if(B("ie-event-behavior"))return za.attachEvent(Fa,Ea),function(){za.detachEvent(Fa,Ea)};za.addEventListener(Z,Ea,!1);return function(){za.removeEventListener(Z,Ea,!1)}},ec=Zb(window,"load",
"onload",function(){g.pageLoaded=1;try{"complete"!=x.readyState&&(x.readyState="complete")}catch(za){}ec()});ha=x.getElementsByTagName("script");for(a=0;!va;)/^dojo/.test((fa=ha[a++])&&fa.type)||(va=fa);g.injectUrl=function(za,Z,Fa){Fa=Fa.node=x.createElement("script");var Ea=Zb(Fa,"load","onreadystatechange",function(Ia){Ia=Ia||window.event;var Pa=Ia.target||Ia.srcElement;if("load"===Ia.type||/complete|loaded/.test(Pa.readyState))Ea(),Ba(),Z&&Z()}),Ba=Zb(Fa,"error","onerror",function(Ia){Ea();Ba();
M("error",k("scriptError: "+za,[za,Ia]))});Fa.type="text/javascript";Fa.charset="utf-8";Fa.src=za;va.parentNode.insertBefore(Fa,va);return Fa};g.log=function(){try{for(var za=0;za<arguments.length;za++)console.log(arguments[za])}catch(Z){}};g.trace=p;if(B("foreign-loader"))Wb=p;else{var Wb=function(za,Z,Fa){var Ea=arguments.length,Ba=["require","exports","module"],Ia=[0,za,Z];1==Ea?Ia=[0,h(za)?Ba:[],za]:2==Ea&&c(za)?Ia=[za,h(Z)?Ba:[],Z]:3==Ea&&(Ia=[za,Z,Fa]);g.trace("loader-define",Ia.slice(0,2));
if((Ea=Ia[0]&&Ja(Ia[0]))&&!ia[Ea.mid])Na(Sb(Ea,Ia[1],Ia[2]));else if(!B("ie-event-behavior")||Yb)W.push(Ia);else{Ea=Ea||Lb;if(!Ea)for(za in ia)if((Ba=Q[za])&&Ba.node&&"interactive"===Ba.node.readyState){Ea=Ba;break}Ea?(Aa(Ea),Na(Sb(Ea,Ia[1],Ia[2]))):M("error",k("ieDefineFailed",Ia[0]));Ab()}};Wb.amd={vendor:"dojotoolkit.org"}}f(f(g,A.loaderPatch),G.loaderPatch);N("error",function(za){try{if(console.error(za),za instanceof Error){for(var Z in za)console.log(Z+":",za[Z]);console.log(".")}}catch(Fa){}});
f(g,{uid:v,cache:ja,packs:P});if(q.define)M("error",k("defineAlreadyDefined",0));else if(q.define=Wb,q.require=g,!B("foreign-loader")){e(ta,function(za){Ca(za)});var gc=ka.deps||G.deps||A.deps,Mb=ka.callback||G.callback||A.callback;g.boot=gc||Mb?[gc||[],Mb]:0}})(function(G){return G.dojoConfig||G.djConfig||G.require||{}},{async:!0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},
{location:"../../dijit",name:"dijit"},{location:"../../dojox",name:"dojox"},{location:"../../put-selector",main:"put",name:"put-selector"},{location:"../../xstyle",name:"xstyle"},{location:"../../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../../dgri1",main:"OnDemandGrid",name:"dgrid1"},{location:"../../dstore",main:"Store",name:"dstore"},{location:"../../moment",main:"moment.js",name:"moment"},{location:"../../esri",name:"esri"},{location:"../../arcgis3d",name:"arcgis3d"},{location:"../../engine",
name:"engine"},{location:"../../ceviewer",main:"Application",name:"ceviewer"}]});
require({cache:{"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser ./_base/loader".split(" "),function(G,A,a,m,p,t,n,h){n.isDebug&&a(["./_firebug/firebug"]);var c=n.require;c&&(c=t.map(p.isArray(c)?c:[c],function(b){return b.replace(/\./g,"/")}),G.isAsync?a(c):h(1,function(){a(c)}));return G})},"dojo/_base/kernel":function(){define(["../global",
"../has","./config","require","module"],function(G,A,a,m,p){var t,n={},h={},c={config:a,global:G,dijit:n,dojox:h};n={dojo:["dojo",c],dijit:["dijit",n],dojox:["dojox",h]};p=m.map&&m.map[p.id.match(/[^\/]+/)[0]];for(t in p)n[t]?n[t][0]=p[t]:n[t]=[p[t],{}];for(t in n)p=n[t],p[1]._scopeName=p[0],a.noGlobals||(G[p[0]]=p[1]);c.scopeMap=n;c.baseUrl=c.config.baseUrl=m.baseUrl;c.isAsync=m.async;c.locale=a.locale;G="$Rev:$".match(/[0-9a-f]{7,}/);c.version={major:1,minor:9,patch:1,flag:"",revision:G?G[0]:NaN,
toString:function(){var e=c.version;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}};A("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c);c.exit=function(){};A("host-webworker");A.add("console-as-object",function(){return Function.prototype.bind&&console&&"object"===typeof console.log});"undefined"!=typeof console||(console={});p="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");
var b;for(G=0;b=p[G++];)console[b]?A("console-as-object")&&(console[b]=Function.prototype.bind.call(console[b],console)):function(){var e=b+"";console[e]="log"in console?function(){var f=Array.prototype.slice.call(arguments);f.unshift(e+":");console.log(f.join(" "))}:function(){};console[e]._fake=!0}();A.add("dojo-debug-messages",!!a.isDebug);c.deprecated=c.experimental=function(){};A("dojo-debug-messages")&&(c.deprecated=function(e,f,k){e="DEPRECATED: "+e;f&&(e+=" "+f);k&&(e+=" -- will be removed in version: "+
k);console.warn(e)},c.experimental=function(e,f){e="EXPERIMENTAL: "+e+" -- APIs subject to change without notice.";f&&(e+=" "+f);console.warn(e)});if(a.modulePaths){c.deprecated("dojo.modulePaths","use paths configuration");A={};for(t in a.modulePaths)A[t.replace(/\./g,"/")]=a.modulePaths[t];m({paths:A})}c.moduleUrl=function(e,f){c.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var k=null;e&&(k=m.toUrl(e.replace(/\./g,"/")+(f?"/"+f:"")+"/*.*").replace(/\/\*\.\*/,"")+(f?"":"/"));return k};
c._hasResource={};return c})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],function(G,A,a){var m=A.has||function(){};m.add("dom-addeventlistener",!!document.addEventListener);m.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);
m.add("touch-events","ontouchstart"in document);m.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window);m.add("MSPointer",window.navigator.msPointerEnabled);m.add("touch-action",m("touch")&&m("pointer-events"));m.add("device-width",screen.availWidth||innerWidth);G=document.createElement("form");m.add("dom-attributes-explicit",0==G.attributes.length);m.add("dom-attributes-specified-flag",0<G.attributes.length&&40>G.attributes.length);m.clearElement=
function(p){p.innerHTML="";return p};m.normalize=function(p,t){var n=p.match(/[\?:]|[^:\?]*/g),h=0,c=function(b){var e=n[h++];if(":"==e)return 0;if("?"==n[h++]){if(!b&&m(e))return c();c(!0);return c(b)}return e||0};return(p=c())&&t(p)};m.load=function(p,t,n){p?t([p],n):n()};return m})},"dojo/_base/config":function(){define(["../global","../has","require"],function(G,A,a){G={};a=a.rawConfig;for(var m in a)G[m]=a[m];!G.locale&&"undefined"!=typeof navigator&&(m=navigator.languages&&navigator.languages.length?
navigator.languages[0]:navigator.language||navigator.userLanguage)&&(G.locale=m.toLowerCase());return G})},"dojo/sniff":function(){define(["./has"],function(G){var A=navigator,a=A.userAgent;A=A.appVersion;var m=parseFloat(A);G.add("air",0<=a.indexOf("AdobeAIR"));G.add("wp",parseFloat(a.split("Windows Phone")[1])||void 0);G.add("msapp",parseFloat(a.split("MSAppHost/")[1])||void 0);G.add("khtml",0<=A.indexOf("Konqueror")?m:void 0);G.add("edge",parseFloat(a.split("Edge/")[1])||void 0);G.add("opr",parseFloat(a.split("OPR/")[1])||
void 0);G.add("webkit",!G("wp")&&!G("edge")&&parseFloat(a.split("WebKit/")[1])||void 0);G.add("chrome",!G("edge")&&!G("opr")&&parseFloat(a.split("Chrome/")[1])||void 0);G.add("android",!G("wp")&&parseFloat(a.split("Android ")[1])||void 0);G.add("safari",!(0<=A.indexOf("Safari"))||G("wp")||G("chrome")||G("android")||G("edge")||G("opr")?void 0:parseFloat(A.split("Version/")[1]));G.add("mac",0<=A.indexOf("Macintosh"));G.add("quirks","BackCompat"==document.compatMode);if(!G("wp")&&a.match(/(iPhone|iPod|iPad)/)){var p=
RegExp.$1.replace(/P/,"p"),t=a.match(/OS ([\d_]+)/)?RegExp.$1:"1";t=parseFloat(t.replace(/_/,".").replace(/_/g,""));G.add(p,t);G.add("ios",t)}G.add("bb",(0<=a.indexOf("BlackBerry")||0<=a.indexOf("BB10"))&&parseFloat(a.split("Version/")[1])||void 0);G.add("trident",parseFloat(A.split("Trident/")[1])||void 0);G.add("svg","undefined"!==typeof SVGAngle);G("webkit")||(0<=a.indexOf("Opera")&&G.add("opera",9.8<=m?parseFloat(a.split("Version/")[1])||m:m),!(0<=a.indexOf("Gecko"))||G("wp")||G("khtml")||G("trident")||
G("edge")||G.add("mozilla",m),G("mozilla")&&G.add("ff",parseFloat(a.split("Firefox/")[1]||a.split("Minefield/")[1])||void 0),document.all&&!G("opera")&&(a=parseFloat(A.split("MSIE ")[1])||void 0,(A=document.documentMode)&&5!=A&&Math.floor(a)!=A&&(a=A),G.add("ie",a)),G.add("wii","undefined"!=typeof opera&&opera.wiiremote));return G})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(G,A){A.add("bug-for-in-skips-shadowed",function(){for(var b in{toString:1})return 0;return 1});
var a=A("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],m=a.length,p=function(b,e,f){f||(f=b[0]&&G.scopeMap[b[0]]?G.scopeMap[b.shift()][1]:G.global);try{for(var k=0;k<b.length;k++){var u=b[k];if(!(u in f))if(e)f[u]={};else return;f=f[u]}return f}catch(v){}},t=Object.prototype.toString,n=function(b,e,f){return(f||[]).concat(Array.prototype.slice.call(b,e||0))},h=/\{([^\}]+)\}/g,c={_extraNames:a,_mixin:function(b,
e,f){var k,u={};for(g in e){var v=e[g];g in b&&(b[g]===v||g in u&&u[g]===v)||(b[g]=f?f(v):v)}if(A("bug-for-in-skips-shadowed")&&e)for(k=0;k<m;++k){var g=a[k];v=e[g];g in b&&(b[g]===v||g in u&&u[g]===v)||(b[g]=f?f(v):v)}return b},mixin:function(b,e){b||(b={});for(var f=1,k=arguments.length;f<k;f++)c._mixin(b,arguments[f]);return b},setObject:function(b,e,f){var k=b.split(".");b=k.pop();return(f=p(k,!0,f))&&b?f[b]=e:void 0},getObject:function(b,e,f){return b?p(b.split("."),e,f):f},exists:function(b,
e){return void 0!==c.getObject(b,!1,e)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:Array.isArray||function(b){return"[object Array]"==t.call(b)},isFunction:function(b){return"[object Function]"===t.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||c.isArray(b)||c.isFunction(b))},isArrayLike:function(b){return!!b&&!c.isString(b)&&!c.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(c.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&
!c.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))},extend:function(b,e){for(var f=1,k=arguments.length;f<k;f++)c._mixin(b.prototype,arguments[f]);return b},_hitchArgs:function(b,e){var f=c._toArray(arguments,2),k=c.isString(e);return function(){var u=c._toArray(arguments),v=k?(b||G.global)[e]:e;return v&&v.apply(b||this,f.concat(u))}},hitch:function(b,e){if(2<arguments.length)return c._hitchArgs.apply(G,arguments);e||(e=b,b=null);if(c.isString(e)){b=b||G.global;if(!b[e])throw['lang.hitch: scope["',
e,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[e].apply(b,arguments||[])}}return b?function(){return e.apply(b,arguments||[])}:e},delegate:function(){function b(){}return function(e,f){b.prototype=e;e=new b;b.prototype=null;f&&c._mixin(e,f);return e}}(),_toArray:A("ie")?function(){function b(e,f,k){k=k||[];for(f=f||0;f<e.length;f++)k.push(e[f]);return k}return function(e){return(e.item?b:n).apply(this,arguments)}}():n,partial:function(b){return c.hitch.apply(G,[null].concat(c._toArray(arguments)))},
clone:function(b){if(!b||"object"!=typeof b||c.isFunction(b))return b;if(b.nodeType&&"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return new RegExp(b);var e;if(c.isArray(b)){var f=[];var k=0;for(e=b.length;k<e;++k)k in b&&(f[k]=c.clone(b[k]))}else f=b.constructor?new b.constructor:{};return c._mixin(f,b,c.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},
replace:function(b,e,f){return b.replace(f||h,c.isFunction(e)?e:function(k,u){return c.getObject(u,!1,e)})}};c.mixin(G,c);return c})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(G,A,a){function m(b){return n[b]=new Function("item","index","array",b)}function p(b){var e=!b;return function(f,k,u){var v=0,g=f&&f.length||0;g&&"string"==typeof f&&(f=f.split(""));"string"==typeof k&&(k=n[k]||m(k));if(u)for(;v<g;++v){var q=!k.call(u,f[v],v,f);if(b^q)return!q}else for(;v<
g;++v)if(q=!k(f[v],v,f),b^q)return!q;return e}}function t(b){var e=1,f=0,k=0;b||(e=f=k=-1);return function(u,v,g,q){if(q&&0<e)return c.lastIndexOf(u,v,g);q=u&&u.length||0;var x=b?q+k:f;g===h?g=b?f:q+k:0>g?(g=q+g,0>g&&(g=f)):g=g>=q?q+k:g;for(q&&"string"==typeof u&&(u=u.split(""));g!=x;g+=e)if(u[g]==v)return g;return-1}}var n={},h,c={every:p(!1),some:p(!0),indexOf:t(!0),lastIndexOf:t(!1),forEach:function(b,e,f){var k=0,u=b&&b.length||0;u&&"string"==typeof b&&(b=b.split(""));"string"==typeof e&&(e=n[e]||
m(e));if(f)for(;k<u;++k)e.call(f,b[k],k,b);else for(;k<u;++k)e(b[k],k,b)},map:function(b,e,f,k){var u=0,v=b&&b.length||0;k=new (k||Array)(v);v&&"string"==typeof b&&(b=b.split(""));"string"==typeof e&&(e=n[e]||m(e));if(f)for(;u<v;++u)k[u]=e.call(f,b[u],u,b);else for(;u<v;++u)k[u]=e(b[u],u,b);return k},filter:function(b,e,f){var k=0,u=b&&b.length||0,v=[];u&&"string"==typeof b&&(b=b.split(""));"string"==typeof e&&(e=n[e]||m(e));if(f)for(;k<u;++k){var g=b[k];e.call(f,g,k,b)&&v.push(g)}else for(;k<u;++k)g=
b[k],e(g,k,b)&&v.push(g);return v},clearCache:function(){n={}}};a.mixin(G,c);return c})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(G,A,a,m,p){var t=0,n=[],h=0;A=function(){t=1;G._postLoad=G.config.afterOnLoad=!0;c()};var c=function(){if(!h){for(h=1;t&&(!m||0==m._Q.length)&&(a.idle?a.idle():1)&&n.length;){var f=n.shift();try{f()}catch(k){if(k.info=k.message,a.signal)a.signal("error",k);else throw k;}}h=0}};a.on&&a.on("idle",c);m&&(m._onQEmpty=
c);var b=G.ready=G.addOnLoad=function(f,k,u){var v=p._toArray(arguments);"number"!=typeof f?(u=k,k=f,f=1E3):v.shift();u=u?p.hitch.apply(G,v):function(){k()};u.priority=f;for(v=0;v<n.length&&f>=n[v].priority;v++);n.splice(v,0,u);c()},e=G.config.addOnLoad;if(e)b[p.isArray(e)?"apply":"call"](G,e);G.config.parseOnLoad&&!G.isAsync&&b(99,function(){G.parser||(G.deprecated("Add explicit require(['dojo/parser']);","","2.0"),a(["dojo/parser"]))});m?m(A):A();return b})},"dojo/domReady":function(){define(["./global",
"./has"],function(G,A){function a(g){c.push(g);h&&m()}function m(){if(!b){for(b=!0;c.length;)try{c.shift()(p)}catch(g){console.error(g,"in domReady callback",g.stack)}b=!1;a._onQEmpty()}}var p=document,t={loaded:1,complete:1},n="string"!=typeof p.readyState,h=!!t[p.readyState],c=[],b;a.load=function(g,q,x){a(x)};a._Q=c;a._onQEmpty=function(){};n&&(p.readyState="loading");if(!h){var e=[],f=function(g){g=g||G.event;h||"readystatechange"==g.type&&!t[p.readyState]||(n&&(p.readyState="complete"),h=1,m())},
k=function(g,q){g.addEventListener(q,f,!1);c.push(function(){g.removeEventListener(q,f,!1)})};if(!A("dom-addeventlistener")){k=function(g,q){q="on"+q;g.attachEvent(q,f);c.push(function(){g.detachEvent(q,f)})};var u=p.createElement("div");try{u.doScroll&&null===G.frameElement&&e.push(function(){try{return u.doScroll("left"),1}catch(g){}})}catch(g){}}k(p,"DOMContentLoaded");k(G,"load");"onreadystatechange"in p?k(p,"readystatechange"):n||e.push(function(){return t[p.readyState]});if(e.length){var v=
function(){if(!h){for(var g=e.length;g--;)if(e[g]()){f("poller");return}setTimeout(v,30)}};v()}}return a})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(G,A,a){function m(H,E){throw Error("declare"+(E?" "+E:"")+": "+H);}function p(H,E){for(var I=[],J=[{cls:0,refs:[]}],K={},L=1,O=H.length,U=0,S,M,N,T,V;U<O;++U){(S=H[U])?"[object Function]"!=C.call(S)&&m("mixin #"+U+" is not a callable constructor.",E):m("mixin #"+U+" is unknown. Did you use dojo.require to pull it in?",
E);M=S._meta?S._meta.bases:[S];N=0;for(S=M.length-1;0<=S;--S)T=M[S].prototype,T.hasOwnProperty("declaredClass")||(T.declaredClass="uniqName_"+y++),T=T.declaredClass,K.hasOwnProperty(T)||(K[T]={count:0,refs:[],cls:M[S]},++L),T=K[T],N&&N!==T&&(T.refs.push(N),++N.count),N=T;++N.count;J[0].refs.push(N)}for(;J.length;){N=J.pop();I.push(N.cls);for(--L;V=N.refs,1==V.length;){N=V[0];if(!N||--N.count){N=0;break}I.push(N.cls);--L}if(N)for(U=0,O=V.length;U<O;++U)N=V[U],--N.count||J.push(N)}L&&m("can't build consistent linearization",
E);S=H[0];I[0]=S?S._meta&&S===I[I.length-S._meta.bases.length]?S._meta.bases.length:1:0;return I}function t(H,E,I,J){var K,L=this._inherited=this._inherited||{};if("string"===typeof H){var O=H;H=E;E=I;I=J}if("function"===typeof H){var U=H;H=E;E=I}else try{U=H.callee}catch(T){if(T instanceof TypeError)m("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw T;}(O=O||U.nom)||m("can't deduce a name to call inherited()",this.declaredClass);
I=J=0;var S=this.constructor._meta;J=S.bases;var M=L.p;if("constructor"!=O){if(L.c!==U){M=0;var N=J[0];S=N._meta;if(S.hidden[O]!==U){(K=S.chains)&&"string"==typeof K[O]&&m("calling chained method with inherited: "+O,this.declaredClass);do if(S=N._meta,K=N.prototype,S&&(K[O]===U&&K.hasOwnProperty(O)||S.hidden[O]===U))break;while(N=J[++M]);M=N?M:-1}}if(N=J[++M])if(K=N.prototype,N._meta&&K.hasOwnProperty(O))I=K[O];else{U=z[O];do if(K=N.prototype,(I=K[O])&&(N._meta?K.hasOwnProperty(O):I!==U))break;while(N=
J[++M])}I=N&&I||z[O]}else{if(L.c!==U&&(M=0,(S=J[0]._meta)&&S.ctor!==U)){for((K=S.chains)&&"manual"===K.constructor||m("calling chained constructor with inherited",this.declaredClass);(N=J[++M])&&(!(S=N._meta)||S.ctor!==U););M=N?M:-1}for(;(N=J[++M])&&!(I=(S=N._meta)?S.ctor:N););I=N&&I}L.c=I;L.p=M;if(I)return!0===E?I:I.apply(this,E||H)}function n(H,E,I){return"string"===typeof H?"function"===typeof E?this.__inherited(H,E,I,!0):this.__inherited(H,E,!0):"function"===typeof H?this.__inherited(H,E,!0):
this.__inherited(H,!0)}function h(H,E,I,J){var K=this.getInherited(H,E,I);if(K)return K.apply(this,J||I||E||H)}function c(H){for(var E=this.constructor._meta.bases,I=0,J=E.length;I<J;++I)if(E[I]===H)return!0;return this instanceof H}function b(H,E){for(var I in E)"constructor"!=I&&E.hasOwnProperty(I)&&(H[I]=E[I]);if(A("bug-for-in-skips-shadowed"))for(var J=a._extraNames,K=J.length;K;)I=J[--K],"constructor"!=I&&E.hasOwnProperty(I)&&(H[I]=E[I])}function e(H){w.safeMixin(this.prototype,H);return this}
function f(H,E){H instanceof Array||"function"===typeof H||(E=H,H=void 0);E=E||{};H=H||[];return w([this].concat(H),E)}function k(H,E){return function(){var I=arguments,J=I,K=I[0],L;var O=H.length;if(!(this instanceof I.callee))return x(I);if(E&&(K&&K.preamble||this.preamble)){var U=Array(H.length);U[0]=I;for(L=0;;){(K=I[0])&&(K=K.preamble)&&(I=K.apply(this,I)||I);K=H[L].prototype;(K=K.hasOwnProperty("preamble")&&K.preamble)&&(I=K.apply(this,I)||I);if(++L==O)break;U[L]=I}}for(L=O-1;0<=L;--L)K=H[L],
(K=(O=K._meta)?O.ctor:K)&&K.apply(this,U?U[L]:I);(K=this.postscript)&&K.apply(this,J)}}function u(H,E){return function(){var I=arguments,J=I,K=I[0];if(!(this instanceof I.callee))return x(I);E&&(K&&(K=K.preamble)&&(J=K.apply(this,J)||J),(K=this.preamble)&&K.apply(this,J));H&&H.apply(this,I);(K=this.postscript)&&K.apply(this,I)}}function v(H){return function(){var E=arguments,I=0,J,K;if(!(this instanceof E.callee))return x(E);for(;J=H[I];++I)if(J=(K=J._meta)?K.ctor:J){J.apply(this,E);break}(J=this.postscript)&&
J.apply(this,E)}}function g(H,E,I){return function(){var J,K=0,L=1;I&&(K=E.length-1,L=-1);for(;J=E[K];K+=L){var O=J._meta;(J=(O?O.hidden:J.prototype)[H])&&J.apply(this,arguments)}}}function q(H){D.prototype=H.prototype;H=new D;D.prototype=null;return H}function x(H){var E=H.callee,I=q(E);E.apply(I,H);return I}function w(H,E,I){"string"!=typeof H&&(I=E,E=H,H="");I=I||{};var J,K,L,O=1,U=E;if("[object Array]"==C.call(E)){var S=p(E,H);var M=S[0];O=S.length-M;E=S[O]}else S=[0],E?"[object Function]"==C.call(E)?
(M=E._meta,S=S.concat(M?M.bases:E)):m("base class is not a callable constructor.",H):null!==E&&m("unknown base class. Did you use dojo.require to pull it in?",H);if(E)for(J=O-1;;--J){var N=q(E);if(!J)break;M=S[J];(M._meta?b:B)(N,M.prototype);var T=A("csp-restrictions")?function(){}:new Function;T.superclass=E;T.prototype=N;E=N.constructor=T}else N={};w.safeMixin(N,I);M=I.constructor;M!==z.constructor&&(M.nom="constructor",N.constructor=M);for(J=O-1;J;--J)(M=S[J]._meta)&&M.chains&&(L=B(L||{},M.chains));
N["-chains-"]&&(L=B(L||{},N["-chains-"]));E&&E.prototype&&E.prototype["-chains-"]&&(L=B(L||{},E.prototype["-chains-"]));M=!L||!L.hasOwnProperty("constructor");S[0]=T=L&&"manual"===L.constructor?v(S):1==S.length?u(I.constructor,M):k(S,M);T._meta={bases:S,hidden:I,chains:L,parents:U,ctor:I.constructor};T.superclass=E&&E.prototype;T.extend=e;T.createSubclass=f;T.prototype=N;N.constructor=T;N.getInherited=n;N.isInstanceOf=c;N.inherited=F;N.__inherited=t;H&&(N.declaredClass=H,a.setObject(H,T));if(L)for(K in L)N[K]&&
"string"==typeof L[K]&&"constructor"!=K&&(M=N[K]=g(K,S,"after"===L[K]),M.nom=K);return T}var B=a.mixin,z=Object.prototype,C=z.toString,y=0;var D=A("csp-restrictions")?function(){}:new Function;var F=G.config.isDebug?h:t;G.safeMixin=w.safeMixin=function(H,E){for(L in E){var I=E[L];I===z[L]&&L in z||"constructor"==L||("[object Function]"==C.call(I)&&(I.nom=L),H[L]=I)}if(A("bug-for-in-skips-shadowed")&&E)for(var J=a._extraNames,K=J.length;K;){var L=J[--K];I=E[L];I===z[L]&&L in z||"constructor"==L||("[object Function]"==
C.call(I)&&(I.nom=L),H[L]=I)}return H};return G.declare=w})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(G,A,a,m,p,t,n,h){function c(g,q,x,w,B){w=h.hitch(x,w);if(!g||!g.addEventListener&&!g.attachEvent)return m.after(g||G.global,q,w,!0);"string"==typeof q&&"on"==q.substring(0,2)&&(q=q.substring(2));g||(g=G.global);if(!B)switch(q){case "keypress":q=u;break;case "mouseenter":q=t.enter;break;case "mouseleave":q=
t.leave}return A(g,q,w,B)}function b(g){g.keyChar=g.charCode?String.fromCharCode(g.charCode):"";g.charOrCode=g.keyChar||g.keyCode}n.add("events-keypress-typed",function(){var g={charCode:0};try{g=document.createEvent("KeyboardEvent"),(g.initKeyboardEvent||g.initKeyEvent).call(g,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(q){}return 0==g.charCode&&!n("opera")});var e={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},f=n("mac")?"metaKey":"ctrlKey",
k=function(g,q){q=h.mixin({},g,q);b(q);q.preventDefault=function(){g.preventDefault()};q.stopPropagation=function(){g.stopPropagation()};return q};var u=n("events-keypress-typed")?function(g,q){var x=A(g,"keydown",function(B){var z=B.keyCode,C=13!=z&&32!=z&&(27!=z||!n("ie"))&&(48>z||90<z)&&(96>z||111<z)&&(186>z||192<z)&&(219>z||222<z)&&229!=z;if(C||B.ctrlKey){C=C?0:z;if(B.ctrlKey){if(3==z||13==z)return q.call(B.currentTarget,B);C=95<C&&106>C?C-48:!B.shiftKey&&65<=C&&90>=C?C+32:e[C]||C}z=k(B,{type:"keypress",
faux:!0,charCode:C});q.call(B.currentTarget,z);if(n("ie"))try{B.keyCode=z.keyCode}catch(y){}}}),w=A(g,"keypress",function(B){var z=B.charCode;B=k(B,{charCode:32<=z?z:0,faux:!0});return q.call(this,B)});return{remove:function(){x.remove();w.remove()}}}:n("opera")?function(g,q){return A(g,"keypress",function(x){var w=x.which;3==w&&(w=99);w=32>w&&!x.shiftKey?0:w;x.ctrlKey&&!x.shiftKey&&65<=w&&90>=w&&(w+=32);return q.call(this,k(x,{charCode:w}))})}:function(g,q){return A(g,"keypress",function(x){b(x);
return q.call(this,x)})};var v={_keypress:u,connect:function(g,q,x,w,B){var z=arguments,C=[],y=0;C.push("string"==typeof z[0]?null:z[y++],z[y++]);var D=z[y+1];C.push("string"==typeof D||"function"==typeof D?z[y++]:null,z[y++]);for(D=z.length;y<D;y++)C.push(z[y]);return c.apply(this,C)},disconnect:function(g){g&&g.remove()},subscribe:function(g,q,x){return a.subscribe(g,h.hitch(q,x))},publish:function(g,q){return a.publish.apply(a,[g].concat(q))},connectPublisher:function(g,q,x){var w=function(){v.publish(g,
arguments)};return x?v.connect(q,x,w):v.connect(q,w)},isCopyKey:function(g){return g[f]}};v.unsubscribe=v.disconnect;h.mixin(G,v);return v})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(G,A,a){function m(D,F,H,E,I){if(E=F.match(/(.*):(.*)/))return F=E[2],E=E[1],h.selector(E,F).call(I,D,H);a("touch")&&(c.test(F)&&(H=y(H)),a("event-orientationchange")||"orientationchange"!=F||(F="resize",D=window,H=y(H)));u&&(H=u(H));if(D.addEventListener){var J=
F in f,K=J?f[F]:F;D.addEventListener(K,H,J);return{remove:function(){D.removeEventListener(K,H,J)}}}if(x&&D.attachEvent)return x(D,"on"+F,H);throw Error("Target must be an event emitter");}function p(){this.cancelable=!1;this.defaultPrevented=!0}function t(){this.bubbles=!1}var n=window.ScriptEngineMajorVersion;a.add("jscript",n&&n()+ScriptEngineMinorVersion()/10);a.add("event-orientationchange",a("touch")&&!a("android"));a.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&
!!window.Event.prototype.stopImmediatePropagation);a.add("event-focusin",function(D,F,H){return"onfocusin"in H});a("touch")&&a.add("touch-can-modify-event-delegate",function(){var D=function(){};D.prototype=document.createEvent("MouseEvents");try{var F=new D;F.target=null;return null===F.target}catch(H){return!1}});var h=function(D,F,H,E){return"function"!=typeof D.on||"function"==typeof F||D.nodeType?h.parse(D,F,H,m,E,this):D.on(F,H)};h.pausable=function(D,F,H,E){var I;D=h(D,F,function(){if(!I)return H.apply(this,
arguments)},E);D.pause=function(){I=!0};D.resume=function(){I=!1};return D};h.once=function(D,F,H,E){var I=h(D,F,function(){I.remove();return H.apply(this,arguments)});return I};h.parse=function(D,F,H,E,I,J){var K;if(F.call)return F.call(J,D,H);F instanceof Array?K=F:-1<F.indexOf(",")&&(K=F.split(/\s*,\s*/));if(K){var L=[];F=0;for(var O;O=K[F++];)L.push(h.parse(D,O,H,E,I,J));L.remove=function(){for(var U=0;U<L.length;U++)L[U].remove()};return L}return E(D,F,H,I,J)};var c=/^touch/;h.matches=function(D,
F,H,E,I){I=I&&"function"==typeof I.matches?I:A.query;E=!1!==E;1!=D.nodeType&&(D=D.parentNode);for(;!I.matches(D,F,H);)if(D==H||!1===E||!(D=D.parentNode)||1!=D.nodeType)return!1;return D};h.selector=function(D,F,H){return function(E,I){function J(O){return h.matches(O,D,E,H,K)}var K="function"==typeof D?{matches:D}:this,L=F.bubble;return L?h(E,L(J),I):h(E,F,function(O){var U=J(O.target);if(U)return O.selectorTarget=U,I.call(U,O)})}};var b=[].slice,e=h.emit=function(D,F,H){var E=b.call(arguments,2),
I="on"+F;if("parentNode"in D){var J=E[0]={},K;for(K in H)J[K]=H[K];J.preventDefault=p;J.stopPropagation=t;J.target=D;J.type=F;H=J}do D[I]&&D[I].apply(D,E);while(H&&H.bubbles&&(D=D.parentNode));return H&&H.cancelable&&H},f=a("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!a("event-stopimmediatepropagation"))var k=function(){this.modified=this.immediatelyStopped=!0},u=function(D){return function(F){if(!F.immediatelyStopped)return F.stopImmediatePropagation=k,D.apply(this,arguments)}};if(a("dom-addeventlistener"))h.emit=
function(D,F,H){if(D.dispatchEvent&&document.createEvent){var E=(D.ownerDocument||document).createEvent("HTMLEvents");E.initEvent(F,!!H.bubbles,!!H.cancelable);for(var I in H)I in E||(E[I]=H[I]);return D.dispatchEvent(E)&&E}return e.apply(h,arguments)};else{h._fixEvent=function(D,F){D||(D=(F&&(F.ownerDocument||F.document||F).parentWindow||window).event);if(!D)return D;try{v&&D.type==v.type&&D.srcElement==v.target&&(D=v)}catch(H){}if(!D.target)switch(D.target=D.srcElement,D.currentTarget=F||D.srcElement,
"mouseover"==D.type&&(D.relatedTarget=D.fromElement),"mouseout"==D.type&&(D.relatedTarget=D.toElement),D.stopPropagation||(D.stopPropagation=w,D.preventDefault=B),D.type){case "keypress":F="charCode"in D?D.charCode:D.keyCode,10==F?(F=0,D.keyCode=13):13==F||27==F?F=0:3==F&&(F=99),D.charCode=F,F=D,F.keyChar=F.charCode?String.fromCharCode(F.charCode):"",F.charOrCode=F.keyChar||F.keyCode}return D};var v,g=function(D){this.handle=D};g.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var q=function(D){return function(F){F=h._fixEvent(F,this);var H=D.call(this,F);F.modified&&(v||setTimeout(function(){v=null}),v=F);return H}},x=function(D,F,H){H=q(H);if(((D.ownerDocument?D.ownerDocument.parentWindow:D.parentWindow||D.window||window)!=top||5.8>a("jscript"))&&!a("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var E=D[F];if(!E||!E.listeners){var I=E;E=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
E.listeners=[];D[F]=E;E.global=this;I&&E.listeners.push(_dojoIEListeners_.push(I)-1)}E.listeners.push(D=E.global._dojoIEListeners_.push(H)-1);return new g(D)}return G.after(D,F,H,!0)},w=function(){this.cancelBubble=!0},B=h._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(D){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(a("touch"))var z=function(){},C=window.orientation,y=function(D){return function(F){var H=F.corrected;if(!H){var E=
F.type;try{delete F.type}catch(K){}if(F.type){if(a("touch-can-modify-event-delegate"))z.prototype=F,H=new z;else{H={};for(var I in F)H[I]=F[I]}H.preventDefault=function(){F.preventDefault()};H.stopPropagation=function(){F.stopPropagation()}}else H=F,H.type=E;F.corrected=H;if("resize"==E){if(C==window.orientation)return null;C=window.orientation;H.type="orientationchange";return D.call(this,H)}"rotation"in H||(H.rotation=0,H.scale=1);if(window.TouchEvent&&F instanceof TouchEvent){E=H.changedTouches[0];
for(var J in E)delete H[J],H[J]=E[J]}}return D.call(this,H)}};return h})},"dojo/topic":function(){define(["./Evented"],function(G){var A=new G;return{publish:function(a,m){return A.emit.apply(A,arguments)},subscribe:function(a,m){return A.on.apply(A,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(G,A){function a(){}var m=G.after;a.prototype={on:function(p,t){return A.parse(this,p,t,function(n,h){return m(n,"on"+h,t,!0)})},emit:function(p,t){var n=[this];n.push.apply(n,
arguments);return A.emit.apply(A,n)}};return a})},"dojo/aspect":function(){define([],function(){function G(n,h,c,b){var e=n[h],f="around"==h;if(f){var k=c(function(){return e.advice(this,arguments)});var u={remove:function(){k&&(k=n=c=null)},advice:function(v,g){return k?k.apply(v,g):e.advice(v,g)}}}else u={remove:function(){if(u.advice){var v=u.previous,g=u.next;g||v?(v?v.next=g:n[h]=g,g&&(g.previous=v)):delete n[h];n=c=u.advice=null}},id:n.nextId++,advice:c,receiveArguments:b};if(e&&!f)if("after"==
h){for(;e.next&&(e=e.next););e.next=u;u.previous=e}else"before"==h&&(n[h]=u,u.next=e,e.previous=u);else n[h]=u;return u}function A(n){return function(h,c,b,e){var f=h[c],k;f&&f.target==h||(h[c]=k=function(){for(var u=k.nextId,v=arguments,g=k.before;g;)g.advice&&(v=g.advice.apply(this,v)||v),g=g.next;if(k.around)var q=k.around.advice(this,v);for(g=k.after;g&&g.id<u;){if(g.advice)if(g.receiveArguments){var x=g.advice.apply(this,v);q=x===a?q:x}else q=g.advice.call(this,q,v);g=g.next}return q},f&&(k.around=
{advice:function(u,v){return f.apply(u,v)}}),k.target=h,k.nextId=k.nextId||0);h=G(k||f,n,b,e);b=null;return h}}var a,m=A("after"),p=A("before"),t=A("around");return{before:p,around:t,after:m}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(G,A,a,m){if(A._fixEvent){var p=A._fixEvent;A._fixEvent=function(n,h){(n=p(n,h))&&m.normalizeEvent(n);return n}}var t={fix:function(n,h){return A._fixEvent?A._fixEvent(n,h):n},stop:function(n){a("dom-addeventlistener")||
n&&n.preventDefault?(n.preventDefault(),n.stopPropagation()):(n=n||window.event,n.cancelBubble=!0,A._preventDefault.call(n))}};G.fixEvent=t.fix;G.stopEvent=t.stop;return t})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(G,A,a,m){function p(e,f,k,u,v,g){g=g||"px";e=e.style;isNaN(f)||(e.left=f+g);isNaN(k)||(e.top=k+g);0<=u&&(e.width=u+g);0<=v&&(e.height=v+g)}function t(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&
"button"==(e.getAttribute("type")||"").toLowerCase()}function n(e){return"border-box"==c.boxModel||"table"==e.tagName.toLowerCase()||t(e)}function h(e){var f={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0};try{var k=e.getBoundingClientRect()}catch(u){return f}return"undefined"===typeof k.left?f:k}var c={boxModel:"content-box"};G("ie")&&(c.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");c.getPadExtents=function(e,f){e=a.byId(e);var k=f||m.getComputedStyle(e),u=m.toPixelValue;
f=u(e,k.paddingLeft);var v=u(e,k.paddingTop),g=u(e,k.paddingRight);e=u(e,k.paddingBottom);return{l:f,t:v,r:g,b:e,w:f+g,h:v+e}};c.getBorderExtents=function(e,f){e=a.byId(e);var k=m.toPixelValue,u=f||m.getComputedStyle(e);f="none"!=u.borderLeftStyle?k(e,u.borderLeftWidth):0;var v="none"!=u.borderTopStyle?k(e,u.borderTopWidth):0,g="none"!=u.borderRightStyle?k(e,u.borderRightWidth):0;e="none"!=u.borderBottomStyle?k(e,u.borderBottomWidth):0;return{l:f,t:v,r:g,b:e,w:f+g,h:v+e}};c.getPadBorderExtents=function(e,
f){e=a.byId(e);var k=f||m.getComputedStyle(e);f=c.getPadExtents(e,k);e=c.getBorderExtents(e,k);return{l:f.l+e.l,t:f.t+e.t,r:f.r+e.r,b:f.b+e.b,w:f.w+e.w,h:f.h+e.h}};c.getMarginExtents=function(e,f){e=a.byId(e);var k=f||m.getComputedStyle(e),u=m.toPixelValue;f=u(e,k.marginLeft);var v=u(e,k.marginTop),g=u(e,k.marginRight);e=u(e,k.marginBottom);return{l:f,t:v,r:g,b:e,w:f+g,h:v+e}};c.getMarginBox=function(e,f){e=a.byId(e);f=f||m.getComputedStyle(e);f=c.getMarginExtents(e,f);var k=e.offsetLeft-f.l,u=e.offsetTop-
f.t,v=e.parentNode,g=m.toPixelValue;8==G("ie")&&!G("quirks")&&v&&(v=m.getComputedStyle(v),k-="none"!=v.borderLeftStyle?g(e,v.borderLeftWidth):0,u-="none"!=v.borderTopStyle?g(e,v.borderTopWidth):0);return{l:k,t:u,w:e.offsetWidth+f.w,h:e.offsetHeight+f.h}};c.getContentBox=function(e,f){e=a.byId(e);var k=f||m.getComputedStyle(e);f=e.clientWidth;var u=c.getPadExtents(e,k);var v=c.getBorderExtents(e,k);k=e.offsetLeft+u.l+v.l;var g=e.offsetTop+u.t+v.t;f?v=e.clientHeight:(f=e.offsetWidth-v.w,v=e.offsetHeight-
v.h);if(8==G("ie")&&!G("quirks")){var q=e.parentNode,x=m.toPixelValue;q&&(q=m.getComputedStyle(q),k-="none"!=q.borderLeftStyle?x(e,q.borderLeftWidth):0,g-="none"!=q.borderTopStyle?x(e,q.borderTopWidth):0)}return{l:k,t:g,w:f-u.w,h:v-u.h}};c.setContentSize=function(e,f,k){e=a.byId(e);var u=f.w;f=f.h;n(e)&&(k=c.getPadBorderExtents(e,k),0<=u&&(u+=k.w),0<=f&&(f+=k.h));p(e,NaN,NaN,u,f)};var b={l:0,t:0,w:0,h:0};c.setMarginBox=function(e,f,k){e=a.byId(e);var u=k||m.getComputedStyle(e);k=f.w;var v=f.h,g=n(e)?
b:c.getPadBorderExtents(e,u);u=c.getMarginExtents(e,u);if(G("webkit")&&t(e)){var q=e.style;0<=k&&!q.width&&(q.width="4px");0<=v&&!q.height&&(q.height="4px")}0<=k&&(k=Math.max(k-g.w-u.w,0));0<=v&&(v=Math.max(v-g.h-u.h,0));p(e,f.l,f.t,k,v)};c.isBodyLtr=function(e){e=e||A.doc;return"ltr"==(A.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()};c.docScroll=function(e){e=e||A.doc;var f=e.parentWindow||e.defaultView;return"pageXOffset"in f?{x:f.pageXOffset,y:f.pageYOffset}:(f=G("quirks")?A.body(e):
e.documentElement)&&{x:c.fixIeBiDiScrollLeft(f.scrollLeft||0,e),y:f.scrollTop||0}};c.getIeDocumentElementOffset=function(e){return{x:0,y:0}};c.fixIeBiDiScrollLeft=function(e,f){f=f||A.doc;var k=G("ie");if(k&&!c.isBodyLtr(f)){var u=G("quirks");f=u?A.body(f):f.documentElement;var v=A.global;6==k&&!u&&v.frameElement&&f.scrollHeight>f.clientHeight&&(e+=f.clientLeft);return 8>k||u?e+f.clientWidth-f.scrollWidth:-e}return e};c.position=function(e,f){e=a.byId(e);var k=A.body(e.ownerDocument),u=h(e);u={x:u.left,
y:u.top,w:u.right-u.left,h:u.bottom-u.top};9>G("ie")&&(u.x-=G("quirks")?k.clientLeft+k.offsetLeft:0,u.y-=G("quirks")?k.clientTop+k.offsetTop:0);f&&(e=c.docScroll(e.ownerDocument),u.x+=e.x,u.y+=e.y);return u};c.getMarginSize=function(e,f){e=a.byId(e);f=c.getMarginExtents(e,f||m.getComputedStyle(e));e=h(e);return{w:e.right-e.left+f.w,h:e.bottom-e.top+f.h}};c.normalizeEvent=function(e){"layerX"in e||(e.layerX=e.offsetX,e.layerY=e.offsetY);if(!("pageX"in e)){var f=e.target;f=f&&f.ownerDocument||document;
var k=G("quirks")?f.body:f.documentElement;e.pageX=e.clientX+c.fixIeBiDiScrollLeft(k.scrollLeft||0,f);e.pageY=e.clientY+(k.scrollTop||0)}};return c})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(G,A,a){var m={global:G.global,doc:G.global.document||null,body:function(p){p=p||G.doc;return p.body||p.getElementsByTagName("body")[0]},setContext:function(p,t){G.global=m.global=p;G.doc=m.doc=t},withGlobal:function(p,t,n,h){var c=G.global;try{return G.global=m.global=p,
m.withDoc.call(null,p.document,t,n,h)}finally{G.global=m.global=c}},withDoc:function(p,t,n,h){var c=m.doc,b=a("quirks"),e=a("ie"),f,k;try{G.doc=m.doc=p;G.isQuirks=a.add("quirks","BackCompat"==G.doc.compatMode,!0,!0);if(a("ie")&&(k=p.parentWindow)&&k.navigator){var u=parseFloat(k.navigator.appVersion.split("MSIE ")[1])||void 0;(f=p.documentMode)&&5!=f&&Math.floor(u)!=f&&(u=f);G.isIE=a.add("ie",u,!0,!0)}n&&"string"==typeof t&&(t=n[t]);return t.apply(n,h||[])}finally{G.doc=m.doc=c,G.isQuirks=a.add("quirks",
b,!0,!0),G.isIE=a.add("ie",e,!0,!0)}}};A.mixin(G,m);return m})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(G,A,a){if(7>=G("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}var m={};G("ie")?m.byId=function(t,n){if("string"!=typeof t)return t||null;var h=n||A.doc;n=t&&h.getElementById(t);if(!n||n.attributes.id.value!=t&&n.id!=t){h=h.all[t];if(!h||h.nodeName)h=[h];for(var c=0;n=h[c++];)if(n.attributes&&n.attributes.id&&n.attributes.id.value==
t||n.id==t)return n}else return n;return null}:m.byId=function(t,n){return("string"==typeof t?(n||A.doc).getElementById(t):t)||null};a=a.global.document||null;G.add("dom-contains",!(!a||!a.contains));m.isDescendant=G("dom-contains")?function(t,n){return!(!(n=m.byId(n))||!n.contains(m.byId(t)))}:function(t,n){try{for(t=m.byId(t),n=m.byId(n);t;){if(t==n)return!0;t=t.parentNode}}catch(h){}return!1};G.add("css-user-select",function(t,n,h){if(!h)return!1;t=h.style;n=["Khtml","O","Moz","Webkit"];h=n.length;
var c="userSelect";do if("undefined"!==typeof t[c])return c;while(h--&&(c=n[h]+"UserSelect"));return!1});var p=G("css-user-select");m.setSelectable=p?function(t,n){m.byId(t).style[p]=n?"":"none"}:function(t,n){t=m.byId(t);var h=t.getElementsByTagName("*"),c=h.length;if(n)for(t.removeAttribute("unselectable");c--;)h[c].removeAttribute("unselectable");else for(t.setAttribute("unselectable","on");c--;)h[c].setAttribute("unselectable","on")};return m})},"dojo/dom-style":function(){define(["./sniff","./dom",
"./_base/window"],function(G,A,a){function m(u,v,g){v=v.toLowerCase();if("auto"==g){if("height"==v)return u.offsetHeight;if("width"==v)return u.offsetWidth}if("fontweight"==v)switch(g){case 700:return"bold";default:return"normal"}v in e||(e[v]=f.test(v));return e[v]?n(u,g):g}var p={};var t=G("webkit")?function(u){if(1==u.nodeType){var v=u.ownerDocument.defaultView;var g=v.getComputedStyle(u,null);!g&&u.style&&(u.style.display="",g=v.getComputedStyle(u,null))}return g||{}}:G("ie")&&(9>G("ie")||G("quirks"))?
function(u){return 1==u.nodeType&&u.currentStyle?u.currentStyle:{}}:function(u){if(1===u.nodeType){var v=u.ownerDocument.defaultView;return(v.opener?v:a.global.window).getComputedStyle(u,null)}return{}};p.getComputedStyle=t;var n=G("ie")?function(u,v){if(!v)return 0;if("medium"==v)return 4;if(v.slice&&"px"==v.slice(-2))return parseFloat(v);var g=u.style,q=u.runtimeStyle,x=g.left,w=q.left;q.left=u.currentStyle.left;try{g.left=v,v=g.pixelLeft}catch(B){v=0}g.left=x;q.left=w;return v}:function(u,v){return parseFloat(v)||
0};p.toPixelValue=n;var h=function(u,v){try{return u.filters.item("DXImageTransform.Microsoft.Alpha")}catch(g){return v?{}:null}},c=9>G("ie")||10>G("ie")&&G("quirks")?function(u){try{return h(u).Opacity/100}catch(v){return 1}}:function(u){return t(u).opacity},b=9>G("ie")||10>G("ie")&&G("quirks")?function(u,v){""===v&&(v=1);var g=100*v;1===v?(u.style.zoom="",h(u)&&(u.style.filter=u.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(u.style.zoom=1,h(u)?h(u,1).Opacity=
g:u.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+g+")",h(u,1).Enabled=!0);if("tr"==u.tagName.toLowerCase())for(u=u.firstChild;u;u=u.nextSibling)"td"==u.tagName.toLowerCase()&&b(u,v);return v}:function(u,v){return u.style.opacity=v},e={left:!0,top:!0},f=/margin|padding|width|height|max|min|offset/,k={cssFloat:1,styleFloat:1,"float":1};p.get=function(u,v){var g=A.byId(u),q=arguments.length;if(2==q&&"opacity"==v)return c(g);v=k[v]?"cssFloat"in g.style?"cssFloat":"styleFloat":
v;var x=p.getComputedStyle(g);return 1==q?x:m(g,v,x[v]||g.style[v])};p.set=function(u,v,g){var q=A.byId(u),x=arguments.length,w="opacity"==v;v=k[v]?"cssFloat"in q.style?"cssFloat":"styleFloat":v;if(3==x)return w?b(q,g):q.style[v]=g;for(var B in v)p.set(u,B,v[B]);return p.getComputedStyle(q)};return p})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(G,A,a,m,p){function t(n,h){var c=function(b,e){return A(b,n,function(f){if(h)return h(f,e);if(!m.isDescendant(f.relatedTarget,
b))return e.call(this,f)})};c.bubble=function(b){return t(n,function(e,f){var k=b(e.target),u=e.relatedTarget;if(k&&k!=(u&&1==u.nodeType&&b(u)))return f.call(k,e)})};return c}a.add("dom-quirks",p.doc&&"BackCompat"==p.doc.compatMode);a.add("events-mouseenter",p.doc&&"onmouseenter"in p.doc.createElement("div"));a.add("events-mousewheel",p.doc&&"onmousewheel"in p.doc);p=a("dom-quirks")&&a("ie")||!a("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(n,h){return n.button&h},isLeft:function(n){return n.button&
1},isMiddle:function(n){return n.button&4},isRight:function(n){return n.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(n,h){return n.button==h},isLeft:function(n){return 0==n.button},isMiddle:function(n){return 1==n.button},isRight:function(n){return 2==n.button}};G.mouseButtons=p;G=a("events-mousewheel")?"mousewheel":function(n,h){return A(n,"DOMMouseScroll",function(c){c.wheelDelta=-c.detail;h.call(this,c)})};return{_eventHandler:t,enter:t("mouseover"),leave:t("mouseout"),wheel:G,isLeft:p.isLeft,
isMiddle:p.isMiddle,isRight:p.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(G,A,a){G._name="browser";A.mixin(G,{isBrowser:!0,isFF:a("ff"),isIE:a("ie"),isKhtml:a("khtml"),isWebKit:a("webkit"),isMozilla:a("mozilla"),isMoz:a("mozilla"),isOpera:a("opera"),isSafari:a("safari"),isChrome:a("chrome"),isMac:a("mac"),isIos:a("ios"),isAndroid:a("android"),isWii:a("wii"),isQuirks:a("quirks"),isAir:a("air")});return a})},"dojo/keys":function(){define(["./_base/kernel",
"./sniff"],function(G,A){return G.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:A("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,
NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:A("mac")&&!A("air")?A("safari")?91:224:17}})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(G,A,a,m,p,t,n){var h=function(){},c=Object.freeze||function(){},
b=G.Deferred=function(e){function f(y){if(v)throw Error("This deferred has already been resolved");u=y;v=!0;k()}function k(){for(var y;!y&&B;){var D=B;B=B.next;if(y=D.progress==h)v=!1;var F=x?D.error:D.resolved;p("config-useDeferredInstrumentation")&&x&&A.instrumentRejected&&A.instrumentRejected(u,!!F);if(F)try{var H=F(u);H&&"function"===typeof H.then?H.then(t.hitch(D.deferred,"resolve"),t.hitch(D.deferred,"reject"),t.hitch(D.deferred,"progress")):(F=y&&void 0===H,y&&!F&&(x=H instanceof Error),D.deferred[F&&
x?"reject":"resolve"](F?u:H))}catch(E){D.deferred.reject(E)}else x?D.deferred.reject(u):D.deferred.resolve(u)}}var u,v,g,q,x,w,B,z=this.promise=new a;this.isResolved=z.isResolved=function(){return 0==q};this.isRejected=z.isRejected=function(){return 1==q};this.isFulfilled=z.isFulfilled=function(){return 0<=q};this.isCanceled=z.isCanceled=function(){return g};this.resolve=this.callback=function(y){this.fired=q=0;this.results=[y,null];f(y)};this.reject=this.errback=function(y){x=!0;this.fired=q=1;p("config-useDeferredInstrumentation")&&
A.instrumentRejected&&A.instrumentRejected(y,!!B);f(y);this.results=[null,y]};this.progress=function(y){for(var D=B;D;){var F=D.progress;F&&F(y);D=D.next}};this.addCallbacks=function(y,D){this.then(y,D,h);return this};z.then=this.then=function(y,D,F){var H=F==h?this:new b(z.cancel);y={resolved:y,error:D,progress:F,deferred:H};B?w=w.next=y:B=w=y;v&&k();return H.promise};var C=this;z.cancel=this.cancel=function(){if(!v){var y=e&&e(C);v||(y instanceof Error||(y=new m(y)),y.log=!1,C.reject(y))}g=!0};
c(z)};t.extend(b,{addCallback:function(e){return this.addCallbacks(t.hitch.apply(G,arguments))},addErrback:function(e){return this.addCallbacks(null,t.hitch.apply(G,arguments))},addBoth:function(e){var f=t.hitch.apply(G,arguments);return this.addCallbacks(f,f)},fired:-1});b.when=G.when=n;return b})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(G,A,a,m,p){var t=Object.freeze||function(){},n=function(f,k,u,
v,g){2===k&&e.instrumentRejected&&0===f.length&&e.instrumentRejected(u,!1,v,g);for(g=0;g<f.length;g++)h(f[g],k,u,v)},h=function(f,k,u,v){var g=f[k],q=f.deferred;if(g)try{var x=g(u);if(0===k)"undefined"!==typeof x&&b(q,k,x);else{if(x&&"function"===typeof x.then){f.cancel=x.cancel;x.then(c(q,1),c(q,2),c(q,0));return}b(q,1,x)}}catch(w){b(q,2,w)}else b(q,k,u);2===k&&e.instrumentRejected&&e.instrumentRejected(u,!!g,v,q.promise)},c=function(f,k){return function(u){b(f,k,u)}},b=function(f,k,u){if(!f.isCanceled())switch(k){case 0:f.progress(u);
break;case 1:f.resolve(u);break;case 2:f.reject(u)}},e=function(f){var k=this.promise=new m,u=this,v,g,q,x=!1,w=[];Error.captureStackTrace&&(Error.captureStackTrace(u,e),Error.captureStackTrace(k,e));this.isResolved=k.isResolved=function(){return 1===v};this.isRejected=k.isRejected=function(){return 2===v};this.isFulfilled=k.isFulfilled=function(){return!!v};this.isCanceled=k.isCanceled=function(){return x};this.progress=function(z,C){if(v){if(!0===C)throw Error("This deferred has already been fulfilled.");
return k}n(w,0,z,null,u);return k};this.resolve=function(z,C){if(v){if(!0===C)throw Error("This deferred has already been fulfilled.");return k}n(w,v=1,g=z,null,u);w=null;return k};var B=this.reject=function(z,C){if(v){if(!0===C)throw Error("This deferred has already been fulfilled.");return k}Error.captureStackTrace&&Error.captureStackTrace(q={},B);n(w,v=2,g=z,q,u);w=null;return k};this.then=k.then=function(z,C,y){var D=[y,z,C];D.cancel=k.cancel;D.deferred=new e(function(F){return D.cancel&&D.cancel(F)});
v&&!w?h(D,v,g,q):w.push(D);return D.deferred.promise};this.cancel=k.cancel=function(z,C){if(!v){f&&(C=f(z),z="undefined"===typeof C?z:C);x=!0;if(!v)return"undefined"===typeof z&&(z=new a),B(z),z;if(2===v&&g===z)return z}else if(!0===C)throw Error("This deferred has already been fulfilled.");};t(k)};e.prototype.toString=function(){return"[object Deferred]"};p&&p(e);return e})},"dojo/errors/CancelError":function(){define(["./create"],function(G){return G("CancelError",null,null,{dojoType:"cancel",log:!1})})},
"dojo/errors/create":function(){define(["../_base/lang"],function(G){return function(A,a,m,p){m=m||Error;var t=function(n){if(m===Error){Error.captureStackTrace&&Error.captureStackTrace(this,t);var h=Error.call(this,n),c;for(c in h)h.hasOwnProperty(c)&&(this[c]=h[c]);this.message=n;this.stack=h.stack}else m.apply(this,arguments);a&&a.apply(this,arguments)};t.prototype=G.delegate(m.prototype,p);t.prototype.name=A;return t.prototype.constructor=t}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(G){function A(){throw new TypeError("abstract");}return G.extend(function(){},{then:function(a,m,p){A()},cancel:function(a,m){A()},isResolved:function(){A()},isRejected:function(){A()},isFulfilled:function(){A()},isCanceled:function(){A()},"finally":function(a){return this.then(function(m){var p=a();return p&&"function"===typeof p.then?p.then(function(){return m}):m},function(m){var p=a();if(p&&"function"===typeof p.then)return p.then(function(){throw m;});throw m;})},always:function(a){return this.then(a,
a)},"catch":function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(G,A,a,m){function p(f,k,u){if(!f||!1!==f.log){var v="";f&&f.stack&&(v+=f.stack);k&&k.stack&&(v+="\n    ----------------------------------------\n    rejected"+k.stack.split("\n").slice(1).join("\n").replace(/^\s+/,
" "));u&&u.stack&&(v+="\n    ----------------------------------------\n"+u.stack);console.error(f,v)}}function t(f,k,u,v){k||p(f,u,v)}function n(f,k,u,v){m.some(c,function(g){if(g.error===f)return k&&(g.handled=!0),!0})||c.push({error:f,rejection:u,handled:k,deferred:v,timestamp:(new Date).getTime()});b||(b=setTimeout(h,e))}function h(){var f=(new Date).getTime(),k=f-e;c=m.filter(c,function(u){return u.timestamp<k?(u.handled||p(u.error,u.rejection,u.deferred),!1):!0});b=c.length?setTimeout(h,c[0].timestamp+
e-f):!1}A.add("config-useDeferredInstrumentation","report-unhandled-rejections");var c=[],b=!1,e=1E3;return function(f){var k=A("config-useDeferredInstrumentation");if(k){G.on("resolved",a.hitch(console,"log","resolved"));G.on("rejected",a.hitch(console,"log","rejected"));G.on("progress",a.hitch(console,"log","progress"));var u=[];"string"===typeof k&&(u=k.split(","),k=u.shift());if("report-rejections"===k)f.instrumentRejected=t;else if("report-unhandled-rejections"===k||!0===k||1===k)f.instrumentRejected=
n,e=parseInt(u[0],10)||e;else throw Error("Unsupported instrumentation usage \x3c"+k+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(G,A,a){function m(n){setTimeout(function(){t.apply(p,n)},0)}var p=new a,t=p.emit;p.emit=null;A.prototype.trace=function(){var n=G._toArray(arguments);this.then(function(h){m(["resolved",h].concat(n))},function(h){m(["rejected",h].concat(n))},function(h){m(["progress",h].concat(n))});return this};A.prototype.traceRejected=
function(){var n=G._toArray(arguments);this.otherwise(function(h){m(["rejected",h].concat(n))});return this};return p})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(G,A){return function(a,m,p,t){var n=a&&"function"===typeof a.then,h=n&&a instanceof A;if(!n)return 1<arguments.length?m?m(a):a:(new G).resolve(a);h||(n=new G(a.cancel),a.then(n.resolve,n.reject,n.progress),a=n.promise);return m||p||t?a.then(m,p,t):a}})},"dojo/_base/json":function(){define(["./kernel","../json"],
function(G,A){G.fromJson=function(a){return eval("("+a+")")};G._escapeString=A.stringify;G.toJsonIndentStr="\t";G.toJson=function(a,m){return A.stringify(a,function(p,t){return t&&(p=t.__json__||t.json,"function"==typeof p)?p.call(t):t},m&&G.toJsonIndentStr)};return G})},"dojo/json":function(){define(["./has"],function(G){var A="undefined"!=typeof JSON;G.add("json-parse",A);G.add("json-stringify",A&&'{"a":1}'==JSON.stringify({a:0},function(m,p){return p||1}));if(G("json-stringify"))return JSON;var a=
function(m){return('"'+m.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:G("json-parse")?JSON.parse:function(m,p){if(p&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(m))throw new SyntaxError("Invalid characters in JSON");return eval("("+m+")")},stringify:function(m,p,t){function n(c,b,e){p&&(c=p(e,c));var f=typeof c;if("number"==
f)return isFinite(c)?c+"":"null";if("boolean"==f)return c+"";if(null===c)return"null";if("string"==typeof c)return a(c);if("function"==f||"undefined"==f)return h;if("function"==typeof c.toJSON)return n(c.toJSON(e),b,e);if(c instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(x,w,B){x=c["getUTC"+w]()+(B?1:0);return 10>x?"0"+x:x});if(c.valueOf()!==c)return n(c.valueOf(),b,e);var k=t?b+t:"",u=t?" ":"",v=t?"\n":"";if(c instanceof Array){u=
c.length;var g=[];for(e=0;e<u;e++)f=n(c[e],k,e),"string"!=typeof f&&(f="null"),g.push(v+k+f);return"["+g.join(",")+v+b+"]"}g=[];for(e in c)if(c.hasOwnProperty(e)){if("number"==typeof e)var q='"'+e+'"';else if("string"==typeof e)q=a(e);else continue;f=n(c[e],k,e);"string"==typeof f&&g.push(v+k+q+":"+u+f)}return"{"+g.join(",")+v+b+"}"}var h;"string"==typeof p&&(t=p,p=null);return n(m,"","")}}})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(G,A,a,m){var p=
G.Color=function(t){t&&this.setColor(t)};p.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:m.transparentColor||[0,0,0,0]};A.extend(p,{r:255,g:255,b:255,a:1,_set:function(t,n,h,c){this.r=t;this.g=n;this.b=h;this.a=c},setColor:function(t){A.isString(t)?p.fromString(t,
this):A.isArray(t)?p.fromArray(t,this):(this._set(t.r,t.g,t.b,t.a),t instanceof p||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+a.map(["r","g","b"],function(t){t=this[t].toString(16);return 2>t.length?"0"+t:t},this).join("")},toCss:function(t){var n=this.r+", "+this.g+", "+this.b;return(t?"rgba("+n+", "+this.a:"rgb("+n)+")"},toString:function(){return this.toCss(!0)}});
p.blendColors=G.blendColors=function(t,n,h,c){c=c||new p;c.r=Math.round(t.r+(n.r-t.r)*h);c.g=Math.round(t.g+(n.g-t.g)*h);c.b=Math.round(t.b+(n.b-t.b)*h);c.a=t.a+(n.a-t.a)*h;return c.sanitize()};p.fromRgb=G.colorFromRgb=function(t,n){return(t=t.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&p.fromArray(t[1].split(/\s*,\s*/),n)};p.fromHex=G.colorFromHex=function(t,n){var h=n||new p,c=4==t.length?4:8,b=(1<<c)-1;t=Number("0x"+t.substr(1));if(isNaN(t))return null;a.forEach(["b","g","r"],function(e){var f=
t&b;t>>=c;h[e]=4==c?17*f:f});h.a=1;return h};p.fromArray=G.colorFromArray=function(t,n){n=n||new p;n._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3]));isNaN(n.a)&&(n.a=1);return n.sanitize()};p.fromString=G.colorFromString=function(t,n){var h=p.named[t];return h&&p.fromArray(h,n)||p.fromRgb(t,n)||p.fromHex(t,n)};return p})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),
function(G){return G})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(G,A,a){var m=window,p={addOnWindowUnload:function(t,n){G.windowUnloaded||a(m,"unload",G.windowUnloaded=function(){});a(m,"unload",A.hitch(t,n))},addOnUnload:function(t,n){a(m,"beforeunload",A.hitch(t,n))}};G.addOnWindowUnload=p.addOnWindowUnload;G.addOnUnload=p.addOnUnload;return p})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),
function(G,A,a,m,p,t,n,h){G.byId=A.byId;G.isDescendant=A.isDescendant;G.setSelectable=A.setSelectable;G.getAttr=m.get;G.setAttr=m.set;G.hasAttr=m.has;G.removeAttr=m.remove;G.getNodeProp=m.getNodeProp;G.attr=function(c,b,e){return 2==arguments.length?m["string"==typeof b?"get":"set"](c,b):m.set(c,b,e)};G.hasClass=t.contains;G.addClass=t.add;G.removeClass=t.remove;G.toggleClass=t.toggle;G.replaceClass=t.replace;G._toDom=G.toDom=n.toDom;G.place=n.place;G.create=n.create;G.empty=function(c){n.empty(c)};
G._destroyElement=G.destroy=function(c){n.destroy(c)};G._getPadExtents=G.getPadExtents=h.getPadExtents;G._getBorderExtents=G.getBorderExtents=h.getBorderExtents;G._getPadBorderExtents=G.getPadBorderExtents=h.getPadBorderExtents;G._getMarginExtents=G.getMarginExtents=h.getMarginExtents;G._getMarginSize=G.getMarginSize=h.getMarginSize;G._getMarginBox=G.getMarginBox=h.getMarginBox;G.setMarginBox=h.setMarginBox;G._getContentBox=G.getContentBox=h.getContentBox;G.setContentSize=h.setContentSize;G._isBodyLtr=
G.isBodyLtr=h.isBodyLtr;G._docScroll=G.docScroll=h.docScroll;G._getIeDocumentElementOffset=G.getIeDocumentElementOffset=h.getIeDocumentElementOffset;G._fixIeBiDiScrollLeft=G.fixIeBiDiScrollLeft=h.fixIeBiDiScrollLeft;G.position=h.position;G.marginBox=function(c,b){return b?h.setMarginBox(c,b):h.getMarginBox(c)};G.contentBox=function(c,b){return b?h.setContentSize(c,b):h.getContentBox(c)};G.coords=function(c,b){G.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");c=A.byId(c);var e=
a.getComputedStyle(c);e=h.getMarginBox(c,e);c=h.position(c,b);e.x=c.x;e.y=c.y;return e};G.getProp=p.get;G.setProp=p.set;G.prop=function(c,b,e){return 2==arguments.length?p["string"==typeof b?"get":"set"](c,b):p.set(c,b,e)};G.getStyle=a.get;G.setStyle=a.set;G.getComputedStyle=a.getComputedStyle;G.__toPixelValue=G.toPixelValue=a.toPixelValue;G.style=function(c,b,e){switch(arguments.length){case 1:return a.get(c);case 2:return a["string"==typeof b?"get":"set"](c,b)}return a.set(c,b,e)};return G})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(G,A,a,m,p,t){function n(b,e){b=b.getAttributeNode&&b.getAttributeNode(e);return!!b&&b.specified}var h={innerHTML:1,textContent:1,className:1,htmlFor:A("ie")?1:0,value:1},c={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};G.has=function(b,e){var f=e.toLowerCase();return!!h[t.names[f]||e]||n(m.byId(b),c[f]||e)};G.get=function(b,e){b=m.byId(b);var f=e.toLowerCase(),k=t.names[f]||e,u=b[k];if(h[k]&&"undefined"!=typeof u)return u;if("textContent"==k)return t.get(b,k);if("href"!=
k&&("boolean"==typeof u||a.isFunction(u)))return u;e=c[f]||e;return n(b,e)?b.getAttribute(e):null};G.set=function(b,e,f){b=m.byId(b);if(2==arguments.length){for(var k in e)G.set(b,k,e[k]);return b}k=e.toLowerCase();var u=t.names[k]||e,v=h[u];if("style"==u&&"string"!=typeof f)return p.set(b,f),b;if(v||"boolean"==typeof f||a.isFunction(f))return t.set(b,e,f);b.setAttribute(c[k]||e,f);return b};G.remove=function(b,e){m.byId(b).removeAttribute(c[e.toLowerCase()]||e)};G.getNodeProp=function(b,e){b=m.byId(b);
var f=e.toLowerCase(),k=t.names[f]||e;if(k in b&&"href"!=k)return b[k];e=c[f]||e;return n(b,e)?b.getAttribute(e):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(G,A,a,m,p,t,n,h){function c(k){var u="";k=k.childNodes;for(var v=0,g;g=k[v];v++)8!=g.nodeType&&(u=1==g.nodeType?u+c(g):u+g.nodeValue);return u}var b={},e=1,f=A._scopeName+"attrid";a.add("dom-textContent",function(k,u,v){return"textContent"in
v});G.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};G.get=function(k,u){k=p.byId(k);var v=u.toLowerCase();u=G.names[v]||u;return"textContent"!=u||a("dom-textContent")?k[u]:c(k)};G.set=function(k,u,v){k=p.byId(k);if(2==arguments.length&&"string"!=typeof u){for(var g in u)G.set(k,g,u[g]);return k}g=u.toLowerCase();g=G.names[g]||u;if("style"==g&&"string"!=
typeof v)return t.set(k,v),k;if("innerHTML"==g)return a("ie")&&k.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(n.empty(k),k.appendChild(n.toDom(v,k.ownerDocument))):k[g]=v,k;if("textContent"==g&&!a("dom-textContent"))return n.empty(k),k.appendChild(k.ownerDocument.createTextNode(v)),k;if(m.isFunction(v)){var q=k[f];q||(q=e++,k[f]=q);b[q]||(b[q]={});var x=b[q][g];if(x)h.disconnect(x);else try{delete k[g]}catch(w){}v?b[q][g]=h.connect(k,g,v):k[g]=null;return k}k[g]=
v;return k}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(G,A,a,m,p,t){function n(x,w){var B=w.parentNode;B&&B.insertBefore(x,w)}function h(x){if("innerHTML"in x)try{x.innerHTML="";return}catch(B){}for(var w;w=x.lastChild;)x.removeChild(w)}var c={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],
colgroup:["table"],col:["table","colgroup"],li:["ul"]},b=/<\s*([\w:]+)/,e={},f=0,k="__"+A._scopeName+"ToDomId",u;for(u in c)c.hasOwnProperty(u)&&(A=c[u],A.pre="option"==u?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+A.join("\x3e\x3c")+"\x3e",A.post="\x3c/"+A.reverse().join("\x3e\x3c/")+"\x3e");var v;8>=a("ie")&&(v=function(x){x.__dojo_html5_tested="yes";var w=g("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},x.body);1!==w.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,
function(B){x.createElement(B)});q(w)});G.toDom=function(x,w){w=w||m.doc;var B=w[k];B||(w[k]=B=++f+"",e[B]=w.createElement("div"));8>=a("ie")&&!w.__dojo_html5_tested&&w.body&&v(w);x+="";var z=x.match(b),C=z?z[1].toLowerCase():"";B=e[B];if(z&&c[C])for(z=c[C],B.innerHTML=z.pre+x+z.post,x=z.length;x;--x)B=B.firstChild;else B.innerHTML=x;if(1==B.childNodes.length)return B.removeChild(B.firstChild);for(x=w.createDocumentFragment();w=B.firstChild;)x.appendChild(w);return x};G.place=function(x,w,B){w=p.byId(w);
"string"==typeof x&&(x=/^\s*</.test(x)?G.toDom(x,w.ownerDocument):p.byId(x));if("number"==typeof B){var z=w.childNodes;!z.length||z.length<=B?w.appendChild(x):n(x,z[0>B?0:B])}else switch(B){case "before":n(x,w);break;case "after":B=x;(z=w.parentNode)&&(z.lastChild==w?z.appendChild(B):z.insertBefore(B,w.nextSibling));break;case "replace":w.parentNode.replaceChild(x,w);break;case "only":G.empty(w);w.appendChild(x);break;case "first":if(w.firstChild){n(x,w.firstChild);break}default:w.appendChild(x)}return x};
var g=G.create=function(x,w,B,z){var C=m.doc;B&&(B=p.byId(B),C=B.ownerDocument);"string"==typeof x&&(x=C.createElement(x));w&&t.set(x,w);B&&G.place(x,B,z);return x};G.empty=function(x){h(p.byId(x))};var q=G.destroy=function(x){if(x=p.byId(x)){var w=x;x=x.parentNode;w.firstChild&&h(w);x&&(a("ie")&&x.canHaveChildren&&"removeNode"in w?w.removeNode(!1):x.removeChild(w))}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(G,A,a){function m(c){if("string"==typeof c||
c instanceof String){if(c&&!t.test(c))return n[0]=c,n;c=c.split(t);c.length&&!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return c?A.filter(c,function(b){return b}):[]}var p,t=/\s+/,n=[""],h={};return p={contains:function(c,b){return 0<=(" "+a.byId(c).className+" ").indexOf(" "+b+" ")},add:function(c,b){c=a.byId(c);b=m(b);var e=c.className;e=e?" "+e+" ":" ";var f=e.length;for(var k=0,u=b.length,v;k<u;++k)(v=b[k])&&0>e.indexOf(" "+v+" ")&&(e+=v+" ");f<e.length&&(c.className=e.substr(1,
e.length-2))},remove:function(c,b){c=a.byId(c);if(void 0!==b){b=m(b);var e=" "+c.className+" ";for(var f=0,k=b.length;f<k;++f)e=e.replace(" "+b[f]+" "," ");e=G.trim(e)}else e="";c.className!=e&&(c.className=e)},replace:function(c,b,e){c=a.byId(c);h.className=c.className;p.remove(h,e);p.add(h,b);c.className!==h.className&&(c.className=h.className)},toggle:function(c,b,e){c=a.byId(c);if(void 0===e){b=m(b);for(var f=0,k=b.length,u;f<k;++f)u=b[f],p[p.contains(c,u)?"remove":"add"](c,u)}else p[e?"add":
"remove"](c,b);return e}}})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(G,A,a){A=A.NodeList;var m=A.prototype;m.connect=A._adaptAsForEach(function(){return G.connect.apply(this,arguments)});m.coords=A._adaptAsMap(G.coords);A.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");a.forEach(A.events,function(p){var t="on"+p;m[t]=function(n,
h){return this.connect(t,n,h)}});return G.NodeList=A})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(G,A,a,m,p,t,n,h){function c(w,B){var z=function(y,D){if("string"==typeof D&&(D=a.byId(D),!D))return new B([]);y="string"==typeof y?w(y,D):y?y.end&&y.on?y:[y]:[];return y.end&&y.on?y:new B(y)};z.matches=w.match||function(y,D,F){return 0<z.filter([y],D,F).length};z.filter=w.filter||function(y,
D,F){return z(D,F).filter(function(H){return-1<p.indexOf(y,H)})};if("function"!=typeof w){var C=w.search;w=function(y,D){return C(D||document,y)}}return z}A.add("array-extensible",function(){return 1==t.delegate([],{length:1}).length&&!A("bug-for-in-skips-shadowed")});var b=Array.prototype,e=b.slice,f=b.concat,k=p.forEach,u=function(w,B,z){B=[0].concat(e.call(B,0));z=z||G.global;return function(C){B[0]=C;return w.apply(z,B)}},v=function(w){var B=this instanceof g&&A("array-extensible");"number"==
typeof w&&(w=Array(w));var z=w&&"length"in w?w:arguments;if(B||!z.sort){for(var C=B?this:[],y=C.length=z.length,D=0;D<y;D++)C[D]=z[D];if(B)return C;z=C}t._mixin(z,q);z._NodeListCtor=function(F){return g(F)};return z},g=v,q=g.prototype=A("array-extensible")?[]:{};g._wrap=q._wrap=function(w,B,z){w=new (z||this._NodeListCtor||g)(w);return B?w._stash(B):w};g._adaptAsMap=function(w,B){return function(){return this.map(u(w,arguments,B))}};g._adaptAsForEach=function(w,B){return function(){this.forEach(u(w,
arguments,B));return this}};g._adaptAsFilter=function(w,B){return function(){return this.filter(u(w,arguments,B))}};g._adaptWithCondition=function(w,B,z){return function(){var C=arguments,y=u(w,C,z);if(B.call(z||G.global,C))return this.map(y);this.forEach(y);return this}};k(["slice","splice"],function(w){var B=b[w];q[w]=function(){return this._wrap(B.apply(this,arguments),"slice"==w?this:null)}});k(["indexOf","lastIndexOf","every","some"],function(w){var B=p[w];q[w]=function(){return B.apply(G,[this].concat(e.call(arguments,
0)))}});t.extend(v,{constructor:g,_NodeListCtor:g,toString:function(){return this.join(",")},_stash:function(w){this._parent=w;return this},on:function(w,B){var z=this.map(function(C){return m(C,w,B)});z.remove=function(){for(var C=0;C<z.length;C++)z[C].remove()};return z},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(w){var B=e.call(this,0),z=p.map(arguments,function(C){return e.call(C,0)});return this._wrap(f.apply(B,z),this)},map:function(w,B){return this._wrap(p.map(this,
w,B),this)},forEach:function(w,B){k(this,w,B);return this},filter:function(w){var B=arguments,z=this,C=0;if("string"==typeof w){z=x._filterResult(this,B[0]);if(1==B.length)return z._stash(this);C=1}return this._wrap(p.filter(z,B[C],B[C+1]),this)},instantiate:function(w,B){var z=t.isFunction(w)?w:t.getObject(w);B=B||{};return this.forEach(function(C){new z(B,C)})},at:function(){var w=new this._NodeListCtor(0);k(arguments,function(B){0>B&&(B=this.length+B);this[B]&&w.push(this[B])},this);return w._stash(this)}});
var x=c(h,v);G.query=c(h,function(w){return v(w)});x.load=function(w,B,z){n.load(w,B,function(C){z(c(C,v))})};G._filterQueryResult=x._filterResult=function(w,B,z){return new v(x.filter(w,B,z))};G.NodeList=x.NodeList=v;return x})},"dojo/selector/_loader":function(){define(["../has","require"],function(G,A){if("undefined"!==typeof document){var a=document.createElement("div");G.add("dom-qsa2.1",!!a.querySelectorAll);G.add("dom-qsa3",function(){try{return a.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",
1==a.querySelectorAll(".TEST:empty").length}catch(p){}})}var m;return{load:function(p,t,n,h){if(h&&h.isBuild)n();else{h=A;p="default"==p?G("config-selectorEngine")||"css3":p;p="css2"==p||"lite"==p?"./lite":"css2.1"==p?G("dom-qsa2.1")?"./lite":"./acme":"css3"==p?G("dom-qsa3")?"./lite":"./acme":"acme"==p?"./acme":(h=t)&&p;if("?"==p.charAt(p.length-1)){p=p.substring(0,p.length-1);var c=!0}if(c&&(G("dom-compliant-qsa")||m))return n(m);h([p],function(b){"./lite"!=p&&(m=b);n(b)})}}}})},"dojo/selector/acme":function(){define(["../dom",
"../sniff","../_base/array","../_base/lang","../_base/window"],function(G,A,a,m,p){var t=m.trim,n=a.forEach,h="BackCompat"==p.doc.compatMode,c=!1,b=function(){return!0},e=function(da){da=0<="\x3e~+".indexOf(da.slice(-1))?da+" * ":da+" ";for(var ca=function(na,ua){return t(da.slice(na,ua))},ma=[],qa=-1,ta=-1,Ca=-1,ha=-1,fa=-1,ra=-1,wa=-1,Ga,Na="",Ra="",Sa,La=0,W=da.length,ia=null,sa=null,X=function(){0<=ra&&(ia.id=ca(ra,La).replace(/\\/g,""),ra=-1);if(0<=wa){var na=wa==La?null:ca(wa,La);ia[0>"\x3e~+".indexOf(na)?
"tag":"oper"]=na;wa=-1}0<=fa&&(ia.classes.push(ca(fa+1,La).replace(/\\/g,"")),fa=-1)};Na=Ra,Ra=da.charAt(La),La<W;La++)"\\"!=Na&&(ia||(Sa=La,ia={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return c?this.otag:this.tag}},wa=La),Ga?Ra==Ga&&(Ga=null):"'"==Ra||'"'==Ra?Ga=Ra:0<=qa?"]"==Ra?(sa.attr?sa.matchFor=ca(Ca||qa+1,La):sa.attr=ca(qa+1,La),!(qa=sa.matchFor)||'"'!=qa.charAt(0)&&"'"!=qa.charAt(0)||(sa.matchFor=qa.slice(1,-1)),sa.matchFor&&(sa.matchFor=sa.matchFor.replace(/\\/g,
"")),ia.attrs.push(sa),sa=null,qa=Ca=-1):"\x3d"==Ra&&(Ca=0<="|~^$*".indexOf(Na)?Na:"",sa.type=Ca+Ra,sa.attr=ca(qa+1,La-Ca.length),Ca=La+1):0<=ta?")"==Ra&&(0<=ha&&(sa.value=ca(ta+1,La)),ha=ta=-1):"#"==Ra?(X(),ra=La+1):"."==Ra?(X(),fa=La):":"==Ra?(X(),ha=La):"["==Ra?(X(),qa=La,sa={}):"("==Ra?(0<=ha&&(sa={name:ca(ha+1,La),value:null},ia.pseudos.push(sa)),ta=La):" "==Ra&&Na!=Ra&&(X(),0<=ha&&ia.pseudos.push({name:ca(ha+1,La)}),ia.loops=ia.pseudos.length||ia.attrs.length||ia.classes.length,ia.oquery=ia.query=
ca(Sa,La),ia.otag=ia.tag=ia.oper?null:ia.tag||"*",ia.tag&&(ia.tag=ia.tag.toUpperCase()),ma.length&&ma[ma.length-1].oper&&(ia.infixOper=ma.pop(),ia.query=ia.infixOper.query+" "+ia.query),ma.push(ia),ia=null));return ma},f=function(da,ca){return da?ca?function(){return da.apply(window,arguments)&&ca.apply(window,arguments)}:da:ca},k=function(da,ca){ca=ca||[];da&&ca.push(da);return ca},u=function(da){return 1==da.nodeType},v=function(da,ca){return da?"class"==ca?da.className||"":"for"==ca?da.htmlFor||
"":"style"==ca?da.style.cssText||"":(c?da.getAttribute(ca):da.getAttribute(ca,2))||"":""},g={"*\x3d":function(da,ca){return function(ma){return 0<=v(ma,da).indexOf(ca)}},"^\x3d":function(da,ca){return function(ma){return 0==v(ma,da).indexOf(ca)}},"$\x3d":function(da,ca){return function(ma){ma=" "+v(ma,da);var qa=ma.lastIndexOf(ca);return-1<qa&&qa==ma.length-ca.length}},"~\x3d":function(da,ca){var ma=" "+ca+" ";return function(qa){return 0<=(" "+v(qa,da)+" ").indexOf(ma)}},"|\x3d":function(da,ca){var ma=
ca+"-";return function(qa){qa=v(qa,da);return qa==ca||0==qa.indexOf(ma)}},"\x3d":function(da,ca){return function(ma){return v(ma,da)==ca}}};m=p.doc.documentElement;var q=!(m.nextElementSibling||"nextElementSibling"in m),x=q?"nextSibling":"nextElementSibling",w=q?"previousSibling":"previousElementSibling",B=q?u:b,z=function(da){for(;da=da[w];)if(B(da))return!1;return!0},C=function(da){for(;da=da[x];)if(B(da))return!1;return!0},y=function(da){var ca=da.parentNode;ca=7!=ca.nodeType?ca:ca.nextSibling;
var ma=0,qa=ca.children||ca.childNodes,ta=da._i||da.getAttribute("_i")||-1,Ca=ca._l||("undefined"!==typeof ca.getAttribute?ca.getAttribute("_l"):-1);if(!qa)return-1;qa=qa.length;if(Ca==qa&&0<=ta&&0<=Ca)return ta;A("ie")&&"undefined"!==typeof ca.setAttribute?ca.setAttribute("_l",qa):ca._l=qa;ta=-1;for(ca=ca.firstElementChild||ca.firstChild;ca;ca=ca[x])B(ca)&&(A("ie")?ca.setAttribute("_i",++ma):ca._i=++ma,da===ca&&(ta=ma));return ta},D=function(da){return!(y(da)%2)},F=function(da){return y(da)%2},H=
{checked:function(da,ca){return function(ma){return!("checked"in ma?!ma.checked:!ma.selected)}},disabled:function(da,ca){return function(ma){return ma.disabled}},enabled:function(da,ca){return function(ma){return!ma.disabled}},"first-child":function(){return z},"last-child":function(){return C},"only-child":function(da,ca){return function(ma){return z(ma)&&C(ma)}},empty:function(da,ca){return function(ma){var qa=ma.childNodes;for(ma=ma.childNodes.length-1;0<=ma;ma--){var ta=qa[ma].nodeType;if(1===
ta||3==ta)return!1}return!0}},contains:function(da,ca){da=ca.charAt(0);if('"'==da||"'"==da)ca=ca.slice(1,-1);return function(ma){return 0<=ma.innerHTML.indexOf(ca)}},not:function(da,ca){da=e(ca)[0];ca={el:1};"*"!=da.tag&&(ca.tag=1);da.classes.length||(ca.classes=1);var ma=I(da,ca);return function(qa){return!ma(qa)}},"nth-child":function(da,ca){da=parseInt;if("odd"==ca)return F;if("even"==ca)return D;if(-1!=ca.indexOf("n")){ca=ca.split("n",2);var ma=ca[0]?"-"==ca[0]?-1:da(ca[0]):1,qa=ca[1]?da(ca[1]):
0,ta=0,Ca=-1;0<ma?0>qa?qa=qa%ma&&ma+qa%ma:0<qa&&(qa>=ma&&(ta=qa-qa%ma),qa%=ma):0>ma&&(ma*=-1,0<qa&&(Ca=qa,qa%=ma));if(0<ma)return function(fa){fa=y(fa);return fa>=ta&&(0>Ca||fa<=Ca)&&fa%ma==qa};ca=qa}var ha=da(ca);return function(fa){return y(fa)==ha}}},E=9>A("ie")||9==A("ie")&&A("quirks")?function(da){var ca=da.toLowerCase();"class"==ca&&(da="className");return function(ma){return c?ma.getAttribute(da):ma[da]||ma[ca]}}:function(da){return function(ca){return ca&&ca.getAttribute&&ca.hasAttribute(da)}},
I=function(da,ca){if(!da)return b;ca=ca||{};var ma=null;"el"in ca||(ma=f(ma,u));"tag"in ca||"*"!=da.tag&&(ma=f(ma,function(qa){return qa&&(c?qa.tagName:qa.tagName.toUpperCase())==da.getTag()}));"classes"in ca||n(da.classes,function(qa,ta,Ca){var ha=new RegExp("(?:^|\\s)"+qa+"(?:\\s|$)");ma=f(ma,function(fa){return ha.test(fa.className)});ma.count=ta});"pseudos"in ca||n(da.pseudos,function(qa){var ta=qa.name;H[ta]&&(ma=f(ma,H[ta](ta,qa.value)))});"attrs"in ca||n(da.attrs,function(qa){var ta,Ca=qa.attr;
qa.type&&g[qa.type]?ta=g[qa.type](Ca,qa.matchFor):Ca.length&&(ta=E(Ca));ta&&(ma=f(ma,ta))});"id"in ca||da.id&&(ma=f(ma,function(qa){return!!qa&&qa.id==da.id}));ma||"default"in ca||(ma=b);return ma},J=function(da){return function(ca,ma,qa){for(;ca=ca[x];)if(!q||u(ca)){qa&&!ka(ca,qa)||!da(ca)||ma.push(ca);break}return ma}},K=function(da){return function(ca,ma,qa){for(ca=ca[x];ca;){if(B(ca)){if(qa&&!ka(ca,qa))break;da(ca)&&ma.push(ca)}ca=ca[x]}return ma}},L=function(da,ca){var ma=function(qa){var ta=
[];try{ta=Array.prototype.slice.call(qa)}catch(fa){for(var Ca=0,ha=qa.length;Ca<ha;Ca++)ta.push(qa[Ca])}return ta};da=da||b;return function(qa,ta,Ca){var ha=0,fa=[];fa=ma(qa.children||qa.childNodes);for(ca&&a.forEach(fa,function(ra){1===ra.nodeType&&(fa=fa.concat(ma(ra.getElementsByTagName("*"))))});qa=fa[ha++];)B(qa)&&(!Ca||ka(qa,Ca))&&da(qa,ha)&&ta.push(qa);return ta}},O=function(da,ca){for(da=da.parentNode;da&&da!=ca;)da=da.parentNode;return!!da},U={},S=function(da){var ca=U[da.query];if(ca)return ca;
var ma=da.infixOper;ma=ma?ma.oper:"";var qa=I(da,{el:1}),ta="*"==da.tag,Ca=p.doc.getElementsByClassName;if(ma)Ca={el:1},ta&&(Ca.tag=1),qa=I(da,Ca),"+"==ma?ca=J(qa):"~"==ma?ca=K(qa):"\x3e"==ma&&(ca=L(qa));else if(da.id)qa=!da.loops&&ta?b:I(da,{el:1,id:1}),ca=function(fa,ra){var wa=G.byId(da.id,fa.ownerDocument||fa);fa.ownerDocument&&!O(fa,fa.ownerDocument)&&a.some(11===fa.nodeType?fa.childNodes:[fa],function(Ga){Ga=L(function(Na){return Na.id===da.id},!0)(Ga,[]);if(Ga.length)return wa=Ga[0],!1});if(wa&&
qa(wa)&&(9==fa.nodeType||O(wa,fa)))return k(wa,ra)};else if(Ca&&/\{\s*\[native code\]\s*\}/.test(String(Ca))&&da.classes.length&&!h){qa=I(da,{el:1,classes:1,id:1});var ha=da.classes.join(" ");ca=function(fa,ra,wa){ra=k(0,ra);for(var Ga,Na=0,Ra=fa.getElementsByClassName(ha);Ga=Ra[Na++];)qa(Ga,fa)&&ka(Ga,wa)&&ra.push(Ga);return ra}}else ta||da.loops?(qa=I(da,{el:1,tag:1,id:1}),ca=function(fa,ra,wa){ra=k(0,ra);for(var Ga,Na=0,Ra=(Ga=da.getTag())?fa.getElementsByTagName(Ga):[];Ga=Ra[Na++];)qa(Ga,fa)&&
ka(Ga,wa)&&ra.push(Ga);return ra}):ca=function(fa,ra,wa){ra=k(0,ra);var Ga=0,Na=da.getTag();for(Na=Na?fa.getElementsByTagName(Na):[];fa=Na[Ga++];)ka(fa,wa)&&ra.push(fa);return ra};return U[da.query]=ca},M={},N={},T=function(da){var ca=e(t(da));if(1==ca.length){var ma=S(ca[0]);return function(qa){if(qa=ma(qa,[]))qa.nozip=!0;return qa}}return function(qa){qa=k(qa);for(var ta,Ca,ha=ca.length,fa,ra,wa=0;wa<ha;wa++){ra=[];ta=ca[wa];Ca=qa.length-1;0<Ca&&(fa={},ra.nozip=!0);Ca=S(ta);for(var Ga=0;ta=qa[Ga];Ga++)Ca(ta,
ra,fa);if(!ra.length)break;qa=ra}return ra}},V=A("ie")?"commentStrip":"nozip",ea=!!p.doc.querySelectorAll,P=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,ba=function(da,ca,ma,qa){return ma?(ca?ca+" ":"")+ma+(qa?" "+qa:""):da},la=/([^[]*)([^\]]*])?/g,Q=function(da,ca,ma){return ca.replace(P,ba)+(ma||"")},Y=function(da,ca){da=da.replace(la,Q);if(ea){var ma=N[da];if(ma&&!ca)return ma}if(ma=M[da])return ma;ma=da.charAt(0);var qa=-1==da.indexOf(" ");0<=da.indexOf("#")&&qa&&(ca=!0);if(!ea||ca||-1!="\x3e~+".indexOf(ma)||
A("ie")&&-1!=da.indexOf(":")||h&&0<=da.indexOf(".")||-1!=da.indexOf(":contains")||-1!=da.indexOf(":checked")||-1!=da.indexOf("|\x3d")){var ta=da.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return M[da]=2>ta.length?T(da):function(ha){for(var fa=0,ra=[],wa;wa=ta[fa++];)ra=ra.concat(T(wa)(ha));return ra}}var Ca=0<="\x3e~+".indexOf(da.charAt(da.length-1))?da+" *":da;return N[da]=function(ha){if(9==ha.nodeType||qa)try{var fa=ha.querySelectorAll(Ca);fa[V]=!0;return fa}catch(ra){}return Y(da,
!0)(ha)}},ja=0,pa=A("ie")?function(da){return c?da.getAttribute("_uid")||da.setAttribute("_uid",++ja)||ja:da.uniqueID}:function(da){return da._uid||(da._uid=++ja)},ka=function(da,ca){if(!ca)return 1;da=pa(da);return ca[da]?0:ca[da]=1},va=function(da){if(da&&da.nozip)return da;if(!da||!da.length)return[];if(2>da.length)return[da[0]];var ca=[];ja++;var ma,qa;if(A("ie")&&c){var ta=ja+"";for(ma=0;ma<da.length;ma++)(qa=da[ma])&&qa.getAttribute("_zipIdx")!=ta&&(ca.push(qa),qa.setAttribute("_zipIdx",ta))}else if(A("ie")&&
da.commentStrip)try{for(ma=0;ma<da.length;ma++)(qa=da[ma])&&u(qa)&&ca.push(qa)}catch(Ca){}else for(ma=0;ma<da.length;ma++)(qa=da[ma])&&qa._zipIdx!=ja&&(ca.push(qa),qa._zipIdx=ja);return ca},Aa=function(da,ca){ca=ca||p.doc;c="div"===(ca.ownerDocument||ca).createElement("div").tagName;return(da=Y(da)(ca))&&da.nozip?da:va(da)};Aa.filter=function(da,ca,ma){var qa=[],ta=e(ca);ta=1!=ta.length||/[^\w#\.]/.test(ca)?function(fa){return-1!=a.indexOf(Aa(ca,G.byId(ma)),fa)}:I(ta[0]);for(var Ca=0,ha;ha=da[Ca];Ca++)ta(ha)&&
qa.push(ha);return qa};return Aa})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(G,A,a,m,p,t,n,h,c){function b(q){return function(x,w,B){return 2==arguments.length?q["string"==typeof w?"get":"set"](x,w):q.set(x,w,B)}}var e=function(q){return 1==q.length&&"string"==typeof q[0]},f=function(q){var x=q.parentNode;x&&x.removeChild(q)},k=A.NodeList,u=k._adaptWithCondition,v=
k._adaptAsForEach,g=k._adaptAsMap;m.extend(k,{_normalize:function(q,x){var w=!0===q.parse;if("string"==typeof q.template){var B=q.templateFunc||G.string&&G.string.substitute;q=B?B(q.template,q):q}B=typeof q;"string"==B||"number"==B?(q=t.toDom(q,x&&x.ownerDocument),q=11==q.nodeType?m._toArray(q.childNodes):[q]):m.isArrayLike(q)?m.isArray(q)||(q=m._toArray(q)):q=[q];w&&(q._runParse=!0);return q},_cloneNode:function(q){return q.cloneNode(!0)},_place:function(q,x,w,B){if(1==x.nodeType||"only"!=w)for(var z,
C=q.length,y=C-1;0<=y;y--){var D=B?this._cloneNode(q[y]):q[y];if(q._runParse&&G.parser&&G.parser.parse)for(z||(z=x.ownerDocument.createElement("div")),z.appendChild(D),G.parser.parse(z),D=z.firstChild;z.firstChild;)z.removeChild(z.firstChild);y==C-1?t.place(D,x,w):x.parentNode.insertBefore(D,x);x=D}},position:g(n.position),attr:u(b(h),e),style:u(b(c),e),addClass:v(p.add),removeClass:v(p.remove),toggleClass:v(p.toggle),replaceClass:v(p.replace),empty:v(t.empty),removeAttr:v(h.remove),marginBox:g(n.getMarginBox),
place:function(q,x){var w=A(q)[0];return this.forEach(function(B){t.place(B,w,x)})},orphan:function(q){return(q?A._filterResult(this,q):this).forEach(f)},adopt:function(q,x){return A(q).place(this[0],x)._stash(this)},query:function(q){if(!q)return this;var x=new k;this.map(function(w){A(q,w).forEach(function(B){void 0!==B&&x.push(B)})});return x._stash(this)},filter:function(q){var x=arguments,w=this,B=0;if("string"==typeof q){w=A._filterResult(this,x[0]);if(1==x.length)return w._stash(this);B=1}return this._wrap(a.filter(w,
x[B],x[B+1]),this)},addContent:function(q,x){q=this._normalize(q,this[0]);for(var w=0,B;B=this[w];w++)q.length?this._place(q,B,x,0<w):t.empty(B);return this}});return k})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g){G._xhrObj=v._create;var q=G.config;G.objectToQuery=m.objectToQuery;G.queryToObject=
m.queryToObject;G.fieldToObject=t.fieldToObject;G.formToObject=t.toObject;G.formToQuery=t.toQuery;G.formToJson=t.toJson;G._blockAsync=!1;A.add("native-xhr2-blob",function(){if(A("native-xhr2")){var y=new XMLHttpRequest;y.open("GET","/",!0);y.responseType="blob";var D=y.responseType;y.abort();return"blob"===D}});var x=G._contentHandlers=G.contentHandlers={text:function(y){return y.responseText},json:function(y){return c.fromJson(y.responseText||null)},"json-comment-filtered":function(y){h.useCommentedJson||
console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");y=y.responseText;var D=y.indexOf("/*"),F=y.lastIndexOf("*/");if(-1==D||-1==F)throw Error("JSON was not comment filtered");return c.fromJson(y.substring(D+2,F))},javascript:function(y){return G.eval(y.responseText)},
xml:function(y){var D=y.responseXML;D&&A("dom-qsa2.1")&&!D.querySelectorAll&&A("dom-parser")&&(D=(new DOMParser).parseFromString(y.responseText,"application/xml"));if(A("ie")&&(!D||!D.documentElement)){var F=function(H){return"MSXML"+H+".DOMDocument"};F=["Microsoft.XMLDOM",F(6),F(4),F(3),F(2)];e.some(F,function(H){try{var E=new ActiveXObject(H);E.async=!1;E.loadXML(y.responseText);D=E}catch(I){return!1}return!0})}return D},"json-comment-optional":function(y){return y.responseText&&/^[^{\[]*\/\*/.test(y.responseText)?
x["json-comment-filtered"](y):x.json(y)}};A("native-xhr2")&&(x.arraybuffer=x.blob=x.document=function(y,D){return"blob"!==D.args.handleAs||A("native-xhr2-blob")?y.response:new Blob([y.response],{type:y.getResponseHeader("Content-Type")})});G._ioSetArgs=function(y,D,F,H){var E={args:y,url:y.url},I=null;if(y.form){I=p.byId(y.form);var J=I.getAttributeNode("action");E.url=E.url||(J?J.value:G.doc?G.doc.URL:null);I=t.toObject(I)}J={};I&&b.mixin(J,I);y.content&&b.mixin(J,y.content);y.preventCache&&(J["dojo.preventCache"]=
(new Date).valueOf());E.query=m.objectToQuery(J);E.handleAs=y.handleAs||"text";var K=new n(function(S){S.canceled=!0;D&&D(S);var M=S.ioArgs.error;M||(M=Error("request cancelled"),M.dojoType="cancel",S.ioArgs.error=M);return M});K.addCallback(F);var L=y.load;L&&b.isFunction(L)&&K.addCallback(function(S){return L.call(y,S,E)});var O=y.error;O&&b.isFunction(O)&&K.addErrback(function(S){return O.call(y,S,E)});var U=y.handle;U&&b.isFunction(U)&&K.addBoth(function(S){return U.call(y,S,E)});K.addErrback(function(S){return H(S,
K)});q.ioPublish&&G.publish&&!1!==E.args.ioPublish&&(K.addCallbacks(function(S){G.publish("/dojo/io/load",[K,S]);return S},function(S){G.publish("/dojo/io/error",[K,S]);return S}),K.addBoth(function(S){G.publish("/dojo/io/done",[K,S]);return S}));K.ioArgs=E;return K};var w=function(y){y=x[y.ioArgs.handleAs](y.ioArgs.xhr,y.ioArgs);return void 0===y?null:y},B=function(y,D){D.ioArgs.args.failOk||console.error(y);return y},z=function(y){0>=C&&(C=0,q.ioPublish&&G.publish&&(!y||y&&!1!==y.ioArgs.args.ioPublish)&&
G.publish("/dojo/io/stop"))},C=0;k.after(u,"_onAction",function(){--C});k.after(u,"_onInFlight",z);G._ioCancelAll=u.cancelAll;G._ioNotifyStart=function(y){q.ioPublish&&G.publish&&!1!==y.ioArgs.args.ioPublish&&(C||G.publish("/dojo/io/start"),C+=1,G.publish("/dojo/io/send",[y]))};G._ioWatch=function(y,D,F,H){y.ioArgs.options=y.ioArgs.args;b.mixin(y,{response:y.ioArgs,isValid:function(E){return D(y)},isReady:function(E){return F(y)},handleResponse:function(E){return H(y)}});u(y);z(y)};G._ioAddQueryToUrl=
function(y){y.query.length&&(y.url+=(-1==y.url.indexOf("?")?"?":"\x26")+y.query,y.query=null)};G.xhr=function(y,D,F){var H=G._ioSetArgs(D,function(K){J&&J.cancel()},w,B),E=H.ioArgs;"postData"in D?E.query=D.postData:"putData"in D?E.query=D.putData:"rawBody"in D?E.query=D.rawBody:(2<arguments.length&&!F||-1==="POST|PUT".indexOf(y.toUpperCase()))&&G._ioAddQueryToUrl(E);var I;A("native-xhr2")&&(I={arraybuffer:1,blob:1,document:1});I=I[D.handleAs]?D.handleAs:"text";"blob"!==I||A("native-xhr2-blob")||(I=
"arraybuffer");I={method:y,handleAs:I,responseType:D.responseType,timeout:D.timeout,withCredentials:D.withCredentials,ioArgs:E};"undefined"!==typeof D.headers&&(I.headers=D.headers);"undefined"!==typeof D.contentType&&(I.headers||(I.headers={}),I.headers["Content-Type"]=D.contentType);"undefined"!==typeof E.query&&(I.data=E.query);"undefined"!==typeof D.sync&&(I.sync=D.sync);G._ioNotifyStart(H);try{var J=v(E.url,I,!0)}catch(K){return H.cancel(),H}H.ioArgs.xhr=J.response.xhr;J.then(function(){H.resolve(H)}).otherwise(function(K){E.error=
K;K.response&&(K.status=K.response.status,K.responseText=K.response.text,K.xhr=K.response.xhr);H.reject(K)});return H};G.xhrGet=function(y){return G.xhr("GET",y)};G.rawXhrPost=G.xhrPost=function(y){return G.xhr("POST",y,!0)};G.rawXhrPut=G.xhrPut=function(y){return G.xhr("PUT",y,!0)};G.xhrDelete=function(y){return G.xhr("DELETE",y)};G._isDocumentOk=function(y){return g.checkStatus(y.status)};G._getText=function(y){var D;G.xhrGet({url:y,sync:!0,load:function(F){D=F}});return D};b.mixin(G.xhr,{_xhrObj:G._xhrObj,
fieldToObject:t.fieldToObject,formToObject:t.toObject,objectToQuery:m.objectToQuery,formToQuery:t.toQuery,formToJson:t.toJson,queryToObject:m.queryToObject,contentHandlers:x,_ioSetArgs:G._ioSetArgs,_ioCancelAll:G._ioCancelAll,_ioNotifyStart:G._ioNotifyStart,_ioWatch:G._ioWatch,_ioAddQueryToUrl:G._ioAddQueryToUrl,_isDocumentOk:G._isDocumentOk,_getText:G._getText,get:G.xhrGet,post:G.xhrPost,put:G.xhrPut,del:G.xhrDelete});return G.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(G){var A=
{};return{objectToQuery:function(a){var m=encodeURIComponent,p=[],t;for(t in a){var n=a[t];if(n!=A[t]){var h=m(t)+"\x3d";if(G.isArray(n))for(var c=0,b=n.length;c<b;++c)p.push(h+m(n[c]));else p.push(h+m(n))}}return p.join("\x26")},queryToObject:function(a){var m=decodeURIComponent;a=a.split("\x26");for(var p={},t,n,h=0,c=a.length;h<c;++h)if(n=a[h],n.length){var b=n.indexOf("\x3d");0>b?(t=m(n),n=""):(t=m(n.slice(0,b)),n=m(n.slice(b+1)));"string"==typeof p[t]&&(p[t]=[p[t]]);G.isArray(p[t])?p[t].push(n):
p[t]=n}return p}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(G,A,a,m){var p={fieldToObject:function(t){var n=null;if(t=A.byId(t)){var h=t.name,c=(t.type||"").toLowerCase();if(h&&c&&!t.disabled)if("radio"==c||"checkbox"==c)t.checked&&(n=t.value);else if(t.multiple)for(n=[],t=[t.firstChild];t.length;)for(h=t.pop();h;h=h.nextSibling)if(1==h.nodeType&&"option"==h.tagName.toLowerCase())h.selected&&n.push(h.value);else{h.nextSibling&&t.push(h.nextSibling);
h.firstChild&&t.push(h.firstChild);break}else n=t.value}return n},toObject:function(t){var n={};t=A.byId(t).elements;for(var h=0,c=t.length;h<c;++h){var b=t[h],e=b.name,f=(b.type||"").toLowerCase();if(e&&f&&0>"file|submit|image|reset|button".indexOf(f)&&!b.disabled){var k=n,u=e;b=p.fieldToObject(b);if(null!==b){var v=k[u];"string"==typeof v?k[u]=[v,b]:G.isArray(v)?v.push(b):k[u]=b}"image"==f&&(n[e+".x"]=n[e+".y"]=n[e].x=n[e].y=0)}}return n},toQuery:function(t){return a.objectToQuery(p.toObject(t))},
toJson:function(t,n){return m.stringify(p.toObject(t),null,n?4:0)}};return p})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(G,A,a,m,p,t){function n(){for(var e=+new Date,f=0,k;f<b.length&&(k=b[f]);f++){var u=k.response,v=u.options;k.isCanceled&&k.isCanceled()||k.isValid&&!k.isValid(u)?(b.splice(f--,1),h._onAction&&h._onAction()):k.isReady&&k.isReady(u)?
(b.splice(f--,1),k.handleResponse(u),h._onAction&&h._onAction()):k.startTime&&k.startTime+(v.timeout||0)<e&&(b.splice(f--,1),k.cancel(new A("Timeout exceeded",u)),h._onAction&&h._onAction())}h._onInFlight&&h._onInFlight(k);b.length||(clearInterval(c),c=null)}function h(e){e.response.options.timeout&&(e.startTime=+new Date);e.isFulfilled()||(b.push(e),c||(c=setInterval(n,50)),e.response.options.sync&&n())}var c=null,b=[];h.cancelAll=function(){try{m.forEach(b,function(e){try{e.cancel(new a("All requests canceled."))}catch(f){}})}catch(e){}};
p&&t&&p.doc.attachEvent&&t(p.global,"unload",function(){h.cancelAll()});return h})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),function(G,A,a,m,p,t,n,h,c){function b(v){return c("native-arraybuffer")&&v instanceof ArrayBuffer}function e(v){return c("native-blob")&&v instanceof Blob}function f(v){return u(v)}function k(v){return void 0!==v.data?v.data:v.text}G.deepCopy=
function(v,g){for(var q in g){var x=v[q],w=g[q];if("__proto__"!==q&&x!==w){var B=w,z;if(z=B&&"object"===typeof B)z=B,z=!(c("native-formdata")&&z instanceof FormData);!z||("undefined"!==typeof Element?B instanceof Element:1===B.nodeType)||e(B)||b(B)?v[q]=w:"[object Date]"===Object.prototype.toString.call(w)?v[q]=new Date(w):n.isArray(w)?v[q]=G.deepCopyArray(w):x&&"object"===typeof x?G.deepCopy(x,w):v[q]=G.deepCopy({},w)}}return v};G.deepCopyArray=function(v){for(var g=[],q=0,x=v.length;q<x;q++){var w=
v[q];"object"===typeof w?g.push(G.deepCopy({},w)):g.push(w)}return g};G.deepCreate=function(v,g){g=g||{};var q=n.delegate(v),x,w;for(x in v)(w=v[x])&&"object"===typeof w&&(q[x]=G.deepCreate(w,g[x]));return G.deepCopy(q,g)};var u=Object.freeze||function(v){return v};G.deferred=function(v,g,q,x,w,B){var z=new m(function(y){g&&g(z,v);return y&&(y instanceof A||y instanceof a)?y:new a("Request canceled",v)});z.response=v;z.isValid=q;z.isReady=x;z.handleResponse=w;q=z.then(f).otherwise(function(y){y.response=
v;throw y;});G.notify&&q.then(n.hitch(G.notify,"emit","load"),n.hitch(G.notify,"emit","error"));x=q.then(k);w=new h;for(var C in x)x.hasOwnProperty(C)&&(w[C]=x[C]);w.response=q;u(w);B&&z.then(function(y){B.call(z,y)},function(y){B.call(z,v,y)});z.promise=w;z.then=w.then;return z};G.addCommonMethods=function(v,g){t.forEach(g||["GET","POST","PUT","DELETE"],function(q){v[("DELETE"===q?"DEL":q).toLowerCase()]=function(x,w){w=n.delegate(w||{});w.method=q;return v(x,w)}})};G.parseArgs=function(v,g,q){var x=
g.data,w=g.query;!x||q||"object"!==typeof x||c("native-xhr2")&&(b(x)||e(x))||(g.data=p.objectToQuery(x));w?("object"===typeof w&&(w=p.objectToQuery(w)),g.preventCache&&(w+=(w?"\x26":"")+"request.preventCache\x3d"+ +new Date)):g.preventCache&&(w="request.preventCache\x3d"+ +new Date);v&&w&&(v+=(~v.indexOf("?")?"\x26":"?")+w);return{url:v,options:g,getHeader:function(B){return null}}};G.checkStatus=function(v){v=v||0;return 200<=v&&300>v||304===v||1223===v||!v}})},"dojo/errors/RequestError":function(){define(["./create"],
function(G){return G("RequestError",function(A,a){this.response=a})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(G,A){return G("RequestTimeoutError",null,A,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(G,A,a,m,p){function t(g,q){var x=g.xhr;g.status=g.xhr.status;try{g.text=x.responseText}catch(B){}"xml"===g.options.handleAs&&(g.data=x.responseXML);if(q)this.reject(q);
else{try{a(g)}catch(B){var w=B}m.checkStatus(x.status)?w?this.reject(w):this.resolve(g):(q=w?new G("Unable to load "+g.url+" status: "+x.status+" and an error in handleAs: transformation of response",g):new G("Unable to load "+g.url+" status: "+x.status,g),this.reject(q))}}function n(g){return this.xhr.getResponseHeader(g)}function h(g,q,x){var w=p("native-formdata")&&q&&q.data&&q.data instanceof FormData,B=m.parseArgs(g,m.deepCreate(v,q),w);g=B.url;q=B.options;var z=!q.data&&"POST"!==q.method&&"PUT"!==
q.method;10>=p("ie")&&(g=g.split("#")[0]);var C,y=m.deferred(B,e,b,k,t,function(){C&&C()}),D=B.xhr=h._create();if(!D)return y.cancel(new G("XHR was not created")),x?y:y.promise;B.getHeader=n;f&&(C=f(D,y,B,q.uploadProgress));var F="undefined"===typeof q.data?null:q.data,H=!q.sync,E=q.method;try{D.open(E,g,H,q.user||u,q.password||u);q.withCredentials&&(D.withCredentials=q.withCredentials);p("native-response-type")&&q.handleAs in c&&(D.responseType=c[q.handleAs]);var I=q.headers;g=w||z?!1:"application/x-www-form-urlencoded";
if(I)for(var J in I)"content-type"===J.toLowerCase()?g=I[J]:I[J]&&D.setRequestHeader(J,I[J]);g&&!1!==g&&D.setRequestHeader("Content-Type",g);I&&"X-Requested-With"in I||D.setRequestHeader("X-Requested-With","XMLHttpRequest");m.notify&&m.notify.emit("send",B,y.promise.cancel);D.send(F)}catch(K){y.reject(K)}A(y);D=null;return x?y:y.promise}p.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});p.add("dojo-force-activex-xhr",function(){return p("activex")&&"file:"===window.location.protocol});
p.add("native-xhr2",function(){if(p("native-xhr")&&!p("dojo-force-activex-xhr")){var g=new XMLHttpRequest;return"undefined"!==typeof g.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof g.upload)}});p.add("native-formdata",function(){return"undefined"!==typeof FormData});p.add("native-blob",function(){return"undefined"!==typeof Blob});p.add("native-arraybuffer",function(){return"undefined"!==typeof ArrayBuffer});p.add("native-response-type",function(){return p("native-xhr")&&"undefined"!==
typeof(new XMLHttpRequest).responseType});p.add("native-xhr2-blob",function(){if(p("native-response-type")){var g=new XMLHttpRequest;g.open("GET","https://dojotoolkit.org/",!0);g.responseType="blob";var q=g.responseType;g.abort();return"blob"===q}});var c={blob:p("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"};if(p("native-xhr2")){var b=function(g){return!this.isFulfilled()};var e=function(g,q){q.xhr.abort()};var f=function(g,q,x,w){function B(F){q.handleResponse(x)}
function z(F){F=new G("Unable to load "+x.url+" status: "+F.target.status,x);q.handleResponse(x,F)}function C(F,H){x.transferType=F;H.lengthComputable?(x.loaded=H.loaded,x.total=H.total,q.progress(x)):3===x.xhr.readyState&&(x.loaded="loaded"in H?H.loaded:H.position,q.progress(x))}function y(F){return C("download",F)}function D(F){return C("upload",F)}g.addEventListener("load",B,!1);g.addEventListener("error",z,!1);g.addEventListener("progress",y,!1);w&&g.upload&&g.upload.addEventListener("progress",
D,!1);return function(){g.removeEventListener("load",B,!1);g.removeEventListener("error",z,!1);g.removeEventListener("progress",y,!1);g.upload.removeEventListener("progress",D,!1);g=null}}}else{b=function(g){return g.xhr.readyState};var k=function(g){return 4===g.xhr.readyState};e=function(g,q){g=q.xhr;q=typeof g.abort;"function"!==q&&"object"!==q&&"unknown"!==q||g.abort()}}var u,v={data:null,query:null,sync:!1,method:"GET"};h._create=function(){throw Error("XMLHTTP not available");};if(p("native-xhr")&&
!p("dojo-force-activex-xhr"))h._create=function(){return new XMLHttpRequest};else if(p("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),h._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(g){try{new ActiveXObject("Microsoft.XMLHTTP"),h._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(q){}}m.addCommonMethods(h);return h})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(G,A,
a,m){function p(e){var f=b[e.options.handleAs];e.data=f?f(e):e.data||e.text;return e}m.add("activex","undefined"!==typeof ActiveXObject);m.add("dom-parser",function(e){return"DOMParser"in e});if(m("activex")){var t=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],n;var h=function(e){function f(v){try{var g=new ActiveXObject(v);g.async=!1;g.loadXML(u);k=g;n=v}catch(q){return!1}return!0}var k=e.data,u=e.text;k&&m("dom-qsa2.1")&&!k.querySelectorAll&&m("dom-parser")&&
(k=(new DOMParser).parseFromString(u,"application/xml"));k&&k.documentElement||n&&f(n)||a.some(t,f);return k}}var c=function(e){return m("native-xhr2-blob")||"blob"!==e.options.handleAs||"undefined"===typeof Blob?e.xhr.response:new Blob([e.xhr.response],{type:e.xhr.getResponseHeader("Content-Type")})},b={javascript:function(e){return A.eval(e.text||"")},json:function(e){return G.parse(e.text||null)},xml:h,blob:c,arraybuffer:c,document:c};p.register=function(e,f){b[e]=f};return p})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),
function(G,A,a,m,p,t,n,h,c){var b=a.mixin,e={},f=e._Line=function(w,B){this.start=w;this.end=B};f.prototype.getValue=function(w){return(this.end-this.start)*w+this.start};var k=e.Animation=function(w){b(this,w);a.isArray(this.curve)&&(this.curve=new f(this.curve[0],this.curve[1]))};k.prototype=new m;a.extend(k,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var w=this._percent,B=this.easing;return B?B(w):w},_fire:function(w,B){B=B||[];if(this[w])if(A.debugAtAllCosts)this[w].apply(this,
B);else try{this[w].apply(this,B)}catch(z){console.error("exception in animation handler for:",w),console.error(z)}return this},play:function(w,B){this._delayTimer&&this._clearTimer();if(B)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);w=w||this.delay;B=a.hitch(this,"_play",B);if(0<w)return this._delayTimer=setTimeout(B,w),this;B();return this},_play:function(w){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;w=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[w]));this._fire("onPlay",[w]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(w,B){this._stopTimer();this._active=this._paused=!0;this._percent=w;B&&this.play();return this},stop:function(w){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();w&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var w=
(new Date).valueOf();w=0===this.duration?1:(w-this._startTime)/this.duration;1<=w&&(w=1);this._percent=w;this.easing&&(w=this.easing(w));this._fire("onAnimate",[this.curve.getValue(w)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},
_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var u=0,v=null,g={run:function(){}};a.extend(k,{_startTimer:function(){this._timer||(this._timer=t.after(g,"run",a.hitch(this,"_cycle"),!0),u++);v||(v=setInterval(a.hitch(g,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,u--);0>=u&&(clearInterval(v),v=null,u=0)}});var q=n("ie")?function(w){var B=w.style;B.width.length||"auto"!=c.get(w,"width")||(B.width="auto")}:function(){};
e._fade=function(w){w.node=h.byId(w.node);var B=b({properties:{}},w);w=B.properties.opacity={};w.start="start"in B?B.start:function(){return+c.get(B.node,"opacity")||0};w.end=B.end;w=e.animateProperty(B);t.after(w,"beforeBegin",a.partial(q,B.node),!0);return w};e.fadeIn=function(w){return e._fade(b({end:1},w))};e.fadeOut=function(w){return e._fade(b({end:0},w))};e._defaultEasing=function(w){return.5+Math.sin((w+1.5)*Math.PI)/2};var x=function(w){this._properties=w;for(var B in w){var z=w[B];z.start instanceof
p&&(z.tempColor=new p)}};x.prototype.getValue=function(w){var B={},z;for(z in this._properties){var C=this._properties[z],y=C.start;y instanceof p?B[z]=p.blendColors(y,C.end,w,C.tempColor).toCss():a.isArray(y)||(B[z]=(C.end-y)*w+y+("opacity"!=z?C.units||"px":0))}return B};e.animateProperty=function(w){var B=w.node=h.byId(w.node);w.easing||(w.easing=G._defaultEasing);w=new k(w);t.after(w,"beforeBegin",a.hitch(w,function(){var z={},C;for(C in this.properties){if("width"==C||"height"==C)this.node.display=
"block";var y=this.properties[C];a.isFunction(y)&&(y=y(B));y=z[C]=b({},a.isObject(y)?y:{end:y});a.isFunction(y.start)&&(y.start=y.start(B));a.isFunction(y.end)&&(y.end=y.end(B));var D=0<=C.toLowerCase().indexOf("color"),F=function(H,E){var I={height:H.offsetHeight,width:H.offsetWidth}[E];if(void 0!==I)return I;I=c.get(H,E);return"opacity"==E?+I:D?I:parseFloat(I)};"end"in y?"start"in y||(y.start=F(B,C)):y.end=F(B,C);D?(y.start=new p(y.start),y.end=new p(y.end)):y.start="opacity"==C?+y.start:parseFloat(y.start)}this.curve=
new x(z)}),!0);t.after(w,"onAnimate",a.hitch(c,"set",w.node),!0);return w};e.anim=function(w,B,z,C,y,D){return e.animateProperty({node:w,duration:z||k.prototype.duration,properties:B,easing:C,onEnd:y}).play(D||0)};b(G,e);G._Animation=k;return e})},"dojo/_base/loader":function(){define("./kernel ../has require module ../json ./lang ./array".split(" "),function(G,A,a,m,p,t,n){var h=function(N){return N.replace(/\./g,"/")},c=/\/\/>>built/,b=[],e=[],f=function(N,T,V){b.push(V);n.forEach(N.split(","),
function(ea){ea=I(ea,T.module);e.push(ea);J(ea)});k()},k=function(){var N;for(N in H){var T=H[N];void 0===T.noReqPluginCheck&&(T.noReqPluginCheck=/loadInit!/.test(N)||/require!/.test(N)?1:0);if(!T.executed&&!T.noReqPluginCheck&&T.injected==B)return}M(function(){var V=b;b=[];n.forEach(V,function(ea){ea(1)})})},u=/\/\/.*|\/\*[\s\S]*?\*\/|("(?:\\.|[^"])*"|'(?:\\.|[^'])*'|`(?:\\.|[^`])*`)/mg,v=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,
g=/(^|\s)(require|define)\s*\(/m,q=function(N,T){var V=[],ea=[];var P=[];for(T=T||N.replace(u,"$1");P=v.exec(T);){var ba=v.lastIndex;var la=ba-P[0].length;var Q=void 0,Y=T,ja=/\(|\)/g,pa=1;for(ja.lastIndex=ba;(Q=ja.exec(Y))&&(pa=")"==Q[0]?pa-1:pa+1,0!=pa););if(0!=pa)throw"unmatched paren around character "+ja.lastIndex+" in: "+Y;ba=[G.trim(Y.substring(la,ja.lastIndex))+";\n",ja.lastIndex];"loadInit"==P[2]?V.push(ba[0]):ea.push(ba[0]);v.lastIndex=ba[1]}P=V.concat(ea);return P.length||!g.test(T)?[N.replace(/(^|\s)dojo\.loadInit\s*\(/g,
"\n0 \x26\x26 dojo.loadInit("),P.join(""),P]:0},x=a.initSyncLoader(f,k,function(N,T){var V,ea=[],P=[];if(c.test(T)||!(V=q(T)))return 0;T=N.mid+"-*loadInit";for(var ba in I("dojo",N).result.scopeMap)ea.push(ba),P.push('"'+ba+'"');return"// xdomain rewrite of "+N.mid+"\ndefine('"+T+"',{\n\tnames:"+p.stringify(ea)+",\n\tdef:function("+ea.join(",")+"){"+V[1]+"}});\n\ndefine("+p.stringify(ea.concat(["dojo/loadInit!"+T]))+", function("+ea.join(",")+"){\n"+V[0]+"});"}),w=x.sync,B=x.requested,z=x.arrived,
C=x.nonmodule,y=x.executing,D=x.executed,F=x.syncExecStack,H=x.modules,E=x.execQ,I=x.getModule,J=x.injectModule,K=x.setArrived,L=x.signal,O=x.finishExec,U=x.execModule,S=x.getLegacyMode,M=x.guardCheckComplete;f=x.dojoRequirePlugin;G.provide=function(N){var T=F[0],V=t.mixin(I(h(N),a.module),{executed:y,result:t.getObject(N,!0)});K(V);T&&(T.provides||(T.provides=[])).push(function(){V.result=t.getObject(N);delete V.provides;V.executed!==D&&O(V)});return V.result};A.add("config-publishRequireResult",
1,0,0);G.require=function(N,T){T=function(V,ea){var P=I(h(V),a.module);if(F.length&&F[0].finish)F[0].finish.push(V);else{if(P.executed)return P.result;ea&&(P.result=C);ea=S();J(P);ea=S();P.executed!==D&&P.injected===z&&x.guardCheckComplete(function(){U(P)});if(P.executed)return P.result;ea==w?P.cjs?E.unshift(P):F.length&&(F[0].finish=[V]):E.push(P)}}(N,T);A("config-publishRequireResult")&&!t.exists(N)&&void 0!==T&&t.setObject(N,T);return T};G.loadInit=function(N){N()};G.registerModulePath=function(N,
T){var V={};V[N.replace(/\./g,"/")]=T;a({paths:V})};G.platformRequire=function(N){N=(N.common||[]).concat(N[G._name]||N["default"]||[]);for(var T;N.length;)t.isArray(T=N.shift())?G.require.apply(G,T):G.require(T)};G.requireIf=G.requireAfterIf=function(N,T,V){N&&G.require(T,V)};G.requireLocalization=function(N,T,V){a(["../i18n"],function(ea){ea.getLocalization(N,T,V)})};return{extractLegacyApiApplications:q,require:f,loadInit:function(N,T,V){T([N],function(ea){T(ea.names,function(){for(var P="",ba=
[],la=0;la<arguments.length;la++)P+="var "+ea.names[la]+"\x3d arguments["+la+"]; ",ba.push(arguments[la]);eval(P);var Q=T.module,Y=[],ja;P={provide:function(ka){ka=h(ka);ka=I(ka,Q);ka!==Q&&K(ka)},require:function(ka,va){ka=h(ka);va&&(I(ka,Q).result=C);Y.push(ka)},requireLocalization:function(ka,va,Aa){ja||(ja=["dojo/i18n"]);Aa=(Aa||G.locale).toLowerCase();ka=h(ka)+"/nls/"+(/root/i.test(Aa)?"":Aa+"/")+h(va);I(ka,Q).isXd&&ja.push("dojo/i18n!"+ka)},loadInit:function(ka){ka()}};la={};var pa;try{for(pa in P)la[pa]=
G[pa],G[pa]=P[pa];ea.def.apply(null,ba)}catch(ka){L("error",[{src:m.id,id:"failedDojoLoadInit"},ka])}finally{for(pa in P)G[pa]=la[pa]}ja&&(Y=Y.concat(ja));Y.length?f(Y.join(","),T,V):V()})})}}})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(G,A,a,m,p,t,n,h,c){function b(q,x,w,B){return B.replace(/([a-z])\1*/ig,function(z){var C=z.charAt(0);z=z.length;var y=["abbr",
"wide","narrow"];switch(C){case "G":var D=x[4>z?"eraAbbr":"eraNames"][0>q.getFullYear()?0:1];break;case "y":D=q.getFullYear();switch(z){case 1:break;case 2:if(!w.fullYear){D=String(D);D=D.substr(D.length-2);break}default:var F=!0}break;case "Q":case "q":D=Math.ceil((q.getMonth()+1)/3);F=!0;break;case "M":case "L":D=q.getMonth();3>z?(D+=1,F=!0):(C=["months","L"==C?"standAlone":"format",y[z-3]].join("-"),D=x[C][D]);break;case "w":D=k._getWeekOfYear(q,0);F=!0;break;case "d":D=q.getDate();F=!0;break;
case "D":D=k._getDayOfYear(q);F=!0;break;case "e":case "c":if(D=q.getDay(),2>z){D=(D-m.getFirstDayOfWeek(w.locale)+8)%7;break}case "E":D=q.getDay();3>z?(D+=1,F=!0):(C=["days","c"==C?"standAlone":"format",y[z-3]].join("-"),D=x[C][D]);break;case "a":C=12>q.getHours()?"am":"pm";D=w[C]||x["dayPeriods-format-wide-"+C];break;case "h":case "H":case "K":case "k":F=q.getHours();switch(C){case "h":D=F%12||12;break;case "H":D=F;break;case "K":D=F%12;break;case "k":D=F||24}F=!0;break;case "m":D=q.getMinutes();
F=!0;break;case "s":D=q.getSeconds();F=!0;break;case "S":D=Math.round(q.getMilliseconds()*Math.pow(10,z-3));F=!0;break;case "v":case "z":if(D=k._getZone(q,!0,w))break;z=4;case "Z":C=k._getZone(q,!1,w);C=[0>=C?"+":"-",n.pad(Math.floor(Math.abs(C)/60),2),n.pad(Math.abs(C)%60,2)];4==z&&(C.splice(0,0,"GMT"),C.splice(3,0,":"));D=C.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+B);}F&&(D=n.pad(D,z));return D})}function e(q,x,w,B){var z=function(D){return D};x=x||z;
w=w||z;B=B||z;var C=q.match(/(''|[^'])+/g),y="'"==q.charAt(0);A.forEach(C,function(D,F){D?(C[F]=(y?w:x)(D.replace(/''/g,"'")),y=!y):C[F]=""});return B(C.join(""))}function f(q,x,w,B){B=t.escapeString(B);w.strict||(B=B.replace(" a"," ?a"));return B.replace(/([a-z])\1*/ig,function(z){var C=z.charAt(0);var y=z.length,D="",F="";w.strict?(1<y&&(D="0{"+(y-1)+"}"),2<y&&(F="0{"+(y-2)+"}")):(D="0?",F="0{0,2}");switch(C){case "y":C="\\d{2,4}";break;case "M":case "L":2<y?(C=x["months-"+("L"==C?"standAlone":
"format")+"-"+u[y-3]].slice(0).join("|"),w.strict||(C=C.replace(/\./g,""),C="(?:"+C+")\\.?")):C="1[0-2]|"+D+"[1-9]";break;case "D":C="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+D+"[1-9][0-9]|"+F+"[1-9]";break;case "d":C="3[01]|[12]\\d|"+D+"[1-9]";break;case "w":C="[1-4][0-9]|5[0-3]|"+D+"[1-9]";break;case "E":case "e":case "c":C=".+?";break;case "h":C="1[0-2]|"+D+"[1-9]";break;case "k":C="1[01]|"+D+"\\d";break;case "H":C="1\\d|2[0-3]|"+D+"\\d";break;case "K":C="1\\d|2[0-4]|"+D+"[1-9]";break;case "m":case "s":C=
"[0-5]\\d";break;case "S":C="\\d{"+y+"}";break;case "a":y=w.am||x["dayPeriods-format-wide-am"];D=w.pm||x["dayPeriods-format-wide-pm"];C=y+"|"+D;w.strict||(y!=y.toLowerCase()&&(C+="|"+y.toLowerCase()),D!=D.toLowerCase()&&(C+="|"+D.toLowerCase()),-1!=C.indexOf(".")&&(C+="|"+C.replace(/\./g,"")));C=C.replace(/\./g,"\\.");break;default:C=".*"}q&&q.push(z);return"("+C+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var k={};G.setObject(c.id.replace(/\//g,"."),k);k._getZone=function(q,x,w){return x?a.getTimezoneName(q):
q.getTimezoneOffset()};k.format=function(q,x){x=x||{};var w=p.normalizeLocale(x.locale),B=x.formatLength||"short";w=k._getGregorianBundle(w);var z=[];q=G.hitch(this,b,q,w,x);if("year"==x.selector)return e(w["dateFormatItem-yyyy"]||"yyyy",q);var C;"date"!=x.selector&&(C=x.timePattern||w["timeFormat-"+B])&&z.push(e(C,q));"time"!=x.selector&&(C=x.datePattern||w["dateFormat-"+B])&&z.push(e(C,q));return 1==z.length?z[0]:w["dateTimeFormat-"+B].replace(/'/g,"").replace(/\{(\d+)\}/g,function(y,D){return z[D]})};
k.regexp=function(q){return k._parseInfo(q).regexp};k._parseInfo=function(q){q=q||{};var x=p.normalizeLocale(q.locale);x=k._getGregorianBundle(x);var w=q.formatLength||"short",B=q.datePattern||x["dateFormat-"+w],z=q.timePattern||x["timeFormat-"+w];w="date"==q.selector?B:"time"==q.selector?z:x["dateTimeFormat-"+w].replace(/\{(\d+)\}/g,function(y,D){return[z,B][D]});var C=[];return{regexp:e(w,G.hitch(this,f,C,x,q)),tokens:C,bundle:x}};k.parse=function(q,x){var w=/[\u200E\u200F\u202A\u202E]/g,B=k._parseInfo(x),
z=B.tokens,C=B.bundle;q=(new RegExp("^"+B.regexp.replace(w,"")+"$",B.strict?"":"i")).exec(q&&q.replace(w,""));if(!q)return null;var y=["abbr","wide","narrow"],D=[1970,0,1,0,0,0,0],F="";q=A.every(q,function(E,I){if(!I)return!0;var J=z[I-1];I=J.length;J=J.charAt(0);switch(J){case "y":if(2!=I&&x.strict)D[0]=E;else if(100>E)E=Number(E),J=""+(new Date).getFullYear(),I=100*J.substring(0,2),J=Math.min(Number(J.substring(2,4))+20,99),D[0]=E<J?I+E:I-100+E;else{if(x.strict)return!1;D[0]=E}break;case "M":case "L":if(2<
I){if(I=C["months-"+("L"==J?"standAlone":"format")+"-"+y[I-3]].concat(),x.strict||(E=E.replace(".","").toLowerCase(),I=A.map(I,function(L){return L.replace(".","").toLowerCase()})),E=A.indexOf(I,E),-1==E)return!1}else E--;D[1]=E;break;case "E":case "e":case "c":I=C["days-"+("c"==J?"standAlone":"format")+"-"+y[I-3]].concat();x.strict||(E=E.toLowerCase(),I=A.map(I,function(L){return L.toLowerCase()}));E=A.indexOf(I,E);if(-1==E)return!1;break;case "D":D[1]=0;case "d":D[2]=E;break;case "a":I=x.am||C["dayPeriods-format-wide-am"];
J=x.pm||C["dayPeriods-format-wide-pm"];if(!x.strict){var K=/\./g;E=E.replace(K,"").toLowerCase();I=I.replace(K,"").toLowerCase();J=J.replace(K,"").toLowerCase()}if(x.strict&&E!=I&&E!=J)return!1;F=E==J?"p":E==I?"a":"";break;case "K":24==E&&(E=0);case "h":case "H":case "k":if(23<E)return!1;D[3]=E;break;case "m":D[4]=E;break;case "s":D[5]=E;break;case "S":D[6]=E}return!0});w=+D[3];"p"===F&&12>w?D[3]=w+12:"a"===F&&12==w&&(D[3]=0);w=new Date(D[0],D[1],D[2],D[3],D[4],D[5],D[6]);x.strict&&w.setFullYear(D[0]);
var H=z.join("");B=-1!=H.indexOf("d");H=-1!=H.indexOf("M");if(!q||H&&w.getMonth()>D[1]||B&&w.getDate()>D[2])return null;if(H&&w.getMonth()<D[1]||B&&w.getDate()<D[2])w=a.add(w,"hour",1);return w};var u=["abbr","wide","narrow"],v=[],g={};k.addCustomFormats=function(q,x){v.push({pkg:q,name:x});g={}};k._getGregorianBundle=function(q){if(g[q])return g[q];var x={};A.forEach(v,function(w){w=p.getLocalization(w.pkg,w.name,q);x=G.mixin(x,w)},this);return g[q]=x};k.addCustomFormats(c.id.replace(/\/date\/locale$/,
".cldr"),"gregorian");k.getNames=function(q,x,w,B){B=k._getGregorianBundle(B);q=[q,w,x];if("standAlone"==w){w=q.join("-");var z=B[w];1==z[0]&&(z=void 0)}q[1]="format";return(z||B[q.join("-")]).concat()};k.isWeekend=function(q,x){x=m.getWeekend(x);q=(q||new Date).getDay();x.end<x.start&&(x.end+=7,q<x.start&&(q+=7));return q>=x.start&&q<=x.end};k._getDayOfYear=function(q){return a.difference(new Date(q.getFullYear(),0,1,q.getHours()),q)+1};k._getWeekOfYear=function(q,x){1==arguments.length&&(x=0);var w=
(new Date(q.getFullYear(),0,1)).getDay(),B=(w-x+7)%7;B=Math.floor((k._getDayOfYear(q)+B-1)/7);w==x&&B++;return B};return k})},"dojo/date":function(){define(["./has","./_base/lang"],function(G,A){var a={getDaysInMonth:function(m){var p=m.getMonth();return 1==p&&a.isLeapYear(m)?29:[31,28,31,30,31,30,31,31,30,31,30,31][p]},isLeapYear:function(m){m=m.getFullYear();return!(m%400)||!(m%4)&&!!(m%100)},getTimezoneName:function(m){var p=m.toString(),t="",n=p.indexOf("(");if(-1<n)t=p.substring(++n,p.indexOf(")"));
else if(n=/([A-Z\/]+) \d{4}$/,p=p.match(n))t=p[1];else if(p=m.toLocaleString(),n=/ ([A-Z\/]+)$/,p=p.match(n))t=p[1];return"AM"==t||"PM"==t?"":t},compare:function(m,p,t){m=new Date(+m);p=new Date(+(p||new Date));"date"==t?(m.setHours(0,0,0,0),p.setHours(0,0,0,0)):"time"==t&&(m.setFullYear(0,0,0),p.setFullYear(0,0,0));return m>p?1:m<p?-1:0},add:function(m,p,t){var n=new Date(+m),h=!1,c="Date";switch(p){case "day":break;case "weekday":if(p=t%5)var b=parseInt(t/5);else p=0<t?5:-5,b=0<t?(t-5)/5:(t+5)/
5;var e=m.getDay(),f=0;6==e&&0<t?f=1:0==e&&0>t&&(f=-1);e+=p;if(0==e||6==e)f=0<t?2:-2;t=7*b+p+f;break;case "year":c="FullYear";h=!0;break;case "week":t*=7;break;case "quarter":t*=3;case "month":h=!0;c="Month";break;default:c="UTC"+p.charAt(0).toUpperCase()+p.substring(1)+"s"}if(c)n["set"+c](n["get"+c]()+t);h&&n.getDate()<m.getDate()&&n.setDate(0);return n},difference:function(m,p,t){p=p||new Date;t=t||"day";var n=p.getFullYear()-m.getFullYear(),h=1;switch(t){case "quarter":m=m.getMonth();p=p.getMonth();
h=Math.floor(p/3)+1+4*n-(Math.floor(m/3)+1);break;case "weekday":n=Math.round(a.difference(m,p,"day"));t=parseInt(a.difference(m,p,"week"));if(0==n%7)n=5*t;else{h=0;var c=m.getDay(),b=p.getDay();t=parseInt(n/7);p=n%7;m=new Date(m);m.setDate(m.getDate()+7*t);m=m.getDay();if(0<n)switch(!0){case 6==c:h=-1;break;case 0==c:h=0;break;case 6==b:h=-1;break;case 0==b:h=-2;break;case 5<m+p:h=-2}else if(0>n)switch(!0){case 6==c:h=0;break;case 0==c:h=1;break;case 6==b:h=2;break;case 0==b:h=1;break;case 0>m+p:h=
2}n=n+h-2*t}h=n;break;case "year":h=n;break;case "month":h=p.getMonth()-m.getMonth()+12*n;break;case "week":h=parseInt(a.difference(m,p,"day")/7);break;case "day":h/=24;case "hour":h/=60;case "minute":h/=60;case "second":h/=1E3;case "millisecond":h*=p.getTime()-m.getTime()}return Math.round(h)}};A.mixin(A.getObject("dojo.date",!0),a);return a})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(G,A){var a={};G.setObject("dojo.cldr.supplemental",a);a.getFirstDayOfWeek=
function(m){m={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[a._region(m)];return void 0===m?1:m};a._region=function(m){m=A.normalizeLocale(m);m=m.split("-");
var p=m[1];p?4==p.length&&(p=m[2]):p={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",
ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",
pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",
bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",
gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",
lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",
rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",
unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[m[0]];return p};a.getWeekend=function(m){var p=a._region(m);m={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[p];p={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[p];void 0===m&&(m=6);void 0===p&&(p=0);return{start:m,end:p}};return a})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),
function(G,A,a,m,p,t,n,h,c){a=G.i18n={};var b=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,e=function(E,I,J,K){var L=[J+K];I=I.split("-");for(var O="",U=0;U<I.length;U++)if(O+=(O?"-":"")+I[U],!E||E[O])L.push(J+O+"/"+K),L.specificity=O;return L},f={},k=function(E,I,J){J=J?J.toLowerCase():G.locale;E=E.replace(/\./g,"/");I=I.replace(/\./g,"/");return/root/i.test(J)?E+"/nls/"+I:E+"/nls/"+J+"/"+I},u=G.getL10nName=function(E,I,J){return E=c.id+"!"+k(E,I,J)},v=function(E,I,J,K,L,O){E([I],function(U){var S=
t.clone(U.root||U.ROOT),M=e(!U._v1x&&U,L,J,K);E(M,function(){for(var N=1;N<M.length;N++)S=t.mixin(t.clone(S),arguments[N]);f[I+"/"+L]=S;S.$locale=M.specificity;O()})})},g=function(E){var I=p.extraLocale||[];I=t.isArray(I)?I:[I];I.push(E);return I},q=function(E,I,J){var K=b.exec(E),L=K[1]+"/",O=K[5]||K[4],U=L+O,S=(K=K[5]&&K[4])||G.locale||"",M=U+"/"+S;K=K?[S]:g(S);var N=K.length,T=function(){--N||J(t.delegate(f[M]))};S=E.split("*");var V="preload"==S[1];V&&(f[E]||(f[E]=1,z(S[2],h.parse(S[3]),1,I)),
J(1));(S=V)||(w&&B.push([E,I,J]),S=w&&!f[M]);S||m.forEach(K,function(ea){var P=U+"/"+ea;C(P);f[P]?T():v(I,U,L,O,ea,T)})},x=a.normalizeLocale=function(E){E=E?E.toLowerCase():G.locale;return"root"==E?"ROOT":E},w=0,B=[],z=a._preloadLocalizations=function(E,I,J,K){function L(M,N){K.isXdUrl(A.toUrl(M+".js"))||J?K([M],N):H([M],N,K)}function O(M,N){for(M=M.split("-");M.length;){if(N(M.join("-")))return;M.pop()}N("ROOT")}function U(){for(--w;!w&&B.length;)q.apply(null,B.shift())}function S(M){M=x(M);O(M,
function(N){if(0<=m.indexOf(I,N)){var T=E.replace(/\./g,"/")+"_"+N;w++;L(T,function(V){for(var ea in V){var P=V[ea],ba=ea.match(/(.+)\/([^\/]+)$/);if(ba){var la=ba[2];ba=ba[1]+"/";if(P._localized){var Q;if("ROOT"===N){var Y=Q=P._localized;delete P._localized;Y.root=P;f[A.toAbsMid(ea)]=Y}else Q=P._localized,f[A.toAbsMid(ba+la+"/"+N)]=P;N!==M&&function(ja,pa,ka,va){var Aa=[],da=[];O(M,function(ca){va[ca]&&(Aa.push(A.toAbsMid(ja+ca+"/"+pa)),da.push(A.toAbsMid(ja+pa+"/"+ca)))});Aa.length?(w++,K(Aa,function(){for(var ca=
Aa.length-1;0<=ca;ca--)ka=t.mixin(t.clone(ka),arguments[ca]),f[da[ca]]=ka;f[A.toAbsMid(ja+pa+"/"+M)]=t.clone(ka);U()})):f[A.toAbsMid(ja+pa+"/"+M)]=ka}(ba,la,P,Q)}}}U()});return!0}return!1})}K=K||A;S();m.forEach(G.config.extraLocale,S)},C=function(){},y={},D={},F,H=function(E,I,J){var K=[];m.forEach(E,function(L){function O(M){F||(F=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"));
M=F(M,C,L,y);M===y?K.push(f[U]=y.result):(M instanceof Error&&(console.error("failed to evaluate i18n bundle; url\x3d"+U,M),M={}),K.push(f[U]=/nls\/[^\/]+\/[^\/]+$/.test(U)?M:{root:M,_v1x:1}))}var U=J.toUrl(L+".js");if(f[U])K.push(f[U]);else{var S=J.syncLoadNls(L);S||(S=C(L.replace(/nls\/([^\/]*)\/([^\/]*)$/,"nls/$2/$1")));if(S)K.push(S);else if(n)n.get({url:U,sync:!0,load:O,error:function(){K.push(f[U]={})}});else try{J.getText(U,!0,O)}catch(M){K.push(f[U]={})}}});I&&I.apply(null,K)};C=function(E){for(var I,
J=E.split("/"),K=G.global[J[0]],L=1;K&&L<J.length-1;K=K[J[L++]]);K&&((I=K[J[L]])||(I=K[J[L].replace(/-/g,"_")]),I&&(f[E]=I));return I};a.getLocalization=function(E,I,J){var K,L=k(E,I,J);if(D[L])return D[L];q(L,A.isXdUrl(A.toUrl(L+".js"))?A:function(O,U){H(O,U,A)},function(O){K=D[L]=O});return K};return t.mixin(a,{dynamic:!0,normalize:function(E,I){return/^\./.test(E)?I(E):E},load:q,cache:f,getL10nName:u})})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(G,A){var a={};
A.setObject("dojo.regexp",a);a.escapeString=function(m,p){return m.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(t){return p&&-1!=p.indexOf(t)?t:"\\"+t})};a.buildGroupRE=function(m,p,t){if(!(m instanceof Array))return p(m);for(var n=[],h=0;h<m.length;h++)n.push(p(m[h]));return a.group(n.join("|"),t)};a.group=function(m,p){return"("+(p?"?:":"")+m+")"};return a})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(G,A){var a=/[&<>'"\/]/g,m={"\x26":"\x26amp;","\x3c":"\x26lt;",
"\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},p={};A.setObject("dojo.string",p);p.escape=function(t){return t?t.replace(a,function(n){return m[n]}):""};p.rep=function(t,n){if(0>=n||!t)return"";for(var h=[];;){n&1&&h.push(t);if(!(n>>=1))break;t+=t}return h.join("")};p.pad=function(t,n,h,c){h||(h="0");t=String(t);n=p.rep(h,Math.ceil((n-t.length)/h.length));return c?t+n:n+t};p.substitute=function(t,n,h,c){c=c||G.global;h=h?A.hitch(c,h):function(b){return b};return t.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,
function(b,e,f){if(""==e)return"$";b=A.getObject(e,!1,n);f&&(b=A.getObject(f,!1,c).call(c,b,e));f=h(b,e);if("undefined"===typeof f)throw Error('string.substitute could not find key "'+e+'" in template');return f.toString()})};p.trim=String.prototype.trim?A.trim:function(t){t=t.replace(/^\s+/,"");for(var n=t.length-1;0<=n;n--)if(/\S/.test(t.charAt(n))){t=t.substring(0,n+1);break}return t};return p})},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],
function(G,A,a,m){return A("dojo.fx.Toggler",null,{node:null,showFunc:a.fadeIn,hideFunc:a.fadeOut,showDuration:200,hideDuration:200,constructor:function(p){G.mixin(this,p);this.node=p.node;this._showArgs=G.mixin({},p);this._showArgs.node=this.node;this._showArgs.duration=this.showDuration;this.showAnim=this.showFunc(this._showArgs);this._hideArgs=G.mixin({},p);this._hideArgs.node=this.node;this._hideArgs.duration=this.hideDuration;this.hideAnim=this.hideFunc(this._hideArgs);m.after(this.showAnim,
"beforeBegin",G.hitch(this.hideAnim,"stop",!0),!0);m.after(this.hideAnim,"beforeBegin",G.hitch(this.showAnim,"stop",!0),!0)},show:function(p){return this.showAnim.play(p||0)},hide:function(p){return this.hideAnim.play(p||0)}})})},"dijit/_base":function(){define("./main ./a11y ./WidgetSet ./_base/focus ./_base/manager ./_base/place ./_base/popup ./_base/scroll ./_base/sniff ./_base/typematic ./_base/wai ./_base/window".split(" "),function(G){return G._base})},"dijit/main":function(){define(["dojo/_base/kernel"],
function(G){return G.dijit})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(G,A,a,m,p,t,n){var h={_isElementShown:function(c){var b=m.get(c);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=a.get(c,"type")},hasDefaultTabStop:function(c){switch(c.nodeName.toLowerCase()){case "a":return a.has(c,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;
case "iframe":try{var b=c.contentDocument;if("designMode"in b&&"on"==b.designMode)return!0;var e=b.body}catch(f){try{e=c.contentWindow.document.body}catch(k){return!1}}return e&&("true"==e.contentEditable||e.firstChild&&"true"==e.firstChild.contentEditable);default:return"true"==c.contentEditable}},effectiveTabIndex:function(c){if(!a.get(c,"disabled"))return a.has(c,"tabIndex")?+a.get(c,"tabIndex"):h.hasDefaultTabStop(c)?0:void 0},isTabNavigable:function(c){return 0<=h.effectiveTabIndex(c)},isFocusable:function(c){return-1<=
h.effectiveTabIndex(c)},_getTabNavigable:function(c){function b(C){return C&&"input"==C.tagName.toLowerCase()&&C.type&&"radio"==C.type.toLowerCase()&&C.name&&C.name.toLowerCase()}function e(C){return x[b(C)]||C}var f,k,u,v,g,q,x={},w=h._isElementShown,B=h.effectiveTabIndex,z=function(C){for(C=C.firstChild;C;C=C.nextSibling)if(!(1!=C.nodeType||9>=t("ie")&&"HTML"!==C.scopeName)&&w(C)){var y=B(C);if(0<=y){if(0==y)f||(f=C),k=C;else if(0<y){if(!u||y<v)v=y,u=C;if(!g||y>=q)q=y,g=C}y=b(C);a.get(C,"checked")&&
y&&(x[y]=C)}"SELECT"!=C.nodeName.toUpperCase()&&z(C)}};w(c)&&z(c);return{first:e(f),last:e(k),lowest:e(u),highest:e(g)}},getFirstInTabbingOrder:function(c,b){c=h._getTabNavigable(A.byId(c,b));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(c,b){c=h._getTabNavigable(A.byId(c,b));return c.last?c.last:c.highest}};p.mixin(n,h);return h})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(G,A,a,m){var p=A("dijit.WidgetSet",
null,{constructor:function(){this._hash={};this.length=0},add:function(t){if(this._hash[t.id])throw Error("Tried to register widget with id\x3d\x3d"+t.id+" but that id is already registered");this._hash[t.id]=t;this.length++},remove:function(t){this._hash[t]&&(delete this._hash[t],this.length--)},forEach:function(t,n){n=n||a.global;var h=0,c;for(c in this._hash)t.call(n,this._hash[c],h++,this._hash);return this},filter:function(t,n){n=n||a.global;var h=new p,c=0,b;for(b in this._hash){var e=this._hash[b];
t.call(n,e,c++,this._hash)&&h.add(e)}return h},byId:function(t){return this._hash[t]},byClass:function(t){var n=new p,h;for(h in this._hash){var c=this._hash[h];c.declaredClass==t&&n.add(c)}return n},toArray:function(){var t=[],n;for(n in this._hash)t.push(this._hash[n]);return t},map:function(t,n){return G.map(this.toArray(),t,n)},every:function(t,n){n=n||a.global;var h=0,c;for(c in this._hash)if(!t.call(n,this._hash[c],h++,this._hash))return!1;return!0},some:function(t,n){n=n||a.global;var h=0,
c;for(c in this._hash)if(t.call(n,this._hash[c],h++,this._hash))return!0;return!1}});G.forEach("forEach filter byClass map every some".split(" "),function(t){m[t]=p.prototype[t]});return p})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(G,A,a){var m={},p={},t={length:0,add:function(n){if(p[n.id])throw Error("Tried to register widget with id\x3d\x3d"+n.id+" but that id is already registered");p[n.id]=n;this.length++},remove:function(n){p[n]&&(delete p[n],
this.length--)},byId:function(n){return"string"==typeof n?p[n]:n},byNode:function(n){return p[n.getAttribute("widgetId")]},toArray:function(){var n=[],h;for(h in p)n.push(p[h]);return n},getUniqueId:function(n){do var h=n+"_"+(n in m?++m[n]:m[n]=0);while(p[h]);return"dijit"==a._scopeName?h:a._scopeName+"_"+h},findWidgets:function(n,h){function c(e){for(e=e.firstChild;e;e=e.nextSibling)if(1==e.nodeType){var f=e.getAttribute("widgetId");f?(f=p[f])&&b.push(f):e!==h&&c(e)}}var b=[];c(n);return b},_destroyAll:function(){a._curFocus=
null;a._prevFocus=null;a._activeStack=[];G.forEach(t.findWidgets(A.body()),function(n){n._destroyed||(n.destroyRecursive?n.destroyRecursive():n.destroy&&n.destroy())})},getEnclosingWidget:function(n){for(;n;){var h=1==n.nodeType&&n.getAttribute("widgetId");if(h)return p[h];n=n.parentNode}return null},_hash:p};return a.registry=t})},"dijit/_base/focus":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/topic dojo/_base/window ../focus ../selection ../main".split(" "),function(G,A,a,
m,p,t,n,h){t.focus=function(c){if(c){var b="node"in c?c.node:c,e=c.bookmark;c=c.openedForWindow;var f=e?e.isCollapsed:!1;if(b){var k="iframe"==b.tagName.toLowerCase()?b.contentWindow:b;if(k&&k.focus)try{k.focus()}catch(u){}t._onFocusNode(b)}if(e&&p.withGlobal(c||p.global,h.isCollapsed)&&!f){c&&c.focus();try{p.withGlobal(c||p.global,h.moveToBookmark,null,[e])}catch(u){}}}};t.watch("curNode",function(c,b,e){h._curFocus=e;h._prevFocus=b;e&&m.publish("focusNode",e)});t.watch("activeStack",function(c,
b,e){h._activeStack=e});t.on("widget-blur",function(c,b){m.publish("widgetBlur",c,b)});t.on("widget-focus",function(c,b){m.publish("widgetFocus",c,b)});a.mixin(h,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return h.getBookmark().isCollapsed},getBookmark:function(){return(p.global==window?n:new n.SelectionManager(p.global)).getBookmark()},moveToBookmark:function(c){return(p.global==window?n:new n.SelectionManager(p.global)).moveToBookmark(c)},getFocus:function(c,b){c=!t.curNode||c&&A.isDescendant(t.curNode,
c.domNode)?h._prevFocus:t.curNode;return{node:c,bookmark:c&&c==t.curNode&&p.withGlobal(b||p.global,h.getBookmark),openedForWindow:b}},_activeStack:[],registerIframe:function(c){return t.registerIframe(c)},unregisterIframe:function(c){c&&c.remove()},registerWin:function(c,b){return t.registerWin(c,b)},unregisterWin:function(c){c&&c.remove()}});return h})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q){var x,w,B=new (A([f,n],{curNode:null,activeStack:[],constructor:function(){var C=h.hitch(this,function(y){a.isDescendant(this.curNode,y)&&this.set("curNode",null);a.isDescendant(this.prevNode,y)&&this.set("prevNode",null)});G.before(t,"empty",C);G.before(t,"destroy",C)},registerIframe:function(C){return this.registerWin(C.contentWindow,C)},registerWin:function(C,y){var D=this,F=C.document&&C.document.body;if(F){var H=e("pointer-events")?"pointerdown":e("MSPointer")?
"MSPointerDown":e("touch-events")?"mousedown, touchstart":"mousedown",E=c(C.document,H,function(K){K&&K.target&&null==K.target.parentNode||D._onTouchNode(y||K.target,"mouse")}),I=c(F,"focusin",function(K){if(K.target.tagName){var L=K.target.tagName.toLowerCase();"#document"!=L&&"body"!=L&&(v.isFocusable(K.target)?D._onFocusNode(y||K.target):D._onTouchNode(y||K.target))}}),J=c(F,"focusout",function(K){D._onBlurNode(y||K.target)});return{remove:function(){E.remove();I.remove();J.remove();F=E=I=J=null}}}},
_onBlurNode:function(C){C=(new Date).getTime();C<x+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(h.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),C<w+100||(this._clearActiveWidgetsTimer=setTimeout(h.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(C,y){w=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);p.contains(C,"dijitPopup")&&(C=C.firstChild);var D=[];try{for(;C;){var F=m.get(C,"dijitPopupParent");if(F)C=g.byId(F).domNode;else if(C.tagName&&"body"==C.tagName.toLowerCase()){if(C===k.body())break;C=u.get(C.ownerDocument).frameElement}else{var H=C.getAttribute&&C.getAttribute("widgetId"),E=H&&g.byId(H);!E||"mouse"==y&&E.get("disabled")||D.unshift(H);C=C.parentNode}}}catch(I){}this._setStack(D,
y)},_onFocusNode:function(C){C&&9!=C.nodeType&&(x=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(C),C!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",C)))},_setStack:function(C,y){var D=this.activeStack,F=D.length-1,H=C.length-1;if(C[H]!=D[F]){this.set("activeStack",C);var E;for(E=F;0<=E&&D[E]!=C[E];E--)if(F=g.byId(D[E]))F._hasBeenBlurred=!0,F.set("focused",!1),F._focusManager==this&&F._onBlur(y),
this.emit("widget-blur",F,y);for(E++;E<=H;E++)if(F=g.byId(C[E]))F.set("focused",!0),F._focusManager==this&&F._onFocus(y),this.emit("widget-focus",F,y)}},focus:function(C){if(C)try{C.focus()}catch(y){}}}));b(function(){var C=B.registerWin(u.get(document));e("ie")&&c(window,"unload",function(){C&&(C.remove(),C=null)})});q.focus=function(C){B.focus(C)};for(var z in B)/^_/.test(z)||(q.focus[z]="function"==typeof B[z]?h.hitch(B,z):B[z]);B.watch(function(C,y,D){q.focus[C]=D});return B})},"dojo/Stateful":function(){define(["./_base/declare",
"./_base/lang","./_base/array","./when"],function(G,A,a,m){return G("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(p){var t=this._attrPairNames;return t[p]?t[p]:t[p]={s:"_"+p+"Setter",g:"_"+p+"Getter"}},postscript:function(p){p&&this.set(p)},_get:function(p,t){return"function"===typeof this[t.g]?this[t.g]():this[p]},get:function(p){return this._get(p,this._getAttrNames(p))},set:function(p,t){if("object"===typeof p){for(var n in p)p.hasOwnProperty(n)&&"_watchCallbacks"!=n&&this.set(n,
p[n]);return this}n=this._getAttrNames(p);var h=this._get(p,n);n=this[n.s];var c;"function"===typeof n?c=n.apply(this,Array.prototype.slice.call(arguments,1)):this[p]=t;if(this._watchCallbacks){var b=this;m(c,function(){b._watchCallbacks(p,h,t)})}return this},_changeAttrValue:function(p,t){var n=this.get(p);this[p]=t;this._watchCallbacks&&this._watchCallbacks(p,n,t);return this},watch:function(p,t){var n=this._watchCallbacks;if(!n){var h=this;n=this._watchCallbacks=function(b,e,f,k){var u=function(v){if(v){v=
v.slice();for(var g=0,q=v.length;g<q;g++)v[g].call(h,b,e,f)}};u(n["_"+b]);k||u(n["*"])}}t||"function"!==typeof p?p="_"+p:(t=p,p="*");var c=n[p];"object"!==typeof c&&(c=n[p]=[]);c.push(t);p={};p.unwatch=p.remove=function(){var b=a.indexOf(c,t);-1<b&&c.splice(b,1)};return p}})})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(G,A,a,m,p,t,n){A.add("rtl-adjust-position-for-verticalScrollBar",function(c,b){c=a.body(b);
b=n.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},c,"last");var e=n.create("div",{style:{overflow:"hidden",direction:"ltr"}},b,"last"),f=0!=p.position(e).x;b.removeChild(e);c.removeChild(b);return f});A.add("position-fixed-support",function(c,b){c=a.body(b);b=n.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},c,"last");var e=n.create("span",{style:{position:"fixed",
left:"0",top:"0"}},b,"last"),f=p.position(e).x!=p.position(b).x;b.removeChild(e);c.removeChild(b);return f});var h={getBox:function(c){c=c||a.doc;var b="BackCompat"==c.compatMode?a.body(c):c.documentElement,e=p.docScroll(c);if(A("touch")){var f=h.get(c);c=f.innerWidth||b.clientWidth;b=f.innerHeight||b.clientHeight}else c=b.clientWidth,b=b.clientHeight;return{l:e.x,t:e.y,w:c,h:b}},get:function(c){if(A("ie")&&h!==document.parentWindow){c.parentWindow.execScript("document._parentWindow \x3d window;",
"Javascript");var b=c._parentWindow;c._parentWindow=null;return b}return c.parentWindow||c.defaultView},scrollIntoView:function(c,b){try{c=m.byId(c);var e=c.ownerDocument||a.doc,f=a.body(e),k=e.documentElement||f.parentNode,u=A("ie")||A("trident"),v=A("webkit");if(c!=f&&c!=k)if(!(A("mozilla")||u||v||A("opera")||A("trident")||A("edge"))&&"scrollIntoView"in c)c.scrollIntoView(!1);else{var g="BackCompat"==e.compatMode,q=Math.min(f.clientWidth||k.clientWidth,k.clientWidth||f.clientWidth),x=Math.min(f.clientHeight||
k.clientHeight,k.clientHeight||f.clientHeight);e=v||g?f:k;var w=b||p.position(c),B=c.parentNode;b=function(S){return 6>=u||7==u&&g?!1:A("position-fixed-support")&&"fixed"==t.get(S,"position").toLowerCase()};var z=this;v=function(S,M,N){"BODY"==S.tagName||"HTML"==S.tagName?z.get(S.ownerDocument).scrollBy(M,N):(M&&(S.scrollLeft+=M),N&&(S.scrollTop+=N))};if(!b(c))for(;B;){B==f&&(B=e);var C=p.position(B),y=b(B),D="rtl"==t.getComputedStyle(B).direction.toLowerCase();if(B==e)C.w=q,C.h=x,e==k&&(u||A("trident"))&&
D&&(C.x+=e.offsetWidth-C.w),C.x=0,C.y=0;else{var F=p.getPadBorderExtents(B);C.w-=F.w;C.h-=F.h;C.x+=F.l;C.y+=F.t;var H=B.clientWidth,E=C.w-H;0<H&&0<E&&(D&&A("rtl-adjust-position-for-verticalScrollBar")&&(C.x+=E),C.w=H);H=B.clientHeight;E=C.h-H;0<H&&0<E&&(C.h=H)}y&&(0>C.y&&(C.h+=C.y,C.y=0),0>C.x&&(C.w+=C.x,C.x=0),C.y+C.h>x&&(C.h=x-C.y),C.x+C.w>q&&(C.w=q-C.x));var I=w.x-C.x,J=w.y-C.y,K=I+w.w-C.w,L=J+w.h-C.h;if(0<K*I&&(B.scrollLeft||B==e||B.scrollWidth>B.offsetHeight)){var O=Math[0>I?"max":"min"](I,K);
D&&(8==u&&!g||5<=A("trident"))&&(O=-O);var U=B.scrollLeft;v(B,O,0);O=B.scrollLeft-U;w.x-=O}0<L*J&&(B.scrollTop||B==e||B.scrollHeight>B.offsetHeight)&&(O=Math.ceil(Math[0>J?"max":"min"](J,L)),U=B.scrollTop,v(B,0,O),O=B.scrollTop-U,w.y-=O);B=B!=e&&!y&&B.parentNode}}}catch(S){console.error("scrollIntoView: "+S),c.scrollIntoView(!1)}}};G.setObject("dojo.window",h);return h})},"dijit/selection":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/sniff dojo/_base/window dijit/focus".split(" "),
function(G,A,a,m,p,t){var n=function(c){var b=c.document;this.getType=function(){if(b.getSelection){var e="text";try{var f=c.getSelection()}catch(k){}f&&1==f.rangeCount&&(f=f.getRangeAt(0),f.startContainer==f.endContainer&&1==f.endOffset-f.startOffset&&3!=f.startContainer.nodeType&&(e="control"));return e}return b.selection.type.toLowerCase()};this.getSelectedText=function(){if(b.getSelection){var e=c.getSelection();return e?e.toString():""}return"control"==this.getType()?null:b.selection.createRange().text};
this.getSelectedHtml=function(){if(b.getSelection){var e=c.getSelection();if(e&&e.rangeCount){var f,k="";for(f=0;f<e.rangeCount;f++){var u=e.getRangeAt(f).cloneContents(),v=b.createElement("div");v.appendChild(u);k+=v.innerHTML}return k}return null}return"control"==this.getType()?null:b.selection.createRange().htmlText};this.getSelectedElement=function(){if("control"==this.getType()){if(b.getSelection){var e=c.getSelection();return e.anchorNode.childNodes[e.anchorOffset]}if((e=b.selection.createRange())&&
e.item)return b.selection.createRange().item(0)}return null};this.getParentElement=function(){if("control"==this.getType()){var e=this.getSelectedElement();if(e)return e.parentNode}else if(b.getSelection){if(e=b.getSelection()){for(e=e.anchorNode;e&&1!=e.nodeType;)e=e.parentNode;return e}}else return e=b.selection.createRange(),e.collapse(!0),e.parentElement();return null};this.hasAncestorElement=function(e){return null!=this.getAncestorElement.apply(this,arguments)};this.getAncestorElement=function(e){var f=
this.getSelectedElement()||this.getParentElement();return this.getParentOfType(f,arguments)};this.isTag=function(e,f){if(e&&e.tagName){e=e.tagName.toLowerCase();for(var k=0;k<f.length;k++){var u=String(f[k]).toLowerCase();if(e==u)return u}}return""};this.getParentOfType=function(e,f){for(;e;){if(this.isTag(e,f).length)return e;e=e.parentNode}return null};this.collapse=function(e){if(b.getSelection){var f=c.getSelection();f.removeAllRanges?e?f.collapseToStart():f.collapseToEnd():f.collapse(e)}else f=
b.selection.createRange(),f.collapse(e),f.select()};this.remove=function(){var e=b.selection;b.getSelection?(e=c.getSelection(),e.deleteFromDocument()):"none"!=e.type.toLowerCase()&&e.clear();return e};this.selectElementChildren=function(e,f){e=A.byId(e);if(b.getSelection)if(f=c.getSelection(),m("opera")){var k=f.rangeCount?f.getRangeAt(0):b.createRange();k.setStart(e,0);k.setEnd(e,3==e.nodeType?e.length:e.childNodes.length);f.addRange(k)}else f.selectAllChildren(e);else if(k=e.ownerDocument.body.createTextRange(),
k.moveToElementText(e),!f)try{k.select()}catch(u){}};this.selectElement=function(e,f){e=A.byId(e);if(b.getSelection){f=b.getSelection();var k=b.createRange();f.removeAllRanges&&(m("opera")&&f.getRangeAt(0)&&(k=f.getRangeAt(0)),k.selectNode(e),f.removeAllRanges(),f.addRange(k))}else try{var u=e.tagName?e.tagName.toLowerCase():"";k="img"===u||"table"===u?p.body(b).createControlRange():p.body(b).createRange();k.addElement(e);f||k.select()}catch(v){this.selectElementChildren(e,f)}};this.inSelection=function(e){if(e){var f;
if(b.getSelection){var k=c.getSelection();k&&0<k.rangeCount&&(f=k.getRangeAt(0));if(f&&f.compareBoundaryPoints&&b.createRange)try{var u=b.createRange();u.setStart(e,0);if(1===f.compareBoundaryPoints(f.START_TO_END,u))return!0}catch(v){}}else{f=b.selection.createRange();try{u=e.ownerDocument.body.createTextRange(),u.moveToElementText(e)}catch(v){}if(f&&u&&1===f.compareEndPoints("EndToStart",u))return!0}}return!1};this.getBookmark=function(){var e,f=b.selection,k=t.curNode;if(b.getSelection){if(f=c.getSelection())if(f.isCollapsed){if(e=
k?k.tagName:"")if(e=e.toLowerCase(),"textarea"==e||"input"==e&&(!k.type||"text"==k.type.toLowerCase()))return f={start:k.selectionStart,end:k.selectionEnd,node:k,pRange:!0},{isCollapsed:f.end<=f.start,mark:f};e={isCollapsed:!0};f.rangeCount&&(e.mark=f.getRangeAt(0).cloneRange())}else{var u=f.getRangeAt(0);e={isCollapsed:!1,mark:u.cloneRange()}}}else if(f){e=k?k.tagName:"";e=e.toLowerCase();if(k&&e&&("button"==e||"textarea"==e||"input"==e)){if(f.type&&"none"==f.type.toLowerCase())return{isCollapsed:!0,
mark:null};u=f.createRange();return{isCollapsed:u.text&&u.text.length?!1:!0,mark:{range:u,pRange:!0}}}e={};try{u=f.createRange(),e.isCollapsed=!("Text"==f.type?u.htmlText.length:u.length)}catch(v){return e.isCollapsed=!0,e}if("CONTROL"==f.type.toUpperCase())if(u.length)for(e.mark=[],f=0,k=u.length;f<k;)e.mark.push(u.item(f++));else e.isCollapsed=!0,e.mark=null;else e.mark=u.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return e};this.moveToBookmark=
function(e){if(e=e.mark)if(b.getSelection){var f=c.getSelection();f&&f.removeAllRanges?e.pRange?(f=e.node,f.selectionStart=e.start,f.selectionEnd=e.end):(f.removeAllRanges(),f.addRange(e)):console.warn("No idea how to restore selection for this browser!")}else if(b.selection&&e){if(e.pRange)var k=e.range;else a.isArray(e)?(k=b.body.createControlRange(),G.forEach(e,function(u){k.addElement(u)})):(k=b.body.createTextRange(),k.moveToBookmark(e));k.select()}};this.isCollapsed=function(){return this.getBookmark().isCollapsed}},
h=new n(window);h.SelectionManager=n;return h})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(G,A,a,m,p){var t={};G.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(n){t[n]=m[n]});a.mixin(t,{defaultDuration:A.defaultDuration||200});a.mixin(p,t);return p})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],
function(G,A,a,m,p){var t={getViewport:function(){return a.getBox()}};t.placeOnScreen=m.at;t.placeOnScreenAroundElement=function(n,h,c,b){if(A.isArray(c))var e=c;else{e=[];for(var f in c)e.push({aroundCorner:f,corner:c[f]})}return m.around(n,h,e,!0,b)};t.placeOnScreenAroundNode=t.placeOnScreenAroundElement;t.placeOnScreenAroundRectangle=t.placeOnScreenAroundElement;t.getPopupAroundAlignment=function(n,h){var c={};G.forEach(n,function(b){var e=h;switch(b){case "after":c[h?"BR":"BL"]=h?"BL":"BR";break;
case "before":c[h?"BL":"BR"]=h?"BR":"BL";break;case "below-alt":e=!e;case "below":c[e?"BL":"BR"]=e?"TL":"TR";c[e?"BR":"BL"]=e?"TR":"TL";break;case "above-alt":e=!e;default:c[e?"TL":"TR"]=e?"BL":"BR",c[e?"TR":"TL"]=e?"BR":"BL"}});return c};A.mixin(p,t);return p})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(G,A,a,m,p,t,n){function h(b,e,f,k){var u=t.getEffectiveBox(b.ownerDocument);b.parentNode&&
"body"==String(b.parentNode.tagName).toLowerCase()||p.body(b.ownerDocument).appendChild(b);var v=null;G.some(e,function(x){var w=x.corner,B=x.pos,z=0,C={w:{L:u.l+u.w-B.x,R:B.x-u.l,M:u.w}[w.charAt(1)],h:{T:u.t+u.h-B.y,B:B.y-u.t,M:u.h}[w.charAt(0)]},y=b.style;y.left=y.right="auto";f&&(z=f(b,x.aroundCorner,w,C,k),z="undefined"==typeof z?0:z);var D=b.style,F=D.display,H=D.visibility;"none"==D.display&&(D.visibility="hidden",D.display="");y=A.position(b);D.display=F;D.visibility=H;F={L:B.x,R:B.x-y.w,M:Math.max(u.l,
Math.min(u.l+u.w,B.x+(y.w>>1))-y.w)}[w.charAt(1)];H={T:B.y,B:B.y-y.h,M:Math.max(u.t,Math.min(u.t+u.h,B.y+(y.h>>1))-y.h)}[w.charAt(0)];B=Math.max(u.l,F);D=Math.max(u.t,H);F=Math.min(u.l+u.w,F+y.w)-B;H=Math.min(u.t+u.h,H+y.h)-D;z+=y.w-F+(y.h-H);if(null==v||z<v.overflow)v={corner:w,aroundCorner:x.aroundCorner,x:B,y:D,w:F,h:H,overflow:z,spaceAvailable:C};return!z});v.overflow&&f&&f(b,v.aroundCorner,v.corner,v.spaceAvailable,k);e=v.y;var g=v.x,q=p.body(b.ownerDocument);/relative|absolute/.test(a.get(q,
"position"))&&(e-=a.get(q,"marginTop"),g-=a.get(q,"marginLeft"));q=b.style;q.top=e+"px";q.left=g+"px";q.right="auto";return v}var c={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return n.place={at:function(b,e,f,k,u){f=G.map(f,function(v){var g={corner:v,aroundCorner:c[v],pos:{x:e.x,y:e.y}};k&&(g.pos.x+="L"==v.charAt(1)?k.x:-k.x,g.pos.y+="T"==v.charAt(0)?k.y:-k.y);return g});return h(b,f,u)},around:function(b,e,f,k,u){function v(E,I){H.push({aroundCorner:E,corner:I,pos:{x:{L:C,R:C+D,M:C+(D>>1)}[E.charAt(1)],
y:{T:y,B:y+F,M:y+(F>>1)}[E.charAt(0)]}})}if("string"==typeof e||"offsetWidth"in e||"ownerSVGElement"in e){var g=A.position(e,!0);if(/^(above|below)/.test(f[0])){var q=A.getBorderExtents(e),x=e.firstChild?A.getBorderExtents(e.firstChild):{t:0,l:0,b:0,r:0},w=A.getBorderExtents(b),B=b.firstChild?A.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0};g.y+=Math.min(q.t+x.t,w.t+B.t);g.h-=Math.min(q.t+x.t,w.t+B.t)+Math.min(q.b+x.b,w.b+B.b)}}else g=e;if(e.parentNode)for(q="absolute"==a.getComputedStyle(e).position,
e=e.parentNode;e&&1==e.nodeType&&"BODY"!=e.nodeName;){x=A.position(e,!0);w=a.getComputedStyle(e);/relative|absolute/.test(w.position)&&(q=!1);if(!q&&/hidden|auto|scroll/.test(w.overflow)){B=Math.min(g.y+g.h,x.y+x.h);var z=Math.min(g.x+g.w,x.x+x.w);g.x=Math.max(g.x,x.x);g.y=Math.max(g.y,x.y);g.h=B-g.y;g.w=z-g.x}"absolute"==w.position&&(q=!0);e=e.parentNode}var C=g.x,y=g.y,D="w"in g?g.w:g.w=g.width,F="h"in g?g.h:(m.deprecated("place.around: dijit/place.__Rectangle: { x:"+C+", y:"+y+", height:"+g.height+
", width:"+D+" } has been deprecated.  Please use { x:"+C+", y:"+y+", h:"+g.height+", w:"+D+" }","","2.0"),g.h=g.height),H=[];G.forEach(f,function(E){var I=k;switch(E){case "above-centered":v("TM","BM");break;case "below-centered":v("BM","TM");break;case "after-centered":I=!I;case "before-centered":v(I?"ML":"MR",I?"MR":"ML");break;case "after":I=!I;case "before":v(I?"TL":"TR",I?"TR":"TL");v(I?"BL":"BR",I?"BR":"BL");break;case "below-alt":I=!I;case "below":v(I?"BL":"BR",I?"TL":"TR");v(I?"BR":"BL",
I?"TR":"TL");break;case "above-alt":I=!I;case "above":v(I?"TL":"TR",I?"BL":"BR");v(I?"TR":"TL",I?"BR":"BL");break;default:v(E.aroundCorner,E.corner)}});b=h(b,H,u,{w:D,h:F});b.aroundNodePos=g;return b}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(G,A,a,m,p){var t=new G,n;a(function(){var h=p.getBox();t._rlh=A(window,"resize",function(){var b=p.getBox();if(h.h!=b.h||h.w!=b.w)h=b,t.emit("resize")});if(8==m("ie")){var c=screen.deviceXDPI;
setInterval(function(){screen.deviceXDPI!=c&&(c=screen.deviceXDPI,t.emit("resize"))},500)}m("ios")&&(A(document,"focusin",function(b){n=b.target}),A(document,"focusout",function(b){n=null}))});t.getEffectiveBox=function(h){h=p.getBox(h);var c=n&&n.tagName&&n.tagName.toLowerCase();m("ios")&&n&&!n.readOnly&&("textarea"==c||"input"==c&&/^(color|email|number|password|search|tel|text|url)$/.test(n.type))&&(h.h*=0==orientation||180==orientation?.66:.4,c=n.getBoundingClientRect(),h.h=Math.max(h.h,c.top+
c.height));return h};return t})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(G,A,a){var m=a._createWrapper;a._createWrapper=function(t){t.declaredClass||(t={_popupWrapper:t.parentNode&&G.contains(t.parentNode,"dijitPopup")?t.parentNode:null,domNode:t,destroy:function(){},ownerDocument:t.ownerDocument,ownerDocumentBody:A.body(t.ownerDocument)});return m.call(this,t)};var p=a.open;a.open=function(t){if(t.orient&&"string"!=typeof t.orient&&
!("length"in t.orient)){var n=[],h;for(h in t.orient)n.push({aroundCorner:h,corner:t.orient[h]});t.orient=n}return p.call(this,t)};return a})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main dojo/touch".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g){function q(){this._popupWrapper&&(t.destroy(this._popupWrapper),
delete this._popupWrapper)}a=a(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var x=this._firstAroundPosition,w=n.position(this._firstAroundNode,!0),B=w.x-x.x;x=w.y-x.y;if(B||x)for(this._firstAroundPosition=w,w=0;w<this._stack.length;w++){var z=this._stack[w].wrapper.style;z.top=parseFloat(z.top)+x+"px";"auto"==z.right?z.left=parseFloat(z.left)+B+"px":z.right=parseFloat(z.right)-B+"px"}this._aroundMoveListener=setTimeout(e.hitch(this,"_repositionAll"),
B||x?10:50)}},_createWrapper:function(x){var w=x._popupWrapper,B=x.domNode;w||(w=t.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":x["aria-label"]||x.label||x.name||x.id},x.ownerDocumentBody),w.appendChild(B),B=B.style,B.display="",B.visibility="",B.position="",B.top="0px",x._popupWrapper=w,A.after(x,"destroy",q,!0),"ontouchend"in document&&f(w,"touchend",function(z){/^(input|button|textarea)$/i.test(z.target.tagName)||z.preventDefault()}),w.dojoClick=!0);return w},
moveOffScreen:function(x){var w=this._createWrapper(x);x=n.isBodyLtr(x.ownerDocument);var B={visibility:"hidden",top:"-9999px",display:""};B[x?"left":"right"]="-9999px";B[x?"right":"left"]="auto";h.set(w,B);return w},hide:function(x){var w=this._createWrapper(x);h.set(w,{display:"none",height:"auto",overflowY:"visible",border:""});x=x.domNode;"_originalStyle"in x&&(x.style.cssText=x._originalStyle)},getTopPopup:function(){for(var x=this._stack,w=x.length-1;0<w&&x[w].parent===x[w-1].widget;w--);return x[w]},
open:function(x){for(var w=this._stack,B=x.popup,z=B.domNode,C=x.orient||["below","below-alt","above","above-alt"],y=x.parent?x.parent.isLeftToRight():n.isBodyLtr(B.ownerDocument),D=x.around,F=x.around&&x.around.id?x.around.id+"_dropdown":"popup_"+this._idGen++;w.length&&(!x.parent||!m.isDescendant(x.parent.domNode,w[w.length-1].widget.domNode));)this.close(w[w.length-1].widget);var H=this.moveOffScreen(B);B.startup&&!B._started&&B.startup();var E=n.position(z);if("maxHeight"in x&&-1!=x.maxHeight)var I=
x.maxHeight||Infinity;else{I=v.getEffectiveBox(this.ownerDocument);var J=D?n.position(D,!1):{y:x.y-(x.padding||0),h:2*(x.padding||0)};I=Math.floor(Math.max(J.y,I.h-(J.y+J.h)))}E.h>I&&(E=h.getComputedStyle(z),h.set(H,{overflowY:"scroll",height:I+"px",border:E.borderLeftWidth+" "+E.borderLeftStyle+" "+E.borderLeftColor}),z._originalStyle=z.style.cssText,z.style.border="none");p.set(H,{id:F,style:{zIndex:this._beginZIndex+w.length},"class":"dijitPopup "+(B.baseClass||B["class"]||"").split(" ")[0]+"Popup",
dijitPopupParent:x.parent?x.parent.id:""});0==w.length&&D&&(this._firstAroundNode=D,this._firstAroundPosition=n.position(D,!0),this._aroundMoveListener=setTimeout(e.hitch(this,"_repositionAll"),50));c("config-bgIframe")&&!B.bgIframe&&(B.bgIframe=new u(H));F=B.orient?e.hitch(B,"orient"):null;C=D?k.around(H,D,C,y,F):k.at(H,x,"R"==C?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],x.padding,F);H.style.visibility="visible";z.style.visibility="visible";z=[];z.push(f(H,"keydown",e.hitch(this,function(K){if(K.keyCode==
b.ESCAPE&&x.onCancel)K.stopPropagation(),K.preventDefault(),x.onCancel();else if(K.keyCode==b.TAB&&(K.stopPropagation(),K.preventDefault(),(K=this.getTopPopup())&&K.onCancel))K.onCancel()})));B.onCancel&&x.onCancel&&z.push(B.on("cancel",x.onCancel));z.push(B.on(B.onExecute?"execute":"change",e.hitch(this,function(){var K=this.getTopPopup();if(K&&K.onExecute)K.onExecute()})));w.push({widget:B,wrapper:H,parent:x.parent,onExecute:x.onExecute,onCancel:x.onCancel,onClose:x.onClose,handlers:z});if(B.onOpen)B.onOpen(C);
return C},close:function(x){for(var w=this._stack;x&&G.some(w,function(D){return D.widget==x})||!x&&w.length;){var B=w.pop(),z=B.widget,C=B.onClose;z.bgIframe&&(z.bgIframe.destroy(),delete z.bgIframe);if(z.onClose)z.onClose();for(var y;y=B.handlers.pop();)y.remove();z&&z.domNode&&this.hide(z);C&&C()}0==w.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return g.popup=new a})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),
function(G,A,a,m,p,t,n,h){h.add("config-bgIframe",(h("ie")||h("trident"))&&!/IEMobile\/10\.0/.test(navigator.userAgent));var c=new function(){var b=[];this.pop=function(){if(b.length){var e=b.pop();e.style.display=""}else 9>h("ie")?(e=a.dojoBlankHtmlUrl||G.toUrl("dojo/resources/blank.html")||'javascript:""',e=document.createElement("\x3ciframe src\x3d'"+e+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e")):(e=m.create("iframe"),
e.src='javascript:""',e.className="dijitBackgroundIframe",e.setAttribute("role","presentation"),p.set(e,"opacity",.1)),e.tabIndex=-1;return e};this.push=function(e){e.style.display="none";b.push(e)}};A.BackgroundIframe=function(b){if(!b.id)throw Error("no id");if(h("config-bgIframe")){var e=this.iframe=c.pop();b.appendChild(e);7>h("ie")||h("quirks")?(this.resize(b),this._conn=n(b,"resize",t.hitch(this,"resize",b))):p.set(e,{width:"100%",height:"100%"})}};t.extend(A.BackgroundIframe,{resize:function(b){this.iframe&&
p.set(this.iframe,{width:b.offsetWidth+"px",height:b.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),c.push(this.iframe),delete this.iframe)}});return A.BackgroundIframe})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(G,A,a,m,p,t,n,h,c,b){function e(J,K,L){return v&&L?function(O,U){return t(O,
L,U)}:q?function(O,U){var S=t(O,K,function(N){U.call(this,N);E=(new Date).getTime()}),M=t(O,J,function(N){(!E||(new Date).getTime()>E+1E3)&&U.call(this,N)});return{remove:function(){S.remove();M.remove()}}}:function(O,U){return t(O,J,U)}}function f(J){do if(void 0!==J.dojoClick)return J;while(J=J.parentNode)}function k(J,K,L){if(!h.isRight(J)){var O=f(J.target);if(w=!J.target.disabled&&O&&O.dojoClick)if(z=(B="useTarget"==w)?O:J.target,B&&J.preventDefault(),C=J.changedTouches?J.changedTouches[0].pageX-
b.global.pageXOffset:J.clientX,y=J.changedTouches?J.changedTouches[0].pageY-b.global.pageYOffset:J.clientY,D=("object"==typeof w?w.x:"number"==typeof w?w:0)||4,F=("object"==typeof w?w.y:"number"==typeof w?w:0)||4,!x){x=!0;var U=function(S){w=B?a.isDescendant(b.doc.elementFromPoint(S.changedTouches?S.changedTouches[0].pageX-b.global.pageXOffset:S.clientX,S.changedTouches?S.changedTouches[0].pageY-b.global.pageYOffset:S.clientY),z):w&&(S.changedTouches?S.changedTouches[0].target:S.target)==z&&Math.abs((S.changedTouches?
S.changedTouches[0].pageX-b.global.pageXOffset:S.clientX)-C)<=D&&Math.abs((S.changedTouches?S.changedTouches[0].pageY-b.global.pageYOffset:S.clientY)-y)<=F};b.doc.addEventListener(K,function(S){h.isRight(S)||(U(S),B&&S.preventDefault())},!0);b.doc.addEventListener(L,function(S){if(!h.isRight(S)&&(U(S),w)){H=(new Date).getTime();var M=B?z:S.target;"LABEL"===M.tagName&&(M=a.byId(M.getAttribute("for"))||M);var N=S.changedTouches?S.changedTouches[0]:S,T=function(ba){var la=document.createEvent("MouseEvents");
la._dojo_click=!0;la.initMouseEvent(ba,!0,!0,S.view,S.detail,N.screenX,N.screenY,N.clientX,N.clientY,S.ctrlKey,S.altKey,S.shiftKey,S.metaKey,0,null);return la},V=T("mousedown"),ea=T("mouseup"),P=T("click");setTimeout(function(){t.emit(M,"mousedown",V);t.emit(M,"mouseup",ea);t.emit(M,"click",P);H=(new Date).getTime()},0)}},!0);J=function(S){b.doc.addEventListener(S,function(M){var N=M.target;w&&!M._dojo_click&&(new Date).getTime()<=H+1E3&&("INPUT"!=N.tagName||!m.contains(N,"dijitOffScreen"))&&(M.stopPropagation(),
M.stopImmediatePropagation&&M.stopImmediatePropagation(),"click"==S&&("INPUT"!=N.tagName||"radio"==N.type&&(m.contains(N,"dijitCheckBoxInput")||m.contains(N,"mblRadioButton"))||"checkbox"==N.type&&(m.contains(N,"dijitCheckBoxInput")||m.contains(N,"mblCheckBox")))&&"TEXTAREA"!=N.tagName&&"AUDIO"!=N.tagName&&"VIDEO"!=N.tagName&&M.preventDefault())},!0)};J("click");J("mousedown");J("mouseup")}}}var u=5>n("ios"),v=n("pointer-events")||n("MSPointer"),g=function(){var J={},K;for(K in{down:1,move:1,up:1,
cancel:1,over:1,out:1})J[K]=n("MSPointer")?"MSPointer"+K.charAt(0).toUpperCase()+K.slice(1):"pointer"+K;return J}(),q=n("touch-events"),x,w,B=!1,z,C,y,D,F,H,E,I;n("touch")&&(v?c(function(){b.doc.addEventListener(g.down,function(J){k(J,g.move,g.up)},!0)}):c(function(){function J(K){var L=p.delegate(K,{bubbles:!0});6<=n("ios")&&(L.touches=K.touches,L.altKey=K.altKey,L.changedTouches=K.changedTouches,L.ctrlKey=K.ctrlKey,L.metaKey=K.metaKey,L.shiftKey=K.shiftKey,L.targetTouches=K.targetTouches);return L}
I=b.body();b.doc.addEventListener("touchstart",function(K){E=(new Date).getTime();var L=I;I=K.target;t.emit(L,"dojotouchout",{relatedTarget:I,bubbles:!0});t.emit(I,"dojotouchover",{relatedTarget:L,bubbles:!0});k(K,"touchmove","touchend")},!0);t(b.doc,"touchmove",function(K){E=(new Date).getTime();var L=b.doc.elementFromPoint(K.pageX-(u?0:b.global.pageXOffset),K.pageY-(u?0:b.global.pageYOffset));L&&(I!==L&&(t.emit(I,"dojotouchout",{relatedTarget:L,bubbles:!0}),t.emit(L,"dojotouchover",{relatedTarget:I,
bubbles:!0}),I=L),t.emit(L,"dojotouchmove",J(K))||K.preventDefault())});t(b.doc,"touchend",function(K){E=(new Date).getTime();var L=b.doc.elementFromPoint(K.pageX-(u?0:b.global.pageXOffset),K.pageY-(u?0:b.global.pageYOffset))||b.body();t.emit(L,"dojotouchend",J(K))})}));A={press:e("mousedown","touchstart",g.down),move:e("mousemove","dojotouchmove",g.move),release:e("mouseup","dojotouchend",g.up),cancel:e(h.leave,"touchcancel",v?g.cancel:null),over:e("mouseover","dojotouchover",g.over),out:e("mouseout",
"dojotouchout",g.out),enter:h._eventHandler(e("mouseover","dojotouchover",g.over)),leave:h._eventHandler(e("mouseout","dojotouchout",g.out))};return G.touch=A})},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(G,A){A.scrollIntoView=function(a,m){G.scrollIntoView(a,m)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(G,A,a,m,p){var t=p.doc.documentElement;
p=m("ie");var n=m("trident"),h=m("opera"),c=Math.floor,b=m("ff"),e=G.boxModel.replace(/-/,"");h={dj_quirks:m("quirks"),dj_opera:h,dj_khtml:m("khtml"),dj_webkit:m("webkit"),dj_safari:m("safari"),dj_chrome:m("chrome"),dj_edge:m("edge"),dj_gecko:m("mozilla"),dj_ios:m("ios"),dj_android:m("android")};p&&(h.dj_ie=!0,h["dj_ie"+c(p)]=!0,h.dj_iequirks=m("quirks"));n&&(h.dj_trident=!0,h["dj_trident"+c(n)]=!0);b&&(h["dj_ff"+c(b)]=!0);h["dj_"+e]=!0;var f="",k;for(k in h)h[k]&&(f+=k+" ");t.className=A.trim(t.className+
" "+f);a(function(){if(!G.isBodyLtr()){var u="dj_rtl dijitRtl "+f.replace(/ /g,"-rtl ");t.className=A.trim(t.className+" "+u+"dj_rtl dijitRtl "+f.replace(/ /g,"-rtl "))}});return m})},"dijit/_base/typematic":function(){define(["../typematic"],function(){})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(G,A,a,m,p,t){var n=t.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,
this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(a.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(h,c,b,e,f,k,u,v){if(f!=this._obj){this.stop();this._initialDelay=u||500;this._subsequentDelay=k||.9;this._minDelay=v||10;this._obj=f;this._node=b;this._count=this._currentTimeout=-1;this._callback=
a.hitch(c,e);this._evt={faux:!0};for(var g in h)"layerX"!=g&&"layerY"!=g&&(c=h[g],"function"!=typeof c&&"undefined"!=typeof c&&(this._evt[g]=c));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(h,c,b,e,f,k,u){var v="keyCode"in c?"keyCode":"charCode"in c?"charCode":"charOrCode",g=[m(h,"keyCode"in c?"keydown":"charCode"in c?"keypress":A._keypress,a.hitch(this,
function(q){q[v]!=c[v]||void 0!==c.ctrlKey&&c.ctrlKey!=q.ctrlKey||void 0!==c.altKey&&c.altKey!=q.altKey||void 0!==c.metaKey&&c.metaKey!=(q.metaKey||!1)||void 0!==c.shiftKey&&c.shiftKey!=q.shiftKey?n._obj==c&&n.stop():(q.stopPropagation(),q.preventDefault(),n.trigger(q,b,h,e,c,f,k,u))})),m(h,"keyup",a.hitch(this,function(){n._obj==c&&n.stop()}))];return{remove:function(){G.forEach(g,function(q){q.remove()})}}},addMouseListener:function(h,c,b,e,f,k){var u=[m(h,"mousedown",a.hitch(this,function(v){v.preventDefault();
n.trigger(v,c,h,b,h,e,f,k)})),m(h,"mouseup",a.hitch(this,function(v){this._obj&&v.preventDefault();n.stop()})),m(h,"mouseout",a.hitch(this,function(v){this._obj&&v.preventDefault();n.stop()})),m(h,"dblclick",a.hitch(this,function(v){v.preventDefault();9>p("ie")&&(n.trigger(v,c,h,b,h,e,f,k),setTimeout(a.hitch(this,n.stop),50))}))];return{remove:function(){G.forEach(u,function(v){v.remove()})}}},addListener:function(h,c,b,e,f,k,u,v){var g=[this.addKeyListener(c,b,e,f,k,u,v),this.addMouseListener(h,
e,f,k,u,v)];return{remove:function(){G.forEach(g,function(q){q.remove()})}}}};return n})},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(G,A,a){A.mixin(a,{hasWaiRole:function(m,p){m=this.getWaiRole(m);return p?-1<m.indexOf(p):0<m.length},getWaiRole:function(m){return A.trim((G.get(m,"role")||"").replace("wairole:",""))},setWaiRole:function(m,p){G.set(m,"role",p)},removeWaiRole:function(m,p){var t=G.get(m,"role");t&&(p?(p=A.trim((" "+t+" ").replace(" "+
p+" "," ")),G.set(m,"role",p)):m.removeAttribute("role"))},hasWaiState:function(m,p){return m.hasAttribute?m.hasAttribute("aria-"+p):!!m.getAttribute("aria-"+p)},getWaiState:function(m,p){return m.getAttribute("aria-"+p)||""},setWaiState:function(m,p,t){m.setAttribute("aria-"+p,t)},removeWaiState:function(m,p){m.removeAttribute("aria-"+p)}});return a})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(G,A,a,m){a(function(){A("highcontrast")&&
G.add(m.body(),"dijit_a11y")});return A})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(G,A,a,m,p,t,n){p.add("highcontrast",function(){var h=n.doc.createElement("div");try{h.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(A.blankGif||G.toUrl("./resources/blank.gif"))+'");';n.body().appendChild(h);var c=m.getComputedStyle(h),b=c.backgroundImage;
return c.borderTopColor==c.borderRightColor||b&&("none"==b||"url(invalid-url:)"==b)}catch(e){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+e.toString()),!1}finally{8>=p("ie")?h.outerHTML="":n.body().removeChild(h)}});t(function(){p("highcontrast")&&a.add(n.body(),"dj_a11y")});return p})},"dijit/_base/window":function(){define(["dojo/window","../main"],function(G,A){A.getDocumentWindow=function(a){return G.get(a)}})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k){G=G("dijit.TooltipDialog",[h,e,b,c],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:f,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(t(this.domNode,"keydown",p.hitch(this,"_onKey")))},orient:function(u,v,g){u={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[v+"-"+g];A.replace(this.domNode,u,this._currentOrientClass||"");this._currentOrientClass=u},focus:function(){this._getFocusItems();
n.focus(this._firstFocusItem)},onOpen:function(u){this.orient(this.domNode,u.aroundCorner,u.corner);var v=u.aroundNodePos;"M"==u.corner.charAt(0)&&"M"==u.aroundCorner.charAt(0)?(this.connectorNode.style.top=v.y+(v.h-this.connectorNode.offsetHeight>>1)-u.y+"px",this.connectorNode.style.left=""):"M"==u.corner.charAt(1)&&"M"==u.aroundCorner.charAt(1)&&(this.connectorNode.style.left=v.x+(v.w-this.connectorNode.offsetWidth>>1)-u.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(u){if(u.keyCode==
m.ESCAPE)this.defer("onCancel"),u.stopPropagation(),u.preventDefault();else if(u.keyCode==m.TAB){var v=u.target;this._getFocusItems();this._firstFocusItem==this._lastFocusItem?(u.stopPropagation(),u.preventDefault()):v==this._firstFocusItem&&u.shiftKey?(n.focus(this._lastFocusItem),u.stopPropagation(),u.preventDefault()):v!=this._lastFocusItem||u.shiftKey?u.stopPropagation():(n.focus(this._firstFocusItem),u.stopPropagation(),u.preventDefault())}}});a("dojo-bidi")&&G.extend({_setTitleAttr:function(u){this.containerNode.title=
this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,u):u;this._set("title",u)},_setTextDirAttr:function(u){this._created&&this.textDir==u||(this._set("textDir",u),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title)))}});return G})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when dojo/i18n!../nls/loading".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g){return c("dijit.layout.ContentPane",[a,m,p],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:G._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(q,x,w){var B=new w(q,x);return!B.href&&B._contentSetter&&B._contentSetter.parseDeferred&&!B._contentSetter.parseDeferred.isFulfilled()?B._contentSetter.parseDeferred.then(function(){return B}):B},create:function(q,x){if(!(q&&q.template||!x||"href"in q||"content"in q)){x=e.byId(x);for(var w=x.ownerDocument.createDocumentFragment();x.firstChild;)w.appendChild(x.firstChild);
q=A.delegate(q,{content:w})}this.inherited(arguments,[q,x])},postMixInProperties:function(){this.inherited(arguments);var q=v.getLocalization("dijit","loading",this.lang);this.loadingMessage=t.substitute(this.loadingMessage,q);this.errorMessage=t.substitute(this.errorMessage,q)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&h.forEach(this._contentSetter.parseResults,
function(q){q._started||q._destroyed||!A.isFunction(q.startup)||(q.startup(),q._started=!0)},this)},_startChildren:function(){h.forEach(this.getChildren(),function(q){q._started||q._destroyed||!A.isFunction(q.startup)||(q.startup(),q._started=!0)});this._contentSetter&&h.forEach(this._contentSetter.parseResults,function(q){q._started||q._destroyed||!A.isFunction(q.startup)||(q.startup(),q._started=!0)},this)},setHref:function(q){G.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",q)},_setHrefAttr:function(q){this.cancel();this.onLoadDeferred=new b(A.hitch(this,"cancel"));this.onLoadDeferred.then(A.hitch(this,"onLoad"));this._set("href",q);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(q){G.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",q)},_setContentAttr:function(q){this._set("href",
"");this.cancel();this.onLoadDeferred=new b(A.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(A.hitch(this,"onLoad"));this._setContent(q||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(q){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new b(A.hitch(this,"cancel"));this.onLoadDeferred.then(A.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var q=this,x={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
A.isObject(this.ioArgs)&&A.mixin(x,this.ioArgs);var w=this._xhrDfd=(this.ioMethod||u.get)(x),B;w.then(function(z){B=z;try{return q._isDownloaded=!0,q._setContent(z,!1)}catch(C){q._onError("Content",C)}},function(z){w.canceled||q._onError("Download",z);delete q._xhrDfd;return z}).then(function(){q.onDownloadEnd();delete q._xhrDfd;return B});delete this._hrefChanged},_onLoadHandler:function(q){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(q)}catch(x){console.error("Error "+(this.widgetId||
this.id)+" running custom onLoad code: "+x.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(q){console.error("Error "+this.widgetId+" running custom onUnload code: "+q.message)}},destroyDescendants:function(q){this.isLoaded&&this._onUnloadHandler();var x=this._contentSetter;h.forEach(this.getChildren(),function(w){w.destroyRecursive?w.destroyRecursive(q):w.destroy&&w.destroy(q);w._destroyed=!0});x&&(h.forEach(x.parseResults,function(w){w._destroyed||(w.destroyRecursive?
w.destroyRecursive(q):w.destroy&&w.destroy(q),w._destroyed=!0)}),delete x.parseResults);q||k.empty(this.containerNode);delete this._singleChild},_setContent:function(q,x){q=this.preprocessContent(q);this.destroyDescendants();var w=this._contentSetter;w&&w instanceof n._ContentSetter||(w=this._contentSetter=new n._ContentSetter({node:this.containerNode,_onError:A.hitch(this,this._onError),onContentError:A.hitch(this,function(C){C=this.onContentError(C);try{this.containerNode.innerHTML=C}catch(y){console.error("Fatal "+
this.id+" could not change content due to "+y.message,y)}})}));var B=A.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!q.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});B=w.set(A.isObject(q)&&q.domNode?q.domNode:q,B);var z=this;return g(B&&B.then?B:w.parseDeferred,function(){delete z._contentSetterParams;x||(z._started&&(z._startChildren(),z._scheduleLayout()),
z._onLoadHandler(q))})},preprocessContent:function(q){return q},_onError:function(q,x,w){this.onLoadDeferred.reject(x);q=this["on"+q+"Error"].call(this,x);w?console.error(w,x):q&&this._setContent(q,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k){function u(){}function v(g){return function(q,x,w,B){return q&&"string"==typeof x&&q[x]==u?q.on(x.substring(2).toLowerCase(),n.hitch(w,B)):g.apply(a,arguments)}}G.around(a,"connect",v);t.connect&&G.around(t,"connect",v);G=m("dijit._Widget",[e,f,k],{onClick:u,onDblClick:u,onKeyDown:u,onKeyPress:u,onKeyUp:u,onMouseDown:u,onMouseMove:u,onMouseOut:u,onMouseOver:u,onMouseLeave:u,onMouseEnter:u,onMouseUp:u,constructor:function(g){this._toConnect={};for(var q in g)this[q]===
u&&(this._toConnect[q.replace(/^on/,"").toLowerCase()]=g[q],delete g[q])},postCreate:function(){this.inherited(arguments);for(var g in this._toConnect)this.on(g,this._toConnect[g]);delete this._toConnect},on:function(g,q){return this[this._onMap(g)]===u?a.connect(this.domNode,g.toLowerCase(),this,q):this.inherited(arguments)},_setFocusedAttr:function(g){this._focused=g;this._set("focused",g)},setAttribute:function(g,q){t.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(g,q)},attr:function(g,q){return 2<=arguments.length||"object"===typeof g?this.set.apply(this,arguments):this.get(g)},getDescendants:function(){t.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?h("[widgetId]",this.containerNode).map(b.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});p("dijit-legacy-requires")&&c(0,function(){require(["dijit/_base"])});
return G})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y){function D(H){return function(E){h[E?
"set":"remove"](this.domNode,H,E);this._set(H,E)}}k.add("dijit-legacy-requires",!u.isAsync);k.add("dojo-bidi",!1);k("dijit-legacy-requires")&&q(0,function(){G(["dijit/_base/manager"])});var F={};m=t("dijit._WidgetBase",[x,z],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:D("lang"),dir:"",_setDirAttr:D("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(H){this._set("ownerDocument",
H)},attributeMap:{},_blankGif:m.blankGif||G.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var H=this.constructor;if(!H._setterAttrs){var E=H.prototype,I=H._setterAttrs=[];H=H._onMap={};for(var J in E.attributeMap)I.push(J);for(J in E)/^on/.test(J)&&(H[J.substring(2).toLowerCase()]=J),/^_set[A-Z](.*)Attr$/.test(J)&&(J=J.charAt(4).toLowerCase()+J.substr(5,J.length-9),E.attributeMap&&J in E.attributeMap||I.push(J))}},postscript:function(H,E){this.create(H,E)},create:function(H,
E){this._introspect();this.srcNodeRef=n.byId(E);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);H&&(this.params=H,v.mixin(this,H));this.postMixInProperties();this.id||(this.id=y.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=B.body(this.ownerDocument);
y.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();if((H=this.srcNodeRef)&&H.parentNode&&this.domNode!==H){H.parentNode.replaceChild(this.domNode,H);var I=!0}this.domNode.setAttribute("widgetId",this.id)}this.postCreate();I&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var H={},E;for(E in this.params||{})H[E]=this._get(E);A.forEach(this.constructor._setterAttrs,function(I){if(!(I in H)){var J=this._get(I);J&&this.set(I,J)}},this);for(E in H)this.set(E,
H[E])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var H=this.baseClass.split(" ");this.isLeftToRight()||(H=H.concat(A.map(H,function(E){return E+"Rtl"})));c.add(this.domNode,H)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,A.forEach(this.getChildren(),function(H){H._started||H._destroyed||!v.isFunction(H.startup)||(H.startup(),H._started=!0)}))},
destroyRecursive:function(H){this._beingDestroyed=!0;this.destroyDescendants(H);this.destroy(H)},destroy:function(H){function E(I){I.destroyRecursive?I.destroyRecursive(H):I.destroy&&I.destroy(H)}this._beingDestroyed=!0;this.uninitialize();A.forEach(this._connects,v.hitch(this,"disconnect"));A.forEach(this._supportingWidgets,E);this.domNode&&A.forEach(y.findWidgets(this.domNode,this.containerNode),E);this.destroyRendering(H);y.remove(this.id);this._destroyed=!0},destroyRendering:function(H){this.bgIframe&&
(this.bgIframe.destroy(H),delete this.bgIframe);this.domNode&&(H?h.remove(this.domNode,"widgetId"):b.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(H||b.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(H){A.forEach(this.getChildren(),function(E){E.destroyRecursive&&E.destroyRecursive(H)})},uninitialize:function(){return!1},_setStyleAttr:function(H){var E=this.domNode;v.isObject(H)?f.set(E,H):E.style.cssText=E.style.cssText?E.style.cssText+("; "+H):H;this._set("style",
H)},_attrToDom:function(H,E,I){I=3<=arguments.length?I:this.attributeMap[H];A.forEach(v.isArray(I)?I:[I],function(J){var K=this[J.node||J||"domNode"];switch(J.type||"attribute"){case "attribute":v.isFunction(E)&&(E=v.hitch(this,E));J=J.attribute?J.attribute:/^on[A-Z][a-zA-Z]*$/.test(H)?H.toLowerCase():H;K.tagName?h.set(K,J,E):K.set(J,E);break;case "innerText":K.innerHTML="";K.appendChild(this.ownerDocument.createTextNode(E));break;case "textContent":K.textContent=E;break;case "innerHTML":K.innerHTML=
E;break;case "class":c.replace(K,E,this[H]);break;case "toggleClass":c.toggle(K,J.className||H,E)}},this)},get:function(H){var E=this._getAttrNames(H);return this[E.g]?this[E.g]():this._get(H)},set:function(H,E){if("object"===typeof H){for(var I in H)this.set(I,H[I]);return this}I=this._getAttrNames(H);var J=this[I.s];if(v.isFunction(J))var K=J.apply(this,Array.prototype.slice.call(arguments,1));else{J=this.focusNode&&!v.isFunction(this.focusNode)?"focusNode":"domNode";var L=this[J]&&this[J].tagName,
O;if((O=L)&&!(O=F[L])){O=this[J];var U={};for(S in O)U[S.toLowerCase()]=!0;O=F[L]=U}var S=O;I=H in this.attributeMap?this.attributeMap[H]:I.s in this?this[I.s]:S&&I.l in S&&"function"!=typeof E||/^aria-|^data-|^role$/.test(H)?J:null;null!=I&&this._attrToDom(H,E,I);this._set(H,E)}return K||this},_attrPairNames:{},_getAttrNames:function(H){var E=this._attrPairNames;if(E[H])return E[H];var I=H.replace(/^[a-z]|-[a-zA-Z]/g,function(J){return J.charAt(J.length-1).toUpperCase()});return E[H]={n:H+"Node",
s:"_set"+I+"Attr",g:"_get"+I+"Attr",l:I.toLowerCase()}},_set:function(H,E){var I=this[H];this[H]=E;!this._created||I===E||I!==I&&E!==E||(this._watchCallbacks&&this._watchCallbacks(H,I,E),this.emit("attrmodified-"+H,{detail:{prevValue:I,newValue:E}}))},_get:function(H){return this[H]},emit:function(H,E,I){E=E||{};void 0===E.bubbles&&(E.bubbles=!0);void 0===E.cancelable&&(E.cancelable=!0);E.detail||(E.detail={});E.detail.widget=this;var J,K=this["on"+H];K&&(J=K.apply(this,I?I:[E]));this._started&&!this._beingDestroyed&&
g.emit(this.domNode,H.toLowerCase(),E);return J},on:function(H,E){var I=this._onMap(H);return I?a.after(this,I,E,!0):this.own(g(this.domNode,H,E))[0]},_onMap:function(H){var E=this.constructor,I=E._onMap;if(!I){I=E._onMap={};for(var J in E.prototype)/^on/.test(J)&&(I[J.replace(/^on/,"").toLowerCase()]=J)}return I["string"==typeof H&&H.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?y.findWidgets(this.containerNode):
[]},getParent:function(){return y.getEnclosingWidget(this.domNode.parentNode)},connect:function(H,E,I){return this.own(p.connect(H,E,this,I))[0]},disconnect:function(H){H.remove()},subscribe:function(H,E){return this.own(w.subscribe(H,v.hitch(this,E)))[0]},unsubscribe:function(H){H.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():e.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=f.get(this.domNode,"display")},placeAt:function(H,E){var I=
!H.tagName&&y.byId(H);!I||!I.addChild||E&&"number"!==typeof E?(H=I&&"domNode"in I?I.containerNode&&!/after|before|replace/.test(E||"")?I.containerNode:I.domNode:n.byId(H,this.ownerDocument),b.place(this.domNode,H,E),!this._started&&(this.getParent()||{})._started&&this.startup()):I.addChild(this,E);return this},defer:function(H,E){var I=setTimeout(v.hitch(this,function(){I&&(I=null,this._destroyed||v.hitch(this,H)())}),E||0);return{remove:function(){I&&(clearTimeout(I),I=null);return null}}}});k("dojo-bidi")&&
m.extend(C);return m})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(G,A,a){return a("dijit.Destroyable",null,{destroy:function(m){this._destroyed=!0},own:function(){var m=["destroyRecursive","destroy","remove"];G.forEach(arguments,function(p){function t(){n.remove();G.forEach(h,function(b){b.remove()})}var n=A.before(this,"destroy",function(b){p[c](b)}),h=[];if(p.then){var c="cancel";p.then(t,t)}else G.forEach(m,function(b){"function"===typeof p[b]&&
(c||(c=b),h.push(A.after(p,b,t,!0)))})},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(G,A,a,m,p,t){G=m("dijit._OnDijitClickMixin",null,{connect:function(n,h,c){return this.inherited(arguments,[n,"ondijitclick"==h?t:h,c])}});G.a11yclick=t;return G})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(G,A,a,m){function p(h){if((h.keyCode===
G.ENTER||h.keyCode===G.SPACE)&&!/input|button|textarea/i.test(h.target.nodeName))for(h=h.target;h;h=h.parentNode)if(h.dojoClick)return!0}var t;a(document,"keydown",function(h){p(h)?(t=h.target,h.preventDefault()):t=null});a(document,"keyup",function(h){p(h)&&h.target==t&&(t=null,a.emit(h.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:h.ctrlKey,shiftKey:h.shiftKey,metaKey:h.metaKey,altKey:h.altKey,_origType:h.type}))});var n=function(h,c){h.dojoClick=!0;return a(h,"click",c)};n.click=n;n.press=function(h,
c){var b=a(h,m.press,function(f){("mousedown"!=f.type||A.isLeft(f))&&c(f)}),e=a(h,"keydown",function(f){f.keyCode!==G.ENTER&&f.keyCode!==G.SPACE||c(f)});return{remove:function(){b.remove();e.remove()}}};n.release=function(h,c){var b=a(h,m.release,function(f){("mouseup"!=f.type||A.isLeft(f))&&c(f)}),e=a(h,"keyup",function(f){f.keyCode!==G.ENTER&&f.keyCode!==G.SPACE||c(f)});return{remove:function(){b.remove();e.remove()}}};n.move=m.move;return n})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase",
"dojo/_base/declare","dojo/_base/lang"],function(G,A,a,m){m.extend(A,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return a("dijit._FocusMixin",null,{_focusManager:G})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(G,A,a,m){return A("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=
this.domNode)},addChild:function(p,t){var n=this.containerNode;if(0<t){for(n=n.firstChild;0<t;)1==n.nodeType&&t--,n=n.nextSibling;n?t="before":(n=this.containerNode,t="last")}a.place(p.domNode,n,t);this._started&&!p._started&&p.startup()},removeChild:function(p){"number"==typeof p&&(p=this.getChildren()[p]);p&&(p=p.domNode)&&p.parentNode&&p.parentNode.removeChild(p)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(p,t){var n=this.getChildren();p=G.indexOf(n,
p);return n[p+t]},getIndexOfChild:function(p){return G.indexOf(this.getChildren(),p)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(G,A,a,m,p,t,n,h,c,b){return A("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var e=this.getParent();this._childOfLayoutWidget=
e&&e.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(c.on("resize",t.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var e=[],f=!1;n("\x3e *",this.containerNode).some(function(k){var u=h.byNode(k);u&&u.resize?e.push(u):!/script|link|style/i.test(k.nodeName)&&k.offsetHeight&&(f=!0)});this._singleChild=1!=e.length||f?null:e[0];a.toggle(this.containerNode,this.baseClass+
"SingleChild",!!this._singleChild)}},resize:function(e,f){this._resizeCalled=!0;this._scheduleLayout(e,f)},_scheduleLayout:function(e,f){this._isShown()?this._layout(e,f):(this._needLayout=!0,this._changeSize=e,this._resultSize=f)},_layout:function(e,f){delete this._needLayout;this._wasShown||!1===this.open||this._onShow();e&&m.setMarginBox(this.domNode,e);var k=this.containerNode;k===this.domNode?(f=f||{},t.mixin(f,e||{}),"h"in f&&"w"in f||(f=t.mixin(m.getMarginBox(k),f)),this._contentBox=b.marginBox2contentBox(k,
f)):this._contentBox=m.getContentBox(k);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var e=this._contentBox||m.getContentBox(this.containerNode);this._singleChild.resize({w:e.w,h:e.h})}else{e=this.getChildren();for(var f,k=0;f=e[k++];)f.resize&&f.resize()}},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var e=this.domNode,
f=this.domNode.parentNode;return"none"!=e.style.display&&"hidden"!=e.style.visibility&&!a.contains(e,"dijitHidden")&&f&&f.style&&"none"!=f.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(G,A,a,m,p){function t(c){return c.substring(0,1).toUpperCase()+c.substring(1)}
function n(c,b){var e=c.resize?c.resize(b):a.setMarginBox(c.domNode,b);e?p.mixin(c,e):(p.mixin(c,a.getMarginBox(c.domNode)),p.mixin(c,b))}var h={marginBox2contentBox:function(c,b){var e=m.getComputedStyle(c),f=a.getMarginExtents(c,e),k=a.getPadBorderExtents(c,e);return{l:m.toPixelValue(c,e.paddingLeft),t:m.toPixelValue(c,e.paddingTop),w:b.w-(f.w+k.w),h:b.h-(f.h+k.h)}},layoutChildren:function(c,b,e,f,k){b=p.mixin({},b);A.add(c,"dijitLayoutContainer");e=G.filter(e,function(u){return"center"!=u.region&&
"client"!=u.layoutAlign}).concat(G.filter(e,function(u){return"center"==u.region||"client"==u.layoutAlign}));G.forEach(e,function(u){var v=u.domNode,g=u.region||u.layoutAlign;if(!g)throw Error("No region setting for "+u.id);var q=v.style;q.left=b.l+"px";q.top=b.t+"px";q.position="absolute";A.add(v,"dijitAlign"+t(g));v={};f&&f==u.id&&(v["top"==u.region||"bottom"==u.region?"h":"w"]=k);"leading"==g&&(g=u.isLeftToRight()?"left":"right");"trailing"==g&&(g=u.isLeftToRight()?"right":"left");"top"==g||"bottom"==
g?(v.w=b.w,n(u,v),b.h-=u.h,"top"==g?b.t+=u.h:q.top=b.t+b.h+"px"):"left"==g||"right"==g?(v.h=b.h,n(u,v),b.w-=u.w,"left"==g?b.l+=u.w:q.left=b.l+b.w+"px"):"client"!=g&&"center"!=g||n(u,b)})}};p.setObject("dijit.layout.utils",h);return h})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(G,A,a,m,p,t,n){var h=0,c={_secureForInnerHtml:function(b){return b.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")},_emptyNode:t.empty,_setNodeContent:function(b,e){t.empty(b);if(e)if("number"==typeof e&&(e=e.toString()),"string"==typeof e&&(e=t.toDom(e,b.ownerDocument)),!e.nodeType&&A.isArrayLike(e))for(var f=e.length,k=0;k<e.length;k=f==e.length?k+1:0)t.place(e[k],b,"last");else t.place(e,b,"last");return b},_ContentSetter:m("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:G._scopeName,startup:!0,constructor:function(b,e){A.mixin(this,
b||{});e=this.node=p.byId(this.node||e);this.id||(this.id=["Setter",e?e.id||e.tagName:"",h++].join("_"))},set:function(b,e){void 0!==b&&(this.content=b);"number"==typeof b&&(b=b.toString());e&&this._mixin(e);this.onBegin();this.setContent();return(b=this.onEnd())&&b.then?b:this.node},setContent:function(){var b=this.node;if(!b)throw Error(this.declaredClass+": setContent given no node");try{b=c._setNodeContent(b,this.content)}catch(f){var e=this.onContentError(f);try{b.innerHTML=e}catch(k){console.error("Fatal "+
this.declaredClass+".setContent could not change content due to "+k.message,k)}}this.node=b},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(a.forEach(this.parseResults,function(b){b.destroy&&b.destroy()}),delete this.parseResults);t.empty(this.node)},onBegin:function(){var b=this.content;if(A.isString(b)&&(this.cleanContent&&(b=c._secureForInnerHtml(b)),this.extractContent)){var e=
b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);e&&(b=e[1])}this.empty();this.content=b;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(b){return"Error occurred setting content: "+b},onExecError:function(b){return"Error occurred executing scripts: "+b},_mixin:function(b){var e={},f;for(f in b)f in e||(this[f]=b[f])},_parse:function(){var b=
this.node;try{var e={};a.forEach(["dir","lang","textDir"],function(k){this[k]&&(e[k]=this[k])},this);var f=this;this.parseDeferred=n.parse({rootNode:b,noStart:!this.startup,inherited:e,scope:this.parserScope}).then(function(k){return f.parseResults=k},function(k){f._onError("Content",k,"Error parsing in _ContentSetter#"+f.id)})}catch(k){this._onError("Content",k,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(b,e,f){b=this["on"+b+"Error"].call(this,e);f?console.error(f,e):b&&c._setNodeContent(this.node,
b,!0)}}),set:function(b,e,f){void 0==e&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),e="");"number"==typeof e&&(e=e.toString());return f?(new c._ContentSetter(A.mixin(f,{content:e,node:b}))).set():c._setNodeContent(b,e,!0)}};A.setObject("dojo.html",c);return c})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g){function q(C){return eval("("+C+")")}function x(C){var y=C._nameCaseMap,D=C.prototype;if(!y||y._extendCnt<B){y=C._nameCaseMap={};for(var F in D)"_"!==F.charAt(0)&&(y[F.toLowerCase()]=F);y._extendCnt=B}return y}function w(C,y){y||(y=G);var D=y._dojoParserCtorMap||(y._dojoParserCtorMap={}),F=C.join();if(!D[F]){for(var H=[],E=0,I=C.length;E<I;E++){var J=C[E];H[H.length]=D[J]=D[J]||a.getObject(J)||~J.indexOf("/")&&y(J)}C=H.shift();D[F]=H.length?C.createSubclass?
C.createSubclass(H):C.extend.apply(C,H):C}return D[F]}new Date("X");var B=0;c.after(a,"extend",function(){B++},!0);var z={_clearCache:function(){B++;_ctorMap={}},_functionFromScript:function(C,y){var D="",F="",H=C.getAttribute(y+"args")||C.getAttribute("args");y=C.getAttribute("with");H=(H||"").split(/\s*,\s*/);y&&y.length&&m.forEach(y.split(/\s*,\s*/),function(E){D+="with("+E+"){";F+="}"});return new Function(H,D+C.innerHTML+F)},instantiate:function(C,y,D){y=y||{};D=D||{};var F=(D.scope||A._scopeName)+
"Type",H="data-"+(D.scope||A._scopeName)+"-",E=H+"type",I=H+"mixins",J=[];m.forEach(C,function(K){var L=F in y?y[F]:K.getAttribute(E)||K.getAttribute(F);if(L){var O=K.getAttribute(I);L=O?[L].concat(O.split(/\s*,\s*/)):[L];J.push({node:K,types:L})}});return this._instantiate(J,y,D)},_instantiate:function(C,y,D,F){function H(E){y._started||D.noStart||m.forEach(E,function(I){"function"!==typeof I.startup||I._started||I.startup()});return E}C=m.map(C,function(E){var I=E.ctor||w(E.types,D.contextRequire);
if(!I)throw Error("Unable to resolve constructor for: '"+E.types.join()+"'");return this.construct(I,E.node,y,D,E.scripts,E.inherited)},this);return F?b(C).then(H):H(C)},construct:function(C,y,D,F,H,E){function I(Y){N&&a.setObject(N,Y);for(S=0;S<P.length;S++)c[P[S].advice||"after"](Y,P[S].method,a.hitch(Y,P[S].func),!0);for(S=0;S<ba.length;S++)ba[S].call(Y);for(S=0;S<la.length;S++)Y.watch(la[S].prop,la[S].func);for(S=0;S<Q.length;S++)v(Y,Q[S].event,Q[S].func);return Y}var J=C&&C.prototype;F=F||{};
var K={};F.defaults&&a.mixin(K,F.defaults);E&&a.mixin(K,E);if(k("dom-attributes-explicit"))var L=y.attributes;else k("dom-attributes-specified-flag")?L=m.filter(y.attributes,function(Y){return Y.specified}):(E=(/^input$|^img$/i.test(y.nodeName)?y:y.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),L=m.map(E.split(/\s+/),function(Y){var ja=Y.toLowerCase();return{name:Y,value:"LI"==y.nodeName&&"value"==Y||"enctype"==ja?y.getAttribute(ja):
y.getAttributeNode(ja).value}}));var O=F.scope||A._scopeName;E="data-"+O+"-";var U={};"dojo"!==O&&(U[E+"props"]="data-dojo-props",U[E+"type"]="data-dojo-type",U[E+"mixins"]="data-dojo-mixins",U[O+"type"]="dojotype",U[E+"id"]="data-dojo-id");var S=0,M;O=[];for(var N,T;M=L[S++];){var V=M.name,ea=V.toLowerCase();M=M.value;switch(U[ea]||ea){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":T=M;break;case "data-dojo-id":case "jsid":N=M;break;case "data-dojo-attach-point":case "dojoattachpoint":K.dojoAttachPoint=
M;break;case "data-dojo-attach-event":case "dojoattachevent":K.dojoAttachEvent=M;break;case "class":K["class"]=y.className;break;case "style":K.style=y.style&&y.style.cssText;break;default:if(V in J||(V=x(C)[ea]||V),V in J)switch(typeof J[V]){case "string":K[V]=M;break;case "number":K[V]=M.length?Number(M):NaN;break;case "boolean":K[V]="false"!=M.toLowerCase();break;case "function":""===M||-1!=M.search(/[^\w\.]+/i)?K[V]=new Function(M):K[V]=a.getObject(M,!1)||new Function(M);O.push(V);break;default:ea=
J[V],K[V]=ea&&"length"in ea?M?M.split(/\s*,\s*/):[]:ea instanceof Date?""==M?new Date(""):"now"==M?new Date:e.fromISOString(M):ea instanceof h?A.baseUrl+M:q(M)}else K[V]=M}}for(L=0;L<O.length;L++)U=O[L].toLowerCase(),y.removeAttribute(U),y[U]=null;if(T)try{T=q.call(F.propsThis,"{"+T+"}"),a.mixin(K,T)}catch(Y){throw Error(Y.toString()+" in data-dojo-props\x3d'"+T+"'");}a.mixin(K,D);H||(H=C&&(C._noScript||J._noScript)?[]:u("\x3e script[type^\x3d'dojo/']",y));var P=[],ba=[],la=[],Q=[];if(H)for(S=0;S<
H.length;S++)U=H[S],y.removeChild(U),D=U.getAttribute(E+"event")||U.getAttribute("event"),F=U.getAttribute(E+"prop"),T=U.getAttribute(E+"method"),O=U.getAttribute(E+"advice"),L=U.getAttribute("type"),U=this._functionFromScript(U,E),D?"dojo/connect"==L?P.push({method:D,func:U}):"dojo/on"==L?Q.push({event:D,func:U}):K[D]=U:"dojo/aspect"==L?P.push({method:T,advice:O,func:U}):"dojo/watch"==L?la.push({prop:F,func:U}):ba.push(U);C=(H=C.markupFactory||J.markupFactory)?H(K,y,C):new C(K,y);return C.then?C.then(I):
I(C)},scan:function(C,y){function D(ea){if(!ea.inherited){ea.inherited={};var P=ea.node,ba=D(ea.parent);P={dir:P.getAttribute("dir")||ba.dir,lang:P.getAttribute("lang")||ba.lang,textDir:P.getAttribute(L)||ba.textDir};for(var la in P)P[la]&&(ea.inherited[la]=P[la])}return ea.inherited}var F=[],H=[],E={},I=(y.scope||A._scopeName)+"Type",J="data-"+(y.scope||A._scopeName)+"-",K=J+"type",L=J+"textdir";J+="mixins";var O=C.firstChild,U=y.inherited;if(!U){U=function la(P,ba){return P.getAttribute&&P.getAttribute(ba)||
P.parentNode&&la(P.parentNode,ba)};U={dir:U(C,"dir"),lang:U(C,"lang"),textDir:U(C,L)};for(var S in U)U[S]||delete U[S]}S={inherited:U};for(var M,N;;)if(O)if(1!=O.nodeType)O=O.nextSibling;else if(M&&"script"==O.nodeName.toLowerCase())(U=O.getAttribute("type"))&&/^dojo\/\w/i.test(U)&&M.push(O),O=O.nextSibling;else if(N)O=O.nextSibling;else if(U=O.getAttribute(K)||O.getAttribute(I),C=O.firstChild,U||C&&(3!=C.nodeType||C.nextSibling)){N=null;if(U){var T=O.getAttribute(J);M=T?[U].concat(T.split(/\s*,\s*/)):
[U];try{N=w(M,y.contextRequire)}catch(ea){}N||m.forEach(M,function(ea){~ea.indexOf("/")&&!E[ea]&&(E[ea]=!0,H[H.length]=ea)});T=N&&!N.prototype._noScript?[]:null;S={types:M,ctor:N,parent:S,node:O,scripts:T};S.inherited=D(S);F.push(S)}else S={node:O,scripts:M,parent:S};M=T;N=O.stopParser||N&&N.prototype.stopParser&&!y.template;O=C}else O=O.nextSibling;else{if(!S||!S.node)break;O=S.node.nextSibling;N=!1;S=S.parent;M=S.scripts}var V=new f;H.length?(k("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+
H.join(", ")),(y.contextRequire||G)(H,function(){V.resolve(m.filter(F,function(ea){if(!ea.ctor)try{ea.ctor=w(ea.types,y.contextRequire)}catch(la){}for(var P=ea.parent;P&&!P.types;)P=P.parent;var ba=ea.ctor&&ea.ctor.prototype;ea.instantiateChildren=!(ba&&ba.stopParser&&!y.template);ea.instantiate=!P||P.instantiate&&P.instantiateChildren;return ea.instantiate}))})):V.resolve(F);return V.promise},_require:function(C,y){C=q("{"+C.innerHTML+"}");var D=[],F=[],H=new f;y=y&&y.contextRequire||G;for(var E in C)D.push(E),
F.push(C[E]);y(F,function(){for(var I=0;I<D.length;I++)a.setObject(D[I],arguments[I]);H.resolve(arguments)});return H.promise},_scanAmd:function(C,y){var D=new f,F=D.promise;D.resolve(!0);var H=this;u("script[type\x3d'dojo/require']",C).forEach(function(E){F=F.then(function(){return H._require(E,y)});E.parentNode.removeChild(E)});return F},parse:function(C,y){!C||"string"==typeof C||"nodeType"in C||(y=C,C=y.rootNode);var D=C?t.byId(C):n.body();y=y||{};var F=y.template?{template:!0}:{},H=[],E=this;
C=this._scanAmd(D,y).then(function(){return E.scan(D,y)}).then(function(I){return E._instantiate(I,F,y,!0)}).then(function(I){return H=H.concat(I)}).otherwise(function(I){console.error("dojo/parser::parse() error",I);throw I;});a.mixin(H,C);return H}};A.parser=z;p.parseOnLoad&&g(100,z,"parse");return z})},"dojo/_base/url":function(){define(["./kernel"],function(G){var A=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,a=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,
m=function(){for(var p=arguments,t=[p[0]],n=1;n<p.length;n++)if(p[n]){var h=new m(p[n]+"");t=new m(t[0]+"");if(""==h.path&&!h.scheme&&!h.authority&&!h.query)null!=h.fragment&&(t.fragment=h.fragment),h=t;else if(!h.scheme&&(h.scheme=t.scheme,!h.authority&&(h.authority=t.authority,"/"!=h.path.charAt(0)))){t=(t.path.substring(0,t.path.lastIndexOf("/")+1)+h.path).split("/");for(var c=0;c<t.length;c++)"."==t[c]?c==t.length-1?t[c]="":(t.splice(c,1),c--):0<c&&(1!=c||""!=t[0])&&".."==t[c]&&".."!=t[c-1]&&
(c==t.length-1?(t.splice(c,1),t[c-1]=""):(t.splice(c-1,2),c-=2));h.path=t.join("/")}t=[];h.scheme&&t.push(h.scheme,":");h.authority&&t.push("//",h.authority);t.push(h.path);h.query&&t.push("?",h.query);h.fragment&&t.push("#",h.fragment)}this.uri=t.join("");p=this.uri.match(A);this.scheme=p[2]||(p[1]?"":null);this.authority=p[4]||(p[3]?"":null);this.path=p[5];this.query=p[7]||(p[6]?"":null);this.fragment=p[9]||(p[8]?"":null);null!=this.authority&&(p=this.authority.match(a),this.user=p[3]||null,this.password=
p[4]||null,this.host=p[6]||p[7],this.port=p[9]||null)};m.prototype.toString=function(){return this.uri};return G._Url=m})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(G,A,a,m){var p=G.some;return function(t){var n,h;A.isArray(t)?h=t:t&&"object"===typeof t&&(n=t);var c=[];if(n){h=[];for(var b in n)Object.hasOwnProperty.call(n,b)&&(c.push(b),h.push(n[b]));var e={}}else h&&(e=[]);if(!h||!h.length)return(new a).resolve(e);var f=new a;f.promise.always(function(){e=
c=null});var k=h.length;p(h,function(u,v){n||c.push(v);m(u,function(g){f.isFulfilled()||(e[c[v]]=g,0===--k&&f.resolve(e))},f.reject);return f.isFulfilled()});return f.promise}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(G,A){var a={};G.setObject("dojo.date.stamp",a);a.fromISOString=function(m,p){a._isoRegExp||(a._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var t=a._isoRegExp.exec(m);
m=null;if(t){t.shift();t[1]&&t[1]--;t[6]&&(t[6]*=1E3);p&&(p=new Date(p),A.forEach(A.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(c){return p["get"+c]()}),function(c,b){t[b]=t[b]||c}));m=new Date(t[0]||1970,t[1]||0,t[2]||1,t[3]||0,t[4]||0,t[5]||0,t[6]||0);100>t[0]&&m.setFullYear(t[0]||1970);var n=0,h=t[7]&&t[7].charAt(0);"Z"!=h&&(n=60*(t[8]||0)+(Number(t[9])||0),"-"!=h&&(n*=-1));h&&(n-=m.getTimezoneOffset());n&&m.setTime(m.getTime()+6E4*n)}return m};a.toISOString=
function(m,p){var t=function(b){return 10>b?"0"+b:b};p=p||{};var n=[],h=p.zulu?"getUTC":"get",c="";"time"!=p.selector&&(c=m[h+"FullYear"](),c=["0000".substr((c+"").length)+c,t(m[h+"Month"]()+1),t(m[h+"Date"]())].join("-"));n.push(c);"date"!=p.selector&&(c=[t(m[h+"Hours"]()),t(m[h+"Minutes"]()),t(m[h+"Seconds"]())].join(":"),h=m[h+"Milliseconds"](),p.milliseconds&&(c+="."+(100>h?"0":"")+t(h)),p.zulu?c+="Z":"time"!=p.selector&&(m=m.getTimezoneOffset(),p=Math.abs(m),c+=(0<m?"-":"+")+t(Math.floor(p/60))+
":"+t(p%60)),n.push(c));return n.join("T")};return a})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(G,A){return G("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var a=A._getTabNavigable(this.domNode);this._firstFocusItem=a.lowest||a.first||this.closeButtonNode||this.domNode;this._lastFocusItem=a.last||
a.highest||this._firstFocusItem}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(G,A,a,m,p,t){return A("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(n){var h=[];G.forEach(n||this.getChildren(),function(c){"value"in c?h.push(c):h=h.concat(this._getDescendantFormWidgets(c.getChildren()))},this);return h},reset:function(){G.forEach(this._getDescendantFormWidgets(),
function(n){n.reset&&n.reset()})},validate:function(){var n=!1;return G.every(G.map(this._getDescendantFormWidgets(),function(h){h._hasBeenBlurred=!0;var c=h.disabled||!h.validate||h.validate();c||n||(t.scrollIntoView(h.containerNode||h.domNode),h.focus(),n=!0);return c}),function(h){return h})},setValues:function(n){a.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",n)},_setValueAttr:function(n){var h={};G.forEach(this._getDescendantFormWidgets(),
function(f){f.name&&(h[f.name]||(h[f.name]=[])).push(f)});for(var c in h)if(h.hasOwnProperty(c)){var b=h[c],e=m.getObject(c,!1,n);void 0!==e&&(e=[].concat(e),"boolean"==typeof b[0].checked?G.forEach(b,function(f){f.set("value",-1!=G.indexOf(e,f._get("value")))}):b[0].multiple?b[0].set("value",e):G.forEach(b,function(f,k){f.set("value",e[k])}))}},getValues:function(){a.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var n=
{};G.forEach(this._getDescendantFormWidgets(),function(h){var c=h.name;if(c&&!h.disabled){var b=h.get("value");"boolean"==typeof h.checked?/Radio/.test(h.declaredClass)?!1!==b?m.setObject(c,b,n):(b=m.getObject(c,!1,n),void 0===b&&m.setObject(c,null,n)):(h=m.getObject(c,!1,n),h||(h=[],m.setObject(c,h,n)),!1!==b&&h.push(b)):(h=m.getObject(c,!1,n),"undefined"!=typeof h?m.isArray(h)?h.push(b):m.setObject(c,[h,b],n):m.setObject(c,b,n))}});return n},isValid:function(){return""==this.state},onValidStateChange:function(){},
_getState:function(){var n=G.map(this._descendants,function(h){return h.get("state")||""});return 0<=G.indexOf(n,"Error")?"Error":0<=G.indexOf(n,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(n){this._descendants=this._getDescendantFormWidgets();G.forEach(this._descendants,function(h){h._started||h.startup()});n||this._onChildChange()},_onChildChange:function(n){n&&"state"!=n&&"disabled"!=n||this._set("state",this._getState());n&&"value"!=n&&"disabled"!=n&&
"checked"!=n||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10))},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var n=this;this.own(p(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(h){h.target!=n.domNode&&
n._onChildChange(h.type.replace("attrmodified-",""))}));this.watch("state",function(h,c,b){this.onValidStateChange(""==b)})},destroy:function(){this.inherited(arguments)}})})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(G,A,a,m,p,t,n,h){var c=A("dijit._TemplatedMixin",h,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(b){var e=
this.declaredClass,f=this;return n.substitute(b,this,function(k,u){"!"==u.charAt(0)&&(k=m.getObject(u.substr(1),!1,f));if("undefined"==typeof k)throw Error(e+" template:"+u);return null==k?"":"!"==u.charAt(0)?k:this._escapeValue(""+k)},this)},_escapeValue:function(b){return b.replace(/["'<>&]/g,function(e){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[e]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=G(this.templatePath,
{sanitize:!0}));var b=c.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);if(m.isString(b)){var e=a.toDom(this._stringRepl(b),this.ownerDocument);if(1!=e.nodeType)throw Error("Invalid template: "+b);}else e=b.cloneNode(!0);this.domNode=e}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(b){var e=this.containerNode;if(b&&e)for(;b.hasChildNodes();)e.appendChild(b.firstChild)}});c._templateCache={};c.getCachedTemplate=
function(b,e,f){var k=c._templateCache,u=b,v=k[u];if(v){try{if(!v.ownerDocument||v.ownerDocument==(f||document))return v}catch(g){}a.destroy(v)}b=n.trim(b);if(e||b.match(/\$\{([^\}]+)\}/g))return k[u]=b;e=a.toDom(b,f);if(1!=e.nodeType)throw Error("Invalid template: "+b);return k[u]=e};t("ie")&&p(window,"unload",function(){var b=c._templateCache,e;for(e in b){var f=b[e];"object"==typeof f&&a.destroy(f);delete b[e]}});return c})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(G){return G.cache})},
"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(G,A,a,m){var p=function(b,e,f){m(b,{sync:!!e,headers:{"X-Requested-With":null}}).then(f)};var t={},n=function(b){if(b){b=b.replace(/^\s*<\?xml(\s)+version=['"](\d)*.(\d)*['"](\s)*\?>/im,"");var e=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);e&&(b=e[1])}else b="";return b},h={},c={};G.cache=function(b,e,f){if("string"==typeof b)if(/\//.test(b)){var k=b;f=e}else k=A.toUrl(b.replace(/\./g,"/")+(e?"/"+e:""));else k=
b+"",f=e;b=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof b)return t[k]=b,f?n(b):b;if(null===b)return delete t[k],null;k in t||p(k,!0,function(u){t[k]=u});return f?n(t[k]):t[k]};return{dynamic:!0,normalize:function(b,e){b=b.split("!");var f=b[0];return(/^\./.test(f)?e(f):f)+(b[1]?"!"+b[1]:"")},load:function(b,e,f){b=b.split("!");var k=1<b.length,u=b[0],v=e.toUrl(b[0]);b="url:"+v;var g=h,q=function(w){f(k?n(w):w)};u in t?g=t[u]:e.cache&&b in e.cache?g=e.cache[b]:v in t&&
(g=t[v]);if(g===h)if(c[v])c[v].push(q);else{var x=c[v]=[q];p(v,!e.async,function(w){t[u]=t[v]=w;for(var B=0;B<x.length;)x[B++](w);delete c[v]})}else q(g)}}})},"dojo/request":function(){define(["./request/default!"],function(G){return G})},"dojo/request/default":function(){define(["exports","require","../has"],function(G,A,a){var m=a("config-requestProvider");m||(m="./xhr");G.getPlatformDefaultId=function(){return"./xhr"};G.load=function(p,t,n,h){A(["platform"==p?"./xhr":m],function(c){n(c)})}})},
"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(G,A,a,m,p,t,n,h,c){var b=p.delegate(h,{mouseenter:t.enter,mouseleave:t.leave,keypress:a._keypress}),e;a=m("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},
_beforeFillContent:function(){},_attachTemplateNodes:function(f){for(var k=f;;)if(1==k.nodeType&&(this._processTemplateNode(k,function(u,v){return u.getAttribute(v)},this._attach)||this.searchContainerNode)&&k.firstChild)k=k.firstChild;else{if(k==f)break;for(;!k.nextSibling;)if(k=k.parentNode,k==f)return;k=k.nextSibling}},_processTemplateNode:function(f,k,u){var v=!0,g=this.attachScope||this,q=k(f,"dojoAttachPoint")||k(f,"data-dojo-attach-point");if(q)for(var x=q.split(/\s*,\s*/);q=x.shift();)p.isArray(g[q])?
g[q].push(f):g[q]=f,v="containerNode"!=q,this._attachPoints.push(q);if(k=k(f,"dojoAttachEvent")||k(f,"data-dojo-attach-event"))for(q=k.split(/\s*,\s*/),x=p.trim;k=q.shift();)if(k){var w=null;-1!=k.indexOf(":")?(w=k.split(":"),k=x(w[0]),w=x(w[1])):k=x(k);w||(w=k);this._attachEvents.push(u(f,k,p.hitch(g,w)))}return v},_attach:function(f,k,u){k=k.replace(/^on/,"").toLowerCase();k="dijitclick"==k?e||(e=G("./a11yclick")):b[k]||k;return n(f,k,u)},_detachTemplateNodes:function(){var f=this.attachScope||
this;A.forEach(this._attachPoints,function(k){delete f[k]});this._attachPoints=[];A.forEach(this._attachEvents,function(k){k.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});p.extend(c,{dojoAttachEvent:"",dojoAttachPoint:""});return a})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),
function(G,A,a,m,p,t,n,h,c,b){return G("dijit.form.DropDownButton",[n,h,c],{baseClass:"dijitDropDownButton",templateString:b,_fillContent:function(){var e=this.srcNodeRef,f=this.containerNode;if(e&&f)for(;e.hasChildNodes();){var k=e.firstChild;k.hasAttribute&&(k.hasAttribute("data-dojo-type")||k.hasAttribute("dojoType")||k.hasAttribute("data-"+A._scopeName+"-type")||k.hasAttribute(A._scopeName+"Type"))?(this.dropDownContainer=this.ownerDocument.createElement("div"),this.dropDownContainer.appendChild(k)):
f.appendChild(k)}},startup:function(){this._started||(!this.dropDown&&this.dropDownContainer&&(this.dropDown=p.byNode(this.dropDownContainer.firstChild),delete this.dropDownContainer),this.dropDown&&t.hide(this.dropDown),this.inherited(arguments))},isLoaded:function(){var e=this.dropDown;return!!e&&(!e.href||e.isLoaded)},loadDropDown:function(e){var f=this.dropDown,k=f.on("load",a.hitch(this,function(){k.remove();e()}));f.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},
"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),function(G,A,a,m,p,t,n,h,c,b){m("dijit-legacy-requires")&&n(0,function(){G(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});n=A("dijit.form.Button"+(m("dojo-bidi")?"_NoBidi":""),[h,c],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",
type:"class"},baseClass:"dijitButton",templateString:b,_setValueAttr:"valueNode",_setNameAttr:function(e){this.valueNode&&this.valueNode.setAttribute("name",e)},postCreate:function(){this.inherited(arguments);this._setLabelFromContainer()},_setLabelFromContainer:function(){this.containerNode&&!this.label&&(this.label=t.trim(this.containerNode.innerHTML),this.onLabelSet())},_setShowLabelAttr:function(e){this.containerNode&&a.toggle(this.containerNode,"dijitDisplayNone",!e);this._set("showLabel",e)},
setLabel:function(e){p.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",e)},onLabelSet:function(){this.inherited(arguments);this.showLabel||"title"in this.params||(this.titleNode.title=t.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});m("dojo-bidi")&&(n=A("dijit.form.Button",n,{onLabelSet:function(){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(e){this._created&&
this.textDir!=e&&(this._set("textDir",e),this._setLabelAttr(this.label))}}));return n})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(G,A,a,m,p,t,n,h){A("dijit-legacy-requires")&&m(0,function(){require(["dijit/form/_FormValueWidget"])});return G("dijit.form._FormWidget",[p,n,t,h],{setDisabled:function(c){a.deprecated("setDisabled("+c+") is deprecated. Use set('disabled',"+
c+") instead.","","2.0");this.set("disabled",c)},setValue:function(c){a.deprecated("dijit.form._FormWidget:setValue("+c+") is deprecated.  Use set('value',"+c+") instead.","","2.0");this.set("value",c)},getValue:function(){a.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!A("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},
"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f){A=A("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);G.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(u){this.watch(u,t.hitch(this,"_setStateClass"))},
this);for(var k in this.cssStateNodes||{})this._trackMouseState(this[k],this.cssStateNodes[k]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(k){if(!this.disabled)switch(k.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",
!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function k(w){u=u.concat(G.map(u,function(B){return B+w}),"dijit"+w)}var u=this.baseClass.split(" ");this.isLeftToRight()||k("Rtl");var v="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&k(v);this.state&&k(this.state);this.selected&&k("Selected");this._opened&&k("Opened");this.disabled?k("Disabled"):this.readOnly?k("ReadOnly"):this.active?
k("Active"):this.hovering&&k("Hover");this.focused&&k("Focused");v=this.stateNode||this.domNode;var g={};G.forEach(v.className.split(" "),function(w){g[w]=!0});"_stateClasses"in this&&G.forEach(this._stateClasses,function(w){delete g[w]});G.forEach(u,function(w){g[w]=!0});var q=[],x;for(x in g)q.push(x);v.className=q.join(" ");this._stateClasses=u},_subnodeCssMouseEvent:function(k,u,v){function g(q){m.toggle(k,u+"Active",q)}if(!this.disabled&&!this.readOnly)switch(v.type){case "mouseover":case "MSPointerOver":case "pointerover":m.toggle(k,
u+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":m.toggle(k,u+"Hover",!1);g(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":g(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":g(!1);break;case "focus":case "focusin":m.toggle(k,u+"Focused",!0);break;case "blur":case "focusout":m.toggle(k,u+"Focused",!1)}},_trackMouseState:function(k,u){k._cssState=u}});h(function(){function k(g,
q,x){if(!x||!a.isDescendant(x,q))for(;q&&q!=x;q=q.parentNode)if(q._cssState){var w=f.getEnclosingWidget(q);w&&(q==w.domNode?w._cssMouseEvent(g):w._subnodeCssMouseEvent(q,q._cssState,g))}}var u=b.body(),v;n(u,c.over,function(g){k(g,g.target,g.relatedTarget)});n(u,c.out,function(g){k(g,g.target,g.relatedTarget)});n(u,e.press,function(g){v=g.target;k(g,v)});n(u,e.release,function(g){k(g,v);v=null});n(u,"focusin, focusout",function(g){var q=g.target;if(q._cssState&&!q.getAttribute("widgetId")){var x=
f.getEnclosingWidget(q);x&&x._subnodeCssMouseEvent(q,q._cssState,g)}})});return A})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(G,A,a,m,p,t,n,h,c,b){return A("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,
_setIdAttr:"focusNode",_setDisabledAttr:function(e){this._set("disabled",e);/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)?(a.set(this.focusNode,"disabled",e),h("trident")&&"readOnly"in this&&a.set(this.focusNode,"readonly",e||this.readOnly)):this.focusNode.setAttribute("aria-disabled",e?"true":"false");this.valueNode&&a.set(this.valueNode,"disabled",e);e?(this._set("hovering",!1),this._set("active",!1),e="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:
"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",G.forEach(p.isArray(e)?e:[e],function(f){f=this[f];h("webkit")||b.hasDefaultTabStop(f)?f.setAttribute("tabIndex","-1"):f.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(e){if("mouse"==e&&this.isFocusable())var f=this.own(n(this.focusNode,"focus",function(){u.remove();f.remove()}))[0],k=h("pointer-events")?"pointerup":h("MSPointer")?"MSPointerUp":h("touch-events")?"touchend, mouseup":
"mouseup",u=this.own(n(this.ownerDocumentBody,k,p.hitch(this,function(v){u.remove();f.remove();this.focused&&("touchend"==v.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){c.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=m.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(e){}},compare:function(e,f){return"number"==
typeof e&&"number"==typeof f?isNaN(e)&&isNaN(f)?0:e-f:e>f?1:e<f?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(e,f){void 0!=this._lastValueReported||null!==f&&this._onChangeActive||(this._resetValue=this._lastValueReported=e);this._pendingOnChange=this._pendingOnChange||typeof e!=typeof this._lastValueReported||0!=this.compare(e,this._lastValueReported);(this.intermediateChanges||f||void 0===f)&&this._pendingOnChange&&(this._lastValueReported=e,this._pendingOnChange=!1,this._onChangeActive&&
(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(e)})))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(G,A,a,m){var p=G("dijit.form._ButtonMixin"+
(a("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(t){t.stopPropagation();t.preventDefault();this.disabled||this.valueNode.click(t);return!1},_onClick:function(t){if(this.disabled)return t.stopPropagation(),t.preventDefault(),!1;!1===this.onClick(t)&&t.preventDefault();var n=t.defaultPrevented;if(!n&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var h=this.domNode;h.parentNode;h=h.parentNode){var c=m.byNode(h);if(c&&"function"==typeof c._onSubmit){c._onSubmit(t);
t.preventDefault();n=!0;break}}return!n},postCreate:function(){this.inherited(arguments);A.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(t){this._set("label",t);(this.containerNode||this.focusNode).innerHTML=t;this.onLabelSet()},onLabelSet:function(){}});a("dojo-bidi")&&(p=G("dijit.form._ButtonMixin",p,{onLabelSet:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return p})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g){return G("dijit._HasDropDown",g,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(q){this.disabled||this.readOnly||("MSPointerDown"!=q.type&&q.preventDefault(),this.own(e.once(this.ownerDocument,f.release,b.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(q){var x=
this.dropDown,w=!1;if(q&&this._opened){var B=t.position(this._buttonNode,!0);if(!(q.pageX>=B.x&&q.pageX<=B.x+B.w&&q.pageY>=B.y&&q.pageY<=B.y+B.h)){for(B=q.target;B&&!w;)p.contains(B,"dijitPopup")?w=!0:B=B.parentNode;if(w){B=q.target;if(x.onItemClick){for(var z;B&&!(z=k.byNode(B));)B=B.parentNode;if(z&&z.onClick&&z.getParent)z.getParent().onItemClick(z,q)}return}}}this._opened?x.focus&&(!1!==x.autoFocus||"mouseup"==q.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){x.focus();
delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(q){this._stopClickEvents&&(q.stopPropagation(),q.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var q={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||
this.dropDownPosition[0]||"Down";p.add(this._arrowWrapperNode||this._buttonNode,"dijit"+q+"ArrowButton")},postCreate:function(){this.inherited(arguments);var q=this.focusNode||this.domNode;this.own(e(this._buttonNode,f.press,b.hitch(this,"_onDropDownMouseDown")),e(this._buttonNode,"click",b.hitch(this,"_onDropDownClick")),e(q,"keydown",b.hitch(this,"_onKey")),e(q,"keyup",b.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),
delete this.dropDown);this.inherited(arguments)},_onKey:function(q){if(!this.disabled&&!this.readOnly){var x=this.dropDown,w=q.target;x&&this._opened&&x.handleKey&&!1===x.handleKey(q)?(q.stopPropagation(),q.preventDefault()):x&&this._opened&&q.keyCode==c.ESCAPE?(this.closeDropDown(),q.stopPropagation(),q.preventDefault()):!this._opened&&(q.keyCode==c.DOWN_ARROW||(q.keyCode==c.ENTER||q.keyCode==c.SPACE&&(!this._searchTimer||q.ctrlKey||q.altKey||q.metaKey))&&("input"!==(w.tagName||"").toLowerCase()||
w.type&&"text"!==w.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,q.stopPropagation(),q.preventDefault())}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var q=this.dropDown;q&&q.focus&&this.defer(b.hitch(q,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(q){q()},loadAndOpenDropDown:function(){var q=new A,x=b.hitch(this,function(){this.openDropDown();q.resolve(this.dropDown)});
this.isLoaded()?x():this.loadDropDown(x);return q},toggleDropDown:function(){this.disabled||this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var q=this.dropDown,x=q.domNode,w=this._aroundNode||this.domNode,B=this,z=v.open({parent:this,popup:q,around:w,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){B.closeDropDown(!0)},onCancel:function(){B.closeDropDown(!0)},onClose:function(){m.set(B._popupStateNode,"popupActive",
!1);p.remove(B._popupStateNode,"dijitHasDropDownOpen");B._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&w.offsetWidth>q._popupWrapper.offsetWidth){w=w.offsetWidth-q._popupWrapper.offsetWidth;var C={w:q.domNode.offsetWidth+w};this._origStyle=x.style.cssText;b.isFunction(q.resize)?q.resize(C):t.setMarginBox(x,C);"R"==z.corner[1]&&(q._popupWrapper.style.left=q._popupWrapper.style.left.replace("px","")-w+"px")}m.set(this._popupStateNode,"popupActive","true");p.add(this._popupStateNode,"dijitHasDropDownOpen");
this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",q.id);"presentation"===x.getAttribute("role")||x.getAttribute("aria-labelledby")||x.setAttribute("aria-labelledby",this.id);return z},closeDropDown:function(q){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),q&&this.focus&&this.focus(),v.close(this.dropDown),
this._opened=!1);this._origStyle&&(this.dropDown.domNode.style.cssText=this._origStyle,delete this._origStyle)}})})},"dijit/form/ComboButton":function(){define("dojo/_base/declare dojo/keys ../focus ./DropDownButton dojo/text!./templates/ComboButton.html ../a11yclick".split(" "),function(G,A,a,m,p){return G("dijit.form.ComboButton",m,{templateString:p,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",
titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(t){t.keyCode==A[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]&&(a.focus(this._popupStateNode),t.stopPropagation(),t.preventDefault())},_onArrowKeyDown:function(t){t.keyCode==A[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]&&(a.focus(this.titleNode),t.stopPropagation(),t.preventDefault())},focus:function(t){this.disabled||a.focus("start"==t?this.titleNode:this._popupStateNode)}})})},
"dojox/gfx/svg":function(){define("dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f){function k(D,F){return a.doc.createElementNS?a.doc.createElementNS(D,F):a.doc.createElement(F)}function u(D,F,H,E){return D.setAttributeNS?D.setAttributeNS(F,H,E):D.setAttribute(H,E)}function v(D){return g.useSvgWeb?a.doc.createTextNode(D,!0):a.doc.createTextNode(D)}
var g=b.svg={};g.useSvgWeb="undefined"!=typeof window.svgweb;var q=navigator.userAgent,x=A("ios"),w=A("android"),B=A("chrome")||w&&4<=w?"auto":"optimizeLegibility";g.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};g.getRef=function(D){return D&&"none"!=D?D.match(/^url\(#.+\)$/)?m.byId(D.slice(5,-1)):D.match(/^#dojoUnique\d+$/)?m.byId(D.slice(1)):null:null};g.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,
3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var z=0;g.Shape=p("dojox.gfx.svg.Shape",e.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var D=this.rawNode.getAttribute("fill");(D=g.getRef(D))&&D.parentNode.removeChild(D)}this.clip&&(D=this.rawNode.getAttribute("clip-path"))&&(D=m.byId(D.match(/gfx_clip[\d]+/)[0]))&&D.parentNode.removeChild(D);e.Shape.prototype.destroy.apply(this,arguments)},setFill:function(D){if(!D)return this.fillStyle=
null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var F=function(E){this.setAttribute(E,H[E].toFixed(8))};if("object"==typeof D&&"type"in D){switch(D.type){case "linear":var H=b.makeParameters(b.defaultLinearGradient,D);D=this._setFillObject(H,"linearGradient");t.forEach(["x1","y1","x2","y2"],F,D);break;case "radial":H=b.makeParameters(b.defaultRadialGradient,D);D=this._setFillObject(H,"radialGradient");t.forEach(["cx","cy","r"],F,D);break;case "pattern":H=
b.makeParameters(b.defaultPattern,D),D=this._setFillObject(H,"pattern"),t.forEach(["x","y","width","height"],F,D)}this.fillStyle=H;return this}this.fillStyle=H=b.normalizeColor(D);this.rawNode.setAttribute("fill",H.toCss());this.rawNode.setAttribute("fill-opacity",H.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(D){var F=this.rawNode;if(!D)return this.strokeStyle=null,F.setAttribute("stroke","none"),F.setAttribute("stroke-opacity",0),this;if("string"==typeof D||
G.isArray(D)||D instanceof c)D={color:D};D=this.strokeStyle=b.makeParameters(b.defaultStroke,D);D.color=b.normalizeColor(D.color);if(D){var H=0>D.width?0:D.width;F.setAttribute("stroke",D.color.toCss());F.setAttribute("stroke-opacity",D.color.a);F.setAttribute("stroke-width",H);F.setAttribute("stroke-linecap",D.cap);"number"==typeof D.join?(F.setAttribute("stroke-linejoin","miter"),F.setAttribute("stroke-miterlimit",D.join)):F.setAttribute("stroke-linejoin",D.join);var E=D.style.toLowerCase();E in
g.dasharray&&(E=g.dasharray[E]);if(E instanceof Array){E=G._toArray(E);var I;for(I=0;I<E.length;++I)E[I]*=H;if("butt"!=D.cap){for(I=0;I<E.length;I+=2)E[I]-=H,1>E[I]&&(E[I]=1);for(I=1;I<E.length;I+=2)E[I]+=H}E=E.join(",")}F.setAttribute("stroke-dasharray",E);F.setAttribute("dojoGfxStrokeStyle",D.style)}return this},_getParentSurface:function(){for(var D=this.parent;D&&!(D instanceof b.Surface);D=D.parent);return D},_setFillObject:function(D,F){var H=g.xmlns.svg;this.fillStyle=D;var E=this._getParentSurface().defNode,
I=this.rawNode.getAttribute("fill");if(I=g.getRef(I))if(I.tagName.toLowerCase()!=F.toLowerCase()){var J=I.id;I.parentNode.removeChild(I);I=k(H,F);I.setAttribute("id",J);E.appendChild(I)}else for(;I.childNodes.length;)I.removeChild(I.lastChild);else I=k(H,F),I.setAttribute("id",b._base._getUniqueId()),E.appendChild(I);if("pattern"==F)I.setAttribute("patternUnits","userSpaceOnUse"),H=k(H,"image"),H.setAttribute("x",0),H.setAttribute("y",0),H.setAttribute("width",(0>D.width?0:D.width).toFixed(8)),H.setAttribute("height",
(0>D.height?0:D.height).toFixed(8)),u(H,g.xmlns.xlink,"xlink:href",D.src),I.appendChild(H);else for(I.setAttribute("gradientUnits","userSpaceOnUse"),F=0;F<D.colors.length;++F){E=D.colors[F];J=k(H,"stop");var K=E.color=b.normalizeColor(E.color);J.setAttribute("offset",E.offset.toFixed(8));J.setAttribute("stop-color",K.toCss());J.setAttribute("stop-opacity",K.a);I.appendChild(J)}this.rawNode.setAttribute("fill","url(#"+I.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule",
"evenodd");return I},_applyTransform:function(){if(this.matrix){var D=this.matrix;this.rawNode.setAttribute("transform","matrix("+D.xx.toFixed(8)+","+D.yx.toFixed(8)+","+D.xy.toFixed(8)+","+D.yy.toFixed(8)+","+D.dx.toFixed(8)+","+D.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(D){D=this.rawNode=D;"image"!=this.shape.type&&D.setAttribute("fill","none");D.setAttribute("fill-opacity",0);D.setAttribute("stroke","none");D.setAttribute("stroke-opacity",
0);D.setAttribute("stroke-width",1);D.setAttribute("stroke-linecap","butt");D.setAttribute("stroke-linejoin","miter");D.setAttribute("stroke-miterlimit",4);D.__gfxObject__=this},setShape:function(D){this.shape=b.makeParameters(this.shape,D);for(var F in this.shape)if("type"!=F){D=this.shape[F];if("width"===F||"height"===F)D=0>D?0:D;this.rawNode.setAttribute(F,D)}this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,
this.rawNode.parentNode.firstChild);return this},setClip:function(D){this.inherited(arguments);var F=D?"width"in D?"rect":"cx"in D?"ellipse":"points"in D?"polyline":"d"in D?"path":null:null;if(D&&!F)return this;"polyline"===F&&(D=G.clone(D),D.points=D.points.join(","));var H,E=h.get(this.rawNode,"clip-path");E&&(H=m.byId(E.match(/gfx_clip[\d]+/)[0]))&&H.removeChild(H.childNodes[0]);D?(H?(F=k(g.xmlns.svg,F),H.appendChild(F)):(E="gfx_clip"+ ++z,this.rawNode.setAttribute("clip-path","url(#"+E+")"),H=
k(g.xmlns.svg,"clipPath"),F=k(g.xmlns.svg,F),H.appendChild(F),this.rawNode.parentNode.insertBefore(H,this.rawNode),h.set(H,"id",E)),h.set(F,D)):(this.rawNode.removeAttribute("clip-path"),H&&H.parentNode.removeChild(H));return this},_removeClipNode:function(){var D,F=h.get(this.rawNode,"clip-path");F&&(D=m.byId(F.match(/gfx_clip[\d]+/)[0]))&&D.parentNode.removeChild(D);return D}});g.Group=p("dojox.gfx.svg.Group",g.Shape,{constructor:function(){e.Container._init.call(this)},setRawNode:function(D){this.rawNode=
D;this.rawNode.__gfxObject__=this},destroy:function(){this.clear(!0);g.Shape.prototype.destroy.apply(this,arguments)}});g.Group.nodeType="g";g.Rect=p("dojox.gfx.svg.Rect",[g.Shape,e.Rect],{setShape:function(D){this.shape=b.makeParameters(this.shape,D);this.bbox=null;for(var F in this.shape)if("type"!=F&&"r"!=F){D=this.shape[F];if("width"===F||"height"===F)D=0>D?0:D;this.rawNode.setAttribute(F,D)}null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));
return this}});g.Rect.nodeType="rect";g.Ellipse=p("dojox.gfx.svg.Ellipse",[g.Shape,e.Ellipse],{});g.Ellipse.nodeType="ellipse";g.Circle=p("dojox.gfx.svg.Circle",[g.Shape,e.Circle],{});g.Circle.nodeType="circle";g.Line=p("dojox.gfx.svg.Line",[g.Shape,e.Line],{});g.Line.nodeType="line";g.Polyline=p("dojox.gfx.svg.Polyline",[g.Shape,e.Polyline],{setShape:function(D,F){D&&D instanceof Array?(this.shape=b.makeParameters(this.shape,{points:D}),F&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):
this.shape=b.makeParameters(this.shape,D);this.bbox=null;this._normalizePoints();D=[];F=this.shape.points;for(var H=0;H<F.length;++H)D.push(F[H].x.toFixed(8),F[H].y.toFixed(8));this.rawNode.setAttribute("points",D.join(" "));return this}});g.Polyline.nodeType="polyline";g.Image=p("dojox.gfx.svg.Image",[g.Shape,e.Image],{setShape:function(D){this.shape=b.makeParameters(this.shape,D);this.bbox=null;D=this.rawNode;for(var F in this.shape)if("type"!=F&&"src"!=F){var H=this.shape[F];if("width"===F||"height"===
F)H=0>H?0:H;D.setAttribute(F,H)}D.setAttribute("preserveAspectRatio","none");u(D,g.xmlns.xlink,"xlink:href",this.shape.src);D.__gfxObject__=this;return this}});g.Image.nodeType="image";g.Text=p("dojox.gfx.svg.Text",[g.Shape,e.Text],{setShape:function(D){this.shape=b.makeParameters(this.shape,D);this.bbox=null;D=this.rawNode;var F=this.shape;D.setAttribute("x",F.x);D.setAttribute("y",F.y);D.setAttribute("text-anchor",F.align);D.setAttribute("text-decoration",F.decoration);D.setAttribute("rotate",F.rotated?
90:0);D.setAttribute("kerning",F.kerning?"auto":0);D.setAttribute("text-rendering",B);D.firstChild?D.firstChild.nodeValue=F.text:D.appendChild(v(F.text));return this},getTextWidth:function(){var D=this.rawNode,F=D.parentNode;D=D.cloneNode(!0);D.style.visibility="hidden";var H=0,E=D.firstChild.nodeValue;F.appendChild(D);if(""!=E)for(;!H;)H=D.getBBox?parseInt(D.getBBox().width):68;F.removeChild(D);return H},getBoundingBox:function(){var D=null;if(this.getShape().text)try{D=this.rawNode.getBBox()}catch(F){D=
{x:0,y:0,width:0,height:0}}return D}});g.Text.nodeType="text";g.Path=p("dojox.gfx.svg.Path",[g.Shape,f.Path],{_updateWithSegment:function(D){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(D){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});g.Path.nodeType="path";g.TextPath=p("dojox.gfx.svg.TextPath",[g.Shape,f.TextPath],{_updateWithSegment:function(D){this.inherited(arguments);
this._setTextPath()},setShape:function(D){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var D=this.rawNode;if(!D.firstChild){var F=k(g.xmlns.svg,"textPath"),H=v("");F.appendChild(H);D.appendChild(F)}F=(F=D.firstChild.getAttributeNS(g.xmlns.xlink,"href"))&&g.getRef(F);if(!F&&(H=this._getParentSurface())){H=H.defNode;F=k(g.xmlns.svg,"path");var E=b._base._getUniqueId();F.setAttribute("id",E);H.appendChild(F);u(D.firstChild,g.xmlns.xlink,
"xlink:href","#"+E)}F&&F.setAttribute("d",this.shape.path)}},_setText:function(){var D=this.rawNode;if(!D.firstChild){var F=k(g.xmlns.svg,"textPath"),H=v("");F.appendChild(H);D.appendChild(F)}D=D.firstChild;F=this.text;D.setAttribute("alignment-baseline","middle");switch(F.align){case "middle":D.setAttribute("text-anchor","middle");D.setAttribute("startOffset","50%");break;case "end":D.setAttribute("text-anchor","end");D.setAttribute("startOffset","100%");break;default:D.setAttribute("text-anchor",
"start"),D.setAttribute("startOffset","0%")}D.setAttribute("baseline-shift","0.5ex");D.setAttribute("text-decoration",F.decoration);D.setAttribute("rotate",F.rotated?90:0);D.setAttribute("kerning",F.kerning?"auto":0);D.firstChild.data=F.text}});g.TextPath.nodeType="text";var C=534<function(){var D=/WebKit\/(\d*)/.exec(q);return D?D[1]:0}();g.Surface=p("dojox.gfx.svg.Surface",e.Surface,{constructor:function(){e.Container._init.call(this)},destroy:function(){e.Container.clear.call(this,!0);this.defNode=
null;this.inherited(arguments)},setDimensions:function(D,F){if(!this.rawNode)return this;D=0>D?0:D;F=0>F?0:F;this.rawNode.setAttribute("width",D);this.rawNode.setAttribute("height",F);C&&(this.rawNode.style.width=D,this.rawNode.style.height=F);return this},getDimensions:function(){return this.rawNode?{width:b.normalizedLength(this.rawNode.getAttribute("width")),height:b.normalizedLength(this.rawNode.getAttribute("height"))}:null}});g.createSurface=function(D,F,H){var E=new g.Surface;E.rawNode=k(g.xmlns.svg,
"svg");E.rawNode.setAttribute("overflow","hidden");F&&E.rawNode.setAttribute("width",0>F?0:F);H&&E.rawNode.setAttribute("height",0>H?0:H);F=k(g.xmlns.svg,"defs");E.rawNode.appendChild(F);E.defNode=F;E._parent=m.byId(D);E._parent.appendChild(E.rawNode);b._base._fixMsTouchAction(E);return E};A={_setFont:function(){var D=this.fontStyle;this.rawNode.setAttribute("font-style",D.style);this.rawNode.setAttribute("font-variant",D.variant);this.rawNode.setAttribute("font-weight",D.weight);this.rawNode.setAttribute("font-size",
D.size);this.rawNode.setAttribute("font-family",D.family)}};var y=e.Container;p=g.Container={openBatch:function(){if(!this._batch){var D=g.useSvgWeb?a.doc.createDocumentFragment(!0):a.doc.createDocumentFragment();this.fragment=D}++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),delete this.fragment);return this},add:function(D){this!=D.getParent()&&(this.fragment?this.fragment.appendChild(D.rawNode):
this.rawNode.appendChild(D.rawNode),y.add.apply(this,arguments),D.setClip(D.clip));return this},remove:function(D,F){this==D.getParent()&&(this.rawNode==D.rawNode.parentNode&&this.rawNode.removeChild(D.rawNode),this.fragment&&this.fragment==D.rawNode.parentNode&&this.fragment.removeChild(D.rawNode),D._removeClipNode(),y.remove.apply(this,arguments));return this},clear:function(){for(var D=this.rawNode;D.lastChild;)D.removeChild(D.lastChild);var F=this.defNode;if(F){for(;F.lastChild;)F.removeChild(F.lastChild);
D.appendChild(F)}return y.clear.apply(this,arguments)},getBoundingBox:y.getBoundingBox,_moveChildToFront:y._moveChildToFront,_moveChildToBack:y._moveChildToBack};f=g.Creator={createObject:function(D,F){if(!this.rawNode)return null;var H=new D;D=k(g.xmlns.svg,D.nodeType);H.setRawNode(D);H.setShape(F);this.add(H);return H}};G.extend(g.Text,A);G.extend(g.TextPath,A);G.extend(g.Group,p);G.extend(g.Group,e.Creator);G.extend(g.Group,f);G.extend(g.Surface,p);G.extend(g.Surface,e.Creator);G.extend(g.Surface,
f);g.fixTarget=function(D,F){D.gfxTarget||(D.gfxTarget=x&&D.target.wholeText?D.target.parentElement.__gfxObject__:D.target.__gfxObject__);return!0};g.useSvgWeb&&(g.createSurface=function(D,F,H){var E=new g.Surface;F=0>F?0:F;H=0>H?0:H;if(!F||!H){var I=n.position(D);F=F||I.w;H=H||I.h}D=m.byId(D);I=D.id?D.id+"_svgweb":b._base._getUniqueId();var J=k(g.xmlns.svg,"svg");J.id=I;J.setAttribute("width",F);J.setAttribute("height",H);svgweb.appendChild(J,D);J.addEventListener("SVGLoad",function(){E.rawNode=
this;E.isLoaded=!0;var K=k(g.xmlns.svg,"defs");E.rawNode.appendChild(K);E.defNode=K;if(E.onLoad)E.onLoad(E)},!1);E.isLoaded=!1;return E},g.Surface.extend({destroy:function(){var D=this.rawNode;svgweb.removeChild(D,D.parentNode)}}),A={connect:function(D,F,H){"on"===D.substring(0,2)&&(D=D.substring(2));H=2==arguments.length?F:G.hitch(F,H);this.getEventSource().addEventListener(D,H,!1);return[this,D,H]},disconnect:function(D){this.getEventSource().removeEventListener(D[1],D[2],!1);delete D[0]}},G.extend(g.Shape,
A),G.extend(g.Surface,A));return g})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(G,A,a,m,p,t,n,h,c){var b=A.getObject("dojox.gfx",!0),e=b._base={};b._hasClass=function(q,x){return(q=q.getAttribute("className"))&&0<=(" "+q+" ").indexOf(" "+x+" ")};b._addClass=function(q,x){var w=q.getAttribute("className")||"";(!w||0>(" "+w+" ").indexOf(" "+
x+" "))&&q.setAttribute("className",w+(w?" ":"")+x)};b._removeClass=function(q,x){var w=q.getAttribute("className");w&&q.setAttribute("className",w.replace(new RegExp("(^|\\s+)"+x+"(\\s+|$)"),"$1$2"))};e._getFontMeasurements=function(){var q={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},x;if(m("ie")){var w=p.doc.documentElement.style.fontSize||"";w||(p.doc.documentElement.style.fontSize="100%")}var B=h.create("div",{style:{position:"absolute",
left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},p.body());for(x in q)B.style.fontSize=x,q[x]=16*Math.round(12*B.offsetHeight/16)/12/1E3;m("ie")&&(p.doc.documentElement.style.fontSize=w);p.body().removeChild(B);return q};var f=null;e._getCachedFontMeasurements=function(q){if(q||!f)f=e._getFontMeasurements();return f};var k=null,u={};e._getTextBox=function(q,x,w){var B=arguments.length,z;k||(k=h.create("div",
{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},p.body()));var C=k;C.className="";var y=C.style;y.borderWidth="0";y.margin="0";y.padding="0";y.outline="0";if(1<B&&x)for(z in x)z in u||(y[z]=x[z]);2<B&&w&&(C.className=w);C.innerHTML=q;C.getBoundingClientRect?(y=C.getBoundingClientRect(),y={l:y.left,t:y.top,w:y.width||y.right-y.left,h:y.height||y.bottom-y.top}):y=c.getMarginBox(C);C.innerHTML="";return y};e._computeTextLocation=function(q,x,w,B){var z={};switch(q.align){case "end":z.x=
q.x-x;break;case "middle":z.x=q.x-x/2;break;default:z.x=q.x}z.y=q.y-w*(B?.75:1);return z};e._computeTextBoundingBox=function(q){if(!b._base._isRendered(q))return{x:0,y:0,width:0,height:0};var x=q.getShape();var w=q.getFont()||b.defaultFont;q=q.getTextWidth();w=b.normalizedLength(w.size);x=e._computeTextLocation(x,q,w,!0);return{x:x.x,y:x.y,width:q,height:w}};e._isRendered=function(q){for(q=q.parent;q&&q.getParent;)q=q.parent;return null!==q};var v=0;e._getUniqueId=function(){do var q=G._scopeName+
"xUnique"+ ++v;while(n.byId(q));return q};var g=m("pointer-events")?"touchAction":m("MSPointer")?"msTouchAction":null;e._fixMsTouchAction=g?function(q){q.rawNode.style[g]="none"}:function(){};A.mixin(b,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",
x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,
color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var q={};return function(x){var w=q[x];if(w)return new w;w=q[x]=function(){};w.prototype=b["default"+x];return new w}}(),normalizeColor:function(q){return q instanceof a?q:new a(q)},normalizeParameters:function(q,x){var w;if(x){var B={};for(w in q)w in x&&!(w in B)&&(q[w]=
x[w])}return q},makeParameters:function(q,x){var w=null;if(!x)return A.delegate(q);var B={};for(w in q)w in B||(B[w]=A.clone(w in x?x[w]:q[w]));return B},formatNumber:function(q,x){var w=q.toString();if(0<=w.indexOf("e"))w=q.toFixed(4);else{var B=w.indexOf(".");0<=B&&5<w.length-B&&(w=q.toFixed(4))}return 0>q?w:x?" "+w:w},makeFontString:function(q){return q.style+" "+q.variant+" "+q.weight+" "+q.size+" "+q.family},splitFontString:function(q){var x=b.getDefault("Font");q=q.split(/\s+/);if(!(5>q.length)){x.style=
q[0];x.variant=q[1];x.weight=q[2];var w=q[3].indexOf("/");x.size=0>w?q[3]:q[3].substring(0,w);var B=4;0>w&&("/"==q[4]?B=6:"/"==q[4].charAt(0)&&(B=5));B<q.length&&(x.family=q.slice(B).join(" "))}return x},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return b._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(q){return q*b.px_in_pt()},px2pt:function(q){return q/b.px_in_pt()},normalizedLength:function(q){if(0===q.length)return 0;if(2<q.length){var x=b.px_in_pt(),w=parseFloat(q);
switch(q.slice(-2)){case "px":return w;case "pt":return w*x;case "in":return 72*w*x;case "pc":return 12*w*x;case "mm":return w*b.mm_in_pt*x;case "cm":return w*b.cm_in_pt*x}}return parseFloat(q)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(q,x){return q&&x&&q===x},switchTo:function(q){var x="string"==typeof q?b[q]:q;x&&(t.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),
function(w){b[w]=x[w]}),"string"==typeof q?b.renderer=q:t.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(w){return b.renderer=b[w]&&b[w].Surface===b.Surface?w:null}))}});return b})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(G,A,a,m,p,t,n,h,c,b){function e(k,u){for(var v=k.length-1;u<v;)k[u]=k[++u];k.length=v}var f=
G.shape={};f.Shape=a("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(p("gfxRegistry")){var k=f.register(this);this.getUID=function(){return k}}},destroy:function(){p("gfxRegistry")&&f.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},
getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var k=this.getBoundingBox();if(!k)return null;var u=this._getRealMatrix();return[b.multiplyPoint(u,k.x,k.y),b.multiplyPoint(u,k.x+k.width,k.y),b.multiplyPoint(u,k.x+k.width,k.y+k.height),b.multiplyPoint(u,k.x,k.y+k.height)]},getEventSource:function(){return this.rawNode},setClip:function(k){this.clip=
k},getClip:function(){return this.clip},setShape:function(k){this.shape=G.makeParameters(this.shape,k);this.bbox=null;return this},setFill:function(k){if(!k)return this.fillStyle=null,this;var u=null;if("object"==typeof k&&"type"in k)switch(k.type){case "linear":u=G.makeParameters(G.defaultLinearGradient,k);break;case "radial":u=G.makeParameters(G.defaultRadialGradient,k);break;case "pattern":u=G.makeParameters(G.defaultPattern,k)}else u=G.normalizeColor(k);this.fillStyle=u;return this},setStroke:function(k){if(!k)return this.strokeStyle=
null,this;if("string"==typeof k||A.isArray(k)||k instanceof c)k={color:k};k=this.strokeStyle=G.makeParameters(G.defaultStroke,k);k.color=G.normalizeColor(k.color);return this},setTransform:function(k){this.matrix=b.clone(k?b.normalize(k):b.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var k=this.getParent();k&&(k._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var k=this.getParent();k&&(k._moveChildToBack(this),
this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(k){return k?this.setTransform([this.matrix,k]):this},applyLeftTransform:function(k){return k?this.setTransform([k,this.matrix]):this},applyTransform:function(k){return k?this.setTransform([this.matrix,k]):this},removeShape:function(k){this.parent&&this.parent.remove(this,k);return this},_setParent:function(k,u){this.parent=k;return this._updateParentMatrix(u)},_updateParentMatrix:function(k){this.parentMatrix=
k?b.clone(k):null;return this._applyTransform()},_getRealMatrix:function(){for(var k=this.matrix,u=this.parent;u;)u.matrix&&(k=b.multiply(u.matrix,k)),u=u.parent;return k}});f._eventsProcessing={on:function(k,u){return t(this.getEventSource(),k,f.fixCallback(this,G.fixTarget,u))},connect:function(k,u,v){"on"==k.substring(0,2)&&(k=k.substring(2));return this.on(k,v?A.hitch(u,v):u)},disconnect:function(k){return k.remove()}};f.fixCallback=function(k,u,v,g){g||(g=v,v=null);if(A.isString(g)){v=v||m.global;
if(!v[g])throw['dojox.gfx.shape.fixCallback: scope["',g,'"] is null (scope\x3d"',v,'")'].join("");return function(q){return u(q,k)?v[g].apply(v,arguments||[]):void 0}}return v?function(q){return u(q,k)?g.apply(v,arguments||[]):void 0}:function(q){return u(q,k)?g.apply(v,arguments):void 0}};A.extend(f.Shape,f._eventsProcessing);f.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(k){var u=k.getParent();u&&u.remove(k,
!0);this.children.push(k);return k._setParent(this,this._getRealMatrix())},remove:function(k,u){for(var v=0;v<this.children.length;++v)if(this.children[v]==k){u||(k.parent=null,k.parentMatrix=null);e(this.children,v);break}return this},clear:function(k){for(var u,v=0;v<this.children.length;++v)u=this.children[v],u.parent=null,u.parentMatrix=null,k&&u.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var k=null;n.forEach(this.children,function(u){var v=u.getBoundingBox();
v&&((u=u.getTransform())&&(v=b.multiplyRectangle(u,v)),k?(k.x=Math.min(k.x,v.x),k.y=Math.min(k.y,v.y),k.endX=Math.max(k.endX,v.x+v.width),k.endY=Math.max(k.endY,v.y+v.height)):k={x:v.x,y:v.y,endX:v.x+v.width,endY:v.y+v.height})});k&&(k.width=k.endX-k.x,k.height=k.endY-k.y);return k}return null},_moveChildToFront:function(k){for(var u=0;u<this.children.length;++u)if(this.children[u]==k){e(this.children,u);this.children.push(k);break}return this},_moveChildToBack:function(k){for(var u=0;u<this.children.length;++u)if(this.children[u]==
k){e(this.children,u);this.children.unshift(k);break}return this}};f.Surface=a("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){n.forEach(this._nodes,h.destroy);this._nodes=[];n.forEach(this._events,function(k){k&&k.remove()});this._events=[];this.rawNode=null;if(p("ie"))for(;this._parent.lastChild;)h.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},
_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(k){},whenLoaded:function(k,u){var v=A.hitch(k,u);if(this.isLoaded)v(this);else t.once(this,"load",function(g){v(g)})}});A.extend(f.Surface,f._eventsProcessing);f.Rect=a("dojox.gfx.shape.Rect",f.Shape,{constructor:function(k){this.shape=G.getDefault("Rect");this.rawNode=k},getBoundingBox:function(){return this.shape}});f.Ellipse=a("dojox.gfx.shape.Ellipse",f.Shape,{constructor:function(k){this.shape=G.getDefault("Ellipse");this.rawNode=
k},getBoundingBox:function(){if(!this.bbox){var k=this.shape;this.bbox={x:k.cx-k.rx,y:k.cy-k.ry,width:2*k.rx,height:2*k.ry}}return this.bbox}});f.Circle=a("dojox.gfx.shape.Circle",f.Shape,{constructor:function(k){this.shape=G.getDefault("Circle");this.rawNode=k},getBoundingBox:function(){if(!this.bbox){var k=this.shape;this.bbox={x:k.cx-k.r,y:k.cy-k.r,width:2*k.r,height:2*k.r}}return this.bbox}});f.Line=a("dojox.gfx.shape.Line",f.Shape,{constructor:function(k){this.shape=G.getDefault("Line");this.rawNode=
k},getBoundingBox:function(){if(!this.bbox){var k=this.shape;this.bbox={x:Math.min(k.x1,k.x2),y:Math.min(k.y1,k.y2),width:Math.abs(k.x2-k.x1),height:Math.abs(k.y2-k.y1)}}return this.bbox}});f.Polyline=a("dojox.gfx.shape.Polyline",f.Shape,{constructor:function(k){this.shape=G.getDefault("Polyline");this.rawNode=k},setShape:function(k,u){k&&k instanceof Array?(this.inherited(arguments,[{points:k}]),u&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[k]);
return this},_normalizePoints:function(){var k=this.shape.points,u=k&&k.length;if(u&&"number"==typeof k[0]){for(var v=[],g=0;g<u;g+=2)v.push({x:k[g],y:k[g+1]});this.shape.points=v}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var k=this.shape.points,u=k.length,v=k[0],g=v.x,q=v.y,x=v.x,w=v.y,B=1;B<u;++B)v=k[B],g>v.x&&(g=v.x),x<v.x&&(x=v.x),q>v.y&&(q=v.y),w<v.y&&(w=v.y);this.bbox={x:g,y:q,width:x-g,height:w-q}}return this.bbox}});f.Image=a("dojox.gfx.shape.Image",f.Shape,
{constructor:function(k){this.shape=G.getDefault("Image");this.rawNode=k},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});f.Text=a(f.Shape,{constructor:function(k){this.fontStyle=null;this.shape=G.getDefault("Text");this.rawNode=k},getFont:function(){return this.fontStyle},setFont:function(k){this.fontStyle="string"==typeof k?G.splitFontString(k):G.makeParameters(G.defaultFont,k);this._setFont();return this},getBoundingBox:function(){var k=
null;this.getShape().text&&(k=G._base._computeTextBoundingBox(this));return k}});f.Creator={createShape:function(k){switch(k.type){case G.defaultPath.type:return this.createPath(k);case G.defaultRect.type:return this.createRect(k);case G.defaultCircle.type:return this.createCircle(k);case G.defaultEllipse.type:return this.createEllipse(k);case G.defaultLine.type:return this.createLine(k);case G.defaultPolyline.type:return this.createPolyline(k);case G.defaultImage.type:return this.createImage(k);
case G.defaultText.type:return this.createText(k);case G.defaultTextPath.type:return this.createTextPath(k)}return null},createGroup:function(){return this.createObject(G.Group)},createRect:function(k){return this.createObject(G.Rect,k)},createEllipse:function(k){return this.createObject(G.Ellipse,k)},createCircle:function(k){return this.createObject(G.Circle,k)},createLine:function(k){return this.createObject(G.Line,k)},createPolyline:function(k){return this.createObject(G.Polyline,k)},createImage:function(k){return this.createObject(G.Image,
k)},createText:function(k){return this.createObject(G.Text,k)},createPath:function(k){return this.createObject(G.Path,k)},createTextPath:function(k){return this.createObject(G.TextPath,{}).setText(k)},createObject:function(k,u){return null}};return f})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(G,A){var a=G.matrix={},m={};a._degToRad=function(p){return m[p]||(m[p]=Math.PI*p/180)};a._radToDeg=function(p){return p/Math.PI*180};a.Matrix2D=function(p){if(p)if("number"==
typeof p)this.xx=this.yy=p;else if(p instanceof Array){if(0<p.length){for(var t=a.normalize(p[0]),n=1;n<p.length;++n){var h=t,c=a.normalize(p[n]);t=new a.Matrix2D;t.xx=h.xx*c.xx+h.xy*c.yx;t.xy=h.xx*c.xy+h.xy*c.yy;t.yx=h.yx*c.xx+h.yy*c.yx;t.yy=h.yx*c.xy+h.yy*c.yy;t.dx=h.xx*c.dx+h.xy*c.dy+h.dx;t.dy=h.yx*c.dx+h.yy*c.dy+h.dy}A.mixin(this,t)}}else A.mixin(this,p)};A.extend(a.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});A.mixin(a,{identity:new a.Matrix2D,flipX:new a.Matrix2D({xx:-1}),flipY:new a.Matrix2D({yy:-1}),
flipXY:new a.Matrix2D({xx:-1,yy:-1}),translate:function(p,t){return 1<arguments.length?new a.Matrix2D({dx:p,dy:t}):new a.Matrix2D({dx:p.x,dy:p.y})},scale:function(p,t){return 1<arguments.length?new a.Matrix2D({xx:p,yy:t}):"number"==typeof p?new a.Matrix2D({xx:p,yy:p}):new a.Matrix2D({xx:p.x,yy:p.y})},rotate:function(p){var t=Math.cos(p);p=Math.sin(p);return new a.Matrix2D({xx:t,xy:-p,yx:p,yy:t})},rotateg:function(p){return a.rotate(a._degToRad(p))},skewX:function(p){return new a.Matrix2D({xy:Math.tan(p)})},
skewXg:function(p){return a.skewX(a._degToRad(p))},skewY:function(p){return new a.Matrix2D({yx:Math.tan(p)})},skewYg:function(p){return a.skewY(a._degToRad(p))},reflect:function(p,t){1==arguments.length&&(t=p.y,p=p.x);var n=p*p,h=t*t,c=n+h,b=2*p*t/c;return new a.Matrix2D({xx:2*n/c-1,xy:b,yx:b,yy:2*h/c-1})},project:function(p,t){1==arguments.length&&(t=p.y,p=p.x);var n=p*p,h=t*t,c=n+h,b=p*t/c;return new a.Matrix2D({xx:n/c,xy:b,yx:b,yy:h/c})},normalize:function(p){return p instanceof a.Matrix2D?p:new a.Matrix2D(p)},
isIdentity:function(p){return 1==p.xx&&0==p.xy&&0==p.yx&&1==p.yy&&0==p.dx&&0==p.dy},clone:function(p){var t=new a.Matrix2D,n;for(n in p)"number"==typeof p[n]&&"number"==typeof t[n]&&t[n]!=p[n]&&(t[n]=p[n]);return t},invert:function(p){p=a.normalize(p);var t=p.xx*p.yy-p.xy*p.yx;return p=new a.Matrix2D({xx:p.yy/t,xy:-p.xy/t,yx:-p.yx/t,yy:p.xx/t,dx:(p.xy*p.dy-p.yy*p.dx)/t,dy:(p.yx*p.dx-p.xx*p.dy)/t})},_multiplyPoint:function(p,t,n){return{x:p.xx*t+p.xy*n+p.dx,y:p.yx*t+p.yy*n+p.dy}},multiplyPoint:function(p,
t,n){p=a.normalize(p);return"number"==typeof t&&"number"==typeof n?a._multiplyPoint(p,t,n):a._multiplyPoint(p,t.x,t.y)},multiplyRectangle:function(p,t){var n=a.normalize(p);t=t||{x:0,y:0,width:0,height:0};if(a.isIdentity(n))return{x:t.x,y:t.y,width:t.width,height:t.height};p=a.multiplyPoint(n,t.x,t.y);var h=a.multiplyPoint(n,t.x,t.y+t.height),c=a.multiplyPoint(n,t.x+t.width,t.y);t=a.multiplyPoint(n,t.x+t.width,t.y+t.height);n=Math.min(p.x,h.x,c.x,t.x);var b=Math.min(p.y,h.y,c.y,t.y);return{x:n,y:b,
width:Math.max(p.x,h.x,c.x,t.x)-n,height:Math.max(p.y,h.y,c.y,t.y)-b}},multiply:function(p){for(var t=a.normalize(p),n=1;n<arguments.length;++n){var h=t,c=a.normalize(arguments[n]);t=new a.Matrix2D;t.xx=h.xx*c.xx+h.xy*c.yx;t.xy=h.xx*c.xy+h.xy*c.yy;t.yx=h.yx*c.xx+h.yy*c.yx;t.yy=h.yx*c.xy+h.yy*c.yy;t.dx=h.xx*c.dx+h.xy*c.dy+h.dx;t.dy=h.yx*c.dx+h.yy*c.dy+h.dy}return t},_sandwich:function(p,t,n){return a.multiply(a.translate(t,n),p,a.translate(-t,-n))},scaleAt:function(p,t,n,h){switch(arguments.length){case 4:return a._sandwich(a.scale(p,
t),n,h);case 3:return"number"==typeof n?a._sandwich(a.scale(p),t,n):a._sandwich(a.scale(p,t),n.x,n.y)}return a._sandwich(a.scale(p),t.x,t.y)},rotateAt:function(p,t,n){return 2<arguments.length?a._sandwich(a.rotate(p),t,n):a._sandwich(a.rotate(p),t.x,t.y)},rotategAt:function(p,t,n){return 2<arguments.length?a._sandwich(a.rotateg(p),t,n):a._sandwich(a.rotateg(p),t.x,t.y)},skewXAt:function(p,t,n){return 2<arguments.length?a._sandwich(a.skewX(p),t,n):a._sandwich(a.skewX(p),t.x,t.y)},skewXgAt:function(p,
t,n){return 2<arguments.length?a._sandwich(a.skewXg(p),t,n):a._sandwich(a.skewXg(p),t.x,t.y)},skewYAt:function(p,t,n){return 2<arguments.length?a._sandwich(a.skewY(p),t,n):a._sandwich(a.skewY(p),t.x,t.y)},skewYgAt:function(p,t,n){return 2<arguments.length?a._sandwich(a.skewYg(p),t,n):a._sandwich(a.skewYg(p),t.x,t.y)}});G.Matrix2D=a.Matrix2D;return a})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(G,A,a,m,p){p=a("dojox.gfx.path.Path",
p.Shape,{constructor:function(t){this.shape=A.clone(G.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=t;this.segmented=!1},setAbsoluteMode:function(t){this._confirmSegmented();this.absolute="string"==typeof t?"absolute"==t:t;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-
this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var t=this.bbox,n=this._getRealMatrix();this.bbox=null;for(var h=0,c=this.segments.length;h<c;++h)this._updateWithSegment(this.segments[h],n);n=this.bbox;this.bbox=t;return this.tbbox=n?[{x:n.l,y:n.t},{x:n.r,y:n.t},{x:n.r,y:n.b},{x:n.l,y:n.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},
_updateBBox:function(t,n,h){h&&(n=m.multiplyPoint(h,t,n),t=n.x,n=n.y);this.bbox&&"l"in this.bbox?(this.bbox.l>t&&(this.bbox.l=t),this.bbox.r<t&&(this.bbox.r=t),this.bbox.t>n&&(this.bbox.t=n),this.bbox.b<n&&(this.bbox.b=n)):this.bbox={l:t,b:n,r:t,t:n}},_updateWithSegment:function(t,n){var h=t.args,c=h.length,b;switch(t.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(b=0;b<c;b+=2)this._updateBBox(h[b],h[b+1],n);this.last.x=h[c-2];this.last.y=h[c-1];this.absolute=!0;break;case "H":for(b=
0;b<c;++b)this._updateBBox(h[b],this.last.y,n);this.last.x=h[c-1];this.absolute=!0;break;case "V":for(b=0;b<c;++b)this._updateBBox(this.last.x,h[b],n);this.last.y=h[c-1];this.absolute=!0;break;case "m":b=0;"x"in this.last||(this._updateBBox(this.last.x=h[0],this.last.y=h[1],n),b=2);for(;b<c;b+=2)this._updateBBox(this.last.x+=h[b],this.last.y+=h[b+1],n);this.absolute=!1;break;case "l":case "t":for(b=0;b<c;b+=2)this._updateBBox(this.last.x+=h[b],this.last.y+=h[b+1],n);this.absolute=!1;break;case "h":for(b=
0;b<c;++b)this._updateBBox(this.last.x+=h[b],this.last.y,n);this.absolute=!1;break;case "v":for(b=0;b<c;++b)this._updateBBox(this.last.x,this.last.y+=h[b],n);this.absolute=!1;break;case "c":for(b=0;b<c;b+=6)this._updateBBox(this.last.x+h[b],this.last.y+h[b+1],n),this._updateBBox(this.last.x+h[b+2],this.last.y+h[b+3],n),this._updateBBox(this.last.x+=h[b+4],this.last.y+=h[b+5],n);this.absolute=!1;break;case "s":case "q":for(b=0;b<c;b+=4)this._updateBBox(this.last.x+h[b],this.last.y+h[b+1],n),this._updateBBox(this.last.x+=
h[b+2],this.last.y+=h[b+3],n);this.absolute=!1;break;case "A":for(b=0;b<c;b+=7)this._updateBBox(h[b+5],h[b+6],n);this.last.x=h[c-2];this.last.y=h[c-1];this.absolute=!0;break;case "a":for(b=0;b<c;b+=7)this._updateBBox(this.last.x+=h[b+5],this.last.y+=h[b+6],n);this.absolute=!1}t=[t.action];for(b=0;b<c;++b)t.push(G.formatNumber(h[b],!0));if("string"==typeof this.shape.path)this.shape.path+=t.join("");else for(b=0,c=t.length;b<c;++b)this.shape.path.push(t[b])},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,
q:4,t:2,a:7,z:0},_pushSegment:function(t,n){this.tbbox=null;var h=this._validSegments[t.toLowerCase()];"number"==typeof h&&(h?n.length>=h&&(t={action:t,args:n.slice(0,n.length-n.length%h)},this.segments.push(t),this._updateWithSegment(t)):(t={action:t,args:[]},this.segments.push(t),this._updateWithSegment(t)))},_collectArgs:function(t,n){for(var h=0;h<n.length;++h){var c=n[h];"boolean"==typeof c?t.push(c?1:0):"number"==typeof c?t.push(c):c instanceof Array?this._collectArgs(t,c):"x"in c&&"y"in c&&
t.push(c.x,c.y)}},moveTo:function(){this._confirmSegmented();var t=[];this._collectArgs(t,arguments);this._pushSegment(this.absolute?"M":"m",t);return this},lineTo:function(){this._confirmSegmented();var t=[];this._collectArgs(t,arguments);this._pushSegment(this.absolute?"L":"l",t);return this},hLineTo:function(){this._confirmSegmented();var t=[];this._collectArgs(t,arguments);this._pushSegment(this.absolute?"H":"h",t);return this},vLineTo:function(){this._confirmSegmented();var t=[];this._collectArgs(t,
arguments);this._pushSegment(this.absolute?"V":"v",t);return this},curveTo:function(){this._confirmSegmented();var t=[];this._collectArgs(t,arguments);this._pushSegment(this.absolute?"C":"c",t);return this},smoothCurveTo:function(){this._confirmSegmented();var t=[];this._collectArgs(t,arguments);this._pushSegment(this.absolute?"S":"s",t);return this},qCurveTo:function(){this._confirmSegmented();var t=[];this._collectArgs(t,arguments);this._pushSegment(this.absolute?"Q":"q",t);return this},qSmoothCurveTo:function(){this._confirmSegmented();
var t=[];this._collectArgs(t,arguments);this._pushSegment(this.absolute?"T":"t",t);return this},arcTo:function(){this._confirmSegmented();var t=[];this._collectArgs(t,arguments);this._pushSegment(this.absolute?"A":"a",t);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var t=this.shape.path;this.shape.path=[];this._setPath(t);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(t){t=
A.isArray(t)?t:t.match(G.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(t){for(var n="",h=[],c=t.length,b=0;b<c;++b){var e=t[b],f=parseFloat(e);isNaN(f)?(n&&this._pushSegment(n,h),h=[],n=e):h.push(f)}this._pushSegment(n,h)}},setShape:function(t){this.inherited(arguments,["string"==typeof t?{path:t}:t]);this.segmented=!1;this.segments=[];G.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});a=a("dojox.gfx.path.TextPath",p,{constructor:function(t){"text"in
this||(this.text=A.clone(G.defaultTextPath));"fontStyle"in this||(this.fontStyle=A.clone(G.defaultFont))},getText:function(){return this.text},setText:function(t){this.text=G.makeParameters(this.text,"string"==typeof t?{text:t}:t);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(t){this.fontStyle="string"==typeof t?G.splitFontString(t):G.makeParameters(G.defaultFont,t);this._setFont();return this}});return G.path={Path:p,TextPath:a}})},"dojox/gfx/svgext":function(){define(["dojo/dom",
"dojo/_base/array","dojo/_base/window","./_base","./svg"],function(G,A,a,m,p){function t(h,c){var b=c.ownerDocument.createElementNS(p.xmlns.svg,h.tag);c.appendChild(b);for(var e in h)e in n||b.setAttribute(e,h[e]);h.children&&A.forEach(h.children,function(f){t(f,b)});return b}a=m.svgext={};var n={primitives:null,tag:null,children:null};p.Shape.extend({addRenderingOption:function(h,c){this.rawNode.setAttribute(h,c);return this},setFilter:function(h){if(!h)return this.rawNode.removeAttribute("filter"),
this.filter=null,this;this.filter=h;h.id=h.id||m._base._getUniqueId();var c=G.byId(h.id);if(!c){c=this.rawNode.ownerDocument.createElementNS(p.xmlns.svg,"filter");c.setAttribute("filterUnits","userSpaceOnUse");for(var b in h)b in n||c.setAttribute(b,h[b]);A.forEach(h.primitives,function(e){t(e,c)});(b=this._getParentSurface())&&b.defNode.appendChild(c)}this.rawNode.setAttribute("filter","url(#"+h.id+")");return this},getFilter:function(){return this.filter}});return a})},"dojox/gfx/filters":function(){define(["dojo/_base/lang",
"dojo/_base/array"],function(G,A){var a={},m={x:"0%",y:"0%",width:"100%",height:"100%"},p={};a.createFilter=function(f,k){f=G.mixin({},m,f);f.primitives||(f.primitives=[]);k&&Array.prototype.push.apply(f.primitives,k);return f};var t=function(f,k,u){k instanceof Array&&(u=k,k=null);k=G.mixin({},k);k.children=u;k.tag=f;return k};A.forEach("feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feFlood feGaussianBlur feImage feMorphology feOffset feSpecularLighting feTile feTurbulence feDistantLight fePointLight feSpotLight feMergeNode feFuncA feFuncR feFuncG feFuncB".split(" "),
function(f){a[f]=function(k,u){return t(f,k,u)}});a.feMerge=function(f,k){if("string"===typeof f){for(var u=[],v=0;v<arguments.length;++v)u.push(a.feMergeNode({"in":arguments[v]}));return t("feMerge",{},u)}return t("feMerge",f,k)};var n=a.createFilter;p.convolutions=[n({_gfxName:"boxBlur3"},[a.feConvolveMatrix({"in":"SourceGraphic",order:3,divisor:9,kernelMatrix:"1,1,1,1,1,1,1,1,1"})]),n({_gfxName:"boxBlur5"},[a.feConvolveMatrix({"in":"SourceGraphic",order:5,divisor:25,kernelMatrix:"1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1"})]),
n({_gfxName:"verticalEdges",filterUnits:"objectBoundingBox"},[a.feConvolveMatrix({"in":"SourceGraphic",result:"kernel",order:3,divisor:1,kernelMatrix:"-1 0 1 -1 0 1 -1 0 1"}),a.feComponentTransfer({"in":"kernel"},[a.feFuncA({type:"table",tableValues:"1,1"})])]),n({_gfxName:"horizontalEdges",filterUnits:"objectBoundingBox"},[a.feConvolveMatrix({"in":"SourceGraphic",result:"kernel",order:3,divisor:1,kernelMatrix:"1 1 1 0 0 0 -1 -1 -1"}),a.feComponentTransfer({"in":"kernel"},[a.feFuncA({type:"table",
tableValues:"1,1"})])]),n({_gfxName:"allEdges3",filterUnits:"objectBoundingBox"},[a.feConvolveMatrix({"in":"SourceGraphic",result:"kernel",order:3,divisor:1,kernelMatrix:"-1 -1 -1 -1 8 -1 -1 -1 -1"}),a.feComponentTransfer({"in":"kernel"},[a.feFuncA({type:"table",tableValues:"1,1"})])]),n({_gfxName:"edgeEnhance",filterUnits:"objectBoundingBox"},[a.feConvolveMatrix({"in":"SourceGraphic",result:"kernel",order:3,divisor:-1,kernelMatrix:"0 1 0 1 -5 1 0 1 0"}),a.feComponentTransfer({"in":"kernel"},[a.feFuncA({type:"table",
tableValues:"1,1"})])])];A.forEach(p.convolutions,function(f){G.mixin(f,m)});p.shadows=[n({_gfxName:"fastSmallDropShadow"},[a.feColorMatrix({"in":"SourceAlpha",type:"matrix",result:"grey",values:"0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,0.7,0"}),a.feOffset({dx:3,dy:3,result:"offsetBlur"}),a.feMerge("offsetBlur","SourceGraphic")]),n({_gfxName:"fastDropShadow"},[a.feColorMatrix({"in":"SourceAlpha",type:"matrix",result:"grey",values:"0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,0.7,0"}),
a.feOffset({dx:5,dy:5,result:"offsetBlur"}),a.feMerge("offsetBlur","SourceGraphic")]),n({_gfxName:"fastDropShadowLight"},[a.feColorMatrix({"in":"SourceAlpha",type:"matrix",result:"grey",values:"0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,0.4,0"}),a.feOffset({dx:5,dy:5,result:"offsetBlur"}),a.feMerge("offsetBlur","SourceGraphic")]),n({_gfxName:"dropShadow"},[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:4}),a.feOffset({dx:5,dy:5,result:"offsetBlur"}),a.feMerge("offsetBlur",
"SourceGraphic")]),n({_gfxName:"dropShadowLight"},[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:4,result:"blur"}),a.feComponentTransfer({"in":"blur",result:"lessblur"},[a.feFuncA({type:"linear",slope:.5})]),a.feOffset({"in":"lessblur",dx:5,dy:5,result:"offsetBlur"}),a.feMerge("offsetBlur","SourceGraphic")]),n({_gfxName:"smallDropShadow"},[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:3}),a.feOffset({dx:2,dy:2,result:"offsetBlur"}),a.feMerge("offsetBlur","SourceGraphic")]),n({_gfxName:"smallDropShadowLight"},
[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:3,result:"blur"}),a.feComponentTransfer({"in":"blur",result:"lessblur"},[a.feFuncA({type:"linear",slope:.5})]),a.feOffset({"in":"lessblur",dx:2,dy:2,result:"offsetBlur"}),a.feMerge("offsetBlur","SourceGraphic")])];var h={x:"-10%",y:"-10%",width:"125%",height:"125%"};A.forEach(p.shadows,function(f){G.mixin(f,h)});p.blurs=[n({_gfxName:"blur1",x:"-5%",y:"-5%",width:"110%",height:"110%"},[a.feGaussianBlur({"in":"SourceGraphic",stdDeviation:1})]),n({_gfxName:"blur2",
x:"-15%",y:"-15%",width:"130%",height:"130%"},[a.feGaussianBlur({"in":"SourceGraphic",stdDeviation:2})]),n({_gfxName:"blur4",x:"-15%",y:"-15%",width:"130%",height:"130%"},[a.feGaussianBlur({"in":"SourceGraphic",stdDeviation:4})]),n({_gfxName:"blur8",x:"-20%",y:"-20%",width:"140%",height:"140%"},[a.feGaussianBlur({"in":"SourceGraphic",stdDeviation:8})]),n({_gfxName:"glow",x:"-10%",y:"-10%",width:"120%",height:"120%"},[a.feGaussianBlur({"in":"SourceGraphic",stdDeviation:2}),a.feComponentTransfer([a.feFuncA({type:"linear",
slope:10})])])];p.colors=[n({_gfxName:"negate"},[a.feComponentTransfer([a.feFuncR({type:"table",tableValues:"1,0"}),a.feFuncG({type:"table",tableValues:"1,0"}),a.feFuncB({type:"table",tableValues:"1,0"})])]),n({_gfxName:"sepia"},[a.feColorMatrix({result:"grey",values:"0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,1,0"}),a.feComponentTransfer({"in":"grey"},[a.feFuncR({type:"linear",slope:.5,intercept:.5}),a.feFuncB({type:"table",tableValues:"0,0"})])]),n({_gfxName:"grayscale"},
[a.feColorMatrix({values:"0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,1,0"})]),n({_gfxName:"showRed"},[a.feComponentTransfer([a.feFuncG({type:"table",tableValues:"0,0"}),a.feFuncB({type:"table",tableValues:"0,0"})])]),n({_gfxName:"showGreen"},[a.feComponentTransfer([a.feFuncR({type:"table",tableValues:"0,0"}),a.feFuncB({type:"table",tableValues:"0,0"})])]),n({_gfxName:"showBlue"},[a.feComponentTransfer([a.feFuncR({type:"table",tableValues:"0,0"}),a.feFuncG({type:"table",
tableValues:"0,0"})])]),n({_gfxName:"hueRotate60"},[a.feColorMatrix({type:"hueRotate",values:60})]),n({_gfxName:"hueRotate120"},[a.feColorMatrix({type:"hueRotate",values:120})]),n({_gfxName:"hueRotate180"},[a.feColorMatrix({type:"hueRotate",values:180})]),n({_gfxName:"hueRotate270"},[a.feColorMatrix({type:"hueRotate",values:270})])];A.forEach(p.colors,function(f){G.mixin(f,m)});p.miscs=[n({_gfxName:"thinEmbossDropShadow",x:"-5%",y:"-5%",width:"120%",height:"120%"},[a.feGaussianBlur({"in":"SourceAlpha",
stdDeviation:1,result:"blur"}),a.feOffset({"in":"blur",dx:6,dy:6,result:"offsetBlur"}),a.feSpecularLighting({"in":"blur",surfaceScale:8,specularConstant:1,specularExponent:12,result:"specOut"},[a.fePointLight({x:"-5000",y:"-10000",z:"12000"})]),a.feComposite({"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"}),a.feComposite({"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",result:"litPaint",k1:0,k2:1,k3:1,k4:0}),a.feMerge("offsetBlur","litPaint")]),n({_gfxName:"embossDropShadow",
x:"-5%",y:"-5%",width:"120%",height:"120%"},[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:"4",result:"blur"}),a.feOffset({"in":"blur",dx:4,dy:4,result:"offsetBlur"}),a.feSpecularLighting({"in":"blur",surfaceScale:5,specularConstant:.75,specularExponent:20,"lighting-color":"#bbbbbb",result:"specOut"},[a.fePointLight({x:-5E3,y:-1E4,z:2E4})]),a.feComposite({"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"}),a.feComposite({"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,
k2:1,k3:1,k4:0,result:"litPaint"}),a.feMerge("offsetBlur","litPaint")]),n({_gfxName:"largeEmbossDropShadow",x:"-20%",y:"-20%",width:"140%",height:"140%"},[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:5,result:"blur"}),a.feOffset({"in":"blur",dx:6,dy:6,result:"offsetBlur"}),a.feSpecularLighting({"in":"blur",surfaceScale:8,specularConstant:1,specularExponent:12,result:"spec"},[a.fePointLight({x:"-5000",y:"-10000",z:"12000"})]),a.feComposite({"in":"spec",in2:"SourceGraphic",operator:"in",result:"specOut"}),
a.feComposite({"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",result:"litPaint",k1:0,k2:1,k3:1,k4:0}),a.feMerge("offsetBlur","litPaint")]),n({_gfxName:"thinEmbossDropShadowLight",x:"-5%",y:"-5%",width:"120%",height:"120%"},[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:1,result:"blur"}),a.feComponentTransfer({"in":"blur",result:"lessblur"},[a.feFuncA({type:"linear",slope:"0.5"})]),a.feOffset({"in":"lessblur",dx:"6",dy:"6",result:"offsetBlur"}),a.feSpecularLighting({"in":"lessblur",surfaceScale:8,
specularConstant:1,specularExponent:"12",result:"specOut"},[a.fePointLight({x:"-5000",y:"-10000",z:"12000"})]),a.feComposite({"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"}),a.feComposite({"in":"SourceGraphic",in2:"specOut",result:"litPaint",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0}),a.feMerge("offsetBlur","litPaint")]),n({_gfxName:"embossDropShadowLight",x:"-5%",y:"-5%",width:"120%",height:"120%"},[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:"3",result:"blur"}),a.feComponentTransfer({"in":"blur",
result:"lessblur"},[a.feFuncA({type:"linear",slope:"0.5"})]),a.feOffset({"in":"lessblur",dx:"6",dy:"6",result:"offsetBlur"}),a.feSpecularLighting({"in":"lessblur",surfaceScale:"8",specularConstant:"1",specularExponent:"12",result:"specOut"},[a.fePointLight({x:"-5000",y:"-10000",z:"12000"})]),a.feComposite({"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"}),a.feComposite({"in":"SourceGraphic",in2:"specOut",result:"litPaint",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0"}),a.feMerge("offsetBlur",
"litPaint")]),n({_gfxName:"largeEmbossDropShadowLight",x:"-20%",y:"-20%",width:"140%",height:"140%"},[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:"5",result:"blur"}),a.feComponentTransfer({"in":"blur",result:"lessblur"},[a.feFuncA({type:"linear",slope:"0.5"})]),a.feOffset({"in":"lessblur",dx:"6",dy:"6",result:"offsetBlur"}),a.feSpecularLighting({"in":"blur",surfaceScale:"8",specularConstant:"1",specularExponent:"12",result:"spec"},[a.fePointLight({x:"-5000",y:"-10000",z:"12000"})]),a.feComposite({"in":"spec",
in2:"SourceGraphic",operator:"in",result:"specOut"}),a.feComposite({"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0",result:"litPaint"}),a.feMerge("offsetBlur","litPaint")]),n({_gfxName:"fuzzy",x:"-10%",y:"-10%",width:"120%",height:"120%"},[a.feTurbulence({type:"fractalNoise",baseFrequency:"0.1",numOctaves:"1",result:"turb2"}),a.feDisplacementMap({"in":"SourceGraphic",in2:"turb2",result:"turb2",scale:"20",xChannelSelector:"R",yChannelSelector:"G"})]),n({_gfxName:"veryFuzzy",
x:"-20%",y:"-20%",width:"140%",height:"140%"},[a.feTurbulence({type:"fractalNoise",baseFrequency:"0.1",numOctaves:"1",result:"turb2"}),a.feDisplacementMap({"in":"SourceGraphic",in2:"turb2",result:"turb2",scale:"35",xChannelSelector:"R",yChannelSelector:"G"})]),n({_gfxName:"melting",x:"-10%",y:"-10%",width:"120%",height:"120%"},[a.feTurbulence({type:"fractalNoise",baseFrequency:"0.1",numOctaves:"2",result:"turb"}),a.feDisplacementMap({result:"bended","in":"SourceGraphic",in2:"turb",scale:"25",xChannelSelector:"R",
yChannelSelector:"G"}),a.feGaussianBlur({"in":"bended",stdDeviation:"1",result:"bb"}),a.feComponentTransfer({"in":"bb",result:"BendedSource"},[a.feFuncA({type:"linear",slope:10,intercept:"-1"})]),a.feComponentTransfer({"in":"BendedSource",result:"BendedAlpha"},[a.feFuncR({type:"linear",slope:"0",intercept:"0"}),a.feFuncG({type:"linear",slope:"0",intercept:"0"}),a.feFuncB({type:"linear",slope:"0",intercept:"0"}),a.feFuncA({type:"linear",slope:"1",intercept:"0"})]),a.feGaussianBlur({"in":"BendedAlpha",
stdDeviation:"1",result:"blur"}),a.feSpecularLighting({"in":"blur","lighting-color":"rgb(80%, 80%, 80%)",surfaceScale:"5",specularConstant:"1",specularExponent:"10",result:"specularOut"},[a.fePointLight({x:"-5000",y:"-10000",z:"20000"})]),a.feComposite({"in":"specularOut",in2:"BendedAlpha",operator:"in",result:"specularOut"}),a.feComposite({"in":"BendedSource",in2:"specularOut",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0",result:"litPaint"})]),n({_gfxName:"impressionist",x:"0%",y:"0%",width:"100%",
height:"100%"},[a.feMorphology({"in":"SourceGraphic",operator:"dilate",radius:"2"})]),n({_gfxName:"holes",x:"0%",y:"0%",width:"100%",height:"100%"},[a.feTurbulence({type:"fractalNoise",baseFrequency:"0.1",numOctaves:"1",result:"texture"}),a.feComponentTransfer({"in":"texture",result:"holes"},[a.feFuncA({type:"discrete",tableValues:"0,1"})]),a.feComposite({"in":"SourceGraphic",in2:"holes",operator:"out"})]),n({_gfxName:"holesComplement",x:"0%",y:"0%",width:"100%",height:"100%"},[a.feTurbulence({type:"fractalNoise",
baseFrequency:"0.1",numOctaves:"1",result:"texture"}),a.feComponentTransfer({"in":"texture",result:"holes"},[a.feFuncA({type:"discrete",tableValues:"1,0"})]),a.feComposite({"in":"SourceGraphic",in2:"holes",operator:"out"})])];p.reliefs=[n({_gfxName:"bumpIn",x:"0%",y:"0%",width:"100%",height:"100%"},[a.feColorMatrix({"in":"SourceGraphic",type:"luminanceToAlpha",result:"lumalpha"}),a.feComponentTransfer({"in":"lumalpha",result:"invertedalpha"},[a.feFuncA({type:"table",tableValues:"1,0"})]),a.feDiffuseLighting({"in":"invertedalpha",
"lighting-color":"rgb(60%, 60%, 60%)",result:"diffuse",surfaceScale:"5"},[a.feDistantLight({azimuth:"135",elevation:"60"})]),a.feSpecularLighting({"in":"invertedalpha",result:"specular",surfaceScale:"5",specularExponent:"6"},[a.feDistantLight({azimuth:"135",elevation:"30"})]),a.feComposite({"in":"diffuse",in2:"specular",operator:"arithmetic",k2:"1.0",k3:"1.0"})]),n({_gfxName:"bumpOut",x:"0%",y:"0%",width:"100%",height:"100%"},[a.feColorMatrix({"in":"SourceGraphic",type:"luminanceToAlpha",result:"lumalpha"}),
a.feDiffuseLighting({"in":"lumalpha","lighting-color":"rgb(60%, 60%, 60%)",result:"diffuse",surfaceScale:"5"},[a.feDistantLight({azimuth:"135",elevation:"60"})]),a.feSpecularLighting({"in":"lumalpha",result:"specular",surfaceScale:"5",specularExponent:"6"},[a.feDistantLight({azimuth:"135",elevation:"30"})]),a.feComposite({"in":"diffuse",in2:"specular",operator:"arithmetic",k2:"1.0",k3:"1.0"})]),n({_gfxName:"thinEmboss",x:"-5%",y:"-5%",width:"110%",height:"110%"},[a.feGaussianBlur({"in":"SourceAlpha",
stdDeviation:"1",result:"blur"}),a.feSpecularLighting({"in":"blur",surfaceScale:"8",specularConstant:"1",specularExponent:"12",result:"specOut"},[a.fePointLight({x:"-5000",y:"-10000",z:"12000"})]),a.feComposite({"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"}),a.feComposite({"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0"})]),n({_gfxName:"emboss",x:"-5%",y:"-5%",width:"110%",height:"110%"},[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:"3",
result:"blur"}),a.feSpecularLighting({"in":"blur",surfaceScale:"8",specularConstant:"1",specularExponent:"12",result:"specOut"},[a.fePointLight({x:"-5000",y:"-10000",z:"12000"})]),a.feComposite({"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"}),a.feComposite({"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0"})]),n({_gfxName:"largeEmboss",x:"-5%",y:"-5%",width:"110%",height:"110%"},[a.feGaussianBlur({"in":"SourceAlpha",stdDeviation:"5",result:"blur"}),
a.feSpecularLighting({"in":"blur",surfaceScale:"8",specularConstant:"1",specularExponent:"12",result:"specOut"},[a.fePointLight({x:"-5000",y:"-10000",z:"12000"})]),a.feComposite({"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"}),a.feComposite({"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0"})])];p.textures=[n({_gfxName:"paper",x:"0%",y:"0%",width:"100%",height:"100%"},[a.feTurbulence({type:"turbulence",baseFrequency:"0.01",numOctaves:"5",result:"texture"}),
a.feDiffuseLighting({"in":"texture",result:"diffuse",surfaceScale:"-10"},[a.feDistantLight({azimuth:"135",elevation:"60"})]),a.feComposite({"in":"diffuse",in2:"SourceGraphic",operator:"arithmetic",k1:"1",k2:"0",k3:"0",k4:"0"})]),n({_gfxName:"swirl",x:"0%",y:"0%",width:"100%",height:"100%"},[a.feTurbulence({type:"turbulence",baseFrequency:"0.05",numOctaves:"1",result:"texture"}),a.feDiffuseLighting({"in":"texture",result:"diffuse",surfaceScale:"-10"},[a.feDistantLight({azimuth:"135",elevation:"60"})]),
a.feComposite({"in":"diffuse",in2:"SourceGraphic",operator:"arithmetic",k1:"1",k2:"0",k3:"0",k4:"0"})]),n({_gfxName:"swirl2",x:"0%",y:"0%",width:"100%",height:"100%"},[a.feTurbulence({type:"turbulence",baseFrequency:"0.15",numOctaves:"1",result:"texture"}),a.feDiffuseLighting({"in":"texture",result:"diffuse",surfaceScale:"-10"},[a.feDistantLight({azimuth:"135",elevation:"60"})]),a.feComposite({"in":"diffuse",in2:"SourceGraphic",operator:"arithmetic",k1:"1",k2:"0",k3:"0",k4:"0"})]),n({_gfxName:"gold",
x:"-5%",y:"-5%",width:"115%",height:"110%"},[a.feTurbulence({baseFrequency:"0.2",numOctaves:"1",type:"turbulence",result:"turb"}),a.feComposite({"in":"SourceGraphic",in2:"turb",operator:"arithmetic",k2:"0.6",k3:"0.4",result:"turb"}),a.feComposite({"in":"turb",in2:"SourceGraphic",operator:"in",result:"bump"}),a.feDiffuseLighting({"in":"turb",surfaceScale:"6.0","lighting-color":"rgb(60%, 50%, 0%)",diffuseConstant:"1.0",result:"diffuse"},[a.feDistantLight({azimuth:"135",elevation:"60"})]),a.feSpecularLighting({"in":"bump",
surfaceScale:"6.0",specularConstant:"1.0",specularExponent:"10.0",result:"specularOut"},[a.feDistantLight({azimuth:"135",elevation:"60"})]),a.feComposite({"in":"specularOut",in2:"SourceGraphic",operator:"in",result:"specularOut"}),a.feComposite({"in":"bump",in2:"diffuse",operator:"arithmetic",k1:"0.7",k2:"0.3",result:"litPaint"}),a.feComposite({"in":"litPaint",in2:"specularOut",operator:"arithmetic",k2:"1.0",k3:"0.7",result:"litPaint"})])];for(var c in p)if(p.hasOwnProperty(c)){a[c]={};for(var b=
p[c],e=0;e<b.length;++e)(function(){var f=b[e];a[c][f._gfxName]=function(k){return G.delegate(f,k)}})()}return a})},"esri/layers/VectorTileLayerImpl":function(){define("dojo/_base/lang dojo/has dojo/dom-construct dojo/dom-style dojo/io-query ../geometry/Extent ../geometry/screenUtils ../geometry/scaleUtils ../SpatialReference ../config ../lang ../domUtils ../urlUtils ../kernel ./layer ./TileInfo ./unitBezier ./vectorTiles/request ./vectorTiles/core/promiseUtils ./vectorTiles/core/urlUtils ./vectorTiles/geometry/support/spatialReferenceUtils ./vectorTiles/layers/support/vectorTileLayerLoader ./vectorTiles/layers/support/TilemapCache ./vectorTiles/views/vectorTiles/style/StyleRepository ./vectorTiles/views/vectorTiles/VectorTileContainer ./vectorTiles/views/vectorTiles/VectorTileDisplayObject ./vectorTiles/views/vectorTiles/TileHandler ./vectorTiles/views/2d/engine/StageGL ./vectorTiles/views/2d/tiling/TileInfoView ./vectorTiles/views/2d/tiling/TileStrategy ./vectorTiles/views/2d/tiling/TileKey ./vectorTiles/views/2d/tiling/TileQueue ./vectorTiles/views/webgl/webgl-utils".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F,H,E,I,J,K,L,O,U){var S=q.ease;n=v.createSubclass({declaredClass:"esri.layers.VectorTileLayer",_mapsWithAttribution:"OpenStreetMap_v2 OpenStreetMap_Daylight_v2 OpenStreetMap_Export_v2 OpenStreetMap_FTS_v2 OpenStreetMap_GCS_v2 World_Basemap World_Basemap_v2 World_Basemap_Export_v2 World_Basemap_GCS_v2 World_Basemap_WGS84 World_Contours_v2".split(" "),_eventMap:{"style-change":["style"]},constructor:function(V,ea){this._frame=this._frame.bind(this);
this._params=ea||{};ea&&ea.tileServers&&ea.tileServers.length&&(this.tileServers=ea.tileServers=ea.tileServers.map(function(P){return k.getAbsoluteUrl(P)},this));ea&&ea.copyright&&(this.copyright=ea.copyright);this._viewState={scale:0,width:0,height:0,size:[0,0],rotation:0,resolution:1,center:[0,0],worldScreenWidth:0,spatialReference:null,toScreen:function(P,ba){var la=this.center[1]+this.resolution*this.height*.5;P[0]=(ba[0]-(this.center[0]-this.resolution*this.width*.5))/this.resolution;P[1]=(la-
ba[1])/this.resolution;return P},toMap:function(P,ba){var la=this.center[1]+this.resolution*this.height*.5;P[0]=this.center[0]-this.resolution*this.width*.5+ba[0]*this.resolution;P[1]=la-ba[1]*this.resolution;return P}};this._renderParameters={state:this._viewState,pixelRatio:window.devicePixelRatio,stationary:!0};this._updateParameters={state:this._viewState,pixelRatio:window.devicePixelRatio,stationary:!0};this.type="vector-tile";this.setStyle(V);this.registerConnectEvents()},setStyle:function(V){return this.loadStyle(V)},
getStyle:function(){return this.currentStyleInfo&&this.currentStyleInfo.style||null},opacity:1,setOpacity:function(V){if(this.opacity!=V)this.onOpacityChange(this.opacity=V)},onOpacityChange:function(){},_pinching:!1,getTileUrl:function(V,ea,P){var ba=this._url&&this._url.query,la=this.tileServers[ea%this.tileServers.length];la=la.replace(/\{z\}/gi,V.toString()).replace(/\{level\}/gi,V.toString()).replace(/\{y\}/gi,ea.toString()).replace(/\{row\}/gi,ea.toString()).replace(/\{x\}/gi,P.toString()).replace(/\{col\}/gi,
P.toString());ba&&(la+="?"+p.objectToQuery(ba));la=this.addTimestampToURL(la);return k.addProxy(la)},loadStyle:function(V){if(this._loadingPromise&&"string"===typeof V&&this.url===V)return this._loadingPromise;this._stopDisplay();var ea=this._loadingPromise;this._loadingPromise=C.loadMetadata(V).then(function(P){this.url=P.url;this._url=P.parsedUrl;!this._url&&P.styleUrl&&(this._url=B.urlToObject(P.styleUrl));this.currentStyleInfo={glyphsUrl:P.glyphsUrl,serviceUrl:P.serviceUrl,spriteUrl:P.spriteUrl,
styleUrl:P.styleUrl,style:P.style,layerDefinition:P.layerDefinition};this.styleRepository=new D(P.style,P);this._read(P.layerDefinition);this.onStyleChange(this.getStyle())}.bind(this)).then(function(){this.loaded||(this._findCredential(),this.loaded=!0,this.onLoad(this));this.suspended||this._tileHandler||this._startDisplay()}.bind(this)).otherwise(function(P){this._errorHandler(P);throw P;}.bind(this));ea&&!ea.isFulfilled()&&ea.cancel();return this._loadingPromise},refresh:function(){this.suspended||
(this._refreshTS=Date.now(),this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD))},takeScreenshot:function(V){return this._stageGL?this._stageGL.takeScreenshot(V):w.reject("No valid GL context!")},_setMap:function(V,ea,P){this.inherited(arguments);this._map=V;var ba=this._div=a.create("div",null,ea);m.set(ba,{position:"absolute",width:V.width+"px",height:V.height+"px",overflow:"visible",opacity:this.opacity});this.attr("data-vectortiles",!0);this._onResizeHandle=V.on("resize",G.hitch(this,
this._onResizeHandler));this._onOpacityHandle=this.on("opacity-change",G.hitch(this,this._opacityChangeHandler));this._onScaleVisHandle=this.on("scale-visibility-change",G.hitch(this,function(){}));this._onVisibilityHandle=this.on("visibility-change",G.hitch(this,function(){}));V.acquireWebGLContext(this);this._stageGL=new I;this._stageGL.setElement(this._stageGL.createElement());this._div.appendChild(this._stageGL.element);this._stageGL.parent={requestChildRender:this._scheduleRender.bind(this)};
this._stageGL.attach(this._renderParameters);this._startDisplay();this.evaluateSuspension();if(this.suspended&&!V.loaded)var la=V.on("load",G.hitch(this,function(){la.remove();this.evaluateSuspension()}));return ba},_unsetMap:function(V,ea){V.releaseWebGLContext(this);this._map=null;this.suspended||this._stopDisplay();this._stageGL.detach(this._renderParameters);this._stageGL=null;a.destroy(this._div);this._div=null;this._handles&&this._handles.forEach(function(P){P.remove()});this._handles=null;
this._onResizeHandle=this._onResizeHandle&&this._onResizeHandle.remove()&&null;this._onOpacityHandle=this._onOpacityHandle&&this._onOpacityHandle.remove()&&null;this._onScaleVisHandle=this._onScaleVisHandle&&this._onScaleVisHandle.remove()&&null;this._onVisibilityHandle=this._onVisibilityHandle&&this._onVisibilityHandle.remove()&&null;this.inherited(arguments)},_read:function(V){this.version=V.currentVersion||V.version;this.copyright=this.copyright||V.copyrightText;this.fullExtent=new t(V.fullExtent);
this.initialExtent=new t(V.initialExtent);this.spatialReference=this.fullExtent.spatialReference;this.tileInfo=new g(V.tileInfo);this.tileInfo.size=[this.tileInfo.cols,this.tileInfo.height];this.tileInfo.spatialReference.isWrappable=this.tileInfo.spatialReference._isWrappable();this.tileInfo.scales=this.tileInfo.lods.map(function(P){return P.scale});this.tileInfo.scaleToZoom=function(P){for(var ba=this.scales,la=ba.length-1,Q=0;Q<la;Q++){var Y=ba[Q],ja=ba[Q+1];if(Y<=P)break;if(ja===P)return Q+1;if(Y>
P&&ja<P)return Q+1-(P-ja)/(Y-ja)}return Q};this._hasMin||this.setMinScale(V.minScale);this._hasMax||this.setMaxScale(V.maxScale);V.tileMap&&(this.tileIndexUrl=B.join(this.currentStyleInfo.serviceUrl,V.tileMap));if(!this._params.tileServers){var ea=V.tiles;this.currentStyleInfo&&this.currentStyleInfo.serviceUrl&&ea.forEach(function(P,ba,la){B.isAbsolute(P)?la[ba]=P:la[ba]=B.join(this.currentStyleInfo.serviceUrl,P)}.bind(this));this.tileServers=ea}ea=null;this.currentStyleInfo.serviceUrl&&(this.parsedUrl=
B.urlToObject(this.currentStyleInfo.serviceUrl),ea=this._getDefaultAttribution(this.parsedUrl.path));ea?(this.attributionDataUrl=ea,this.hasAttributionData=!0):(this.attributionDataUrl=null,this.hasAttributionData=!1);this.capabilities=this._getCapabilities(V);this.tilemapCache=this.capabilities.supportsTileMapIndexing?new y({layer:this}):null},_getCapabilities:function(V){var ea=V.hasOwnProperty("exportTilesAllowed")?V.exportTilesAllowed:!1;V=V.capabilities?-1!==V.capabilities.toLowerCase().indexOf("tilemap"):
!1;return{exportTilesAllowed:ea,supportsTileMapIndexing:V}},_getDefaultAttribution:function(V){var ea=V.match(/^https?:\/\/(basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i);if(ea&&(V=ea[3])){ea=ea[2]||"";V=V.toLowerCase();for(var P=0,ba=this._mapsWithAttribution.length;P<ba;P++){var la=this._mapsWithAttribution[P];if(-1<la.toLowerCase().indexOf(V))return V=window.location.protocol,("http:"===V||"https:"===V?V:"https:")+
"//static.arcgis.com/attribution/Vector"+ea+"/"+la}}},_startDisplay:function(){var V={capabilities:{operations:{supportsTileMap:this.capabilities.supportsTileMapIndexing}},styleRepository:this.styleRepository,tileIndexUrl:this.tileIndexUrl,tileInfo:this.tileInfo,tilemapCache:this.tilemapCache,fullExtent:{width:this.fullExtent.getWidth()},getTileUrl:this.getTileUrl.bind(this)};this._renderParameters.pixelRatio=this._updateParameters.pixelRatio=window.devicePixelRatio;this._vectorTileContainer=new F;
this._stageGL.addChild(this._vectorTileContainer);this._viewState.spatialReference=this.tileInfo.spatialReference;this._tileInfoView=new J(this.tileInfo,this.fullExtent);this._tileRequests=new Map;this._tileHandler=new E(V,this._scheduleUpdate.bind(this),window.devicePixelRatio||1,!1,this._tileInfoView);this._viewState.spatialReference=this.spatialReference;this._allTilesAreHandled=!1;this._tileHandlerPromise=this._tileHandler.start().then(function(){this._fetchQueue=new O({tileInfoView:this._tileInfoView,
process:this._getTileData.bind(this)});this._tileStrategy=new K({cachePolicy:"keep",coveragePolicy:"smallest",acquireTile:this._acquireTile.bind(this),releaseTile:this._releaseTile.bind(this),tileInfoView:this._tileInfoView});this._vectorTileContainer.initialize(this._tileHandler.spriteMosaic,this._tileHandler.glyphMosaic,this.tileInfo,this._tileInfoView);this._scheduleUpdate()}.bind(this))},_stopDisplay:function(){this._tileHandlerPromise&&!this._tileHandlerPromise.isFulfilled()&&this._tileHandlerPromise.cancel();
this._tileStrategy&&(this._frameRequested=this._updateRequested=this._renderRequested=!1,this._animation&&(this._animation.stop(),this._animation=null),this._tileRequests.forEach(function(V){V.cancel("cancel")}),this._tileHandler.stop(),this._tileHandler.destroy(),this._tileStrategy.destroy(),this._tileInfoView=this._tileHandler=this._tileStrategy=null,this._vectorTileContainer.removeAllChildren(),this._stageGL.removeChild(this._vectorTileContainer),this._vectorTileContainer=null)},_scheduleRender:function(){this._renderRequested=
!0;this._map&&this._tileStrategy&&this._scheduleFrame()},_scheduleUpdate:function(){this._updateRequested=!0;this._map&&this._tileStrategy&&this._scheduleFrame()},_scheduleFrame:function(){this._map&&!this._frameRequested&&(this._frameRequested=!0,T(this._frame))},_frame:function(){if(this._frameRequested){this._frameRequested=!1;this._renderParameters.pixelRatio!==window.devicePixelRatio&&(this._renderParameters.pixelRatio=this._updateParameters.pixelRatio=window.devicePixelRatio,this._stopDisplay(),
this._startDisplay());this._animation&&(this._animation.step(),this._animation.running||(this._animation=null));this._updateParameters.stationary=this._renderParameters.stationary=!this._animation&&!this._pinching&&!this._panning;this._viewState.resolution=this._viewState.scale/(39.37*h.getUnitValueForSR(this.spatialReference)*96);var V=0;this._viewState.spatialReference&&this._viewState.spatialReference._isWrappable()&&(V=z.getInfo(this._viewState.spatialReference),V=V.valid[1]-V.valid[0]);this._viewState.worldScreenWidth=
Math.round(V/this._viewState.resolution);this._renderRequested&&(this._renderRequested=!1,this._stageGL.doRender(this._renderParameters));this._updateRequested&&(this._updateRequested=!1,this._fetchQueue.pause(),this._fetchQueue.state=this._updateParameters.state,this._allTilesAreHandled=this._tileStrategy.update(this._updateParameters),this._fetchQueue.resume());this._animation&&(this._scheduleRender(),this._scheduleUpdate());this._checkUpdating()}},_setViewState:function(V){V=G.mixin(this._viewState,
V);V.center.type&&(V.center=[V.center.x,V.center.y]);this._scheduleRender();this._scheduleUpdate()},_animateViewState:function(V,ea){ea=ea.immediate||0===b.defaults.map.zoomDuration;this._animation=null;if(ea)this._setViewState(V);else{ea=this._viewState;var P=b.defaults.map.zoomDuration,ba=M()+16,la=ea.center[0],Q=ea.center[1],Y=ea.scale,ja=Array.isArray(V.center)?V.center[0]:V.center.x,pa=Array.isArray(V.center)?V.center[1]:V.center.y,ka=V.scale||ea.scale,va=this;this._animation={running:!0,stop:function(){this.running=
!1},step:function(){if(this.running){var Aa=(M()+16-ba)/P;1<=Aa&&(Aa=1,this.running=!1);Aa=S(Aa);va._setViewState({center:[la+(ja-la)*Aa,Q+(pa-Q)*Aa],scale:Y+(ka-Y)*Aa})}}};this._scheduleRender();this._scheduleUpdate()}},_checkUpdating:function(){var V=!0;this._tileRequests.forEach(function(ea){V|=ea.isFulfilled()});V&&this._tileStrategy&&(V=this._allTilesAreHandled);V?this._fireUpdateEnd():this._fireUpdateStart()},_acquireTile:function(V){var ea=L.pool.acquire();ea.set(V.level,V.row,V.col,V.world);
V=this._tileHandler.getStyleRepository();var P=H.pool.acquire(ea,ea,this.tileInfo,V,this._tileHandler.glyphMosaic,0);this._tileHandlerPromise.then(function(){var ba=this._tileHandler.getRefKey(ea).then(function(la){P.refKey=la;return this._fetchQueue.push(ea).then(function(Q){P.setData(Q.tileData,Q.workerId,Q.connection);P.once("attach",this._scheduleUpdate.bind(this));this._vectorTileContainer.addChild(P)}.bind(this))}.bind(this));this._tileRequests.set(ea.id,ba)}.bind(this));return P},_releaseTile:function(V){var ea=
V.key.id,P=this._tileRequests.get(ea);P.isFulfilled()||P.cancel();this._tileRequests["delete"](ea);this._vectorTileContainer.removeChild(V);this._scheduleUpdate();V.once("detach",function(){H.pool.release(V)})},_getTileData:function(V){return this._tileHandler.getTileData(V,0)},onStyleChange:function(V){},_opacityChangeHandler:function(V){this._div&&(this._div.style.opacity=V.opacity)},_onResizeHandler:function(V){var ea=this._div&&this._div.style;ea&&(ea.width=V.width+"px",ea.height=V.height+"px",
this._setViewState({center:V.extent.getCenter(),width:V.width,height:V.height,size:[V.width,V.height]}))},onResume:function(){var V=this._map;this.inherited(arguments);f.show(this._div);this._setViewState({center:V.extent.getCenter(),scale:V.getScale(),width:V.width,height:V.height,size:[V.width,V.height],spatialReference:V.spatialReference});this._handles=[V.on("pan-end",G.hitch(this,this._onPanEndHandler)),V.on("pan",G.hitch(this,this._onPanExtentChangeHandler)),V.on("extent-change",G.hitch(this,
this._onExtentChangeHandler)),V.on("scale",G.hitch(this,this._onScaleHandler))]},onSuspend:function(){this.inherited(arguments);f.hide(this._div);this._handles.forEach(function(V){V.remove()});this._handles=null},_onPanEndHandler:function(V){this._panning=!1;this._setViewState({center:V.extent.getCenter(),scale:this._map.getScale()})},_onPanExtentChangeHandler:function(V){this._panning=!0;this._animation&&(this._animation.stop(),this._animation=null);this._setViewState({center:V.extent.getCenter(),
scale:this._map.getScale()})},_onExtentChangeHandler:function(V){var ea=this._pinching||V.immediate;this._animateViewState({center:V.extent.getCenter(),scale:V.lod.scale},{immediate:ea});this._pinching=!1},_onScaleHandler:function(V){this._animation&&(this._animation.stop(),this._animation=null);var ea=this._map;if(ea._zoomAnimDiv.extent)this._pinching=this._panning=!1,this._animateViewState({center:ea._zoomAnimDiv.extent.getCenter(),scale:ea._zoomAnimDiv.newLod.scale},{immediate:V.immediate});else{var P=
ea.navigationManager,ba=P._dragOrigin;V=ea.extent.getCenter();var la=ba.x-.5*ea.width;ba=ba.y-.5*ea.height;var Q=ea.extent.getWidth()/ea.width;if(P._pinchScale){this._pinching=!0;P=P._pinchScale;var Y=Q/P;V.x-=la*(Y-Q);V.y+=ba*(Y-Q);ea=ea.__LOD.scale/P;this._setViewState({center:V,scale:ea})}else P._zoomEndExtent&&(this._pinching=!1,P=ea.getScale()/ea.navigationManager._zoomEndLod.scale,Y=Q/P,V.x-=la*(Y-Q),V.y+=ba*(Y-Q),ea=ea.navigationManager._zoomEndLod.scale,this._animateViewState({center:V,scale:ea},
{immediate:!1}))}}});n.ACCESS_TOKEN=null;n.supported=function(){return U.detectWebGL()[0]};var M=function(){var V=window.performance||{},ea=V.now||V.webkitNow||V.msNow||V.oNow||V.mozNow;if(void 0!==ea)return function(){return ea.call(V)};var P=window.performance&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:(new Date).getTime();return function(){return(new Date).getTime()-P}}();c=A("ff");e=A("ie");u=A("webkit");A=A("opera");var N=(new Date).getTime(),
T=window.requestAnimationFrame;T||(T=window[(u&&"webkit"||c&&"moz"||A&&"o"||e&&"ms")+"RequestAnimationFrame"])||(T=function(V){var ea=M(),P=Math.max(0,16-(ea-N)),ba=window.setTimeout(function(){V(M())},P);N=ea+P;return ba});return n})},"esri/geometry/Extent":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./webMercatorUtils ./mathUtils ../srUtils".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f){function k(){}var u=
{type:"extent",xmin:0,ymin:0,xmax:0,ymax:0},v=G(h,{declaredClass:"esri.geometry.Extent",type:"extent",xmin:0,ymin:0,xmax:0,ymax:0,constructor:function(g,q,x,w,B){t.isObject(g)?(t.mixin(this,g),this.spatialReference&&(this.spatialReference=f.createSpatialReference(this.spatialReference))):this.update(g,q,x,w,B);this.verifySR()},getWidth:function(){return Math.abs(this.xmax-this.xmin)},getHeight:function(){return Math.abs(this.ymax-this.ymin)},getCenter:function(){return new c((this.xmin+this.xmax)/
2,(this.ymin+this.ymax)/2,this.spatialReference)},getTopLeft:function(){return new c(this.xmin,this.ymax,this.spatialReference)},getTopRight:function(){return new c(this.xmax,this.ymax,this.spatialReference)},getBottomLeft:function(){return new c(this.xmin,this.ymin,this.spatialReference)},getBottomRight:function(){return new c(this.xmax,this.ymin,this.spatialReference)},centerAt:function(g){var q=this.getCenter(),x=g.x-q.x;g=g.y-q.y;return new v(this.xmin+x,this.ymin+g,this.xmax+x,this.ymax+g,this.spatialReference)},
update:function(g,q,x,w,B){this.xmin=g;this.ymin=q;this.xmax=x;this.ymax=w;this.spatialReference=B;this.clearCache();return this},offset:function(g,q){return new v(this.xmin+g,this.ymin+q,this.xmax+g,this.ymax+q,this.spatialReference)},expand:function(g){var q=(1-g)/2;g=this.getWidth()*q;q*=this.getHeight();return new v(this.xmin+g,this.ymin+q,this.xmax-g,this.ymax-q,this.spatialReference)},intersects:function(g){if(!g)return!1;var q=g.type,x=this.spatialReference,w=g.spatialReference;x&&w&&!x.equals(w)&&
x._canProject(w)&&(g=x.isWebMercator()?b.geographicToWebMercator(g):b.webMercatorToGeographic(g,!0));switch(q){case "point":return this.contains(g);case "multipoint":return this._intersectsMultipoint(g);case "extent":return this._intersectsExtent(g);case "polygon":return this._intersectsPolygon(g);case "polyline":return this._intersectsPolyline(g)}},normalize:function(){var g=this._normalize(!1,!0);a.isArray(g)||(g=[g]);return g},shiftCentralMeridian:function(){return this._normalize(!0)},bisect:function(){var g=
this.spatialReference,q=g&&g._getInfo(),x=[],w=0;if(q&&this._isOutOfBounds(q)){var B=this;w=B.xmin;var z=B.ymin,C=B.ymax,y=q.valid[0],D=q.valid[1];B.getWidth()>2*D&&(B=B.getCenter(),B=new v(B.x-D,z,B.x+D,C,new n(g.toJson())));w=B.xmin-w;var F=this._normalizeX(B.xmin,q);q=this._normalizeX(B.xmax,q);F.frameId===q.frameId?x.push(new v(F.x,z,q.x,C,new n(g.toJson()))):x.push(new v(F.x,z,D,C,new n(g.toJson())),new v(y,z,q.x,C,new n(g.toJson())))}else x.push(this.getExtent());return{extents:x,marginLeft:w}},
_intersectsMultipoint:function(g){var q=g.points.length,x;for(x=0;x<q;x++)if(this.contains(g.getPoint(x)))return!0;return!1},_intersectsExtent:function(g){var q,x,w=!1;if(this.xmin<=g.xmin){var B=g.xmin;this.xmax<B?w=!0:q=Math.min(this.xmax,g.xmax)-B}else B=this.xmin,g.xmax<B?w=!0:q=Math.min(this.xmax,g.xmax)-B;if(this.ymin<=g.ymin){var z=g.ymin;this.ymax<z?w=!0:x=Math.min(this.ymax,g.ymax)-z}else z=this.ymin,g.ymax<z?w=!0:x=Math.min(this.ymax,g.ymax)-z;return w?null:new v(B,z,B+q,z+x,this.spatialReference)},
_intersectsPolygon:function(g){var q=[this.xmin,this.ymax],x=[this.xmax,this.ymax],w=[this.xmin,this.ymin],B=[this.xmax,this.ymin],z=[q,x,w,B];q=[[w,q],[q,x],[x,B],[B,w]];w=g.rings;B=w.length;var C=new c(0,0,this.spatialReference);var y=z.length;for(x=0;x<y;x++)if(C.update(z[x][0],z[x][1]),g.contains(C))return!0;C.setSpatialReference(g.spatialReference);for(x=0;x<B;x++)if(z=w[x],y=z.length){var D=z[0];C.update(D[0],D[1]);if(this.contains(C))return!0;for(g=1;g<y;g++){var F=z[g];C.update(F[0],F[1]);
if(this.contains(C)||this._intersectsLine([D,F],q))return!0;D=F}}return!1},_intersectsPolyline:function(g){var q=[[[this.xmin,this.ymin],[this.xmin,this.ymax]],[[this.xmin,this.ymax],[this.xmax,this.ymax]],[[this.xmax,this.ymax],[this.xmax,this.ymin]],[[this.xmax,this.ymin],[this.xmin,this.ymin]]],x,w=g.paths,B=w.length,z,C=new c(0,0,g.spatialReference);for(g=0;g<B;g++){var y=w[g];if(z=y.length){var D=y[0];C.update(D[0],D[1]);if(this.contains(C))return!0;for(x=1;x<z;x++){var F=y[x];C.update(F[0],
F[1]);if(this.contains(C)||this._intersectsLine([D,F],q))return!0;D=F}}}return!1},_intersectsLine:function(g,q){var x=e._getLineIntersection2,w,B=q.length;for(w=0;w<B;w++)if(x(g,q[w]))return!0;return!1},contains:function(g){if(!g)return!1;var q=g.type;if("point"===q){var x=this.spatialReference,w=g.spatialReference;q=g.x;g=g.y;x&&w&&!x.equals(w)&&x._canProject(w)&&(g=x.isWebMercator()?c.lngLatToXY(q,g):c.xyToLngLat(q,g,!0),q=g[0],g=g[1]);return q>=this.xmin&&q<=this.xmax&&g>=this.ymin&&g<=this.ymax}return"extent"===
q?this._containsExtent(g):!1},_containsExtent:function(g){var q=g.xmin,x=g.ymin,w=g.xmax,B=g.ymax,z=g.spatialReference;g=new c(q,x,z);q=new c(q,B,z);B=new c(w,B,z);x=new c(w,x,z);return this.contains(g)&&this.contains(q)&&this.contains(B)&&this.contains(x)?!0:!1},union:function(g){return new v(Math.min(this.xmin,g.xmin),Math.min(this.ymin,g.ymin),Math.max(this.xmax,g.xmax),Math.max(this.ymax,g.ymax),this.spatialReference)},getExtent:function(){var g=this.spatialReference;return new v(this.xmin,this.ymin,
this.xmax,this.ymax,g&&new n(g.toJson()))},_shiftCM:function(g){var q=this.getCacheValue("_shifted");if(!q){q=new v(this.toJson());var x=q.spatialReference;if(g=g||x._getInfo()){var w=this._getCM(g);if(w){var B=x._isWebMercator()?b.webMercatorToGeographic(w):w;q.xmin-=w.x;q.xmax-=w.x;x._isWebMercator()||(B.x=this._normalizeX(B.x,g).x);q.setSpatialReference(new n(t.substitute({Central_Meridian:B.x},4326===x.wkid?g.altTemplate:g.wkTemplate)))}}this.setCacheValue("_shifted",q)}return q},_getCM:function(g){var q;
this._isOutOfBounds(g)&&(q=this.getCenter());return q},_isOutOfBounds:function(g){var q=g.valid[0];g=g.valid[1];var x=this.xmin,w=this.xmax;return!(x>=q&&x<=g&&w>=q&&w<=g)},_normalize:function(g,q,x){var w=new v(this.toJson()),B=w.spatialReference;if(B&&(x=x||B._getInfo())){var z=A.map(this._getParts(x),function(C){return C.extent});return 2<z.length?g?this._shiftCM(x):w.update(x.valid[0],w.ymin,x.valid[1],w.ymax,B):2===z.length?g?this._shiftCM(x):q?z:{rings:A.map(z,function(C){return[[C.xmin,C.ymin],
[C.xmin,C.ymax],[C.xmax,C.ymax],[C.xmax,C.ymin],[C.xmin,C.ymin]]}),spatialReference:B}:z[0]||w}return w},_getParts:function(g){var q=this.getCacheValue("_parts");if(!q){q=[];var x=this.xmin,w=this.xmax,B=this.ymin,z=this.ymax,C=this.spatialReference,y=this.getWidth(),D=x,F=w,H=0,E=0;g=g||C._getInfo();var I=g.valid[0];var J=g.valid[1];E=this._normalizeX(x,g);x=E.x;H=E.frameId;E=this._normalizeX(w,g);w=E.x;E=E.frameId;g=x===w&&0<y;if(y>2*J){y=new v(D<F?x:w,B,J,z,C);x=new v(I,B,D<F?w:x,z,C);J=new v(0,
B,J,z,C);B=new v(I,B,0,z,C);C=[];I=[];y.contains(J)&&C.push(H);y.contains(B)&&I.push(H);x.contains(J)&&C.push(E);x.contains(B)&&I.push(E);for(z=H+1;z<E;z++)C.push(z),I.push(z);q.push({extent:y,frameIds:[H]},{extent:x,frameIds:[E]},{extent:J,frameIds:C},{extent:B,frameIds:I})}else x>w||g?q.push({extent:new v(x,B,J,z,C),frameIds:[H]},{extent:new v(I,B,w,z,C),frameIds:[E]}):q.push({extent:new v(x,B,w,z,C),frameIds:[H]});this.setCacheValue("_parts",q)}return q},_normalizeX:function(g,q){var x=0,w=q.valid[0],
B=q.valid[1];q=2*B;g>B?(x=Math.ceil(Math.abs(g-B)/q),g-=x*q):g<w&&(x=Math.ceil(Math.abs(g-w)/q),g+=x*q,x=-x);return{x:g,frameId:x}},toJson:function(){var g={xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax},q=this.spatialReference;q&&(g.spatialReference=q.toJson());return g}});k.prototype=v.prototype;v.simpleConstructor=k;v.defaultProps=u;m("extend-esri")&&(a.setObject("geometry.Extent",v,p),p.geometry.defaultExtent=u);return v})},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config",
"dojo/has"],function(G,A,a){var m=function(){return this}(),p=m.location,t=p.pathname,n=p.protocol;p={version:"3.36",_appBaseUrl:n+"//"+p.host+t.substring(0,t.lastIndexOf(t.split("/")[t.split("/").length-1]))};A.noGlobals||(m.esri=p);G.isAsync||a.add("extend-esri",1);(p.dijit=p.dijit||{})._arcgisUrl=("http:"===n||"https:"===n?n:"http:")+"//www.arcgis.com/sharing/rest";return p})},"esri/lang":function(){define("dojo/_base/array dojo/_base/json dojo/_base/kernel dojo/_base/lang dojo/date dojo/has dojo/number dojo/date/locale ./kernel".split(" "),
function(G,A,a,m,p,t,n,h,c){function b(w,B,z,C){(B=B&&B[w])?B={formatType:B.formatType,options:B}:C&&-1!==G.indexOf(C.properties||"",w)?B={formatType:C.formatter||"DateString",options:null}:z&&-1!==G.indexOf(z.properties||"",w)&&(B={formatType:z.formatter||"NumberFormat",options:null});return B}function e(w,B,z){return[m.isString(w)?w.split(""):w,B||a.global,m.isString(z)?new Function("item","index","array",z):z]}function f(w){return void 0!==w&&null!==w}function k(w){return f(w)?w:""}function u(w,
B,z,C){var y=z.match(/([^\(]+)(\([^\)]+\))?/i);z=m.trim(y[1]);var D=y[2]?m.trim(y[2]):null;y=B[w];C=C||(D?A.fromJson(D.replace(/^\(/,"({").replace(/\)$/,"})")):{});D=C.utcOffset;if(-1===G.indexOf(g,z))z=m.getObject(z),m.isFunction(z)&&(y=z(y,w,B,C));else if("number"===typeof y||"string"===typeof y&&y&&!isNaN(Number(y)))switch(y=Number(y),z){case "NumberFormat":return n.format(y,C);case "DateString":w=new Date(y);if(C.local||C.systemLocale)return C.systemLocale?w.toLocaleDateString()+(C.hideTime?"":
" "+w.toLocaleTimeString()):w.toDateString()+(C.hideTime?"":" "+w.toTimeString());w=w.toUTCString();C.hideTime&&(w=w.replace(/\s+\d\d:\d\d:\d\d\s+(utc|gmt)/i,""));return w;case "DateFormat":return w=new Date(y),f(D)&&(w=p.add(w,"minute",w.getTimezoneOffset()-D)),h.format(w,C)}return k(y)}function v(w,B){var z;if(B)for(z in w)w.hasOwnProperty(z)&&(void 0===w[z]?delete w[z]:w[z]instanceof Object&&v(w[z],!0));else for(z in w)w.hasOwnProperty(z)&&void 0===w[z]&&delete w[z];return w}var g=["NumberFormat",
"DateString","DateFormat"],q=/<\/?[^>]+>/g,x={valueOf:function(w,B){for(var z in w)if(w[z]==B)return z;return null},stripTags:function(w){if(w){var B=typeof w;if("string"===B)w=w.replace(q,"");else if("object"===B)for(var z in w)(B=w[z])&&"string"===typeof B&&(B=B.replace(q,"")),w[z]=B}return w},substitute:function(w,B,z){if(f(z))if(m.isObject(z)){var C=z.first;var y=z.dateFormat;var D=z.numberFormat;var F=z.format}else C=z;if(B&&"${*}"!==B)return m.replace(B,m.hitch({obj:w},function(E,I){var J=I.split(":");
return 1<J.length?(I=J[0],J.shift(),(E=F&&F[J[0]])?J=E.formatType:(J=J.join(":"),E=null),u(I,this.obj,J,E)):(E=b(I,F,D,y))?u(I,this.obj,E.formatType,E.options):k(this.obj[I])}),/\$\{([^\}]+)\}/g);B=[];for(var H in w)if(z=(z=b(H,F,D,y))?u(H,w,z.formatType,z.options):w[H],B.push(H+" \x3d "+k(z)+"\x3cbr/\x3e"),C)break;return B.join("")},filter:function(w,B,z){B=e(w,z,B);z={};var C;w=B[0];for(C in w)B[2].call(B[C],w[C],C,w)&&(z[C]=w[C]);return z},startsWith:function(w,B,z){z=z||0;return w.indexOf(B,z)===
z},endsWith:function(w,B,z){if("number"!==typeof z||!isFinite(z)||Math.floor(z)!==z||z>w.length)z=w.length;z-=B.length;w=w.indexOf(B,z);return-1!==w&&w===z},isDefined:f,fixJson:v,isObject:function(w){return w&&"object"===typeof w},isString:function(w){return"string"===typeof w},mixin:function(w,B){for(var z in B)B.hasOwnProperty(z)&&(w[z]=B[z]);return w},clone2DArray:function(w){if(w=w?w.slice(0):null){var B,z=w.length;for(B=0;B<z;B++)w[B]=w[B]?w[B].slice(0):null}return w},clone3DArray:function(w){if(w=
w?w.slice(0):null){var B,z=w.length;for(B=0;B<z;B++){w[B]=w[B]?w[B].slice(0):null;var C=w[B];if(C){var y,D=C.length;for(y=0;y<D;y++)C[y]=C[y]?C[y].slice(0):null}}}return w}};t("extend-esri")&&(m.mixin(c,x),c._isDefined=f,c._getParts=e,c._sanitize=v);return x})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(G,A,a,m,p){var t={};G.setObject("dojo.number",t);t.format=function(h,c){c=G.mixin({},c||{});var b=A.normalizeLocale(c.locale);
b=A.getLocalization("dojo.cldr","number",b);c.customs=b;b=c.pattern||b[(c.type||"decimal")+"Format"];return isNaN(h)||Infinity==Math.abs(h)?null:t._applyPattern(h,b,c)};t._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;t._applyPattern=function(h,c,b){b=b||{};var e=b.customs.group,f=b.customs.decimal;c=c.split(";");var k=c[0];c=c[0>h?1:0]||"-"+k;if(-1!=c.indexOf("%"))h*=100;else if(-1!=c.indexOf("\u2030"))h*=1E3;else if(-1!=c.indexOf("\u00a4"))e=b.customs.currencyGroup||e,f=b.customs.currencyDecimal||f,c=
c.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(v,g,q,x){return(v=b[["symbol","currency","displayName"][q.length-1]]||b.currency||"")?g+v+x:""});else if(-1!=c.indexOf("E"))throw Error("exponential notation not supported");var u=t._numberPatternRE;k=k.match(u);if(!k)throw Error("unable to find a number expression in pattern: "+c);!1===b.fractional&&(b.places=0);return c.replace(u,t._formatAbsolute(h,k[0],{decimal:f,group:e,places:b.places,round:b.round}))};t.round=function(h,c,b){b=10/(b||
10);return(b*+h).toFixed(c)/b};if(0==(.9).toFixed()){var n=t.round;t.round=function(h,c,b){var e=Math.pow(10,-c||0),f=Math.abs(h);if(!h||f>=e)e=0;else if(f/=e,.5>f||.95<=f)e=0;return n(h,c,b)+(0<h?e:-e)}}t._formatAbsolute=function(h,c,b){b=b||{};!0===b.places&&(b.places=0);Infinity===b.places&&(b.places=6);c=c.split(".");var e="string"==typeof b.places&&b.places.indexOf(","),f=b.places;e?f=b.places.substring(e+1):0<=f||(f=(c[1]||[]).length);0>b.round||(h=t.round(h,f,b.round));h=String(Math.abs(h)).split(".");
var k=h[1]||"";c[1]||b.places?(e&&(b.places=b.places.substring(0,e)),e=void 0!==b.places?b.places:c[1]&&c[1].lastIndexOf("0")+1,e>k.length&&(h[1]=m.pad(k,e,"0",!0)),f<k.length&&(h[1]=k.substr(0,f))):h[1]&&h.pop();f=c[0].replace(",","");e=f.indexOf("0");-1!=e&&(e=f.length-e,e>h[0].length&&(h[0]=m.pad(h[0],e)),-1==f.indexOf("#")&&(h[0]=h[0].substr(h[0].length-e)));f=c[0].lastIndexOf(",");var u;if(-1!=f){var v=c[0].length-f-1;c=c[0].substr(0,f);f=c.lastIndexOf(",");-1!=f&&(u=c.length-f-1)}c=[];for(f=
h[0];f;)e=f.length-v,c.push(0<e?f.substr(e):f),f=0<e?f.slice(0,e):"",u&&(v=u,u=void 0);h[0]=c.reverse().join(b.group||",");return h.join(b.decimal||".")};t.regexp=function(h){return t._parseInfo(h).regexp};t._parseInfo=function(h){h=h||{};var c=A.normalizeLocale(h.locale);c=A.getLocalization("dojo.cldr","number",c);var b=h.pattern||c[(h.type||"decimal")+"Format"],e=c.group,f=c.decimal,k=1;if(-1!=b.indexOf("%"))k/=100;else if(-1!=b.indexOf("\u2030"))k/=1E3;else{var u=-1!=b.indexOf("\u00a4");u&&(e=
c.currencyGroup||e,f=c.currencyDecimal||f)}c=b.split(";");1==c.length&&c.push("-"+c[0]);c=p.buildGroupRE(c,function(v){v="(?:"+p.escapeString(v,".")+")";return v.replace(t._numberPatternRE,function(g){var q={signed:!1,separator:h.strict?e:[e,""],fractional:h.fractional,decimal:f,exponent:!1};g=g.split(".");var x=h.places;1==g.length&&1!=k&&(g[1]="###");1==g.length||0===x?q.fractional=!1:(void 0===x&&(x=h.pattern?g[1].lastIndexOf("0")+1:Infinity),x&&void 0==h.fractional&&(q.fractional=!0),!h.places&&
x<g[1].length&&(x+=","+g[1].length),q.places=x);g=g[0].split(",");1<g.length&&(q.groupSize=g.pop().length,1<g.length&&(q.groupSize2=g.pop().length));return"("+t._realNumberRegexp(q)+")"})},!0);u&&(c=c.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(v,g,q,x){v=p.escapeString(h[["symbol","currency","displayName"][q.length-1]]||h.currency||"");if(!v)return"";g=g?"[\\s\\xa0]":"";x=x?"[\\s\\xa0]":"";return h.strict?g+v+x:(g&&(g+="*"),x&&(x+="*"),"(?:"+g+v+x+")?")}));return{regexp:c.replace(/[\xa0 ]/g,
"[\\s\\xa0]"),group:e,decimal:f,factor:k}};t.parse=function(h,c){c=t._parseInfo(c);h=(new RegExp("^"+c.regexp+"$")).exec(h);if(!h)return NaN;var b=h[1];if(!h[1]){if(!h[2])return NaN;b=h[2];c.factor*=-1}b=b.replace(new RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,".");return b*c.factor};t._realNumberRegexp=function(h){h=h||{};"places"in h||(h.places=Infinity);"string"!=typeof h.decimal&&(h.decimal=".");"fractional"in h&&!/^0/.test(h.places)||(h.fractional=[!0,!1]);"exponent"in h||(h.exponent=
[!0,!1]);"eSigned"in h||(h.eSigned=[!0,!1]);var c=t._integerRegexp(h),b=p.buildGroupRE(h.fractional,function(f){var k="";f&&0!==h.places&&(k="\\"+h.decimal,k=Infinity==h.places?"(?:"+k+"\\d+)?":k+("\\d{"+h.places+"}"));return k},!0),e=p.buildGroupRE(h.exponent,function(f){return f?"([eE]"+t._integerRegexp({signed:h.eSigned})+")":""});c+=b;b&&(c="(?:(?:"+c+")|(?:"+b+"))");return c+e};t._integerRegexp=function(h){h=h||{};"signed"in h||(h.signed=[!0,!1]);"separator"in h?"groupSize"in h||(h.groupSize=
3):h.separator="";var c=p.buildGroupRE(h.signed,function(e){return e?"[-+]":""},!0),b=p.buildGroupRE(h.separator,function(e){if(!e)return"(?:\\d+)";e=p.escapeString(e);" "==e?e="\\s":"\u00a0"==e&&(e="\\s\\xa0");var f=h.groupSize,k=h.groupSize2;return k?(e="(?:0|[1-9]\\d{0,"+(k-1)+"}(?:["+e+"]\\d{"+k+"})*["+e+"]\\d{"+f+"})",0<f-k?"(?:"+e+"|(?:0|[1-9]\\d{0,"+(f-1)+"}))":e):"(?:0|[1-9]\\d{0,"+(f-1)+"}(?:["+e+"]\\d{"+f+"})*)"},!0);return c+b};return t})},"esri/SpatialReference":function(){define(["dojo/_base/declare",
"dojo/_base/array","dojo/has","./kernel","./lang"],function(G,A,a,m,p){function t(){}var n=[-2.0037508342788905E7,2.0037508342788905E7],h=[-2.0037508342787E7,2.0037508342787E7];G=G(null,{declaredClass:"esri.SpatialReference",constructor:function(c){c&&(p.isObject(c)?p.mixin(this,c):p.isString(c)?this.wkt=c:this.wkid=c)},wkid:null,wkt:null,_info:{102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:n,origin:h,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:n,origin:h,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:n,origin:h,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:n,origin:h,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",${Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}},_isWebMercator:function(){return-1!==A.indexOf([102113,102100,3857,3785],this.wkid)},_isWrappable:function(){return-1!==A.indexOf([102113,102100,3857,3785,4326],this.wkid)},_getInfo:function(){return this.wkid?this._info[this.wkid]:null},_canProject:function(c){var b=!1;c&&(b=this.isWebMercator()&&4326===c.wkid||c.isWebMercator()&&4326===this.wkid);return b},isWebMercator:function(){return this._isWebMercator()},equals:function(c){var b=!1;c&&(this===c&&
(b=!0),this.wkid||c.wkid?b=this.wkid===c.wkid||this.isWebMercator()&&c.isWebMercator()||this.wkid===c.latestWkid||c.wkid===this.latestWkid:this.wkt&&c.wkt&&(b=this.wkt.toUpperCase()===c.wkt.toUpperCase()));return b},toJson:function(){var c=null;null!=this.wkid?c={wkid:this.wkid}:null!=this.wkt&&(c={wkt:this.wkt});c&&null!=this.latestWkid&&(c.latestWkid=this.latestWkid);return c}});t.prototype=G.prototype;G.simpleConstructor=t;a("extend-esri")&&(m.SpatialReference=G);return G})},"esri/geometry/Geometry":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","../kernel","../SpatialReference"],function(G,A,a,m,p){G=G(null,{declaredClass:"esri.geometry.Geometry",spatialReference:null,type:null,cache:void 0,setSpatialReference:function(t){this.spatialReference=t;return this},verifySR:function(){this.spatialReference||this.setSpatialReference(new p(4326))},getExtent:function(){return null},clearCache:function(){this.cache=void 0},getCacheValue:function(t){return this.cache&&this.cache[t]},setCacheValue:function(t,n){this.cache||
(this.cache={});this.cache[t]=n}});a("extend-esri")&&A.setObject("geometry.Geometry",G,m);return G})},"esri/geometry/Point":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ../srUtils".split(" "),function(G,A,a,m,p,t,n,h){function c(u,v){89.99999<v?v=89.99999:-89.99999>v&&(v=-89.99999);v*=.017453292519943;return[111319.49079327169*u,3189068.5*Math.log((1+Math.sin(v))/(1-Math.sin(v)))]}function b(u,v,g){u=u/6378137*57.29577951308232;return g?
[u,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*v/6378137)))]:[u-360*Math.floor((u+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*v/6378137)))]}function e(){}function f(){}function k(u){var v=u._json;u._unquantizeFn?(v=u._unquantizeFn({x:v.x,y:v.y}),u._xVal=v.x,u._yVal=v.y,u._unquantizeFn=null):(u._xVal=v.x,u._yVal=v.y);u._json=null}t={type:"point",x:0,y:0};G=G(n,{declaredClass:"esri.geometry.Point",type:"point",x:0,y:0,constructor:function(u,v,g){A.isArray(u)?
(this.x=u[0],this.y=u[1],this.spatialReference=v):p.isObject(u)?(p.mixin(this,u),null!=this.latitude&&(this.y=this.latitude),null!=this.longitude&&(this.x=this.longitude),this.spatialReference&&(this.spatialReference=h.createSpatialReference(this.spatialReference))):(this.x=u,this.y=v,this.spatialReference=g);this.verifySR()},offset:function(u,v){return new this.constructor(this.x+u,this.y+v,this.spatialReference)},setX:function(u){this.x=u;this.clearCache();return this},setY:function(u){this.y=u;
this.clearCache();return this},setLongitude:function(u){var v=this.spatialReference;v&&(v._isWebMercator()?this.setX(c(u,this.y)[0]):4326===v.wkid&&this.setX(u));return this},setLatitude:function(u){var v=this.spatialReference;v&&(v._isWebMercator()?this.setY(c(this.x,u)[1]):4326===v.wkid&&this.setY(u));return this},getLongitude:function(){var u=this.spatialReference;if(u)if(u._isWebMercator())var v=b(this.x,this.y)[0];else 4326===u.wkid&&(v=this.x);return v},getLatitude:function(){var u=this.spatialReference;
if(u)if(u._isWebMercator())var v=b(this.x,this.y)[1];else 4326===u.wkid&&(v=this.y);return v},update:function(u,v){this.x=u;this.y=v;this.clearCache();return this},normalize:function(){var u=this.x,v=this.spatialReference;if(v){var g=v._getInfo();g&&(u=this._normalizeX(u,g))}return new this.constructor(u,this.y,v)},_normalizeX:function(u,v){var g=v.valid[0],q=v.valid[1];v=2*q;u>q?(g=Math.ceil(Math.abs(u-q)/v),u-=g*v):u<g&&(g=Math.ceil(Math.abs(u-g)/v),u+=g*v);return u},toJson:function(){var u={x:this.x,
y:this.y},v=this.spatialReference;v&&(u.spatialReference=v.toJson());return u}});e.prototype=G.prototype;f.prototype=new e;Object.defineProperty(f.prototype,"x",{get:function(){this._json&&k(this);return this._xVal},set:function(u){this._xVal=u}});Object.defineProperty(f.prototype,"y",{get:function(){this._json&&k(this);return this._yVal},set:function(u){this._yVal=u}});f.prototype.setupLazyUnquantization=function(u,v){this._unquantizeFn=u;this._json=v};G.simpleConstructor=e;G.accessorConstructor=
f;G.lngLatToXY=c;G.xyToLngLat=b;G.defaultProps=t;G.metersPerDegree=6378137*Math.PI/180;a("extend-esri")&&(A.setObject("geometry.Point",G,m),m.geometry.defaultPoint=t);return G})},"esri/srUtils":function(){define(["./SpatialReference","./ImageSpatialReference","./kernel","./sniff","dojo/_base/lang"],function(G,A,a,m,p){function t(h){var c=!1;h&&(h.ics||h.icsid)&&(c=!0);return c}var n={isICS:t,createSpatialReference:function(h){var c=null;h&&(c=t(h)?new A(h):new G(h));return c}};m("extend-esri")&&p.mixin(a,
n);return n})},"esri/ImageSpatialReference":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ./kernel ./lang ./SpatialReference".split(" "),function(G,A,a,m,p,t){G=G(t,{declaredClass:"esri.ImageSpatialReference",constructor:function(n){n&&A.isObject(n)&&A.mixin(this,n)},icsid:null,icsns:null,ics:null,_isWebMercator:function(){return!1},_isWrappable:function(){return!1},equals:function(n){var h=!1;if(n)if(this.icsid&&n.icsid){if(h=this.icsid===n.icsid,this.icsns||n.icsns)h=h&&this.icsns===
n.icsns}else this.ics&&n.ics&&(h=this.ics===n.ics);return h},toJson:function(n){var h=null,c=p.isDefined;n=c(n)?n:!0;c(this.icsid)?(h={icsid:this.icsid},c(this.icsns)&&(h.icsns=this.icsns)):c(this.ics)&&(h={ics:this.ics});c(this.url)&&c(h)&&n&&(h.url=this.url);return h}});a("extend-esri")&&(m.ImageSpatialReference=G);return G})},"esri/sniff":function(){define(["dojo/_base/sniff","dojo/global","./kernel"],function(G,A,a){var m=G("ff"),p=G("ie"),t=void 0===p&&7<=G("trident"),n=G("edge"),h=G("webkit"),
c=G("opera"),b=G("chrome"),e=G("safari"),f=navigator.userAgent,k;(k=f.match(/(iPhone|iPad|CPU)\s+OS\s+(\d+_\d+)/i))&&G.add("esri-iphone",parseFloat(k[2].replace("_",".")));(k=f.match(/Android\s+(\d+(\.\d+)*)/i))&&G.add("esri-android",parseFloat(k[1]));(k=f.match(/Fennec\/(\d+\.\d+)/i))&&G.add("esri-fennec",parseFloat(k[1]));0<=f.indexOf("BlackBerry")&&0<=f.indexOf("WebKit")&&G.add("esri-blackberry",1);G.add("esri-touch",G("esri-iphone")||G("esri-android")||G("esri-blackberry")||6<=G("esri-fennec")||
(m||h)&&(document.createTouch||"ontouchstart"in A||A.TouchEvent&&0<navigator.maxTouchPoints)?!0:!1);(k=f.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i))&&G.add("esri-mobile",!!k);G.add("esri-pointer",!m&&(navigator.pointerEnabled||navigator.msPointerEnabled||!!A.PointerEvent));a._getDOMAccessor=function(v){var g="";m?g="Moz":h?g="Webkit":p?g="ms":c&&(g="O");return g+v.charAt(0).toUpperCase()+v.substr(1)};G.add("esri-phonegap",!!A.cordova);G.add("esri-cors",G("esri-phonegap")||
A.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest);G.add("esri-file-upload",A.FormData&&A.FileList?!0:!1);G.add("esri-script-sandbox",function(){return"MessageChannel"in A&&"HTMLIFrameElement"in A&&"sandbox"in HTMLIFrameElement.prototype});G.add("esri-secure-context",function(){if("isSecureContext"in A)return A.isSecureContext;if(A.location&&A.location.origin)return 0===A.location.origin.indexOf("https:")});G.add("esri-wasm","WebAssembly"in A);G.add("esri-workers",A.Worker?!0:!1);G.add("esri-featurelayer-webgl",
!1);if(f=G("esri-featurelayer-webgl")){var u=G("esri-mobile");k=u?1:2;u=u?1:3;"object"===typeof f?(f.maxDrillLevel=null==f.maxDrillLevel?k:f.maxDrillLevel,f.maxRecordCountFactor=null==f.maxRecordCountFactor?u:f.maxRecordCountFactor,f.enablePBFQuery=null==f.enablePBFQuery?!0:f.enablePBFQuery):G.add("esri-featurelayer-webgl",{maxDrillLevel:k,maxRecordCountFactor:u,enablePBFQuery:!0},null,!0)}G.add("esri-featurelayer-webgl-labeling",!1);G.add("esri-pbf",!p||10<=p);G.add("esri-featurelayer-pbf",!0);G.add("esri-transforms",
t||n||9<=p||3.5<=m||4<=b||3.1<=e||10.5<=c||3.2<=G("esri-iphone")||2.1<=G("esri-android"));G.add("esri-transitions",t||n||10<=p||4<=m||4<=b||3.1<=e||10.5<=c||3.2<=G("esri-iphone")||2.1<=G("esri-android"));G.add("esri-transforms3d",t||n||10<=m||12<=b||4<=e||3.2<=G("esri-iphone")||3<=G("esri-android"));G.add("esri-url-encodes-apostrophe",function(){if(!A.document)return!1;var v=A.document.createElement("a");v.href="?'";return-1<v.href.indexOf("?%27")});3>G("esri-android")&&(G.add("esri-transforms",!1,
!1,!0),G.add("esri-transitions",!1,!1,!0),G.add("esri-transforms3d",!1,!1,!0));G.add("esri-will-change",G("esri-transforms")&&(52<=b||11.1<=e));a._css=function(v){var g=G("esri-transforms3d");void 0!==v&&null!==v?g=v:g&&(b||e&&!G("esri-iphone"))&&(g=!1);var q=g?"translate3d(":"translate(",x=g?b?",-1px)":",0px)":")",w=g?"scale3d(":"scale(",B=g?",1)":")",z=g?"rotate3d(0,0,1,":"rotate(",C=g?"matrix3d(":"matrix(",y=g?",0,0,":",",D=g?",0,0,0,0,1,0,":",",F=g?",0,1)":")";return{names:{transition:h&&"-webkit-transition"||
m&&"MozTransition"||c&&"OTransition"||p&&"msTransition"||"transition",transform:h&&"-webkit-transform"||m&&"MozTransform"||c&&"OTransform"||p&&"msTransform"||"transform",transformName:h&&"-webkit-transform"||m&&"-moz-transform"||c&&"-o-transform"||p&&"-ms-transform"||"transform",origin:h&&"-webkit-transform-origin"||m&&"MozTransformOrigin"||c&&"OTransformOrigin"||p&&"msTransformOrigin"||"transformOrigin",endEvent:h&&"webkitTransitionEnd"||m&&"transitionend"||c&&"oTransitionEnd"||p&&"MSTransitionEnd"||
"transitionend"},translate:function(H,E){return q+H+"px,"+E+"px"+x},scale:function(H){return w+H+","+H+B},rotate:function(H){return z+H+"deg)"},matrix:function(H){return C+H.xx+","+H.xy+y+H.yx+","+H.yy+D+H.dx.toFixed(10)+(m&&59>=m?"px,":",")+H.dy.toFixed(10)+(m&&59>=m?"px":"")+F},getScaleFromMatrix:function(H){if(!H)return 1;H=H.toLowerCase();var E=-1<H.indexOf("matrix3d")?"matrix3d(":"matrix(";return Number(H.substring(E.length,H.indexOf(",")))}}};G("extend-esri")&&(a.isiPhone=G("esri-iphone"),a.isAndroid=
G("esri-android"),a.isFennec=G("esri-fennec"),a.isBlackBerry=G("esri-blackberry"),a.isTouchEnabled=G("esri-touch"),a.isPointerEnabled=G("esri-pointer"),a._hasCors=G("esri-cors"),a._hasFileUpload=G("esri-file-upload"),a._hasTransforms=G("esri-transforms"),a._hasTransitions=G("esri-transitions"),a._has3DTransforms=G("esri-transforms3d"));return G})},"esri/geometry/webMercatorUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has ../kernel ../SpatialReference ./Point".split(" "),function(G,
A,a,m,p,t){function n(b,e,f,k){if("point"===b.type){var u=e(b.x,b.y,k);return new b.constructor(u[0],u[1],new p(f))}if("extent"===b.type){u=e(b.xmin,b.ymin,k);var v=e(b.xmax,b.ymax,k);return new b.constructor(u[0],u[1],v[0],v[1],new p(f))}if("polyline"===b.type||"polygon"===b.type){u="polyline"===b.type;var g=[],q;G.forEach(u?b.paths:b.rings,function(w){g.push(q=[]);G.forEach(w,function(B){q.push(e(B[0],B[1],k))})});return u?new b.constructor({paths:g,spatialReference:new p(f)}):new b.constructor({rings:g,
spatialReference:new p(f)})}if("multipoint"===b.type){var x=[];G.forEach(b.points,function(w){x.push(e(w[0],w[1],k))});return new b.constructor({points:x,spatialReference:new p(f)})}}function h(b,e){b=b&&(null!=b.wkid?b:b.spatialReference);e=e&&(null!=e.wkid?e:e.spatialReference);return b&&e?e.equals(b)?!0:e._canProject(b):!1}var c={canProject:h,project:function(b,e){var f=b&&b.spatialReference;e=e&&(null!=e.wkid?e:e.spatialReference);f&&e?f.equals(e)?b=new b.constructor(b.toJson()):h(f,e)?e.isWebMercator()?
b=n(b,t.lngLatToXY,{wkid:102100}):4326===e.wkid&&(b=n(b,t.xyToLngLat,{wkid:4326})):b=null:b=null;return b},lngLatToXY:t.lngLatToXY,xyToLngLat:t.xyToLngLat,metersPerDegree:t.metersPerDegree,geographicToWebMercator:function(b){return n(b,t.lngLatToXY,{wkid:102100})},webMercatorToGeographic:function(b,e){return n(b,t.xyToLngLat,{wkid:4326},e)}};a("extend-esri")&&A.mixin(A.getObject("geometry",!0,m),c);return c})},"esri/geometry/mathUtils":function(){define(["dojo/_base/lang","dojo/has","../kernel","./Point"],
function(G,A,a,m){function p(c,b,e){return c instanceof m?new m(c.x+e*(b.x-c.x),c.y+e*(b.y-c.y)):[c[0]+e*(b[0]-c[0]),c[1]+e*(b[1]-c[1])]}function t(c,b){return 1E-8>Math.abs(c-b)}function n(c,b,e,f){var k=t(c[0],b[0])?1E10:(c[1]-b[1])/(c[0]-b[0]),u=t(e[0],f[0])?1E10:(e[1]-f[1])/(e[0]-f[0]),v=c[1]-k*c[0],g=e[1]-u*e[0];if(t(k,u)){if(t(v,g)){if(t(c[0],b[0]))if(Math.min(c[1],b[1])<Math.max(e[1],f[1])||Math.max(c[1],b[1])>Math.min(e[1],f[1])){c=(c[1]+b[1]+e[1]+f[1]-Math.min(c[1],b[1],e[1],f[1])-Math.max(c[1],
b[1],e[1],f[1]))/2;var q=(c-v)/k}else return null;else if(Math.min(c[0],b[0])<Math.max(e[0],f[0])||Math.max(c[0],b[0])>Math.min(e[0],f[0]))q=(c[0]+b[0]+e[0]+f[0]-Math.min(c[0],b[0],e[0],f[0])-Math.max(c[0],b[0],e[0],f[0]))/2,c=k*q+v;else return null;return[q,c]}return null}t(k,1E10)?(q=c[0],c=u*q+g):t(u,1E10)?(q=e[0],c=k*q+v):(q=-(v-g)/(k-u),c=c[1]===b[1]?c[1]:e[1]===f[1]?e[1]:k*q+v);return[q,c]}var h={getLength:function(c,b){var e=b.x-c.x;c=b.y-c.y;return Math.sqrt(e*e+c*c)},_getLength:function(c,
b){var e=b[0]-c[0];c=b[1]-c[1];return Math.sqrt(e*e+c*c)},getPointOnLine:p,getMidpoint:function(c,b){return p(c,b,.5)},_equals:t,_getLineIntersection:n,getLineIntersection:function(c,b,e,f,k){(c=n([c.x,c.y],[b.x,b.y],[e.x,e.y],[f.x,f.y]))&&(c=new m(c[0],c[1],k));return c},_getLineIntersection2:function(c,b){var e=c[0],f=c[1],k=b[0],u=b[1];b=e[0];e=e[1];c=f[0];f=f[1];var v=k[0],g=k[1];k=u[0]-v;v=b-v;var q=c-b;u=u[1]-g;g=e-g;var x=f-e,w=u*q-k*x;if(0===w)return!1;k=(k*g-u*v)/w;v=(q*g-x*v)/w;return 0<=
k&&1>=k&&0<=v&&1>=v?[b+k*(c-b),e+k*(f-e)]:!1},_pointLineDistance:function(c,b){var e=b[0],f=b[1];b=e[0];var k=e[1];e=c[0];c=c[1];var u=f[0]-b,v=f[1]-k,g=e-b,q=c-k;f=Math.sqrt;var x=Math.pow,w=f(x(u,2)+x(v,2));g=(g*u+q*v)/(w*w);k+=g*v;return f(x(e-(b+g*u),2)+x(c-k,2))}};A("extend-esri")&&G.mixin(G.getObject("geometry",!0,a),h);return h})},"esri/geometry/screenUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/sniff ../kernel ./Point ./ScreenPoint ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),
function(G,A,a,m,p,t,n,h,c,b){var e=function(){return 9>a("ie")?function(k,u,v,g,q,x,w,B,z){var C=[],y=Math.round,D,F=w.length,H;for(D=0;D<F;D++){var E=w[D];var I=B?B(E[0][0],E[0][1],z):E[0];if(1<(H=E.length)){var J=y((I[0]-k)*v+q);var K=y((u-I[1])*g+x);I=B?B(E[1][0],E[1][1],z):E[1];var L=y((I[0]-k)*v+q);I=y((u-I[1])*g+x);C.push("M",J+","+K,"L",L+","+I);for(L=2;L<H;L++)I=B?B(E[L][0],E[L][1],z):E[L],J=y((I[0]-k)*v+q),K=y((u-I[1])*g+x),C.push(J+","+K)}else J=y((I[0]-k)*v+q),K=y((u-I[1])*g+x),C.push("M",
J+","+K)}return C}:function(k,u,v,g,q,x,w,B,z,C){var y=[],D,F,H=Math.round;var E=0;for(D=w?w.length:0;E<D;E++){var I=w[E];y.push("M");var J=0;for(F=I?I.length:0;J<F;J++){var K=B?B(I[J][0],I[J][1],z):I[J];y.push(H((K[0]-k)*v+q)+","+H((u-K[1])*g+x))}C||y.push("Z")}return y}}(),f={toScreenPoint:function(k,u,v,g,q){var x=k.spatialReference,w=g.spatialReference,B=g.x;g=g.y;x&&w&&!x.equals(w)&&x._canProject(w)&&(x=x.isWebMercator()?p.lngLatToXY(B,g):p.xyToLngLat(B,g,!0),B=x[0],g=x[1]);B=(B-k.xmin)*(u/k.getWidth());
g=(k.ymax-g)*(v/k.getHeight());q||(B=Math.round(B),g=Math.round(g));return new t(B,g)},toScreenGeometry:function(k,u,v,g){var q=k.xmin,x=k.ymax,w=u/k.getWidth(),B=v/k.getHeight(),z=G.forEach,C=Math.round;if(g instanceof p)return new p(C((g.x-q)*w),C((x-g.y)*B));if(g instanceof c){k=new c;var y=k.points;z(g.points,function(I,J){y[J]=[C((I[0]-q)*w),C((x-I[1])*B)]});return k}if(g instanceof b)return new b(C((g.xmin-q)*w),C((x-g.ymin)*B),C((g.xmax-q)*w),C((x-g.ymax)*w));if(g instanceof n){k=new n;var D=
k.paths,F;z(g.paths,function(I,J){F=D[J]=[];z(I,function(K,L){F[L]=[C((K[0]-q)*w),C((x-K[1])*B)]})});return k}if(g instanceof h){k=new h;var H=k.rings,E;z(g.rings,function(I,J){E=H[J]=[];z(I,function(K,L){E[L]=[C((K[0]-q)*w),C((x-K[1])*B)]})});return k}},_toScreenPath:function(k,u,v,g,q,x){var w=g instanceof n,B=k.spatialReference,z=g.spatialReference;if(B&&z&&!B.equals(z)&&B._canProject(z))if(B.isWebMercator())var C=p.lngLatToXY;else{C=p.xyToLngLat;var y=!0}return e(k.xmin,k.ymax,u/k.getWidth(),
v/k.getHeight(),q,x,w?g.paths:g.rings,C,y,w)},toMapPoint:function(k,u,v,g){return new p(k.xmin+g.x/(u/k.getWidth()),k.ymax-g.y/(v/k.getHeight()),k.spatialReference)},toMapGeometry:function(k,u,v,g){var q=k.xmin,x=k.ymax,w=k.spatialReference,B=u/k.getWidth(),z=v/k.getHeight(),C=G.forEach;if(g instanceof p)return new p(q+g.x/B,x-g.y/z,w);if(g instanceof c){k=new c(w);var y=k.points;C(g.points,function(I,J){y[J]=[q+I[0]/B,x-I[1]/z]});return k}if(g instanceof b)return new b(q+g.xmin/B,x-g.ymin/z,q+g.xmax/
B,x-g.ymax/z,w);if(g instanceof n){k=new n(w);var D=k.paths,F;C(g.paths,function(I,J){F=D[J]=[];C(I,function(K,L){F[L]=[q+K[0]/B,x-K[1]/z]})});return k}if(g instanceof h){k=new h(w);var H=k.rings,E;C(g.rings,function(I,J){E=H[J]=[];C(I,function(K,L){E[L]=[q+K[0]/B,x-K[1]/z]})});return k}}};a("extend-esri")&&A.mixin(A.getObject("geometry",!0,m),f);return f})},"esri/geometry/ScreenPoint":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./Point"],function(G,A,a,m,p){G=
G(p,{declaredClass:"esri.geometry.ScreenPoint",verifySR:function(){}});a("extend-esri")&&A.setObject("geometry.ScreenPoint",G,m);return G})},"esri/geometry/Polyline":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent ../srUtils".split(" "),function(G,A,a,m,p,t,n,h,c,b,e){function f(){}function k(){}n={type:"polyline",paths:null};G=G(h,{declaredClass:"esri.geometry.Polyline",type:"polyline",paths:null,constructor:function(u){this.paths=
[];this._path=0;u&&(a.isArray(u)?this.paths=a.isArray(u[0][0])?u:[u]:u.paths?t.mixin(this,u):this.spatialReference=u,this.spatialReference&&(this.spatialReference=e.createSpatialReference(this.spatialReference)));this.verifySR()},addPath:function(u){this.clearCache();this._path=this.paths.length;this.paths[this._path]=[];a.isArray(u[0])?A.forEach(u,this._addPointArr,this):A.forEach(u,this._addPoint,this);return this},_addPointArr:function(u){this.paths[this._path].push(u)},_addPoint:function(u){this.paths[this._path].push([u.x,
u.y])},_insertPoints:function(u,v){this.clearCache();this._path=v;this.paths[this._path]||(this.paths[this._path]=[]);A.forEach(u,this._addPoint,this)},_validateInputs:function(u,v){return null!==u&&void 0!==u&&(0>u||u>=this.paths.length)||null!==v&&void 0!==u&&(0>v||v>=this.paths[u].length)?!1:!0},getPoint:function(u,v){if(this._validateInputs(u,v))return new c(this.paths[u][v],this.spatialReference)},setPoint:function(u,v,g){if(this._validateInputs(u,v))return this.clearCache(),this.paths[u][v]=
[g.x,g.y],this},insertPoint:function(u,v,g){if(this._validateInputs(u)&&null!=v&&0<=v&&v<=this.paths[u].length)return this.clearCache(),this.paths[u].splice(v,0,[g.x,g.y]),this},removePath:function(u){if(this._validateInputs(u,null)){this.clearCache();u=this.paths.splice(u,1)[0];var v,g=u.length,q=this.spatialReference;for(v=0;v<g;v++)u[v]=new c(u[v],q);return u}},removePoint:function(u,v){if(this._validateInputs(u,v))return this.clearCache(),new c(this.paths[u].splice(v,1)[0],this.spatialReference)},
getExtent:function(){var u=this.getCacheValue("_extent");var v=this.getCacheValue("_partwise");if(u)return u=new b(u),u._partwise=v,u;u=this.paths;var g=u.length;if(g&&u[0].length){var q,x,w,B,z=q=u[0][0][0],C=x=u[0][0][1],y=Math.min,D=Math.max,F=this.spatialReference;v=[];var H,E;for(w=0;w<g;w++){var I=u[w];var J=H=I[0]&&I[0][0];var K=E=I[0]&&I[0][1];var L=I.length;for(B=0;B<L;B++){var O=I[B];var U=O[0];O=O[1];z=y(z,U);C=y(C,O);q=D(q,U);x=D(x,O);J=y(J,U);K=y(K,O);H=D(H,U);E=D(E,O)}v.push(new b({xmin:J,
ymin:K,xmax:H,ymax:E,spatialReference:F?F.toJson():null}))}u={xmin:z,ymin:C,xmax:q,ymax:x,spatialReference:F?F.toJson():null};v=1<v.length?v:null;this.setCacheValue("_extent",u);this.setCacheValue("_partwise",v);u=new b(u);u._partwise=v;return u}},toJson:function(){var u={paths:t.clone3DArray(this.paths)},v=this.spatialReference;v&&(u.spatialReference=v.toJson());return u}});f.prototype=G.prototype;k.prototype=new f;Object.defineProperty(k.prototype,"paths",{get:function(){this._unquantizeFn&&(this._pathsVal=
this._unquantizeFn({paths:t.clone3DArray(this._pathsVal)}).paths,this._unquantizeFn=null);return this._pathsVal},set:function(u){this._pathsVal=u}});k.prototype.setupLazyUnquantization=function(u,v){this._unquantizeFn=u;this._pathsVal=v.paths};G.simpleConstructor=f;G.accessorConstructor=k;G.defaultProps=n;m("extend-esri")&&(a.setObject("geometry.Polyline",G,p),p.geometry.defaultPolyline=n);return G})},"esri/geometry/Polygon":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent ./mathUtils ../srUtils".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f){function k(){}function u(){}n={type:"polygon",rings:null};var v=G(h,{declaredClass:"esri.geometry.Polygon",type:"polygon",rings:null,constructor:function(g){this.rings=[];this._ring=0;g&&(a.isArray(g)?this.rings=a.isArray(g[0][0])?g:[g]:g.rings?t.mixin(this,g):this.spatialReference=g,this.spatialReference&&(this.spatialReference=f.createSpatialReference(this.spatialReference)));this.verifySR()},addRing:function(g){this.clearCache();this._ring=this.rings.length;this.rings[this._ring]=
[];a.isArray(g[0])?A.forEach(g,this._addPointArr,this):A.forEach(g,this._addPoint,this);return this},_addPointArr:function(g){this.rings[this._ring].push(g)},_addPoint:function(g){this.rings[this._ring].push([g.x,g.y])},_insertPoints:function(g,q){this.clearCache();this._ring=q;this.rings[this._ring]||(this.rings[this._ring]=[]);A.forEach(g,this._addPoint,this)},_validateInputs:function(g,q){return null!==g&&void 0!==g&&(0>g||g>=this.rings.length)||null!==q&&void 0!==g&&(0>q||q>=this.rings[g].length)?
!1:!0},getPoint:function(g,q){if(this._validateInputs(g,q))return new c(this.rings[g][q],this.spatialReference)},setPoint:function(g,q,x){if(this._validateInputs(g,q))return this.clearCache(),this.rings[g][q]=[x.x,x.y],this},insertPoint:function(g,q,x){if(this._validateInputs(g)&&null!=q&&0<=q&&q<=this.rings[g].length)return this.clearCache(),this.rings[g].splice(q,0,[x.x,x.y]),this},removeRing:function(g){if(this._validateInputs(g,null)){this.clearCache();g=this.rings.splice(g,1)[0];var q,x=g.length,
w=this.spatialReference;for(q=0;q<x;q++)g[q]=new c(g[q],w);return g}},removePoint:function(g,q){if(this._validateInputs(g,q))return this.clearCache(),new c(this.rings[g].splice(q,1)[0],this.spatialReference)},getExtent:function(){var g=this.getCacheValue("_extent");var q=this.getCacheValue("_partwise");if(g)return g=new b(g),g._partwise=q,g;g=this.rings;var x=g.length;if(x&&g[0].length){var w,B,z,C,y=w=g[0][0][0],D=B=g[0][0][1],F=Math.min,H=Math.max,E=this.spatialReference;q=[];var I,J;for(z=0;z<
x;z++){var K=g[z];var L=I=K[0]&&K[0][0];var O=J=K[0]&&K[0][1];var U=K.length;for(C=0;C<U;C++){var S=K[C];var M=S[0];S=S[1];y=F(y,M);D=F(D,S);w=H(w,M);B=H(B,S);L=F(L,M);O=F(O,S);I=H(I,M);J=H(J,S)}q.push(new b({xmin:L,ymin:O,xmax:I,ymax:J,spatialReference:E?E.toJson():null}))}g={xmin:y,ymin:D,xmax:w,ymax:B,spatialReference:E?E.toJson():null};q=1<q.length?q:null;this.setCacheValue("_extent",g);this.setCacheValue("_partwise",q);g=new b(g);g._partwise=q;return g}},contains:function(g){var q=this.rings,
x=!1,w,B,z,C=q.length;var y=this.spatialReference;var D=g.spatialReference;var F=g.x;g=g.y;y&&D&&!y.equals(D)&&y._canProject(D)&&(g=y.isWebMercator()?c.lngLatToXY(F,g):c.xyToLngLat(F,g,!0),F=g[0],g=g[1]);for(z=0;z<C;z++){y=q[z];var H=y.length;for(B=w=0;B<H;B++){w++;w===H&&(w=0);D=y[B];var E=y[w];(D[1]<g&&E[1]>=g||E[1]<g&&D[1]>=g)&&D[0]+(g-D[1])/(E[1]-D[1])*(E[0]-D[0])<F&&(x=!x)}}return x},getCentroid:function(){var g=this.getCacheValue("_centroid");if(void 0!==g)return g;g=this.rings;var q,x,w=[],
B,z,C=Infinity,y=-Infinity,D=Infinity,F=-Infinity;A.forEach(g,function(I){H=q=x=0;A.forEach(I,function(J,K){K<I.length-1&&(B=I[K+1],z=J[0]*B[1]-B[0]*J[1],H+=(J[0]+B[0])*z,q+=(J[1]+B[1])*z,x+=z,J[0]<C&&(C=J[0]),J[0]>y&&(y=J[0]),J[1]<D&&(D=J[1]),J[1]>F&&(F=J[1]))});0<x&&(x*=-1);x&&w.push([H,q,x/2])});w.sort(function(I,J){return I[2]-J[2]});var H=q=void 0;if(w[0]){var E=6*w[0][2];H=w[0][0]/E;q=w[0][1]/E;if(H<C||H>y||q<D||q>F)H=q=void 0}if(void 0===H||void 0===q)if(g=g[0]&&g[0].length?this._getLineCentroid(g[0]):
null)H=g.x,q=g.y;g=isNaN(H)||isNaN(q)?null:new c(H,q,this.spatialReference);this.setCacheValue("_centroid",g);return g},_getLineCentroid:function(g){var q=0,x=0,w=0,B={x:0,y:0},z={x:0,y:0},C,y=g.length,D;for(C=0;C<y-1;C++){var F=g[C];var H=g[C+1];if(F&&H){B.x=F[0];B.y=F[1];z.x=H[0];z.y=H[1];var E=e.getLength(B,z);0<E&&(q+=E,F=e.getMidpoint(F,H),x+=E*F[0],w+=E*F[1])}}0<q?D={x:x/q,y:w/q}:g[0]&&(D={x:g[0][0],y:g[0][1]});return D},isClockwise:function(g){var q=0,x,w=g.length,B=a.isArray(g[0])?function(z,
C){return z[0]*C[1]-C[0]*z[1]}:function(z,C){return z.x*C.y-C.x*z.y};for(x=0;x<w;x++)q+=B(g[x],g[(x+1)%w]);return 0>=q/2},isSelfIntersecting:function(g){g=g||this;var q,x,w,B,z,C=g.rings.length;for(w=0;w<C;w++){for(q=0;q<g.rings[w].length-1;q++){var y=[[g.rings[w][q][0],g.rings[w][q][1]],[g.rings[w][q+1][0],g.rings[w][q+1][1]]];for(x=w+1;x<C;x++)for(B=0;B<g.rings[x].length-1;B++){var D=[[g.rings[x][B][0],g.rings[x][B][1]],[g.rings[x][B+1][0],g.rings[x][B+1][1]]];if((z=e._getLineIntersection2(y,D))&&
!(z[0]===y[0][0]&&z[1]===y[0][1]||z[0]===D[0][0]&&z[1]===D[0][1]||z[0]===y[1][0]&&z[1]===y[1][1]||z[0]===D[1][0]&&z[1]===D[1][1]))return!0}}B=g.rings[w].length;if(!(4>=B))for(q=0;q<B-3;q++){var F=B-1;0===q&&(F=B-2);y=[[g.rings[w][q][0],g.rings[w][q][1]],[g.rings[w][q+1][0],g.rings[w][q+1][1]]];for(x=q+2;x<F;x++)if(D=[[g.rings[w][x][0],g.rings[w][x][1]],[g.rings[w][x+1][0],g.rings[w][x+1][1]]],(z=e._getLineIntersection2(y,D))&&!(z[0]===y[0][0]&&z[1]===y[0][1]||z[0]===D[0][0]&&z[1]===D[0][1]||z[0]===
y[1][0]&&z[1]===y[1][1]||z[0]===D[1][0]&&z[1]===D[1][1]))return!0}}return!1},toJson:function(){var g={rings:t.clone3DArray(this.rings)},q=this.spatialReference;q&&(g.spatialReference=q.toJson());return g}});k.prototype=v.prototype;u.prototype=new k;Object.defineProperty(u.prototype,"rings",{get:function(){this._unquantizeFn&&(this._ringsVal=this._unquantizeFn({rings:t.clone3DArray(this._ringsVal)}).rings,this._unquantizeFn=null);return this._ringsVal},set:function(g){this._ringsVal=g}});u.prototype.setupLazyUnquantization=
function(g,q){this._unquantizeFn=g;this._ringsVal=q.rings};v.simpleConstructor=k;v.accessorConstructor=u;v.defaultProps=n;v.createEllipse=function(g){var q=g.center.x,x=g.center.y,w=g.longAxis,B=g.shortAxis,z=g.numberOfPoints,C=g.map,y;g=[];var D=2*Math.PI/z;for(y=0;y<z;y++){var F=Math.cos(y*D);var H=Math.sin(y*D);F=C.toMap({x:w*F+q,y:B*H+x});g.push(F)}g.push(g[0]);q=new v(C.spatialReference);q.addRing(g);return q};v.createCircle=function(g){return v.createEllipse({center:g.center,longAxis:g.r,shortAxis:g.r,
numberOfPoints:g.numberOfPoints,map:g.map})};v.fromExtent=function(g){var q=g.normalize();g=g.spatialReference;return new v({rings:A.map(q,function(x){return[[x.xmin,x.ymin],[x.xmin,x.ymax],[x.xmax,x.ymax],[x.xmax,x.ymin],[x.xmin,x.ymin]]}),spatialReference:g?g.toJson():null})};m("extend-esri")&&(a.setObject("geometry.Polygon",v,p),p.geometry.defaultPolygon=n,p.geometry.createEllipse=v.createEllipse,p.geometry.createCircle=v.createCircle,p.geometry.isClockwise=v.prototype.isClockwise,p.geometry.polygonSelfIntersecting=
v.prototype.isSelfIntersecting);return v})},"esri/geometry/Multipoint":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent ../srUtils".split(" "),function(G,A,a,m,p,t,n,h,c,b){function e(){}function f(){}t={type:"multipoint",points:null};G=G(n,{declaredClass:"esri.geometry.Multipoint",type:"multipoint",points:null,constructor:function(k){this.points=[];k&&(k.points?p.mixin(this,k):this.spatialReference=k,this.spatialReference&&
(this.spatialReference=b.createSpatialReference(this.spatialReference)));this.verifySR()},addPoint:function(k){this.clearCache();A.isArray(k)?this.points.push(k):this.points.push([k.x,k.y]);return this},removePoint:function(k){if(this._validateInputs(k))return this.clearCache(),new h(this.points.splice(k,1)[0],this.spatialReference)},getExtent:function(){var k=this.getCacheValue("_extent");if(k)return new c(k);k=this.points;var u=k.length;if(u){var v=k[0],g,q,x=g=v[0],w=q=v[1],B=Math.min,z=Math.max,
C=this.spatialReference,y;for(y=0;y<u;y++){v=k[y];var D=v[0];v=v[1];x=B(x,D);w=B(w,v);g=z(g,D);q=z(q,v)}k={xmin:x,ymin:w,xmax:g,ymax:q,spatialReference:C?C.toJson():null};this.setCacheValue("_extent",k);return new c(k)}},_validateInputs:function(k){return null===k||0>k||k>=this.points.length?!1:!0},getPoint:function(k){if(this._validateInputs(k))return k=this.points[k],new h(k[0],k[1],this.spatialReference)},setPoint:function(k,u){if(this._validateInputs(k))return this.clearCache(),this.points[k]=
[u.x,u.y],this},toJson:function(){var k={points:p.clone2DArray(this.points)},u=this.spatialReference;u&&(k.spatialReference=u.toJson());return k}});e.prototype=G.prototype;f.prototype=new e;Object.defineProperty(f.prototype,"points",{get:function(){this._unquantizeFn&&(this._pointsVal=this._unquantizeFn({points:p.clone2DArray(this._pointsVal)}).points,this._unquantizeFn=null);return this._pointsVal},set:function(k){this._pointsVal=k}});f.prototype.setupLazyUnquantization=function(k,u){this._unquantizeFn=
k;this._pointsVal=u.points};G.simpleConstructor=e;G.accessorConstructor=f;G.defaultProps=t;a("extend-esri")&&(A.setObject("geometry.Multipoint",G,m),m.geometry.defaultMultipoint=t);return G})},"esri/geometry/scaleUtils":function(){define(["dojo/_base/lang","dojo/has","../kernel","../config","../WKIDUnitConversion"],function(G,A,a,m,p){function t(f,k,u){return f&&k?f.getWidth()/k*(u||h)*39.37*c.screenDPI:0}function n(f,k,u,v,g){return f.expand(v*k/(39.37*((g?u:b.values[b[u]])||h)*c.screenDPI)/f.getWidth())}
var h=6370997*Math.PI/180,c=m.defaults,b=p,e={getUnitValueForSR:function(f){return this.getUnitValue(f)||h},getUnitValue:function(f){if(f)if("object"===typeof f){var k=f.wkid;var u=f.wkt}else"number"===typeof f?k=f:"string"===typeof f&&(u=f);if(k)var v=b.values[b[k]];else u&&-1!==u.search(/^PROJCS/i)&&(f=/UNIT\[([^\]]+)\]\]$/i.exec(u))&&f[1]&&(v=parseFloat(f[1].split(",")[1]));return v},getScale:function(f,k,u){if(1<arguments.length&&null!=k&&!k.declaredClass){var v=f;var g=k;k=null;var q=e.getUnitValue(u)}else v=
k||f.extent,g=f.width,q=e.getUnitValue(v&&v.spatialReference);return t(v,g,q)},getExtentForScale:function(f,k,u){return n(u||f.extent,f.width,e.getUnitValue(f.spatialReference),k,!0)}};A("extend-esri")&&(G.mixin(G.getObject("geometry",!0,a),e),a.geometry._getScale=t,a.geometry._getExtentForScale=n);return e})},"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(G,A,a,m){var p=function(){return this}(),t={defaults:{screenDPI:96,geometryService:null,kmlService:null,
map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,zoomAnimationThrottled:!1,panDuration:350,panRate:25,logoLink:"http://www.esri.com"},autoSpatialIndexing:p.Worker&&
!1,io:{errorHandler:function(n,h){A.publish("esri.Error",[n])},proxyUrl:null,alwaysUseProxy:!1,useCors:"with-credentials",corsEnabledServers:[/^https?:\/\/.+\.arcgis\.com(\/|$)/i,"server.arcgisonline.com","services.arcgisonline.com","www.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","tiles.arcgis.com","tiles1.arcgis.com","tiles2.arcgis.com","tiles3.arcgis.com","tiles4.arcgis.com","basemaps.arcgis.com","basemapsbeta.arcgis.com","basemaps-api.arcgis.com","elevation3d.arcgis.com",
"services.arcgis.com","services1.arcgis.com","services2.arcgis.com","services3.arcgis.com","services4.arcgis.com","services5.arcgis.com","services6.arcgis.com","services7.arcgis.com","services8.arcgis.com","services9.arcgis.com","cdn.arcgis.com","cdn-a.arcgis.com","cdn-b.arcgis.com","static.arcgis.com","utility.arcgis.com","utility.arcgisonline.com","geocode.arcgis.com","geoenrich.arcgis.com","qaext.arcgis.com","staticqa.arcgis.com","tilesqa.arcgis.com","servicesqa.arcgis.com","servicesqa1.arcgis.com",
"servicesqa2.arcgis.com","servicesqa3.arcgis.com","geocodeqa.arcgis.com","geoenrichqa.arcgis.com","dev.arcgis.com","devext.arcgis.com","localvtiles.arcgis.com","staticdev.arcgis.com","tilesdevext.arcgis.com","elevation3ddev.arcgis.com","servicesdev.arcgis.com","servicesdev1.arcgis.com","servicesdev2.arcgis.com","servicesdev3.arcgis.com","geocodedev.arcgis.com","geoenrichdev.arcgis.com","basemapsdev.arcgis.com","basemapsdev-api.arcgis.com","basemapsbetadev.arcgis.com"],corsDetection:p.cordova?!1:!0,
corsDetectionTimeout:15,corsStatus:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" ")},workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}}}};a("extend-esri")&&(m.config=t);G.noGlobals||(p.esriConfig=t);return t})},"esri/WKIDUnitConversion":function(){define(["dojo/has",
"./kernel"],function(G,A){var a,m={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,
2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,
3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,
3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,
3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,
5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,
6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,
6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,
6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,
6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,
7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,
7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,
8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,
8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,
8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9367:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,
24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,
31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,
103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,
103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,
103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,
103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)m[a]=0;for(a=2056;2065>=a;a++)m[a]=0;for(a=2067;2135>=a;a++)m[a]=0;for(a=2137;2154>=a;a++)m[a]=0;for(a=2161;2170>=a;a++)m[a]=
0;for(a=2172;2193>=a;a++)m[a]=0;for(a=2195;2198>=a;a++)m[a]=0;for(a=2200;2203>=a;a++)m[a]=0;for(a=2205;2217>=a;a++)m[a]=0;for(a=2222;2224>=a;a++)m[a]=1;for(a=2225;2250>=a;a++)m[a]=2;for(a=2251;2253>=a;a++)m[a]=1;for(a=2257;2264>=a;a++)m[a]=2;for(a=2274;2279>=a;a++)m[a]=2;for(a=2280;2282>=a;a++)m[a]=1;for(a=2283;2289>=a;a++)m[a]=2;for(a=2290;2292>=a;a++)m[a]=0;for(a=2308;2313>=a;a++)m[a]=0;for(a=2315;2491>=a;a++)m[a]=0;for(a=2494;2866>=a;a++)m[a]=0;for(a=2867;2869>=a;a++)m[a]=1;for(a=2870;2888>=a;a++)m[a]=
2;for(a=2891;2895>=a;a++)m[a]=2;for(a=2896;2898>=a;a++)m[a]=1;for(a=2902;2908>=a;a++)m[a]=2;for(a=2915;2920>=a;a++)m[a]=2;for(a=2921;2923>=a;a++)m[a]=1;for(a=2924;2930>=a;a++)m[a]=2;for(a=2931;2962>=a;a++)m[a]=0;for(a=2964;2968>=a;a++)m[a]=2;for(a=2969;2973>=a;a++)m[a]=0;for(a=2975;2991>=a;a++)m[a]=0;for(a=2995;3051>=a;a++)m[a]=0;for(a=3054;3079>=a;a++)m[a]=0;for(a=3081;3088>=a;a++)m[a]=0;for(a=3092;3101>=a;a++)m[a]=0;for(a=3106;3138>=a;a++)m[a]=0;for(a=3146;3151>=a;a++)m[a]=0;for(a=3153;3166>=a;a++)m[a]=
0;for(a=3168;3172>=a;a++)m[a]=0;for(a=3174;3203>=a;a++)m[a]=0;for(a=3294;3358>=a;a++)m[a]=0;for(a=3367;3403>=a;a++)m[a]=0;for(a=3408;3416>=a;a++)m[a]=0;for(a=3417;3438>=a;a++)m[a]=2;for(a=3441;3446>=a;a++)m[a]=2;for(a=3447;3450>=a;a++)m[a]=0;for(a=3451;3459>=a;a++)m[a]=2;for(a=3460;3478>=a;a++)m[a]=0;for(a=3554;3559>=a;a++)m[a]=0;for(a=3560;3570>=a;a++)m[a]=2;for(a=3571;3581>=a;a++)m[a]=0;for(a=3594;3597>=a;a++)m[a]=0;for(a=3601;3604>=a;a++)m[a]=0;for(a=3637;3639>=a;a++)m[a]=0;for(a=3665;3667>=a;a++)m[a]=
0;for(a=3693;3695>=a;a++)m[a]=0;for(a=3701;3727>=a;a++)m[a]=0;for(a=3728;3739>=a;a++)m[a]=2;for(a=3740;3751>=a;a++)m[a]=0;for(a=3753;3760>=a;a++)m[a]=2;for(a=3761;3773>=a;a++)m[a]=0;for(a=3775;3777>=a;a++)m[a]=0;for(a=3779;3781>=a;a++)m[a]=0;for(a=3783;3785>=a;a++)m[a]=0;for(a=3788;3791>=a;a++)m[a]=0;for(a=3797;3802>=a;a++)m[a]=0;for(a=3814;3816>=a;a++)m[a]=0;for(a=3825;3829>=a;a++)m[a]=0;for(a=3832;3841>=a;a++)m[a]=0;for(a=3844;3852>=a;a++)m[a]=0;for(a=3873;3885>=a;a++)m[a]=0;for(a=3890;3893>=a;a++)m[a]=
0;for(a=3907;3912>=a;a++)m[a]=0;for(a=3942;3950>=a;a++)m[a]=0;for(a=3968;3970>=a;a++)m[a]=0;for(a=3973;3976>=a;a++)m[a]=0;for(a=3986;3989>=a;a++)m[a]=0;for(a=3994;3997>=a;a++)m[a]=0;for(a=4048;4051>=a;a++)m[a]=0;for(a=4056;4063>=a;a++)m[a]=0;for(a=4093;4096>=a;a++)m[a]=0;for(a=4390;4398>=a;a++)m[a]=0;for(a=4399;4413>=a;a++)m[a]=2;for(a=4418;4433>=a;a++)m[a]=2;for(a=4455;4457>=a;a++)m[a]=2;for(a=4484;4489>=a;a++)m[a]=0;for(a=4491;4554>=a;a++)m[a]=0;for(a=4568;4589>=a;a++)m[a]=0;for(a=4652;4656>=a;a++)m[a]=
0;for(a=4766;4800>=a;a++)m[a]=0;for(a=5014;5016>=a;a++)m[a]=0;for(a=5069;5072>=a;a++)m[a]=0;for(a=5105;5130>=a;a++)m[a]=0;for(a=5173;5188>=a;a++)m[a]=0;for(a=5253;5259>=a;a++)m[a]=0;for(a=5269;5275>=a;a++)m[a]=0;for(a=5292;5311>=a;a++)m[a]=0;for(a=5329;5331>=a;a++)m[a]=0;for(a=5343;5349>=a;a++)m[a]=0;for(a=5355;5357>=a;a++)m[a]=0;for(a=5387;5389>=a;a++)m[a]=0;for(a=5459;5463>=a;a++)m[a]=0;for(a=5479;5482>=a;a++)m[a]=0;for(a=5518;5520>=a;a++)m[a]=0;for(a=5530;5539>=a;a++)m[a]=0;for(a=5550;5552>=a;a++)m[a]=
0;for(a=5562;5583>=a;a++)m[a]=0;for(a=5623;5625>=a;a++)m[a]=2;for(a=5631;5639>=a;a++)m[a]=0;for(a=5649;5653>=a;a++)m[a]=0;for(a=5663;5680>=a;a++)m[a]=0;for(a=5682;5685>=a;a++)m[a]=0;for(a=5875;5877>=a;a++)m[a]=0;for(a=5896;5899>=a;a++)m[a]=0;for(a=5921;5940>=a;a++)m[a]=0;for(a=6050;6125>=a;a++)m[a]=0;for(a=6244;6275>=a;a++)m[a]=0;for(a=6328;6348>=a;a++)m[a]=0;for(a=6350;6356>=a;a++)m[a]=0;for(a=6366;6372>=a;a++)m[a]=0;for(a=6381;6387>=a;a++)m[a]=0;for(a=6393;6404>=a;a++)m[a]=0;for(a=6480;6483>=a;a++)m[a]=
0;for(a=6511;6514>=a;a++)m[a]=0;for(a=6579;6581>=a;a++)m[a]=0;for(a=6619;6624>=a;a++)m[a]=0;for(a=6625;6627>=a;a++)m[a]=2;for(a=6628;6632>=a;a++)m[a]=0;for(a=6634;6637>=a;a++)m[a]=0;for(a=6669;6692>=a;a++)m[a]=0;for(a=6707;6709>=a;a++)m[a]=0;for(a=6720;6723>=a;a++)m[a]=0;for(a=6732;6738>=a;a++)m[a]=0;for(a=6931;6933>=a;a++)m[a]=0;for(a=6956;6959>=a;a++)m[a]=0;for(a=7005;7007>=a;a++)m[a]=0;for(a=7057;7070>=a;a++)m[a]=2;for(a=7074;7082>=a;a++)m[a]=0;for(a=7109;7118>=a;a++)m[a]=0;for(a=7119;7127>=a;a++)m[a]=
1;for(a=7374;7376>=a;a++)m[a]=0;for(a=7528;7586>=a;a++)m[a]=0;for(a=7587;7645>=a;a++)m[a]=2;for(a=7692;7696>=a;a++)m[a]=0;for(a=7755;7787>=a;a++)m[a]=0;for(a=7791;7795>=a;a++)m[a]=0;for(a=7799;7801>=a;a++)m[a]=0;for(a=7803;7805>=a;a++)m[a]=0;for(a=7825;7831>=a;a++)m[a]=0;for(a=7845;7859>=a;a++)m[a]=0;for(a=8013;8032>=a;a++)m[a]=0;for(a=8065;8068>=a;a++)m[a]=1;for(a=8518;8529>=a;a++)m[a]=2;for(a=8533;8536>=a;a++)m[a]=2;for(a=8538;8540>=a;a++)m[a]=2;for(a=8677;8679>=a;a++)m[a]=0;for(a=8836;8840>=a;a++)m[a]=
0;for(a=8857;8859>=a;a++)m[a]=0;for(a=8908;8910>=a;a++)m[a]=0;for(a=9154;9159>=a;a++)m[a]=0;for(a=9205;9218>=a;a++)m[a]=0;for(a=9271;9273>=a;a++)m[a]=0;for(a=9295;9297>=a;a++)m[a]=0;for(a=20002;20032>=a;a++)m[a]=0;for(a=20062;20092>=a;a++)m[a]=0;for(a=20135;20138>=a;a++)m[a]=0;for(a=20248;20258>=a;a++)m[a]=0;for(a=20348;20358>=a;a++)m[a]=0;for(a=20436;20440>=a;a++)m[a]=0;for(a=20822;20824>=a;a++)m[a]=0;for(a=20934;20936>=a;a++)m[a]=0;for(a=21035;21037>=a;a++)m[a]=0;for(a=21095;21097>=a;a++)m[a]=0;
for(a=21148;21150>=a;a++)m[a]=0;for(a=21413;21423>=a;a++)m[a]=0;for(a=21453;21463>=a;a++)m[a]=0;for(a=21473;21483>=a;a++)m[a]=0;for(a=21780;21782>=a;a++)m[a]=0;for(a=21891;21894>=a;a++)m[a]=0;for(a=21896;21899>=a;a++)m[a]=0;for(a=22171;22177>=a;a++)m[a]=0;for(a=22181;22187>=a;a++)m[a]=0;for(a=22191;22197>=a;a++)m[a]=0;for(a=22234;22236>=a;a++)m[a]=0;for(a=22521;22525>=a;a++)m[a]=0;for(a=22991;22994>=a;a++)m[a]=0;for(a=23028;23038>=a;a++)m[a]=0;for(a=23830;23853>=a;a++)m[a]=0;for(a=23866;23872>=a;a++)m[a]=
0;for(a=23877;23884>=a;a++)m[a]=0;for(a=23886;23894>=a;a++)m[a]=0;for(a=23946;23948>=a;a++)m[a]=0;for(a=24311;24313>=a;a++)m[a]=0;for(a=24342;24347>=a;a++)m[a]=0;for(a=24370;24374>=a;a++)m[a]=10;for(a=24375;24381>=a;a++)m[a]=0;for(a=24718;24721>=a;a++)m[a]=0;for(a=24817;24821>=a;a++)m[a]=0;for(a=24877;24882>=a;a++)m[a]=0;for(a=24891;24893>=a;a++)m[a]=0;for(a=25391;25395>=a;a++)m[a]=0;for(a=25828;25838>=a;a++)m[a]=0;for(a=26191;26195>=a;a++)m[a]=0;for(a=26391;26393>=a;a++)m[a]=0;for(a=26701;26722>=
a;a++)m[a]=0;for(a=26729;26799>=a;a++)m[a]=2;for(a=26801;26803>=a;a++)m[a]=2;for(a=26811;26813>=a;a++)m[a]=2;for(a=26847;26870>=a;a++)m[a]=2;for(a=26891;26899>=a;a++)m[a]=0;for(a=26901;26923>=a;a++)m[a]=0;for(a=26929;26946>=a;a++)m[a]=0;for(a=26948;26998>=a;a++)m[a]=0;for(a=27037;27040>=a;a++)m[a]=0;for(a=27205;27232>=a;a++)m[a]=0;for(a=27258;27260>=a;a++)m[a]=0;for(a=27391;27398>=a;a++)m[a]=0;for(a=27561;27564>=a;a++)m[a]=0;for(a=27571;27574>=a;a++)m[a]=0;for(a=27581;27584>=a;a++)m[a]=0;for(a=27591;27594>=
a;a++)m[a]=0;for(a=28191;28193>=a;a++)m[a]=0;for(a=28348;28358>=a;a++)m[a]=0;for(a=28402;28432>=a;a++)m[a]=0;for(a=28462;28492>=a;a++)m[a]=0;for(a=29118;29122>=a;a++)m[a]=0;for(a=29168;29172>=a;a++)m[a]=0;for(a=29177;29185>=a;a++)m[a]=0;for(a=29187;29195>=a;a++)m[a]=0;for(a=29900;29903>=a;a++)m[a]=0;for(a=30161;30179>=a;a++)m[a]=0;for(a=30491;30494>=a;a++)m[a]=0;for(a=30729;30732>=a;a++)m[a]=0;for(a=31251;31259>=a;a++)m[a]=0;for(a=31265;31268>=a;a++)m[a]=0;for(a=31275;31279>=a;a++)m[a]=0;for(a=31281;31297>=
a;a++)m[a]=0;for(a=31461;31469>=a;a++)m[a]=0;for(a=31491;31495>=a;a++)m[a]=0;for(a=31917;31922>=a;a++)m[a]=0;for(a=31965;32E3>=a;a++)m[a]=0;for(a=32001;32003>=a;a++)m[a]=2;for(a=32005;32031>=a;a++)m[a]=2;for(a=32033;32060>=a;a++)m[a]=2;for(a=32064;32067>=a;a++)m[a]=2;for(a=32074;32077>=a;a++)m[a]=2;for(a=32081;32086>=a;a++)m[a]=0;for(a=32107;32130>=a;a++)m[a]=0;for(a=32133;32158>=a;a++)m[a]=0;for(a=32164;32167>=a;a++)m[a]=2;for(a=32180;32199>=a;a++)m[a]=0;for(a=32201;32260>=a;a++)m[a]=0;for(a=32301;32360>=
a;a++)m[a]=0;for(a=32601;32662>=a;a++)m[a]=0;for(a=32664;32667>=a;a++)m[a]=2;for(a=32701;32761>=a;a++)m[a]=0;for(a=53001;53004>=a;a++)m[a]=0;for(a=53008;53019>=a;a++)m[a]=0;for(a=53021;53032>=a;a++)m[a]=0;for(a=53034;53037>=a;a++)m[a]=0;for(a=53042;53046>=a;a++)m[a]=0;for(a=53074;53080>=a;a++)m[a]=0;for(a=54001;54004>=a;a++)m[a]=0;for(a=54008;54019>=a;a++)m[a]=0;for(a=54021;54032>=a;a++)m[a]=0;for(a=54034;54037>=a;a++)m[a]=0;for(a=54042;54046>=a;a++)m[a]=0;for(a=54048;54053>=a;a++)m[a]=0;for(a=54074;54080>=
a;a++)m[a]=0;for(a=54098;54101>=a;a++)m[a]=0;for(a=102001;102040>=a;a++)m[a]=0;for(a=102042;102063>=a;a++)m[a]=0;for(a=102065;102067>=a;a++)m[a]=0;for(a=102070;102117>=a;a++)m[a]=0;for(a=102122;102216>=a;a++)m[a]=0;for(a=102221;102377>=a;a++)m[a]=0;for(a=102382;102388>=a;a++)m[a]=0;for(a=102389;102398>=a;a++)m[a]=2;for(a=102399;102444>=a;a++)m[a]=0;for(a=102445;102447>=a;a++)m[a]=2;for(a=102448;102458>=a;a++)m[a]=0;for(a=102459;102468>=a;a++)m[a]=2;for(a=102469;102499>=a;a++)m[a]=0;for(a=102500;102519>=
a;a++)m[a]=1;for(a=102520;102524>=a;a++)m[a]=0;for(a=102525;102529>=a;a++)m[a]=2;for(a=102530;102588>=a;a++)m[a]=0;for(a=102590;102598>=a;a++)m[a]=0;for(a=102601;102603>=a;a++)m[a]=0;for(a=102605;102628>=a;a++)m[a]=0;for(a=102629;102646>=a;a++)m[a]=2;for(a=102648;102700>=a;a++)m[a]=2;for(a=102701;102703>=a;a++)m[a]=0;for(a=102707;102730>=a;a++)m[a]=2;for(a=102733;102758>=a;a++)m[a]=2;for(a=102767;102900>=a;a++)m[a]=0;for(a=102965;102969>=a;a++)m[a]=0;for(a=102971;102973>=a;a++)m[a]=0;for(a=102975;102989>=
a;a++)m[a]=0;for(a=102990;102992>=a;a++)m[a]=1;for(a=102997;103002>=a;a++)m[a]=0;for(a=103003;103008>=a;a++)m[a]=2;for(a=103009;103011>=a;a++)m[a]=0;for(a=103012;103014>=a;a++)m[a]=2;for(a=103019;103021>=a;a++)m[a]=0;for(a=103022;103024>=a;a++)m[a]=2;for(a=103029;103031>=a;a++)m[a]=0;for(a=103032;103034>=a;a++)m[a]=2;for(a=103065;103068>=a;a++)m[a]=0;for(a=103074;103076>=a;a++)m[a]=0;for(a=103077;103079>=a;a++)m[a]=1;for(a=103080;103082>=a;a++)m[a]=0;for(a=103083;103085>=a;a++)m[a]=2;for(a=103090;103093>=
a;a++)m[a]=0;for(a=103097;103099>=a;a++)m[a]=0;for(a=103100;103102>=a;a++)m[a]=2;for(a=103107;103109>=a;a++)m[a]=0;for(a=103110;103112>=a;a++)m[a]=2;for(a=103113;103116>=a;a++)m[a]=0;for(a=103117;103120>=a;a++)m[a]=2;for(a=103153;103157>=a;a++)m[a]=0;for(a=103158;103162>=a;a++)m[a]=2;for(a=103163;103165>=a;a++)m[a]=0;for(a=103166;103168>=a;a++)m[a]=1;for(a=103169;103171>=a;a++)m[a]=2;for(a=103186;103188>=a;a++)m[a]=0;for(a=103189;103191>=a;a++)m[a]=2;for(a=103192;103195>=a;a++)m[a]=0;for(a=103196;103199>=
a;a++)m[a]=2;for(a=103200;103224>=a;a++)m[a]=0;for(a=103225;103227>=a;a++)m[a]=1;for(a=103232;103237>=a;a++)m[a]=0;for(a=103238;103243>=a;a++)m[a]=2;for(a=103244;103246>=a;a++)m[a]=0;for(a=103247;103249>=a;a++)m[a]=2;for(a=103254;103256>=a;a++)m[a]=0;for(a=103257;103259>=a;a++)m[a]=2;for(a=103264;103266>=a;a++)m[a]=0;for(a=103267;103269>=a;a++)m[a]=2;for(a=103300;103375>=a;a++)m[a]=0;for(a=103381;103383>=a;a++)m[a]=0;for(a=103384;103386>=a;a++)m[a]=1;for(a=103387;103389>=a;a++)m[a]=0;for(a=103390;103392>=
a;a++)m[a]=2;for(a=103397;103399>=a;a++)m[a]=0;for(a=103400;103471>=a;a++)m[a]=2;for(a=103476;103478>=a;a++)m[a]=0;for(a=103479;103481>=a;a++)m[a]=2;for(a=103486;103488>=a;a++)m[a]=0;for(a=103489;103491>=a;a++)m[a]=2;for(a=103492;103495>=a;a++)m[a]=0;for(a=103496;103499>=a;a++)m[a]=2;for(a=103528;103543>=a;a++)m[a]=0;for(a=103544;103548>=a;a++)m[a]=2;for(a=103549;103551>=a;a++)m[a]=0;for(a=103552;103554>=a;a++)m[a]=1;for(a=103555;103557>=a;a++)m[a]=2;for(a=103558;103560>=a;a++)m[a]=0;for(a=103571;103573>=
a;a++)m[a]=0;for(a=103574;103576>=a;a++)m[a]=2;for(a=103577;103580>=a;a++)m[a]=0;for(a=103581;103583>=a;a++)m[a]=2;for(a=103595;103694>=a;a++)m[a]=0;for(a=103696;103699>=a;a++)m[a]=0;for(a=103700;103793>=a;a++)m[a]=2;for(a=103794;103872>=a;a++)m[a]=0;for(a=103900;103971>=a;a++)m[a]=2;G("extend-esri")&&(A.WKIDUnitConversion=m);return m})},"esri/domUtils":function(){define(["./kernel","dojo/_base/connect","dojo/_base/lang","dojo/dom-style","dojo/has"],function(G,A,a,m,p){var t={show:function(n){if(n=
t.getNode(n))n.style.display="block"},getNode:function(n){return n&&n.domNode||n},hide:function(n){if(n=t.getNode(n))n.style.display="none"},toggle:function(n){if(n=t.getNode(n))n.style.display="none"===n.style.display?"block":"none"},documentBox:8>=p("ie")?{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}:{w:window.innerWidth,h:window.innerHeight},setScrollable:function(n){if(n=this.getNode(n)){var h=0,c=0,b=0,e=0,f=0,k=0;return[A.connect(n,"ontouchstart",function(u){h=
u.touches[0].screenX;c=u.touches[0].screenY;b=n.scrollWidth;e=n.scrollHeight;f=n.clientWidth;k=n.clientHeight}),A.connect(n,"ontouchmove",function(u){u.preventDefault();var v=n.firstChild;v instanceof Text&&(v=n.childNodes[1]);var g=v._currentX||0,q=v._currentY||0;g+=u.touches[0].screenX-h;0<g?g=0:0>g&&Math.abs(g)+f>b&&(g=-1*(b-f));v._currentX=g;q+=u.touches[0].screenY-c;0<q?q=0:0>q&&Math.abs(q)+k>e&&(q=-1*(e-k));v._currentY=q;m.set(v,{"-webkit-transition-property":"-webkit-transform","-webkit-transform":"translate("+
g+"px, "+q+"px)"});h=u.touches[0].screenX;c=u.touches[0].screenY})]}}};p("extend-esri")&&a.mixin(G,t);return t})},"esri/urlUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/url dojo/global dojo/io-query ./kernel ./lang ./config ./sniff dojo/i18n!./nls/jsapi".split(" "),function(G,A,a,m,p,t,n,h,c,b){var e={},f=h.defaults.io,k=/^[a-z][a-z0-9\+\-\.]*:/i,u=/^\s*http:/i,v=/^\s*https:/i,g=/:\d+$/,q=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i;e.isHTTP=function(w){var B=m.location.protocol;
return null==w?"http:"===B||"https:"===B:w?"https:"===B:"http:"===B};e.getProtocolForWebResource=function(w){return e.isHTTP()?m.location.protocol:w?"https:":"http:"};e.urlToObject=function(w){var B={},z=new a(w),C=w.indexOf("?");null===z.query?B={path:w,query:null}:(B.path=w.substring(0,C),B.query=p.queryToObject(z.query));z.fragment&&(B.hash=z.fragment,null===z.query&&(B.path=B.path.substring(0,B.path.length-(z.fragment.length+1))));return B};e.getProxyUrl=function(w,B){var z=G.isString(w)?0===
G.trim(w).toLowerCase().indexOf("https:"):w,C=f.proxyUrl,y=b.io.proxyNotSet;G.isString(w)&&(w=e.getProxyRule(w))&&(C=w.proxyUrl);if(!C)throw console.log(y),Error(y);if(z&&!1!==B&&0!==m.location.href.toLowerCase().indexOf("https:")&&(B=C,0!==B.toLowerCase().indexOf("http")&&(B=e.getAbsoluteUrl(B)),B=B.replace(/^http:/i,"https:"),e.canUseXhr(B))){C=B;var D=1}C=e.urlToObject(C);C._xo=D;return C};e.addProxy=function(w){var B=e.getProxyRule(w),z;B?z=e.urlToObject(B.proxyUrl):f.alwaysUseProxy&&(z=e.getProxyUrl());
z&&(B=e.urlToObject(w),w=z.path+"?"+B.path,(z=p.objectToQuery(G.mixin(z.query||{},B.query)))&&(w+="?"+z));return w};e.addProxyRule=function(w){var B=w.urlPrefix=e.urlToObject(w.urlPrefix).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),z=f.proxyRules,C,y=z.length,D=y;for(C=0;C<y;C++){var F=z[C].urlPrefix;if(0===B.indexOf(F)){if(B.length===F)return-1;D=C;break}else 0===F.indexOf(B)&&(D=C+1)}z.splice(D,0,w);return D};e.getProxyRule=function(w){var B=f.proxyRules,z=B.length,
C=e.urlToObject(w).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase();for(w=0;w<z;w++)if(0===C.indexOf(B[w].urlPrefix)){var y=B[w];break}return y};e.hasSameOrigin=function(w,B,z){w=w.toLowerCase();B=B.toLowerCase();var C=m.location.href.toLowerCase();w=0===w.indexOf("http")?new a(w):C=new a(C);B=0===B.indexOf("http")?new a(B):G.isString(C)?new a(C):C;return(z||w.scheme===B.scheme)&&w.host===B.host&&w.port===B.port};e.canUseXhr=function(w,B){var z=c("esri-phonegap")?!0:!1,C=
e.hasSameOrigin,y=f.corsEnabledServers,D,F=-1;!z&&c("esri-cors")&&y&&y.length&&(z=A.some(y,function(H,E){H=!H||"object"!==typeof H||H instanceof RegExp?H:H.host;if(H instanceof RegExp){if(H.test(w))return F=E,!0}else if(H&&(D=0!==H.trim().toLowerCase().indexOf("http"),C(w,D?"http://"+H:H)||D&&C(w,"https://"+H)))return F=E,!0;return!1}));return B?F:z};e.getAbsoluteUrl=function(w){var B=e.getProtocolForWebResource();return G.isString(w)&&!k.test(w)?0===w.indexOf("//")?B+w:0===w.indexOf("/")?B+"//"+
m.location.host+w:t._appBaseUrl+w:w};e.fixUrl=function(w){w=G.trim(w);w=e.getAbsoluteUrl(w);w=e.normalizeSlashes(w);w=w.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");w=e.downgradeToHTTP(w);return w=e.upgradeToHTTPS(w)};e.normalize=function(w){return e.fixUrl(w)};e.normalizeSlashes=function(w){if(/^https?:\/\//i.test(w)){var B=w.indexOf("?");if(-1<B){var z=w.slice(0,B);var C=w.slice(B+1)}else z=w;w=z.replace(/\/{2,}/g,"/");w=w.replace("/","//");C&&(w+="?"+C)}return w};e.downgradeToHTTP=function(w){return e.isHTTP(!1)&&
v.test(w)&&e.hasSameOrigin(m.location.href,w,!0)&&!e.canUseXhr(w)?w.replace(v,"http:"):w};e.upgradeToHTTPS=function(w){var B=f.httpsDomains,z=e.isHTTP(!1),C=e.isHTTP(!0);if(!u.test(w))return w;w=G.trim(w);var y=w.indexOf("/",7);y=-1===y?w:w.slice(0,y);y=y.toLowerCase().slice(7);if(g.test(y))if(n.endsWith(y,":80"))y=y.slice(0,-3),w=w.replace(":80","");else return w;if(z&&y===m.location.host&&(!q.test(w)||!e.canUseXhr(w)))return w;z=!1;if(C&&y===m.location.host)z=!0;else if(B)for(var D=0;D<B.length;D++){var F=
B[D];if(y===F||n.endsWith(y,"."+F)){z=!0;break}}z||!C||f.alwaysUseProxy||e.getProxyRule(w)||(z=!0);z&&(w=w.replace(u,"https:"));return w};h=b.widgets.popup;var x=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,label:h.NLS_moreInfo},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"${hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"${hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,appName:"App Studio Player",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,
appName:"Collector",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,appName:"Explorer",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,appName:"Navigator",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,appName:"Survey123",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,appName:"Trek2There",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,appName:"Workforce",
label:h.NLS_openLinkInApp},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,appName:"iForm",label:h.NLS_openLinkInApp},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,appName:"FlowFinity",label:h.NLS_openLinkInApp},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,appName:"Laserfische",label:h.NLS_openLinkInApp},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,appName:"Microsoft Power BI",label:h.NLS_openLinkInApp}];e.getURIInfo=function(w){var B;A.some(x,function(z){z.pattern.test(w)&&(B=z);return!!B});return B};e.isKnownURI=
function(w){return!!e.getURIInfo(w)};c("extend-esri")&&(G.mixin(t,e),t._getProxyUrl=e.getProxyUrl,t._getProxiedUrl=e.addProxy,t._hasSameOrigin=e.hasSameOrigin,t._canDoXOXHR=e.canUseXhr,t._getAbsoluteUrl=e.getAbsoluteUrl,t.fixUrl=e.fixUrl);return e})},"esri/layers/layer":function(){define("dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/Deferred dojo/_base/json dojo/has ../Evented ../kernel ../lang ../request ../deferredUtils ../urlUtils ../SpatialReference ../geometry/Extent".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v){var g=G([h],{declaredClass:"esri.layers.Layer",_eventMap:{error:["error"],load:["layer"],"opacity-change":["opacity"],"update-end":["error"],"visibility-change":["visible"]},constructor:function(q,x){this._attrs={};q&&m.isString(q)?this._url=k.urlToObject(this.url=k.normalize(q)):(this.url=this._url=null,(x=x||q)&&(x.layerDefinition||x.query)&&(x=null));this.spatialReference=new u(4326);this.initialExtent=new v(-180,-90,180,90,new u(4326));this._map=this._div=
null;this.normalization=!0;x&&(x.id&&(this.id=x.id),this.arcgisProps=x.arcgisProps,this.parentLayer=x.parentLayer,!1===x.visible&&(this.visible=!1),b.isDefined(x.opacity)&&(this.opacity=x.opacity),b.isDefined(x.minScale)&&this.setMinScale(x.minScale),b.isDefined(x.maxScale)&&this.setMaxScale(x.maxScale),this.attributionDataUrl=x.attributionDataUrl||"",this.hasAttributionData=!!this.attributionDataUrl,b.isDefined(x.showAttribution)&&(this.showAttribution=x.showAttribution),this.className=x.className,
this.refreshInterval=x.refreshInterval||0);this._errorHandler=m.hitch(this,this._errorHandler);this._scheduledRefresh=m.hitch(this,this._scheduledRefresh);this.refresh=m.hitch(this,this.refresh);if(this.managedSuspension){var w=this._setMap;this._setMap=function(B){var z=w.apply(this,arguments);this._fireAttach(B);this.evaluateSuspension();if(this.suspended&&!B.loaded)var C=a.connect(B,"onLoad",this,function(){a.disconnect(C);C=null;this.evaluateSuspension()});return z}}this.registerConnectEvents()},
id:null,visible:!0,opacity:1,loaded:!1,loadError:null,minScale:0,maxScale:0,visibleAtMapScale:!1,suspended:!0,attached:!1,attributionDataUrl:"",hasAttributionData:!1,showAttribution:!0,refreshInterval:0,_errorHandler:function(q){this.loaded||(this.loadError=q);this.onError(q)},_setMap:function(q,x,w,B){this._map=q;this._lyrZEHandle=a.connect(q,"onZoomEnd",this,this._processMapScale);if(q.loaded)this.visibleAtMapScale=this._isMapAtVisibleScale();else var z=a.connect(q,"onLoad",this,function(){a.disconnect(z);
z=null;this._processMapScale()})},_unsetMap:function(q,x){a.disconnect(this._lyrZEHandle);this._map=this._lyrZEHandle=null;this._resumedOnce=void 0;this.suspended=!0;this._fireDetach(q)},_fireAttach:function(q){this.attached=!0;this.onAttach({map:q})},_fireDetach:function(q){this.attached=!1;this.onDetach({map:q})},_cleanUp:function(){this._map=this._div=null},_fireUpdateStart:function(){this.updating||(this.updating=!0,this.attr("data-updating",""),this.onUpdateStart(),this._map&&this._map._incr())},
_fireUpdateEnd:function(q,x){this.updating&&(this.updating=!1,this.attr("data-updating"),this._refreshRT(),this.onUpdateEnd(q,x),this._map&&this._map._decr())},_getToken:function(){var q=this._url,x=this.credential;return q&&q.query&&q.query.token||x&&x.token||void 0},_findCredential:function(){this.credential=c.id&&this._url&&c.id.findCredential(this._url.path)},_useSSL:function(){var q=this._url,x=/^http:/i;this.url&&(this.url=this.url.replace(x,"https:"));q&&q.path&&(q.path=q.path.replace(x,"https:"))},
refresh:function(q){},show:function(){this.setVisibility(!0)},hide:function(){this.setVisibility(!1)},setMinScale:function(q){this.setScaleRange(q)},setMaxScale:function(q){this.setScaleRange(null,q)},setScaleRange:function(q,x){var w=b.isDefined(q),B=b.isDefined(x);this.loaded||(this._hasMin=this._hasMin||w,this._hasMax=this._hasMax||B);var z=this.minScale,C=this.maxScale;this.minScale=(w?q:this.minScale)||0;this.maxScale=(B?x:this.maxScale)||0;if(z!==this.minScale||C!==this.maxScale)this.onScaleRangeChange(),
this._processMapScale()},suspend:function(){this._suspended=!0;this.evaluateSuspension()},resume:function(){this._suspended=!1;this.evaluateSuspension()},canResume:function(){return this.loaded&&this._map&&this._map.loaded&&this.visible&&this.visibleAtMapScale&&!this._suspended},evaluateSuspension:function(){this.canResume()?this.suspended&&this._resume():this.suspended||this._suspend()},_suspend:function(){this.suspended=!0;this.attr("data-suspended","");this.onSuspend();if(this._map)this._map.onLayerSuspend(this)},
_resume:function(){this.suspended=!1;this.attr("data-suspended");var q=void 0===this._resumedOnce,x=this.className,w=this._attrs,B=this.getNode(),z;if(q){this._resumedOnce=!0;if(x&&B){var C=B.getAttribute("class")||"";(new RegExp("(^|\\s)"+x+"(\\s|$)","i")).test(C)||B.setAttribute("class",C+((C?" ":"")+x))}if(w&&B)for(z in w)w.hasOwnProperty(z)&&B.setAttribute(z,w[z])}this._refreshRT();this.onResume({firstOccurrence:q});if(this._map)this._map.onLayerResume(this)},_processMapScale:function(){var q=
this.visibleAtMapScale;this.visibleAtMapScale=this._isMapAtVisibleScale();q!==this.visibleAtMapScale&&(this.onScaleVisibilityChange(),this.evaluateSuspension())},isVisibleAtScale:function(q){return q?g.prototype._isMapAtVisibleScale.apply(this,arguments):!1},_isMapAtVisibleScale:function(q,x){if(!(q||this._map&&this._map.loaded))return!1;var w=this._map;q=q||w.getScale();var B=this.minScale,z=this.maxScale,C=!B,y=!z,D;x&&(D=w.width>w.height?w.width:w.height);C||(q<=B?C=!0:x&&(C=Math.abs(B-q)/B<1/
D));y||(q>=z?y=!0:x&&(y=Math.abs(z-q)/z<1/D));return C&&y},getAttributionData:function(){var q=this.attributionDataUrl,x=new p(f._dfdCanceller);this.hasAttributionData&&q?(x._pendingDfd=e({url:q,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}),x._pendingDfd.then(function(w){x.callback(w)},function(w){x.errback(w)})):(q=Error("Layer does not have attribution data"),q.log=!!A.isDebug,x.errback(q));return x},getResourceInfo:function(){var q=this.resourceInfo;return m.isString(q)?t.fromJson(q):
m.clone(q)},getMap:function(){return this._map},getNode:function(){return this._div},attr:function(q,x){var w=this.getNode();if("data-reference"===q&&11>n("ie"))return this;w&&(null==x?w.removeAttribute(q):w.setAttribute(q,x));this._attrs&&(null==x?delete this._attrs[q]:this._attrs[q]=x);return this},setRefreshInterval:function(q){var x=this.refreshInterval;this.refreshInterval=q;this._toggleRT(!1);q&&this._toggleRT(!0);if(x!==q)this.onRefreshIntervalChange();return this},_toggleRT:function(q){q&&
this.refreshInterval?(clearInterval(this._refreshTimer),this._refreshTimer=setInterval(this._scheduledRefresh,6E4*this.refreshInterval)):this._refreshTimer&&(clearInterval(this._refreshTimer),this._refreshTimer=null)},_refreshRT:function(){this._toggleRT(!1);this._toggleRT(!0)},_scheduledRefresh:function(){this.onRefreshTick();!this._map||this.suspended||this.updating||this.refresh({scheduled:!0})},_refreshTS:null,_reCheckTS:/[\?&]_ts=/ig,_reReplaceTS:/([\?&]_ts=)[0-9]+/ig,addTimestampToURL:function(q){var x=
this._refreshTS;x&&(q=this._reCheckTS.test(q)?q.replace(this._reReplaceTS,"$$$1"+x):q+((-1===q.indexOf("?")?"?":"\x26")+"_ts\x3d"+x));return q},setNormalization:function(q){this.normalization=q},setVisibility:function(q){this.visible!==q&&(this.visible=q,this.onVisibilityChange(this.visible),this.evaluateSuspension());this.attr("data-hidden",q?null:"")},onLoad:function(){},onAttach:function(q){},onDetach:function(q){},onVisibilityChange:function(){},onScaleRangeChange:function(){},onScaleVisibilityChange:function(){},
onSuspend:function(){},onResume:function(){},onUpdate:function(){},onUpdateStart:function(){},onUpdateEnd:function(){},onRefreshIntervalChange:function(){},onRefreshTick:function(){},onError:function(){}});n("extend-esri")&&m.setObject("layers.Layer",g,c);return g})},"esri/Evented":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Evented dojo/has ./kernel".split(" "),function(G,A,a,m,p,t){G=G([m],{declaredClass:"esri.Evented",registerConnectEvents:function(){var n=this.constructor,
h=this.constructor._meta.parents,c=[{}],b={},e,f=function(u,v){A.isArray(u)||(u=[u]);for(var g=0;g<u.length;g++){var q=u[g];q._meta&&q._meta.parents&&f(q._meta.parents,v);q.prototype._eventMap&&v.push(A.mixin({},q.prototype._eventMap))}return v};if(!n._onMap){f(h,c);c.push(this._eventMap);h=A.mixin.apply(this,c);for(k in this)/^on\w/.test(k)&&A.isFunction(this[k])&&(c=this._hyphenLower(k).toLowerCase(),h[c]||(b[c]={method:k}));for(e in h){var k=this._onCamelCase(e);b[e]={method:k,argKeys:h[e]}}n._onMap=
b;return n._onMap}},on:function(n,h){if(-1<n.indexOf(",")){for(var c=n.split(/\s*,\s*/),b=c.length,e=[];b--;)e.push(this.on(c[b],h));e.remove=function(){for(var u=0;u<e.length;u++)e[u].remove()};return e}c=this.constructor._onMap||this.registerConnectEvents();b="string"==typeof n&&n.toLowerCase();var f=this._onCamelCase(b),k=c&&c[b];return(f=k&&k.method||this[f]&&A.isFunction(this[f])&&f)?k&&A.isArray(k.argKeys)?(c=this._onArr2Obj(h,c[b].argKeys),a.after(this,f,c,!0)):a.after(this,f,function(u){u=
u||{};u.target||(u.target=this);h.call(this,u)},!0):this.inherited(arguments)},emit:function(n,h){var c,b,e=n.toLowerCase();var f=this._onCamelCase(n);var k=this.constructor._onMap||this.registerConnectEvents();f=(b=k&&k[e]&&k[e].method||A.isFunction(this[f])&&f)&&this[b];b&&k&&k[e]&&this._onObj2Arr(function(){c=Array.prototype.slice.call(arguments)},k[e].argKeys)(h);h=h||{};h.target||(h.target=this);if(f){var u=c&&c.length?c:[h];u=f.apply(this,u)}this.inherited(arguments,[n,h]);return u},_onObj2Arr:function(n,
h){if(h){var c=this;return function(b){var e,f=[],k=h.length;for(e=0;e<k;e++)f[e]=b[h[e]];n.apply(c,f)}}return n},_onArr2Obj:function(n,h){if(h){var c=this;return function(){var b,e={},f=arguments.length;for(b=0;b<f;b++)e[h[b]]=arguments[b];e.target||(e.target=c);n.call(c,e)}}return n},_hyphenLower:function(n){return n.replace(/^on/,"").replace(/[A-Z](?=[a-z])/g,function(h,c){return(c?"-":"")+h.toLowerCase()})},_onCamelCase:function(n){return"on"+n.substr(0,1).toUpperCase()+n.substr(1).replace(/\-([a-z])/g,
function(h,c){return c.toUpperCase()})}});p("extend-esri")&&(t.Evented=G);return G})},"esri/request":function(){define("require dojo/_base/array dojo/_base/config dojo/_base/Deferred dojo/_base/lang dojo/_base/url dojo/_base/xhr dojo/request/xhr ./core/request/script dojo/request/iframe dojo/dom-construct dojo/io-query ./kernel ./config ./sniff ./lang ./urlUtils ./deferredUtils".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x){function w(M){M=new t(M);return(M.host+(M.port?":"+M.port:"")).toLowerCase()}
function B(M){return this._xhr?this._xhr.getResponseHeader(M):null}function z(M,N){var T=f.objectToQuery(M.content);T&&(M.url+=(-1===M.url.indexOf("?")?"?":"\x26")+T);if(2E3<M.url.length){if("data:"!==M.url.toLowerCase().slice(0,5))return M=new m,M.reject(p.mixin(Error(),{message:"When using responseType 'image', URL length cannot exceed 2000 characters."})),M;if(3E6<M.url.length)return M=new m,M.reject(p.mixin(Error(),{message:"When using responseType 'image', data URL length cannot exceed 3000000 characters."})),
M}var V=new Image;N.allowImageDataAccess&&(V.crossOrigin=M.withCredentials?"use-credentials":"anonymous");var ea=!1,P=new m(function(ba){ea=!0;V.onload=V.onerror=V.onabort=null;V.src=""});N=function(ba){V.onload=V.onerror=V.onabort=null;ea||P.reject(Error("Unable to load the resource"))};V.onload=function(){V.onload=V.onerror=V.onabort=null;ea||P.resolve(this)};V.onerror=N;V.onabort=N;V.alt="";V.src=M.url;return P}function C(M,N,T,V){var ea=!1,P=!1,ba=!1;if(g.isDefined(N))if(p.isObject(N)){ea=!!N.useProxy;
P=!!N.usePost;ba=!!N.returnProgress;var la=N.crossOrigin}else ea=!!N;M=p.mixin({},M);delete M._credential;M._ssl&&(M.url=M.url.replace(/^http:/i,"https:"));10>v("ie")&&!U.test(M.url)&&(M.url=encodeURI(M.url));var Q=M.content,Y=M.url,ja=T&&M.form,pa=K;la=g.isDefined(la)?la:pa.useCors;M.load=function(Ja){if(Ja){if(Ja.error){var Va=p.mixin(Error(),Ja.error);Va.log=!!a.isDebug}else"error"===Ja.status&&(Va=p.mixin(Error(),Ja),Va.log=!!a.isDebug);Va&&(M.failOk=!Va.log,g.isDefined(Va.httpCode)||(Va.httpCode=
Va.code))}return Va||Ja};M.error=function(Ja,Va){Va&&Va.xhr&&Va.xhr.abort();Ja instanceof Error||(Ja=p.mixin(Error(),Ja));Ja.log=!!a.isDebug;M.failOk=!Ja.log;pa.errorHandler(Ja,Va);return Ja};M._token&&(M.content=M.content||{},M.content.token=M._token);var ka=0;if(Q&&Y){var va=f.objectToQuery(Q);ka=va.length+Y.length+1;v("esri-url-encodes-apostrophe")&&(ka=va.replace(/'/g,"%27").length+Y.length+1)}M.timeout=g.isDefined(M.timeout)?M.timeout:pa.timeout;M.handleAs=M.handleAs||"json";try{var Aa=la&&q.canUseXhr(M.url)&&
!/https?:\/\/[^\/]+\/[^\/]+\/admin\/?(\/.*)?$/i.test(M.url),da=q.hasSameOrigin(M.url,window.location.href)||Aa,ca=P||T||ka>pa.postLength?!0:!1,ma=da||-1===M.handleAs.indexOf("json")||!M.callbackParamName||T?!1:!0,qa=q.getProxyRule(M.url)||pa.alwaysUseProxy||ea||!("image"===M.handleAs&&!N.allowImageDataAccess||ma&&!ca||da)?!0:!1;T&&!v("esri-file-upload")&&!qa&&Aa&&(qa=!0);if(qa){var ta=q.getProxyUrl(Y,la);var Ca=ta.path;ta._xo&&(Aa=!0);!ca&&Ca.length+1+ka>pa.postLength&&(ca=!0);M.url=Ca+"?"+Y;if(ca)M.content=
p.mixin(ta.query||{},Q);else{var ha=f.objectToQuery(p.mixin(ta.query||{},Q));ha&&(M.url+="?"+ha);M.content=null}}if(!ma||ca||qa){var fa=M.headers;!Aa||fa&&fa.hasOwnProperty("X-Requested-With")||(fa=M.headers=fa||{},fa["X-Requested-With"]=null);if(T){var ra=M.callbackParamName||"callback.html",wa=M.callbackElementName||"textarea",Ga,Na,Ra=ja.elements?ja.elements.length:0;if(Q=M.content)for(Ga in Q.token&&-1<Y.toLowerCase().indexOf("/sharing/servers/")&&(Y+=(-1===Y.indexOf("?")?"?":"\x26")+"token\x3d"+
Q.token,M.url=qa?Ca+"?"+Y:Y,delete Q.token),Q){var Sa=Q[Ga];if(g.isDefined(Sa)){var La=null;for(Na=0;Na<Ra;Na++){var W=ja.elements[Na];if(W.name===Ga){La=W;break}}La?La.value=Sa:V?ja.append(Ga,Sa):ja.appendChild(e.create("input",{type:"hidden",name:Ga,value:Sa}))}}if(v("esri-file-upload")){A.forEach(ja.elements,function(Ja){Ja.name===ra&&ja.removeChild(Ja)});var ia=V?ja:new FormData(ja);if(11<=v("safari")&&"entries"in ia&&"delete"in ia){V=[];for(var sa=ia.entries(),X=sa.next();!X.done;){var na=X.value;
na[1]instanceof File&&""===na[1].name&&V.push(na[0]);X=sa.next()}V.forEach(function(Ja){ia.delete(Ja)})}M.contentType=!1;M.postData=ia;delete M.form}else{ja.enctype="multipart/form-data";9>v("ie")&&(ja.encoding="multipart/form-data");ja.method="post";A.some(ja.elements,function(Ja){return Ja.name===ra})||ja.appendChild(e.create("input",{type:"hidden",name:ra,value:wa}));if(-1!==Y.toLowerCase().indexOf("addattachment")||-1!==Y.toLowerCase().indexOf("updateattachment"))Y+=(-1===Y.indexOf("?")?"?":"\x26")+
ra+"\x3d"+wa,M.url=qa?Ca+"?"+Y:Y;delete M.content}}if(Aa&&!M.hasOwnProperty("withCredentials")&&"with-credentials"===K.useCors){Y=qa?Ca:Y;var ua=q.canUseXhr(Y,!0),ya=-1<ua?K.corsEnabledServers[ua]:null;if(ya&&ya.hasOwnProperty("withCredentials"))ya.withCredentials&&(M.withCredentials=!0);else if(k.id){var Ha=k.id.findServerInfo(Y);Ha&&Ha.webTierAuth&&(M.withCredentials=!0)}}M=J?J(M):M;if("image"===M.handleAs)return z(M,N);if(ca){if(T&&!v("esri-file-upload")){var Oa=new m(function(){Ma.cancel()});
var Ma=b.post(M.url,M).then(function(Ja){Oa.resolve(Ja)}).otherwise(function(Ja){Oa.reject(Ja)});Oa.addCallback(function(Ja){return M.load(Ja)});Oa.addErrback(function(Ja){return M.error(Ja)});return Oa}!qa&&v("safari")&&(M.url+=(-1===M.url.indexOf("?")?"?":"\x26")+"_ts\x3d"+(new Date).getTime()+O++);if(ba){M.uploadProgress=!0;M.data=M.postData;M.query=M.content;Oa=new m(function(){Da.cancel()});var Da=h.post(M.url,M).then(function(Ja){Oa.resolve(Ja)},function(Ja){Oa.reject(Ja)},function(Ja){Oa.progress({transferType:Ja.transferType,
loaded:Ja.loaded,total:Ja.total})});Oa.addCallback(function(Ja){return M.load(Ja)});Oa.addErrback(function(Ja){return M.error(Ja)});return Oa}return n.post(M)}return n.get(M)}M=J?J(M):M;M.jsonp=M.callbackParamName;M.query=M.content;Oa=new m(function(){Ka.cancel()});var Ka=c.get(M.url,M).then(function(Ja){Oa.resolve(Ja)}).otherwise(function(Ja){Oa.reject(Ja)});Oa.addCallback(function(Ja){return M.load(Ja)});Oa.addErrback(function(Ja){return M.error(Ja)});return Oa}catch(Ja){return Oa=new m,Oa.errback(M.error(Ja)),
Oa}}function y(M){var N=K.corsStatus,T=q.canUseXhr(M,!0);-1<T&&K.corsEnabledServers.splice(T,1);var V=new m;V.reject({log:!!a.isDebug});N[w(M)]=V.promise;return T}function D(M){var N=K.corsStatus;try{var T=w(M);if(K.corsDetection&&K.useCors&&v("esri-cors")&&M&&-1!==M.toLowerCase().indexOf("/rest/services")&&!q.hasSameOrigin(M,window.location.href)&&!q.canUseXhr(M)){if(N[T]&&!N[T].isCanceled())return N[T];var V=new m(x._dfdCanceller);N[T]=V.promise;var ea=n.get({url:M.substring(0,M.toLowerCase().indexOf("/rest/")+
6)+"info",content:{f:"json"},failOk:!0,handleAs:"json",headers:{"X-Requested-With":null},timeout:1E3*K.corsDetectionTimeout});V._pendingDfd=ea;ea.then(function(P){P?(q.canUseXhr(M)||K.corsEnabledServers.push(T),V.resolve()):V.reject()},function(P){V.reject(P)});return V.promise}}catch(P){console.log("esri._detectCors: an unknown error occurred while detecting CORS support")}return S}function F(M){J=M}function H(M,N,T,V){function ea(da){da._pendingDfd=C(T,V,pa,ja);if(!da._pendingDfd){da.ioArgs=da._pendingDfd&&
da._pendingDfd.ioArgs;var ca=Error("Deferred object is missing");ca.log=!!a.isDebug;da.errback(ca);da._pendingDfd=null;return da}da._pendingDfd.addCallback(function(ma){if(!ma)return ma;var qa=da._pendingDfd&&da._pendingDfd.ioArgs&&da._pendingDfd.ioArgs.xhr;if(!qa)return ma;if(qa=qa.getResponseHeader("Content-Type"))if(qa=qa.toLowerCase(),-1===qa.indexOf("text/plain")&&-1===qa.indexOf("application/json"))return ma;if(ma instanceof ArrayBuffer&&750>=ma.byteLength)qa=new Blob([ma]);else if(ma instanceof
Blob&&750>=ma.size)qa=ma;else return ma;var ta=new m,Ca=new FileReader;Ca.readAsText(qa);Ca.onloadend=function(){if(!Ca.error)try{var ha=JSON.parse(Ca.result);if(ha.error)var fa=ha.error}catch(ra){}fa?(fa=p.mixin(Error(),fa),fa.log=!!a.isDebug,null==fa.httpCode&&(fa.httpCode=fa.code),ta.reject(fa)):ta.resolve(ma)};return ta.promise}).addCallback(function(ma){da.ioArgs=da._pendingDfd&&da._pendingDfd.ioArgs;V.returnFullResponse&&(ma={data:ma,_xhr:da.ioArgs&&da.ioArgs.xhr,getHeader:B});da.callback(ma);
da._pendingDfd=null}).addErrback(function(ma){if(ma){var qa=ma.code;var ta=ma.subcode;var Ca=(Ca=ma.messageCode)&&Ca.toUpperCase()}if(ma&&403==qa&&(4==ta||ma.message&&-1<ma.message.toLowerCase().indexOf("ssl")&&-1===ma.message.toLowerCase().indexOf("permission"))){if(!T._ssl){T._ssl=T._sslFromServer=!0;H(da,!0,T,V);return}}else if(ma&&415==ma.status){if(y(T.url),!T._err415){T._err415=1;H(da,!0,T,V);return}}else if(k.id&&-1!==A.indexOf(k.id._errorCodes,qa)&&!k.id._isPublic(T.url)&&!ba&&(403!=qa||-1===
A.indexOf(L,Ca)&&(!g.isDefined(ta)||2==ta&&T._token))){da._pendingDfd=k.id.getCredential(T.url,{token:T._token,error:ma});da._pendingDfd.addCallback(function(ha){T._token=ha.token;T._credential=ha;T._ssl=T._sslFromServer||ha.ssl;H(da,!0,T,V)}).addErrback(function(ha){da.errback(ha);da._pendingDfd=null});return}da.ioArgs=da._pendingDfd&&da._pendingDfd.ioArgs;da.isFulfilled()||da.errback(ma);da._pendingDfd=null}).then(null,null,function(ma){da.progress(ma)})}var P=T.form,ba=V.disableIdentityLookup,
la=V._preLookup,Q=!1;if(v("esri-workers")&&!1!==K.useWorkers)if(!0===V.useWorkers||!0===K.useWorkers)Q=!0;else if(V.workerOptions){var Y=V.workerOptions;if(Y.callback||Y.worker&&Y.worker.worker instanceof Worker)Q=!0}var ja=P&&v("esri-file-upload")&&P instanceof FormData,pa=P&&(P.elements?A.some(P.elements,function(da){return"file"===da.type}):ja),ka=-1!==T.url.toLowerCase().indexOf("token\x3d")||T.content&&T.content.token||pa&&A.some(P.elements,function(da){return"token"===da.name})?1:0;if(!N){M.addCallback(function(da){if((/\/sharing\/rest\/accounts\/self/i.test(T.url)||
/\/sharing\/rest\/portals\/self/i.test(T.url))&&!ka&&!T._token&&da.user&&da.user.username){K.webTierAuthServers.push(w(T.url));da=K.corsEnabledServers;var ca=q.canUseXhr(T.url,!0),ma={host:w(T.url),withCredentials:!0};if(-1===ca)da.push(ma);else{var qa=da[ca];qa instanceof RegExp?(ma.host=qa,da.splice(ca,1,ma)):"object"===typeof qa?qa.withCredentials=!0:da.splice(ca,1,ma)}}if(da=T._credential)if(ca=(ca=k.id.findServerInfo(da.server))&&ca.owningSystemUrl)ca=ca.replace(/\/?$/,"/sharing"),(da=k.id.findCredential(ca,
da.userId))&&-1===k.id._getIdenticalSvcIdx(ca,da)&&da.resources.splice(0,0,ca)});M.addBoth(function(da){delete T._credential;!da||v("ie")&&da.nodeType||(da._ssl=T._ssl)});var va=T.load,Aa=T.error;va&&M.addCallback(function(da){var ca=M._pendingDfd;ca=ca&&ca.ioArgs;return va.call(ca&&ca.args,da,ca)});Aa&&M.addErrback(function(da){var ca=M._pendingDfd;ca=ca&&ca.ioArgs;return Aa.call(ca&&ca.args,da,ca)})}!k.id||ka||T._token||k.id._isPublic(T.url)||ba&&!la||!(N=k.id.findCredential(T.url))||(T._token=
N.token,T._ssl=N.ssl);Q?V.workerOptions&&V.workerOptions.worker?(I||(I=n),n=V.workerOptions.worker,ea(M)):G(["./workers/RequestClient"],function(da){I||(I=n);if(V.workerOptions){var ca=V.workerOptions;n=da.getClient(ca.callback,ca.cbFunction)}else n=da.getClient();ea(M)}):(I&&(n=I,I=null),ea(M));return M}function E(M,N){M.url=q.fixUrl(M.url);N=N||{};var T=new m(x._dfdCanceller),V=D(M.url);T._pendingDfd=V;V.always(function(ea){ea&&"cancel"===ea.dojoType?T.reject(ea):H(T,!1,M,N)});return T}var I=null,
J,K=u.defaults.io,L=["COM_0056","COM_0057","SB_0008"],O=0,U=/%[0-9A-F]{2}/i,S=function(){var M=new m;M.resolve();return M.promise}();E._makeRequest=C;E._processRequest=H;E._disableCors=y;E._detectCors=D;E.setRequestPreCallback=F;v("extend-esri")&&(k.request=E,k._makeRequest=C,k._processRequest=H,k._disableCors=y,k._detectCors=D,k.setRequestPreCallback=F);return E})},"esri/core/request/script":function(){define("require exports dojo/Deferred dojo/request/script dojo/text!./iframe.html ../sniff".split(" "),
function(G,A,a,m,p,t){function n(){var q=document.createElement("iframe");q.name="esri_core_jsonp_iframe";q.style.display="none";q.setAttribute("sandbox","allow-scripts");if(!t("ff")&&"srcdoc"in q){var x=G.toUrl("dojo/dojo.js"),w=p.replace("../../../dojo/dojo.js",x);x=x.slice(0,-7);w=w.replace("../../../dojo/",x);q.srcdoc=w}else w=G.toUrl("./iframe.html"),"http:"===window.location.protocol&&0===w.indexOf("https:")&&(w=w.replace("https:","http:")),q.src=w;document.body.appendChild(q);return q}function h(){var q=
new MessageChannel;q.port1.addEventListener("message",c);q.port1.start();return q}function c(q){var x=q.data;if("ready"===x){x=0;for(var w=v;x<w.length;x++)q=w[x],e(q,k);v=null}else if(q=g[x.id])delete g[x.id],x.isError?q.dfd.reject(Error(x.message)):q.dfd.resolve(x.response)}function b(q,x){q.addEventListener("load",function(){q.contentWindow.postMessage("init","*",[x.port2])})}function e(q,x){g[q.message.id]=q;x.port1.postMessage(q.message)}Object.defineProperty(A,"__esModule",{value:!0});var f,
k,u=0,v=[],g={};A.get=function(q,x){if(!t("esri-script-sandbox"))return m.get(q,x);var w=null;x&&(w={jsonp:x.jsonp,preventCache:x.preventCache,query:x.query,timeout:x.timeout});x=new a(function(){if(v){var z=v.indexOf(B);-1<z&&v.splice(z,1)}else B.message.id in g&&delete g[B.message.id]});var B={dfd:x,message:{id:"id"+(++u+Math.random()),url:q,options:w}};f||(f=n(),k=h(),b(f,k));v?v.push(B):e(B,k);return x.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e){function f(D,F){D.canDelete&&q._remove(D.id,F.options.frameDoc,!0)}function k(D){y&&y.length&&(p.forEach(y,function(F){q._remove(F.id,F.frameDoc);F.frameDoc=null}),y=[]);return D.options.jsonp?!D.data:!0}function u(D){return!!this.scriptLoaded}function v(D){return(D=D.options.checkString)&&eval("typeof("+D+') !\x3d\x3d "undefined"')}function g(D,F){if(this.canDelete){var H=this.response.options;y.push({id:this.id,frameDoc:H.ioArgs?H.ioArgs.frameDoc:H.frameDoc});H.ioArgs&&
(H.ioArgs.frameDoc=null);H.frameDoc=null}F?this.reject(F):this.resolve(D)}function q(D,F,H){var E=a.parseArgs(D,a.deepCopy({},F));D=E.url;F=E.options;var I=a.deferred(E,f,k,F.jsonp?null:F.checkString?v:u,g);t.mixin(I,{id:x+w++,canDelete:!1});F.jsonp&&((new RegExp("[?\x26]"+F.jsonp+"\x3d")).test(D)||(D+=(~D.indexOf("?")?"\x26":"?")+F.jsonp+"\x3d"+(F.frameDoc?"parent.":"")+x+"_callbacks."+I.id),I.canDelete=!0,C[I.id]=function(L){E.data=L;I.handleResponse(E)});a.notify&&a.notify.emit("send",E,I.promise.cancel);
if(!F.canAttach||F.canAttach(I)){var J=q._attach(I.id,D,F.frameDoc,function(L){if(!(L instanceof Error)){var O=Error("Error loading "+(L.target?L.target.src:"script"));O.source=L;L=O}I.reject(L);q._remove(I.id,F.frameDoc,!0)});if(!F.jsonp&&!F.checkString)var K=n(J,B,function(L){if("load"===L.type||z.test(J.readyState))K.remove(),I.scriptLoaded=L})}A(I);return H?I:I.promise}b.add("script-readystatechange",function(D,F){return"undefined"!==typeof F.createElement("script").onreadystatechange&&("undefined"===
typeof D.opera||"[object Opera]"!==D.opera.toString())});var x=G.id.replace(/[\/\.\-]/g,"_"),w=0,B=b("script-readystatechange")?"readystatechange":"load",z=/complete|loaded/,C=m.global[x+"_callbacks"]={},y=[];q.get=q;q._attach=function(D,F,H,E){H=H||e.doc;var I=H.createElement("script");if(E)n.once(I,"error",E);I.type="text/javascript";try{I.src=F}catch(J){E&&E(I)}I.id=D;I.async=!0;I.charset="utf-8";return H.getElementsByTagName("head")[0].appendChild(I)};q._remove=function(D,F,H){c.destroy(h.byId(D,
F));C[D]&&(H?C[D]=function(){delete C[D]}:delete C[D])};q._callbacksProperty=x+"_callbacks";return q})},"esri/core/sniff":function(){define(["../sniff"],function(G){return G})},"dojo/request/iframe":function(){define("module require ./watch ./util ./handlers ../_base/lang ../io-query ../query ../has ../dom ../dom-construct ../_base/window ../NodeList-dom ../NodeList-manipulate".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f){function k(z){return!this.isFulfilled()}function u(z){return!!this._finished}
function v(z,C){if(!C)try{var y=z.options,D=q.doc(q._frame),F=y.handleAs;if("html"!==F){if("xml"===F)if("html"===D.documentElement.tagName.toLowerCase()){h("a",D.documentElement).orphan();var H=D.documentElement.innerText||D.documentElement.textContent;H=H.replace(/>\s+</g,"\x3e\x3c");z.text=t.trim(H)}else z.data=D;else z.text=D.getElementsByTagName("textarea")[0].value;p(z)}else z.data=D}catch(E){C=E}C?this.reject(C):this._finished?this.resolve(z):this.reject(Error("Invalid dojo/request/iframe request state"))}
function g(z){this._callNext()}function q(z,C,y){var D=m.parseArgs(z,m.deepCreate(B,C),!0);z=D.url;C=D.options;if("GET"!==C.method&&"POST"!==C.method)throw Error(C.method+" not supported by dojo/request/iframe");q._frame||(q._frame=q.create(q._iframeName,w+"();"));z=m.deferred(D,null,k,u,v,g);z._callNext=function(){this._calledNext||(this._calledNext=!0,q._currentDfd=null,q._fireNextRequest())};z._legacy=y;q._dfdQueue.push(z);q._fireNextRequest();a(z);return y?z:z.promise}var x=G.id.replace(/[\/\.\-]/g,
"_"),w=x+"_onload";f.global[w]||(f.global[w]=function(){var z=q._currentDfd;if(z){var C=b.byId(z.response.options.form)||z._tmpForm;if(C){for(var y=z._contentToClean,D=0;D<y.length;D++)for(var F=y[D],H=0;H<C.childNodes.length;H++){var E=C.childNodes[H];if(E.name===F){e.destroy(E);break}}z._originalAction&&C.setAttribute("action",z._originalAction);z._originalMethod&&(C.setAttribute("method",z._originalMethod),C.method=z._originalMethod);z._originalTarget&&(C.setAttribute("target",z._originalTarget),
C.target=z._originalTarget)}z._tmpForm&&(e.destroy(z._tmpForm),delete z._tmpForm);z._finished=!0}else q._fireNextRequest()});var B={method:"POST"};q.create=function(z,C,y){if(f.global[z])return f.global[z];if(f.global.frames[z])return f.global.frames[z];y||(c("config-useXDomain")&&!c("config-dojoBlankHtmlUrl")&&console.warn("dojo/request/iframe: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl to the path on your domain to blank.html"),
y=c("config-dojoBlankHtmlUrl")||A.toUrl("dojo/resources/blank.html"));C=e.place('\x3ciframe id\x3d"'+z+'" name\x3d"'+z+'" src\x3d"'+y+'" onload\x3d"'+C+'" style\x3d"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden"\x3e',f.body());return f.global[z]=C};q.doc=function(z){if(z.contentDocument)return z.contentDocument;var C=z.name;if(C){var y=f.doc.getElementsByTagName("iframe");if(z.document&&y[C].contentWindow&&y[C].contentWindow.document)return y[C].contentWindow.document;
if(f.doc.frames[C]&&f.doc.frames[C].document)return f.doc.frames[C].document}return null};q.setSrc=function(z,C,y){z=f.global.frames[z.name];z.contentWindow&&(z=z.contentWindow);try{y?z.location.replace(C):z.location=C}catch(D){console.log("dojo/request/iframe.setSrc: ",D)}};q._iframeName=x+"_IoIframe";q._notifyStart=function(){};q._dfdQueue=[];q._currentDfd=null;q._fireNextRequest=function(){try{if(!q._currentDfd&&q._dfdQueue.length){do var z=q._currentDfd=q._dfdQueue.shift();while(z&&(z.canceled||
z.isCanceled&&z.isCanceled())&&q._dfdQueue.length);if(!z||z.canceled||z.isCanceled&&z.isCanceled())q._currentDfd=null;else{var C=z.response,y=C.options,D=z._contentToClean=[],F=b.byId(y.form),H=m.notify,E=y.data||null;if(!z._legacy&&"POST"===y.method&&!F)F=z._tmpForm=e.create("form",{name:x+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},f.body());else if("GET"===y.method&&F&&-1<C.url.indexOf("?")){var I=C.url.slice(C.url.indexOf("?")+1);E=t.mixin(n.queryToObject(I),E)}if(F){if(!z._legacy){var J=
F;do J=J.parentNode;while(J&&J!==f.doc.documentElement);J||(F.style.position="absolute",F.style.left="-1000px",F.style.top="-1000px",f.body().appendChild(F));F.name||(F.name=x+"_form")}if(E){J=function(N,T){e.create("input",{type:"hidden",name:N,value:T},F);D.push(N)};for(var K in E){var L=E[K];if(t.isArray(L)&&1<L.length)for(I=0;I<L.length;I++)J(K,L[I]);else{var O=h("input[name\x3d'"+K+"']",F);-1==O.indexOf()?J(K,L):O.val(L)}}}var U=F.getAttributeNode("action"),S=F.getAttributeNode("method"),M=F.getAttributeNode("target");
C.url&&(z._originalAction=U?U.value:null,U?U.value=C.url:F.setAttribute("action",C.url));z._legacy?S&&S.value||(S?S.value=y.method:F.setAttribute("method",y.method)):(z._originalMethod=S?S.value:null,S?S.value=y.method:F.setAttribute("method",y.method));z._originalTarget=M?M.value:null;M?M.value=q._iframeName:F.setAttribute("target",q._iframeName);F.target=q._iframeName;H&&H.emit("send",C,z.promise.cancel);q._notifyStart(C);F.submit()}else y="",C.options.data&&(y=C.options.data,"string"!==typeof y&&
(y=n.objectToQuery(y))),J=C.url+(-1<C.url.indexOf("?")?"\x26":"?")+y,H&&H.emit("send",C,z.promise.cancel),q._notifyStart(C),q.setSrc(q._frame,J,!0)}}}catch(N){z.reject(N)}};m.addCommonMethods(q,["GET","POST"]);return q})},"dojo/NodeList-manipulate":function(){define("./query ./_base/lang ./_base/array ./dom-construct ./dom-attr ./NodeList-dom".split(" "),function(G,A,a,m,p){function t(c){for(;c.childNodes[0]&&1==c.childNodes[0].nodeType;)c=c.childNodes[0];return c}function n(c,b){"string"==typeof c?
(c=m.toDom(c,b&&b.ownerDocument),11==c.nodeType&&(c=c.childNodes[0])):1==c.nodeType&&c.parentNode&&(c=c.cloneNode(!1));return c}var h=G.NodeList;A.extend(h,{_placeMultiple:function(c,b){c="string"==typeof c||c.nodeType?G(c):c;for(var e=[],f=0;f<c.length;f++)for(var k=c[f],u=this.length,v=u-1,g;g=this[v];v--)0<f&&(g=this._cloneNode(g),e.unshift(g)),v==u-1?m.place(g,k,b):k.parentNode.insertBefore(g,k),k=g;e.length&&(e.unshift(0),e.unshift(this.length-1),Array.prototype.splice.apply(this,e));return this},
innerHTML:function(c){return arguments.length?this.addContent(c,"only"):this[0].innerHTML},text:function(c){if(arguments.length){for(var b=0,e;e=this[b];b++)1==e.nodeType&&p.set(e,"textContent",c);return this}var f="";for(b=0;e=this[b];b++)f+=p.get(e,"textContent");return f},val:function(c){if(arguments.length){for(var b=A.isArray(c),e=0,f;f=this[e];e++){var k=f.nodeName.toUpperCase(),u=f.type,v=b?c[e]:c;if("SELECT"==k)for(k=f.options,u=0;u<k.length;u++){var g=k[u];g.selected=f.multiple?-1!=a.indexOf(c,
g.value):g.value==v}else"checkbox"==u||"radio"==u?f.checked=f.value==v:f.value=v}return this}if((f=this[0])&&1==f.nodeType){c=f.value||"";if("SELECT"==f.nodeName.toUpperCase()&&f.multiple){c=[];k=f.options;for(u=0;u<k.length;u++)g=k[u],g.selected&&c.push(g.value);c.length||(c=null)}return c}},append:function(c){return this.addContent(c,"last")},appendTo:function(c){return this._placeMultiple(c,"last")},prepend:function(c){return this.addContent(c,"first")},prependTo:function(c){return this._placeMultiple(c,
"first")},after:function(c){return this.addContent(c,"after")},insertAfter:function(c){return this._placeMultiple(c,"after")},before:function(c){return this.addContent(c,"before")},insertBefore:function(c){return this._placeMultiple(c,"before")},remove:h.prototype.orphan,wrap:function(c){if(this[0]){c=n(c,this[0]);for(var b=0,e;e=this[b];b++){var f=this._cloneNode(c);e.parentNode&&e.parentNode.replaceChild(f,e);t(f).appendChild(e)}}return this},wrapAll:function(c){if(this[0]){c=n(c,this[0]);this[0].parentNode.replaceChild(c,
this[0]);c=t(c);for(var b=0,e;e=this[b];b++)c.appendChild(e)}return this},wrapInner:function(c){if(this[0]){c=n(c,this[0]);for(var b=0;b<this.length;b++){var e=this._cloneNode(c);this._wrap(A._toArray(this[b].childNodes),null,this._NodeListCtor).wrapAll(e)}}return this},replaceWith:function(c){c=this._normalize(c,this[0]);for(var b=0,e;e=this[b];b++)this._place(c,e,"before",0<b),e.parentNode.removeChild(e);return this},replaceAll:function(c){c=G(c);for(var b=this._normalize(this,this[0]),e=0,f;f=
c[e];e++)this._place(b,f,"before",0<e),f.parentNode.removeChild(f);return this},clone:function(){for(var c=[],b=0;b<this.length;b++)c.push(this._cloneNode(this[b]));return this._wrap(c,this,this._NodeListCtor)}});h.prototype.html||(h.prototype.html=h.prototype.innerHTML);return h})},"esri/deferredUtils":function(){define(["dojo/_base/lang","dojo/has","./kernel"],function(G,A,a){var m={_dfdCanceller:function(p){p.canceled=!0;var t=p._pendingDfd;if(!p.isFulfilled()&&t&&!t.isFulfilled()){t.cancel();
var n=t.results&&t.results[1]}p._pendingDfd=null;return n},_fixDfd:function(p){var t=p.then;p.then=function(n,h,c){if(n){var b=n;n=function(e){return e&&e._argsArray?b.apply(null,e):b(e)}}return t.call(this,n,h,c)};return p},_resDfd:function(p,t,n){var h=t.length;1===h?n?p.errback(t[0]):p.callback(t[0]):1<h?(t._argsArray=!0,p.callback(t)):p.callback()}};A("extend-esri")&&G.mixin(a,m);return m})},"esri/layers/TileInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../SpatialReference ../geometry/Point ./LOD".split(" "),
function(G,A,a,m,p,t,n,h,c){G=G(null,{declaredClass:"esri.layers.TileInfo",constructor:function(b){A.mixin(this,b);this.width=this.cols;this.height=this.rows;this._levelToLOD={};b=this.spatialReference;var e=this.origin;b&&(b=this.spatialReference=new n(b.toJson?b.toJson():b));e&&(this.origin=new h(e.toJson?e.toJson():e),!e.spatialReference&&b&&this.origin.setSpatialReference(new n(b.toJson())));this.lods=a.map(this.lods,function(u){return new c(u)});a.forEach(this.lods,function(u){this._levelToLOD[u.level]=
u},this);b=!1;e=this.spatialReference;var f=this.origin;if(e&&f){var k=e._getInfo();k&&(b=e._isWrappable()&&Math.abs(k.origin[0]-f.x)<=k.dx)}this.isWrappable=b;this._initializeUpsampleLevels()},toJson:function(){return t.fixJson({rows:this.rows,cols:this.cols,dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin&&this.origin.toJson(),spatialReference:this.spatialReference&&this.spatialReference.toJson(),lods:this.lods&&a.map(this.lods,function(b){return b.toJson()})})},
lodAt:function(b){return this._levelToLOD&&this._levelToLOD[b]||null},updateTileInfo:function(b){var e=this.lodAt(b.level),f=e.resolution*this.width;e=e.resolution*this.height;b.id=b.level+"/"+b.row+"/"+b.col;b.extent||(b.extent=[0,0,0,0]);b.extent[0]=this.origin.x+b.col*f;b.extent[1]=this.origin.y-(b.row+1)*e;b.extent[2]=b.extent[0]+f;b.extent[3]=b.extent[1]+e},upsampleTile:function(b){var e=this._upsampleLevels[b.level];if(!e||-1===e.parentLevel)return!1;b.level=e.parentLevel;b.row=Math.floor(b.row/
e.factor+.001);b.col=Math.floor(b.col/e.factor+.001);this.updateTileInfo(b);return!0},_initializeUpsampleLevels:function(){var b=this.lods;this._upsampleLevels=[];for(var e=null,f=0;f<b.length;f++){var k=b[f];this._upsampleLevels[k.level]={parentLevel:e?e.level:-1,factor:e?e.resolution/k.resolution:0};e=k}}});m("extend-esri")&&A.setObject("layers.TileInfo",G,p);return G})},"esri/layers/LOD":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(G,A,a,
m,p){G=G(null,{declaredClass:"esri.layers.LOD",constructor:function(t){A.mixin(this,t)},toJson:function(){return p.fixJson({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}});a("extend-esri")&&A.setObject("layers.LOD",G,m);return G})},"esri/layers/unitBezier":function(){define([],function(){var G=function(a,m,p,t){function n(u,v){var g;v=null==v?1E-6:v;var q=u;for(g=0;8>g;g++){var x=((b*q+c)*q+h)*q-u;if(Math.abs(x)<v)return q;var w=(3*b*q+2*c)*q+h;if(1E-6>
Math.abs(w))break;q-=x/w}w=0;g=1;q=u;if(q<w)return w;if(q>g)return g;for(;w<g;){x=((b*q+c)*q+h)*q;if(Math.abs(x-u)<v)break;u>x?w=q:g=q;q=.5*(g-w)+w}return q}var h=3*a,c=3*(p-a)-h,b=1-h-c,e=3*m,f=3*(t-m)-e,k=1-e-f;return function(u,v){u=n(u,v);return((k*u+f)*u+e)*u}},A=/^cubic-bezier\((.*)\)/;G.parse=function(a){var m=G[a]||null;!m&&(a=A.exec(a))&&(a=a[1].split(",").map(function(p){return parseFloat(p.trim())}),4!==a.length||a.some(function(p){return isNaN(p)})||(m=G.apply(G,a)));return m};G.ease=
G(.25,.1,.25,1);G.linear=G(0,0,1,1);G.easeIn=G["ease-in"]=G(.42,0,1,1);G.easeOut=G["ease-out"]=G(0,0,.58,1);G.easeInOut=G["ease-in-out"]=G(.42,0,.58,1);return G})},"esri/layers/vectorTiles/request":function(){define(["require","exports","esri/request","dojo/_base/lang","dojo/Deferred"],function(G,A,a,m,p){return function(t,n){t=m.mixin({},{url:t,failOk:!0},n);"array-buffer"===n.responseType?(t.handleAs="arraybuffer",delete t.responseType):n.responseType&&(t.handleAs=n.responseType,delete t.responseType);
null!==n.query&&(t.content=t.query,delete t.query);if(n.hasOwnProperty("allowImageDataAccess")){var h={allowImageDataAccess:n.allowImageDataAccess};delete t.allowImageDataAccess}var c=new p(function(){b.isFulfilled()||b.cancel()});var b=a(t,h).then(function(e){c.resolve({data:e})}).catch(function(e){e&&null!=e.httpCode&&(e.details=e.details||{},e.details.httpStatus=e.httpCode);c.reject(e)});return c.promise}})},"esri/layers/vectorTiles/core/promiseUtils":function(){define("require exports dojo/Deferred dojo/when dojo/promise/all ./Error".split(" "),
function(G,A,a,m,p,t){function n(h){if(h){if("function"!==typeof h.forEach){var c=Object.keys(h),b=c.map(function(u){return h[u]});return n(b).then(function(u){var v={};c.forEach(function(g,q){return v[g]=u[q]});return v})}var e=new a,f=[],k=h.length;0===k&&e.resolve(f);h.forEach(function(u){var v={promise:u};f.push(v);u.then(function(g){v.value=g}).catch(function(g){v.error=g}).then(function(){--k;0===k&&e.resolve(f)})});return e.promise}}Object.defineProperty(A,"__esModule",{value:!0});A.all=function(h){return p(h)};
A.filter=function(h,c){var b=h.slice();return p(h.map(function(e,f){return c(e,f)})).then(function(e){return b.filter(function(f,k){return e[k]})})};A.eachAlways=n;A.create=function(h,c){var b=new a(c);h(function(e){void 0===e&&(e=null);return m(e).then(b.resolve)},b.reject);return b.promise};A.reject=function(h){var c=new a;c.reject(h);return c.promise};A.resolve=function(h){void 0===h&&(h=null);var c=new a;c.resolve(h);return c.promise};A.after=function(h,c){void 0===c&&(c=null);var b=0,e=new a(function(){b&&
(clearTimeout(b),b=0)});b=setTimeout(function(){e.resolve(c)},h);return e.promise};A.timeout=function(h,c,b){var e=0,f=new a(h.cancel);h.then(function(k){f.isFulfilled()||(f.resolve(k),e&&(clearTimeout(e),e=0))});h.catch(function(k){f.isFulfilled()||(f.reject(k),e&&(clearTimeout(e),e=0))});e=setTimeout(function(){var k=b||new t("promiseUtils:timeout","The wrapped promise did not resolve within "+c+" ms");f.reject(k)},c);return f.promise};A.wrapCallback=function(h){var c=!1,b=new a(function(){return c=
!0});h(function(e){c||b.resolve(e)});return b.promise};A.isThenable=function(h){return h&&"function"===typeof h.then};A.when=function(h){return m(h)}})},"esri/layers/vectorTiles/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper","./lang","./Message"],function(G,A,a,m,p){G=function(t){function n(h,c,b){var e=t.call(this,h,c,b)||this;return e instanceof n?e:new n(h,c,b)}a(n,t);n.prototype.toJSON=function(){return{name:this.name,message:this.message,details:m.clone(this.details),
dojoType:this.dojoType}};n.fromJSON=function(h){var c=new n(h.name,h.message,h.details);null!=h.dojoType&&(c.dojoType=h.dojoType);return c};return n}(p);G.prototype.type="error";return G})},"esri/layers/vectorTiles/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,a){A.__proto__=a}||function(A,a){for(var m in a)a.hasOwnProperty(m)&&(A[m]=a[m])};return function(A,a){function m(){this.constructor=A}
G(A,a);A.prototype=null===a?Object.create(a):(m.prototype=a.prototype,new m)}}()})},"esri/layers/vectorTiles/core/lang":function(){define("dojo/_base/kernel dojo/_base/lang dojo/date dojo/number dojo/date/locale dojo/i18n!../nls/common".split(" "),function(G,A,a,m,p,t){function n(u){return void 0!==u&&null!==u}function h(u){return n(u)?u:""}function c(u,v,g){var q=g.match(/([^\(]+)(\([^\)]+\))?/i),x=A.trim(q[1]);g=v[u];q=JSON.parse((q[2]?A.trim(q[2]):"{}").replace(/^\(/,"{").replace(/\)$/,"}").replace(/([{,])\s*([0-9a-zA-Z_]+)\s*:/gi,
'$1"$2":').replace(/"\s*:\s*'/gi,'":"').replace(/'\s*(,|\})/gi,'"$1'));var w=q.utcOffset;if(-1===f.indexOf(x))x=A.getObject(x),A.isFunction(x)&&(g=x(g,u,v,q));else if("number"===typeof g||"string"===typeof g&&g&&!isNaN(Number(g)))switch(g=Number(g),x){case "NumberFormat":u=A.mixin({},q);v=parseFloat(u.places);if(isNaN(v)||0>v)u.places=Infinity;return m.format(g,u);case "DateString":g=new Date(g);if(q.local||q.systemLocale)return q.systemLocale?g.toLocaleDateString()+(q.hideTime?"":" "+g.toLocaleTimeString()):
g.toDateString()+(q.hideTime?"":" "+g.toTimeString());g=g.toUTCString();q.hideTime&&(g=g.replace(/\s+\d\d:\d\d:\d\d\s+(utc|gmt)/i,""));return g;case "DateFormat":return g=new Date(g),n(w)&&(g=a.add(g,"minute",g.getTimezoneOffset()-w)),p.format(g,q)}return h(g)}function b(u,v){var g;if(v)for(g in u)u.hasOwnProperty(g)&&(void 0===u[g]?delete u[g]:u[g]instanceof Object&&b(u[g],!0));else for(g in u)u.hasOwnProperty(g)&&void 0===u[g]&&delete u[g];return u}function e(u){if(!u||"object"!=typeof u||A.isFunction(u))return u;
if(u instanceof Int8Array||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Int32Array||u instanceof Uint16Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array||u instanceof Date)return new u.constructor(u);if(u instanceof ArrayBuffer)return u.slice(0,u.byteLength);if("function"===typeof u.clone)u=u.clone();else if("function"===typeof u.map&&"function"===typeof u.forEach)u=u.map(e);else if("function"===typeof u.notifyChange&&
"function"===typeof u.watch)u=u.clone();else{var v={},g,q={};for(g in u){var x=u[g];var w=!(g in q)||q[g]!==x;if(!(g in v)||v[g]!==x&&w)v[g]=e?e(x):x}u=v}return u}var f=["NumberFormat","DateString","DateFormat"],k=/<\/?[^>]+>/g;return{equals:function(u,v){return u===v||"number"===typeof u&&isNaN(u)&&"number"===typeof v&&isNaN(v)||A.isFunction((u||{}).getTime)&&A.isFunction((v||{}).getTime)&&u.getTime()==v.getTime()||A.isFunction((u||{}).equals)&&u.equals(v)||A.isFunction((v||{}).equals)&&v.equals(u)||
!1},mixin:A.mixin,valueOf:function(u,v){for(var g in u)if(u[g]==v)return g;return null},stripTags:function(u){if(u){var v=typeof u;if("string"===v)u=u.replace(k,"");else if("object"===v)for(var g in u)(v=u[g])&&"string"===typeof v&&(v=v.replace(k,"")),u[g]=v}return u},substitute:function(u,v,g){if(n(g))if(A.isObject(g)){var q=g.first;var x=g.dateFormat;var w=g.numberFormat}else q=g;if(v&&"{*}"!==v)return A.replace(v,A.hitch({obj:u},function(z,C){z=C.split(":");return 1<z.length?(C=z[0],z.shift(),
c(C,this.obj,z.join(":"))):x&&-1!==(x.properties||[]).indexOf(C)?c(C,this.obj,x.formatter||"DateString"):w&&-1!==(w.properties||[]).indexOf(C)?c(C,this.obj,w.formatter||"NumberFormat"):h(this.obj[C])}));v=[];var B;v.push('\x3ctable class\x3d"esri-widget__table" summary\x3d"'+t.fieldsSummary+'"\x3e\x3ctbody\x3e');for(B in u)if(g=u[B],x&&-1!==(x.properties||[]).indexOf(B)?g=c(B,u,x.formatter||"DateString"):w&&-1!==(w.properties||[]).indexOf(B)&&(g=c(B,u,w.formatter||"NumberFormat")),v.push("\x3ctr\x3e\x3cth\x3e"+
B+"\x3c/th\x3e\x3ctd\x3e"+h(g)+"\x3c/td\x3e\x3c/tr\x3e"),q)break;v.push("\x3c/tbody\x3e\x3c/table\x3e");return v.join("")},filter:function(u,v,g){v=[A.isString(u)?u.split(""):u,g||G.global,A.isString(v)?new Function("item","index","array",v):v];g={};var q;u=v[0];for(q in u)v[2].call(v[q],u[q],q,u)&&(g[q]=u[q]);return g},startsWith:function(u,v,g){g=g||0;return u.indexOf(v,g)===g},endsWith:function(u,v,g){if("number"!==typeof g||!isFinite(g)||Math.floor(g)!==g||g>u.length)g=u.length;g-=v.length;u=
u.indexOf(v,g);return-1!==u&&u===g},isDefined:n,fixJson:b,clone:e}})},"esri/layers/vectorTiles/core/Message":function(){define(["require","exports","dojo/string"],function(G,A,a){return function(){function m(p,t,n){this instanceof m&&(this.name=p,this.message=t&&a.substitute(t,n,function(h){return null==h?"":h})||"",this.details=n)}m.prototype.toString=function(){return"["+this.name+"]: "+this.message};return m}()})},"esri/layers/vectorTiles/core/urlUtils":function(){define(["require","exports","esri/urlUtils",
"dojo/_base/url"],function(G,A,a,m){function p(B){return a.normalize(B)}function t(B){return"data:"===B.slice(0,5)}function n(B){return h(B)||x.test(B)}function h(B){return B&&"/"===B[0]&&"/"===B[1]}function c(B){return a.urlToObject(B)}function b(B){if("string"===typeof B)return new m(f(B));B.scheme||(B.scheme=A.appUrl.scheme);return B}function e(B){if(t(B))return null;var z=B.indexOf("://");if(-1===z&&h(B))z=2;else if(-1!==z)z+=3;else return null;z=B.indexOf("/",z);return-1===z?B:B.slice(0,z)}function f(B,
z,C){void 0===z&&(z=A.appBaseUrl);if(h(B))return C&&C.preserveProtocolRelative?B:"http"===A.appUrl.scheme&&A.appUrl.authority===e(B).slice(2)?"http:"+B:"https:"+B;if(x.test(B))return B;"/"===B[0]&&(C=z.indexOf("//"),C=z.indexOf("/",C+2),z=-1===C?z:z.slice(0,C));return u(z,B)}function k(B,z,C){void 0===C&&(C=!1);B=b(B);z=b(z);return C||B.scheme===z.scheme?B.host.toLowerCase()===z.host.toLowerCase()&&B.port===z.port:!1}function u(){for(var B=[],z=0;z<arguments.length;z++)B[z]=arguments[z];if(B&&B.length){z=
[];if(n(B[0])){var C=B[0],y=C.indexOf("//");z.push(C.slice(0,y+1));q.test(B[0])&&(z[0]+="/");B[0]=C.slice(y+2)}else"/"===B[0][0]&&z.push("");B=B.reduce(function(D,F){return F?D.concat(F.split("/")):D},[]);for(C=0;C<B.length;C++)y=B[C],".."===y&&0<z.length?z.pop():!y||"."===y&&0!==z.length||z.push(y);return z.join("/")}}function v(B,z,C){if(!(z&&C&&B&&n(B)))return B;var y=B.indexOf("//"),D=B.indexOf("/",y+2),F=B.indexOf(":",y+2);D=Math.min(0>D?B.length:D,0>F?B.length:F);if(B.slice(y+2,D).toLowerCase()!==
z.toLowerCase())return B;z=B.slice(0,y+2);B=B.slice(D);return""+z+C+B}function g(B,z,C){void 0===z&&(z=A.appBaseUrl);if(!n(B))return B;var y=p(B),D=y.toLowerCase();z=p(z).toLowerCase().replace(/\/+$/,"");if((C=C?p(C).toLowerCase().replace(/\/+$/,""):null)&&0!==z.indexOf(C))return B;for(var F=function(I,J,K){K=I.indexOf(J,K);return-1===K?I.length:K},H=F(D,"/",D.indexOf("//")+2),E=-1;D.slice(0,H+1)===z.slice(0,H)+"/";){E=H+1;if(H===D.length)break;H=F(D,"/",H+1)}if(-1===E||C&&E<C.length)return B;B=y.slice(E);
y=z.slice(E-1).replace(/[^/]+/g,"").length;if(0<y)for(D=0;D<y;D++)B="../"+B;else B="./"+B;return B}Object.defineProperty(A,"__esModule",{value:!0});A.normalize=p;A.canUseXhr=function(B){return a.canUseXhr(B)};A.removeTrailingSlash=function(B){return B.replace(/\/+$/,"")};G=Function("return this")();A.appUrl=new m(G.location);A.appBaseUrl=function(){var B=A.appUrl.path;B=B.substring(0,B.lastIndexOf(B.split("/")[B.split("/").length-1]));return A.appUrl.scheme+"://"+A.appUrl.host+(null!=A.appUrl.port?
":"+A.appUrl.port:"")+B}();var q=/^\s*file:/i,x=/^\s*[a-z][a-z0-9-+.]*:[^0-9]/i;A.isDataProtocol=t;A.isAbsolute=n;A.isProtocolRelative=h;A.urlToObject=c;A.getOrigin=e;A.makeAbsolute=f;A.hasSameOrigin=k;A.join=u;A.removeFile=function(B){var z=0;if(n(B)){var C=B.indexOf("//");-1!==C&&(z=C+2)}C=B.lastIndexOf("/");return C<z?B:B.slice(0,C+1)};A.addProxy=function(B){return a.addProxy(B)};A.makeData=function(B){return B.isBase64?"data:"+B.mediaType+";base64,"+B.data:"data:"+B.mediaType+","+B.data};var w=
/^data:(.*?)(;base64)?,(.*)$/;A.dataComponents=function(B){return(B=B.match(w))?{mediaType:B[1],isBase64:!!B[2],data:B[3]}:null};A.changeDomain=v;A.read=function(B,z){var C=z&&z.url&&z.url.path;B&&C&&(B=f(B,C,{preserveProtocolRelative:!0}));(z=z&&z.portal)&&!z.isPortal&&z.urlKey&&z.customBaseUrl?(C=z.urlKey+"."+z.customBaseUrl,z=k(A.appUrl,A.appUrl.scheme+"://"+C)?v(B,z.portalHostname,C):v(B,C,z.portalHostname)):z=B;return z};A.write=function(B,z){if(!B)return B;!n(B)&&z&&z.blockedRelativeUrls&&z.blockedRelativeUrls.push(B);
var C=f(B);if(z){var y=z.verifyItemRelativeUrls&&z.verifyItemRelativeUrls.rootPath||z.url&&z.url.path;y&&(C=g(C,y,y),C!==B&&z.verifyItemRelativeUrls&&z.verifyItemRelativeUrls.writtenUrls.push(C))}B=C;C=(z=z&&z.portal)&&!z.isPortal&&z.urlKey&&z.customBaseUrl?v(B,z.urlKey+"."+z.customBaseUrl,z.portalHostname):B;return C};A.makeRelative=g;A.removeQueryParameters=function(B){B=c(B);Object.keys(B.query||{});return B.path}})},"esri/layers/vectorTiles/geometry/support/spatialReferenceUtils":function(){define(["require",
"exports","./WKIDUnitConversion"],function(G,A,a){function m(c){return c.wkid&&!0===p[c.wkid]}Object.defineProperty(A,"__esModule",{value:!0});var p={102113:!0,102100:!0,3857:!0,3785:!0},t={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};G=[-2.0037508342788905E7,2.0037508342788905E7];var n=[-2.0037508342787E7,2.0037508342787E7],h={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:G,origin:n,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:G,origin:n,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:G,origin:n,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:G,origin:n,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};A.equals=function(c,b){if(b){if(c===b)return!0;if(null!=c.wkid||null!=b.wkid)return c.wkid===b.wkid||m(c)&&m(b)||null!=b.latestWkid&&c.wkid===b.latestWkid||null!=c.latestWkid&&b.wkid===c.latestWkid;if(c.wkt&&b.wkt)return c.wkt.toUpperCase()===b.wkt.toUpperCase()}return!1};A.getInfo=function(c){return c.wkid?h[c.wkid]:null};A.isGeographic=function(c){return c.wkid?null==a[c.wkid]:c.wkt?!!/^\s*GEOGCS/i.test(c.wkt):!1};A.isWGS84=function(c){return 4326===
c.wkid};A.isWebMercator=m;A.isWrappable=function(c){return c.wkid&&!0===t[c.wkid]}})},"esri/layers/vectorTiles/geometry/support/WKIDUnitConversion":function(){define(["esri/WKIDUnitConversion"],function(G){return G})},"esri/layers/vectorTiles/layers/support/vectorTileLayerLoader":function(){define("require exports ../../core/tsSupport/assignHelper ../../config ../../request ../../core/promiseUtils ../../core/urlUtils".split(" "),function(G,A,a,m,p,t,n){function h(f){f&&(f=n.getOrigin(f),n.canUseXhr(f)||
-1!==e.indexOf(f)||e.push(f))}function c(){for(var f=[],k=0;k<arguments.length;k++)f[k]=arguments[k];k=void 0;for(var u=0;u<f.length;++u)n.isProtocolRelative(f[u])?k&&(k=k.split("://")[0]+":"+f[u].trim()):k=n.isAbsolute(f[u])?f[u]:n.join(k,f[u]);return k}function b(f,k,u){var v;if("string"===typeof k){k=n.normalize(k);h(k);var g=n.urlToObject(k);g=p(g.path,{query:{f:"json"},responseType:"json"});var q=v=k}else g=t.resolve({data:k}),v=k.jsonUrl||null,q=u;return g.then(function(x){var w=x.data;x.ssl&&
(v&&(v=v.replace(/^http:/i,"https:")),q&&(q=q.replace(/^http:/i,"https:")));if(w.sources){f.styleUrl=v||null;x=q?n.removeFile(q):n.appBaseUrl;f.styleBase=x;f.style=w;f.styleUrl&&h(f.styleUrl);if(f.source)w=t.resolve();else{b:if(w=w.sources,w.esri)w=w.esri;else{for(var B=0,z=Object.keys(w);B<z.length;B++){var C=z[B];if("vector"===w[C].type){w=w[C];break b}}w=null}w=w.url?b(f,c(x,w.url)):b(f,w,x)}return w}if(w.sources)return t.reject("You must specify the URL or the JSON for a service or for a style.");
f.sourceUrl=v||null;x=q?n.removeTrailingSlash(q)+"/":n.appBaseUrl;f.sourceBase=x;f.source=w;if(w.hasOwnProperty("tileInfo"))B=w;else{B={xmin:-2.0037507067161843E7,ymin:-2.0037507067161843E7,xmax:2.0037507067161843E7,ymax:2.0037507067161843E7,spatialReference:{wkid:102100}};C=(B.xmax-B.xmin)/512;z=[];for(var y=w.hasOwnProperty("minzoom")?parseFloat(w.minzoom):0,D=w.hasOwnProperty("maxzoom")?parseFloat(w.maxzoom):16;y<D;y++){var F=C/Math.pow(2,y);z.push({level:y,scale:Math.floor(3779.527559055118*F),
resolution:F})}C=0;for(D=w.tiles;C<D.length;C++)h(c(x,D[C]));B={capabilities:"TilesOnly",initialExtent:B,fullExtent:B,minScale:z[0].scale,maxScale:z[z.length-1].scale,tiles:w.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",origin:{x:-2.0037508342787E7,y:2.0037508342787E7},lods:z,spatialReference:{wkid:102100}}}}f.validatedSource=B;f.sourceUrl&&h(f.sourceUrl);w=f.style?t.resolve():null==w.defaultStyles?t.reject():"string"===typeof w.defaultStyles?b(f,c(x,w.defaultStyles,"root.json")):b(f,w.defaultStyles,
c(x,"root.json"));return w})}Object.defineProperty(A,"__esModule",{value:!0});var e=m.defaults&&m.defaults.io.corsEnabledServers||m.request.corsEnabledServers;A.loadMetadata=function(f){var k={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null},u="string"===typeof f?[f,null]:[null,f.jsonUrl],v=u[0];u=u[1];var g=v?n.urlToObject(v):null;return b(k,f,u).then(function(){var q={layerDefinition:k.validatedSource,url:v,parsedUrl:g,serviceUrl:k.sourceUrl,
style:k.style,styleUrl:k.styleUrl,spriteUrl:k.style.sprite&&c(k.styleBase,k.style.sprite),glyphsUrl:k.style.glyphs&&c(k.styleBase,k.style.glyphs)};h(q.spriteUrl);h(q.glyphsUrl);return q})}})},"esri/layers/vectorTiles/core/tsSupport/assignHelper":function(){define([],function(){return Object.assign||function(G){for(var A,a=1,m=arguments.length;a<m;a++){A=arguments[a];for(var p in A)Object.prototype.hasOwnProperty.call(A,p)&&(G[p]=A[p])}return G}})},"esri/layers/vectorTiles/config":function(){define(["require",
"exports","esri/config"],function(G,A,a){Object.defineProperty(a,"workers",{get:function(){return a.defaults.workers},set:function(m){return a.defaults.workers=m}});return a})},"esri/layers/vectorTiles/layers/support/TilemapCache":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/io-query ../../request ../../core/Accessor ../../core/Error ../../core/Handles ../../core/Logger ../../core/LRUMap ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ./Tilemap".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g){var q=e.getLogger("esri.layers.support.TilemapCache");return function(x){function w(B){B=x.call(this)||this;B._handles=new b;B._pendingTilemapRequests={};B._availableLevels={};B.levels=5;B.cacheByteSize=2097152;B.request=n;return B}m(w,x);w.prototype.initialize=function(){var B=this;this._tilemapCache=new f(this.cacheByteSize,{sizeOfFunction:function(z){return z.byteSize}});this._handles.add([this.watch(["layer.parsedUrl","layer.tileServers"],function(){return B._initializeTilemapDefinition()}),
u.init(this,"layer.tileInfo.lods",function(z){return B._initializeAvailableLevels(z)},!0)]);this._initializeTilemapDefinition()};w.prototype.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null)};w.prototype.castLevels=function(B){return 2>=B?(q.error("Minimum levels for Tilemap is 3, but got ",B),3):B};Object.defineProperty(w.prototype,"size",{get:function(){return 1<<this.levels},enumerable:!0,configurable:!0});w.prototype.getTilemap=function(B,z,C){return this._tilemapFromCache(B,
z,C,this._tmpTilemapDefinition)};w.prototype.fetchTilemap=function(B,z,C,y){var D=this;if(!this._availableLevels[B])return k.reject(new c("tilemap-cache:level-unavailable","Level "+B+" is unavailable in the service"));var F=this._tmpTilemapDefinition;if(B=this._tilemapFromCache(B,z,C,F))return k.resolve(B);var H=g.tilemapDefinitionId(F),E=this._pendingTilemapRequests[H];E||(E=g.Tilemap.fromDefinition(F,y).then(function(I){D._tilemapCache.set(H,I);delete D._pendingTilemapRequests[H];return I}).catch(function(I){delete D._pendingTilemapRequests[H];
return k.reject(I)}),this._pendingTilemapRequests[H]=E);return k.create(function(I,J){E.then(I,J)})};w.prototype.getAvailability=function(B,z,C){return this._availableLevels[B]?(B=this.getTilemap(B,z,C))?B.getAvailability(z,C):"unknown":"unavailable"};w.prototype.getAvailabilityUpsample=function(B,z,C,y){y.level=B;y.row=z;y.col=C;B=this.layer.tileInfo;for(B.updateTileInfo(y);;)if(z=this.getAvailability(y.level,y.row,y.col),"unavailable"===z){if(!B.upsampleTile(y))return"unavailable"}else return z};
w.prototype.fetchAvailability=function(B,z,C,y){return this._availableLevels[B]?this.fetchTilemap(B,z,C,y).always(function(D){return D instanceof g.Tilemap?(D=D.getAvailability(z,C),"unavailable"===D?k.reject(new c("tile-map:tile-unavailable","Tile is not available",{level:B,row:z,col:C})):D):D&&"cancel"===D.dojoType?k.reject(D):"unknown"}):k.reject(new c("tilemap-cache:level-unavailable","Level "+B+" is unavailable in the service"))};w.prototype.fetchAvailabilityUpsample=function(B,z,C,y,D){var F=
this;y.level=B;y.row=z;y.col=C;var H=this.layer.tileInfo;H.updateTileInfo(y);return this.fetchAvailability(B,z,C,D).catch(function(E){return E&&"cancel"===E.dojoType?k.reject(E):H.upsampleTile(y)?F.fetchAvailabilityUpsample(y.level,y.row,y.col,y):k.reject(E)})};w.prototype._initializeTilemapDefinition=function(){if(this.layer.parsedUrl){var B=this.layer.parsedUrl,z=B.query;z&&z.token||!this.layer.token||(z=a({},z,{token:this.layer.token}));this._tilemapCache.clear();this._tmpTilemapDefinition={service:{url:B.path,
query:z?t.objectToQuery(z):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}};w.prototype._tilemapFromCache=function(B,z,C,y){B=this._getTilemapDefinition(B,z,C,y);B=g.tilemapDefinitionId(B);return this._tilemapCache.get(B)};w.prototype._getTilemapDefinition=function(B,z,C,y){y.level=B;y.row=z-z%this.size;y.col=C-C%this.size;return y};w.prototype._initializeAvailableLevels=function(B){var z=this;this._availableLevels=
{};B&&B.forEach(function(C){return z._availableLevels[C.level]=!0})};p([v.property({constructOnly:!0,type:Number})],w.prototype,"levels",void 0);p([v.cast("levels")],w.prototype,"castLevels",null);p([v.property({readOnly:!0,dependsOn:["levels"],type:Number})],w.prototype,"size",null);p([v.property({constructOnly:!0,type:Number})],w.prototype,"cacheByteSize",void 0);p([v.property({constructOnly:!0})],w.prototype,"layer",void 0);p([v.property({constructOnly:!0})],w.prototype,"request",void 0);return w=
p([v.subclass("esri.layers.support.TilemapCache")],w)}(v.declared(h))})},"esri/layers/vectorTiles/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(G,A){return function(a,m){a.__bases__=m.__bases__}})},"esri/layers/vectorTiles/core/tsSupport/decorateHelper":function(){define([],function(){return function(G,A,a,m){var p=arguments.length,t=3>p?A:null===m?m=Object.getOwnPropertyDescriptor(A,a):m,n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)t=
Reflect.decorate(G,A,a,m);else for(var h=G.length-1;0<=h;h--)if(n=G[h])t=(3>p?n(t):3<p?n(A,a,t):n(A,a))||t;return 3<p&&t&&Object.defineProperty(A,a,t),t}})},"esri/layers/vectorTiles/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch".split(" "),function(G,A,a,m,p,t){A=A.default;G.before(function(h,c){G.hasMixin(h,n)&&m.processPrototype(c)});G.after(function(h){G.hasMixin(h,n)&&
(m.processClass(h),Object.defineProperties(h.prototype,{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var n=G(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===n)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new A(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var h=[],c=0;c<arguments.length;c++)h.push(arguments[c]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,h)}},__accessor__:null,postscript:function(h){var c=this.__accessor__;h=c.ctorArgs||h;if(null!=this.getDefaults){var b=this.getDefaults(h||{});this.set(b)}c.initialize();h&&(this.set(h),c.ctorArgs=null);c.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(h){console.warn(h.stack)}else t.removeTarget(this),this.__accessor__.destroy()},get:function(h){return a.get(this,h)},hasOwnProperty:function(h){return this.__accessor__?this.__accessor__.has(h):Object.prototype.hasOwnProperty.call(this,h)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(h,c){p.set(this,h,c);return this},watch:function(h,c,b){return t.watch(this,h,c,b)},_clearOverride:function(h){return this.__accessor__.clearOverride(h)},_override:function(h,
c){return this.__accessor__.override(h,c)},_isOverridden:function(h){return this.__accessor__.isOverridden(h)},notifyChange:function(h){this.__accessor__.propertyInvalidated(h)},_get:function(h){return this.__accessor__.internalGet(h)},_set:function(h,c){return this.__accessor__.internalSet(h,c)}});return n})},"esri/layers/vectorTiles/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(G,A,a){function m(h,c){h&&!Array.isArray(h)&&"function"!==typeof h&&(c=h,h=null);
h=h||[];c=c||{};return p([this].concat(h),c)}function p(h,c){h&&!Array.isArray(h)&&"function"!==typeof h&&(c=h,h=null);"function"===typeof h?h=[h]:h||(h=[]);c=c||{};var b;var e=0;for(b=t.length;e<b;e++)t[e](h,c);h=a(h,c);h.createSubclass=m;e=0;for(b=n.length;e<b;e++)n[e](h);return h}var t=[],n=[];(function(h){h.hasMixin=function(c,b){c=Array.isArray(c)?c.reduce(function(f,k){return k._meta?f.concat(k._meta.bases):f},[]):c._meta?c._meta.bases:c;if(!c)return!1;if("string"===typeof b)for(var e=c.length-
1;0<=e;e--)if(c[e].prototype.declaredClass===b)return!0;return-1!==c.indexOf(b)};h.safeMixin=function(c,b){return a.safeMixin(c,b)};h.before=function(c){t.push(c)};h.after=function(c){n.push(c)}})(p||(p={}));return p})},"esri/layers/vectorTiles/core/accessorSupport/Properties":function(){define("require exports dojo/has ../Logger ./extensions ./PropertyOrigin ./Store".split(" "),function(G,A,a,m,p,t,n){function h(e,f){return f.metadatas[e]?!0:(a("dojo-debug-messages")&&b.warn("cannot access unknown property '"+
e+"' on instance of "+f.host.declaredClass+"."),!1)}function c(e,f,k,u){return e.nonNullable&&null==k?(a("dojo-debug-messages")&&b.warn("cannot set non-nullable property '"+f+"' to null on "+u.host.declaredClass+"."),!1):!0}Object.defineProperty(A,"__esModule",{value:!0});var b=m.getLogger("esri.core.accessorSupport.Properties");G=function(){function e(f){this.host=f;this._origin=t.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;
this.store=new n.default;f=this.host.constructor.__accessorMetadata__;this.metadatas=f.properties;this.autoDestroy=f.autoDestroy}e.prototype.initialize=function(){this.lifecycle=1;p.instanceCreated(this.host,this.metadatas)};e.prototype.constructed=function(){this.lifecycle=2};e.prototype.destroy=function(){this.destroyed=!0;var f=this.cursors;if(this.cursors)for(var k=0,u=Object.getOwnPropertyNames(f);k<u.length;k++){var v=u[k],g=f[v];if(g){for(;0<g.length;)g.pop().propertyDestroyed(this,v);f[v]=
null}}if(this.autoDestroy)for(v in this.metadatas)(f=this.internalGet(v))&&f&&"function"===typeof f.destroy&&(f.destroy(),this.metadatas[v].nonNullable||this.internalSet(v,null))};Object.defineProperty(e.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,configurable:!0});e.prototype.clearOverride=function(f){this.isOverridden(f)&&(this.overridden[f]=!1,this.propertyInvalidated(f))};e.prototype.get=function(f){h(f,this);var k=this.metadatas[f];if(this.store.has(f)&&!this.dirties[f])return this.store.get(f);
var u=k.get;return u?(k=u.call(this.host),this.store.set(f,k,t.OriginId.COMPUTED),this.propertyCommitted(f),k):k.value};e.prototype.originOf=function(f){var k=this.store.originOf(f);return void 0===k&&(f=this.metadatas[f])&&f.hasOwnProperty("value")?"defaults":t.idToName(k)};e.prototype.has=function(f){return this.metadatas[f]?this.store.has(f):!1};e.prototype.internalGet=function(f){if(h(f,this)){var k=this.store;return k.has(f)?k.get(f):this.metadatas[f].value}};e.prototype.internalSet=function(f,
k){h(f,this)&&(this.propertyInvalidated(f),this.initialized?this.store.set(f,k,this._origin):this.store.set(f,k,t.OriginId.DEFAULTS),this.propertyCommitted(f))};e.prototype.isOverridden=function(f){return null!=this.overridden&&!0===this.overridden[f]};e.prototype.keys=function(){return this.store.keys()};e.prototype.override=function(f,k){if(h(f,this)){this.overridden||(this.overridden={});var u=this.metadatas[f];c(u,f,k,this)&&((u=u.cast)&&(k=u.call(this.host,k)),this.overridden[f]=!0,this.internalSet(f,
k))}};e.prototype.set=function(f,k){if(h(f,this)){var u=this.metadatas[f];if(c(u,f,k,this)){var v=u.set;(u=u.cast)&&(k=u.call(this.host,k));v?v.call(this.host,k):this.internalSet(f,k)}}};e.prototype.setDefaultOrigin=function(f){this._origin=t.nameToId(f)};e.prototype.propertyInvalidated=function(f){var k=this.dirties,u=this.isOverridden(f),v=this.cursors&&this.cursors[f],g=this.metadatas[f].computes;if(v)for(var q=0;q<v.length;q++)v[q].propertyInvalidated(this,f);u||(k[f]=!0);if(g)for(f=0;f<g.length;f++)this.propertyInvalidated(g[f])};
e.prototype.propertyCommitted=function(f){var k=this.cursors&&this.cursors[f];this.dirties[f]=!1;if(k)for(var u=0;u<k.length;u++)k[u].propertyCommitted(this,f)};e.prototype.addCursor=function(f,k){this.cursors||(this.cursors={});var u=this.cursors[f];u||(this.cursors[f]=u=[]);u.push(k)};e.prototype.removeCursor=function(f,k){var u=this.cursors[f];this.cursors[f]&&(u.splice(u.indexOf(k),1),0===u.length&&(this.cursors[f]=null))};return e}();A.default=G})},"esri/layers/vectorTiles/core/Logger":function(){define(["require",
"exports","dojo/has"],function(G,A,a){var m={info:0,warn:1,error:2};G=function(){function p(t){void 0===t&&(t={});this.module=t.module||"";this.writer=t.writer||null;this.level=t.level||null;null!=t.enabled&&(this.enabled=!!t.enabled);p._loggers[this.module]=this;t=this.module.lastIndexOf(".");-1!==t&&(this.parent=p.getLogger(this.module.slice(0,t)))}p.prototype.log=function(t){for(var n=[],h=1;h<arguments.length;h++)n[h-1]=arguments[h];this._isEnabled()&&this._matchLevel(t)&&(h=this._inheritedWriter())&&
h.apply(void 0,[t,this.module].concat(n))};p.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log.apply(this,["error"].concat(t))};p.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log.apply(this,["warn"].concat(t))};p.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log.apply(this,["info"].concat(t))};p.prototype.getLogger=function(t){return p.getLogger(this.module+"."+t)};p.getLogger=
function(t){var n=p._loggers[t];n||(n=new p({module:t}));return n};p.prototype._parentWithMember=function(t,n){for(var h=this;h&&null==h[t];)h=h.parent;return h?h[t]:n};p.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};p.prototype._consoleWriter=function(t,n){for(var h=[],c=2;c<arguments.length;c++)h[c-2]=arguments[c];console[t].apply(console,["["+n+"]"].concat(h))};p.prototype._matchLevel=function(t){return m[this._parentWithMember("level","error")]<=
m[t]};p.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};p._loggers={};return p}();A=G.getLogger("esri");a("dojo-debug-messages")?A.level="info":A.level="warn";return G})},"esri/layers/vectorTiles/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(G,A,a,m,p){Object.defineProperty(A,"__esModule",{value:!0});var t=[a.default,m.default,p.default];
A.processPrototypeMetadatas=function(n,h){for(var c=Object.getOwnPropertyNames(n),b=0;b<t.length;b++){var e=t[b];if(e.processPrototypePropertyMetadata)for(var f=0,k=c;f<k.length;f++){var u=k[f];e.processPrototypePropertyMetadata(u,n[u],n,h)}}};A.processClassMetadatas=function(n,h){for(var c=Object.getOwnPropertyNames(n),b=0;b<t.length;b++){var e=t[b];if(e.processClassPropertyMetadata)for(var f=0,k=c;f<k.length;f++){var u=k[f];e.processClassPropertyMetadata(u,n[u],n,h)}}};A.instanceCreated=function(n,
h){for(var c=Object.getOwnPropertyNames(h),b=0;b<t.length;b++){var e=t[b];e.instanceCreated&&e.instanceCreated(n,h,c)}}})},"esri/layers/vectorTiles/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports dojo/has ../get ../set ../utils ../wire".split(" "),function(G,A,a,m,p,t,n){function h(b,e,f){var k=t.getProperties(b);return n.wire(b,f.aliasOf,function(){k.propertyInvalidated(e)})}Object.defineProperty(A,"__esModule",{value:!0});var c=a("dojo-debug-messages");A.AliasedPropertyExtension=
{processClassPropertyMetadata:function(b,e,f,k){var u=e.aliasOf;if(u){var v=u.split(".")[0];if(null==f[v])c&&console.error("[accessor] class '"+k+"' - property '"+b+"' is alias of aliased of '"+u+"', but '"+v+"' isn't declared as property. This can be fix by adding '"+v+"' to the metadata for example.");else if(e.set)c&&console.error("[accessor] class '"+k+"' - property '"+b+"' is alias of aliased of '"+u+"', so it cannot have a setter defined");else if(e.get)c&&console.error("[accessor] class '"+
k+"' - property '"+b+"' is alias of aliased of '"+u+"', so it cannot have a getter defined");else{var g;e.get=function(){var q=m.default(this,u);if("function"===typeof q){g||(g=u.split(".").slice(0,-1).join("."));var x=m.default(this,g);x&&(q=q.bind(x))}return q};e.readOnly||(e.set=function(q){return p.default(this,u,q)})}}},instanceCreated:function(b,e,f){for(var k=0;k<f.length;k++){var u=f[k],v=e[u];v.aliasOf&&h(b,u,v)}}};A.default=A.AliasedPropertyExtension})},"esri/layers/vectorTiles/core/accessorSupport/get":function(){define(["require",
"exports","./utils"],function(G,A,a){function m(h,c,b){if(null!=b.getItemAt||Array.isArray(b)){var e=parseInt(h,10);if(!isNaN(e))return Array.isArray(b)?b[e]:b.getItemAt(e)}e=a.getProperties(b);return c?a.isPropertyDeclared(e,h)?e.get(h):b[h]:a.isPropertyDeclared(e,h)?e.internalGet(h):b[h]}function p(h,c,b,e){if(null==h)return h;if((h=m(c[e],b,h))||!(e<c.length-1))return e===c.length-1?h:p(h,c,b,e+1)}function t(h,c,b,e){void 0===b&&(b=!1);void 0===e&&(e=0);return"string"===typeof c&&-1===c.indexOf(".")?
m(c,b,h):p(h,a.pathToArray(c),b,e)}function n(h,c){return t(h,c,!0)}Object.defineProperty(A,"__esModule",{value:!0});A.valueOf=t;A.get=n;A.exists=function(h,c){return void 0!==t(c,h,!0)};A.default=n})},"esri/layers/vectorTiles/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(G,A,a){function m(h,c){return c?Object.keys(c).reduce(function(b,e){if("value"===e)return b[e]=c[e],b;if(void 0===b[e])return b[e]=a.clone(c[e]),b;var f=b[e],k=c[e];if(f===k)return b;if(Array.isArray(k)||
Array.isArray(b))f=f?Array.isArray(f)?b[e]=f.concat():b[e]=[f]:b[e]=[],k&&(Array.isArray(k)||(k=[k]),k.forEach(function(u){-1===f.indexOf(u)&&f.push(u)}));else if(k&&"object"===typeof k)b[e]=m(f,k);else if(!b.hasOwnProperty(e)||c.hasOwnProperty(e))b[e]=k;return b},h||{}):h}function p(h){return Array.isArray(h)?h:h.split(".")}function t(h){if(Array.isArray(h)||-1<h.indexOf(",")){h=Array.isArray(h)?h:h.split(",");for(var c=0;c<h.length;c++)h[c]=h[c].trim();return 1===h.length?h[0]:h}return h.trim()}
function n(h){var c=!1;return function(){c||(c=!0,h())}}Object.defineProperty(A,"__esModule",{value:!0});A.getProperties=function(h){return h?h.__accessor__?h.__accessor__:h.propertyInvalidated?h:null:null};A.isPropertyDeclared=function(h,c){return h&&h.metadatas&&null!=h.metadatas[c]};A.merge=m;A.pathToStringOrArray=function(h){return h?"string"===typeof h&&-1===h.indexOf(".")?h:p(h):h};A.pathToArray=p;A.splitPath=t;A.parse=function(h,c,b,e){c=t(c);if(Array.isArray(c)){var f=c.map(function(k){return e(h,
k.trim(),b)});return{remove:n(function(){return f.forEach(function(k){return k.remove()})})}}return e(h,c.trim(),b)};A.once=n})},"esri/layers/vectorTiles/core/accessorSupport/set":function(){define(["require","exports","dojo/has","../Logger","./get"],function(G,A,a,m,p){function t(h,c,b){if(h&&c)if("object"===typeof c){b=0;for(var e=Object.getOwnPropertyNames(c);b<e.length;b++){var f=e[b];t(h,f,c[f])}}else"_"!==c[0]&&(-1!==c.indexOf(".")?(c=c.split("."),f=c.splice(c.length-1,1)[0],t(p.default(h,c),
f,b)):(a("dojo-debug-messages")&&(f=h.__accessor__,null==f||f.metadatas[c]||n.warn("setting unknown property '"+c+"' on instance of "+f.host.declaredClass)),h[c]=b))}Object.defineProperty(A,"__esModule",{value:!0});var n=m.getLogger("esri.core.accessorSupport.set");A.set=t;A.default=t})},"esri/layers/vectorTiles/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(G,A,a){function m(b,e,f){e=a.splitPath(e);if(Array.isArray(e)){for(var k=[],u=0;u<e.length;u++)k.push((new p(e[u],
f)).install(b));return new h(k)}b=(new p(e,f)).install(b);return new c(b)}Object.defineProperty(A,"__esModule",{value:!0});var p=function(){function b(e,f){this.path=e;this.callback=f;this.chain=null;this.path=e;-1<e.indexOf(".")&&(this.chain=a.pathToArray(e));this.callback=f;return this}b.prototype.install=function(e){e=this.chain?new n(this,e):new t(this,e);return e};b.prototype.notify=function(e){this.callback(e,this.path)};return b}(),t=function(){function b(e,f){this.binding=e;this.target=f;
a.getProperties(f).addCursor(this.binding.path,this)}b.prototype.destroy=function(){this.target&&(a.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};b.prototype.propertyDestroyed=function(e,f){a.getProperties(this.target).removeCursor(f,this)};b.prototype.propertyInvalidated=function(e,f){this.binding&&this.binding.notify(this.target)};b.prototype.propertyCommitted=function(e,f){this.binding&&this.binding.notify(this.target)};return b}(),n=function(){function b(e,
f){this.binding=e;this.target=f;this.stack=[];this.properties=a.getProperties(f);this.stack.push({properties:this.properties,propertyName:e.chain[0]});this.properties.addCursor(e.chain[0],this);this.moveForward();return this}b.prototype.destroy=function(){for(;;){var e=this.stack.pop();if(null==e)break;e.properties.removeCursor(e.propertyName,this)}this.target=this.binding=null};b.prototype.propertyDestroyed=function(e,f){this.moveBackward(e,f)};b.prototype.propertyInvalidated=function(e,f){this.binding&&
this.binding.notify(this.target)};b.prototype.propertyCommitted=function(e,f){this.binding&&(this.moveBackward(e,f),this.moveForward(),this.binding.notify(this.target))};b.prototype.moveBackward=function(e,f){for(var k=this.stack,u=k[k.length-1];u.properties!==e&&u.propertyName!==f;)u.properties.removeCursor(u.propertyName,this),k.pop(),u=k[k.length-1]};b.prototype.moveForward=function(){var e=this.stack,f=e[e.length-1];f=f.properties.internalGet(f.propertyName);(f=a.getProperties(f))&&e.length<this.binding.chain.length&&
(e=this.binding.chain[e.length],this.stack.push({properties:f,propertyName:e}),f.addCursor(e,this),this.moveForward())};return b}(),h=function(){function b(e){this.cursors=e}b.prototype.remove=function(){for(var e=this.cursors;0<e.length;)e.pop().destroy();this.cursors=null};return b}(),c=function(){function b(e){this.cursor=e}b.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return b}();A.create=function(b,e){b=a.splitPath(b);if(Array.isArray(b)){for(var f=[],k=0;k<b.length;k++)f.push(new p(b[k],
e));return function(v){for(var g=[],q=0;q<f.length;q++)g[q]=f[q].install(v);return new h(g)}}var u=new p(b,e);return function(v){return new c(u.install(v))}};A.wire=m;A.default=m})},"esri/layers/vectorTiles/core/accessorSupport/extensions/computedProperty":function(){define("require exports dojo/has ../../Logger ../utils ../wire".split(" "),function(G,A,a,m,p,t){Object.defineProperty(A,"__esModule",{value:!0});var n=a("dojo-debug-messages"),h=m.getLogger("esri.core.accessorSupport.extensions.computedProperty");
A.ComputedPropertyExtension={processClassPropertyMetadata:function(c,b,e,f){if(n){var k=b.dependsOn;k&&k.length&&k.map(function(u){return u.split(".")[0]}).forEach(function(u){null==e[u]&&h.error("[accessor] class '"+f+"' - property '"+c+"' depends on unknown property '"+u+"' which hasn't been found during introspection. This can be fix by adding '"+u+"' to the metadata for example.")})}b.dependsOn&&(k=void 0,k=b.dependsOn.slice())&&(b.wire=t.create(k,function(u){return p.getProperties(u).propertyInvalidated(c)}))},
instanceCreated:function(c,b,e){for(var f=0;f<e.length;f++){var k=b[e[f]];k.wire&&k.wire(c)}}};A.default=A.ComputedPropertyExtension})},"esri/layers/vectorTiles/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(G,A,a,m,p,t){function n(h,c,b){var e=h&&h.json;h&&h.json&&h.json.origins&&b&&(h=h.json.origins[b.origin])&&
c in h&&(e=h);return e}Object.defineProperty(A,"__esModule",{value:!0});A.originSpecificReadPropertyDefinition=function(h,c){return n(h,"read",c)};A.originSpecificWritePropertyDefinition=function(h,c){return n(h,"write",c)};A.SerializablePropertyExtension={processPrototypePropertyMetadata:function(h,c,b,e){if(p.process(c)){a.process(c);b=c.type;for(e=0;Array.isArray(b);)b=b[0],e++;if(c.json.origins)for(var f in c.json.origins){var k=c.json.origins[f];m.create(b,e,h,k);t.create(b,e,h,k)}m.create(b,
e,h,c.json);t.create(b,e,h,c.json)}}};A.default=A.SerializablePropertyExtension})},"esri/layers/vectorTiles/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.process=function(a){if(a.json&&a.json.origins){var m=a.json.origins,p={"web-document":["web-scene","web-map"]};a=function(n){if(m[n]){var h=m[n];p[n].forEach(function(c){m[c]=h});delete m[n]}};for(var t in p)a(t)}}})},"esri/layers/vectorTiles/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require",
"exports","../../../object","./type"],function(G,A,a,m){function p(f,k,u,v){if(1<k)return h(f,k);if(1===k)return c(f);if(b(f)){var g=c(f.prototype.itemType.Type);return function(q,x,w){return(q=g(q,x,w))?new f(q):q}}return t(f)}function t(f){return f.prototype.read?function(k,u,v){return null==k?k:(new f).read(k,v)}:f.fromJSON}function n(f,k,u,v){return 0!==v&&Array.isArray(k)?k.map(function(g){return n(f,g,u,v-1)}):f(k,null,u)}function h(f,k){f=t(f);var u=n.bind(null,f);return function(v,g,q){if(null==
v)return v;v=u(v,q,k);g=k;for(q=v;0<g&&Array.isArray(q);)g--,q=q[0];if(void 0!==q)for(q=0;q<g;q++)v=[v];return v}}function c(f){var k=t(f);return function(u,v,g){return null==u?u:Array.isArray(u)?u.map(function(q){return k(q,null,g)}):[k(u,null,g)]}}function b(f){return m.isCollection(f)?(f=f.prototype.itemType)&&f.Type&&"function"===typeof f.Type?e(f.Type):!1:!1}function e(f){return!!f&&(!!f.prototype.read||!!f.fromJSON||b(f))}Object.defineProperty(A,"__esModule",{value:!0});A.create=function(f,
k,u,v){(!v.read||!v.read.reader&&!1!==v.read.enabled)&&e(f)&&a.setDeepValue("read.reader",p(f,k,u,v),v)}})},"esri/layers/vectorTiles/core/object":function(){define(["require","exports"],function(G,A){function a(m,p,t){for(var n=0;n<m.length;n++){var h=m[n];if(!(h in t))if(p)t[h]={};else return;t=t[h]}return t}Object.defineProperty(A,"__esModule",{value:!0});A.getDeepValue=function(m,p){return a(m.split("."),!1,p)};A.setDeepValue=function(m,p,t){var n=m.split(".");m=n.pop();(t=a(n,!0,t))&&m&&(t[m]=
p)}})},"esri/layers/vectorTiles/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.isCollection=function(a){return!!a&&!!a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/layers/vectorTiles/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(G,A){function a(p){"boolean"===typeof p.read?
p.read={enabled:p.read}:"function"===typeof p.read?p.read={enabled:!0,reader:p.read}:p.read&&"object"===typeof p.read&&void 0===p.read.enabled&&(p.read.enabled=!0)}function m(p){"boolean"===typeof p.write?p.write={enabled:p.write}:"function"===typeof p.write?p.write={enabled:!0,writer:p.write}:p.write&&"object"===typeof p.write&&void 0===p.write.enabled&&(p.write.enabled=!0)}Object.defineProperty(A,"__esModule",{value:!0});A.process=function(p){p.json||(p.json={});a(p.json);m(p.json);if(p.json.origins)for(var t in p.json.origins)a(p.json.origins[t]),
m(p.json.origins[t]);return!0}})},"esri/layers/vectorTiles/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(G,A,a,m){function p(b,e,f,k){a.setDeepValue(f,t(b,k),e)}function t(b,e){return b=b&&"function"===typeof b.write?b.write({},e):b&&"function"===typeof b.toJSON?b.toJSON():"number"===typeof b?-Infinity===b?-Number.MAX_VALUE:Infinity===b?Number.MAX_VALUE:isNaN(b)?null:b:b}function n(b,e,f,k){null===b?b=null:
b&&"function"===typeof b.map?(b=b.map(function(u){return t(u,k)}),"function"===typeof b.toArray&&(b=b.toArray())):b=[t(b,k)];a.setDeepValue(f,b,e)}function h(b,e,f){return 0!==f&&Array.isArray(b)?b.map(function(k){return h(k,e,f-1)}):t(b,e)}function c(b){return function(e,f,k,u){if(null===e)e=null;else{e=h(e,u,b);u=b;for(var v=e;0<u&&Array.isArray(v);)u--,v=v[0];if(void 0!==v)for(v=0;v<u;v++)e=[e]}a.setDeepValue(k,e,f)}}Object.defineProperty(A,"__esModule",{value:!0});A.create=function(b,e,f,k){k.write&&
!k.write.writer&&!1!==k.write.enabled&&(1===e||m.isCollection(b)?k.write.writer=n:k.write.writer=1<e?c(e):p)}})},"esri/layers/vectorTiles/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],function(G,A){function a(t){switch(t){case "defaults":return p.DEFAULTS;case "service":return p.SERVICE;case "portal-item":return p.PORTAL_ITEM;case "web-scene":return p.WEB_SCENE;case "web-map":return p.WEB_MAP;case "user":return p.USER}}function m(t){switch(t){case p.DEFAULTS:return"defaults";
case p.SERVICE:return"service";case p.PORTAL_ITEM:return"portal-item";case p.WEB_SCENE:return"web-scene";case p.WEB_MAP:return"web-map";case p.USER:return"user"}}Object.defineProperty(A,"__esModule",{value:!0});var p;(function(t){t[t.DEFAULTS=0]="DEFAULTS";t[t.COMPUTED=1]="COMPUTED";t[t.SERVICE=2]="SERVICE";t[t.PORTAL_ITEM=3]="PORTAL_ITEM";t[t.WEB_SCENE=4]="WEB_SCENE";t[t.WEB_MAP=5]="WEB_MAP";t[t.USER=6]="USER";t[t.NUM=7]="NUM"})(p=A.OriginId||(A.OriginId={}));A.nameToId=a;A.idToName=m;A.readableNameToId=
function(t){return a(t)};A.idToReadableName=function(t){return m(t)};A.writableNameToId=function(t){return a(t)};A.idToWritableName=function(t){return m(t)}})},"esri/layers/vectorTiles/core/accessorSupport/Store":function(){define(["require","exports","./PropertyOrigin"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});G=function(){function m(){this._values={}}m.prototype.get=function(p){return this._values[p]};m.prototype.originOf=function(p){return a.OriginId.USER};m.prototype.keys=
function(){return Object.keys(this._values)};m.prototype.set=function(p,t){this._values[p]=t};m.prototype.clear=function(p){delete this._values[p]};m.prototype.has=function(p){return p in this._values};return m}();A.default=G})},"esri/layers/vectorTiles/core/accessorSupport/introspection":function(){define("require exports ../object ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),function(G,A,a,m,p,t,n,h){Object.defineProperty(A,"__esModule",{value:!0});var c=Object.prototype.hasOwnProperty,
b=/^_([a-zA-Z0-9]+)(Getter|Setter|Reader|Writer|Caster)$/,e={Getter:"get",Setter:"set",Reader:"json.read.reader",Writer:"json.write.writer",Caster:"cast"},f=/^_(set|get)([a-zA-Z0-9]+)Attr$/;A.processPrototype=function(k){for(var u=k.declaredClass,v=k.properties||{},g=0,q=Object.getOwnPropertyNames(v);g<q.length;g++){var x=q[g],w=v[x],B=typeof w;null==w?t.setPropertyMetadata(k,x,{value:w}):Array.isArray(w)?t.setPropertyMetadata(k,x,{type:[w[0]],value:null}):"object"===B?n.getProperties(w)||w instanceof
Date?t.setPropertyMetadata(k,x,{type:w.constructor,value:w}):t.setPropertyMetadata(k,x,w):"boolean"===B?t.setPropertyMetadata(k,x,{type:Boolean,value:w}):"string"===B?t.setPropertyMetadata(k,x,{type:String,value:w}):"number"===B?t.setPropertyMetadata(k,x,{type:Number,value:w}):"function"===B&&t.setPropertyMetadata(k,x,{type:w,value:null})}g=0;for(q=Object.getOwnPropertyNames(k);g<q.length;g++){B=q[g];w=k[B];v=x=void 0;var z=b.exec(B);if(z)x=z[1],v=e[z[2]];else if(z=f.exec(B))x=z[2][0].toLowerCase()+
z[2].substr(1),v=z[1].toLowerCase();x&&v&&(x=t.getPropertyMetadata(k,x),a.setDeepValue(v,w,x))}g=0;for(q=Object.getOwnPropertyNames(t.getPropertiesMetadata(k));g<q.length;g++)if(x=q[g],w=t.getPropertyMetadata(k,x),v=w.type,B=w.types,void 0===w.value&&c.call(k,x)&&(w.value=k[x]),!w.cast&&v){x=w;w=0;for(B=v;Array.isArray(B);)B=B[0],w++;v=1===w?m.ensureArray(B):1<w?m.ensureNArray(B,w):m.ensureType(v);x.cast=v}else!w.cast&&B&&(Array.isArray(B)?w.cast=m.ensureArrayTyped(m.ensureOneOfType(B[0])):w.cast=
m.ensureOneOfType(B));p.processPrototypeMetadatas(t.getPropertiesMetadata(k),u);return t.getPropertiesMetadata(k)};A.processClass=function(k){for(var u=k.prototype,v=u.declaredClass,g=k._meta.bases,q={},x=g.length-1;0<=x;x--)n.merge(q,t.getMetadata(g[x].prototype));var w=q.properties;p.processClassMetadatas(w,v);Object.defineProperty(k,"__accessorMetadata__",{value:{properties:w,autoDestroy:!!q.autoDestroy}});var B={};v=function(z){var C=w[z];B[z]={enumerable:!0,configurable:!0,get:function(){return this.__accessor__?
this.__accessor__.get(z):C.value},set:function(y){var D=this.__accessor__;if(!D)Object.defineProperty(this,z,{enumerable:!0,configurable:!0,writable:!0,value:y});else if(!Object.isFrozen(this)){if(D.initialized&&C.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+z+"' of "+this.declaredClass);if(2===D.lifecycle&&C.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+z+"' of "+this.declaredClass);D.set(z,y)}}}};g=0;for(x=Object.getOwnPropertyNames(w);g<
x.length;g++)v(x[g]);Object.defineProperties(k.prototype,B);if(q.parameters)for(k=0,v=Object.getOwnPropertyNames(q.parameters);k<v.length;k++)g=v[k],x=Object.getOwnPropertyDescriptor(u,g)||{value:u[g]},(x=h.autocastMethod(u,g,x))&&Object.defineProperty(u,g,x);return q}})},"esri/layers/vectorTiles/core/accessorSupport/ensureType":function(){define(["require","exports","../Logger"],function(G,A,a){function m(z,C){return C.isInstanceOf?C.isInstanceOf(z):C instanceof z}function p(z){return null==z?z:
new Date(z)}function t(z){return null==z?z:!!z}function n(z){return null==z?z:z.toString()}function h(z){return null==z?z:parseFloat(z)}function c(z){return null==z?z:Math.round(parseFloat(z))}function b(z){return z&&z.constructor&&void 0!==z.constructor._meta}function e(z,C){return null!=C&&z&&!m(z,C)}function f(z,C){e(z,C)&&(b(C)?w.error("Accessor#set","Assigning an instance of '"+(C.declaredClass||"unknown")+"' which is not a subclass of '"+(z&&z.prototype&&z.prototype.declaredClass||"unknown")+
"'"):C=new z(C));return C}function k(z){switch(z){case Number:return h;case B:return c;case Boolean:return t;case String:return n;case Date:return p;default:return f.bind(null,z)}}function u(z,C){var y=k(z);return 1===arguments.length?y:y(C)}function v(z,C){return 1===arguments.length?v.bind(null,z):C?Array.isArray(C)?C.map(z):[z(C)]:C}function g(z,C,y){return 0!==C&&Array.isArray(y)?y.map(function(D){return g(z,C-1,D)}):z(y)}function q(z,C,y){if(2===arguments.length)return q.bind(null,z,C);if(!y)return y;
y=g(z,C,y);for(var D=C,F=y;0<D&&Array.isArray(F);)D--,F=F[0];if(void 0!==F)for(F=0;F<D;F++)y=[y];return y}function x(z,C){if(2===arguments.length)return x(z).call(null,C);var y={},D=[],F=[],H;for(H in z.typeMap){var E=z.typeMap[H];y[H]=u(E);D.push(E&&E.prototype&&E.prototype.declaredClass||"unknown");F.push(H)}var I="string"===typeof z.key?function(J){return J[z.key]}:z.key;return function(J){if(z.base&&!e(z.base,J))return J;var K=I(J)||z.defaultKeyValue,L=y[K];if(!L)return w.error("Accessor#set",
"Invalid property value, value needs to be one of '"+(D.join("', '")+"', or a plain object that can auto-cast (having .type \x3d '")+(F.join("', '")+"')")),null;if(!e(z.typeMap[K],J))return J;if("string"!==typeof z.key||b(J))return L(J);K={};for(var O in J)O!==z.key&&(K[O]=J[O]);return L(K)}}Object.defineProperty(A,"__esModule",{value:!0});var w=a.getLogger("esri.core.Accessor");A.isInstanceOf=m;A.ensureDate=p;A.ensureBoolean=t;A.ensureString=n;A.ensureNumber=h;A.ensureInteger=c;A.isClassedType=b;
A.requiresType=e;A.ensureClass=f;A.ensureType=u;A.ensureArrayTyped=v;A.ensureArray=function(z,C){return 1===arguments.length?v(u.bind(null,z)):v(u.bind(null,z),C)};A.ensureNArrayTyped=q;A.ensureNArray=function(z,C,y){return 2===arguments.length?q(u.bind(null,z),C):q(u.bind(null,z),C,y)};A.ensureOneOfType=x;var B=function(){return function(){}}();A.Integer=B;A.default=u})},"esri/layers/vectorTiles/core/accessorSupport/metadata":function(){define(["require","exports"],function(G,A){function a(h){return null!=
h.__accessorMetadata__}function m(h){return a(h)&&null!=p(h).properties}function p(h){h.__accessorMetadata__||Object.defineProperty(h,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return h.__accessorMetadata__}function t(h){h=p(h);var c=h.properties;c||(c=h.properties={});return c}function n(h,c){var b=p(h);h=b.parameters;h||(h=b.parameters={});b=h[c];b||(b=[],h[c]=b);return b}Object.defineProperty(A,"__esModule",{value:!0});A.hasMetadata=a;A.hasPropertiesMetadata=m;
A.hasPropertyMetadata=function(h,c){return m(h)&&null!=t(h)[c]};A.hasParametersMetadata=function(h,c){return a(h)&&null!=p(h).parameters&&null!=p(h).parameters[c]};A.getMetadata=p;A.getPropertiesMetadata=t;A.getPropertyMetadata=function(h,c){h=t(h);var b=h[c];b||(b=h[c]={});return b};A.setPropertyMetadata=function(h,c,b){t(h)[c]=b};A.getParametersMetadata=n;A.getParameterMetadata=function(h,c,b){var e=n(h,c)[b];e||(n(h,c)[b]=e={index:b});return e}})},"esri/layers/vectorTiles/core/accessorSupport/decorators/cast":function(){define(["require",
"exports","../ensureType","../metadata"],function(G,A,a,m){function p(b){var e="_meta"in b?a.ensureType(b):b;return function(){for(var f=[],k=0;k<arguments.length;k++)f[k]=arguments[k];f.push(e);return"number"===typeof f[2]?n.apply(this,f):t.apply(this,f)}}function t(b,e,f,k){m.getPropertyMetadata(b,e).cast=k}function n(b,e,f,k){m.getParameterMetadata(b,e,f).cast=k}function h(b){return function(e,f,k){m.getPropertyMetadata(e,b).cast=e[f]}}Object.defineProperty(A,"__esModule",{value:!0});var c=Object.prototype.toString;
A.autocastMethod=function(b,e,f){if(m.hasParametersMetadata(b,e)){var k=m.getParametersMetadata(b,e).filter(function(v){return null!=v.cast});if(k.length){var u=f.value;f.value=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];for(g=0;g<k.length;g++){var q=k[g];v[q.index]=q.cast(v[q.index])}return u.apply(this,v)};return f}console.warn("Method "+b.declaredClass+"::"+e+" is decorated with @cast but no parameters are decorated")}};A.cast=function(){for(var b=[],e=0;e<arguments.length;e++)b[e]=
arguments[e];if(3!==b.length||"string"!==typeof b[1]){if(1===b.length&&"[object Function]"===c.call(b[0]))return p(b[0]);if(1===b.length&&"string"===typeof b[0])return h(b[0])}}})},"esri/layers/vectorTiles/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(G,A,a,m,p,t,n,h,c){function b(C){x.has(C)?w.splice(w.indexOf(C),1):x.add(C);w.push(C);B||(B=t.schedule(f))}function e(C){if(!C.removed){var y=
C.callback,D=C.path,F=C.oldValue,H=C.target,E=n.valueOf(H,C.propertyPath,!0);m.equals(F,E)||(C.oldValue=E,y.call(H,E,F,D,H))}}function f(){if(B){B=null;var C=w;w=q.acquire();x.clear();for(var y=q.acquire(),D=0;D<C.length;D++){var F=C[D];e(F);F.removed&&y.push(F)}for(D=0;D<w.length;D++)F=w[D],F.removed&&(y.push(F),x.delete(F),w.splice(D,1),--D);for(D=0;D<y.length;D++)g.pool.release(y[D]);q.release(C);q.release(y);z.forEach(function(H){return H()})}}function k(C,y,D){var F=h.parse(C,y,D,function(H,
E,I){var J=n.valueOf(H,E,!0),K,L=c.wire(H,E,function(O,U){O.__accessor__.destroyed?F.remove():(K||(K=g.pool.acquire(O,U,J,I),J=null),b(K))});return{remove:h.once(function(){L.remove();K&&(K.removed=!0,b(K),K=null);F=L=J=null})}});return F}function u(C,y,D){var F=h.parse(C,y,D,function(H,E,I){var J=n.valueOf(H,E,!0),K=!1;return c.wire(H,E,function(L,O){if(L.__accessor__.destroyed)F.remove();else if(!K){K=!0;var U=n.valueOf(L,O,!0);m.equals(J,U)||I.call(L,U,J,O,L);J=n.valueOf(L,O,!0);K=!1}})});return F}
function v(C,y,D,F){void 0===F&&(F=!1);return!C.__accessor__||C.__accessor__.destroyed?{remove:function(){}}:F?u(C,y,D):k(C,y,D)}Object.defineProperty(A,"__esModule",{value:!0});var g=function(){function C(y,D,F,H){this.target=y;this.path=D;this.oldValue=F;this.callback=H;this.removed=!1;this.propertyPath=h.pathToStringOrArray(D)}C.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.removed=!0};C.pool=new p(C,!0);return C}(),q=new a,x=new Set,
w=q.acquire(),B;A.dispatchTarget=function(C){for(var y=q.copy(w),D=0;D<y.length;D++){var F=y[D];F.target===C&&(e(F),x.delete(F),w.splice(w.indexOf(F),1))}};A.removeTarget=function(C){for(var y=0;y<w.length;y++){var D=w[y];D.target===C&&(D.removed=!0)}};A.dispatch=f;var z=new Set;A.afterDispatch=function(C){z.add(C);return{remove:function(){z.delete(C)}}};A.watch=v;A.isValueInUse=function(C){return w.some(function(y){return y.oldValue===C})};A.default=v})},"esri/layers/vectorTiles/core/ArrayPool":function(){define(["require",
"exports","./ObjectPool"],function(G,A,a){function m(n){n.length=0}var p=Array.prototype.splice;G=function(){function n(h,c){void 0===h&&(h=50);void 0===c&&(c=50);this._pool=new a(Array,!1,m,c,h)}n.prototype.acquire=function(){return this._pool.acquire()};n.prototype.copy=function(h){var c=this.acquire();h.unshift(0,0);p.apply(c,h);h.splice(0,2);return c};n.prototype.release=function(h){this._pool.release(h)};n.acquire=function(){return t.acquire()};n.copy=function(h){return t.copy(h)};n.release=
function(h){return t.release(h)};return n}();var t=new G(100);return G})},"esri/layers/vectorTiles/core/ObjectPool":function(){define(["require","exports"],function(G,A){var a=function(){return function(){}}();return function(){function m(p,t,n,h,c){void 0===h&&(h=1);void 0===c&&(c=0);this.classConstructor=p;this.acquireFunctionOrWithConstructor=t;this.releaseFunction=n;this.growthSize=h;!0===t?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof t&&(this.acquireFunction=t);this._pool=
Array(c);this._set=new Set;this._initialSize=c;for(p=0;p<c;p++)this._pool[p]=new this.classConstructor;this.growthSize=Math.max(h,1)}m.prototype.acquire=function(){for(var p=[],t=0;t<arguments.length;t++)p[t]=arguments[t];t=this.classConstructor||a;if(0===this._pool.length)for(var n=this.growthSize,h=0;h<n;h++)this._pool[h]=new t;t=this._pool.shift();this.acquireFunction?this.acquireFunction.apply(this,[t].concat(p)):t&&t.acquire&&"function"===typeof t.acquire&&t.acquire.apply(t,p);this._set.delete(t);
return t};m.prototype.release=function(p){p&&!this._set.has(p)&&(this.releaseFunction?this.releaseFunction(p):p&&p.release&&"function"===typeof p.release&&p.release(),this._pool.push(p),this._set.add(p))};m.prototype.prune=function(p){void 0===p&&(p=this._initialSize);if(!(this._pool.length<=p))for(var t;p>this._pool.length;)t=this._pool.shift(),this._set.delete(t),t.dispose&&"function"===typeof t.dispose&&t.dispose()};m.prototype._constructorAcquireFunction=function(p){for(var t=[],n=1;n<arguments.length;n++)t[n-
1]=arguments[n];(h=this.classConstructor).call.apply(h,[p].concat(t));var h};return m}()})},"esri/layers/vectorTiles/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(G,A,a,m,p){function t(y){void 0===y&&(y=A.now());A.debug.rafId=null;0<B.length&&(A.debug.rafId=n());if(0<k){var D=y-k;g=Math.min(D,g);if(D<u)return}A.debug.executeFrameTasks(y)}function n(){return A.debug.requestNextFrame?A.debug.requestNextFrame(b):b()}function h(){for(var y=
0;y<B.length;){var D=B[y];y++;if(D.removed){B.splice(y-1,1);for(var F=0;F<x.length;F++){var H=x[F];if(D.phases[H]){H=z[H];var E=H.indexOf(D);-1!==E&&H.splice(E,1)}}}}}function c(){for(;w.length;){var y=w.shift();y.isActive&&(y.isActive=!1,y.callback())}A.debug.willDispatch=!1}function b(){return p(t)}Object.defineProperty(A,"__esModule",{value:!0});A.now=m;var e=function(){return function(y){this.phases=y;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),f=function(){function y(D){this.callback=
D;this.isActive=!0}y.prototype.remove=function(){this.isActive=!1};return y}(),k=-1,u=0,v=0,g=Number.POSITIVE_INFINITY,q={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},x=["prepare","preRender","render","postRender","update"],w=[],B=[],z={prepare:[],preRender:[],render:[],postRender:[],update:[]},C=function(){function y(D){this._task=D}y.prototype.remove=function(){this._task.removed=!0};y.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=
A.now())};y.prototype.resume=function(){this._task.paused&&(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=A.now()-this._task.pausedAt))};return y}();A.FrameTaskHandle=C;A.debug={frameTasks:B,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(y){void 0===y&&(y=!1);for(var D=0;D<B.length;D++)B[D].removed=!0;y&&h()},dispatch:c,executeFrameTasks:function(y){void 0===y&&(y=A.now());0>k&&(k=y);var D=y-k;k=y;for(var F=0;F<B.length;F++){var H=B[F];-1!==H.epoch&&(H.dt=
D)}for(F=0;F<x.length;F++){D=x[F];for(var E=z[D],I=0;I<E.length;I++)H=E[I],H.paused||H.removed||(0===F&&H.ticks++,-1===H.epoch&&(H.epoch=y),q.time=y,q.deltaTime=H.dt,q.elapsedFrameTime=A.now()-y,q.frameDuration=0<v?v:g,q.spendInTask=y-H.epoch,H.phases[D].call(H,q))}h()}};A.schedule=function(y){y=new f(y);w.push(y);A.debug.willDispatch||(A.debug.willDispatch=!0,a(c));return y};A.addFrameTask=function(y){var D=new e(y);B.push(D);for(var F=0,H=x;F<H.length;F++){var E=H[F];y[E]&&z[E].push(D)}A.debug.rafId||
(k=-1,A.debug.rafId=n());return new C(D)};A.setFrameRate=function(y){if(0>=y)v=u=0;else{var D=1.05*g;y=Math.ceil(1E3/y/D);u=(y-1)*D;v=y*g}};A.requestNextFrame=n})},"esri/layers/vectorTiles/core/nextTick":function(){define(["require","exports","./global"],function(G,A,a){function m(){if(a.postMessage&&!a.importScripts){var t=a.onmessage,n=!0;a.onmessage=function(){n=!1};a.postMessage("","*");a.onmessage=t;return n}return!1}var p=a.MutationObserver||a.WebKitMutationObserver;return function(){if(a.process&&
a.process.nextTick)var t=function(b){a.process.nextTick(b)};else if(a.Promise)t=function(b){a.Promise.resolve().then(b)};else if(p){var n=[],h=document.createElement("div");(new p(function(){for(;0<n.length;)n.shift()()})).observe(h,{attributes:!0});t=function(b){n.push(b);h.setAttribute("queueStatus","1")}}else if(m()){var c=[];a.addEventListener("message",function(b){if(b.source===a&&"esri-nexttick-message"===b.data)for(b.stopPropagation();c.length;)c.shift()()},!0);t=function(b){c.push(b);a.postMessage("esri-nexttick-message",
"*")}}else t=a.setImmediate?function(b){return a.setImmediate(b)}:function(b){return a.setTimeout(b,0)};return t}()})},"esri/layers/vectorTiles/core/global":function(){define(["require","exports"],function(G,A){return function(){if("undefined"!==typeof global)return global;if("undefined"!==typeof window)return window;if("undefined"!==typeof self)return self}()})},"esri/layers/vectorTiles/core/now":function(){define(["require","exports","./global"],function(G,A,a){return function(){var m=a.performance||
{};if(m.now)return function(){return m.now()};if(m.webkitNow)return function(){return m.webkitNow()};if(m.mozNow)return function(){return m.mozNow()};if(m.msNow)return function(){return m.msNow()};if(m.oNow)return function(){return m.oNow()};var p=m.timing&&m.timing.navigationStart?m.timing.navigationStart:Date.now();return function(){return Date.now()-p}}()})},"esri/layers/vectorTiles/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(G,A,a,m){var p=m();
G=a.requestAnimationFrame;if(!G){A=["ms","moz","webkit","o"];for(var t=0;t<A.length&&!G;++t)G=a[A[t]+"RequestAnimationFrame"];G||(G=function(n){var h=m(),c=Math.max(0,16-(h-p)),b=a.setTimeout(function(){n(m())},c);p=h+c;return b})}return G})},"esri/layers/vectorTiles/core/Handles":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Accessor ./Collection ./accessorSupport/decorators".split(" "),function(G,A,a,m,p,t,n){return function(h){function c(b){b=
h.call(this)||this;b._groups=new Map;return b}a(c,h);c.prototype.destroy=function(){this.removeAll()};Object.defineProperty(c.prototype,"size",{get:function(){var b=0;this._groups.forEach(function(e){b+=e.length});return b},enumerable:!0,configurable:!0});c.prototype.add=function(b,e){if(!this._isHandle(b)&&!Array.isArray(b)&&!t.isCollection(b))return this;var f=this._getOrCreateGroup(e);Array.isArray(b)||t.isCollection(b)?b.forEach(function(k){return f.push(k)}):f.push(b);this.notifyChange("size");
return this};c.prototype.has=function(b){return this._groups.has(this._ensureGroupKey(b))};c.prototype.remove=function(b){if(Array.isArray(b)||t.isCollection(b))return b.forEach(this.remove,this),this;if(!this.has(b))return this;for(var e=this._getGroup(b),f=0;f<e.length;f++)e[f].remove();this._deleteGroup(b);this.notifyChange("size");return this};c.prototype.removeAll=function(){this._groups.forEach(function(b){for(var e=0;e<b.length;e++)b[e].remove()});this._groups.clear();this.notifyChange("size");
return this};c.prototype._isHandle=function(b){return b&&!!b.remove};c.prototype._getOrCreateGroup=function(b){if(this.has(b))return this._getGroup(b);var e=[];this._groups.set(this._ensureGroupKey(b),e);return e};c.prototype._getGroup=function(b){return this._groups.get(this._ensureGroupKey(b))};c.prototype._deleteGroup=function(b){return this._groups.delete(this._ensureGroupKey(b))};c.prototype._ensureGroupKey=function(b){return b||"_default_"};m([n.property({readOnly:!0})],c.prototype,"size",null);
return c=m([n.subclass("esri.core.Handles")],c)}(n.declared(p))})},"esri/layers/vectorTiles/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper dojo/aspect ./Accessor ./ArrayPool ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k){function u(H){return H?H.isInstanceOf&&H.isInstanceOf(F):!1}function v(H){return H?u(H)?H.toArray():H.length?Array.prototype.slice.apply(H):
[]:[]}function g(H){if(H&&H.length)return H[0]}function q(H,E,I,J){E&&E.forEach(function(K,L,O){H.push(K);q(H,I.call(J,K,L,O),I,J)})}G=function(){function H(){this.target=null;this.defaultPrevented=this.cancellable=!1}H.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};H.prototype.reset=function(E){this.defaultPrevented=!1;this.item=E};return H}();var x=function(){},w=new b(G,!0,function(H){H.item=null;H.target=null}),B=new Set,z=new Set,C=new Set,y=new Map,D=0,F=function(H){function E(J){J=
H.call(this,J)||this;J._boundDispatch=J._dispatchColChange.bind(J);J._chgListeners=[];J._notifications=null;J._timer=null;J.length=0;J._items=[];Object.defineProperty(J,"uid",{value:D++});return J}a(E,H);var I=E;E.ofType=function(J){if(!J)return I;if(y.has(J))return y.get(J);if("function"===typeof J)var K=J.prototype.declaredClass;else if(J.base)K=J.base.prototype.declaredClass;else for(var L in J.typeMap){var O=J.typeMap[L].prototype.declaredClass;K=K?K+(" | "+O):O}K=I.createSubclass({declaredClass:"esri.core.Collection\x3c"+
K+"\x3e"});L={Type:J,ensureType:"function"===typeof J?k.ensureType(J):k.ensureOneOfType(J)};Object.defineProperty(K.prototype,"itemType",{value:L});y.set(J,K);return K};E.prototype.normalizeCtorArgs=function(J){return J?Array.isArray(J)||u(J)?{items:J}:J:{}};Object.defineProperty(E.prototype,"items",{get:function(){return this._items},set:function(J){this._emitBeforeChanges()||(this._splice.apply(this,[0,this.length].concat(v(J))),this._emitAfterChanges())},enumerable:!0,configurable:!0});E.prototype.on=
function(J,K){var L;Array.isArray(J)?L=J:-1<J.indexOf(",")&&(L=J.split(/\s*,\s*/));if(L){var O=[];for(J=0;J<L.length;J++)O.push(this.on(L[J],K));O.remove=function(){for(var M=0;M<O.length;M++)O[M].remove()};return O}if("change"===J){var U=this._chgListeners,S={removed:!1,callback:K};U.push(S);this._notifications&&this._notifications.push({listeners:U.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=x;S.removed=!0;U.splice(U.indexOf(S),1)}}}return p.after(this,"on"+
J,K,!0)};E.prototype.hasEventListener=function(J){return"change"===J?0<this._chgListeners.length:this.inherited(arguments)};E.prototype.add=function(J,K){if(this._emitBeforeChanges())return this;K=this.getNextIndex(K);this._splice(K,0,J);this._emitAfterChanges();return this};E.prototype.addMany=function(J,K){void 0===K&&(K=this._items.length);if(!J||!J.length||this._emitBeforeChanges())return this;K=this.getNextIndex(K);this._splice.apply(this,[K,0].concat(v(J)));this._emitAfterChanges();return this};
E.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges())return[];var J=this._splice(0,this.length)||[];this._emitAfterChanges();return J};E.prototype.clone=function(){return this._createNewInstance({items:this._items.map(c.clone)})};E.prototype.concat=function(){for(var J=[],K=0;K<arguments.length;K++)J[K]=arguments[K];J=J.map(v);return this._createNewInstance({items:(L=this._items).concat.apply(L,J)});var L};E.prototype.drain=function(J,K){if(this.length&&!this._emitBeforeChanges()){for(var L=
this._splice(0,this.length),O=L.length,U=0;U<O;U++)J.call(K,L[U],U,L);this._emitAfterChanges()}};E.prototype.every=function(J,K){return this._items.every(J,K)};E.prototype.filter=function(J,K){var L=2===arguments.length?this._items.filter(J,K):this._items.filter(J);return this._createNewInstance({items:L})};E.prototype.find=function(J,K){if("function"!==typeof J)throw new TypeError(J+" is not a function");for(var L=this._items,O=L.length,U=0;U<O;U++){var S=L[U];if(J.call(K,S,U,L))return S}};E.prototype.findIndex=
function(J,K){if("function"!==typeof J)throw new TypeError(J+" is not a function");for(var L=this._items,O=L.length,U=0;U<O;U++)if(J.call(K,L[U],U,L))return U;return-1};E.prototype.flatten=function(J,K){var L=[];q(L,this,J,K);return new I(L)};E.prototype.forEach=function(J,K){for(var L=this._items,O=L.length,U=0;U<O;U++)J.call(K,L[U],U,L)};E.prototype.getItemAt=function(J){return this._items[J]};E.prototype.getNextIndex=function(J){var K=this.length;J=null==J?K:J;0>J?J=0:J>K&&(J=K);return J};E.prototype.includes=
function(J,K){void 0===K&&(K=0);return arguments.length?-1!==this._items.indexOf(J,K):!1};E.prototype.indexOf=function(J,K){void 0===K&&(K=0);return this._items.indexOf(J,K)};E.prototype.join=function(J){void 0===J&&(J=",");return this._items.join(J)};E.prototype.lastIndexOf=function(J,K){void 0===K&&(K=this.length-1);return this._items.lastIndexOf(J,K)};E.prototype.map=function(J,K){J=this._items.map(J,K);return new I({items:J})};E.prototype.reorder=function(J,K){void 0===K&&(K=this.length-1);var L=
this.indexOf(J);if(-1!==L){0>K?K=0:K>=this.length&&(K=this.length-1);if(L!==K){if(this._emitBeforeChanges())return J;this._splice(L,1);this._splice(K,0,J);this._emitAfterChanges()}return J}};E.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges()){var J=g(this._splice(this.length-1,1));this._emitAfterChanges();return J}};E.prototype.push=function(){for(var J=[],K=0;K<arguments.length;K++)J[K]=arguments[K];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[this.length,
0].concat(J));this._emitAfterChanges();return this.length};E.prototype.reduce=function(J,K){var L=this._items;return 2===arguments.length?L.reduce(J,K):L.reduce(J)};E.prototype.reduceRight=function(J,K){var L=this._items;return 2===arguments.length?L.reduceRight(J,K):L.reduceRight(J)};E.prototype.remove=function(J){return this.removeAt(this.indexOf(J))};E.prototype.removeAt=function(J){if(!(0>J||J>=this.length||this._emitBeforeChanges()))return J=g(this._splice(J,1)),this._emitAfterChanges(),J};E.prototype.removeMany=
function(J){if(!J||!J.length||this._emitBeforeChanges())return[];J=u(J)?J.toArray():J;for(var K=this._items,L=[],O=J.length,U=0;U<O;U++){var S=K.indexOf(J[U]);if(-1<S){for(var M=U+1,N=S+1,T=Math.min(J.length-M,K.length-N),V=0;V<T&&J[M+V]===K[N+V];)V++;M=1+V;(S=this._splice(S,M))&&0<S.length&&L.push.apply(L,S);U+=M-1}}this._emitAfterChanges();return L};E.prototype.reverse=function(){if(this._emitBeforeChanges())return this;var J=this._splice(0,this.length);J&&(J.reverse(),this._splice.apply(this,[0,
0].concat(J)));this._emitAfterChanges();return this};E.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges()){var J=g(this._splice(0,1));this._emitAfterChanges();return J}};E.prototype.slice=function(J,K){void 0===J&&(J=0);void 0===K&&(K=this.length);return this._createNewInstance({items:this._items.slice(J,K)})};E.prototype.some=function(J,K){return this._items.some(J,K)};E.prototype.sort=function(J){if(!this.length||this._emitBeforeChanges())return this;var K=this._splice(0,this.length);
arguments.length?K.sort(J):K.sort();this._splice.apply(this,[0,0].concat(K));return this};E.prototype.splice=function(J,K){for(var L=[],O=2;O<arguments.length;O++)L[O-2]=arguments[O];if(this._emitBeforeChanges())return[];L=this._splice.apply(this,[J,K].concat(L))||[];this._emitAfterChanges();return L};E.prototype.toArray=function(){return this._items.slice()};E.prototype.toJSON=function(){return this.toArray()};E.prototype.toLocaleString=function(){return this._items.toLocaleString()};E.prototype.toString=
function(){return this._items.toString()};E.prototype.unshift=function(){for(var J=[],K=0;K<arguments.length;K++)J[K]=arguments[K];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[0,0].concat(J));this._emitAfterChanges();return this.length};E.prototype._createNewInstance=function(J){return new this.constructor(J)};E.prototype._splice=function(J,K){for(var L=[],O=2;O<arguments.length;O++)L[O-2]=arguments[O];O=this._items;var U=this.constructor.prototype.itemType;!this._notifications&&
this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=e.schedule(this._boundDispatch));if(K){var S=O.splice(J,K);if(this.hasEventListener("before-remove")){var M=w.acquire();M.target=this;M.cancellable=!0;for(var N=0,T=S.length;N<T;N++){var V=S[N];M.reset(V);this.emit("before-remove",M);M.defaultPrevented&&(S.splice(N,1),O.splice(J,0,V),J+=1,--N,--T)}w.release(M)}this.length=
this._items.length;if(this.hasEventListener("after-remove")){V=w.acquire();V.target=this;V.cancellable=!1;T=S.length;for(N=0;N<T;N++)V.reset(S[N]),this.emit("after-remove",V);w.release(V)}}if(L&&L.length){if(U){N=[];for(T=0;T<L.length;T++)V=L[T],M=U.ensureType(V),null==M&&null!=V||N.push(M);L=N}U=this.hasEventListener("before-add");N=this.hasEventListener("after-add");T=J===this.length;if(U||N){V=w.acquire();V.target=this;V.cancellable=!0;M=w.acquire();M.target=this;M.cancellable=!1;for(var ea=0,
P=L;ea<P.length;ea++){var ba=P[ea];U?(V.reset(ba),this.emit("before-add",V),V.defaultPrevented||(T?O.push(ba):O.splice(J++,0,ba),this._set("length",O.length),N&&(M.reset(ba),this.emit("after-add",M)))):(T?O.push(ba):O.splice(J++,0,ba),this._set("length",O.length),M.reset(ba),this.emit("after-add",M))}w.release(V)}else T?O.push.apply(O,L):O.splice.apply(O,[J,0].concat(L)),this._set("length",O.length)}(L&&L.length||S&&S.length)&&this._notifyChangeEvent(L,S);return S};E.prototype._emitBeforeChanges=
function(){var J=!1;if(this.hasEventListener("before-changes")){var K=w.acquire();K.target=this;K.cancellable=!0;this.emit("before-changes",K);J=K.defaultPrevented;w.release(K)}return J};E.prototype._emitAfterChanges=function(){if(this.hasEventListener("after-changes")){var J=w.acquire();J.target=this;J.cancellable=!1;this.emit("after-changes",J);w.release(J)}};E.prototype._notifyChangeEvent=function(J,K){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:J,
removed:K})};E.prototype._dispatchColChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var J=this._notifications;this._notifications=null;for(var K=function(U){var S=U.changes;B.clear();z.clear();C.clear();for(var M=0;M<S.length;M++){var N=S[M],T=N.added;N=N.removed;if(T)if(0===C.size&&0===z.size)for(var V=0,ea=T;V<ea.length;V++)T=ea[V],B.add(T);else for(V=0,ea=T;V<ea.length;V++)T=ea[V],z.has(T)?(C.add(T),z.delete(T)):C.has(T)||B.add(T);if(N)if(0===C.size&&
0===B.size)for(V=0;V<N.length;V++)T=N[V],z.add(T);else for(V=0;V<N.length;V++)T=N[V],B.has(T)?B.delete(T):(C.delete(T),z.add(T))}var P=n.acquire();B.forEach(function(ja){P.push(ja)});var ba=n.acquire();z.forEach(function(ja){ba.push(ja)});var la=L._items,Q=U.items,Y=n.acquire();C.forEach(function(ja){Q.indexOf(ja)!==la.indexOf(ja)&&Y.push(ja)});if(U.listeners&&(P.length||ba.length||Y.length))for(S={target:L,added:P,removed:ba,moved:Y},M=U.listeners.length,T=0;T<M;T++)N=U.listeners[T],N.removed||N.callback.call(L,
S);n.release(P);n.release(ba);n.release(Y)},L=this,O=0;O<J.length;O++)K(J[O]);B.clear();z.clear();C.clear()}};E.isCollection=u;m([f.property()],E.prototype,"length",void 0);m([f.property()],E.prototype,"items",null);return E=I=m([f.subclass("esri.core.Collection")],E)}(f.declared(t,h));return F})},"esri/layers/vectorTiles/core/Evented":function(){define(["require","exports","dojo/aspect","dojo/on"],function(G,A,a,m){function p(t,n,h,c){var b;Array.isArray(n)?b=n:-1<n.indexOf(",")&&(b=n.split(/\s*,\s*/));
if(b){var e=[];for(n=0;n<b.length;n++)e.push(p(t,b[n],h,c));e.remove=function(){for(var f=0;f<e.length;f++)e[f].remove()};return e}return c(t,n)}return function(){function t(){}t.prototype.emit=function(n,h){if(this.hasEventListener(n))return h=h||{},h.target||(h.target=this),m.emit(this,n,h)};t.prototype.on=function(n,h){return p(this,n,h,function(c,b){return a.after(c,"on"+b,h,!0)})};t.prototype.hasEventListener=function(n){n="on"+n;return!(!this[n]||!this[n].after)};return t}()})},"esri/layers/vectorTiles/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e){function f(k){for(var u in k)A.hasOwnProperty(u)||(A[u]=k[u])}Object.defineProperty(A,"__esModule",{value:!0});f(a);f(m);f(p);f(t);f(n);f(h);f(c);f(b);f(e)})},"esri/layers/vectorTiles/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});A.aliasOf=function(m){return function(p,t){a.getPropertyMetadata(p,t).aliasOf=m}}})},"esri/layers/vectorTiles/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});A.autoDestroy=function(){return function(m,p,t){a.getMetadata(m).autoDestroy=!0;return m[p]}}})},"esri/layers/vectorTiles/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.declared=function(a){for(var m=[],p=1;p<arguments.length;p++)m[p-1]=arguments[p];p=function(){return this||{}};p.__bases__=[a].concat(m);return p}})},
"esri/layers/vectorTiles/core/accessorSupport/decorators/property":function(){define("require exports dojo/has ../../lang ../../Logger ../metadata".split(" "),function(G,A,a,m,p,t){Object.defineProperty(A,"__esModule",{value:!0});var n=p.getLogger("esri.core.accessorSupport.decorators.property");A.property=function(h){void 0===h&&(h={});return function(c,b){var e=c.constructor.prototype;if(e===Function.prototype)a("dojo-debug-messages")&&n.error("Inappropriate use of @property() on a static field: "+
c.name+"."+b+". Accessor does not support static properties.");else{var f=Object.getOwnPropertyDescriptor(c,b);f&&(f.get||f.set)?(h=m.clone(h),f.set&&(h.set=f.set),f.get&&(h.get=f.get)):f&&f.hasOwnProperty("value")&&(h=m.clone(h),a("dojo-debug-messages")&&h.hasOwnProperty("value")&&n.warn('@property() will redefine the value of "'+b+'" on "'+c.constructor.name+'" already defined in the metadata',h),h.value=f.value);c=t.getPropertyMetadata(e,b);for(var k in h)b=h[k],Array.isArray(b)?c[k]=(c[k]||[]).concat(b):
c[k]=b}}};A.propertyJSONMeta=function(h,c,b){h=t.getPropertyMetadata(h.constructor.prototype,b);h.json||(h.json={});h=h.json;void 0!==c&&(h.origins||(h.origins={}),h.origins[c]||(h.origins[c]={}),h=h.origins[c]);return h}})},"esri/layers/vectorTiles/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(G,A,a,m){Object.defineProperty(A,"__esModule",{value:!0});A.reader=function(p,t,n){if(void 0===t||Array.isArray(t)){var h=p;n=t;var c=
[void 0]}else h=t,c=Array.isArray(p)?p:[p];return function(b,e,f){var k=b.constructor.prototype;c.forEach(function(u){u=m.propertyJSONMeta(b,u,h);u.read&&"object"!==typeof u.read&&(u.read={});a.setDeepValue("read.reader",k[e],u);n&&(u.read.source=(u.read.source||[]).concat(n))})}}})},"esri/layers/vectorTiles/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.shared=function(a){return function(m,p){m[p]=a}}})},
"esri/layers/vectorTiles/core/accessorSupport/decorators/subclass":function(){define(["require","exports","../../declare","../metadata"],function(G,A,a,m){function p(e,f){e.read&&("function"===typeof e.read?f.push(e.read):"object"===typeof e.read&&e.read.reader&&f.push(e.read.reader))}function t(e,f){e.write&&("function"===typeof e.write?f.push(e.write):"object"===typeof e.write&&e.write.writer&&f.push(e.write.writer))}function n(e){var f=[];e=m.getPropertiesMetadata(e.prototype);if(!e)return f;for(var k in e){var u=
e[k];u.cast&&f.push(u.cast);u.copy&&f.push(u.copy);if(u=u.json)if(p(u,f),t(u,f),u=u.origins)for(var v in u){var g=u[v];p(g,f);t(g,f)}}return f}function h(e){var f={values:{},descriptors:{}},k=["__bases__"],u=m.getPropertiesMetadata(e.prototype),v=n(e);Object.getOwnPropertyNames(e.prototype).filter(function(g){return-1!==k.indexOf(g)||u&&u.hasOwnProperty(g)||!b(Object.getOwnPropertyDescriptor(e.prototype,g))&&-1!==v.indexOf(e.prototype[g])?!1:!0}).forEach(function(g){var q=Object.getOwnPropertyDescriptor(e.prototype,
g);b(q)?f.descriptors[g]=q:f.values[g]=e.prototype[g]});return f}function c(e){var f=Object.getOwnPropertyNames(e),k=Object.getPrototypeOf(e.prototype).constructor,u=Object.getOwnPropertyNames(Function);u.push("__bases__");var v=Object.getOwnPropertyNames(k),g={values:{},descriptors:{}};f.filter(function(q){return-1!==u.indexOf(q)?!1:-1===v.indexOf(q)||k[q]!==e[q]?!0:!1}).forEach(function(q){var x=Object.getOwnPropertyDescriptor(e,q);b(x)?g.descriptors[q]=x:g.values[q]=e[q]});return g}function b(e){return e&&
!(!e.get&&!e.set)}Object.defineProperty(A,"__esModule",{value:!0});A.subclass=function(e){return function(f){var k=h(f),u=c(f);null!=e&&(k.values.declaredClass=e);f=a(f.__bases__,k.values);Object.defineProperties(f.prototype,k.descriptors);for(var v in u.values)f[v]=u.values[v];Object.defineProperties(f,u.descriptors);return f}}})},"esri/layers/vectorTiles/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(G,A,a,m){Object.defineProperty(A,
"__esModule",{value:!0});A.writer=function(p,t,n){if(void 0===t){var h=p;var c=[void 0]}else"string"!==typeof t?(h=p,c=[void 0],n=t):(h=t,c=Array.isArray(p)?p:[p]);return function(b,e,f){var k=b.constructor.prototype;c.forEach(function(u){u=m.propertyJSONMeta(b,u,h);u.write&&"object"!==typeof u.write&&(u.write={});n&&a.setDeepValue("write.target",n,u);a.setDeepValue("write.writer",k[e],u)})}}})},"esri/layers/vectorTiles/core/LRUMap":function(){define(["require","exports"],function(G,A){return function(){function a(m,
p){void 0===m&&(m=0);this.sizeOfFunction=function(){return 1};this._sizeOf=0;this._cache=new Map;this._queue=[];if(0>=m)throw Error("LRU cache size must be bigger than zero!");this._maxSize=m;p&&(p.disposeFunction&&(this.disposeFunction=p.disposeFunction),p.sizeOfFunction&&(this.sizeOfFunction=p.sizeOfFunction))}Object.defineProperty(a.prototype,"length",{get:function(){return this._cache.size},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"size",{get:function(){return this._sizeOf},
enumerable:!0,configurable:!0});a.prototype.clear=function(){var m=this;this._queue.length=0;this.disposeFunction&&this._cache.forEach(function(p,t){m.disposeFunction(t,p)});this._cache.clear();this._sizeOf=0};a.prototype.delete=function(m){var p=this._cache.get(m);return this._cache.delete(m)?(this._sizeOf-=this.sizeOfFunction(p),this._queue.splice(this._queue.indexOf(m),1),this.disposeFunction&&this.disposeFunction(m,p),!0):!1};a.prototype.forEach=function(m,p){this._cache.forEach(m,p)};a.prototype.get=
function(m){var p=this._cache.get(m);if(void 0!==p)return this._queue.splice(this._queue.indexOf(m),1),this._queue.unshift(m),p};a.prototype.has=function(m){return this._cache.has(m)};a.prototype.set=function(m,p){var t=this.get(m);void 0!==t?this._sizeOf-=this.sizeOfFunction(t):this._queue.unshift(m);this._sizeOf+=this.sizeOfFunction(p);this._cache.set(m,p);this._collect();return this};a.prototype._collect=function(){for(;this._queue.length&&this._sizeOf>this._maxSize;){var m=this._queue.pop(),p=
this._cache.get(m);this._cache.delete(m)&&(this._sizeOf-=this.sizeOfFunction(p),this.disposeFunction&&this.disposeFunction(m,p))}};return a}()})},"esri/layers/vectorTiles/core/watchUtils":function(){define(["require","exports","dojo/Deferred","dojo/promise/Promise"],function(G,A,a,m){function p(v,g){Array.isArray(v)?v.forEach(g):g(v)}function t(v,g,q,x,w){w=v.watch(g,function(B,z,C,y){x&&!x(B)||q.call(v,B,z,C,y)},w);p(g,function(B){var z=v.get(B);x&&x(z)&&q.call(v,z,z,B,v)});return w}function n(v,
g,q,x,w){function B(){D&&(D.remove(),D=null)}var z=!1,C=new a(B),y=new m;y.cancel=C.cancel;y.isCanceled=C.isCanceled;y.isFulfilled=C.isFulfilled;y.isRejected=C.isRejected;y.isResolved=C.isResolved;y.then=C.then;y.remove=B;Object.freeze(y);var D=t(v,g,function(F,H,E,I){z=!0;B();q&&q.call(v,F,H,E,I);C.resolve({value:F,oldValue:H,propertyName:E,target:I})},x,w);z&&D.remove();return y}function h(v){return!!v}function c(v){return!v}function b(v){return!0===v}function e(v){return!1===v}function f(v){return void 0!==
v}function k(v){return void 0===v}function u(v,g,q,x){var w=Array.isArray(g)?g:-1<g.indexOf(",")?g.split(","):[g];g=v.watch(g,q,x);w.forEach(function(B){B=B.trim();var z=v.get(B);q.call(v,z,z,B,v)});return g}Object.defineProperty(A,"__esModule",{value:!0});A.init=u;A.watch=function(v,g,q,x){return v.watch(g,q,x)};A.once=function(v,g,q,x){return n(v,g,q,null,x)};A.when=function(v,g,q,x){return t(v,g,q,h,x)};A.whenOnce=function(v,g,q,x){return n(v,g,q,h,x)};A.whenNot=function(v,g,q,x){return t(v,g,
q,c,x)};A.whenNotOnce=function(v,g,q,x){return n(v,g,q,c,x)};A.whenTrue=function(v,g,q,x){return t(v,g,q,b,x)};A.whenTrueOnce=function(v,g,q,x){return n(v,g,q,b,x)};A.whenFalse=function(v,g,q,x){return t(v,g,q,e,x)};A.whenFalseOnce=function(v,g,q,x){return n(v,g,q,e,x)};A.whenDefined=function(v,g,q,x){return t(v,g,q,f,x)};A.whenDefinedOnce=function(v,g,q,x){return n(v,g,q,f,x)};A.whenUndefined=function(v,g,q,x){return t(v,g,q,k,x)};A.whenUndefinedOnce=function(v,g,q,x){return n(v,g,q,k,x)};A.pausable=
function(v,g,q,x){var w=!1,B=v.watch(g,function(z,C,y,D){w||q.call(v,z,C,y,D)},x);return{remove:function(){B.remove()},pause:function(){w=!0},resume:function(){w=!1}}};A.on=function(v,g,q,x,w,B,z){function C(F){var H=y[F];H&&(B&&B(H.target,F,v,q),H.handle.remove(),delete y[F])}var y={},D=u(v,g,function(F,H,E){C(E);F&&"function"===typeof F.on&&(y[E]={handle:F.on(q,x),target:F},w&&w(F,E,v,q))},z);return{remove:function(){D.remove();for(var F in y)C(F)}}}})},"esri/layers/vectorTiles/layers/support/Tilemap":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../core/Error ../../core/lang ../../core/promiseUtils".split(" "),
function(G,A,a,m,p,t,n){function h(c){if("vector-tile"===c.service.type)var b=c.service.url+"/tilemap/"+c.level+"/"+c.row+"/"+c.col+"/"+c.width+"/"+c.height;else b=c.service.tileServers,b=(b&&b.length?b[c.row%b.length]:c.service.url)+"/tilemap/"+c.level+"/"+c.row+"/"+c.col+"/"+c.width+"/"+c.height;(c=c.service.query)&&(b=b+"?"+c);return b}Object.defineProperty(A,"__esModule",{value:!0});G=function(){function c(){this.location={left:0,top:0,width:0,height:0};this.byteSize=40}c.prototype.getAvailability=
function(b,e){if(this._isAllAvailable)return"available";if(this._isAllUnvailable)return"unavailable";b=(b-this.location.top)*this.location.width+(e-this.location.left);e=b>>3;var f=this._tileAvailabilityBitSet;return 0>e||e>f.length?"unknown":f[e]&1<<b%8?"available":"unavailable"};c.prototype._updateFromData=function(b){for(var e=!0,f=!0,k=new Uint8Array(Math.ceil(this.location.width*this.location.height/8)),u=0,v=0;v<b.length;v++){var g=v%8;b[v]?(f=!1,k[u]|=1<<g):e=!1;7===g&&++u}this._isAllUnvailable=
f;this._isAllAvailable=e;this._isAllAvailable||this._isAllUnvailable||(this._tileAvailabilityBitSet=k,this.byteSize+=k.length)};c.fromDefinition=function(b,e){var f=b.service.request||m,k=b.row,u=b.col,v=b.width,g=b.height,q={query:{f:"json"},callbackParamName:"callback"};e=e?a({},q,e):q;return f(h(b),e).then(function(x){return x.data}).catch(function(x){if(x&&x.details&&422===x.details.httpStatus){x=[];for(var w=0,B=v*g;w<B;w++)x[w]=0;return{location:{top:k,left:u,width:v,height:g},valid:!0,data:x}}return n.reject(x)}).then(function(x){if(x.location&&
(x.location.top!==k||x.location.left!==u||x.location.width!==v||x.location.height!==g))throw new p("tilemap:location-mismatch","Tilemap response for different location than requested",{response:x,definition:{top:k,left:u,width:v,height:g}});return c.fromJSON(x)})};c.fromJSON=function(b){c.validateJSON(b);var e=new c;e.location=Object.freeze(t.clone(b.location));e._updateFromData(b.data);return Object.freeze(e)};c.validateJSON=function(b){if(!b||!b.location)throw new p("tilemap:missing-location","Location missing from tilemap response");
if(!1===b.valid)throw new p("tilemap:invalid","Tilemap response was marked as invalid");if(!b.data)throw new p("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(b.data))throw new p("tilemap:data-mismatch","Data must be an array of numbers");if(b.data.length!==b.location.width*b.location.height)throw new p("tilemap:data-mismatch","Number of data items does not match width/height of tilemap");};return c}();A.Tilemap=G;A.tilemapDefinitionId=function(c){return c.level+"/"+
c.row+"/"+c.col+"/"+c.width+"/"+c.height};A.tilemapDefinitionUrl=h;A.default=G})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleRepository":function(){define(["require","exports","dojo/has","./StyleLayer"],function(G,A,a,m){return function(){function p(t,n){this.styleJSON=t;this.version=parseFloat(t.version);this.sprite=n?n.spriteUrl:t.sprite;this.glyphs=n?n.glyphsUrl:t.glyphs;if(a("stable-symbol-rendering")){var h=(t.layers||[]).filter(function(c){return c.layout&&c.layout["text-font"]})[0];
h&&(t.layers||[]).forEach(function(c){c.layout&&c.layout["text-font"]&&(c.layout["text-font"]=h.layout["text-font"])})}this.layers=(t.layers||[]).map(p._create);this._identifyRefLayers()}p.prototype._identifyRefLayers=function(){for(var t=[],n=[],h=0,c=0,b=this.layers;c<b.length;c++){var e=b[c];if(1===e.type){var f=e,k=e.sourceLayer;k+="|"+JSON.stringify(e.minzoom);k+="|"+JSON.stringify(e.maxzoom);k+="|"+JSON.stringify(e.filter);if(f.hasDataDrivenFill||f.hasDataDrivenOutline)k+="|"+JSON.stringify(h);
t.push({key:k,layer:e})}2===e.type&&(f=e,k=e.sourceLayer,k+="|"+JSON.stringify(e.minzoom),k+="|"+JSON.stringify(e.maxzoom),k+="|"+JSON.stringify(e.filter),k+="|"+JSON.stringify(e.layout&&e.layout["line-cap"]),k+="|"+JSON.stringify(e.layout&&e.layout["line-join"]),f.hasDataDrivenLine&&(k+="|"+JSON.stringify(h)),n.push({key:k,layer:e}));++h}this._assignRefLayers(t);this._assignRefLayers(n)};p.prototype._assignRefLayers=function(t){t.sort(function(u,v){return u.key<v.key?-1:u.key>v.key?1:0});for(var n,
h,c=t.length,b=0;b<c;b++){var e=t[b];if(e.key===n)e.layer.refLayerId=h;else if(n=e.key,h=e.layer.id,1===e.layer.type&&!e.layer.getPaintProperty("fill-outline-color"))for(var f=b+1;f<c;f++){var k=t[f];if(k.key===n){if(k.layer.getPaintProperty("fill-outline-color")){t[b]=k;t[f]=e;h=k.layer.id;break}}else break}}};p._create=function(t,n,h){n=1-1/(h.length+1)*(1+n);switch(t.type){case "background":return new m.BackgroundStyleLayer(0,t,n);case "fill":return new m.FillStyleLayer(1,t,n);case "line":return new m.LineStyleLayer(2,
t,n);case "symbol":return new m.SymbolStyleLayer(3,t,n);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new m.CircleStyleLayer(4,t,n)}throw Error("Unknown vector tile layer");};return p}()})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleLayer":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ./Filter ./StyleDefinition ./StyleProperty".split(" "),function(G,A,a,m,p,t,n){Object.defineProperty(A,
"__esModule",{value:!0});G=function(){function h(c,b,e){this.type=c;this.id=b.id;this.source=b.source;this.sourceLayer=b["source-layer"];this.minzoom=b.minzoom;this.maxzoom=b.maxzoom;this.filter=b.filter;this.layout=b.layout;this.paint=b.paint;this.z=e;switch(c){case 0:this._layoutDefinition=t.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=t.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=t.StyleDefinition.fillLayoutDefinition;this._paintDefinition=
t.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=t.StyleDefinition.lineLayoutDefinition;this._paintDefinition=t.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=t.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=t.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=t.StyleDefinition.circleLayoutDefinition,this._paintDefinition=t.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);
this._paintProperties=this._parsePaint(this.paint)}h.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=p.createFilter(this.filter)};h.prototype.getLayoutProperty=function(c){var b=this._layoutProperties;if(b)return b[c]};h.prototype.getPaintProperty=function(c){var b=this._paintProperties;if(b)return b[c]};h.prototype.getLayoutValue=function(c,b,e){var f,k=this._layoutProperties;k&&(k=k[c])&&(f=k.getValue(b,e));c=this._layoutDefinition[c];
void 0===f&&(f=c["default"]);"enum"===c.type&&(f=c.values.indexOf(f));return f};h.prototype.getPaintValue=function(c,b,e){var f,k=this._paintProperties;k&&(k=k[c])&&(f=k.getValue(b,e));c=this._paintDefinition[c];void 0===f&&(f=c["default"]);"enum"===c.type&&(f=c.values.indexOf(f));return f};h.prototype._parseLayout=function(c){var b={},e;for(e in c){var f=this._layoutDefinition[e];f&&(b[e]=new n(e,f,c[e]))}return b};h.prototype._parsePaint=function(c){var b={},e;for(e in c){var f=this._paintDefinition[e];
f&&(b[e]=new n(e,f,c[e]))}return b};return h}();A.StyleLayer=G;m=function(h){function c(b,e,f){return h.call(this,b,e,f)||this}a(c,h);return c}(G);A.BackgroundStyleLayer=m;m=function(h){function c(b,e,f){b=h.call(this,b,e,f)||this;e=b.getPaintProperty("fill-color");b.hasDataDrivenColor=e?e.isDataDriven:!1;e=b.getPaintProperty("fill-opacity");b.hasDataDrivenOpacity=e?e.isDataDriven:!1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;e=b.getPaintProperty("fill-outline-color");b.outlineUsesFillColor=
!e;b.hasDataDrivenOutlineColor=e?e.isDataDriven:!1;b.hasDataDrivenOutline=(e?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}a(c,h);return c}(G);A.FillStyleLayer=m;m=function(h){function c(b,e,f){b=h.call(this,b,e,f)||this;e=b.getPaintProperty("line-color");b.hasDataDrivenColor=e?e.isDataDriven:!1;e=b.getPaintProperty("line-opacity");b.hasDataDrivenOpacity=e?e.isDataDriven:!1;e=b.getPaintProperty("line-width");b.hasDataDrivenWidth=e?e.isDataDriven:!1;b.hasDataDrivenLine=
b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;return b}a(c,h);return c}(G);A.LineStyleLayer=m;m=function(h){function c(b,e,f){b=h.call(this,b,e,f)||this;e=b.getPaintProperty("icon-color");b.hasDataDrivenIconColor=e?e.isDataDriven:!1;e=b.getPaintProperty("icon-opacity");b.hasDataDrivenIconOpacity=e?e.isDataDriven:!1;e=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=e?e.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||b.hasDataDrivenIconSize;
e=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=e?e.isDataDriven:!1;e=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=e?e.isDataDriven:!1;e=b.getLayoutProperty("text-size");b.hasDataDrivenTextSize=e?e.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}a(c,h);return c}(G);A.SymbolStyleLayer=m;G=function(h){function c(b,e,f){b=h.call(this,b,e,f)||this;e=b.getPaintProperty("circle-radius");b.hasDataDrivenRadius=
e?e.isDataDriven:!1;e=b.getPaintProperty("circle-color");b.hasDataDrivenColor=e?e.isDataDriven:!1;e=b.getPaintProperty("circle-opacity");b.hasDataDrivenOpacity=e?e.isDataDriven:!1;e=b.getPaintProperty("circle-stroke-width");b.hasDataDrivenStrokeWidth=e?e.isDataDriven:!1;e=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=e?e.isDataDriven:!1;e=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=e?e.isDataDriven:!1;e=b.getPaintProperty("circle-blur");b.hasDataDrivenBlur=
e?e.isDataDriven:!1;return b}a(c,h);return c}(G);A.CircleStyleLayer=G;G=function(){return function(h,c,b){this.cap=h.getLayoutValue("line-cap",c,b);this.join=h.getLayoutValue("line-join",c,b);this.miterLimit=h.getLayoutValue("line-miter-limit",c,b);this.roundLimit=h.getLayoutValue("line-round-limit",c,b)}}();A.LineLayout=G;G=function(){return function(h,c,b,e){this.allowOverlap=h.getLayoutValue("icon-allow-overlap",c,e);this.ignorePlacement=h.getLayoutValue("icon-ignore-placement",c,e);this.optional=
h.getLayoutValue("icon-optional",c,e);this.rotationAlignment=h.getLayoutValue("icon-rotation-alignment",c,e);this.size=h.getLayoutValue("icon-size",c,e);this.rotate=h.getLayoutValue("icon-rotate",c,e);this.padding=h.getLayoutValue("icon-padding",c,e);this.keepUpright=h.getLayoutValue("icon-keep-upright",c,e);this.offset=h.getLayoutValue("icon-offset",c,e);2===this.rotationAlignment&&(this.rotationAlignment=b?0:1)}}();A.IconLayout=G;G=function(){return function(h,c,b,e){this.allowOverlap=h.getLayoutValue("text-allow-overlap",
c,e);this.ignorePlacement=h.getLayoutValue("text-ignore-placement",c,e);this.optional=h.getLayoutValue("text-optional",c,e);this.rotationAlignment=h.getLayoutValue("text-rotation-alignment",c,e);this.fontArray=h.getLayoutValue("text-font",c,e);this.maxWidth=h.getLayoutValue("text-max-width",c,e);this.lineHeight=h.getLayoutValue("text-line-height",c,e);this.letterSpacing=h.getLayoutValue("text-letter-spacing",c,e);this.justify=h.getLayoutValue("text-justify",c,e);this.anchor=h.getLayoutValue("text-anchor",
c,e);this.maxAngle=h.getLayoutValue("text-max-angle",c,e);this.size=h.getLayoutValue("text-size",c,e);this.rotate=h.getLayoutValue("text-rotate",c,e);this.padding=h.getLayoutValue("text-padding",c,e);this.keepUpright=h.getLayoutValue("text-keep-upright",c,e);this.transform=h.getLayoutValue("text-transform",c,e);this.offset=h.getLayoutValue("text-offset",c,e);2===this.rotationAlignment&&(this.rotationAlignment=b?0:1)}}();A.TextLayout=G})},"esri/layers/vectorTiles/views/vectorTiles/style/Filter":function(){define(["require",
"exports"],function(G,A){return function(){function a(m,p,t){this._op=m;"$type"===p?(this._val=t instanceof Array?t.map(function(n){return a._types.indexOf(n)}):a._types.indexOf(t),this._op+=11):(this._key=p,this._val=t)}a.prototype.filter=function(m){switch(this._op){case 0:return this._val;case 1:return m.values[this._key]===this._val;case 2:return m.values[this._key]!==this._val;case 3:return m.values[this._key]<this._val;case 4:return m.values[this._key]>this._val;case 5:return m.values[this._key]<=
this._val;case 6:return m.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(m.values[this._key]);case 8:return-1===this._val.indexOf(m.values[this._key]);case 9:for(var p=0,t=this._val;p<t.length;p++){var n=t[p];if(n.filter(m))return!0}return!1;case 10:p=0;for(t=this._val;p<t.length;p++)if(n=t[p],!n.filter(m))return!1;return!0;case 11:p=0;for(t=this._val;p<t.length;p++)if(n=t[p],n.filter(m))return!1;return!0;case 12:return m.type===this._val;case 13:return m.type!==this._val;case 14:return m.type<
this._val;case 15:return m.type>this._val;case 16:return m.type>=this._val;case 17:return m.type<=this._val;case 18:return-1!==this._val.indexOf(m.type);case 19:return-1===this._val.indexOf(m.type);case 20:return void 0!==m.values[this._key];case 21:return void 0===m.values[this._key]}};a.createFilter=function(m){if(!m)return new a(0,void 0,!0);var p=m[0];if(1>=m.length)return new a(0,void 0,"any"!==p);switch(p){case "\x3d\x3d":return new a(1,m[1],m[2]);case "!\x3d":return new a(2,m[1],m[2]);case "\x3e":return new a(4,
m[1],m[2]);case "\x3c":return new a(3,m[1],m[2]);case "\x3e\x3d":return new a(6,m[1],m[2]);case "\x3c\x3d":return new a(5,m[1],m[2]);case "in":return new a(7,m[1],m.slice(2));case "!in":return new a(8,m[1],m.slice(2));case "any":return new a(9,void 0,m.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,m.slice(1).map(a.createFilter.bind(this)));case "none":return new a(11,void 0,m.slice(1).map(a.createFilter.bind(this)));case "has":return new a(20,m[1],void 0);case "!has":return new a(21,
m[1],void 0);default:throw Error("invalid operator: "+p);}};a._types=["Unknown","Point","LineString","Polygon"];return a}()})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});G=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};
a.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},
"symbol-spacing":{type:"number",minimum:1,default:250},"symbol-avoid-edges":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},"icon-optional":{type:"boolean",default:!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"icon-rotate":{type:"number",default:0},"icon-padding":{type:"number",minimum:0,default:2},
"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,default:16},"text-max-width":{type:"number",minimum:0,default:10},"text-line-height":{type:"number",default:1.2},"text-letter-spacing":{type:"number",
default:0},"text-justify":{type:"enum",values:["left","center","right"],default:"center"},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-max-angle":{type:"number",minimum:0,default:45},"text-rotate":{type:"number",default:0},"text-padding":{type:"number",minimum:0,default:2},"text-keep-upright":{type:"boolean",default:!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},
"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-allow-overlap":{type:"boolean",default:!1},"text-ignore-placement":{type:"boolean",default:!1},"text-optional":{type:"boolean",default:!1}};a.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-color":{type:"color",default:[0,0,0,1]},"background-pattern":{type:"string"}};a.fillPaintDefinition=
{"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"fill-pattern":{type:"string"}};a.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-color":{type:"color",default:[0,
0,0,1]},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-blur":{type:"number",minimum:0,default:0},"line-dasharray":{type:"array",value:"number",default:[]},"line-pattern":{type:"string"}};a.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,
maximum:1,default:1},"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-color":{type:"color",
default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-halo-blur":{type:"number",minimum:0,default:0},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",
minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};a.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-color":{type:"color",default:[0,0,0,1]},"circle-blur":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",
length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1}};return a}();A.StyleDefinition=G})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../Color","../GeometryUtils"],function(G,A,a,m){return function(){function p(t,
n,h){this.isDataDriven=!1;switch(n.type){case "number":t=!0;break;case "color":t=!0;h=p._parseColor(h);break;case "array":t="number"===n.value;break;default:t=!1}null==h&&(h=n.default);t&&"interval"===h.type&&(t=!1);var c=h&&h.stops&&0<h.stops.length;if(c)for(var b=0,e=h.stops;b<e.length;b++){var f=e[b];f[1]=this._validate(f[1],n)}if(this.isDataDriven=h?!!h.property:!1)if(void 0!==h.default&&(h.default=this._validate(h.default,n)),c)switch(h.type){case "identity":this.getValue=this._buildIdentity(h,
n);break;case "categorical":this.getValue=this._buildCategorical(h,n);break;default:this.getValue=t?this._buildInterpolate(h,n):this._buildInterval(h,n)}else this.getValue=this._buildIdentity(h,n);else c?this.getValue=t?this._buildZoomInterpolate(h):this._buildZoomInterval(h):(h=this._validate(h,n),this.getValue=this._buildSimple(h))}p.prototype._validate=function(t,n){if("number"===n.type){if(t<n.minimum)return n.minimum;if(t>n.maximum)return n.maximum}return t};p.prototype._buildSimple=function(t){return function(){return t}};
p.prototype._buildIdentity=function(t,n){var h=this;return function(c,b){if(b){var e=b.values[t.property];"color"===n.type&&(e=p._parseColor(e))}void 0===e&&(e=t.default);return void 0!==e?h._validate(e,n):n.default}};p.prototype._buildCategorical=function(t,n){var h=this;return function(c,b){var e;b&&(e=b.values[t.property]);e=h._categorical(e,t.stops);return void 0!==e?e:void 0!==t.default?t.default:n.default}};p.prototype._buildInterval=function(t,n){var h=this;return function(c,b){var e;b&&(e=
b.values[t.property]);return"number"===typeof e?h._interval(e,t.stops):void 0!==t.default?t.default:n.default}};p.prototype._buildInterpolate=function(t,n){var h=this;return function(c,b){var e;b&&(e=b.values[t.property]);return"number"===typeof e?h._interpolate(e,t.stops,t.base||1):void 0!==t.default?t.default:n.default}};p.prototype._buildZoomInterpolate=function(t){var n=this;return function(h){return n._interpolate(h,t.stops,t.base||1)}};p.prototype._buildZoomInterval=function(t){var n=this;return function(h){return n._interval(h,
t.stops)}};p.prototype._categorical=function(t,n){for(var h=n.length,c=0;c<h;c++)if(n[c][0]===t)return n[c][1]};p.prototype._interval=function(t,n){for(var h=n.length,c=0,b=0;b<h;b++)if(n[b][0]<=t)c=b;else break;return n[c][1]};p.prototype._interpolate=function(t,n,h){for(var c,b,e=n.length,f=0;f<e;f++){var k=n[f];if(k[0]<=t)c=k;else{b=k;break}}if(c&&b){f=b[0]-c[0];t-=c[0];h=1===h?t/f:(Math.pow(h,t)-1)/(Math.pow(h,f)-1);if(Array.isArray(c[1])){c=c[1];b=b[1];t=[];for(f=0;f<c.length;f++)t.push(m.interpolate(c[f],
b[f],h));return t}return m.interpolate(c[1],b[1],h)}if(c)return c[1];if(b)return b[1]};p._isEmpty=function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0};p._parseColor=function(t){if(Array.isArray(t))return t;if("string"===typeof t){if(t=new a(t),!this._isEmpty(t))return a.toUnitRGBA(t)}else return t&&t.default&&(t.default=p._parseColor(t.default)),t&&t.stops&&(t.stops=t.stops.map(function(n){return[n[0],p._parseColor(n[1])]})),t};return p}()})},"esri/layers/vectorTiles/Color":function(){define(["./core/declare",
"./core/accessorSupport/ensureType","dojo/colors"],function(G,A,a){function m(n){return Math.max(0,Math.min(A.ensureInteger(n),255))}var p=G([a],{declaredClass:"esri.Color",toJSON:function(){return[m(this.r),m(this.g),m(this.b),1<this.a?this.a:m(255*this.a)]},clone:function(){return new p(this.toRgba())}});p.toJSON=function(n){return n&&[m(n.r),m(n.g),m(n.b),1<n.a?n.a:m(255*n.a)]};p.fromJSON=function(n){return n&&new p([n[0],n[1],n[2],n[3]/255])};p.toUnitRGB=function(n){return[n.r/255,n.g/255,n.b/
255]};p.toUnitRGBA=function(n){return[n.r/255,n.g/255,n.b/255,null!=n.a?n.a:1]};var t="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(G=0;G<t.length;G++)p[t[G]]=a[t[G]];p.named.rebeccapurple=[102,51,153];return p})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(G,A,a,m){var p={};A.setObject("dojo.colors",p);var t=function(h,c,b){0>b&&++b;1<b&&--b;var e=6*b;return 1>e?h+(c-h)*e:1>2*b?c:2>3*b?h+(c-h)*(2/3-b)*6:h};G.colorFromRgb=
a.fromRgb=function(h,c){var b=h.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(b){h=b[2].split(/\s*,\s*/);var e=h.length;b=b[1];if("rgb"==b&&3==e||"rgba"==b&&4==e)return b=h[0],"%"==b.charAt(b.length-1)?(b=m.map(h,function(u){return 2.56*parseFloat(u)}),4==e&&(b[3]=h[3]),a.fromArray(b,c)):a.fromArray(h,c);if("hsl"==b&&3==e||"hsla"==b&&4==e){b=(parseFloat(h[0])%360+360)%360/360;var f=parseFloat(h[1])/100,k=parseFloat(h[2])/100;f=.5>=k?k*(f+1):k+f-k*f;k=2*k-f;b=[256*t(k,f,b+1/3),256*t(k,
f,b),256*t(k,f,b-1/3),1];4==e&&(b[3]=h[3]);return a.fromArray(b,c)}}return null};var n=function(h,c,b){h=Number(h);return isNaN(h)?b:h<c?c:h>b?b:h};a.prototype.sanitize=function(){this.r=Math.round(n(this.r,0,255));this.g=Math.round(n(this.g,0,255));this.b=Math.round(n(this.b,0,255));this.a=n(this.a,0,1);return this};p.makeGrey=a.makeGrey=function(h,c){return a.fromArray([h,h,h,c])};A.mixin(a.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,
245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,
107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],
goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,
160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,
25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,
69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return a})},"esri/layers/vectorTiles/views/vectorTiles/GeometryUtils":function(){define(["require",
"exports"],function(G,A){function a(p,t){p%=t;return 0<=p?p:p+t}Object.defineProperty(A,"__esModule",{value:!0});A.C_INFINITY=Number.POSITIVE_INFINITY;A.C_PI=Math.PI;A.C_2PI=2*A.C_PI;A.C_PI_BY_2=A.C_PI/2;A.C_RAD_TO_256=128/A.C_PI;A.C_256_TO_RAD=A.C_PI/128;A.C_DEG_TO_256=256/360;A.C_DEG_TO_RAD=A.C_PI/180;A.C_SQRT2=1.414213562;A.C_SQRT2_INV=1/A.C_SQRT2;var m=1/Math.LN2;A.positiveMod=a;A.radToByte=function(p){return a(p*A.C_RAD_TO_256,256)};A.degToByte=function(p){return a(p*A.C_DEG_TO_256,256)};A.log2=
function(p){return Math.log(p)*m};A.sqr=function(p){return p*p};A.clamp=function(p,t,n){return Math.min(Math.max(p,t),n)};A.interpolate=function(p,t,n){return p*(1-n)+t*n};A.between=function(p,t,n){return p>=t&&p<=n||p>=n&&p<=t}})},"esri/layers/vectorTiles/views/vectorTiles/VectorTileContainer":function(){define("require exports ../../core/tsSupport/extendsHelper dojo/has ../../core/promiseUtils ../../core/libs/gl-matrix/mat4 ../../core/libs/gl-matrix/vec3 ../2d/engine/Container ../2d/engine/webgl/enums ../2d/engine/webgl/WGLPainter ./GeometryUtils ./renderers/Renderer".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f){return function(k){function u(){var v=k.call(this)||this;v.isInitialized=!1;v._displayWidth=0;v._displayHeight=0;v._pointToCallbacks=new Map;v._tileCoordinateScale=n.create();v._orientationVec=n.create();v._displayScale=n.create();v._orientationVec.set([0,0,1]);v._defaultTransform=t.create();return v}a(u,k);u.prototype.initialize=function(v,g,q,x){this._renderer=new f;this._renderer.initialize(v,g);this._tileInfoView=x;this._tileInfo=q;this.isInitialized=!0};u.prototype.destroy=
function(){this._renderer&&(this._renderer.dispose(),this._renderer=null)};u.prototype.hittest=function(v,g){var q=this,x=[v,g];return p.create(function(w,B){q._pointToCallbacks.set(x,{resolve:w,reject:B});q.requestRender()},function(){q._pointToCallbacks.has(x)&&q._pointToCallbacks.delete(x)})};u.prototype.prepareChildrenRenderParameters=function(v){var g=v.state;if(!g||!this._tileInfo||!this.isInitialized)return v;v.displayLevel=this._tileInfo.scaleToZoom(g.scale);v.requiredLevel=this._tileInfoView.getSmallestInfoForScale(g.scale).level;
v.renderer=this._renderer;return v};u.prototype.renderChildren=function(v){var g=this;if(0!==this.children.length&&this.isInitialized&&v&&v.state){var q=b.default.toWGLDrawPhases(v.drawPhase);if(!(0<q.length&&q[0]===c.WGLDrawPhase.LABEL)){this.sortChildren(function(z,C){return z.key.level-C.key.level});q=this.children.length;for(var x=1;x<=q;x++){var w=this.children[x-1];w.attached&&(w.stencilData.reference=x,w.stencilData.mask=255)}this._updateTilesTransform(v.state,this._tileInfoView.getSmallestInfoForScale(v.state.scale).level,
this.children);q=v.context;q.setDepthWriteEnabled(!0);this._renderer.setStateParams(v.state,v.pixelRatio,v.displayLevel);this._renderer.drawClippingMasks(q,this.children);q.setStencilWriteMask(0);q.setBlendFunctionSeparate(1,771,1,771);q.setStencilOp(7680,7680,7681);q.setDepthFunction(515);q.setBlendingEnabled(!1);q.setStencilTestEnabled(!0);q.setDepthTestEnabled(!0);q.setDepthWriteEnabled(!0);v.drawphase=0;k.prototype.renderChildren.call(this,v);q.setDepthWriteEnabled(!1);q.setBlendingEnabled(!0);
v.drawphase=1;k.prototype.renderChildren.call(this,v);v.drawphase=2;k.prototype.renderChildren.call(this,v);q.setStencilTestEnabled(!1);q.setDepthTestEnabled(!1);if(m("esri-vector-tiles-debug"))for(x=0,w=this.children;x<w.length;x++){var B=w[x];B.attached&&B.visible&&this._renderer.renderTileInfo(q,B)}0<this._pointToCallbacks.size&&(this._pointToCallbacks.forEach(function(z,C){z.resolve(g._hitTest(v,C[0],C[1]))}),this._pointToCallbacks.clear());this._renderer.needsRedraw()&&this.requestRender()}}};
u.prototype.removeAllChildren=function(){for(var v=0;v<this.children.length;v++)this.children[v].dispose();k.prototype.removeAllChildren.call(this)};u.prototype._hitTest=function(v,g,q){var x=this._tileInfoView.getClosestInfoForScale(v.state.scale).level,w=[0,0];v.state.toMap(w,[g,q]);var B=v.state.clone(),z=B.viewpoint.clone(),C=z.targetGeometry;C.x=w[0];C.y=w[1];z.targetGeometry=C;B.viewpoint=z;B.size=[3,3];this._renderer.setStateParams(B,v.pixelRatio,v.displayLevel);return(v=this._renderer.hitTest({drawPhase:0,
pixelRatio:v.pixelRatio,stationary:v.stationary,opacity:v.opacity,context:v.context,displayLevel:v.displayLevel,requiredLevel:v.requiredLevel,renderer:v.renderer,layerOpacity:v.layerOpacity,state:B,drawphase:3,painter:null},g,q,this.children,x,3,this._updateTilesTransform.bind(this)))&&0!==v.length?v[0]:null};u.prototype._updateTilesTransform=function(v,g,q){var x=1/v.width,w=1/v.height,B=[0,0];this._calculateRelativeViewProjMat(this._tileInfo.lodAt(g).resolution,v.resolution,v.rotation,this._tileInfo.size[1],
4096,v.width,v.height,this._defaultTransform);for(var z=0;z<q.length;z++){var C=q[z];v.toScreen(B,C.coords);B[1]=v.height-B[1];C.tileTransform.displayCoord[0]=2*B[0]*x-1;C.tileTransform.displayCoord[1]=2*B[1]*w-1;C.key.level===g&&4096===C.coordRange?C.tileTransform.transform.set(this._defaultTransform):this._calculateRelativeViewProjMat(this._tileInfo.lodAt(C.key.level).resolution,v.resolution,v.rotation,this._tileInfo.size[1],C.coordRange,v.width,v.height,C.tileTransform.transform)}};u.prototype._calculateRelativeViewProjMat=
function(v,g,q,x,w,B,z,C){var y=.125;512!==x&&4096!==w&&(y=x/w);v=v/g*y;this._tileCoordinateScale.set([v,v,1]);if(B!==this._displayWidth||z!==this._displayHeight)this._displayScale.set([2/B,-2/z,1]),this._displayWidth=B,this._displayHeight=z;t.identity(C);t.scale(C,C,this._tileCoordinateScale);t.rotate(C,C,-q*e.C_DEG_TO_RAD,this._orientationVec);t.scale(C,C,this._displayScale);t.transpose(C,C)};return u}(h)})},"esri/layers/vectorTiles/core/libs/gl-matrix/mat4":function(){define(["./common"],function(G){var A=
{scalar:{},SIMD:{},create:function(){var a=new G.ARRAY_TYPE(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var m=new G.ARRAY_TYPE(16);m[0]=a[0];m[1]=a[1];m[2]=a[2];m[3]=a[3];m[4]=a[4];m[5]=a[5];m[6]=a[6];m[7]=a[7];m[8]=a[8];m[9]=a[9];m[10]=a[10];m[11]=a[11];m[12]=a[12];m[13]=a[13];m[14]=a[14];m[15]=a[15];return m},copy:function(a,m){a[0]=m[0];a[1]=m[1];a[2]=m[2];a[3]=m[3];a[4]=m[4];a[5]=m[5];a[6]=
m[6];a[7]=m[7];a[8]=m[8];a[9]=m[9];a[10]=m[10];a[11]=m[11];a[12]=m[12];a[13]=m[13];a[14]=m[14];a[15]=m[15];return a},fromValues:function(a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x){var w=new G.ARRAY_TYPE(16);w[0]=a;w[1]=m;w[2]=p;w[3]=t;w[4]=n;w[5]=h;w[6]=c;w[7]=b;w[8]=e;w[9]=f;w[10]=k;w[11]=u;w[12]=v;w[13]=g;w[14]=q;w[15]=x;return w},set:function(a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w){a[0]=m;a[1]=p;a[2]=t;a[3]=n;a[4]=h;a[5]=c;a[6]=b;a[7]=e;a[8]=f;a[9]=k;a[10]=u;a[11]=v;a[12]=g;a[13]=q;a[14]=x;a[15]=w;return a},
identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}};A.scalar.transpose=function(a,m){if(a===m){var p=m[1],t=m[2],n=m[3],h=m[6],c=m[7],b=m[11];a[1]=m[4];a[2]=m[8];a[3]=m[12];a[4]=p;a[6]=m[9];a[7]=m[13];a[8]=t;a[9]=h;a[11]=m[14];a[12]=n;a[13]=c;a[14]=b}else a[0]=m[0],a[1]=m[4],a[2]=m[8],a[3]=m[12],a[4]=m[1],a[5]=m[5],a[6]=m[9],a[7]=m[13],a[8]=m[2],a[9]=m[6],a[10]=m[10],a[11]=m[14],a[12]=m[3],a[13]=m[7],
a[14]=m[11],a[15]=m[15];return a};A.SIMD.transpose=function(a,m){var p=SIMD.Float32x4.load(m,0);var t=SIMD.Float32x4.load(m,4);var n=SIMD.Float32x4.load(m,8);m=SIMD.Float32x4.load(m,12);var h=SIMD.Float32x4.shuffle(p,t,0,1,4,5);var c=SIMD.Float32x4.shuffle(n,m,0,1,4,5);var b=SIMD.Float32x4.shuffle(h,c,0,2,4,6);h=SIMD.Float32x4.shuffle(h,c,1,3,5,7);SIMD.Float32x4.store(a,0,b);SIMD.Float32x4.store(a,4,h);h=SIMD.Float32x4.shuffle(p,t,2,3,6,7);c=SIMD.Float32x4.shuffle(n,m,2,3,6,7);p=SIMD.Float32x4.shuffle(h,
c,0,2,4,6);t=SIMD.Float32x4.shuffle(h,c,1,3,5,7);SIMD.Float32x4.store(a,8,p);SIMD.Float32x4.store(a,12,t);return a};A.transpose=G.USE_SIMD?A.SIMD.transpose:A.scalar.transpose;A.scalar.invert=function(a,m){var p=m[0],t=m[1],n=m[2],h=m[3],c=m[4],b=m[5],e=m[6],f=m[7],k=m[8],u=m[9],v=m[10],g=m[11],q=m[12],x=m[13],w=m[14];m=m[15];var B=p*b-t*c,z=p*e-n*c,C=p*f-h*c,y=t*e-n*b,D=t*f-h*b,F=n*f-h*e,H=k*x-u*q,E=k*w-v*q,I=k*m-g*q,J=u*w-v*x,K=u*m-g*x,L=v*m-g*w,O=B*L-z*K+C*J+y*I-D*E+F*H;if(!O)return null;O=1/O;
a[0]=(b*L-e*K+f*J)*O;a[1]=(n*K-t*L-h*J)*O;a[2]=(x*F-w*D+m*y)*O;a[3]=(v*D-u*F-g*y)*O;a[4]=(e*I-c*L-f*E)*O;a[5]=(p*L-n*I+h*E)*O;a[6]=(w*C-q*F-m*z)*O;a[7]=(k*F-v*C+g*z)*O;a[8]=(c*K-b*I+f*H)*O;a[9]=(t*I-p*K-h*H)*O;a[10]=(q*D-x*C+m*B)*O;a[11]=(u*C-k*D-g*B)*O;a[12]=(b*E-c*J-e*H)*O;a[13]=(p*J-t*E+n*H)*O;a[14]=(x*z-q*y-w*B)*O;a[15]=(k*y-u*z+v*B)*O;return a};A.SIMD.invert=function(a,m){var p=SIMD.Float32x4.load(m,0);var t=SIMD.Float32x4.load(m,4);var n=SIMD.Float32x4.load(m,8);var h=SIMD.Float32x4.load(m,
12);m=SIMD.Float32x4.shuffle(p,t,0,1,4,5);var c=SIMD.Float32x4.shuffle(n,h,0,1,4,5);var b=SIMD.Float32x4.shuffle(m,c,0,2,4,6);c=SIMD.Float32x4.shuffle(c,m,1,3,5,7);m=SIMD.Float32x4.shuffle(p,t,2,3,6,7);var e=SIMD.Float32x4.shuffle(n,h,2,3,6,7);var f=SIMD.Float32x4.shuffle(m,e,0,2,4,6);e=SIMD.Float32x4.shuffle(e,m,1,3,5,7);m=SIMD.Float32x4.mul(f,e);m=SIMD.Float32x4.swizzle(m,1,0,3,2);p=SIMD.Float32x4.mul(c,m);t=SIMD.Float32x4.mul(b,m);m=SIMD.Float32x4.swizzle(m,2,3,0,1);p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(c,
m),p);t=SIMD.Float32x4.sub(SIMD.Float32x4.mul(b,m),t);t=SIMD.Float32x4.swizzle(t,2,3,0,1);m=SIMD.Float32x4.mul(c,f);m=SIMD.Float32x4.swizzle(m,1,0,3,2);p=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,m),p);h=SIMD.Float32x4.mul(b,m);m=SIMD.Float32x4.swizzle(m,2,3,0,1);p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(e,m));h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(b,m),h);h=SIMD.Float32x4.swizzle(h,2,3,0,1);m=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,3,0,1),e);m=SIMD.Float32x4.swizzle(m,1,0,3,2);f=SIMD.Float32x4.swizzle(f,
2,3,0,1);p=SIMD.Float32x4.add(SIMD.Float32x4.mul(f,m),p);n=SIMD.Float32x4.mul(b,m);m=SIMD.Float32x4.swizzle(m,2,3,0,1);p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(f,m));n=SIMD.Float32x4.sub(SIMD.Float32x4.mul(b,m),n);n=SIMD.Float32x4.swizzle(n,2,3,0,1);m=SIMD.Float32x4.mul(b,c);m=SIMD.Float32x4.swizzle(m,1,0,3,2);n=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,m),n);h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(f,m),h);m=SIMD.Float32x4.swizzle(m,2,3,0,1);n=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,m),n);h=SIMD.Float32x4.sub(h,
SIMD.Float32x4.mul(f,m));m=SIMD.Float32x4.mul(b,e);m=SIMD.Float32x4.swizzle(m,1,0,3,2);t=SIMD.Float32x4.sub(t,SIMD.Float32x4.mul(f,m));n=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,m),n);m=SIMD.Float32x4.swizzle(m,2,3,0,1);t=SIMD.Float32x4.add(SIMD.Float32x4.mul(f,m),t);n=SIMD.Float32x4.sub(n,SIMD.Float32x4.mul(c,m));m=SIMD.Float32x4.mul(b,f);m=SIMD.Float32x4.swizzle(m,1,0,3,2);t=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,m),t);h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(c,m));m=SIMD.Float32x4.swizzle(m,2,
3,0,1);t=SIMD.Float32x4.sub(t,SIMD.Float32x4.mul(e,m));h=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,m),h);b=SIMD.Float32x4.mul(b,p);b=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(b,2,3,0,1),b);b=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(b,1,0,3,2),b);m=SIMD.Float32x4.reciprocalApproximation(b);b=SIMD.Float32x4.sub(SIMD.Float32x4.add(m,m),SIMD.Float32x4.mul(b,SIMD.Float32x4.mul(m,m)));b=SIMD.Float32x4.swizzle(b,0,0,0,0);if(!b)return null;SIMD.Float32x4.store(a,0,SIMD.Float32x4.mul(b,p));SIMD.Float32x4.store(a,
4,SIMD.Float32x4.mul(b,t));SIMD.Float32x4.store(a,8,SIMD.Float32x4.mul(b,n));SIMD.Float32x4.store(a,12,SIMD.Float32x4.mul(b,h));return a};A.invert=G.USE_SIMD?A.SIMD.invert:A.scalar.invert;A.scalar.adjoint=function(a,m){var p=m[0],t=m[1],n=m[2],h=m[3],c=m[4],b=m[5],e=m[6],f=m[7],k=m[8],u=m[9],v=m[10],g=m[11],q=m[12],x=m[13],w=m[14];m=m[15];a[0]=b*(v*m-g*w)-u*(e*m-f*w)+x*(e*g-f*v);a[1]=-(t*(v*m-g*w)-u*(n*m-h*w)+x*(n*g-h*v));a[2]=t*(e*m-f*w)-b*(n*m-h*w)+x*(n*f-h*e);a[3]=-(t*(e*g-f*v)-b*(n*g-h*v)+u*(n*
f-h*e));a[4]=-(c*(v*m-g*w)-k*(e*m-f*w)+q*(e*g-f*v));a[5]=p*(v*m-g*w)-k*(n*m-h*w)+q*(n*g-h*v);a[6]=-(p*(e*m-f*w)-c*(n*m-h*w)+q*(n*f-h*e));a[7]=p*(e*g-f*v)-c*(n*g-h*v)+k*(n*f-h*e);a[8]=c*(u*m-g*x)-k*(b*m-f*x)+q*(b*g-f*u);a[9]=-(p*(u*m-g*x)-k*(t*m-h*x)+q*(t*g-h*u));a[10]=p*(b*m-f*x)-c*(t*m-h*x)+q*(t*f-h*b);a[11]=-(p*(b*g-f*u)-c*(t*g-h*u)+k*(t*f-h*b));a[12]=-(c*(u*w-v*x)-k*(b*w-e*x)+q*(b*v-e*u));a[13]=p*(u*w-v*x)-k*(t*w-n*x)+q*(t*v-n*u);a[14]=-(p*(b*w-e*x)-c*(t*w-n*x)+q*(t*e-n*b));a[15]=p*(b*v-e*u)-c*
(t*v-n*u)+k*(t*e-n*b);return a};A.SIMD.adjoint=function(a,m){var p=SIMD.Float32x4.load(m,0);var t=SIMD.Float32x4.load(m,4);var n=SIMD.Float32x4.load(m,8);var h=SIMD.Float32x4.load(m,12);var c=SIMD.Float32x4.shuffle(p,t,0,1,4,5);var b=SIMD.Float32x4.shuffle(n,h,0,1,4,5);m=SIMD.Float32x4.shuffle(c,b,0,2,4,6);b=SIMD.Float32x4.shuffle(b,c,1,3,5,7);c=SIMD.Float32x4.shuffle(p,t,2,3,6,7);t=SIMD.Float32x4.shuffle(n,h,2,3,6,7);p=SIMD.Float32x4.shuffle(c,t,0,2,4,6);t=SIMD.Float32x4.shuffle(t,c,1,3,5,7);c=SIMD.Float32x4.mul(p,
t);c=SIMD.Float32x4.swizzle(c,1,0,3,2);n=SIMD.Float32x4.mul(b,c);h=SIMD.Float32x4.mul(m,c);c=SIMD.Float32x4.swizzle(c,2,3,0,1);n=SIMD.Float32x4.sub(SIMD.Float32x4.mul(b,c),n);h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(m,c),h);h=SIMD.Float32x4.swizzle(h,2,3,0,1);c=SIMD.Float32x4.mul(b,p);c=SIMD.Float32x4.swizzle(c,1,0,3,2);n=SIMD.Float32x4.add(SIMD.Float32x4.mul(t,c),n);var e=SIMD.Float32x4.mul(m,c);c=SIMD.Float32x4.swizzle(c,2,3,0,1);n=SIMD.Float32x4.sub(n,SIMD.Float32x4.mul(t,c));e=SIMD.Float32x4.sub(SIMD.Float32x4.mul(m,
c),e);e=SIMD.Float32x4.swizzle(e,2,3,0,1);c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b,2,3,0,1),t);c=SIMD.Float32x4.swizzle(c,1,0,3,2);p=SIMD.Float32x4.swizzle(p,2,3,0,1);n=SIMD.Float32x4.add(SIMD.Float32x4.mul(p,c),n);var f=SIMD.Float32x4.mul(m,c);c=SIMD.Float32x4.swizzle(c,2,3,0,1);n=SIMD.Float32x4.sub(n,SIMD.Float32x4.mul(p,c));f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(m,c),f);f=SIMD.Float32x4.swizzle(f,2,3,0,1);c=SIMD.Float32x4.mul(m,b);c=SIMD.Float32x4.swizzle(c,1,0,3,2);f=SIMD.Float32x4.add(SIMD.Float32x4.mul(t,
c),f);e=SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,c),e);c=SIMD.Float32x4.swizzle(c,2,3,0,1);f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(t,c),f);e=SIMD.Float32x4.sub(e,SIMD.Float32x4.mul(p,c));c=SIMD.Float32x4.mul(m,t);c=SIMD.Float32x4.swizzle(c,1,0,3,2);h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(p,c));f=SIMD.Float32x4.add(SIMD.Float32x4.mul(b,c),f);c=SIMD.Float32x4.swizzle(c,2,3,0,1);h=SIMD.Float32x4.add(SIMD.Float32x4.mul(p,c),h);f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(b,c));c=SIMD.Float32x4.mul(m,p);
c=SIMD.Float32x4.swizzle(c,1,0,3,2);h=SIMD.Float32x4.add(SIMD.Float32x4.mul(t,c),h);e=SIMD.Float32x4.sub(e,SIMD.Float32x4.mul(b,c));c=SIMD.Float32x4.swizzle(c,2,3,0,1);h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(t,c));e=SIMD.Float32x4.add(SIMD.Float32x4.mul(b,c),e);SIMD.Float32x4.store(a,0,n);SIMD.Float32x4.store(a,4,h);SIMD.Float32x4.store(a,8,f);SIMD.Float32x4.store(a,12,e);return a};A.adjoint=G.USE_SIMD?A.SIMD.adjoint:A.scalar.adjoint;A.determinant=function(a){var m=a[0],p=a[1],t=a[2],n=a[3],h=a[4],
c=a[5],b=a[6],e=a[7],f=a[8],k=a[9],u=a[10],v=a[11],g=a[12],q=a[13],x=a[14];a=a[15];return(m*c-p*h)*(u*a-v*x)-(m*b-t*h)*(k*a-v*q)+(m*e-n*h)*(k*x-u*q)+(p*b-t*c)*(f*a-v*g)-(p*e-n*c)*(f*x-u*g)+(t*e-n*b)*(f*q-k*g)};A.SIMD.multiply=function(a,m,p){var t=SIMD.Float32x4.load(m,0),n=SIMD.Float32x4.load(m,4),h=SIMD.Float32x4.load(m,8);m=SIMD.Float32x4.load(m,12);var c=SIMD.Float32x4.load(p,0);c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),t),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,
1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),h),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),m))));SIMD.Float32x4.store(a,0,c);c=SIMD.Float32x4.load(p,4);c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),t),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),h),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),m))));SIMD.Float32x4.store(a,
4,c);c=SIMD.Float32x4.load(p,8);c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),t),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),h),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),m))));SIMD.Float32x4.store(a,8,c);p=SIMD.Float32x4.load(p,12);t=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,0,0,0,0),t),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,
1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,2,2,2,2),h),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,3,3,3,3),m))));SIMD.Float32x4.store(a,12,t);return a};A.scalar.multiply=function(a,m,p){var t=m[0],n=m[1],h=m[2],c=m[3],b=m[4],e=m[5],f=m[6],k=m[7],u=m[8],v=m[9],g=m[10],q=m[11],x=m[12],w=m[13],B=m[14];m=m[15];var z=p[0],C=p[1],y=p[2],D=p[3];a[0]=z*t+C*b+y*u+D*x;a[1]=z*n+C*e+y*v+D*w;a[2]=z*h+C*f+y*g+D*B;a[3]=z*c+C*k+y*q+D*m;z=p[4];C=p[5];y=p[6];D=p[7];a[4]=z*t+C*b+y*u+
D*x;a[5]=z*n+C*e+y*v+D*w;a[6]=z*h+C*f+y*g+D*B;a[7]=z*c+C*k+y*q+D*m;z=p[8];C=p[9];y=p[10];D=p[11];a[8]=z*t+C*b+y*u+D*x;a[9]=z*n+C*e+y*v+D*w;a[10]=z*h+C*f+y*g+D*B;a[11]=z*c+C*k+y*q+D*m;z=p[12];C=p[13];y=p[14];D=p[15];a[12]=z*t+C*b+y*u+D*x;a[13]=z*n+C*e+y*v+D*w;a[14]=z*h+C*f+y*g+D*B;a[15]=z*c+C*k+y*q+D*m;return a};A.multiply=G.USE_SIMD?A.SIMD.multiply:A.scalar.multiply;A.mul=A.multiply;A.scalar.translate=function(a,m,p){var t=p[0],n=p[1];p=p[2];if(m===a)a[12]=m[0]*t+m[4]*n+m[8]*p+m[12],a[13]=m[1]*t+
m[5]*n+m[9]*p+m[13],a[14]=m[2]*t+m[6]*n+m[10]*p+m[14],a[15]=m[3]*t+m[7]*n+m[11]*p+m[15];else{var h=m[0];var c=m[1];var b=m[2];var e=m[3];var f=m[4];var k=m[5];var u=m[6];var v=m[7];var g=m[8];var q=m[9];var x=m[10];var w=m[11];a[0]=h;a[1]=c;a[2]=b;a[3]=e;a[4]=f;a[5]=k;a[6]=u;a[7]=v;a[8]=g;a[9]=q;a[10]=x;a[11]=w;a[12]=h*t+f*n+g*p+m[12];a[13]=c*t+k*n+q*p+m[13];a[14]=b*t+u*n+x*p+m[14];a[15]=e*t+v*n+w*p+m[15]}return a};A.SIMD.translate=function(a,m,p){var t=SIMD.Float32x4.load(m,0),n=SIMD.Float32x4.load(m,
4),h=SIMD.Float32x4.load(m,8),c=SIMD.Float32x4.load(m,12);p=SIMD.Float32x4(p[0],p[1],p[2],0);m!==a&&(a[0]=m[0],a[1]=m[1],a[2]=m[2],a[3]=m[3],a[4]=m[4],a[5]=m[5],a[6]=m[6],a[7]=m[7],a[8]=m[8],a[9]=m[9],a[10]=m[10],a[11]=m[11]);t=SIMD.Float32x4.mul(t,SIMD.Float32x4.swizzle(p,0,0,0,0));n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(p,1,1,1,1));h=SIMD.Float32x4.mul(h,SIMD.Float32x4.swizzle(p,2,2,2,2));m=SIMD.Float32x4.add(t,SIMD.Float32x4.add(n,SIMD.Float32x4.add(h,c)));SIMD.Float32x4.store(a,12,m);return a};
A.translate=G.USE_SIMD?A.SIMD.translate:A.scalar.translate;A.scalar.scale=function(a,m,p){var t=p[0],n=p[1];p=p[2];a[0]=m[0]*t;a[1]=m[1]*t;a[2]=m[2]*t;a[3]=m[3]*t;a[4]=m[4]*n;a[5]=m[5]*n;a[6]=m[6]*n;a[7]=m[7]*n;a[8]=m[8]*p;a[9]=m[9]*p;a[10]=m[10]*p;a[11]=m[11]*p;a[12]=m[12];a[13]=m[13];a[14]=m[14];a[15]=m[15];return a};A.SIMD.scale=function(a,m,p){p=SIMD.Float32x4(p[0],p[1],p[2],0);var t=SIMD.Float32x4.load(m,0);SIMD.Float32x4.store(a,0,SIMD.Float32x4.mul(t,SIMD.Float32x4.swizzle(p,0,0,0,0)));t=SIMD.Float32x4.load(m,
4);SIMD.Float32x4.store(a,4,SIMD.Float32x4.mul(t,SIMD.Float32x4.swizzle(p,1,1,1,1)));t=SIMD.Float32x4.load(m,8);SIMD.Float32x4.store(a,8,SIMD.Float32x4.mul(t,SIMD.Float32x4.swizzle(p,2,2,2,2)));a[12]=m[12];a[13]=m[13];a[14]=m[14];a[15]=m[15];return a};A.scale=G.USE_SIMD?A.SIMD.scale:A.scalar.scale;A.rotate=function(a,m,p,t){var n=t[0],h=t[1];t=t[2];var c=Math.sqrt(n*n+h*h+t*t);if(Math.abs(c)<G.EPSILON)return null;c=1/c;n*=c;h*=c;t*=c;var b=Math.sin(p);var e=Math.cos(p);var f=1-e;p=m[0];c=m[1];var k=
m[2];var u=m[3];var v=m[4];var g=m[5];var q=m[6];var x=m[7];var w=m[8];var B=m[9];var z=m[10];var C=m[11];var y=n*n*f+e;var D=h*n*f+t*b;var F=t*n*f-h*b;var H=n*h*f-t*b;var E=h*h*f+e;var I=t*h*f+n*b;var J=n*t*f+h*b;n=h*t*f-n*b;h=t*t*f+e;a[0]=p*y+v*D+w*F;a[1]=c*y+g*D+B*F;a[2]=k*y+q*D+z*F;a[3]=u*y+x*D+C*F;a[4]=p*H+v*E+w*I;a[5]=c*H+g*E+B*I;a[6]=k*H+q*E+z*I;a[7]=u*H+x*E+C*I;a[8]=p*J+v*n+w*h;a[9]=c*J+g*n+B*h;a[10]=k*J+q*n+z*h;a[11]=u*J+x*n+C*h;m!==a&&(a[12]=m[12],a[13]=m[13],a[14]=m[14],a[15]=m[15]);return a};
A.scalar.rotateX=function(a,m,p){var t=Math.sin(p);p=Math.cos(p);var n=m[4],h=m[5],c=m[6],b=m[7],e=m[8],f=m[9],k=m[10],u=m[11];m!==a&&(a[0]=m[0],a[1]=m[1],a[2]=m[2],a[3]=m[3],a[12]=m[12],a[13]=m[13],a[14]=m[14],a[15]=m[15]);a[4]=n*p+e*t;a[5]=h*p+f*t;a[6]=c*p+k*t;a[7]=b*p+u*t;a[8]=e*p-n*t;a[9]=f*p-h*t;a[10]=k*p-c*t;a[11]=u*p-b*t;return a};A.SIMD.rotateX=function(a,m,p){var t=SIMD.Float32x4.splat(Math.sin(p));p=SIMD.Float32x4.splat(Math.cos(p));m!==a&&(a[0]=m[0],a[1]=m[1],a[2]=m[2],a[3]=m[3],a[12]=
m[12],a[13]=m[13],a[14]=m[14],a[15]=m[15]);var n=SIMD.Float32x4.load(m,4);m=SIMD.Float32x4.load(m,8);SIMD.Float32x4.store(a,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(n,p),SIMD.Float32x4.mul(m,t)));SIMD.Float32x4.store(a,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(m,p),SIMD.Float32x4.mul(n,t)));return a};A.rotateX=G.USE_SIMD?A.SIMD.rotateX:A.scalar.rotateX;A.scalar.rotateY=function(a,m,p){var t=Math.sin(p);p=Math.cos(p);var n=m[0],h=m[1],c=m[2],b=m[3],e=m[8],f=m[9],k=m[10],u=m[11];m!==a&&(a[4]=m[4],a[5]=
m[5],a[6]=m[6],a[7]=m[7],a[12]=m[12],a[13]=m[13],a[14]=m[14],a[15]=m[15]);a[0]=n*p-e*t;a[1]=h*p-f*t;a[2]=c*p-k*t;a[3]=b*p-u*t;a[8]=n*t+e*p;a[9]=h*t+f*p;a[10]=c*t+k*p;a[11]=b*t+u*p;return a};A.SIMD.rotateY=function(a,m,p){var t=SIMD.Float32x4.splat(Math.sin(p));p=SIMD.Float32x4.splat(Math.cos(p));m!==a&&(a[4]=m[4],a[5]=m[5],a[6]=m[6],a[7]=m[7],a[12]=m[12],a[13]=m[13],a[14]=m[14],a[15]=m[15]);var n=SIMD.Float32x4.load(m,0);m=SIMD.Float32x4.load(m,8);SIMD.Float32x4.store(a,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,
p),SIMD.Float32x4.mul(m,t)));SIMD.Float32x4.store(a,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(n,t),SIMD.Float32x4.mul(m,p)));return a};A.rotateY=G.USE_SIMD?A.SIMD.rotateY:A.scalar.rotateY;A.scalar.rotateZ=function(a,m,p){var t=Math.sin(p);p=Math.cos(p);var n=m[0],h=m[1],c=m[2],b=m[3],e=m[4],f=m[5],k=m[6],u=m[7];m!==a&&(a[8]=m[8],a[9]=m[9],a[10]=m[10],a[11]=m[11],a[12]=m[12],a[13]=m[13],a[14]=m[14],a[15]=m[15]);a[0]=n*p+e*t;a[1]=h*p+f*t;a[2]=c*p+k*t;a[3]=b*p+u*t;a[4]=e*p-n*t;a[5]=f*p-h*t;a[6]=k*p-c*
t;a[7]=u*p-b*t;return a};A.SIMD.rotateZ=function(a,m,p){var t=SIMD.Float32x4.splat(Math.sin(p));p=SIMD.Float32x4.splat(Math.cos(p));m!==a&&(a[8]=m[8],a[9]=m[9],a[10]=m[10],a[11]=m[11],a[12]=m[12],a[13]=m[13],a[14]=m[14],a[15]=m[15]);var n=SIMD.Float32x4.load(m,0);m=SIMD.Float32x4.load(m,4);SIMD.Float32x4.store(a,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(n,p),SIMD.Float32x4.mul(m,t)));SIMD.Float32x4.store(a,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(m,p),SIMD.Float32x4.mul(n,t)));return a};A.rotateZ=G.USE_SIMD?
A.SIMD.rotateZ:A.scalar.rotateZ;A.fromTranslation=function(a,m){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=m[0];a[13]=m[1];a[14]=m[2];a[15]=1;return a};A.fromScaling=function(a,m){a[0]=m[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=m[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=m[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};A.fromRotation=function(a,m,p){var t=p[0],n=p[1];p=p[2];var h=Math.sqrt(t*t+n*n+p*p);if(Math.abs(h)<G.EPSILON)return null;h=1/h;t*=h;n*=
h;p*=h;h=Math.sin(m);m=Math.cos(m);var c=1-m;a[0]=t*t*c+m;a[1]=n*t*c+p*h;a[2]=p*t*c-n*h;a[3]=0;a[4]=t*n*c-p*h;a[5]=n*n*c+m;a[6]=p*n*c+t*h;a[7]=0;a[8]=t*p*c+n*h;a[9]=n*p*c-t*h;a[10]=p*p*c+m;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};A.fromXRotation=function(a,m){var p=Math.sin(m);m=Math.cos(m);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=m;a[6]=p;a[7]=0;a[8]=0;a[9]=-p;a[10]=m;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};A.fromYRotation=function(a,m){var p=Math.sin(m);m=Math.cos(m);a[0]=m;a[1]=
0;a[2]=-p;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=p;a[9]=0;a[10]=m;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};A.fromZRotation=function(a,m){var p=Math.sin(m);m=Math.cos(m);a[0]=m;a[1]=p;a[2]=0;a[3]=0;a[4]=-p;a[5]=m;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};A.fromRotationTranslation=function(a,m,p){var t=m[0],n=m[1],h=m[2],c=m[3],b=t+t,e=n+n,f=h+h;m=t*b;var k=t*e;t*=f;var u=n*e;n*=f;h*=f;b*=c;e*=c;c*=f;a[0]=1-(u+h);a[1]=k+c;a[2]=t-e;a[3]=0;a[4]=k-
c;a[5]=1-(m+h);a[6]=n+b;a[7]=0;a[8]=t+e;a[9]=n-b;a[10]=1-(m+u);a[11]=0;a[12]=p[0];a[13]=p[1];a[14]=p[2];a[15]=1;return a};A.getTranslation=function(a,m){a[0]=m[12];a[1]=m[13];a[2]=m[14];return a};A.getRotation=function(a,m){var p=m[0]+m[5]+m[10],t=0;0<p?(t=2*Math.sqrt(p+1),a[3]=.25*t,a[0]=(m[6]-m[9])/t,a[1]=(m[8]-m[2])/t,a[2]=(m[1]-m[4])/t):m[0]>m[5]&m[0]>m[10]?(t=2*Math.sqrt(1+m[0]-m[5]-m[10]),a[3]=(m[6]-m[9])/t,a[0]=.25*t,a[1]=(m[1]+m[4])/t,a[2]=(m[8]+m[2])/t):m[5]>m[10]?(t=2*Math.sqrt(1+m[5]-m[0]-
m[10]),a[3]=(m[8]-m[2])/t,a[0]=(m[1]+m[4])/t,a[1]=.25*t,a[2]=(m[6]+m[9])/t):(t=2*Math.sqrt(1+m[10]-m[0]-m[5]),a[3]=(m[1]-m[4])/t,a[0]=(m[8]+m[2])/t,a[1]=(m[6]+m[9])/t,a[2]=.25*t);return a};A.fromRotationTranslationScale=function(a,m,p,t){var n=m[0],h=m[1],c=m[2],b=m[3],e=n+n,f=h+h,k=c+c;m=n*e;var u=n*f;n*=k;var v=h*f;h*=k;c*=k;e*=b;f*=b;b*=k;k=t[0];var g=t[1];t=t[2];a[0]=(1-(v+c))*k;a[1]=(u+b)*k;a[2]=(n-f)*k;a[3]=0;a[4]=(u-b)*g;a[5]=(1-(m+c))*g;a[6]=(h+e)*g;a[7]=0;a[8]=(n+f)*t;a[9]=(h-e)*t;a[10]=
(1-(m+v))*t;a[11]=0;a[12]=p[0];a[13]=p[1];a[14]=p[2];a[15]=1;return a};A.fromRotationTranslationScaleOrigin=function(a,m,p,t,n){var h=m[0],c=m[1],b=m[2],e=m[3],f=h+h,k=c+c,u=b+b;m=h*f;var v=h*k;h*=u;var g=c*k;c*=u;b*=u;f*=e;k*=e;e*=u;u=t[0];var q=t[1];t=t[2];var x=n[0],w=n[1];n=n[2];a[0]=(1-(g+b))*u;a[1]=(v+e)*u;a[2]=(h-k)*u;a[3]=0;a[4]=(v-e)*q;a[5]=(1-(m+b))*q;a[6]=(c+f)*q;a[7]=0;a[8]=(h+k)*t;a[9]=(c-f)*t;a[10]=(1-(m+g))*t;a[11]=0;a[12]=p[0]+x-(a[0]*x+a[4]*w+a[8]*n);a[13]=p[1]+w-(a[1]*x+a[5]*w+a[9]*
n);a[14]=p[2]+n-(a[2]*x+a[6]*w+a[10]*n);a[15]=1;return a};A.fromQuat=function(a,m){var p=m[0],t=m[1],n=m[2];m=m[3];var h=p+p,c=t+t,b=n+n;p*=h;var e=t*h;t*=c;var f=n*h,k=n*c;n*=b;h*=m;c*=m;m*=b;a[0]=1-t-n;a[1]=e+m;a[2]=f-c;a[3]=0;a[4]=e-m;a[5]=1-p-n;a[6]=k+h;a[7]=0;a[8]=f+c;a[9]=k-h;a[10]=1-p-t;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};A.frustum=function(a,m,p,t,n,h,c){var b=1/(p-m),e=1/(n-t),f=1/(h-c);a[0]=2*h*b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*h*e;a[6]=0;a[7]=0;a[8]=(p+m)*b;a[9]=(n+t)*
e;a[10]=(c+h)*f;a[11]=-1;a[12]=0;a[13]=0;a[14]=c*h*2*f;a[15]=0;return a};A.perspective=function(a,m,p,t,n){m=1/Math.tan(m/2);var h=1/(t-n);a[0]=m/p;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=m;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(n+t)*h;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*n*t*h;a[15]=0;return a};A.perspectiveFromFieldOfView=function(a,m,p,t){var n=Math.tan(m.upDegrees*Math.PI/180),h=Math.tan(m.downDegrees*Math.PI/180),c=Math.tan(m.leftDegrees*Math.PI/180);m=Math.tan(m.rightDegrees*Math.PI/180);var b=2/(c+m),e=2/
(n+h);a[0]=b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=e;a[6]=0;a[7]=0;a[8]=-((c-m)*b*.5);a[9]=(n-h)*e*.5;a[10]=t/(p-t);a[11]=-1;a[12]=0;a[13]=0;a[14]=t*p/(p-t);a[15]=0;return a};A.ortho=function(a,m,p,t,n,h,c){var b=1/(m-p),e=1/(t-n),f=1/(h-c);a[0]=-2*b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*e;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*f;a[11]=0;a[12]=(m+p)*b;a[13]=(n+t)*e;a[14]=(c+h)*f;a[15]=1;return a};A.lookAt=function(a,m,p,t){var n=m[0],h=m[1];m=m[2];var c=t[0];var b=t[1];var e=t[2];var f=p[0];t=p[1];var k=p[2];
if(Math.abs(n-f)<G.EPSILON&&Math.abs(h-t)<G.EPSILON&&Math.abs(m-k)<G.EPSILON)return A.identity(a);p=n-f;t=h-t;f=m-k;var u=1/Math.sqrt(p*p+t*t+f*f);p*=u;t*=u;f*=u;k=b*f-e*t;e=e*p-c*f;c=c*t-b*p;(u=Math.sqrt(k*k+e*e+c*c))?(u=1/u,k*=u,e*=u,c*=u):c=e=k=0;b=t*c-f*e;var v=f*k-p*c;var g=p*e-t*k;(u=Math.sqrt(b*b+v*v+g*g))?(u=1/u,b*=u,v*=u,g*=u):g=v=b=0;a[0]=k;a[1]=b;a[2]=p;a[3]=0;a[4]=e;a[5]=v;a[6]=t;a[7]=0;a[8]=c;a[9]=g;a[10]=f;a[11]=0;a[12]=-(k*n+e*h+c*m);a[13]=-(b*n+v*h+g*m);a[14]=-(p*n+t*h+f*m);a[15]=
1;return a};A.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};A.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],
2)+Math.pow(a[15],2))};A.add=function(a,m,p){a[0]=m[0]+p[0];a[1]=m[1]+p[1];a[2]=m[2]+p[2];a[3]=m[3]+p[3];a[4]=m[4]+p[4];a[5]=m[5]+p[5];a[6]=m[6]+p[6];a[7]=m[7]+p[7];a[8]=m[8]+p[8];a[9]=m[9]+p[9];a[10]=m[10]+p[10];a[11]=m[11]+p[11];a[12]=m[12]+p[12];a[13]=m[13]+p[13];a[14]=m[14]+p[14];a[15]=m[15]+p[15];return a};A.subtract=function(a,m,p){a[0]=m[0]-p[0];a[1]=m[1]-p[1];a[2]=m[2]-p[2];a[3]=m[3]-p[3];a[4]=m[4]-p[4];a[5]=m[5]-p[5];a[6]=m[6]-p[6];a[7]=m[7]-p[7];a[8]=m[8]-p[8];a[9]=m[9]-p[9];a[10]=m[10]-
p[10];a[11]=m[11]-p[11];a[12]=m[12]-p[12];a[13]=m[13]-p[13];a[14]=m[14]-p[14];a[15]=m[15]-p[15];return a};A.sub=A.subtract;A.multiplyScalar=function(a,m,p){a[0]=m[0]*p;a[1]=m[1]*p;a[2]=m[2]*p;a[3]=m[3]*p;a[4]=m[4]*p;a[5]=m[5]*p;a[6]=m[6]*p;a[7]=m[7]*p;a[8]=m[8]*p;a[9]=m[9]*p;a[10]=m[10]*p;a[11]=m[11]*p;a[12]=m[12]*p;a[13]=m[13]*p;a[14]=m[14]*p;a[15]=m[15]*p;return a};A.multiplyScalarAndAdd=function(a,m,p,t){a[0]=m[0]+p[0]*t;a[1]=m[1]+p[1]*t;a[2]=m[2]+p[2]*t;a[3]=m[3]+p[3]*t;a[4]=m[4]+p[4]*t;a[5]=
m[5]+p[5]*t;a[6]=m[6]+p[6]*t;a[7]=m[7]+p[7]*t;a[8]=m[8]+p[8]*t;a[9]=m[9]+p[9]*t;a[10]=m[10]+p[10]*t;a[11]=m[11]+p[11]*t;a[12]=m[12]+p[12]*t;a[13]=m[13]+p[13]*t;a[14]=m[14]+p[14]*t;a[15]=m[15]+p[15]*t;return a};A.exactEquals=function(a,m){return a[0]===m[0]&&a[1]===m[1]&&a[2]===m[2]&&a[3]===m[3]&&a[4]===m[4]&&a[5]===m[5]&&a[6]===m[6]&&a[7]===m[7]&&a[8]===m[8]&&a[9]===m[9]&&a[10]===m[10]&&a[11]===m[11]&&a[12]===m[12]&&a[13]===m[13]&&a[14]===m[14]&&a[15]===m[15]};A.equals=function(a,m){var p=a[0],t=
a[1],n=a[2],h=a[3],c=a[4],b=a[5],e=a[6],f=a[7],k=a[8],u=a[9],v=a[10],g=a[11],q=a[12],x=a[13],w=a[14];a=a[15];var B=m[0],z=m[1],C=m[2],y=m[3],D=m[4],F=m[5],H=m[6],E=m[7],I=m[8],J=m[9],K=m[10],L=m[11],O=m[12],U=m[13],S=m[14];m=m[15];return Math.abs(p-B)<=G.EPSILON*Math.max(1,Math.abs(p),Math.abs(B))&&Math.abs(t-z)<=G.EPSILON*Math.max(1,Math.abs(t),Math.abs(z))&&Math.abs(n-C)<=G.EPSILON*Math.max(1,Math.abs(n),Math.abs(C))&&Math.abs(h-y)<=G.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(c-D)<=
G.EPSILON*Math.max(1,Math.abs(c),Math.abs(D))&&Math.abs(b-F)<=G.EPSILON*Math.max(1,Math.abs(b),Math.abs(F))&&Math.abs(e-H)<=G.EPSILON*Math.max(1,Math.abs(e),Math.abs(H))&&Math.abs(f-E)<=G.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(k-I)<=G.EPSILON*Math.max(1,Math.abs(k),Math.abs(I))&&Math.abs(u-J)<=G.EPSILON*Math.max(1,Math.abs(u),Math.abs(J))&&Math.abs(v-K)<=G.EPSILON*Math.max(1,Math.abs(v),Math.abs(K))&&Math.abs(g-L)<=G.EPSILON*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(q-O)<=G.EPSILON*
Math.max(1,Math.abs(q),Math.abs(O))&&Math.abs(x-U)<=G.EPSILON*Math.max(1,Math.abs(x),Math.abs(U))&&Math.abs(w-S)<=G.EPSILON*Math.max(1,Math.abs(w),Math.abs(S))&&Math.abs(a-m)<=G.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))};return A})},"esri/layers/vectorTiles/core/libs/gl-matrix/common":function(){define([],function(){var G={EPSILON:1E-6};G.ARRAY_TYPE="undefined"!==typeof Float32Array?Float32Array:Array;G.RANDOM=Math.random;G.ENABLE_SIMD=!1;G.SIMD_AVAILABLE=G.ARRAY_TYPE===Float32Array&&"SIMD"in this;
G.USE_SIMD=G.ENABLE_SIMD&&G.SIMD_AVAILABLE;G.setMatrixArrayType=function(a){G.ARRAY_TYPE=a};var A=Math.PI/180;G.toRadian=function(a){return a*A};G.equals=function(a,m){return Math.abs(a-m)<=G.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))};return G})},"esri/layers/vectorTiles/core/libs/gl-matrix/vec3":function(){define(["./common"],function(G){var A={create:function(){var a=new G.ARRAY_TYPE(3);a[0]=0;a[1]=0;a[2]=0;return a},clone:function(a){var m=new G.ARRAY_TYPE(3);m[0]=a[0];m[1]=a[1];m[2]=a[2];return m},
fromValues:function(a,m,p){var t=new G.ARRAY_TYPE(3);t[0]=a;t[1]=m;t[2]=p;return t},copy:function(a,m){a[0]=m[0];a[1]=m[1];a[2]=m[2];return a},set:function(a,m,p,t){a[0]=m;a[1]=p;a[2]=t;return a},add:function(a,m,p){a[0]=m[0]+p[0];a[1]=m[1]+p[1];a[2]=m[2]+p[2];return a},subtract:function(a,m,p){a[0]=m[0]-p[0];a[1]=m[1]-p[1];a[2]=m[2]-p[2];return a}};A.sub=A.subtract;A.multiply=function(a,m,p){a[0]=m[0]*p[0];a[1]=m[1]*p[1];a[2]=m[2]*p[2];return a};A.mul=A.multiply;A.divide=function(a,m,p){a[0]=m[0]/
p[0];a[1]=m[1]/p[1];a[2]=m[2]/p[2];return a};A.div=A.divide;A.ceil=function(a,m){a[0]=Math.ceil(m[0]);a[1]=Math.ceil(m[1]);a[2]=Math.ceil(m[2]);return a};A.floor=function(a,m){a[0]=Math.floor(m[0]);a[1]=Math.floor(m[1]);a[2]=Math.floor(m[2]);return a};A.min=function(a,m,p){a[0]=Math.min(m[0],p[0]);a[1]=Math.min(m[1],p[1]);a[2]=Math.min(m[2],p[2]);return a};A.max=function(a,m,p){a[0]=Math.max(m[0],p[0]);a[1]=Math.max(m[1],p[1]);a[2]=Math.max(m[2],p[2]);return a};A.round=function(a,m){a[0]=Math.round(m[0]);
a[1]=Math.round(m[1]);a[2]=Math.round(m[2]);return a};A.scale=function(a,m,p){a[0]=m[0]*p;a[1]=m[1]*p;a[2]=m[2]*p;return a};A.scaleAndAdd=function(a,m,p,t){a[0]=m[0]+p[0]*t;a[1]=m[1]+p[1]*t;a[2]=m[2]+p[2]*t;return a};A.distance=function(a,m){var p=m[0]-a[0],t=m[1]-a[1];a=m[2]-a[2];return Math.sqrt(p*p+t*t+a*a)};A.dist=A.distance;A.squaredDistance=function(a,m){var p=m[0]-a[0],t=m[1]-a[1];a=m[2]-a[2];return p*p+t*t+a*a};A.sqrDist=A.squaredDistance;A.length=function(a){var m=a[0],p=a[1];a=a[2];return Math.sqrt(m*
m+p*p+a*a)};A.len=A.length;A.squaredLength=function(a){var m=a[0],p=a[1];a=a[2];return m*m+p*p+a*a};A.sqrLen=A.squaredLength;A.negate=function(a,m){a[0]=-m[0];a[1]=-m[1];a[2]=-m[2];return a};A.inverse=function(a,m){a[0]=1/m[0];a[1]=1/m[1];a[2]=1/m[2];return a};A.normalize=function(a,m){var p=m[0],t=m[1],n=m[2];p=p*p+t*t+n*n;0<p&&(p=1/Math.sqrt(p),a[0]=m[0]*p,a[1]=m[1]*p,a[2]=m[2]*p);return a};A.dot=function(a,m){return a[0]*m[0]+a[1]*m[1]+a[2]*m[2]};A.cross=function(a,m,p){var t=m[0],n=m[1];m=m[2];
var h=p[0],c=p[1];p=p[2];a[0]=n*p-m*c;a[1]=m*h-t*p;a[2]=t*c-n*h;return a};A.lerp=function(a,m,p,t){var n=m[0],h=m[1];m=m[2];a[0]=n+t*(p[0]-n);a[1]=h+t*(p[1]-h);a[2]=m+t*(p[2]-m);return a};A.hermite=function(a,m,p,t,n,h){var c=h*h,b=c*(2*h-3)+1,e=c*(h-2)+h,f=c*(h-1);h=c*(3-2*h);a[0]=m[0]*b+p[0]*e+t[0]*f+n[0]*h;a[1]=m[1]*b+p[1]*e+t[1]*f+n[1]*h;a[2]=m[2]*b+p[2]*e+t[2]*f+n[2]*h;return a};A.bezier=function(a,m,p,t,n,h){var c=1-h,b=c*c,e=h*h,f=b*c;b*=3*h;c*=3*e;h*=e;a[0]=m[0]*f+p[0]*b+t[0]*c+n[0]*h;a[1]=
m[1]*f+p[1]*b+t[1]*c+n[1]*h;a[2]=m[2]*f+p[2]*b+t[2]*c+n[2]*h;return a};A.random=function(a,m){m=m||1;var p=2*G.RANDOM()*Math.PI,t=2*G.RANDOM()-1,n=Math.sqrt(1-t*t)*m;a[0]=Math.cos(p)*n;a[1]=Math.sin(p)*n;a[2]=t*m;return a};A.transformMat4=function(a,m,p){var t=m[0],n=m[1];m=m[2];var h=p[3]*t+p[7]*n+p[11]*m+p[15];h=h||1;a[0]=(p[0]*t+p[4]*n+p[8]*m+p[12])/h;a[1]=(p[1]*t+p[5]*n+p[9]*m+p[13])/h;a[2]=(p[2]*t+p[6]*n+p[10]*m+p[14])/h;return a};A.transformMat3=function(a,m,p){var t=m[0],n=m[1];m=m[2];a[0]=
t*p[0]+n*p[3]+m*p[6];a[1]=t*p[1]+n*p[4]+m*p[7];a[2]=t*p[2]+n*p[5]+m*p[8];return a};A.transformQuat=function(a,m,p){var t=m[0],n=m[1],h=m[2];m=p[0];var c=p[1],b=p[2];p=p[3];var e=p*t+c*h-b*n,f=p*n+b*t-m*h,k=p*h+m*n-c*t;t=-m*t-c*n-b*h;a[0]=e*p+t*-m+f*-b-k*-c;a[1]=f*p+t*-c+k*-m-e*-b;a[2]=k*p+t*-b+e*-c-f*-m;return a};A.rotateX=function(a,m,p,t){var n=[],h=[];n[0]=m[0]-p[0];n[1]=m[1]-p[1];n[2]=m[2]-p[2];h[0]=n[0];h[1]=n[1]*Math.cos(t)-n[2]*Math.sin(t);h[2]=n[1]*Math.sin(t)+n[2]*Math.cos(t);a[0]=h[0]+p[0];
a[1]=h[1]+p[1];a[2]=h[2]+p[2];return a};A.rotateY=function(a,m,p,t){var n=[],h=[];n[0]=m[0]-p[0];n[1]=m[1]-p[1];n[2]=m[2]-p[2];h[0]=n[2]*Math.sin(t)+n[0]*Math.cos(t);h[1]=n[1];h[2]=n[2]*Math.cos(t)-n[0]*Math.sin(t);a[0]=h[0]+p[0];a[1]=h[1]+p[1];a[2]=h[2]+p[2];return a};A.rotateZ=function(a,m,p,t){var n=[],h=[];n[0]=m[0]-p[0];n[1]=m[1]-p[1];n[2]=m[2]-p[2];h[0]=n[0]*Math.cos(t)-n[1]*Math.sin(t);h[1]=n[0]*Math.sin(t)+n[1]*Math.cos(t);h[2]=n[2];a[0]=h[0]+p[0];a[1]=h[1]+p[1];a[2]=h[2]+p[2];return a};A.forEach=
function(){var a=A.create();return function(m,p,t,n,h,c){p||(p=3);t||(t=0);for(n=n?Math.min(n*p+t,m.length):m.length;t<n;t+=p)a[0]=m[t],a[1]=m[t+1],a[2]=m[t+2],h(a,a,c),m[t]=a[0],m[t+1]=a[1],m[t+2]=a[2];return m}}();A.angle=function(a,m){a=A.fromValues(a[0],a[1],a[2]);m=A.fromValues(m[0],m[1],m[2]);A.normalize(a,a);A.normalize(m,m);m=A.dot(a,m);return 1<m?0:Math.acos(m)};A.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};A.exactEquals=function(a,m){return a[0]===m[0]&&a[1]===m[1]&&a[2]===
m[2]};A.equals=function(a,m){var p=a[0],t=a[1];a=a[2];var n=m[0],h=m[1];m=m[2];return Math.abs(p-n)<=G.EPSILON*Math.max(1,Math.abs(p),Math.abs(n))&&Math.abs(t-h)<=G.EPSILON*Math.max(1,Math.abs(t),Math.abs(h))&&Math.abs(a-m)<=G.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))};return A})},"esri/layers/vectorTiles/views/2d/engine/Container":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","./DisplayObject"],function(G,A,a,m){var p;(function(t){t[t.BEFORE=0]="BEFORE";t[t.ATTACHING=
1]="ATTACHING";t[t.DETACHING=2]="DETACHING";t[t.RENDERING=3]="RENDERING";t[t.AFTER=4]="AFTER";t[t.DONE=5]="DONE"})(p||(p={}));return function(t){function n(){var h=null!==t&&t.apply(this,arguments)||this;h._childrenSet=new Set;h._childrenToAttach=[];h._childrenToDetach=[];h._renderPhase=p.DONE;h.children=[];return h}a(n,t);Object.defineProperty(n.prototype,"numChildren",{get:function(){return this.children.length},enumerable:!0,configurable:!0});n.prototype.detach=function(h){var c=this.children.concat(this._childrenToDetach);
h=this.prepareChildrenRenderParameters(h);for(var b=0;b<c.length;b++){var e=c[b];e.attached&&(this.detachChild(e,h),e.attached=!1,e.parent=null)}};n.prototype.doRender=function(h){var c=this.prepareChildrenRenderParameters(h);this._renderPhase=p.BEFORE;this.beforeRenderChildren(h,c);this._renderPhase=p.ATTACHING;this.attachChildren(c);this._renderPhase=p.DETACHING;for(var b=this._childrenToDetach;0<b.length;){var e=b.shift();this.detachChild(e,c);e.attached=!1;e.parent=null}this._renderPhase=p.RENDERING;
this.renderChildren(c);this._renderPhase=p.AFTER;this.afterRenderChildren(h,c);this._renderPhase=p.DONE};n.prototype.addChild=function(h){return this.addChildAt(h,this.children.length)};n.prototype.addChildAt=function(h,c){void 0===c&&(c=this.numChildren);if(!h||this.contains(h))return h;var b=h.parent;b&&b!==this&&b.removeChild(h);c>=this.numChildren?this.children.push(h):this.children.splice(c,0,h);this._childrenSet.add(h);c=this._childrenToDetach.indexOf(h);-1<c&&this._childrenToDetach.splice(c,
1);this._childrenToAttach.push(h);this._renderPhase>=p.RENDERING&&this.requestRender();return h};n.prototype.contains=function(h){return this._childrenSet.has(h)};n.prototype.getChildIndex=function(h){return this.children.indexOf(h)};n.prototype.getChildAt=function(h){return 0>h||h>this.children.length?null:this.children[h]};n.prototype.removeAllChildren=function(){for(var h=this.numChildren;h--;)this.removeChildAt(0)};n.prototype.removeChild=function(h){return this.contains(h)?this.removeChildAt(this.getChildIndex(h)):
h};n.prototype.removeChildAt=function(h){if(0>h||h>=this.children.length)return null;h=this.children.splice(h,1)[0];this._childrenSet["delete"](h);if(h.attached)this._childrenToDetach.push(h),this._renderPhase>=p.RENDERING&&this.requestRender();else{var c=this._childrenToAttach.indexOf(h);-1<c&&this._childrenToAttach.splice(c,1)}return h};n.prototype.requestChildRender=function(h){h&&h.parent===this&&this._renderPhase>=p.RENDERING&&this.requestRender()};n.prototype.setChildIndex=function(h,c){var b=
this.getChildIndex(h);-1<b&&(this.children.splice(b,1),this.children.splice(c,0,h),this._renderPhase>=p.RENDERING&&this.requestRender())};n.prototype.sortChildren=function(h){this._renderPhase>p.RENDERING&&this.requestRender();return this.children.sort(h)};n.prototype.attachChildren=function(h){var c=this._childrenToAttach;if(0!==c.length)for(var b=0,e=!1;!e;)e=c[b],this.attachChild(e,h)?(e.attached=!0,e.parent=this,c.splice(b,1)):++b,e=c.length===b};n.prototype.renderChildren=function(h){for(var c=
this.children,b=c.length,e=0;e<b;e++){var f=c[e];f.attached&&this.renderChild(f,h)}};n.prototype.beforeRenderChildren=function(h,c){};n.prototype.attachChild=function(h,c){return h.attach(c)};n.prototype.detachChild=function(h,c){h.detach(c)};n.prototype.renderChild=function(h,c){h.processRender(c)};n.prototype.afterRenderChildren=function(h,c){};return n}(m)})},"esri/layers/vectorTiles/views/2d/engine/DisplayObject":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","./Evented"],
function(G,A,a,m){return function(p){function t(){var n=null!==p&&p.apply(this,arguments)||this;n._renderRequestedCalled=!1;n._attached=!1;n._opacity=1;n.renderRequested=!1;n._visible=!0;return n}a(t,p);Object.defineProperty(t.prototype,"attached",{get:function(){return this._attached},set:function(n){this._attached!==n&&((this._attached=n)?this.hasEventListener("attach")&&this.emit("attach"):this.hasEventListener("detach")&&this.emit("detach"))},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,
"opacity",{get:function(){return this._opacity},set:function(n){this._opacity!==n&&(this._opacity=n,this.requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(n){this._visible!==n&&(this._visible=n,this.requestRender())},enumerable:!0,configurable:!0});t.prototype.attach=function(n){return!0};t.prototype.detach=function(n){};t.prototype.processRender=function(n){this._renderRequestedCalled=!1;this.doRender(n);
this._renderRequestedCalled||(this.renderRequested=!1);this.hasEventListener("post-render")&&this.emit("post-render")};t.prototype.requestRender=function(){var n=this.renderRequested;this.renderRequested=this._renderRequestedCalled=!0;this.parent&&this.parent.requestChildRender(this);n!==this.renderRequested&&this.hasEventListener("will-render")&&this.emit("will-render")};t.prototype.dispose=function(){};return t}(m.Evented)})},"esri/layers/vectorTiles/views/2d/engine/Evented":function(){define(["require",
"exports","../../../core/tsSupport/extendsHelper","dojo/aspect","dojo/on"],function(G,A,a,m,p){Object.defineProperty(A,"__esModule",{value:!0});G=function(){function t(){}t.prototype.on=function(n,h){return m.after(this,"on"+n,h,!0)};t.prototype.once=function(n,h){return p.once(this,n,h)};t.prototype.emit=function(n){p.emit(this,n,this)};t.prototype.hasEventListener=function(n){n="on"+n;return!(!this[n]||!this[n].after)};return t}();A.Evented=G;A.EventedMixin=function(t){return function(n){function h(){return null!==
n&&n.apply(this,arguments)||this}a(h,n);h.prototype.on=function(c,b){return m.after(this,"on"+c,b,!0)};h.prototype.once=function(c,b){return p.once(this,c,b)};h.prototype.emit=function(c,b){p.emit(this,c,b)};h.prototype.hasEventListener=function(c){c="on"+c;return!(!this[c]||!this[c].after)};return h}(t)}})},"esri/layers/vectorTiles/views/2d/engine/webgl/enums":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});(function(a){a[a.FILL=0]="FILL";a[a.LINE=
1]="LINE";a[a.MARKER=2]="MARKER";a[a.TEXT=3]="TEXT";a[a.LABEL=4]="LABEL";a[a.NONE=5]="NONE";a[a.UNKNOWN=6]="UNKNOWN";a[a.COUNT=7]="COUNT"})(A.WGLGeometryType||(A.WGLGeometryType={}));(function(a){a[a.SUCCEEDED=0]="SUCCEEDED";a[a.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"})(A.WGLGeometryTransactionStatus||(A.WGLGeometryTransactionStatus={}));(function(a){a[a.NONE=0]="NONE";a[a.FILL=1]="FILL";a[a.LINE=2]="LINE";a[a.MARKER=4]="MARKER";a[a.TEXT=8]="TEXT";a[a.LABEL=16]="LABEL";a[a.LABEL_ALPHA=32]=
"LABEL_ALPHA";a[a.HITTEST=64]="HITTEST";a[a.HIGHLIGHT=128]="HIGHLIGHT";a[a.CLIP=256]="CLIP";a[a.DEBUG=512]="DEBUG";a[a.NUM_DRAW_PHASES=12]="NUM_DRAW_PHASES"})(A.WGLDrawPhase||(A.WGLDrawPhase={}));(function(a){a[a.SIZE=0]="SIZE";a[a.COLOR=1]="COLOR";a[a.OPACITY=2]="OPACITY";a[a.ROTATION=3]="ROTATION"})(A.VVType||(A.VVType={}));(function(a){a[a.NONE=0]="NONE";a[a.OPACITY=1]="OPACITY";a[a.COLOR=2]="COLOR";a[a.ROTATION=4]="ROTATION";a[a.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE";a[a.SIZE_SCALE_STOPS=16]=
"SIZE_SCALE_STOPS";a[a.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS";a[a.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"})(A.WGLVVFlag||(A.WGLVVFlag={}));(function(a){a[a.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE";a[a.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE";a[a.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE";a[a.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"})(A.WGLVVTarget||(A.WGLVVTarget={}));(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.BUTT=1]="BUTT";a[a.ROUND=2]="ROUND";a[a.SQUARE=3]=
"SQUARE"})(A.CapType||(A.CapType={}));(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.MITER=1]="MITER";a[a.BEVEL=2]="BEVEL";a[a.ROUND=3]="ROUND"})(A.JoinType||(A.JoinType={}));(function(a){a.SIMPLE_MARKER="esriSMS";a.SIMPLE_LINE="esriSLS";a.SIMPLE_FILL="esriSFS";a.PICTURE_MARKER="esriPMS";a.PICTURE_FILL="esriPFS";a.TEXT="esriTS"})(A.EsriSymbolType||(A.EsriSymbolType={}));(function(a){a.SIMPLE_MARKER="simple-marker";a.SIMPLE_LINE="simple-line";a.SIMPLE_FILL="simple-fill";a.PICTURE_MARKER="picture-marker";
a.PICTURE_FILL="picture-fill";a.TEXT="text"})(A.EsriSymbolTypeKebab||(A.EsriSymbolTypeKebab={}))})},"esri/layers/vectorTiles/views/2d/engine/webgl/WGLPainter":function(){define("require exports ../../../../core/tsSupport/assignHelper dojo/has ../../../../core/libs/gl-matrix/mat4 ./enums ./GeometryUtils ./MaterialManager ./Utils ./brushes/WGLBrushInfo ./brushes/WGLBrushStencil ./brushes/WGLGeometryBrushFill ./brushes/WGLGeometryBrushLabel ./brushes/WGLGeometryBrushLine ./brushes/WGLGeometryBrushMarker ./brushes/WGLGeometryBrushText ./painter/WGLHighlightPainter ./../../../webgl/FramebufferObject".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x){Object.defineProperty(A,"__esModule",{value:!0});G=function(){function z(){this._initialized=!1}z.prototype.registerPass=function(C,y){this._initialize();for(var D=0;D<y.length;D++)this._passMap.set(y[D],C);return this};z.prototype.getPaintPassTs=function(C){this._initialize();return this._passMap.has(C)?[this._passMap.get(C)]:[]};z.prototype._initialize=function(){this._initialized||(this._passMap=new Map,this._initialized=!0)};return z}();A.WGLPainterOptions=
G;var w=new Uint8Array(4*c.C_HITTEST_SEARCH_SIZE*c.C_HITTEST_SEARCH_SIZE),B=new Uint32Array(w.buffer);G=function(){function z(){this._hlPainter=new q;this._extrudeMatrix=new Float32Array(16);this._extrudeNoRotationMatrix=new Float32Array(16);this._extrudeRotateVector=new Float32Array([0,0,1]);this._extrudeScaleVector=new Float32Array([1,1,1]);this._state={rotation:0,width:0,height:0};this._cachedRotation=this._cachedHeight=this._cachedWidth=0;this.materialManager=new h}z.allGeometryPhases=function(){return[t.WGLDrawPhase.FILL,
t.WGLDrawPhase.LINE,t.WGLDrawPhase.MARKER,t.WGLDrawPhase.TEXT]};z.toWGLDrawPhases=function(C){for(var y=[],D,F=0;F<t.WGLDrawPhase.NUM_DRAW_PHASES;F++)D=1<<F,D&C&&y.push(D);return y};Object.defineProperty(z.prototype,"extrudeMatrix",{get:function(){return this._extrudeMatrix},enumerable:!0,configurable:!0});Object.defineProperty(z.prototype,"extrudeNoRotationMatrix",{get:function(){return this._extrudeNoRotationMatrix},enumerable:!0,configurable:!0});z.prototype.dispose=function(){this.materialManager.dispose();
this.textureManager=null;this._hlPainter&&(this._hlPainter.dispose(),this._hlPainter=null);this._hittestFBO&&(this._hittestFBO.dispose(),this._hittestFBO=null);this._passes&&(this._passes.forEach(function(C){return C.dispose()}),this._passes.clear());this._brushes&&(this._brushes.forEach(function(C){return C.forEach(function(y){return y.dispose()})}),this._brushes.clear())};z.prototype.initialize=function(C){this.materialManager.initialize(C)};z.prototype.update=function(C,y){this._state=C;if(this._state.width!==
this._cachedWidth||this._state.height!==this._cachedHeight||this._state.rotation!==this._cachedRotation)this._extrudeScaleVector[0]=2/C.width,this._extrudeScaleVector[1]=-2/C.height,p.identity(this._extrudeMatrix),p.rotate(this._extrudeMatrix,this._extrudeMatrix,-C.rotation*n.C_DEG_TO_RAD,this._extrudeRotateVector),p.scale(this._extrudeMatrix,this._extrudeMatrix,this._extrudeScaleVector),p.transpose(this._extrudeMatrix,this._extrudeMatrix),p.identity(this._extrudeNoRotationMatrix),p.scale(this._extrudeNoRotationMatrix,
this._extrudeNoRotationMatrix,this._extrudeScaleVector),p.transpose(this._extrudeNoRotationMatrix,this._extrudeNoRotationMatrix),this._cachedWidth=this._state.width,this._cachedHeight=this._state.height,this._cachedRotation=this._state.rotation};z.prototype.getBrushes=function(C){if(!this._brushes){var y=new f.default,D=new v.default,F=new u.default,H=new g.default,E=new k.default,I=new b.default,J=new e.default;this._brushes=new Map;this._brushes.set(t.WGLDrawPhase.FILL,[y]);this._brushes.set(t.WGLDrawPhase.MARKER,
[D]);this._brushes.set(t.WGLDrawPhase.LINE,[F]);this._brushes.set(t.WGLDrawPhase.TEXT,[H]);this._brushes.set(t.WGLDrawPhase.LABEL,[E]);this._brushes.set(t.WGLDrawPhase.LABEL_ALPHA,[E]);this._brushes.set(t.WGLDrawPhase.HITTEST,[y,D,F,H]);this._brushes.set(t.WGLDrawPhase.HIGHLIGHT,[y,D,F,H]);this._brushes.set(t.WGLDrawPhase.CLIP,[J]);this._brushes.set(t.WGLDrawPhase.DEBUG,[I])}if(!this._brushes.has(C))throw Error("WGLPainter: Tried to get brush for unknown phase: "+C);return this._brushes.get(C)};z.prototype.bindTextureManager=
function(C){this.textureManager=C};z.prototype.draw=function(C,y,D,F){D[0]===t.WGLDrawPhase.LABEL_ALPHA&&D[0]===t.WGLDrawPhase.LABEL||this._drawClippingRects(C,y);var H=C.context;H.setBlendingEnabled(!0);H.setStencilWriteMask(0);H.setBlendFunctionSeparate(1,771,1,771);this._drawPhases(C,y,D,F);this._debugTiles(C,y)};z.prototype.setHighlightOptions=function(C){this._hlPainter.setHighlightOptions(C)};z.prototype.highlight=function(C,y){var D=C.context,F=D.getViewport();this._hlPainter.setup(D,F.width,
F.height);this._hlPainter.startMaskDraw(D);this._drawClippingRects(C,y);D.setBlendingEnabled(!0);D.setStencilWriteMask(0);D.setBlendFunctionSeparate(1,771,1,771);this._drawPhases(C,y,[t.WGLDrawPhase.HIGHLIGHT]);this._hlPainter.draw(D)};z.prototype.hitTest=function(C,y){var D=c.C_HITTEST_SEARCH_SIZE,F=[0,0],H=[0,0],E=C.state;E.toMap(F,[0,0]);E.toMap(H,[D,D]);if(0===y.filter(function(O){return!(F[0]>O.bounds[2]||H[0]<O.bounds[0]||F[1]<O.bounds[1]||H[1]>O.bounds[3])}).length)return[];E=C.context;this._hittestFBO||
(this._hittestFBO=x.create(E,{colorTarget:0,depthStencilTarget:3,width:D,height:D}));var I=E.getViewport(),J=E.getBoundFramebufferObject();E.bindFramebuffer(this._hittestFBO);E.setViewport(0,0,D,D);this._drawClippingRects(C,y);var K=E.gl;E.setClearColor(1,1,1,1);E.clear(K.COLOR_BUFFER_BIT);E.setBlendingEnabled(!1);E.setStencilWriteMask(0);this._drawPhases(C,y,[t.WGLDrawPhase.HITTEST]);E.setBlendingEnabled(!0);this._hittestFBO.readPixels(0,0,D,D,6408,5121,w);C=D*D;y=new Set;for(D=0;D<C;D++)K=B[D],
4294967295!==K&&y.add(K);E.bindFramebuffer(J);E.setViewport(I.x,I.y,I.width,I.height);var L=[];y.forEach(function(O){L.push(O)});return L};z.prototype._getPaintPass=function(C){this._passes||(this._passes=new Map);if(!this._passes.has(C))try{this._passes.set(C,new C)}catch(y){throw Error("Tried to instantiate WGLPaintPass with unknown constructor: "+C+",\n"+y);}return this._passes.get(C)};z.prototype._getPaintPasses=function(C,y){var D=this;return y.getPaintPassTs(C).map(function(F){return D._getPaintPass(F)})};
z.prototype._drawPhases=function(C,y,D,F){C.context.setStencilTestEnabled(!0);for(var H=0;H<D.length;H++){var E=D[H],I=F?this._getPaintPasses(E,F):[];E=a({},C,{drawPhase:E});I.forEach(function(L){return L.preRender(C,C.rendererInfo)});for(var J=0,K=y;J<K.length;J++)K[J].doRender(E);I.reverse().forEach(function(L){return L.postRender(C,C.rendererInfo)})}C.context.setStencilTestEnabled(!1)};z.prototype._debugTiles=function(C,y){m("esri-feature-tiles-debug")&&this._drawPhases(C,y,[t.WGLDrawPhase.DEBUG])};
z.prototype._drawClippingRects=function(C,y){if(0!==y.length){var D=C.context;D.setDepthWriteEnabled(!1);D.setDepthTestEnabled(!1);D.setStencilTestEnabled(!0);D.setBlendingEnabled(!1);D.setColorMask(!1,!1,!1,!1);D.setStencilOp(7680,7680,7681);D.setClearStencil(0);D.clear(D.gl.STENCIL_BUFFER_BIT);D.setStencilWriteMask(255);D=0;for(var F=y.length;D<y.length;D++,F--){var H=y[D];H.attached&&(H.stencilRef=F)}this._drawPhases(C,y,[t.WGLDrawPhase.CLIP]);C.context.setColorMask(!0,!0,!0,!0)}};return z}();
A.default=G})},"esri/layers/vectorTiles/views/2d/engine/webgl/GeometryUtils":function(){define(["require","exports"],function(G,A){function a(p,t){p%=t;return 0<=p?p:p+t}Object.defineProperty(A,"__esModule",{value:!0});A.C_INFINITY=Number.POSITIVE_INFINITY;A.C_PI=Math.PI;A.C_2PI=2*A.C_PI;A.C_PI_BY_2=A.C_PI/2;A.C_RAD_TO_256=128/A.C_PI;A.C_256_TO_RAD=A.C_PI/128;A.C_DEG_TO_256=256/360;A.C_DEG_TO_RAD=A.C_PI/180;A.C_SQRT2=1.414213562;A.C_SQRT2_INV=1/A.C_SQRT2;var m=1/Math.LN2;A.positiveMod=a;A.radToByte=
function(p){return a(p*A.C_RAD_TO_256,256)};A.degToByte=function(p){return a(p*A.C_DEG_TO_256,256)};A.log2=function(p){return Math.log(p)*m};A.sqr=function(p){return p*p};A.clamp=function(p,t,n){return Math.min(Math.max(p,t),n)};A.interpolate=function(p,t,n){return p*(1-n)+t*n};A.between=function(p,t,n){return p>=t&&p<=n||p>=n&&p<=t}})},"esri/layers/vectorTiles/views/2d/engine/webgl/MaterialManager":function(){define("require exports ./enums ./MaterialInfoUtils ./shaders/fillShaderSnippets ./shaders/iconShaderSnippets ./shaders/labelShaderSnippets ./shaders/lineShaderSnippets ./shaders/textShaderSnippets ../../../webgl/ShaderVariations".split(" "),
function(G,A,a,m,p,t,n,h,c,b){return function(){function e(){this._programRep=new Map;this.isInitialize=!1}e.prototype.dispose=function(){this._fillShaderVariations&&(this._fillShaderVariations.dispose(),this._fillShaderVariations=null);this._lineShaderVariations&&(this._lineShaderVariations.dispose(),this._lineShaderVariations=null);this._iconShaderVariations&&(this._iconShaderVariations.dispose(),this._iconShaderVariations=null);this._textShaderVariations&&(this._textShaderVariations.dispose(),
this._textShaderVariations=null);0!==this._programRep.size&&(this._programRep.forEach(function(f){return f.dispose()}),this._programRep.clear())};e.prototype.initialize=function(f){if(!this.isInitialize){var k=new b("label",["labelVS","labelFS"],[],n,f);k.addDefine("ID","ID",[!0,!0],"ID");k.addDefine("HIGHLIGHT","HIGHLIGHT",[!1,!1],"HIGHLIGHT");k.addDefine("SDF","SDF",[!1,!1],"SDF");k.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!1,!1],"VV_SIZE_MIN_MAX_VALUE");k.addDefine("VV_SIZE_SCALE_STOPS",
"VV_SIZE_SCALE_STOPS",[!1,!1],"VV_SIZE_SCALE_STOPS");k.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!1,!1],"VV_SIZE_FIELD_STOPS");k.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!1,!1],"VV_SIZE_UNIT_VALUE");k.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR");k.addDefine("VV_ROTATION","VV_ROTATION",[!1,!1],"VV_ROTATION");k.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY");k.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY");k.addDefine("PATTERN",
"PATTERN",[!1,!1],"PATTERN");k.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");var u=new b("text",["textVS","textFS"],[],c,f);u.addDefine("ID","ID",[!0,!0],"ID");u.addDefine("HIGHLIGHT","HIGHLIGHT",[!1,!1],"HIGHLIGHT");u.addDefine("SDF","SDF",[!1,!1],"SDF");u.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE");u.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS");u.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],
"VV_SIZE_FIELD_STOPS");u.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE");u.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR");u.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION");u.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY");u.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY");u.addDefine("PATTERN","PATTERN",[!1,!1],"PATTERN");u.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");var v=new b("icon",["iconVS","iconFS"],
[],t,f);v.addDefine("ID","ID",[!0,!0],"ID");v.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT");v.addDefine("SDF","SDF",[!0,!0],"SDF");v.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE");v.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS");v.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],"VV_SIZE_FIELD_STOPS");v.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE");v.addDefine("VV_COLOR",
"VV_COLOR",[!0,!1],"VV_COLOR");v.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION");v.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY");v.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY");v.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN");v.addDefine("HEATMAP","HEATMAP",[!0,!0],"HEATMAP");var g=new b("fill",["fillVS","fillFS"],[],p,f);g.addDefine("ID","ID",[!0,!0],"ID");g.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT");g.addDefine("SDF","SDF",
[!1,!1],"SDF");g.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!1,!1],"VV_SIZE_MIN_MAX_VALUE");g.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!1,!1],"VV_SIZE_SCALE_STOPS");g.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!1,!1],"VV_SIZE_FIELD_STOPS");g.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!1,!1],"VV_SIZE_UNIT_VALUE");g.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR");g.addDefine("VV_ROTATION","VV_ROTATION",[!1,!1],"VV_ROTATION");g.addDefine("VV_OPACITY",
"VV_OPACITY",[!0,!1],"VV_OPACITY");g.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY");g.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN");g.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");f=new b("line",["lineVS","lineFS"],[],h,f);f.addDefine("ID","ID",[!0,!0],"ID");f.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT");f.addDefine("SDF","SDF",[!0,!0],"SDF");f.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE");f.addDefine("VV_SIZE_SCALE_STOPS",
"VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS");f.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],"VV_SIZE_FIELD_STOPS");f.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE");f.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR");f.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION");f.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY");f.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY");f.addDefine("PATTERN",
"PATTERN",[!0,!0],"PATTERN");f.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");this._labelShaderVariations=k;this._textShaderVariations=u;this._fillShaderVariations=g;this._iconShaderVariations=v;this._lineShaderVariations=f;this.isInitialize=!0}};e.prototype.getProgram=function(f,k,u){f|=k===a.WGLDrawPhase.HITTEST?8:0;f|=k===a.WGLDrawPhase.HIGHLIGHT?16:0;if(this._programRep[f])return this._programRep[f];if(!(this._iconShaderVariations&&this._fillShaderVariations&&this._lineShaderVariations&&this._labelShaderVariations))return null;
k=m.getMaterialVariations(f);switch(k.geometryType){case a.WGLGeometryType.MARKER:var v=this._iconShaderVariations.getProgram(k.variations,null,null,u);break;case a.WGLGeometryType.TEXT:v=this._textShaderVariations.getProgram(k.variations,null,null,u);break;case a.WGLGeometryType.LABEL:v=this._labelShaderVariations.getProgram(k.variations,null,null,u);break;case a.WGLGeometryType.FILL:v=this._fillShaderVariations.getProgram(k.variations,null,null,u);break;case a.WGLGeometryType.LINE:v=this._lineShaderVariations.getProgram(k.variations,
null,null,u)}v&&(this._programRep[f]=v);return v};return e}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/MaterialInfoUtils":function(){define(["require","exports","./enums","./MaterialInfo","./MaterialKeyInfo"],function(G,A,a,m,p){function t(h){var c=[];c[0]=h.sdf?!0:!1;c[1]=h.vvSizeMinMaxValue?!0:!1;c[2]=h.vvSizeScaleStops?!0:!1;c[3]=h.vvSizeFieldStops?!0:!1;c[4]=h.vvSizeUnitValue?!0:!1;c[5]=h.vvColor?!0:!1;c[6]=h.vvRotation?!0:!1;c[7]=h.vvOpacity?!0:!1;c[8]=h.visibility?!0:!1;c[9]=h.pattern?
!0:!1;c[10]=h.heatmap?!0:!1;return c.reduce(function(b,e,f){e&&(b|=1<<f+2);return b},0)}function n(h){if(h.geometryType===a.WGLGeometryType.UNKNOWN)return-1;var c=t(h)<<3;return h.geometryType+c}Object.defineProperty(A,"__esModule",{value:!0});A.createTextMaterialInfo=function(h,c,b){var e=new m.default,f=new p;f.geometryType=b;f.sdf=!0;f.pattern=!1;f.visibility=!1;f.heatmap=!1;e.texBindingInfo.push(new m.TexBindingInfo(2,h.page,"u_texture"));0===c?f.vvOpacity=f.vvSizeMinMaxValue=f.vvSizeScaleStops=
f.vvSizeFieldStops=f.vvSizeUnitValue=f.vvColor=f.vvRotation=!1:(f.vvOpacity=0!==(c&a.WGLVVFlag.OPACITY),f.vvSizeMinMaxValue=0!==(c&a.WGLVVFlag.SIZE_MINMAX_VALUE),f.vvSizeScaleStops=0!==(c&a.WGLVVFlag.SIZE_SCALE_STOPS),f.vvSizeFieldStops=0!==(c&a.WGLVVFlag.SIZE_FIELD_STOPS),f.vvSizeUnitValue=0!==(c&a.WGLVVFlag.SIZE_UNIT_VALUE),f.vvColor=0!==(c&a.WGLVVFlag.COLOR),f.vvRotation=0!==(c&a.WGLVVFlag.ROTATION));e.materialKey=n(f);e.materialKeyInfo=f;return e};A.createMaterialInfo=function(h,c,b){var e=new m.default,
f=new p;f.geometryType=c;h?(h=h.spriteMosaicItem,f.sdf=h.sdf,f.pattern=!0,e.texBindingInfo.push(new m.TexBindingInfo(1,h.page,"u_texture"))):(f.sdf=!1,f.pattern=!1);0===b?f.vvOpacity=f.vvSizeMinMaxValue=f.vvSizeScaleStops=f.vvSizeFieldStops=f.vvSizeUnitValue=f.vvColor=f.vvRotation=!1:(f.vvOpacity=0!==(b&a.WGLVVFlag.OPACITY),f.vvSizeMinMaxValue=0!==(b&a.WGLVVFlag.SIZE_MINMAX_VALUE),f.vvSizeScaleStops=0!==(b&a.WGLVVFlag.SIZE_SCALE_STOPS),f.vvSizeFieldStops=0!==(b&a.WGLVVFlag.SIZE_FIELD_STOPS),f.vvSizeUnitValue=
0!==(b&a.WGLVVFlag.SIZE_UNIT_VALUE),f.vvColor=0!==(b&a.WGLVVFlag.COLOR),f.vvRotation=0!==(b&a.WGLVVFlag.ROTATION));f.visibility=!1;e.materialKey=n(f);e.materialKeyInfo=f;return e};A.getMaterialKey=n;A.getMaterialVariations=function(h){var c=h&7;h>>=3;return{geometryType:c,variations:[0!==(h&1),0!==(h&2),0!==(h&4),0!==(h&8),0!==(h&16),0!==(h&32),0!==(h&64),0!==(h&128),0!==(h&256),0!==(h&512),0!==(h&1024),0!==(h&2048),0!==(h&4096)]}}})},"esri/layers/vectorTiles/views/2d/engine/webgl/MaterialInfo":function(){define("require exports ./enums ./MaterialInfoUtils ./MaterialInfoUtils_updateMaterialVariations ./MaterialKeyInfo ./util/serializationUtils".split(" "),
function(G,A,a,m,p,t,n){Object.defineProperty(A,"__esModule",{value:!0});var h=function(){function b(e,f,k){this.unit=e;this.pageId=f;this.semantic=k}b.prototype.clone=function(){return new b(this.unit,this.pageId,this.semantic)};b.prototype.serialize=function(e){e.writeInt32(this.unit);e.writeInt32(this.pageId);return e};b.deserialize=function(e){var f=e.readInt32();e=e.readInt32();return new b(f,e,"u_texture")};return b}();A.TexBindingInfo=h;var c=function(){function b(e,f){this.name=e;this.value=
f}b.prototype.clone=function(){return new b(this.name,this.value)};b.prototype.serialize=function(e){e.writeInt32(this.value);return e};b.deserialize=function(e){e=e.readInt32();return new b("u_my_param",e)};return b}();A.MaterialParam=c;G=function(){function b(){this.texBindingInfo=[];this.materialParams=[]}b.fromSprite=function(e,f,k){var u=new b,v=new t;v.geometryType=f;e?(v.sdf=e.sdf,v.pattern=!0,u.texBindingInfo.push(new h(1,e.page,"u_texture"))):(v.sdf=!1,v.pattern=!1);0===k?v.vvOpacity=v.vvSizeMinMaxValue=
v.vvSizeScaleStops=v.vvSizeFieldStops=v.vvSizeUnitValue=v.vvColor=v.vvRotation=!1:(v.vvOpacity=0!==(k&a.WGLVVFlag.OPACITY),v.vvSizeMinMaxValue=0!==(k&a.WGLVVFlag.SIZE_MINMAX_VALUE),v.vvSizeScaleStops=0!==(k&a.WGLVVFlag.SIZE_SCALE_STOPS),v.vvSizeFieldStops=0!==(k&a.WGLVVFlag.SIZE_FIELD_STOPS),v.vvSizeUnitValue=0!==(k&a.WGLVVFlag.SIZE_UNIT_VALUE),v.vvColor=0!==(k&a.WGLVVFlag.COLOR),v.vvRotation=0!==(k&a.WGLVVFlag.ROTATION));v.visibility=!1;u.materialKey=m.getMaterialKey(v);u.materialKeyInfo=v;return u};
b.fromGlyph=function(e,f,k){var u=new b,v=new t;v.geometryType=f;v.sdf=!0;v.pattern=!1;v.visibility=!1;v.heatmap=!1;u.texBindingInfo.push(new h(2,e.page,"u_texture"));0===k?v.vvOpacity=v.vvSizeMinMaxValue=v.vvSizeScaleStops=v.vvSizeFieldStops=v.vvSizeUnitValue=v.vvColor=v.vvRotation=!1:(v.vvOpacity=0!==(k&a.WGLVVFlag.OPACITY),v.vvSizeMinMaxValue=0!==(k&a.WGLVVFlag.SIZE_MINMAX_VALUE),v.vvSizeScaleStops=0!==(k&a.WGLVVFlag.SIZE_SCALE_STOPS),v.vvSizeFieldStops=0!==(k&a.WGLVVFlag.SIZE_FIELD_STOPS),v.vvSizeUnitValue=
0!==(k&a.WGLVVFlag.SIZE_UNIT_VALUE),v.vvColor=0!==(k&a.WGLVVFlag.COLOR),v.vvRotation=0!==(k&a.WGLVVFlag.ROTATION));u.materialKey=m.getMaterialKey(v);u.materialKeyInfo=v;return u};b.prototype.copy=function(e){this.materialParams=e.materialParams.map(function(f){return f.clone()});this.texBindingInfo=e.texBindingInfo.map(function(f){return f.clone()});e.materialKeyInfo&&(this.materialKeyInfo=new t,this.materialKeyInfo.copy(e.materialKeyInfo));this.materialKey=e.materialKey};b.prototype.serialize=function(e){e.writeInt32(this.materialKey);
n.serializeList(e,this.texBindingInfo);n.serializeList(e,this.materialParams);return e};b.deserialize=function(e){var f=new b;f.materialKey=e.readInt32();f.texBindingInfo=n.deserializeList(e,h);f.materialParams=n.deserializeList(e,c);f.materialKeyInfo=new t;p(f.materialKeyInfo,f.materialKey);return f};return b}();A.default=G})},"esri/layers/vectorTiles/views/2d/engine/webgl/MaterialInfoUtils_updateMaterialVariations":function(){define(["require","exports"],function(G,A){return function(a,m){a.geometryType=
m&7;m>>=3;a.sdf=0!==(m&4);a.vvSizeMinMaxValue=0!==(m&8);a.vvSizeScaleStops=0!==(m&16);a.vvSizeFieldStops=0!==(m&32);a.vvSizeUnitValue=0!==(m&64);a.vvColor=0!==(m&128);a.vvRotation=0!==(m&256);a.vvOpacity=0!==(m&512);a.visibility=0!==(m&1024);a.pattern=0!==(m&2048);a.heatmap=0!==(m&4096);return a}})},"esri/layers/vectorTiles/views/2d/engine/webgl/MaterialKeyInfo":function(){define(["require","exports"],function(G,A){return function(){function a(){this.heatmap=this.pattern=this.visibility=this.vvOpacity=
this.vvRotation=this.vvColor=this.vvSizeUnitValue=this.vvSizeFieldStops=this.vvSizeScaleStops=this.vvSizeMinMaxValue=this.sdf=!1}a.prototype.copy=function(m){this.geometryType=m.geometryType;this.sdf=m.sdf;this.vvSizeMinMaxValue=m.vvSizeMinMaxValue;this.vvSizeScaleStops=m.vvSizeScaleStops;this.vvSizeFieldStops=m.vvSizeFieldStops;this.vvSizeUnitValue=m.vvSizeUnitValue;this.vvColor=m.vvColor;this.vvRotation=m.vvRotation;this.vvOpacity=m.vvOpacity;this.visibility=m.visibility;this.pattern=m.pattern;
this.heatmap=m.heatmap};a.prototype.hasVV=function(){void 0===this._hasVV&&(this._hasVV=this.vvColor||this.vvOpacity||this.vvRotation||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue);return this._hasVV};a.prototype.hasVVSize=function(){return this.vvSizeMinMaxValue||this.vvSizeFieldStops||this.vvSizeScaleStops||this.vvSizeUnitValue};a.prototype.hasVVColor=function(){return this.vvColor};a.prototype.hasVVRotation=function(){return this.vvRotation};a.prototype.hasVVOpacity=
function(){return this.vvOpacity};return a}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/util/serializationUtils":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.serializeList=function(a,m){if(null===m)a.writeInt32(0);else{a.writeInt32(m.length);for(var p=0;p<m.length;p++)m[p].serialize(a);return a}};A.deserializeList=function(a,m,p){var t=a.readInt32();t=Array(t);for(var n=0;n<t.length;n++)t[n]=m.deserialize(a,p);return t}})},"esri/layers/vectorTiles/views/2d/engine/webgl/shaders/fillShaderSnippets":function(){define(["require",
"exports","dojo/text!./fillShaders.xml","../../../../webgl/ShaderSnippets"],function(G,A,a,m){G=new m;m.parse(a,G);return G})},"esri/layers/vectorTiles/views/webgl/ShaderSnippets":function(){define(["require","exports","dojox/xml/parser"],function(G,A,a){return function(){function m(p){if(p)for(var t in p)this[t]=p[t]}m.parse=function(p,t){p=a.parse(p).getElementsByTagName("snippet");for(var n=/\$[a-zA-Z][a-zA-Z0-9]*(?:\([^\(\)]*\))?[ \t]*/,h=/[\$\s]+/g,c=/\(([^\(\)]*)\)/,b=0;b<p.length;b++){for(var e=
p[b].getAttribute("name"),f=p[b].textContent;;){var k=f.match(n);if(null==k)break;var u=k[0].replace(h,""),v=u.match(c),g=void 0;v&&(g=v[1].split(",").map(function(q){return q.trim()}));u=u.replace(c,"");g=t._instantiate(u,g);f=f.replace(k[0],g)}t[e]=f}};m.prototype._instantiate=function(p,t){p=this[p];for(t||(t=[]);;){var n=p.match(/\$(\d+)/);if(null==n)break;var h=parseInt(n[1],10);p=p.replace(n[0],t[h])}return p};return m}()})},"dojox/xml/parser":function(){define(["dojo/_base/kernel","dojo/_base/lang",
"dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(G){G.getObject("xml.parser",!0,dojox);dojox.xml.parser.parse=function(A,a){var m=G.doc;a=a||"text/xml";if(A&&G.trim(A)&&"DOMParser"in G.global){var p=(new DOMParser).parseFromString(A,a);A=p.documentElement;if("parsererror"==A.nodeName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"==A.namespaceURI){if(m=A.getElementsByTagNameNS("http://www.mozilla.org/newlayout/xml/parsererror.xml","sourcetext")[0])m=m.firstChild.data;throw Error("Error parsing text "+
A.firstChild.data+" \n"+m);}return p}if("ActiveXObject"in G.global){m=function(n){return"MSXML"+n+".DOMDocument"};m=["Microsoft.XMLDOM",m(6),m(4),m(3),m(2)];G.some(m,function(n){try{p=new ActiveXObject(n)}catch(h){return!1}return!0});if(A&&p&&(p.async=!1,p.loadXML(A),A=p.parseError,0!==A.errorCode))throw Error("Line: "+A.line+"\nCol: "+A.linepos+"\nReason: "+A.reason+"\nError Code: "+A.errorCode+"\nSource: "+A.srcText);if(p)return p}else if(m.implementation&&m.implementation.createDocument){if(A&&
G.trim(A)&&m.createElement){a=m.createElement("xml");a.innerHTML=A;var t=m.implementation.createDocument("foo","",null);G.forEach(a.childNodes,function(n){t.importNode(n,!0)});return t}return m.implementation.createDocument("","",null)}return null};dojox.xml.parser.textContent=function(A,a){if(1<arguments.length)return dojox.xml.parser.replaceChildren(A,(A.ownerDocument||G.doc).createTextNode(a)),a;if(void 0!==A.textContent)return A.textContent;var m="";A&&G.forEach(A.childNodes,function(p){switch(p.nodeType){case 1:case 5:m+=
dojox.xml.parser.textContent(p);break;case 3:case 2:case 4:m+=p.nodeValue}});return m};dojox.xml.parser.replaceChildren=function(A,a){var m=[];G.isIE&&G.forEach(A.childNodes,function(p){m.push(p)});dojox.xml.parser.removeChildren(A);G.forEach(m,G.destroy);G.isArray(a)?G.forEach(a,function(p){A.appendChild(p)}):A.appendChild(a)};dojox.xml.parser.removeChildren=function(A){for(var a=A.childNodes.length;A.hasChildNodes();)A.removeChild(A.firstChild);return a};dojox.xml.parser.innerXML=function(A){return A.innerXML?
A.innerXML:A.xml?A.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(A):null};return dojox.xml.parser})},"esri/layers/vectorTiles/views/2d/engine/webgl/shaders/iconShaderSnippets":function(){define(["require","exports","dojo/text!./iconShaders.xml","../../../../webgl/ShaderSnippets"],function(G,A,a,m){G=new m;m.parse(a,G);return G})},"esri/layers/vectorTiles/views/2d/engine/webgl/shaders/labelShaderSnippets":function(){define(["require","exports","dojo/text!./labelShaders.xml",
"../../../../webgl/ShaderSnippets"],function(G,A,a,m){G=new m;m.parse(a,G);return G})},"esri/layers/vectorTiles/views/2d/engine/webgl/shaders/lineShaderSnippets":function(){define(["require","exports","dojo/text!./lineShaders.xml","../../../../webgl/ShaderSnippets"],function(G,A,a,m){G=new m;m.parse(a,G);return G})},"esri/layers/vectorTiles/views/2d/engine/webgl/shaders/textShaderSnippets":function(){define(["require","exports","dojo/text!./textShaders.xml","../../../../webgl/ShaderSnippets"],function(G,
A,a,m){G=new m;m.parse(a,G);return G})},"esri/layers/vectorTiles/views/webgl/ShaderVariations":function(){define(["require","exports","./Program","./ShaderSourceVariator","./Util"],function(G,A,a,m,p){function t(n){return n.reduce(function(h,c,b){c&&(h|=1<<b);return h},0)}return function(){function n(h,c,b,e,f,k){"string"===typeof h?this._initParams(h,c,b,e,f,k):this._initObject({programNamePrefix:h.programNamePrefix,shaderSnippetPrefixes:h.shaderSnippetPrefixes,baseDefines:h.baseDefines,snippets:h.snippets,
rctx:h.rctx,vertexAttribLocs:h.vertexAttribLocs})}n.prototype.dispose=function(){this._programCache&&(this._programCache.forEach(function(h){return h.dispose()}),this._programCache.clear())};n.prototype._initObject=function(h){this._initParams(h.programNamePrefix,h.shaderSnippetPrefixes,h.baseDefines,h.snippets,h.rctx,h.vertexAttribLocs)};n.prototype._initParams=function(h,c,b,e,f,k){this._defaultSnippets=e;this._defaultRctx=f;this._defaultVertexAttribLocs=k;this._programCache=new Map;this._variationInfo=
new Map;this._shaderSourceVariator=new m(h,c,b)};n.prototype.addDefine=function(h,c,b,e){this._shaderSourceVariator.addDefine(h,c,b,e)};n.prototype.addBinaryShaderSnippetSuffix=function(h,c,b){this._shaderSourceVariator.addBinaryShaderSnippetSuffix(h,c,b)};n.prototype.addNaryShaderSnippetSuffix=function(h,c){this._shaderSourceVariator.addNaryShaderSnippetSuffix(h,c)};n.prototype.getProgram=function(h,c,b,e){c=c||this._defaultSnippets;b=b||this._defaultRctx;e=e||this._defaultVertexAttribLocs;if(!c)throw Error("No ShaderSnippets provided to getProgram nor to ShaderVariations constructor.");
if(!b)throw Error("No RenderingContext provided to getProgram nor to ShaderVariations constructor.");if(!e)throw Error("No VertexAttributeLocations provided to getProgram nor to ShaderVariations constructor.");var f=t(h);if(this._programCache.has(f))return this._programCache.get(f);h=this._shaderSourceVariator.getShaderVariation(h);var k=h.shaderSnippetNames[0];var u=c[k];p.assert(null!=u,"shader snippet '"+k+"' does not exist");k=h.shaderSnippetNames[1];c=c[k];p.assert(null!=c,"shader snippet '"+
k+"' does not exist");b=new a(b,u,c,e,h.defines);this._programCache.set(f,b);return b};n.prototype.getProgramByKey=function(h){if(this._programCache.has(h))return this._programCache.get(h);if(!this._variationInfo[h])return null;var c=this._variationInfo[h],b=this._defaultSnippets,e=this._defaultRctx,f=this._defaultVertexAttribLocs;var k=c.shaderSnippetNames[0];var u=b[k];p.assert(null!=u,"shader snippet '"+k+"' does not exist");k=c.shaderSnippetNames[1];b=b[k];p.assert(null!=b,"shader snippet '"+
k+"' does not exist");c=new a(e,u,b,f,c.defines);this._programCache.set(h,c);return c};n.prototype.getProgramInfo=function(h){var c=this._shaderSourceVariator.getShaderVariation(h);h=t(h);this._variationInfo[h]||(this._variationInfo[h]=c);return{name:c.programName,key:h}};return n}()})},"esri/layers/vectorTiles/views/webgl/Program":function(){define(["require","exports","dojo/has","./ShaderTranspiler"],function(G,A,a,m){var p=a("dojo-debug-messages");return function(){function t(n,h,c,b,e){void 0===
e&&(e={});this._glName=this._context=null;this._locations={};this._id=void 0;this._initialized=!1;this._fShader=this._vShader=null;this._defines={};this._nameToUniformLocation={};this._nameToAttribLocation={};this._nameToUniform1={};this._nameToUniform2={};this._nameToUniform3={};this._nameToUniform4={};this._nameToUniformMatrix3={};this._nameToUniformMatrix4={};n||console.error("RenderingContext isn't initialized!");0===h.length&&console.error("Shaders source should not be empty!");this._context=
n;this._vertexShaderSource=h;this._fragmentShaderSource=c;if(Array.isArray(e))for(h=0;h<e.length;h++)this._defines[e[h]]="1";else this._defines=e;this._id=t._nextId++;this._locations=b;a("esri-webgl-debug")&&n.instanceCounter.incrementCount(3)}Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"locations",
{get:function(){return this._locations},enumerable:!0,configurable:!0});t.prototype.getDefine=function(n){return this._defines[n]};t.prototype.dispose=function(){if(this._context){var n=this._context.gl;this._vShader&&(n.deleteShader(this._vShader),this._vShader=null);this._fShader&&(n.deleteShader(this._fShader),this._fShader=null);this._glName&&(n.deleteProgram(this._glName),this._glName=null);a("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(3);this._context=null}};t.prototype.initialize=
function(){if(!this._initialized){this._vShader=this._loadShader(35633);this._fShader=this._loadShader(35632);this._vShader&&this._fShader||console.error("Error loading shaders!");var n=this._context.gl,h=n.createProgram();n.attachShader(h,this._vShader);n.attachShader(h,this._fShader);for(var c in this._locations)n.bindAttribLocation(h,this._locations[c],c);n.linkProgram(h);n.getProgramParameter(h,n.LINK_STATUS)||console.error("Could not initialize shader\nVALIDATE_STATUS: "+n.getProgramParameter(h,
n.VALIDATE_STATUS)+", gl error ["+n.getError()+"]infoLog: "+n.getProgramInfoLog(h));this._glName=h;this._initialized=!0}};t.prototype.getUniformLocation=function(n){this.initialize();void 0===this._nameToUniformLocation[n]&&(this._nameToUniformLocation[n]=this._context.gl.getUniformLocation(this._glName,n));return this._nameToUniformLocation[n]};t.prototype.hasUniform=function(n){return null!==this.getUniformLocation(n)};t.prototype.getAttribLocation=function(n){this.initialize();void 0===this._nameToAttribLocation[n]&&
(this._nameToAttribLocation[n]=this._context.gl.getAttribLocation(this._glName,n));return this._nameToAttribLocation[n]};t.prototype.setUniform1i=function(n,h){var c=this._nameToUniform1[n];if(void 0===c||h!==c)this._context.bindProgram(this),this._context.gl.uniform1i(this.getUniformLocation(n),h),this._nameToUniform1[n]=h};t.prototype.setUniform1f=function(n,h){var c=this._nameToUniform1[n];if(void 0===c||h!==c)this._context.bindProgram(this),this._context.gl.uniform1f(this.getUniformLocation(n),
h),this._nameToUniform1[n]=h};t.prototype.setUniform1fv=function(n,h){var c=this._nameToUniform2[n];void 0!==c&&t._arraysEqual(h,c)||(this._context.bindProgram(this),this._context.gl.uniform1fv(this.getUniformLocation(n),h),void 0===c?this._nameToUniform2[n]=new Float32Array(h):c.set(h))};t.prototype.setUniform2f=function(n,h,c){var b=this._nameToUniform2[n];if(void 0===b||h!==b[0]||c!==b[1])this._context.bindProgram(this),this._context.gl.uniform2f(this.getUniformLocation(n),h,c),void 0===b?this._nameToUniform2[n]=
new Float32Array([h,c]):(b[0]=h,b[1]=c)};t.prototype.setUniform2fv=function(n,h){p&&0!==h.length%2&&console.error("Value array must have even number of elements!");var c=this._nameToUniform2[n];void 0!==c&&t._arraysEqual(h,c)||(this._context.bindProgram(this),this._context.gl.uniform2fv(this.getUniformLocation(n),h),void 0===c?this._nameToUniform2[n]=new Float32Array(h):c.set(h))};t.prototype.setUniform3f=function(n,h,c,b){var e=this._nameToUniform3[n];if(void 0===e||h!==e[0]||c!==e[1]||b!==e[2])this._context.bindProgram(this),
this._context.gl.uniform3f(this.getUniformLocation(n),h,c,b),void 0===e?this._nameToUniform3[n]=new Float32Array([h,c,b]):(e[0]=h,e[1]=c,e[2]=b)};t.prototype.setUniform3fv=function(n,h){p&&0!==h.length%3&&console.error("Value array must contain sets of three values!");var c=this._nameToUniform3[n];void 0!==c&&t._arraysEqual(h,c)||(this._context.bindProgram(this),this._context.gl.uniform3fv(this.getUniformLocation(n),h),void 0===c?this._nameToUniform3[n]=new Float32Array(h):c.set(h))};t.prototype.setUniform4f=
function(n,h,c,b,e){var f=this._nameToUniform4[n];if(void 0===f||h!==f[0]||c!==f[1]||b!==f[2]||e!==f[3])this._context.bindProgram(this),this._context.gl.uniform4f(this.getUniformLocation(n),h,c,b,e),void 0===f?this._nameToUniform4[n]=new Float32Array([h,c,b,e]):(f[0]=h,f[1]=c,f[2]=b,f[3]=e)};t.prototype.setUniform4fv=function(n,h){p&&0!==h.length%4&&console.error("Value array must contain sets of four values!");var c=this._nameToUniform4[n];void 0!==c&&t._arraysEqual(h,c)||(this._context.bindProgram(this),
this._context.gl.uniform4fv(this.getUniformLocation(n),h),void 0===c?this._nameToUniform4[n]=new Float32Array(h):c.set(h))};t.prototype.setUniformMatrix3fv=function(n,h,c){void 0===c&&(c=!1);p&&0!==h.length%9&&console.error("Matrix array must contain sets ot 9 elements!");var b=this._nameToUniformMatrix3[n];void 0!==b&&(9===b.length?t._matrix3Equal(b,h):t._arraysEqual(h,b))||(this._context.bindProgram(this),this._context.gl.uniformMatrix3fv(this.getUniformLocation(n),c,h),void 0===b?this._nameToUniformMatrix3[n]=
new Float32Array(h):b.set(h))};t.prototype.setUniformMatrix4fv=function(n,h,c){void 0===c&&(c=!1);p&&0!==h.length%16&&console.error("Matrix array must contain sets ot 16 elements!");var b=this._nameToUniformMatrix4[n];void 0!==b&&(16===b.length?t._matrix4Equal(b,h):t._arraysEqual(h,b))||(this._context.bindProgram(this),this._context.gl.uniformMatrix4fv(this.getUniformLocation(n),c,h),void 0===b?this._nameToUniformMatrix4[n]=new Float32Array(h):b.set(h))};t._padToThree=function(n){var h=n.toString();
1E3>n&&(h=("  "+n).slice(-3));return h};t.prototype._addLineNumbers=function(n){var h=2;return n.replace(/\n/g,function(){return"\n"+t._padToThree(h++)+":"})};t.prototype._loadShader=function(n){var h=35633===n,c=h?this._vertexShaderSource:this._fragmentShaderSource;var b="";for(var e in this._defines)b+="#define "+e+" "+this._defines[e]+"\n";b+=c;"webgl2"===this._context.contextVersion&&(b=m.transpileShader(b,h?"vertex":"fragment"));h=this._context.gl;n=h.createShader(n);h.shaderSource(n,b);h.compileShader(n);
h.getShaderParameter(n,h.COMPILE_STATUS)||(console.error(h.getShaderInfoLog(n)),console.error(this._addLineNumbers(b)),"webgl2"===this._context.contextVersion&&(console.log("Shader source before transpilation:"),console.log(c)));return n};t._matrix4Equal=function(n,h){p&&(16!==n.length||16!==h.length)&&console.error("Matrix object must contain 16 elements!");return n[0]===h[0]&&n[1]===h[1]&&n[2]===h[2]&&n[3]===h[3]&&n[4]===h[4]&&n[5]===h[5]&&n[6]===h[6]&&n[7]===h[7]&&n[8]===h[8]&&n[9]===h[9]&&n[10]===
h[10]&&n[11]===h[11]&&n[12]===h[12]&&n[13]===h[13]&&n[14]===h[14]&&n[15]===h[15]};t._matrix3Equal=function(n,h){p&&(9!==n.length||9!==h.length)&&console.error("Matrix object must contain 16 elements!");return n[0]===h[0]&&n[1]===h[1]&&n[2]===h[2]&&n[3]===h[3]&&n[4]===h[4]&&n[5]===h[5]&&n[6]===h[6]&&n[7]===h[7]&&n[8]===h[8]};t._arraysEqual=function(n,h){if(n.length!==h.length)return!1;for(var c=0;c<n.length;++c)if(n[c]!==h[c])return!1;return!0};t._nextId=0;return t}()})},"esri/layers/vectorTiles/views/webgl/ShaderTranspiler":function(){define(["require",
"exports","./reservedWordsGLSL3","./lib/glsl-tokenizer/string"],function(G,A,a,m){function p(c){return c.map(function(b){return"eof"!==b.type?b.data:""}).join("")}function t(c,b,e,f){f=f||e;for(var k=0;k<c.length;k++){var u=c[k];if("ident"===u.type&&u.data===e)return f in b?b[f]++:b[f]=0,t(c,b,f+"_"+b[f],f)}return e}function n(c,b,e){void 0===e&&(e="afterVersion");var f={data:"\n",type:"whitespace"},k=function(q){return q<c.length?/[^\r\n]$/.test(c[q].data):!1},u=function(q){for(var x=-1,w=0,B=-1,
z=0;z<q.length;z++){var C=q[z];"preprocessor"===C.type&&(C.data.match(/#(if|ifdef|ifndef)\s+.+/)?++w:C.data.match(/#endif\s*.*/)&&--w);("afterVersion"===e||"afterPrecision"===e)&&"preprocessor"===C.type&&/^#version/.test(C.data)&&(B=Math.max(B,z));if("afterPrecision"===e&&"keyword"===C.type&&"precision"===C.data){a:{for(C=z;C<q.length;C++){var y=q[C];if("operator"===y.type&&";"===y.data)break a}C=null}if(null===C)throw Error("precision statement not followed by any semicolons!");B=Math.max(B,C)}x<
B&&0===w&&(x=z)}return x+1}(c);k(u-1)&&c.splice(u++,0,f);for(var v=0;v<b.length;v++){var g=b[v];c.splice(u++,0,g)}k(u-1)&&k(u)&&c.splice(u,0,f)}Object.defineProperty(A,"__esModule",{value:!0});var h=["GL_OES_standard_derivatives","GL_EXT_frag_depth","GL_EXT_draw_buffers","GL_EXT_shader_texture_lod"];A.transpileShader=function(c,b){c=m(c);a:{var e="100";var f="300 es";void 0===e&&(e="100");void 0===f&&(f="300 es");for(var k=/^\s*#version\s+([0-9]+(\s+[a-zA-Z]+)?)\s*/,u=0;u<c.length;u++){var v=c[u];
if("preprocessor"===v.type){var g=k.exec(v.data);if(g)if(k=g[1].replace(/\s\s+/g," "),k===f){e=k;break a}else if(k===e){v.data="#version "+f;break a}else throw Error("unknown glsl version: "+k);}}c.splice(0,0,{type:"preprocessor",data:"#version "+f},{type:"whitespace",data:"\n"});e=null}if("300 es"===e)throw Error("shader is already glsl 300 es");k=v=null;u={};g={};for(e=0;e<c.length;++e)switch(f=c[e],f.type){case "keyword":"vertex"===b&&"attribute"===f.data?f.data="in":"varying"===f.data&&(f.data=
"vertex"===b?"out":"in");break;case "builtin":/^texture(2D|Cube)(Proj)?(Lod|Grad)?(EXT)?$/.test(f.data.trim())&&(f.data=f.data.replace(/(2D|Cube|EXT)/g,""));if("fragment"===b&&"gl_FragColor"===f.data){if(!v){v=t(c,u,"fragColor");var q=void 0;void 0===q&&(q="lowp");n(c,[{type:"keyword",data:"out"},{type:"whitespace",data:" "},{type:"keyword",data:q},{type:"whitespace",data:" "},{type:"keyword",data:"vec4"},{type:"whitespace",data:" "},{type:"ident",data:v},{type:"operator",data:";"}],"afterPrecision")}f.data=
v}else"fragment"===b&&"gl_FragDepthEXT"===f.data&&(k||(k=t(c,u,"gl_FragDepth")),f.data=k);break;case "ident":if(0<=a.indexOf(f.data)){if(q="vertex"===b)a:{for(q=e-1;0<=q;q--){var x=c[q];if("whitespace"!==x.type&&"block-comment"!==x.type)if("keyword"===x.type){if("attribute"===x.data||"in"===x.data){q=!0;break a}}else break}q=!1}if(q)throw Error("attribute in vertex shader uses a name that is a reserved word in glsl 300 es");f.data in g||(g[f.data]=t(c,u,f.data));f.data=g[f.data]}}for(e=c.length-1;0<=
e;--e)f=c[e],"preprocessor"===f.type&&((b=f.data.match(/#extension\s+(.*):/))&&b[1]&&0<=h.indexOf(b[1].trim())&&(b=c[e+1],c.splice(e,b&&"whitespace"===b.type?2:1)),(b=f.data.match(/#ifdef\s+(.*)/))&&b[1]&&0<=h.indexOf(b[1].trim())&&(f.data="#if 1"),(b=f.data.match(/#ifndef\s+(.*)/))&&b[1]&&0<=h.indexOf(b[1].trim())&&(f.data="#if 0"));return p(c)}})},"esri/layers/vectorTiles/views/webgl/reservedWordsGLSL3":function(){define(["require","exports"],function(G,A){return"layout centroid smooth case mat2x2 mat2x3 mat2x4 mat3x2 mat3x3 mat3x4 mat4x2 mat4x3 mat4x4 uint uvec2 uvec3 uvec4 samplerCubeShadow sampler2DArray sampler2DArrayShadow isampler2D isampler3D isamplerCube isampler2DArray usampler2D usampler3D usamplerCube usampler2DArray coherent restrict readonly writeonly resource atomic_uint noperspective patch sample subroutine common partition active filter image1D image2D image3D imageCube iimage1D iimage2D iimage3D iimageCube uimage1D uimage2D uimage3D uimageCube image1DArray image2DArray iimage1DArray iimage2DArray uimage1DArray uimage2DArray image1DShadow image2DShadow image1DArrayShadow image2DArrayShadow imageBuffer iimageBuffer uimageBuffer sampler1DArray sampler1DArrayShadow isampler1D isampler1DArray usampler1D usampler1DArray isampler2DRect usampler2DRect samplerBuffer isamplerBuffer usamplerBuffer sampler2DMS isampler2DMS usampler2DMS sampler2DMSArray isampler2DMSArray usampler2DMSArray trunc round roundEven isnan isinf floatBitsToInt floatBitsToUint intBitsToFloat uintBitsToFloat packSnorm2x16 unpackSnorm2x16 packUnorm2x16 unpackUnorm2x16 packHalf2x16 unpackHalf2x16 outerProduct transpose determinant inverse texture textureSize textureProj textureLod textureOffset texelFetch texelFetchOffset textureProjOffset textureLodOffset textureProjLod textureProjLodOffset textureGrad textureGradOffset textureProjGrad textureProjGradOffset".split(" ")})},
"esri/layers/vectorTiles/views/webgl/lib/glsl-tokenizer/string":function(){define(["./index"],function(G){"use strict;";return function(A){var a=G(),m=[];m=m.concat(a(A));return m=m.concat(a(null))}})},"esri/layers/vectorTiles/views/webgl/lib/glsl-tokenizer/index":function(){define(["./lib/literals","./lib/operators","./lib/builtins"],function(G,A,a){"use strict;";var m="block-comment line-comment preprocessor operator integer float ident builtin keyword whitespace eof integer".split(" ");return function(){function p(H){H.length&&
x.push({type:m[u],data:H,position:z,line:w,column:B})}function t(){q=q.length?[]:q;if("/"===g&&"*"===v)return z=k+f-1,u=0,g=v,f+1;if("/"===g&&"/"===v)return z=k+f-1,u=1,g=v,f+1;if("#"===v)return u=2,z=k+f,f;if(/\s/.test(v))return u=9,z=k+f,f;C=/\d/.test(v);y=/[^\w_]/.test(v);z=k+f;u=C?4:y?3:9999;return f}function n(){if(("\r"===v||"\n"===v)&&"\\"!==g)return p(q.join("")),u=999,f;q.push(v);g=v;return f+1}function h(){if("."===g&&/\d/.test(v))return u=5,f;if("/"===g&&"*"===v)return u=0,f;if("/"===g&&
"/"===v)return u=1,f;if("."===v&&q.length){for(;c(q););u=5;return f}if(";"===v||")"===v||"("===v){if(q.length)for(;c(q););p(v);u=999;return f+1}var H=2===q.length&&"\x3d"!==v;if(/[\w_\d\s]/.test(v)||H){for(;c(q););u=999;return f}q.push(v);g=v;return f+1}function c(H){var E=0;do{var I=A.indexOf(H.slice(0,H.length+E).join(""));var J=A[I];if(-1===I){if(0<E--+H.length)continue;J=H.slice(0,1).join("")}p(J);z+=J.length;q=q.slice(J.length);return q.length}while(1)}function b(){if("."===v||/[eE]/.test(v))return q.push(v),
u=5,g=v,f+1;if("x"===v&&1===q.length&&"0"===q[0])return u=11,q.push(v),g=v,f+1;if(/[^\d]/.test(v))return p(q.join("")),u=999,f;q.push(v);g=v;return f+1}function e(){"f"===v&&(q.push(v),g=v,f+=1);if(/[eE]/.test(v)||"-"===v&&/[eE]/.test(g))return q.push(v),g=v,f+1;if(/[^\d]/.test(v))return p(q.join("")),u=999,f;q.push(v);g=v;return f+1}var f=0,k=0,u=999,v,g,q=[],x=[],w=1,B=0,z=0,C=!1,y=!1,D="",F;return function(H){x=[];if(null!==H){H=H.replace?H.replace(/\r\n/g,"\n"):H;f=0;D+=H;for(F=D.length;v=D[f],
f<F;){H=f;switch(u){case 0:"/"===v&&"*"===g?(q.push(v),p(q.join("")),u=999):(q.push(v),g=v);f+=1;break;case 1:f=n();break;case 2:f=n();break;case 3:f=h();break;case 4:f=b();break;case 11:/[^a-fA-F0-9]/.test(v)?(p(q.join("")),u=999):(q.push(v),g=v,f+=1);break;case 5:f=e();break;case 9999:if(/[^\d\w_]/.test(v)){var E=q.join("");u=-1<G.indexOf(E)?8:-1<a.indexOf(E)?7:6;p(q.join(""));u=999}else q.push(v),g=v,f+=1;break;case 9:/[^\s]/g.test(v)?(p(q.join("")),u=999):(q.push(v),g=v,f+=1);break;case 999:f=
t()}if(H!==f)switch(D[H]){case "\n":B=0;++w;break;default:++B}}k+=f;D=D.slice(f);return x}q.length&&p(q.join(""));u=10;p("(eof)");return x}}})},"esri/layers/vectorTiles/views/webgl/lib/glsl-tokenizer/lib/literals":function(){define([],function(){return"precision highp mediump lowp attribute const uniform varying break continue do for while if else in out inout float int void bool true false discard return mat2 mat3 mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow struct asm class union enum typedef template this packed goto switch default inline noinline volatile public static extern external interface long short double half fixed unsigned input output hvec2 hvec3 hvec4 dvec2 dvec3 dvec4 fvec2 fvec3 fvec4 sampler2DRect sampler3DRect sampler2DRectShadow sizeof cast namespace using".split(" ")})},
"esri/layers/vectorTiles/views/webgl/lib/glsl-tokenizer/lib/operators":function(){define([],function(){"use strict;";return"\x3c\x3c\x3d \x3e\x3e\x3d ++ -- \x3c\x3c \x3e\x3e \x3c\x3d \x3e\x3d \x3d\x3d !\x3d \x26\x26 || +\x3d -\x3d *\x3d /\x3d %\x3d \x26\x3d ^^ ^\x3d |\x3d ( ) [ ] . ! ~ * / % + - \x3c \x3e \x26 ^ | ? : \x3d , ; { }".split(" ")})},"esri/layers/vectorTiles/views/webgl/lib/glsl-tokenizer/lib/builtins":function(){define([],function(){return"abs acos all any asin atan ceil clamp cos cross dFdx dFdy degrees distance dot equal exp exp2 faceforward floor fract gl_BackColor gl_BackLightModelProduct gl_BackLightProduct gl_BackMaterial gl_BackSecondaryColor gl_ClipPlane gl_ClipVertex gl_Color gl_DepthRange gl_DepthRangeParameters gl_EyePlaneQ gl_EyePlaneR gl_EyePlaneS gl_EyePlaneT gl_Fog gl_FogCoord gl_FogFragCoord gl_FogParameters gl_FragColor gl_FragCoord gl_FragData gl_FragDepth gl_FragDepthEXT gl_FrontColor gl_FrontFacing gl_FrontLightModelProduct gl_FrontLightProduct gl_FrontMaterial gl_FrontSecondaryColor gl_LightModel gl_LightModelParameters gl_LightModelProducts gl_LightProducts gl_LightSource gl_LightSourceParameters gl_MaterialParameters gl_MaxClipPlanes gl_MaxCombinedTextureImageUnits gl_MaxDrawBuffers gl_MaxFragmentUniformComponents gl_MaxLights gl_MaxTextureCoords gl_MaxTextureImageUnits gl_MaxTextureUnits gl_MaxVaryingFloats gl_MaxVertexAttribs gl_MaxVertexTextureImageUnits gl_MaxVertexUniformComponents gl_ModelViewMatrix gl_ModelViewMatrixInverse gl_ModelViewMatrixInverseTranspose gl_ModelViewMatrixTranspose gl_ModelViewProjectionMatrix gl_ModelViewProjectionMatrixInverse gl_ModelViewProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixTranspose gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_Normal gl_NormalMatrix gl_NormalScale gl_ObjectPlaneQ gl_ObjectPlaneR gl_ObjectPlaneS gl_ObjectPlaneT gl_Point gl_PointCoord gl_PointParameters gl_PointSize gl_Position gl_ProjectionMatrix gl_ProjectionMatrixInverse gl_ProjectionMatrixInverseTranspose gl_ProjectionMatrixTranspose gl_SecondaryColor gl_TexCoord gl_TextureEnvColor gl_TextureMatrix gl_TextureMatrixInverse gl_TextureMatrixInverseTranspose gl_TextureMatrixTranspose gl_Vertex greaterThan greaterThanEqual inversesqrt length lessThan lessThanEqual log log2 matrixCompMult max min mix mod normalize not notEqual pow radians reflect refract sign sin smoothstep sqrt step tan texture2D texture2DLod texture2DProj texture2DProjLod textureCube textureCubeLod texture2DLodEXT texture2DProjLodEXT textureCubeLodEXT texture2DGradEXT texture2DProjGradEXT textureCubeGradEXT".split(" ")})},
"esri/layers/vectorTiles/views/webgl/ShaderSourceVariator":function(){define(["require","exports","../../core/lang","./Util"],function(G,A,a,m){return function(){function p(t,n,h){if("string"===typeof t)var c=t;else c=t.programNamePrefix,n=t.shaderSnippetPrefixes,h=t.baseDefines;m.assert(n,"you must specify shader snippet prefixes");m.assert(2===n.length,"you must specify shader snippet prefixes for vertex and fragment shaders");h&&0!==h.length||(h=[]);this.programNamePrefix=c;this.shaderSnippetPrefixes=
n;this.baseDefines=h;this.variables=[];this.sealed=!1}p.prototype.addDefine=function(t,n,h,c){m.assert(!this.sealed,"you cannot add another variable after the first program has been generated");m.assert(t,"you must specify a program name suffix");this.variables.push({programNameSuffixes:["",t],shaderNameSuffixes:c||t,defineStr:n,affectsShaderTypes:h||[!0,!0]})};p.prototype.addBinaryShaderSnippetSuffix=function(t,n,h){m.assert(!this.sealed,"you cannot add another variable after the first program has been generated");
m.assert(t,"you must specify a program name suffix");this.variables.push({programNameSuffixes:["",t],shaderSnippetSuffixes:["",n],affectsShaderTypes:h||[!0,!0]})};p.prototype.addNaryShaderSnippetSuffix=function(t,n){m.assert(!this.sealed,"you cannot add another variable after the first program has been generated");var h=t.map(function(c){m.assert(null!=c.value,"value must always be specified");return c.value});this.variables.push({values:h,programNameSuffixes:t.map(function(c,b){return null!=c.programNameSuffix?
c.programNameSuffix:h[b]}),shaderSnippetSuffixes:t.map(function(c,b){return null!=c.shaderSnippetSuffix?c.shaderSnippetSuffix:h[b]}),affectsShaderTypes:n||[!0,!0]})};p.prototype.getShaderVariation=function(t){m.assert(t.length===this.variables.length,"you must specify a value for each variable");for(var n=this.programNamePrefix,h=a.clone(this.shaderSnippetPrefixes),c=a.clone(this.shaderSnippetPrefixes),b=a.clone(this.baseDefines),e=0;e<this.variables.length;e++){var f=this.variables[e],k=t[e],u=void 0;
f.values?(u=f.values.indexOf(k),m.assert(0<=u,"invalid value "+k+" for variable "+e)):u=k?1:0;n+=f.programNameSuffixes[u];for(k=0;2>k;k++)f.affectsShaderTypes[k]&&(f.shaderSnippetSuffixes&&(h[k]+=f.shaderSnippetSuffixes[u],c[k]+=f.shaderSnippetSuffixes[u]),f.defineStr&&u&&(b.push(f.defineStr),c[k]+=f.shaderNameSuffixes))}return{programName:n,shaderSnippetNames:h,shaderNames:c,defines:b}};return p}()})},"esri/layers/vectorTiles/views/webgl/Util":function(){define(["require","exports","../../core/tsSupport/assignHelper",
"../../core/Error"],function(G,A,a,m){return function(){function p(){}p.vertexCount=function(t,n){return t.vertexBuffers[n].size/p.getStride(t.layout[n])};p.getStride=function(t){return t[0].stride};p.getBytesPerElement=function(t){switch(t){case 5126:return 4;case 5124:return 4;case 5125:return 4;case 5122:return 2;case 5123:return 2;case 5120:return 1;case 5121:return 1;default:throw Error("Unknown data type");}};p.addDescriptor=function(t,n,h,c,b,e){var f=p.getBytesPerElement(c);if(0<t.length){var k=
t[0].stride,u=k+f*h;t.forEach(function(v){return v.stride=u});t.push({name:n,count:h,type:c,offset:k,stride:u,normalized:b,divisor:e})}else t.push({name:n,count:h,type:c,offset:0,stride:f*h,normalized:b,divisor:e})};p.assertCompatibleVertexAttributeLocations=function(t,n){(t=t.locations===n.locations)||console.error("VertexAttributeLocations are incompatible");return t};p.hasAttribute=function(t,n){for(var h=0;h<t.length;h++)if(t[h].name===n)return!0;return!1};p.findAttribute=function(t,n){for(var h=
0;h<t.length;h++)if(t[h].name===n)return t[h];return null};p.copyFramebufferToTexture=function(t,n,h,c,b){void 0===b&&(b=0);var e=t.getBoundFramebufferObject(),f=t.getBoundTexture(0);t.bindFramebuffer(n);t.bindTexture(h,0);t.gl.copyTexImage2D(t.gl.TEXTURE_2D,b,h.descriptor.pixelFormat,c[0],c[1],c[2],c[3],0);t.gl.flush();t.bindFramebuffer(e);t.bindTexture(f,0)};p.assert=function(t,n){if(!t)throw new m(n);};p.setBaseInstanceOffset=function(t,n){var h={},c;for(c in t)h[c]=t[c].map(function(b){return b.divisor?
a({},b,{baseInstance:n}):b});return h};p.bindVertexBufferLayout=function(t,n,h,c,b){var e=t.gl,f=t.capabilities.instancing;t.bindBuffer(h);c.forEach(function(k){var u=n[k.name],v=(b?b:0+k.baseInstance?k.baseInstance:0)*k.stride;void 0===u&&console.error("There is no location for vertex attribute '"+k.name+"' defined.");k.baseInstance&&!k.divisor&&console.error("Vertex attribute '"+k.name+"' uses baseInstanceOffset without divisor.");if(4>=k.count)e.vertexAttribPointer(u,k.count,k.type,k.normalized,
k.stride,k.offset+v),e.enableVertexAttribArray(u),k.divisor&&0<k.divisor&&f&&f.vertexAttribDivisor(u,k.divisor);else if(9===k.count)for(var g=0;3>g;g++)e.vertexAttribPointer(u+g,3,k.type,k.normalized,k.stride,k.offset+12*g+v),e.enableVertexAttribArray(u+g),k.divisor&&0<k.divisor&&f&&f.vertexAttribDivisor(u+g,k.divisor);else if(16===k.count)for(g=0;4>g;g++)e.vertexAttribPointer(u+g,4,k.type,k.normalized,k.stride,k.offset+16*g+v),e.enableVertexAttribArray(u+g),k.divisor&&0<k.divisor&&f&&f.vertexAttribDivisor(u+
g,k.divisor);else console.error("Unsupported vertex attribute element count: "+k.count)})};p.unbindVertexBufferLayout=function(t,n,h,c){var b=t.gl;t.bindBuffer(h);c.forEach(function(e){var f=n[e.name];if(4>=e.count)b.disableVertexAttribArray(f);else if(9===e.count)for(e=0;3>e;e++)b.disableVertexAttribArray(f+e);else if(16===e.count)for(e=0;4>e;e++)b.disableVertexAttribArray(f+e);else console.error("Unsupported vertex attribute element count: "+e.count)});t.unbindBuffer(34962)};return p}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/Utils":function(){define("require exports ../../../../arcade/Dictionary ../../../../arcade/Feature ../../../../core/Logger ../../../../core/screenUtils ../../../../support/arcadeUtils ./color ./enums ./SymbolProperties".split(" "),
function(G,A,a,m,p,t,n,h,c,b){function e(y){return y.map(function(D){return D.name})}function f(y){for(var D={},F=0;F<y.length;F++){var H=y[F];D[H.name]=H.strideInBytes}return D}function k(y,D){switch(y){case c.WGLGeometryType.MARKER:return D?A.C_ICON_VERTEX_NAMES_VV:A.C_ICON_VERTEX_NAMES;case c.WGLGeometryType.FILL:return D?A.C_FILL_VERTEX_NAMES_VV:A.C_FILL_VERTEX_NAMES;case c.WGLGeometryType.LINE:return D?A.C_LINE_VERTEX_NAMES_VV:A.C_LINE_VERTEX_NAMES;case c.WGLGeometryType.TEXT:return D?A.C_TEXT_VERTEX_NAMES_VV:
A.C_TEXT_VERTEX_NAMES;case c.WGLGeometryType.LABEL:return A.C_LABEL_VERTEX_NAMES}return null}function u(y){switch(y){case "esriSMS":return"simple-marker";case "esriPMS":return"picture-marker";case "esriSLS":return"simple-line";case "esriPLS":return"picture-line";case "esriSFS":return"simple-fill";case "esriPFS":return"picture-fill";case "esriTS":return"text"}return y}function v(y){if(y=u(y.type)){switch(y){case "simple-marker":case "picture-marker":return!0;case "CIMPointSymbol":return!0}return!1}}
function g(y){if(y=u(y.type)){switch(y){case "simple-fill":case "picture-fill":return!0;case "CIMPolygonSymbol":return!0}return!1}}function q(y){if(y=u(y.type)){switch(y){case "simple-line":case "picture-line":return!0;case "CIMLineSymbol":return!0}return!1}}function x(y){if(y=u(y.type)){switch(y){case "text":return!0;case "CIMTextSymbol":return!0}return!1}}function w(y){return y&&y.length||0}function B(y){return"string"===typeof y}Object.defineProperty(A,"__esModule",{value:!0});var z=p.getLogger("esri.views.2d.engine.webgl.Utils");
A.C_HITTEST_SEARCH_SIZE=4;A.C_VBO_GEOMETRY="geometry";A.C_VBO_PERINSTANCE="per_instance";A.C_VBO_PERINSTANCE_VV="per_instance_vv";A.C_VBO_VISIBILITY="visibility";A.C_VBO_VISIBILITY_RANGE="visibilityRange";A.C_ICON_VERTEX_DEF=[{name:A.C_VBO_GEOMETRY,strideInBytes:28,divisor:0}];A.C_ICON_VERTEX_DEF_VV=[{name:A.C_VBO_GEOMETRY,strideInBytes:44,divisor:0}];A.C_ICON_HEATMAP=[{name:A.C_VBO_GEOMETRY,strideInBytes:32,divisor:0}];A.C_FILL_VERTEX_DEF=[{name:A.C_VBO_GEOMETRY,strideInBytes:24,divisor:0}];A.C_FILL_VERTEX_DEF_VV=
[{name:A.C_VBO_GEOMETRY,strideInBytes:32,divisor:0}];A.C_LINE_VERTEX_DEF=[{name:A.C_VBO_GEOMETRY,strideInBytes:32,divisor:0}];A.C_LINE_VERTEX_DEF_VV=[{name:A.C_VBO_GEOMETRY,strideInBytes:44,divisor:0}];A.C_TEXT_VERTEX_DEF=[{name:A.C_VBO_GEOMETRY,strideInBytes:20,divisor:0},{name:A.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}];A.C_TEXT_VERTEX_DEF_VV=[{name:A.C_VBO_GEOMETRY,strideInBytes:36,divisor:0},{name:A.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}];A.C_LABEL_VERTEX_DEF=[{name:A.C_VBO_GEOMETRY,strideInBytes:20,
divisor:0},{name:A.C_VBO_VISIBILITY,strideInBytes:1,divisor:0},{name:A.C_VBO_VISIBILITY_RANGE,strideInBytes:2,divisor:0}];A.C_ICON_VERTEX_NAMES=e(A.C_ICON_VERTEX_DEF);A.C_ICON_VERTEX_NAMES_VV=e(A.C_ICON_VERTEX_DEF_VV);A.C_FILL_VERTEX_NAMES=e(A.C_FILL_VERTEX_DEF);A.C_FILL_VERTEX_NAMES_VV=e(A.C_FILL_VERTEX_DEF_VV);A.C_LINE_VERTEX_NAMES=e(A.C_LINE_VERTEX_DEF);A.C_LINE_VERTEX_NAMES_VV=e(A.C_LINE_VERTEX_DEF_VV);A.C_TEXT_VERTEX_NAMES=e(A.C_TEXT_VERTEX_DEF);A.C_TEXT_VERTEX_NAMES_VV=e(A.C_TEXT_VERTEX_DEF_VV);
A.C_LABEL_VERTEX_NAMES=e(A.C_LABEL_VERTEX_DEF);A.C_ICON_STRIDE_SPEC=f(A.C_ICON_VERTEX_DEF);A.C_ICON_STRIDE_SPEC_VV=f(A.C_ICON_VERTEX_DEF_VV);A.C_ICON_STRIDE_SPEC_HEATMAP=f(A.C_ICON_HEATMAP);A.C_FILL_STRIDE_SPEC=f(A.C_FILL_VERTEX_DEF);A.C_FILL_STRIDE_SPEC_VV=f(A.C_FILL_VERTEX_DEF_VV);A.C_LINE_STRIDE_SPEC=f(A.C_LINE_VERTEX_DEF);A.C_LINE_STRIDE_SPEC_VV=f(A.C_LINE_VERTEX_DEF_VV);A.C_TEXT_STRIDE_SPEC=f(A.C_TEXT_VERTEX_DEF);A.C_TEXT_STRIDE_SPEC_VV=f(A.C_TEXT_VERTEX_DEF_VV);A.C_LABEL_STRIDE_SPEC=f(A.C_LABEL_VERTEX_DEF);
A.getStrides=function(y,D,F){void 0===F&&(F=!1);switch(y){case c.WGLGeometryType.MARKER:return D?A.C_ICON_STRIDE_SPEC_VV:F?A.C_ICON_STRIDE_SPEC_HEATMAP:A.C_ICON_STRIDE_SPEC;case c.WGLGeometryType.FILL:return D?A.C_FILL_STRIDE_SPEC_VV:A.C_FILL_STRIDE_SPEC;case c.WGLGeometryType.LINE:return D?A.C_LINE_STRIDE_SPEC_VV:A.C_LINE_STRIDE_SPEC;case c.WGLGeometryType.TEXT:return D?A.C_TEXT_STRIDE_SPEC_VV:A.C_TEXT_STRIDE_SPEC;case c.WGLGeometryType.LABEL:return A.C_LABEL_STRIDE_SPEC}return null};A.getNamedBuffers=
k;A.getSymbolGeometryType=function(y){return v(y)?c.WGLGeometryType.MARKER:q(y)?c.WGLGeometryType.LINE:g(y)?c.WGLGeometryType.FILL:x(y)?c.WGLGeometryType.TEXT:c.WGLGeometryType.UNKNOWN};A.normalizeSymbolType=u;A.isMarkerSymbol=v;A.isFillSymbol=g;A.isLineSymbol=q;A.isPictureSymbol=function(y){if(y=u(y.type))switch(y){case "picture-marker":case "picture-line":case "picture-fill":return!0}return!1};A.isTextSymbol=x;A.getTextProperties=function(y){return b.TextProperties.pool.acquire(y.color?h.copyAndPremultiply(y.color):
[255,255,255,255],y.haloColor?h.copyAndPremultiply(y.haloColor):[255,255,255,255],t.pt2px(y.haloSize),t.pt2px(y.font.size),y.angle*Math.PI/180,y.xoffset/y.font.size,y.yoffset/y.font.size,"left"===y.horizontalAlignment?0:"right"===y.horizontalAlignment?1:.5,"top"===y.verticalAlignment?0:"bottom"===y.verticalAlignment?1:.5)};A.isSameUniformValue=function(y,D){return!1};A.isSameMaterialInfo=function(y,D){if(y.materialKey!==D.materialKey||w(y.texBindingInfo)!==w(D.texBindingInfo)||w(y.materialParams)!==
w(D.materialParams))return!1;for(var F=y.texBindingInfo.length,H=0;H<F;++H){var E=y.texBindingInfo[H],I=D.texBindingInfo[H];if(E.unit!==I.unit||E.pageId!==I.pageId||E.semantic!==I.semantic)return!1}y=y.materialParams.length;for(H=0;H<y;)return!1;return!0};A.serializeString=function(y,D,F){for(var H=0,E=y.length,I=0;I<E;++I)D&&(D[F+H]=y.charCodeAt(I)),++H;D&&(D[F+H]=0);++H;return H};A.deserializeString=function(y,D,F){var H=0;y.s="";for(var E=!0;E;){var I=D[F+H];++H;0!==I?y.s+=String.fromCharCode(I):
E=!1}return H};A.isDefined=function(y){return null!==y&&void 0!==y};A.isNumber=function(y){return"number"===typeof y};A.isString=B;A.isStringOrNull=function(y){return null==y||B(y)};A.lerp=function(y,D,F){return y+(D-y)*F};G=function(){function y(){this._arr=[];this._push=this._push.bind(this)}y.prototype._push=function(D,F){this._arr.push(F)};y.prototype.getKeys=function(D){this._arr.length=0;D&&D.forEach(this._push);return this._arr};return y}();A.KeysGetter=G;G=function(){function y(){this._arr=
[];this._push=this._push.bind(this)}y.prototype._push=function(D,F){this._arr.push(D)};y.prototype.getValues=function(D){this._arr.length=0;D&&D.forEach(this._push);return this._arr};return y}();A.ValuesGetter=G;A.getCapType=function(y){switch(y){case "butt":return c.CapType.BUTT;case "round":return c.CapType.ROUND;case "square":return c.CapType.SQUARE;default:return z.error("Cannot interpret unknown cap: "+y),c.CapType.UNKNOWN}};A.getJoinType=function(y){switch(y){case "miter":return c.JoinType.MITER;
case "bevel":return c.JoinType.BEVEL;case "round":return c.JoinType.ROUND;default:return z.error("Cannot interpret unknown join: "+y),c.JoinType.UNKNOWN}};A.getVVType=function(y){switch(y){case "opacity":return c.VVType.OPACITY;case "color":return c.VVType.COLOR;case "rotation":return c.VVType.ROTATION;case "size":return c.VVType.SIZE;default:return z.error("Cannot interpret unknown vv: "+y),null}};A.createArcadeFunction=function(y,D){var F=y.spatialReference,H=y.layer,E=n.createFunction(y.valueExpression),
I=new m;return function(J,K){I.repurposeFromGraphicLikeObject(J.geometry,J.attributes,H);J=K&&new a({viewingMode:K.viewingMode,scale:K.scale});J=n.executeFunction(E,{vars:{$feature:I,$view:J||{}},spatialReference:F});return D?D(J):J}};A.copyMeshData=function(y,D,F,H,E,I,J){for(var K in I){var L=I[K].stride,O=I[K].data,U=F[K].data,S=L*E.vertexCount/4,M=L*y/4,N=L*E.vertexFrom/4;for(L=0;L<S;++L)U[L+M]=O[L+N]}F=E.indexCount;for(L=0;L<F;++L)H[L+D]=J[L+E.indexFrom]-E.vertexFrom+y};A.C_VBO_INFO=(C={},C[A.C_VBO_GEOMETRY]=
35044,C[A.C_VBO_VISIBILITY]=35044,C[A.C_VBO_VISIBILITY_RANGE]=35048,C);A.createGeometryData=function(y,D,F){for(var H=[],E=0;5>E;++E){for(var I={},J=0,K=k(E,y);J<K.length;J++){var L=K[J];I[L]={data:F(E,L)}}H.push({data:D(E),buffers:I})}return H};var C})},"esri/layers/vectorTiles/arcade/Dictionary":function(){define(["require","exports","esri/arcade/Dictionary"],function(G,A,a){return a})},"esri/arcade/Dictionary":function(){define(["require","exports","./ImmutableArray","./languageUtils","../geometry/Geometry"],
function(G,A,a,m,p){function t(h){var c=null;if(null!==h)if(m.isNumber(h))c=m.toNumber(h);else if(m.isBoolean(h))c=m.toBoolean(h);else if(m.isString(h))c=m.toString(h);else if(m.isDate(h))c=m.toDate(h);else if(m.isArray(h)){c=[];for(var b=0;b<h.length;b++)c.push(t(h[b]))}else{if(0===Object.keys(h).length)return null;c=new n;c.immutable=!1;b=0;for(var e=Object.keys(h);b<e.length;b++){var f=e[b],k=h[f];void 0!==k&&c.setField(f,t(k))}c.immutable=!0}return c}var n=function(){function h(c){this.declaredClass=
"esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=c instanceof h?c.attributes:void 0===c?{}:null===c?{}:c}h.prototype.field=function(c){var b=c.toLowerCase(),e=this.attributes[c];if(void 0!==e)return e;for(var f in this.attributes)if(f.toLowerCase()===b)return this.attributes[f];throw Error("Field not Found : "+c);};h.prototype.setField=function(c,b){if(this.immutable)throw Error("Dictionary is Immutable");var e=c.toLowerCase();if(void 0===this.attributes[c])for(var f in this.attributes)if(f.toLowerCase()===
e){this.attributes[f]=b;return}this.attributes[c]=b};h.prototype.hasField=function(c){var b=c.toLowerCase();if(void 0!==this.attributes[c])return!0;for(var e in this.attributes)if(e.toLowerCase()===b)return!0;return!1};h.prototype.keys=function(){var c=[],b;for(b in this.attributes)c.push(b);return c=c.sort()};h.prototype.castToText=function(){var c="",b;for(b in this.attributes){""!==c&&(c+=",");var e=this.attributes[b];null==e?c+=JSON.stringify(b)+":null":m.isBoolean(e)||m.isNumber(e)||m.isString(e)?
c+=JSON.stringify(b)+":"+JSON.stringify(e):e instanceof p?c+=JSON.stringify(b)+":"+m.toStringExplicit(e):e instanceof a?c+=JSON.stringify(b)+":"+m.toStringExplicit(e):e instanceof Array?c+=JSON.stringify(b)+":"+m.toStringExplicit(e):e instanceof Date?c+=JSON.stringify(b)+":"+JSON.stringify(e):null!==e&&"object"===typeof e&&void 0!==e.castToText&&(c+=JSON.stringify(b)+":"+e.castToText())}return"{"+c+"}"};h.convertObjectToArcadeDictionary=function(c){var b=new h;b.immutable=!1;for(var e in c){var f=
c[e];void 0!==f&&b.setField(e.toString(),t(f))}b.immutable=!0;return b};return h}();return n})},"esri/arcade/ImmutableArray":function(){define(["require","exports"],function(G,A){return function(){function a(m){void 0===m&&(m=[]);this._elements=m}a.prototype.length=function(){return this._elements.length};a.prototype.get=function(m){return this._elements[m]};a.prototype.toArray=function(){for(var m=[],p=0;p<this.length();p++)m.push(this.get(p));return m};return a}()})},"esri/arcade/languageUtils":function(){define("require exports ./FunctionWrapper ./ImmutableArray ./ImmutablePathArray ./ImmutablePointArray ./polyfill/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline dojo/number".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u){function v(P,ba,la){return""===ba||null===ba||void 0===ba||ba===la||ba===la?P:P=P.split(ba).join(la)}function g(P){return P instanceof T||P instanceof a||P instanceof V}function q(P){return x(P)||B(P)||y(P)||w(P)||null===P||P===A.voidOperation||"number"===typeof P?!0:!1}function x(P){return"string"===typeof P||P instanceof String}function w(P){return"boolean"===typeof P}function B(P){return"number"===typeof P}function z(P){return P instanceof Array}function C(P){return P instanceof
m}function y(P){return P instanceof Date}function D(P,ba){if(!1===isNaN(P)){if(void 0===ba||null===ba||""===ba)return P.toString();ba=v(ba,"\u2030","");ba=v(ba,"\u00a4","");return u.format(P,{pattern:ba})}return P.toString()}function F(P,ba){P=A.MomentLibrary.Moment(P);return void 0===ba||null===ba||""===ba?P.format():P.format(H(ba))}function H(P){return P.replace(/(LTS)|L|l/g,function(ba){return"["+ba+"]"})}function E(P,ba,la){switch(la){case "\x3e":return P>ba;case "\x3c":return P<ba;case "\x3e\x3d":return P>=
ba;case "\x3c\x3d":return P<=ba}return!1}function I(P,ba){if(P===ba||null===P&&ba===A.voidOperation||null===ba&&P===A.voidOperation)return!0;if(y(P)&&y(ba))return P.getTime()===ba.getTime();if(P instanceof p||P instanceof t)return P.equalityTest(ba);if(P instanceof e&&ba instanceof e){var la=void 0,Q=void 0;la=P.getCacheValue("_arcadeCacheId");Q=ba.getCacheValue("_arcadeCacheId");if(void 0!==la&&null!==la)return la===Q}return void 0!==P&&void 0!==ba&&null!==P&&null!==ba&&"object"===typeof P&&"object"===
typeof ba&&(P._arcadeCacheId===ba._arcadeCacheId&&void 0!==P._arcadeCacheId&&null!==P._arcadeCacheId||P._underlyingGraphic===ba._underlyingGraphic&&void 0!==P._underlyingGraphic&&null!==P._underlyingGraphic)?!0:!1}function J(P,ba){if(x(P))return P;if(null===P)return"";if(B(P))return D(P,ba);if(w(P))return P.toString();if(y(P))return F(P,ba);if(P instanceof c)return JSON.stringify(P.toJson());if(z(P)){ba=[];for(var la=0;la<P.length;la++)ba[la]=L(P[la]);return"["+ba.join(",")+"]"}if(P instanceof m){ba=
[];for(la=0;la<P.length();la++)ba[la]=L(P.get(la));return"["+ba.join(",")+"]"}return null!==P&&"object"===typeof P&&void 0!==P.castToText?P.castToText():g(P)?"object, Function":""}function K(P,ba){if(x(P))return P;if(null===P)return"";if(B(P))return D(P,ba);if(w(P))return P.toString();if(y(P))return F(P,ba);if(P instanceof c)return P instanceof h?'{"xmin":'+P.xmin.toString()+',"ymin":'+P.ymin.toString()+","+(P.hasZ?'"zmin":'+P.zmin.toString()+",":"")+(P.hasM?'"mmin":'+P.mmin.toString()+",":"")+'"xmax":'+
P.xmax.toString()+',"ymax":'+P.ymax.toString()+","+(P.hasZ?'"zmax":'+P.zmax.toString()+",":"")+(P.hasM?'"mmax":'+P.mmax.toString()+",":"")+'"spatialReference":'+S(P.spatialReference)+"}":S(P.toJson(),function(Q,Y){return Q.key===Y.key?0:"spatialReference"===Q.key?1:"spatialReference"===Y.key||Q.key<Y.key?-1:Q.key>Y.key?1:0});if(z(P)){ba=[];for(var la=0;la<P.length;la++)ba[la]=L(P[la]);return"["+ba.join(",")+"]"}if(P instanceof m){ba=[];for(la=0;la<P.length();la++)ba[la]=L(P.get(la));return"["+ba.join(",")+
"]"}return null!==P&&"object"===typeof P&&void 0!==P.castToText?P.castToText():g(P)?"object, Function":""}function L(P){return null===P?"null":w(P)||B(P)||x(P)?JSON.stringify(P):P instanceof c||P instanceof m||P instanceof Array?K(P):P instanceof Date?JSON.stringify(F(P,"")):null!==P&&"object"===typeof P&&void 0!==P.castToText?P.castToText():"null"}function O(P,ba){return B(P)?P:null===P||""===P?0:y(P)?NaN:w(P)?P?1:0:z(P)||""===P||void 0===P?NaN:void 0!==ba&&x(P)?(ba=v(ba,"\u2030",""),ba=v(ba,"\u00a4",
""),u.parse(P,{pattern:ba})):P===A.voidOperation?0:Number(P)}function U(P,ba){var la;ba.fields.some(function(Q){Q.name===P&&(la=Q.domain);return!!la});return la}function S(P,ba){ba||(ba={});"function"===typeof ba&&(ba={cmp:ba});var la="boolean"===typeof ba.cycles?ba.cycles:!1,Q=ba.cmp&&function(ja){return function(pa){return function(ka,va){return ja({key:ka,value:pa[ka]},{key:va,value:pa[va]})}}}(ba.cmp),Y=[];return function ka(pa){pa&&pa.toJson&&"function"===typeof pa.toJson&&(pa=pa.toJson());if(void 0!==
pa){if("number"===typeof pa)return isFinite(pa)?""+pa:"null";if("object"!==typeof pa)return JSON.stringify(pa);var va;if(Array.isArray(pa)){var Aa="[";for(va=0;va<pa.length;va++)va&&(Aa+=","),Aa+=ka(pa[va])||"null";return Aa+"]"}if(null===pa)return"null";if(-1!==Y.indexOf(pa)){if(la)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var da=Y.push(pa)-1,ca=Object.keys(pa).sort(Q&&Q(pa));Aa="";for(va=0;va<ca.length;va++){var ma=ca[va],qa=ka(pa[ma]);qa&&
(Aa&&(Aa+=","),Aa+=JSON.stringify(ma)+":"+qa)}Y.splice(da,1);return"{"+Aa+"}"}}(P)}function M(P,ba){if(ba instanceof e)P.push([ba.x,ba.y]);else throw Error("Invalid Argument");}Object.defineProperty(A,"__esModule",{value:!0});A.binaryOperator=A.MomentLibrary=A.tick=A.toStringArray=A.autoCastArrayOfPointsToMultiPoint=A.autoCastArrayOfPointsToPolyline=A.autoCastArrayOfPointsToPolygon=A.autoCastFeatureToGeometry=A.stableStringify=A.getDomain=A.getDomainCode=A.getDomainValue=A.fixNullGeometry=A.fixSpatialReference=
A.toBoolean=A.toDateM=A.toDate=A.toNumber=A.toStringExplicit=A.toNumberArray=A.toString=A.equalityTest=A.greaterThanLessThan=A.standardiseDateFormat=A.formatDate=A.formatNumber=A.generateUUID=A.pcCheck=A.isDate=A.isImmutableArray=A.isFeatureSetCollection=A.isFeatureSet=A.isArray=A.isInteger=A.isNumber=A.isBoolean=A.isString=A.defaultUndefined=A.isSimpleType=A.isFunctionParameter=A.multiReplace=A.continueResult=A.breakResult=A.voidOperation=A.SizzleFunction=A.ReturnResult=A.ImplicitResult=A.NativeFunction=
A.SizzleFunctionE=A.NativeFunctionE=A.ImplicitResultE=A.ReturnResultE=void 0;G=function(){return function(P){this.value=P}}();A.ReturnResultE=G;var N=function(){return function(P){this.value=P}}();A.ImplicitResultE=N;var T=function(){return function(P){this.fn=P}}();A.NativeFunctionE=T;var V=function(){return function(P){this.fn=P}}();A.SizzleFunctionE=V;A.NativeFunction=T;A.ImplicitResult=N;A.ReturnResult=G;A.SizzleFunction=V;A.voidOperation={type:"VOID"};A.breakResult={type:"BREAK"};A.continueResult=
{type:"CONTINUE"};A.multiReplace=v;A.isFunctionParameter=g;A.isSimpleType=q;A.defaultUndefined=function(P,ba){return void 0===P?ba:P};A.isString=x;A.isBoolean=w;A.isNumber=B;A.isInteger=function(P){return"number"===typeof P&&isFinite(P)&&Math.floor(P)===P};A.isArray=z;A.isFeatureSet=function(P){return!0===(P&&P.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===P.declaredRootClass)};A.isFeatureSetCollection=function(P){return!0===(P&&P.declaredRootClass&&"esri.arcade.featureSetCollection"===
P.declaredRootClass)};A.isImmutableArray=C;A.isDate=y;A.pcCheck=function(P,ba,la){if(P.length<ba||P.length>la)throw Error("Function called with wrong number of Parameters");};A.generateUUID=function(){var P=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ba){var la=(P+16*Math.random())%16|0;P=Math.floor(P/16);return("x"===ba?la:la&3|8).toString(16)})};A.formatNumber=D;A.formatDate=F;A.standardiseDateFormat=H;A.greaterThanLessThan=function(P,ba,la){if(null===
P){if(null===ba||ba===A.voidOperation)return E(null,null,la);if(B(ba))return E(0,ba,la);if(x(ba)||w(ba))return E(0,O(ba),la);if(y(ba))return E(0,ba.getTime(),la)}if(P===A.voidOperation){if(null===ba||ba===A.voidOperation)return E(null,null,la);if(B(ba))return E(0,ba,la);if(x(ba)||w(ba))return E(0,O(ba),la);if(y(ba))return E(0,ba.getTime(),la)}else if(B(P)){if(B(ba))return E(P,ba,la);if(w(ba))return E(P,O(ba),la);if(null===ba||ba===A.voidOperation)return E(P,0,la);if(x(ba))return E(P,O(ba),la);if(y(ba))return E(P,
ba.getTime(),la)}else if(x(P)){if(x(ba))return E(J(P),J(ba),la);if(y(ba))return E(O(P),ba.getTime(),la);if(B(ba))return E(O(P),ba,la);if(null===ba||ba===A.voidOperation)return E(O(P),0,la);if(w(ba))return E(O(P),O(ba),la)}else if(y(P)){if(y(ba))return E(P,ba,la);if(null===ba||ba===A.voidOperation)return E(P.getTime(),0,la);if(B(ba))return E(P.getTime(),ba,la);if(w(ba)||x(ba))return E(P.getTime(),O(ba),la)}else if(w(P)){if(w(ba))return E(P,ba,la);if(B(ba))return E(O(P),O(ba),la);if(y(ba))return E(O(P),
ba.getTime(),la);if(null===ba||ba===A.voidOperation)return E(O(P),0,la);if(x(ba))return E(O(P),O(ba),la)}return!I(P,ba)||"\x3c\x3d"!==la&&"\x3e\x3d"!==la?!1:!0};A.equalityTest=I;A.toString=J;A.toNumberArray=function(P){var ba=[];if(!1===z(P))return null;if(P instanceof m){for(var la=0;la<P.length();la++)ba[la]=O(P.get(la));return ba}for(la=0;la<P.length;la++)ba[la]=O(P[la]);return ba};A.toStringExplicit=K;A.toNumber=O;A.toDate=function(P,ba){return y(P)?P:x(P)&&(P=A.MomentLibrary.Moment(P,[void 0===
ba||null===ba||""===ba?A.MomentLibrary.Moment.ISO_8601:ba]),P.isValid())?P.toDate():null};A.toDateM=function(P,ba){return y(P)?A.MomentLibrary.Moment(P):x(P)&&(P=A.MomentLibrary.Moment(P,[void 0===ba||null===ba||""===ba?A.MomentLibrary.Moment.ISO_8601:ba]),P.isValid())?P:null};A.toBoolean=function(P){return w(P)?P:x(P)?(P=P.toLowerCase(),"true"===P?!0:!1):B(P)?0===P||isNaN(P)?!1:!0:!1};A.fixSpatialReference=function(P,ba){if(null===P||void 0===P)return null;if(null===P.spatialReference||void 0===
P.spatialReference)P.spatialReference=ba;return P};A.fixNullGeometry=function(P){if(null===P)return null;if(P instanceof e)return"NaN"===P.x||null===P.x||isNaN(P.x)?null:P;if(P instanceof f){if(0===P.rings.length)return null;for(var ba=0,la=P.rings;ba<la.length;ba++){var Q=la[ba];if(0<Q.length)return P}return null}if(P instanceof k){if(0===P.paths.length)return null;ba=0;for(la=P.paths;ba<la.length;ba++)if(Q=la[ba],0<Q.length)return P;return null}return P instanceof b?0===P.points.length?null:P:P instanceof
h?"NaN"===P.xmin||null===P.xmin||isNaN(P.xmin)?null:P:null};A.getDomainValue=function(P,ba){if(!P||!P.domain)return ba;var la=null;if("string"===P.field.type||"esriFieldTypeString"===P.field.type)ba=J(ba);else{if(null===ba||void 0===ba)return null;if(""===ba)return ba;ba=O(ba)}for(var Q=0;Q<P.domain.codedValues.length;Q++){var Y=P.domain.codedValues[Q];Y.code===ba&&(la=Y)}return null===la?ba:la.name};A.getDomainCode=function(P,ba){if(!P||!P.domain)return ba;var la=null;ba=J(ba);for(var Q=0;Q<P.domain.codedValues.length;Q++){var Y=
P.domain.codedValues[Q];Y.name===ba&&(la=Y)}return null===la?ba:la.code};A.getDomain=function(P,ba,la,Q){void 0===la&&(la=null);if(!ba||!ba.fields)return null;for(var Y=null,ja=0;ja<ba.fields.length;ja++){var pa=ba.fields[ja];pa.name.toLowerCase()===P.toString().toLowerCase()&&(Y=pa)}if(null===Y)throw Error("Field not found");var ka,va;Q||(Q=la&&ba.typeIdField&&la._field(ba.typeIdField));null!=Q&&ba.types.some(function(Aa){return Aa.id===Q?((ka=Aa.domains&&Aa.domains[Y.name])&&"inherited"===ka.type&&
(ka=U(Y.name,ba),va=!0),!0):!1});va||ka||(ka=U(P,ba));return{field:Y,domain:ka}};A.stableStringify=S;A.autoCastFeatureToGeometry=function(P){if(null===P)return null;for(var ba=[],la=0;la<P.length;la++){var Q=P[la];Q&&(Q.declaredClass&&"esri.arcade.Feature"===Q.declaredClass||"FeatureSetReader"===Q.type)?ba.push(Q.geometry()):ba.push(Q)}return ba};A.autoCastArrayOfPointsToPolygon=function(P,ba){if(z(P)||C(P)){var la=!1,Q=!1,Y=[];if(z(P)){for(var ja=0;ja<P.length;ja++){var pa=P[ja];M(Y,pa)}0<Y.length&&
(ba=P[0].spatialReference,la=P[0].hasZ,Q=P[0].hasM)}else if(P instanceof t)Y=P._elements,0<Y.length&&(la=P._hasZ,Q=P._hasM,ba=P.get(0).spatialReference);else if(C(P)){ja=0;for(var ka=P.toArray();ja<ka.length;ja++)pa=ka[ja],M(Y,pa);0<Y.length&&(ba=P.get(0).spatialReference,la=!0===P.get(0).hasZ,Q=!0===P.get(0).hasM)}else throw Error("Invalid Argument");if(0===Y.length)return null;!1===(new f({rings:[],spatialReference:{wkid:4326}})).isClockwise(Y)&&(Y=Y.slice(0).reverse());return new f({rings:[Y],
spatialReference:ba,hasZ:la,hasM:Q})}return P};A.autoCastArrayOfPointsToPolyline=function(P,ba){if(z(P)||C(P)){var la=!1,Q=!1,Y=[];if(z(P)){for(var ja=0;ja<P.length;ja++){var pa=P[ja];M(Y,pa)}0<Y.length&&(ba=P[0].spatialReference,la=!0===P[0].hasZ,Q=!0===P[0].hasM)}else if(P instanceof t)Y=P._elements,0<Y.length&&(la=P._hasZ,Q=P._hasM,ba=P.get(0).spatialReference);else if(C(P)){ja=0;for(var ka=P.toArray();ja<ka.length;ja++)pa=ka[ja],M(Y,pa);0<Y.length&&(ba=P.get(0).spatialReference,la=!0===P.get(0).hasZ,
Q=!0===P.get(0).hasM)}return 0===Y.length?null:new k({paths:[Y],spatialReference:ba,hasZ:la,hasM:Q})}return P};A.autoCastArrayOfPointsToMultiPoint=function(P,ba){if(z(P)||C(P)){var la=!1,Q=!1,Y=[];if(z(P)){for(var ja=0;ja<P.length;ja++){var pa=P[ja];M(Y,pa)}0<Y.length&&(ba=P[0].spatialReference,la=!0===P[0].hasZ,Q=!0===P[0].hasM)}else if(P instanceof t)Y=P._elements,0<Y.length&&(la=P._hasZ,Q=P._hasM,ba=P.get(0).spatialReference);else if(C(P)){ja=0;for(var ka=P.toArray();ja<ka.length;ja++)pa=ka[ja],
M(Y,pa);0<Y.length&&(ba=P.get(0).spatialReference,la=!0===P.get(0).hasZ,Q=!0===P.get(0).hasM)}return 0===Y.length?null:new b({points:Y,spatialReference:ba,hasZ:la,hasM:Q})}return P};A.toStringArray=function(P,ba){void 0===ba&&(ba=!1);var la=[];if(null===P)return la;if(!0===z(P)){for(var Q=0;Q<P.length;Q++){var Y=J(P[Q]);""===Y&&!0!==ba||la.push(Y)}return la}if(P instanceof m){for(Q=0;Q<P.length();Q++)Y=J(P.get(Q)),""===Y&&!0!==ba||la.push(Y);return la}return q(P)?(Y=J(P),""===Y&&!0!==ba||la.push(Y),
la):[]};var ea=0;A.tick=function(P){ea++;return 0===ea%100?(ea=0,n.create(function(ba){setTimeout(function(){ba(P)},0)})):P};A.MomentLibrary={Moment:null};A.binaryOperator=function(P,ba,la){switch(la){case "\x26":return P&ba;case "|":return P|ba;case "^":return P^ba;case "\x3c\x3c":return P<<ba;case "\x3e\x3e":return P>>ba;case "\x3e\x3e\x3e":return P>>>ba}}})},"esri/arcade/FunctionWrapper":function(){define(["require","exports"],function(G,A){return function(){return function(a,m){this.context=this.definition=
null;this.definition=a;this.context=m}}()})},"esri/arcade/ImmutablePathArray":function(){var G=this&&this.__extends||function(){var A=function(a,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,t){p.__proto__=t}||function(p,t){for(var n in t)t.hasOwnProperty(n)&&(p[n]=t[n])};return A(a,m)};return function(a,m){function p(){this.constructor=a}A(a,m);a.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();define(["require","exports","./ImmutableArray","./ImmutablePointArray"],
function(A,a,m,p){return function(t){function n(h,c,b,e,f){h=t.call(this,h)||this;h._lazyPath=[];h._hasZ=!1;h._hasM=!1;h._hasZ=b;h._hasM=e;h._spRef=c;h._cacheId=f;return h}G(n,t);n.prototype.get=function(h){if(void 0===this._lazyPath[h]){var c=this._elements[h];if(void 0===c)return;this._lazyPath[h]=new p(c,this._spRef,this._hasZ,this._hasM,this._cacheId,h)}return this._lazyPath[h]};n.prototype.equalityTest=function(h){return h===this?!0:null===h||!1===h instanceof n?!1:h.getUniqueHash()===this.getUniqueHash()};
n.prototype.getUniqueHash=function(){return this._cacheId.toString()};return n}(m)})},"esri/arcade/ImmutablePointArray":function(){var G=this&&this.__extends||function(){var A=function(a,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,t){p.__proto__=t}||function(p,t){for(var n in t)t.hasOwnProperty(n)&&(p[n]=t[n])};return A(a,m)};return function(a,m){function p(){this.constructor=a}A(a,m);a.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();define(["require",
"exports","./ImmutableArray","../geometry/Point"],function(A,a,m,p){return function(t){function n(h,c,b,e,f,k){h=t.call(this,h)||this;h._lazyPt=[];h._hasZ=!1;h._hasM=!1;h._spRef=c;h._hasZ=b;h._hasM=e;h._cacheId=f;h._partId=k;return h}G(n,t);n.prototype.get=function(h){if(void 0===this._lazyPt[h]){var c=this._elements[h];if(void 0===c)return;var b=this._hasZ,e=this._hasM,f=null;f=b&&!e?new p(c[0],c[1],c[2],void 0,this._spRef):e&&!b?new p(c[0],c[1],void 0,c[2],this._spRef):b&&e?new p(c[0],c[1],c[2],
c[3],this._spRef):new p(c[0],c[1],this._spRef);f.setCacheValue("_arcadeCacheId",this._cacheId.toString()+"-"+this._partId.toString()+"-"+h.toString());this._lazyPt[h]=f}return this._lazyPt[h]};n.prototype.equalityTest=function(h){return h===this?!0:null===h||!1===h instanceof n?!1:h.getUniqueHash()===this.getUniqueHash()};n.prototype.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};return n}(m)})},"esri/arcade/polyfill/promiseUtils":function(){define(["require",
"exports","dojo/Deferred","dojo/promise/all"],function(G,A,a,m){function p(c,b){var e=new a(b);c(function(f){return h(f).then(e.resolve)},e.reject);return e.promise}function t(c){if(c){if("function"!==typeof c.forEach){var b=Object.keys(c),e=b.map(function(k){return c[k]});return t(e).then(function(k){var u={};b.forEach(function(v,g){return u[v]=k[g]});return u})}var f=null;return p(function(k,u){var v=[],g=c.length;0===g&&k(v);c.forEach(function(q){var x={promise:q};v.push(x);q.then(function(w){x.value=
w}).catch(function(w){x.error=w}).then(function(){--g;0===g&&(f?u(Error("AbortError")):k(v))})})},function(k){f=k||"Invocation cancellation";c.forEach(function(u){return u.cancel(k)})})}}function n(c){void 0===c&&(c=void 0);var b=new a;b.resolve(c);return b.promise}function h(c){return c&&"function"===typeof c.then?c:n(c)}Object.defineProperty(A,"__esModule",{value:!0});A.createResolver=A.when=A.isPromiseLike=A.wrapCallback=A.timeout=A.after=A.resolve=A.reject=A.first=A.eachAlwaysValues=A.eachAlways=
A.createDeferred=A.create=A.filter=A.all=void 0;A.all=function(c){return m(c)};A.filter=function(c,b){var e=c.slice();return m(c.map(function(f,k){return b(f,k)})).then(function(f){return e.filter(function(k,u){return f[u]})})};A.create=p;A.createDeferred=function(c){var b=null;c=p(function(e,f){b={resolve:e,reject:f}},c);b.promise=c;b.cancel=function(){b.reject(Error("AbortError"))};return b};A.eachAlways=t;A.eachAlwaysValues=function(c){return t(c).then(function(b){return b.filter(function(e){return!!e.value}).map(function(e){return e.value})})};
A.first=function(c){return c&&c.length?p(function(b,e){for(var f=0;f<c.length;f++)c[f].then(b,e)}):n()};A.reject=function(c){var b=new a;b.reject(c);return b.promise};A.resolve=n;A.after=function(c,b){void 0===b&&(b=void 0);var e=0;return p(function(f){e=setTimeout(function(){f(b)},c)},function(){e&&(clearTimeout(e),e=0)})};A.timeout=function(c,b,e){var f=0,k=new a(c.cancel);c.then(function(u){k.isFulfilled()||(k.resolve(u),f&&(clearTimeout(f),f=0))});c.catch(function(u){k.isFulfilled()||(k.reject(u),
f&&(clearTimeout(f),f=0))});f=setTimeout(function(){k.reject(e||Error("promiseUtils:timeout"))},b);return k.promise};A.wrapCallback=function(c){var b=!1;return p(function(){c(function(e){b||n(e)})},function(){return b=!0})};A.isPromiseLike=function(c){return c&&"function"===typeof c.then};A.when=h;A.createResolver=function(c){var b,e;c=p(function(k,u){b=k;e=u},c);var f=function(k){b(k)};f.resolve=function(k){return b(k)};f.reject=function(k){return e(k)};f.promise=c;return f}})},"esri/layers/vectorTiles/arcade/Feature":function(){define(["require",
"exports","esri/arcade/Feature"],function(G,A,a){a.prototype.repurposeFromGraphicLikeObject=function(m,p,t){void 0===t&&(t=null);null===p&&(p={});this.attributes=p;this.geometry=m;this._datesfixed=(this._layer=t)?!1:!0};return a})},"esri/arcade/Feature":function(){var G=this&&this.__assign||function(){G=Object.assign||function(A){for(var a,m=1,p=arguments.length;m<p;m++){a=arguments[m];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(A[t]=a[t])}return A};return G.apply(this,arguments)};
define("require exports ./Dictionary ./ImmutableArray ./languageUtils ../geometry/Geometry ../geometry/Point ../geometry/jsonUtils ./featureset/support/shared".split(" "),function(A,a,m,p,t,n,h,c,b){return function(){function e(){this.declaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=this._adapter=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=!0}e.createFromGraphic=function(f){var k=new e;k._geometry=f.geometry?f.geometry:null;k.attributes=
void 0===f.attributes?{}:null===f.attributes?{}:f.attributes;f._sourceLayer?(k._layer=f._sourceLayer,k._datesfixed=!1):f._layer?(k._layer=f._layer,k._datesfixed=!1):f.layer?(k._layer=f.layer,k._datesfixed=!1):f.sourceLayer&&(k._layer=f.sourceLayer,k._datesfixed=!1);return k};e.createFromArcadeFeature=function(f){var k=new e;k._datesfixed=f._datesfixed;k.attributes=f.attributes;k._geometry=f._geometry;f._layer&&(k._layer=f._layer);return k};e.createFromArcadeDictionary=function(f){var k=new e;k.attributes=
f.field("attributes");null!==k.attributes?k.attributes instanceof m?(k.attributes=k.attributes.attributes,null===k.attributes&&(k.attributes={})):k.attributes={}:k.attributes={};k._geometry=f.field("geometry");null!==k._geometry&&(k._geometry instanceof m?k._geometry=e.parseGeometryFromDictionary(k._geometry):k._geometry instanceof n||(k._geometry=null));return k};e.createFromGraphicLikeObject=function(f,k,u){void 0===u&&(u=null);var v=new e;null===k&&(k={});v.attributes=k;v._geometry=f?f:null;v._layer=
u;v._layer&&(v._datesfixed=!1);v._adapter=null;return v};e.prototype.repurposeFromGraphicLikeObject=function(f,k,u){void 0===u&&(u=null);null===k&&(k={});this.attributes=k;this._geometry=f?f:null;this._datesfixed=(this._layer=u)?!1:!0};e.prototype.castToText=function(){if(this._adapter)return this._adapter.castToText();var f="";!1===this._datesfixed&&this._fixDates();for(var k in this.attributes){""!==f&&(f+=",");var u=this.attributes[k];null==u?f+=JSON.stringify(k)+":null":t.isBoolean(u)||t.isNumber(u)||
t.isString(u)?f+=JSON.stringify(k)+":"+JSON.stringify(u):u instanceof n?f+=JSON.stringify(k)+":"+t.toStringExplicit(u):u instanceof p?f+=JSON.stringify(k)+":"+t.toStringExplicit(u):u instanceof Array?f+=JSON.stringify(k)+":"+t.toStringExplicit(u):u instanceof Date?f+=JSON.stringify(k)+":"+JSON.stringify(u):null!==u&&"object"===typeof u&&void 0!==u.castToText&&(f+=JSON.stringify(k)+":"+u.castToText())}return'{"geometry":'+(null===this.geometry()?"null":t.toStringExplicit(this.geometry()))+',"attributes":{'+
f+"}}"};e.prototype._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{for(var f=[],k=0;k<this._layer.fields.length;k++){var u=this._layer.fields[k];"date"!==u.type&&"esriFieldTypeDate"!==u.type||f.push(u.name)}this._datefields=f;0<f.length&&this._fixDateFields(f)}this._datesfixed=!0};e.prototype._fixDateFields=function(f){this.attributes=G({},this.attributes);for(var k=0;k<f.length;k++){var u=this.attributes[f[k]];if(null!==u)if(void 0===
u)for(var v in this.attributes){if(v.toLowerCase()===f[k].toLowerCase()){u=this.attributes[v];null===u||u instanceof Date||(this.attributes[v]=new Date(u));break}}else u instanceof Date||(this.attributes[f[k]]=new Date(u))}};e.prototype.geometry=function(){if(this._adapter)return this._adapter.geometry();if(null===this._geometry)return this._geometry;this._geometry instanceof n||(this._geometry=c.fromJson(this._geometry));return this._geometry};e.prototype.field=function(f){if(this._adapter)return this._adapter.field(f);
!1===this._datesfixed&&this._fixDates();var k=this.attributes[f];if(void 0!==k)return k;k=f.toLowerCase();for(var u in this.attributes)if(u.toLowerCase()===k)return this.attributes[u];if(this._hasFieldDefinition(k))return null;throw Error("Field not Found : "+f);};e.prototype._hasFieldDefinition=function(f){if(null===this._layer)return!1;for(var k=0;k<this._layer.fields.length;k++)if(this._layer.fields[k].name.toLowerCase()===f)return!0;return!1};e.prototype._field=function(f){var k;if(this._adapter)return null!==
(k=this._adapter.field(f))&&void 0!==k?k:null;!1===this._datesfixed&&this._fixDates();k=f.toLowerCase();f=this.attributes[f];if(void 0!==f)return f;for(var u in this.attributes)if(u.toLowerCase()===k)return this.attributes[u];return null};e.prototype.setField=function(f,k){if(this.immutable)throw Error("Feature is Immutable");if(!1===t.isSimpleType(k))throw Error("Illegal Value Assignment to Feature");if(this._adapter)this._adapter.setField(f,k);else{var u=f.toLowerCase();if(void 0===this.attributes[f])for(var v in this.attributes)if(v.toLowerCase()===
u){this.attributes[v]=k;return}this.attributes[f]=k}};e.prototype.hasField=function(f){if(this._adapter)return this._adapter.hasField(f);var k=f.toLowerCase();if(void 0!==this.attributes[f])return!0;for(var u in this.attributes)if(u.toLowerCase()===k)return!0;return this._hasFieldDefinition(k)?!0:!1};e.prototype.keys=function(){if(this._adapter)return this._adapter.keys();var f=[],k={},u;for(u in this.attributes)f.push(u),k[u.toLowerCase()]=1;if(null!==this._layer)for(u=0;u<this._layer.fields.length;u++){var v=
this._layer.fields[u];1!==k[v.name.toLowerCase()]&&f.push(v.name)}return f=f.sort()};e.parseGeometryFromDictionary=function(f){f=e.convertDictionaryToJson(f,!0);void 0!==f.hasm&&(f.hasM=f.hasm,delete f.hasm);void 0!==f.hasz&&(f.hasZ=f.hasz,delete f.hasz);void 0!==f.spatialreference&&(f.spatialReference=f.spatialreference,delete f.spatialreference);void 0!==f.rings&&(f.rings=this.fixPathArrays(f.rings,!0===f.hasZ,!0===f.hasZ));void 0!==f.paths&&(f.paths=this.fixPathArrays(f.paths,!0===f.hasZ,!0===
f.hasM));void 0!==f.points&&(f.points=this.fixPointArrays(f.points,!0===f.hasZ,!0===f.hasM));return c.fromJson(f)};e.fixPathArrays=function(f,k,u){var v=[];if(f instanceof Array)for(var g=0;g<f.length;g++)v.push(this.fixPointArrays(f[g],k,u));else if(f instanceof p)for(g=0;g<f.length();g++)v.push(this.fixPointArrays(f.get(g),k,u));return v};e.fixPointArrays=function(f,k,u){var v=[];if(f instanceof Array)for(var g=0;g<f.length;g++){var q=f[g];q instanceof h?k&&u?v.push([q.x,q.y,q.z,q.m]):k?v.push([q.x,
q.y,q.z]):u?v.push([q.x,q.y,q.m]):v.push([q.x,q.y]):q instanceof p?v.push(q.toArray()):v.push(q)}else if(f instanceof p)for(g=0;g<f.length();g++)q=f.get(g),q instanceof h?k&&u?v.push([q.x,q.y,q.z,q.m]):k?v.push([q.x,q.y,q.z]):u?v.push([q.x,q.y,q.m]):v.push([q.x,q.y]):q instanceof p?v.push(q.toArray()):v.push(q);return v};e.convertDictionaryToJson=function(f,k){void 0===k&&(k=!1);var u={},v;for(v in f.attributes){var g=f.attributes[v];g instanceof m&&(g=e.convertDictionaryToJson(g));k?u[v.toLowerCase()]=
g:u[v]=g}return u};e.parseAttributesFromDictionary=function(f){var k={},u;for(u in f.attributes){var v=f.attributes[u];if(t.isSimpleType(v))k[u]=v;else throw Error("Illegal Argument");}return k};e.fromJson=function(f){var k=null;null!==f.geometry&&void 0!==f.geometry&&(k=c.fromJson(f.geometry));var u={};if(null!==f.attributes&&void 0!==f.attributes)for(var v in f.attributes){var g=f.attributes[v];if(null===g)u[v]=g;else if(t.isString(g)||t.isNumber(g)||t.isBoolean(g)||t.isDate(g))u[v]=g;else throw Error("Illegal Argument");
}return e.createFromGraphicLikeObject(k,u,null)};e.prototype.fullDomain=function(f,k){return null!==this._layer&&this._layer.fields?t.getDomain(f,this._layer,this,k):null};e.prototype.subtypes=function(){return null!==this._layer&&this._layer.fields?this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?this._layer.types.map(function(f){return{name:f.name,code:f.id}}):[]}:null:null};e.prototype.domainValueLookup=function(f,k,u){if(null===this._layer||!this._layer.fields)return null;
u=t.getDomain(f,this._layer,this,u);if(void 0===k)try{k=this.field(f)}catch(v){return null}return t.getDomainValue(u,k)};e.prototype.gdbVersion=function(){if(null===this._layer)return"";var f=this._layer.gdbVersion;return void 0===f?"":""===f&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":f};e.prototype.domainCodeLookup=function(f,k,u){if(null===this._layer||!this._layer.fields)return null;if(void 0===k){try{k=this.field(f)}catch(v){return null}return k}f=t.getDomain(f,
this._layer,this,u);return t.getDomainCode(f,k)};e.prototype.schema=function(){if(null===this._layer||!this._layer.fields)return null;for(var f=[],k=0,u=this._layer.fields;k<u.length;k++)f.push(b.esriFieldToJson(u[k]));return{objectIdField:this._layer.objectIdField,globalIdField:this._layer.globalIdField,geometryType:void 0===b.layerGeometryEsriRestConstants[this._layer.geometryType]?"":b.layerGeometryEsriRestConstants[this._layer.geometryType],fields:f}};return e}()})},"esri/geometry/jsonUtils":function(){define("dojo/_base/lang dojo/has ../kernel ../lang ./Point ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),
function(G,A,a,m,p,t,n,h,c){function b(u,v,g){var q=u.rings||u.paths,x,w;var B=0;for(x=q.length;B<x;B++){var z=q[B];var C=0;for(w=z.length;C<w;C++){var y=z[C];if(0<C)D+=y[0],F+=y[1];else{var D=y[0];var F=y[1]}y[0]=v(D);y[1]=g(F)}}return u}var e={esriGeometryPoint:function(u,v,g){u.x=v(u.x);u.y=g(u.y);return u},esriGeometryPolyline:b,esriGeometryPolygon:b,esriGeometryEnvelope:function(u,v,g){u.xmin=v(u.xmin);u.ymin=g(u.ymin);u.xmax=v(u.xmax);u.ymax=g(u.ymax);return u},esriGeometryMultipoint:function(u,
v,g){var q=u.points,x;var w=0;for(x=q.length;w<x;w++){var B=q[w];if(0<w)z+=B[0],C+=B[1];else{var z=B[0];var C=B[1]}B[0]=v(z);B[1]=g(C)}return u}},f={esriGeometryPoint:function(u,v,g){u.x=v(u.x);u.y=g(u.y);return u}},k={createInstance:function(u,v){u=new u;v&&m.mixin(u,v);return u},fromJson:function(u){if(void 0!==u.x&&void 0!==u.y)return new p(u);if(void 0!==u.paths)return new t(u);if(void 0!==u.rings)return new n(u);if(void 0!==u.points)return new h(u);if(void 0!==u.xmin&&void 0!==u.ymin&&void 0!==
u.xmax&&void 0!==u.ymax)return new c(u)},getJsonType:function(u){return u instanceof p?"esriGeometryPoint":u instanceof t?"esriGeometryPolyline":u instanceof n?"esriGeometryPolygon":u instanceof c?"esriGeometryEnvelope":u instanceof h?"esriGeometryMultipoint":null},getGeometryType:function(u){return"esriGeometryPoint"===u?p:"esriGeometryPolyline"===u?t:"esriGeometryPolygon"===u?n:"esriGeometryEnvelope"===u?c:"esriGeometryMultipoint"===u?h:null},supportsLazyUnquantization:function(u){return"esriGeometryPoint"===
u||"esriGeometryPolyline"===u||"esriGeometryPolygon"===u||"esriGeometryMultipoint"===u},unquantizeFunction:function(u,v){if(u&&v){var g=v.translate[0],q=v.translate[1],x=v.scale[0],w=v.scale[1],B=function(y){return y*x+g},z=function(y){return q-y*w},C=e[u];return function(y){return y?C(y,B,z):null}}},unquantize:function(u,v,g){if(v=k.unquantizeFunction(v,g)){var q=u.length;for(g=0;g<q;g++)v(u[g].geometry)}},quantizeFunction:function(u,v){if(u&&"esriGeometryPoint"===u&&v){var g=v.translate[0],q=v.translate[1],
x=v.scale[0],w=v.scale[1],B=function(y){return Math.round((y-g)/x)},z=function(y){return Math.round((q-y)/w)},C=f[u];return function(y){return y?C(y,B,z):null}}},quantize:function(u,v,g){if(v=k.quantizeFunction(v,g)){var q=u.length;for(g=0;g<q;g++)v(u[g].geometry)}}};A("extend-esri")&&G.mixin(G.getObject("geometry",!0,a),k);return k})},"esri/arcade/featureset/support/shared":function(){var G=this&&this.__assign||function(){G=Object.assign||function(A){for(var a,m=1,p=arguments.length;m<p;m++){a=arguments[m];
for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(A[t]=a[t])}return A};return G.apply(this,arguments)};define(["require","exports","../../polyfill/promiseUtils","../../../geometry/Extent","../../../layers/Field"],function(A,a,m,p,t){function n(c){var b=null;c.domain&&(b="range"===c.domain.type?{type:"range",range:[c.domain.minValue,c.domain.maxValue]}:{type:"codedValue",codedValues:c.domain.toJson().codedValues});return G(G({name:c.name,type:c.type,alias:c.alias},void 0!==c.length?{length:c.length}:
{}),{editable:!0===c.editable,nullable:!0===c.nullable,domain:b})}function h(c){return c instanceof Date}Object.defineProperty(a,"__esModule",{value:!0});a.stableStringify=a.extractServiceUrl=a.reduceArrayWithPromises=a.toEsriGeometryType=a.layerFieldEsriConstants=a.layerGeometryEsriRestConstants=a.layerGeometryEsriConstants=a.callback=a.errback=a.defaultMaxRecords=a.sameGeomType=a.convertLinearUnitsToCode=a.shapeExtent=a.convertSquareUnitsToCode=a.cloneAttributes=a.equalityTest=a.isDate=a.isArray=
a.isNumber=a.isBoolean=a.isString=a.IdState=a.esriFieldToJson=a.cloneField=a.FeatureServiceDatabaseType=void 0;(function(c){c[c.Standardised=0]="Standardised";c[c.StandardisedNoInterval=1]="StandardisedNoInterval";c[c.SqlServer=2]="SqlServer";c[c.Oracle=3]="Oracle";c[c.Postgres=4]="Postgres";c[c.PGDB=5]="PGDB";c[c.FILEGDB=6]="FILEGDB";c[c.NotEvaluated=7]="NotEvaluated"})(a.FeatureServiceDatabaseType||(a.FeatureServiceDatabaseType={}));a.cloneField=function(c){return new t(n(c))};a.esriFieldToJson=
n;(function(c){c[c.InFeatureSet=0]="InFeatureSet";c[c.NotInFeatureSet=1]="NotInFeatureSet";c[c.Unknown=2]="Unknown"})(a.IdState||(a.IdState={}));a.isString=function(c){return"string"===typeof c||c instanceof String};a.isBoolean=function(c){return"boolean"===typeof c};a.isNumber=function(c){return"number"===typeof c};a.isArray=function(c){return c instanceof Array};a.isDate=h;a.equalityTest=function(c,b){return c===b?!0:h(c)&&h(b)?c.getTime()===b.getTime():!1};a.cloneAttributes=function(c){var b={},
e;for(e in c)b[e]=c[e];return b};a.convertSquareUnitsToCode=function(c){if(void 0===c)return null;if("number"===typeof c)return c;switch(c.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};a.shapeExtent=function(c){if(null===c)return null;switch(c.type){case "polygon":case "multipoint":case "polyline":return c.getExtent();case "point":return new p({xmin:c.x,ymin:c.y,xmax:c.x,ymax:c.y,
spatialReference:c.spatialReference});case "extent":return c}return null};a.convertLinearUnitsToCode=function(c){if(void 0===c)return null;if("number"===typeof c||"number"===typeof c)return c;switch(c.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};a.sameGeomType=function(c,b){return c===b||"point"===c&&"esriGeometryPoint"===b||"polyline"===c&&"esriGeometryPolyline"===b||"polygon"===c&&
"esriGeometryPolygon"===b||"extent"===c&&"esriGeometryEnvelope"===b||"multipoint"===c&&"esriGeometryMultipoint"===b||"point"===b&&"esriGeometryPoint"===c||"polyline"===b&&"esriGeometryPolyline"===c||"polygon"===b&&"esriGeometryPolygon"===c||"extent"===b&&"esriGeometryEnvelope"===c||"multipoint"===b&&"esriGeometryMultipoint"===c?!0:!1};a.defaultMaxRecords=1E3;a.errback=function(c){return function(b){c.reject(b)}};a.callback=function(c,b){return function(){try{c.apply(null,arguments)}catch(e){b.reject(e)}}};
a.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};a.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",
esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};a.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger","long":"esriFieldTypeLong",single:"esriFieldTypeSingle","double":"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",
blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",
esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};a.toEsriGeometryType=function(c){switch(c){case "point":return"esriGeometryPoint";case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};a.reduceArrayWithPromises=function(c,b){return m.create(function(e,
f){var k=m.resolve(!0);c.reduce(function(u,v,g,q){return u.then(function(x){try{return b(x,v,g,q)}catch(w){return m.reject(w)}},function(x){return m.reject(x)})},k).then(e,f)})};a.extractServiceUrl=function(c){if(void 0===c)return"";c=c.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");c=c.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return c=c.split("?")[0]};a.stableStringify=function(c,b){b||(b={});"function"===typeof b&&(b={cmp:b});var e="boolean"===typeof b.cycles?b.cycles:!1,f=b.cmp&&function(u){return function(v){return function(g,
q){return u({key:g,value:v[g]},{key:q,value:v[q]})}}}(b.cmp),k=[];return function g(v){v&&v.toJson&&"function"===typeof v.toJson&&(v=v.toJson());if(void 0!==v){if("number"===typeof v)return isFinite(v)?""+v:"null";if("object"!==typeof v)return JSON.stringify(v);var q;if(Array.isArray(v)){var x="[";for(q=0;q<v.length;q++)q&&(x+=","),x+=g(v[q])||"null";return x+"]"}if(null===v)return"null";if(-1!==k.indexOf(v)){if(e)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");
}var w=k.push(v)-1,B=Object.keys(v).sort(f&&f(v));x="";for(q=0;q<B.length;q++){var z=B[q],C=g(v[z]);C&&(x&&(x+=","),x+=JSON.stringify(z)+":"+C)}k.splice(w,1);return"{"+x+"}"}}(c)}})},"esri/layers/Field":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./RangeDomain ./CodedValueDomain".split(" "),function(G,A,a,m,p,t,n){G=G(null,{declaredClass:"esri.layers.Field",constructor:function(h){if(h&&A.isObject(h)&&(this.name=h.name,this.type=h.type,this.alias=h.alias,this.length=
h.length,this.editable=h.editable,this.nullable=h.nullable,this.defaultValue=h.defaultValue,this.description=h.description?JSON.parse(h.description):null,this.isViewOverride=!!h.isViewOverride,(h=h.domain)&&A.isObject(h)))switch(h.type){case "range":this.domain=new t(h);break;case "codedValue":this.domain=new n(h)}},toJson:function(){return p.fixJson({name:this.name,type:this.type,alias:this.alias,length:this.length,editable:this.editable,nullable:this.nullable,defaultValue:this.defaultValue,description:this.description?
JSON.stringify(this.description):null,domain:this.domain?this.domain.toJson():null,isViewOverride:this.isViewOverride||void 0})},toJSON:function(){return this.toJson()}});a("extend-esri")&&A.setObject("layers.Field",G,m);return G})},"esri/layers/RangeDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./Domain".split(" "),function(G,A,a,m,p,t){G=G([t],{declaredClass:"esri.layers.RangeDomain",constructor:function(n){n&&A.isObject(n)&&(this.minValue=n.range[0],this.maxValue=
n.range[1])},toJson:function(){var n=this.inherited(arguments);n.range=[this.minValue,this.maxValue];return p.fixJson(n)}});a("extend-esri")&&A.setObject("layers.RangeDomain",G,m);return G})},"esri/layers/Domain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(G,A,a,m,p){G=G(null,{declaredClass:"esri.layers.Domain",constructor:function(t){t&&A.isObject(t)&&(this.name=t.name,this.type=t.type)},toJson:function(){return p.fixJson({name:this.name,type:this.type})}});
a("extend-esri")&&A.setObject("layers.Domain",G,m);return G})},"esri/layers/CodedValueDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ./Domain".split(" "),function(G,A,a,m,p,t,n){G=G([n],{declaredClass:"esri.layers.CodedValueDomain",constructor:function(h){h&&A.isObject(h)&&(this.codedValues=h.codedValues)},getName:function(h){var c;a.some(this.codedValues,function(b){b.code==h&&(c=b.name);return!!c});return c},toJson:function(){var h=this.inherited(arguments);
h.codedValues=A.clone(this.codedValues);return t.fixJson(h)}});m("extend-esri")&&A.setObject("layers.CodedValueDomain",G,p);return G})},"esri/layers/vectorTiles/core/screenUtils":function(){define(["require","exports"],function(G,A){function a(p){return p?72*p/A.DPI:0}Object.defineProperty(A,"__esModule",{value:!0});var m=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;A.DPI=96;A.pt2px=function(p){return p?p/72*A.DPI:0};A.px2pt=a;A.toPt=function(p){if("string"===typeof p){if(m.test(p)){var t=p.match(m),n=Number(t[1]);
t=t[3]&&t[3].toLowerCase();p="-"===p.charAt(0);n="px"===t?a(n):n;return p?-n:n}console.warn("screenUtils.toPt: input not recognized!");return null}return p}})},"esri/layers/vectorTiles/support/arcadeUtils":function(){define(["require","exports","esri/renderers/arcadeUtils","esri/arcade/Dictionary"],function(G,A,a,m){Object.defineProperty(A,"__esModule",{value:!0});A.createSyntaxTree=function(p){return a.createSyntaxTree(p)};A.createFunction=function(p,t){return a.createFunction(p,t)};A.createExecContext=
function(p,t){return a.createExecContext(p,t)};A.executeFunction=function(p,t){return a.executeFunction(p,t)};A.extractFieldNames=function(p){return a.extractFieldNames(p)};A.getViewInfo=function(p){if(p&&p.viewingMode&&null!=p.scale&&p.spatialReference)return{view:new m({viewingMode:p.viewingMode,scale:p.scale}),sr:p.spatialReference}}})},"esri/renderers/arcadeUtils":function(){define(["dojo/_base/lang","dojo/has","../kernel","../support/expressionUtils"],function(G,A,a,m){A("extend-esri")&&G.setObject("renderer.arcadeUtils",
m,a);return m})},"esri/support/expressionUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/has dojo/Deferred ../kernel ../arcade/arcade ../arcade/Feature".split(" "),function(G,A,a,m,p,t,n){var h={vars:{$feature:"any",$view:"any"}},c=/^\$feature\./i,b={_getSyntaxTree:function(e){return"string"===typeof e?b.createSyntaxTree(e):e},createSyntaxTree:function(e){try{var f=e?t.parseScript(e):null}catch(k){f=null}return f},createFunction:function(e,f){f=f||G.clone(h);e=b._getSyntaxTree(e);
try{var k=e?t.compileScript(e,f):null}catch(u){console.log("expressionUtils.createFunction: compilation failed. "+(u.message||"")),k=null}return k},createExecContext:function(e,f){return{vars:{$feature:e?n.createFromGraphic(e):new n,$view:f&&f.view},spatialReference:f&&f.sr}},evalSyntaxTree:function(e,f){try{var k=t.executeScript(e,f)}catch(u){k=null}return k},executeFunction:function(e,f){try{var k=e?e(f):null}catch(u){k=null}return k},executeAsyncFunction:function(e,f){try{var k=e?e(f):(new m).reject(Error("expressionUtils.executeAsyncFunction: Invalid argument. compiledFunc is missing."))}catch(u){k=
(new m).reject(u)}return k},extractFieldNames:function(e){e=b._getSyntaxTree(e);e=t.extractFieldLiterals(e);var f=[];A.forEach(e,function(k){c.test(k)&&(k=k.replace(c,""),f.push(k))});f.sort();return A.filter(f,function(k,u){return 0===u||f[u-1]!==k})},dependsOnView:function(e){return b.hasVariable(e,"$view")},hasGeometryOperations:function(e){return(e=b._getSyntaxTree(e))?t.scriptUsesGeometryEngine(e):!1},enableGeometryOperations:function(){return t.enableGeometrySupport()},hasVariable:function(e,
f){return(e=b._getSyntaxTree(e))?t.referencesMember(e,f):!1},hasFunction:function(e,f){return(e=b._getSyntaxTree(e))?t.referencesFunction(e,f):!1},createFeatureSetFromLayer:function(e,f){f=f||{};var k=t.featureSetUtils();return k?k.constructFeatureSet(e,f.spatialReference,f.outFields,f.returnGeometry,f.cache):null},createFeatureSetFromLayerUrl:function(e,f){f=f||{};var k=t.featureSetUtils();return k?k.constructFeatureSetFromUrlRaw(e,f.spatialReference,f.outFields,f.returnGeometry,f.cache):null},createFeatureSetCollectionFromMap:function(e,
f){var k=t.featureSetUtils();return k?k.createFeatureSetCollectionFromMap(e,e.spatialReference,f&&f.cache):null},createFeatureSetCollectionFromServiceUrl:function(e,f){f=f||{};var k=t.featureSetUtils();return k?k.createFeatureSetCollectionFromService(e,f.spatialReference,f.cache):null},hasFeatureSetOperations:function(e){return(e=b._getSyntaxTree(e))?t.scriptUsesFeatureSet(e):!1},enableFeatureSetOperations:function(){return t.enableFeatureSetSupport().then(function(){var e=t.featureSetUtils();e&&
e.initialiseMetaDataCache()})},enableAsyncOperations:function(){return t.enableAsyncSupport()}};a("extend-esri")&&G.setObject("support.expressionUtils",b,p);return b})},"esri/arcade/arcade":function(){define("require exports ./arcadeCompiler ./arcadeRuntime ./languageUtils ./parser ./treeAnalysis dojo/has ./polyfill/promiseUtils ../moment".split(" "),function(G,A,a,m,p,t,n,h,c,b){function e(L,O){if(null===F)throw Error("Async Arcade must be enabled for this script");return h("csp-restrictions")||
!1===C?function(U){return F.executeScript(L,U)}:a.compileScript(L,O,!0)}function f(L,O){void 0===O&&(O=[]);return t.parseScript(L,O)}function k(L,O){if(!0===O.useAsync||!0===L.isAsync){if(null===F)throw Error("Async Arcade must be enabled for this script");return F.executeScript(L,O)}return m.executeScript(L,O)}function u(L,O){return m.referencesMember(L,O)}function v(L,O){void 0===O&&(O=[]);void 0===L.usesGeometry&&n.findScriptDependencies(L,O);return!0===L.usesGeometry}function g(){return E?E:E=
c.create(function(L,O){G(["../geometry/geometryEngine","./functions/geomsync"],function(U,S){D=!0;S.setGeometryEngine(U);L(!0)},function(U){O(U)})})}function q(){return null!==I?I:I=a.enableAsyncSupport().then(function(){return c.create(function(L,O){G(["./arcadeAsyncRuntime"],function(U){try{F=U;U=0;for(var S=H;U<S.length;U++){var M=S[U];F.extend(M);a.extend(M,"async")}H=null;L(!0)}catch(N){O(N)}},O)})})}function x(){return F?!0:!1}function w(){return J?J:J=q().then(function(){return c.create(function(L,
O){G(["./featureSetUtils","./functions/featuresetbase","./functions/featuresetgeom","./functions/featuresetstats","./functions/featuresetstring"],function(U,S,M,N,T){try{K=U,F.extend([S,M,N,T]),a.extend([S,M,N,T],"async"),y=!0,L(!0)}catch(V){O(V)}},O)})})}function B(L,O){void 0===O&&(O=[]);void 0===L.usesFeatureSet&&n.findScriptDependencies(L,O);return!0===L.usesFeatureSet}function z(L,O){if(O)for(var U=0;U<O.length;U++)if(u(L,O[U]))return!0;return!1}Object.defineProperty(A,"__esModule",{value:!0});
A.featureSetUtils=A.scriptTouchesGeometry=A.loadScriptDependencies=A.scriptIsAsync=A.scriptUsesFeatureSet=A.enableFeatureSetSupport=A.isGeometryEnabled=A.isAsyncEnabled=A.isFeatureSetSupportEnabled=A.enableAsyncSupport=A.enableGeometrySupport=A.scriptUsesGeometryEngine=A.extractFieldLiterals=A.referencesFunction=A.referencesMember=A.executeScript=A.parseAndExecuteScript=A.scriptCheck=A.validateScript=A.parseScript=A.extend=A.compileScript=void 0;var C=function(){if(h("csp-restrictions"))return!1;
try{return(new Function("function* test() {}; return true"))()}catch(L){return!1}}(),y=!1,D=!1,F=null,H=[];A.compileScript=function(L,O){return!0===O.useAsync||!0===L.isAsync?e(L,O):h("csp-restrictions")?function(U){return m.executeScript(L,U)}:a.compileScript(L,O)};A.extend=function(L){m.extend(L);a.extend(L,"sync");null===F?H.push(L):(a.extend(L,"async"),F.extend(L))};A.parseScript=f;A.validateScript=function(L,O,U){void 0===U&&(U="");return t.validateScript(L,O,U)};A.scriptCheck=function(L,O,U,
S){void 0===S&&(S="");return t.scriptCheck(L,O,U,S)};A.parseAndExecuteScript=function(L,O,U){void 0===U&&(U=[]);L=t.parseScript(L,U);return k(L,O)};A.executeScript=k;A.referencesMember=u;A.referencesFunction=function(L,O){return m.referencesFunction(L,O)};A.extractFieldLiterals=function(L,O){void 0===O&&(O=!1);return t.extractFieldLiterals(L,O)};A.scriptUsesGeometryEngine=v;var E=null;A.enableGeometrySupport=g;var I=null;A.enableAsyncSupport=q;A.isFeatureSetSupportEnabled=function(){return y};A.isAsyncEnabled=
x;A.isGeometryEnabled=function(){return D};var J=null;A.enableFeatureSetSupport=w;A.scriptUsesFeatureSet=B;A.scriptIsAsync=function(L,O){void 0===O&&(O=[]);void 0===L.isAsync&&n.findScriptDependencies(L,O);return!0===L.isAsync};A.loadScriptDependencies=function(L,O,U,S){void 0===U&&(U=[]);void 0===S&&(S=!1);return c.create(function(M,N){var T="string"===typeof L?f(L):L,V=[];T&&(!1===D&&(v(T)||S)&&V.push(g()),!1===x()&&(!0===T.isAsync||O)&&V.push(q()),!1===y&&(B(T)||z(T,U))&&V.push(w()));V?c.all(V).then(function(){M(!0)},
N):M(!0)})};A.scriptTouchesGeometry=function(L){if(v(L))return!0;L=n.findFunctionCalls(L);return-1<L.indexOf("geometry")||-1<L.indexOf("feature")?!0:!1};var K=null;A.featureSetUtils=function(){return K};p.MomentLibrary.Moment=b})},"esri/arcade/arcadeCompiler":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ./polyfill/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../SpatialReference".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F){function H(ha,fa,ra){try{return ra(ha,null,fa)}catch(wa){throw wa;}}function E(ha){return ha instanceof Error?x.reject(ha):x.reject(Error(ha))}function I(ha,fa){try{switch(fa.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return U(ha,fa);case "VariableDeclaration":for(var ra=[],wa=0;wa<fa.declarations.length;wa++)ra.push(I(ha,fa.declarations[wa]));return ra.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";
case "BlockStatement":return O(ha,fa);case "FunctionDeclaration":var Ga=fa.id.name.toLowerCase(),Na={isAsync:ha.isAsync,spatialReference:ha.spatialReference,console:ha.console,lrucache:ha.lrucache,services:ha.services,symbols:ha.symbols,mangleMap:ha.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:ha.depthCounter+1,globalScope:ha.globalScope};if(64<Na.depthCounter)throw Error("Exceeded maximum function depth");ra="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(wa=0;wa<fa.params.length;wa++){var Ra=fa.params[wa].name.toLowerCase(),Sa=la(ha);Na.localScope._SymbolsMap[Ra]=Sa;Na.mangleMap[Ra]=Sa;ra+="lscope['"+Sa+"']\x3darguments["+wa.toString()+"];\n"}!0===ha.isAsync?(ra=ra+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(O(Na,fa.body)+"\n return lastStatement; "),ra+="});  }, runtimeCtx))\n lastStatement \x3d lc.voidOperation; \n"):(ra+=O(Na,fa.body)+"\n return lastStatement; }, runtimeCtx))",ra+="\n lastStatement \x3d lc.voidOperation; \n");
if(void 0!==ha.globalScope[Ga])var La="gscope['"+Ga+"']\x3d"+ra;else void 0!==ha.globalScope._SymbolsMap[Ga]?La="gscope['"+ha.globalScope._SymbolsMap[Ga]+"']\x3d"+ra:(Sa=la(ha),ha.globalScope._SymbolsMap[Ga]=Sa,ha.mangleMap[Ga]=Sa,La="gscope['"+Sa+"']\x3d"+ra);return La;case "ReturnStatement":var W=null===fa.argument?"return lc.voidOperation":"return "+I(ha,fa.argument);return W;case "IfStatement":if("AssignmentExpression"===fa.test.type||"UpdateExpression"===fa.test.type)throw Error(b.nodeErrorMessage(fa.test,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var ia=I(ha,fa.test),sa=Q(ha),X="var "+sa+" \x3d "+ia+";\n if ("+sa+" \x3d\x3d\x3d true) {\n"+L(ha,fa.consequent)+"\n }\n";X=null!==fa.alternate?X+("else if ("+sa+"\x3d\x3d\x3dfalse)   { \n"+L(ha,fa.alternate)+"}\n"):X+("else if ("+sa+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");return X+="else { lang.error({type: '"+fa.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n";case "ExpressionStatement":var na="AssignmentExpression"===
fa.expression.type?"lastStatement \x3d lc.voidOperation; "+I(ha,fa.expression)+"; \n ":"lastStatement \x3d "+I(ha,fa.expression)+"; ";return na;case "AssignmentExpression":return K(ha,fa);case "UpdateExpression":return J(ha,fa);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{var ua=[];Ga=La=0;for(wa=fa.quasis;Ga<wa.length;Ga++){var ya=wa[Ga];ua.push(ya.value?JSON.stringify(ya.value.cooked):JSON.stringify(""));!1===ya.tail&&(ua.push(fa.expressions[La]?
"lang.castString(lang.aCheck("+I(ha,fa.expressions[La])+", 'TemplateLiteral'))":""),La++)}ra="(["+ua.join(",")+"]).join('')"}catch(rb){throw rb;}return ra;case "TemplateElement":return JSON.stringify(fa.value?fa.value.cooked:"");case "ForStatement":ra="lastStatement \x3d lc.voidOperation; \n";null!==fa.init&&(ra+=I(ha,fa.init)+"; ");var Ha=Q(ha),Oa=Q(ha);ra+="var "+Ha+" \x3d true; \n do { ";null!==fa.update&&(ra+=" if ("+Ha+"\x3d\x3d\x3dfalse) {\n "+I(ha,fa.update)+"  \n}\n "+Ha+"\x3dfalse; \n");
null!==fa.test&&(ra+="var "+Oa+" \x3d "+I(ha,fa.test)+"; ",ra+="if ("+Oa+"\x3d\x3d\x3dfalse) { break; } else if ("+Oa+"!\x3d\x3dtrue) { lang.error({type: '"+fa.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");ra+=I(ha,fa.body);null!==fa.update&&(ra+="\n "+I(ha,fa.update));return ra+("\n"+Ha+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ");case "ForInStatement":var Ma=Q(ha),Da=Q(ha),Ka=Q(ha),Ja="var "+Ma+" \x3d "+I(ha,fa.right)+";\n";"VariableDeclaration"===fa.left.type&&
(Ja+=I(ha,fa.left));var Va="VariableDeclaration"===fa.left.type?fa.left.declarations[0].id.name:fa.left.name;Va=Va.toLowerCase();ra="";null!==ha.localScope&&(void 0!==ha.localScope[Va]?ra="lscope['"+Va+"']":void 0!==ha.localScope._SymbolsMap[Va]&&(ra="lscope['"+ha.localScope._SymbolsMap[Va]+"']"));""===ra&&(void 0!==ha.globalScope[Va]?ra="gscope['"+Va+"']":void 0!==ha.globalScope._SymbolsMap[Va]&&(ra="gscope['"+ha.globalScope._SymbolsMap[Va]+"']"));Ja=Ja+("if ("+Ma+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+
(Ma+") || lc.isString("+Ma+")) {var ")+(Da+"\x3d"+Ma+".length; \nfor(var ")+(Ka+"\x3d0; "+Ka+"\x3c"+Da+"; "+Ka+"++) {\n");Ja+=ra+"\x3d"+Ka+";\n";Ja+=I(ha,fa.body);Ja+="\n}\n";Ja+=" lastStatement \x3d lc.voidOperation; \n";Ja+=" \n}\n";Ja+="else if (lc.isImmutableArray("+Ma+")) {";Ja=Ja+("var "+Da+"\x3d"+Ma+".length(); \nfor(var ")+(Ka+"\x3d0; "+Ka+"\x3c"+Da+"; "+Ka+"++) {\n");Ja+=ra+"\x3d"+Ka+";\n";Ja+=I(ha,fa.body);Ja+="\n}\n";Ja+=" lastStatement \x3d lc.voidOperation; \n";Ja+=" \n}\n";Ja+="else if (( "+
Ma+" instanceof lang.Dictionary) || ( "+Ma+" instanceof lang.Feature)) {";Ja=Ja+("var "+Da+"\x3d"+Ma+".keys(); \nfor(var ")+(Ka+"\x3d0; "+Ka+"\x3c"+Da+".length; "+Ka+"++) {\n");Ja+=ra+"\x3d"+Da+"["+Ka+"];\n";Ja+=I(ha,fa.body);Ja+="\n}\n";Ja+=" lastStatement \x3d lc.voidOperation; \n";Ja+=" \n}\n";ha.isAsync&&(Ja+="else if (lc.isFeatureSet("+Ma+")) {",Ja=Ja+("var "+Da+"\x3d"+Ma+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(Ka+"\x3dlang. graphicToFeature( yield "+Da+".next(),"+Ma+"); "+Ka+"!\x3dnull; "+
Ka+"\x3dlang. graphicToFeature( yield "+Da+".next(),"+Ma+")) {\n")+(ra+"\x3d"+Ka+";\n"),Ja+=I(ha,fa.body),Ja+="\n}\n",Ja+=" lastStatement \x3d lc.voidOperation; \n",Ja+=" \n}\n");return Ja+"else { lastStatement \x3d lc.voidOperation; } \n";case "Identifier":return M(ha,fa);case "MemberExpression":try{ra=void 0;ra=!0===fa.computed?I(ha,fa.property):"'"+fa.property.name+"'";var fb="lang.member("+I(ha,fa.object)+","+ra+")"}catch(rb){throw rb;}return fb;case "Literal":return null===fa.value||void 0===
fa.value?"null":JSON.stringify(fa.value);case "ThisExpression":throw Error(b.nodeErrorMessage(fa,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==fa.callee.type)throw Error(b.nodeErrorMessage(fa,"RUNTIME","ONLYNODESSUPPORTED"));var bb=fa.callee.name.toLowerCase();ra="";null!==ha.localScope&&(void 0!==ha.localScope[bb]?ra="lscope['"+bb+"']":void 0!==ha.localScope._SymbolsMap[bb]&&(ra="lscope['"+ha.localScope._SymbolsMap[bb]+"']"));""===ra&&(void 0!==ha.globalScope[bb]?ra="gscope['"+
bb+"']":void 0!==ha.globalScope._SymbolsMap[bb]&&(ra="gscope['"+ha.globalScope._SymbolsMap[bb]+"']"));if(""!==ra){wa="[";for(ya=0;ya<fa.arguments.length;ya++)0<ya&&(wa+=", "),wa+=I(ha,fa.arguments[ya]);wa+="]";ua=ha.isAsync?"(yield lang.callfunc("+ra+","+wa+",runtimeCtx) )":"lang.callfunc("+ra+","+wa+",runtimeCtx)"}else throw Error(b.nodeErrorMessage(fa,"RUNTIME","NOTFOUND"));}catch(rb){throw rb;}return ua;case "UnaryExpression":try{var kb="lang.unary("+I(ha,fa.argument)+",'"+fa.operator+"')"}catch(rb){throw rb;
}return kb;case "BinaryExpression":try{var hb="lang.binary("+I(ha,fa.left)+","+I(ha,fa.right)+",'"+fa.operator+"')"}catch(rb){throw rb;}return hb;case "LogicalExpression":try{if("AssignmentExpression"===fa.left.type||"UpdateExpression"===fa.left.type)throw Error(b.nodeErrorMessage(fa.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===fa.right.type||"UpdateExpression"===fa.right.type)throw Error(b.nodeErrorMessage(fa.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));
if("\x26\x26"===fa.operator||"||"===fa.operator)var nb="(lang.logicalCheck("+I(ha,fa.left)+") "+fa.operator+" lang.logicalCheck("+I(ha,fa.right)+"))";else throw Error(b.nodeErrorMessage(fa,"RUNTIME","ONLYORORAND"));}catch(rb){throw rb;}return nb;case "ConditionalExpression":throw Error(b.nodeErrorMessage(fa,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{ra=[];for(wa=0;wa<fa.elements.length;wa++)"Literal"===fa.elements[wa].type?ra.push(I(ha,fa.elements[wa])):ra.push("lang.aCheck("+I(ha,fa.elements[wa])+
",'ArrayExpression')");var tb="["+ra.join(",")+"]"}catch(rb){throw rb;}return tb;case "ObjectExpression":ra="lang.dictionary([";for(wa=0;wa<fa.properties.length;wa++){var ob=fa.properties[wa],ib="Identifier"===ob.key.type?"'"+ob.key.name+"'":I(ha,ob.key),mb=I(ha,ob.value);0<wa&&(ra+=",");ra+="lang.strCheck("+ib+",'ObjectExpression'),lang.aCheck("+mb+", 'ObjectExpression')"}return ra+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(b.nodeErrorMessage(fa,"RUNTIME","NOTSUPPORTED"));
default:throw Error(b.nodeErrorMessage(fa,"RUNTIME","UNREOGNISED"));}}catch(rb){throw rb;}}function J(ha,fa){var ra=null,wa="";if("MemberExpression"===fa.argument.type)return ra=I(ha,fa.argument.object),wa=!0===fa.argument.computed?I(ha,fa.argument.property):"'"+fa.argument.property.name+"'","lang.memberupdate("+ra+","+wa+",'"+fa.operator+"',"+fa.prefix+")";ra=fa.argument.name.toLowerCase();if(null!==ha.localScope){if(void 0!==ha.localScope[ra])return"lang.update(lscope, '"+ra+"','"+fa.operator+"',"+
fa.prefix+")";if(void 0!==ha.localScope._SymbolsMap[ra])return"lang.update(lscope, '"+ha.localScope._SymbolsMap[ra]+"','"+fa.operator+"',"+fa.prefix+")"}if(void 0!==ha.globalScope[ra])return"lang.update(gscope, '"+ra+"','"+fa.operator+"',"+fa.prefix+")";if(void 0!==ha.globalScope._SymbolsMap[ra])return"lang.update(gscope, '"+ha.globalScope._SymbolsMap[ra]+"','"+fa.operator+"',"+fa.prefix+")";throw Error("Variable not recognised");}function K(ha,fa){var ra=I(ha,fa.right),wa=null,Ga="";if("MemberExpression"===
fa.left.type)return wa=I(ha,fa.left.object),Ga=!0===fa.left.computed?I(ha,fa.left.property):"'"+fa.left.property.name+"'","lang.assignmember("+wa+","+Ga+",'"+fa.operator+"',"+ra+")";wa=fa.left.name.toLowerCase();if(null!==ha.localScope){if(void 0!==ha.localScope[wa])return"lscope['"+wa+"']\x3dlang.assign("+ra+",'"+fa.operator+"', lscope['"+wa+"'])";if(void 0!==ha.localScope._SymbolsMap[wa])return"lscope['"+ha.localScope._SymbolsMap[wa]+"']\x3dlang.assign("+ra+",'"+fa.operator+"', lscope['"+ha.localScope._SymbolsMap[wa]+
"'])"}if(void 0!==ha.globalScope[wa])return"gscope['"+wa+"']\x3dlang.assign("+ra+",'"+fa.operator+"', gscope['"+wa+"'])";if(void 0!==ha.globalScope._SymbolsMap[wa])return"gscope['"+ha.globalScope._SymbolsMap[wa]+"']\x3dlang.assign("+ra+",'"+fa.operator+"', gscope['"+ha.globalScope._SymbolsMap[wa]+"'])";throw Error("Variable not recognised");}function L(ha,fa){return"BlockStatement"===fa.type?I(ha,fa):"ReturnStatement"===fa.type||"BreakStatement"===fa.type||"ContinueStatement"===fa.type?I(ha,fa)+"; ":
"UpdateExpression"===fa.type?"lastStatement \x3d "+I(ha,fa)+"; ":"ExpressionStatement"===fa.type?I(ha,fa):"ObjectExpression"===fa.type?"lastStatement \x3d "+I(ha,fa)+"; ":I(ha,fa)+"; "}function O(ha,fa){for(var ra="",wa=0;wa<fa.body.length;wa++)ra="ReturnStatement"===fa.body[wa].type?ra+(I(ha,fa.body[wa])+"; \n"):"BreakStatement"===fa.body[wa].type?ra+(I(ha,fa.body[wa])+"; \n"):"ContinueStatement"===fa.body[wa].type?ra+(I(ha,fa.body[wa])+"; \n"):"UpdateExpression"===fa.body[wa].type?ra+("lastStatement \x3d "+
I(ha,fa.body[wa])+"; \n"):"ObjectExpression"===fa.body[wa].type?ra+("lastStatement \x3d "+I(ha,fa.body[wa])+"; \n"):ra+(I(ha,fa.body[wa])+" \n");return ra}function U(ha,fa){var ra=null===fa.init?null:I(ha,fa.init);ra===c.voidOperation&&(ra=null);fa=fa.id.name.toLowerCase();if(null!==ha.localScope){if(void 0!==ha.localScope[fa])return"lscope['"+fa+"']\x3d"+ra+"; ";if(void 0!==ha.localScope._SymbolsMap[fa])return"lscope['"+ha.localScope._SymbolsMap[fa]+"']\x3d"+ra+"; ";var wa=la(ha);ha.localScope._SymbolsMap[fa]=
wa;ha.mangleMap[fa]=wa;return"lscope['"+wa+"']\x3d"+ra+"; "}if(void 0!==ha.globalScope[fa])return"gscope['"+fa+"']\x3d"+ra+"; ";if(void 0!==ha.globalScope._SymbolsMap[fa])return"gscope['"+ha.globalScope._SymbolsMap[fa]+"']\x3d"+ra+"; ";wa=la(ha);ha.globalScope._SymbolsMap[fa]=wa;ha.mangleMap[fa]=wa;return"gscope['"+wa+"']\x3d"+ra+"; "}function S(ha,fa,ra){fa=fa.toLowerCase();switch(fa){case "hasz":return ha=ha.hasZ,void 0===ha?!1:ha;case "hasm":return ha=ha.hasM,void 0===ha?!1:ha;case "spatialreference":return fa=
ha.spatialReference._arcadeCacheId,void 0===fa&&(ra=!0,Object.freeze&&Object.isFrozen(ha.spatialReference)&&(ra=!1),ra&&(va++,fa=ha.spatialReference._arcadeCacheId=va)),ha=new p({wkt:ha.spatialReference.wkt,wkid:ha.spatialReference.wkid}),void 0!==fa&&(ha._arcadeCacheId="SPREF"+fa.toString()),ha}switch(ha.type){case "extent":switch(fa){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return ha=ha[fa],void 0!==ha?ha:null;case "type":return"Extent"}break;
case "polygon":switch(fa){case "rings":return fa=ha.getCacheValue("_arcadeCacheId"),void 0===fa&&(va++,fa=va,ha.setCacheValue("_arcadeCacheId",fa)),ha=new n(ha.rings,ha.spatialReference,!0===ha.hasZ,!0===ha.hasM,fa);case "type":return"Polygon"}break;case "point":switch(fa){case "x":case "y":case "z":case "m":return void 0!==ha[fa]?ha[fa]:null;case "type":return"Point"}break;case "polyline":switch(fa){case "paths":return fa=ha.getCacheValue("_arcadeCacheId"),void 0===fa&&(va++,fa=va,ha.setCacheValue("_arcadeCacheId",
fa)),ha=new n(ha.paths,ha.spatialReference,!0===ha.hasZ,!0===ha.hasM,fa);case "type":return"Polyline"}break;case "multipoint":switch(fa){case "points":return fa=ha.getCacheValue("_arcadeCacheId"),void 0===fa&&(va++,fa=va,ha.setCacheValue("_arcadeCacheId",fa)),ha=new h(ha.points,ha.spatialReference,!0===ha.hasZ,!0===ha.hasM,fa,1);case "type":return"Multipoint"}}throw Error(b.nodeErrorMessage(ra,"RUNTIME","PROPERTYNOTFOUND"));}function M(ha,fa){try{var ra=fa.name.toLowerCase();if(null!==ha.localScope){if(void 0!==
ha.localScope[ra])return"lscope['"+ra+"']";if(void 0!==ha.localScope._SymbolsMap[ra])return"lscope['"+ha.localScope._SymbolsMap[ra]+"']"}if(void 0!==ha.globalScope[ra])return"gscope['"+ra+"']";if(void 0!==ha.globalScope._SymbolsMap[ra])return"gscope['"+ha.globalScope._SymbolsMap[ra]+"']";throw Error(b.nodeErrorMessage(fa,"RUNTIME","VARIABLENOTFOUND"));}catch(wa){throw wa;}}function N(ha){return null===ha?"":c.isArray(ha)||c.isImmutableArray(ha)?"Array":c.isDate(ha)?"Date":c.isString(ha)?"String":
c.isBoolean(ha)?"Boolean":c.isNumber(ha)?"Number":ha instanceof m?"Attachment":ha instanceof a?"Portal":ha instanceof p?"Dictionary":ha instanceof t?"Feature":ha instanceof C?"Point":ha instanceof y?"Polygon":ha instanceof D?"Polyline":ha instanceof z?"Multipoint":ha instanceof w?"Extent":c.isFunctionParameter(ha)?"Function":c.isFeatureSet(ha)?"FeatureSet":c.isFeatureSetCollection(ha)?"FeatureSetCollection":ha===c.voidOperation?"":"number"===typeof ha&&isNaN(ha)?"Number":"Unrecognised Type"}function T(ha,
fa,ra,wa){try{if(c.equalityTest(fa[ra],wa))return fa[ra+1];var Ga=fa.length-ra;return 1===Ga?fa[ra]:2===Ga?null:3===Ga?fa[ra+2]:T(ha,fa,ra+2,wa)}catch(Na){throw Na;}}function V(ha,fa,ra,wa){try{if(!0===wa)return fa[ra+1];if(3===fa.length-ra)return fa[ra+2];var Ga=fa[ra+2];if(!1===c.isBoolean(Ga))throw Error("WHEN needs boolean test conditions");return V(ha,fa,ra+2,Ga)}catch(Na){throw Na;}}function ea(ha,fa){var ra=ha.length,wa=Math.floor(ra/2);if(0===ra)return[];if(1===ra)return[ha[0]];var Ga=ea(ha.slice(0,
wa),fa);ha=ea(ha.slice(wa,ra),fa);for(ra=[];0<Ga.length||0<ha.length;)0<Ga.length&&0<ha.length?(wa=fa(Ga[0],ha[0]),isNaN(wa)&&(wa=0),0>=wa?(ra.push(Ga[0]),Ga=Ga.slice(1)):(ra.push(ha[0]),ha=ha.slice(1))):0<Ga.length?(ra.push(Ga[0]),Ga=Ga.slice(1)):0<ha.length&&(ra.push(ha[0]),ha=ha.slice(1));return ra}function P(ha,fa){try{var ra=ha.length,wa=Math.floor(ra/2);if(0===ra)return x.resolve([]);if(1===ra)return x.resolve([ha[0]]);var Ga=[P(ha.slice(0,wa),fa),P(ha.slice(wa,ra),fa)];return x.all(Ga).then(function(Na){return ba(Na[0],
Na[1],fa,[])})}catch(Na){return x.reject(Na)}}function ba(ha,fa,ra,wa){return x.create(function(Ga,Na){0<ha.length||0<fa.length?0<ha.length&&0<fa.length?ra(ha[0],fa[0]).then(function(Ra){try{isNaN(Ra)&&(Ra=1),0>=Ra?(wa.push(ha[0]),ha=ha.slice(1)):(wa.push(fa[0]),fa=fa.slice(1)),ba(ha,fa,ra,wa).then(function(Sa){Ga(Sa)},Na)}catch(Sa){Na(Sa)}},Na):0<ha.length?(wa.push(ha[0]),ha=ha.slice(1),ba(ha,fa,ra,wa).then(function(Ra){Ga(Ra)},Na)):0<fa.length&&(wa.push(fa[0]),fa=fa.slice(1),ba(ha,fa,ra,wa).then(function(Ra){Ga(Ra)},
Na)):Ga(wa)})}function la(ha){ha.symbols.symbolCounter++;return"_T"+ha.symbols.symbolCounter.toString()}function Q(ha){ha.symbols.symbolCounter++;return"_Tvar"+ha.symbols.symbolCounter.toString()}function Y(ha,fa,ra){var wa={};ha||(ha={});ra||(ra={});wa._SymbolsMap={};wa.textformatting=1;wa.infinity=1;wa.pi=1;for(var Ga in fa)wa[Ga]=1;for(Ga in ra)wa[Ga]=1;for(Ga in ha)wa[Ga]=1;return wa}function ja(ha,fa){for(var ra={mode:fa,compiled:!0,functions:{},signatures:[],failDefferred:E,standardFunction:H,
standardFunctionAsync:H,evaluateIdentifier:pa},wa=0;wa<ha.length;wa++)ha[wa].registerFunctions(ra);if("sync"===fa){for(var Ga in ra.functions)Aa[Ga]=new c.NativeFunction(ra.functions[Ga]),ma.prototype[Ga]=Aa[Ga];for(wa=0;wa<ra.signatures.length;wa++)b.addFunctionDeclaration(ra.signatures[wa],"sync")}else{for(Ga in ra.functions)da[Ga]=new c.NativeFunction(ra.functions[Ga]),qa.prototype[Ga]=da[Ga];for(wa=0;wa<ra.signatures.length;wa++)b.addFunctionDeclaration(ra.signatures[wa],"async")}}function pa(ha,
fa){fa=fa.name;if("_SymbolsMap"===fa)throw"Illegal";if(0<ha.localStack.length){if("_t"!==fa.substr(0,2).toLowerCase()&&void 0!==ha.localStack[ha.localStack.length-1][fa])return ha.localStack[ha.localStack.length-1][fa];var ra=ha.mangleMap[fa];if(void 0!==ra&&void 0!==ha.localStack[ha.localStack.length-1][ra])return ha.localStack[ha.localStack.length-1][ra]}if("_t"!==fa.substr(0,2).toLowerCase()&&void 0!==ha.globalScope[fa]||1===ha.globalScope._SymbolsMap[fa])return ha.globalScope[fa];fa=ha.mangleMap[fa];
if(void 0!==fa)return ha.globalScope[fa]}function ka(ha){console.log(ha)}Object.defineProperty(A,"__esModule",{value:!0});A.enableAsyncSupport=A.compileScript=A.referencesFunction=A.referencesMember=A.validateScript=A.extractFieldLiterals=A.executeScript=A.extend=A.functionHelper=void 0;var va=0,Aa={};e.registerFunctions(Aa,H);f.registerFunctions(Aa,H);q.registerFunctions(Aa,H);v.registerFunctions(Aa,H);k.registerFunctions(Aa,H);g.registerFunctions(Aa,H);Aa["typeof"]=function(ha,fa){return H(ha,fa,
function(ra,wa,Ga){c.pcCheck(Ga,1,1);ra=N(Ga[0]);if("Unrecognised Type"===ra)throw Error("Unrecognised Type");return ra})};Aa.iif=function(ha,fa){try{return H(ha,fa,function(ra,wa,Ga){c.pcCheck(Ga,3,3);if(!1===c.isBoolean(Ga[0]))throw Error("IF Function must have a boolean test condition");return Ga[0]?Ga[1]:Ga[2]})}catch(ra){throw ra;}};Aa.decode=function(ha,fa){try{return H(ha,fa,function(ra,wa,Ga){if(2>Ga.length)throw Error("Missing Parameters");if(2===Ga.length)return Ga[1];if(0===(Ga.length-
1)%2)throw Error("Must have a default value result.");return T(ha,Ga,1,Ga[0])})}catch(ra){throw ra;}};Aa.when=function(ha,fa){try{return H(ha,fa,function(ra,wa,Ga){if(3>Ga.length)throw Error("Missing Parameters");if(0===Ga.length%2)throw Error("Must have a default value result.");ra=Ga[0];if(!1===c.isBoolean(ra))throw Error("WHEN needs boolean test conditions");return V(ha,Ga,0,ra)})}catch(ra){throw ra;}};Aa.top=function(ha,fa){return H(ha,fa,function(ra,wa,Ga){c.pcCheck(Ga,2,2);if(c.isArray(Ga[0]))return c.toNumber(Ga[1])>=
Ga[0].length?Ga[0].slice(0):Ga[0].slice(0,c.toNumber(Ga[1]));if(c.isImmutableArray(Ga[0]))return c.toNumber(Ga[1])>=Ga[0].length()?Ga[0].slice(0):Ga[0].slice(0,c.toNumber(Ga[1]));throw Error("Top cannot accept this parameter type");})};Aa.first=function(ha,fa){return H(ha,fa,function(ra,wa,Ga){c.pcCheck(Ga,1,1);return c.isArray(Ga[0])?0===Ga[0].length?null:Ga[0][0]:c.isImmutableArray(Ga[0])?0===Ga[0].length()?null:Ga[0].get(0):null})};Aa.sort=function(ha,fa){return H(ha,fa,function(ra,wa,Ga){c.pcCheck(Ga,
1,2);wa=Ga[0];c.isImmutableArray(wa)&&(wa=wa.toArray());if(!1===c.isArray(wa))throw Error("Illegal Argument");if(1<Ga.length){if(!1===c.isFunctionParameter(Ga[1]))throw Error("Illegal Argument");var Na=function(ia,sa){return Ca.callfunc(Ga[1],[ia,sa],ra)};return ha.isAsync?P(wa,Na):wa=ea(wa,function(ia,sa){return Na(ia,sa)})}if(0===wa.length)return[];for(var Ra={},Sa=0;Sa<wa.length;Sa++){var La=N(wa[Sa]);""!==La&&(Ra[La]=!0)}if(!0===Ra.Array||!0===Ra.Dictionary||!0===Ra.Feature||!0===Ra.Point||!0===
Ra.Polygon||!0===Ra.Polyline||!0===Ra.Multipoint||!0===Ra.Extent||!0===Ra.Function)return wa.slice(0);Sa=0;La="";for(var W in Ra)Sa++,La=W;return wa=1<Sa||"String"===La?ea(wa,function(ia,sa){if(null===ia||void 0===ia||ia===c.voidOperation)return null===sa||void 0===sa||sa===c.voidOperation?0:1;if(null===sa||void 0===sa||sa===c.voidOperation)return-1;ia=c.toString(ia);sa=c.toString(sa);return ia<sa?-1:ia===sa?0:1}):"Number"===La?ea(wa,function(ia,sa){return ia-sa}):"Boolean"===La?ea(wa,function(ia,
sa){return ia===sa?0:sa?-1:1}):"Date"===La?ea(wa,function(ia,sa){return sa-ia}):wa.slice(0)})};var da={},ca;for(ca in Aa)da[ca]=new c.NativeFunction(Aa[ca]);u.registerFunctions(Aa,H);for(ca in Aa)Aa[ca]=new c.NativeFunction(Aa[ca]);var ma=function(){};ma.prototype=Aa;var qa=function(){};qa.prototype=da;A.functionHelper={fixSpatialReference:c.fixSpatialReference,parseArguments:function(ha,fa){for(var ra=[],wa=0;wa<fa.arguments.length;wa++)ra.push(I(ha,fa.arguments[wa]));return ra},standardFunction:H};
A.extend=ja;A.executeScript=function(ha,fa){return ha(fa)};A.extractFieldLiterals=function(ha,fa){void 0===fa&&(fa=!1);return b.findFieldLiterals(ha)};A.validateScript=function(ha,fa){return b.validateScript(ha,fa,"sync")};A.referencesMember=function(ha,fa){return b.referencesMember(ha,fa)};A.referencesFunction=function(ha,fa){return b.referencesFunction(ha,fa)};var ta=0,Ca={error:function(ha,fa,ra){throw Error(b.nodeErrorMessage(ha,fa,ra));},__awaiter:function(ha,fa,ra,wa){return x.create(function(Ga,
Na){function Ra(W){try{La(wa.next(W))}catch(ia){Na(ia)}}function Sa(W){try{La(wa["throw"](W))}catch(ia){Na(ia)}}function La(W){W.done?Ga(W.value):W.value&&W.value.then?W.value.then(Ra,Sa):(ta++,0===ta%100?setTimeout(function(){ta=0;Ra(W.value)},0):Ra(W.value))}La((wa=wa.apply(ha,fa||[])).next())})},functionDepthchecker:function(ha,fa){return function(){fa.depthCounter++;fa.localStack.push([]);if(64<fa.depthCounter)throw Error("Exceeded maximum function depth");var ra=ha.apply(this,arguments);if(x.isPromiseLike(ra))return ra.then(function(wa){fa.depthCounter--;
--fa.localStack.length;return wa});fa.depthCounter--;--fa.localStack.length;return ra}},castString:function(ha){return c.toString(ha)},aCheck:function(ha,fa){if(c.isFunctionParameter(ha))throw Error(b.nodeErrorMessage({type:fa},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return ha===c.voidOperation?null:ha},Dictionary:p,Feature:t,dictionary:function(ha){for(var fa={},ra=0;ra<ha.length;ra+=2){if(c.isFunctionParameter(ha[ra+1]))throw Error("Illegal Argument");if(!1===c.isString(ha[ra]))throw Error("Illegal Argument");
fa[ha[ra].toString()]=ha[ra+1]===c.voidOperation?null:ha[ra+1]}ha=new p(fa);ha.immutable=!1;return ha},strCheck:function(ha){if(!1===c.isString(ha))throw Error("Illegal Argument");return ha},unary:function(ha,fa){if(c.isBoolean(ha)){if("!"===fa)return!ha;if("-"===fa)return-1*c.toNumber(ha);if("+"===fa)return 1*c.toNumber(ha);if("~"===fa)return~c.toNumber(ha);throw Error(b.nodeErrorMessage({type:"UnaryExpression",operator:fa,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===
fa)return-1*c.toNumber(ha);if("+"===fa)return 1*c.toNumber(ha);if("~"===fa)return~c.toNumber(ha);throw Error(b.nodeErrorMessage({type:"UnaryExpression",operator:fa,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck:function(ha){if(!1===c.isBoolean(ha))throw Error(b.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return ha},logical:function(ha,fa,ra){if(c.isBoolean(ha)&&c.isBoolean(fa))switch(ra){case "||":return ha||
fa;case "\x26\x26":return ha&&fa}throw Error(b.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));},binary:function(ha,fa,ra){switch(ra){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return c.binaryOperator(c.toNumber(ha),c.toNumber(fa),ra);case "\x3d\x3d":return c.equalityTest(ha,fa);case "\x3d":return c.equalityTest(ha,fa);case "!\x3d":return!c.equalityTest(ha,fa);case "\x3c":return c.greaterThanLessThan(ha,
fa,ra);case "\x3e":return c.greaterThanLessThan(ha,fa,ra);case "\x3c\x3d":return c.greaterThanLessThan(ha,fa,ra);case "\x3e\x3d":return c.greaterThanLessThan(ha,fa,ra);case "+":return c.isString(ha)||c.isString(fa)?c.toString(ha)+c.toString(fa):c.toNumber(ha)+c.toNumber(fa);case "-":return c.toNumber(ha)-c.toNumber(fa);case "*":return c.toNumber(ha)*c.toNumber(fa);case "/":return c.toNumber(ha)/c.toNumber(fa);case "%":return c.toNumber(ha)%c.toNumber(fa);default:throw Error(b.nodeErrorMessage({type:"BinaryExpression",
operator:ra,left:ha,right:fa},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign:function(ha,fa,ra){switch(fa){case "\x3d":return ha===c.voidOperation?null:ha;case "/\x3d":return c.toNumber(ra)/c.toNumber(ha);case "*\x3d":return c.toNumber(ra)*c.toNumber(ha);case "-\x3d":return c.toNumber(ra)-c.toNumber(ha);case "+\x3d":return c.isString(ra)||c.isString(ha)?c.toString(ra)+c.toString(ha):c.toNumber(ra)+c.toNumber(ha);case "%\x3d":return c.toNumber(ra)%c.toNumber(ha);default:throw Error(b.nodeErrorMessage({type:"AssignmentExpression",
operator:fa,left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));}},update:function(ha,fa,ra,wa){var Ga=c.toNumber(ha[fa]);ha[fa]="++"===ra?Ga+1:Ga-1;return!1===wa?Ga:"++"===ra?Ga+1:Ga-1},graphicToFeature:function(ha,fa){return null===ha?null:t.createFromGraphicLikeObject(ha.geometry,ha.attributes,fa)},memberupdate:function(ha,fa,ra,wa){if(c.isArray(ha))if(c.isNumber(fa)){0>fa&&(fa=ha.length+fa);if(0>fa||fa>=ha.length)throw Error("Assignment outside of array bounds");var Ga=c.toNumber(ha[fa]);
ha[fa]="++"===ra?Ga+1:Ga-1}else throw Error("Invalid Parameter");else if(ha instanceof p){if(!1===c.isString(fa))throw Error("Dictionary accessor must be a string");if(!0===ha.hasField(fa))Ga=c.toNumber(ha.field(fa)),ha.setField(fa,"++"===ra?Ga+1:Ga-1);else throw Error("Invalid Parameter");}else if(ha instanceof t){if(!1===c.isString(fa))throw Error("Feature accessor must be a string");if(!0===ha.hasField(fa))Ga=c.toNumber(ha.field(fa)),ha.setField(fa,"++"===ra?Ga+1:Ga-1);else throw Error("Invalid Parameter");
}else{if(c.isImmutableArray(ha))throw Error("Array is Immutable");throw Error("Invalid Parameter");}return!1===wa?Ga:"++"===ra?Ga+1:Ga-1},assignmember:function(ha,fa,ra,wa){if(c.isArray(ha))if(c.isNumber(fa)){0>fa&&(fa=ha.length+fa);if(0>fa||fa>ha.length)throw Error("Assignment outside of array bounds");if(fa===ha.length&&"\x3d"!==ra)throw Error("Invalid Parameter");ha[fa]=this.assign(wa,ra,ha[fa])}else throw Error("Invalid Parameter");else if(ha instanceof p){if(!1===c.isString(fa))throw Error("Dictionary accessor must be a string");
if(!0===ha.hasField(fa))ha.setField(fa,this.assign(wa,ra,ha.field(fa)));else{if("\x3d"!==ra)throw Error("Invalid Parameter");ha.setField(fa,this.assign(wa,ra,null))}}else if(ha instanceof t){if(!1===c.isString(fa))throw Error("Feature accessor must be a string");if(!0===ha.hasField(fa))ha.setField(fa,this.assign(wa,ra,ha.field(fa)));else{if("\x3d"!==ra)throw Error("Invalid Parameter");ha.setField(fa,this.assign(wa,ra,null))}}else{if(c.isImmutableArray(ha))throw Error("Array is Immutable");throw Error("Invalid Parameter");
}},member:function(ha,fa){if(null===ha)throw Error(b.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","NOTFOUND"));if(ha instanceof p||ha instanceof t){if(c.isString(fa))return ha.field(fa);throw Error(b.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(ha instanceof B){if(c.isString(fa))return S(ha,fa,"MemberExpression");throw Error(b.nodeErrorMessage({type:"MemberExpression",object:null,property:null,
computed:null},"RUNTIME","INVALIDTYPE"));}if(c.isArray(ha)){if(c.isNumber(fa)&&isFinite(fa)&&Math.floor(fa)===fa){0>fa&&(fa=ha.length+fa);if(fa>=ha.length||0>fa)throw Error(b.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return ha[fa]}throw Error(b.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(c.isString(ha)){if(c.isNumber(fa)&&isFinite(fa)&&Math.floor(fa)===fa){0>fa&&
(fa=ha.length+fa);if(fa>=ha.length||0>fa)throw Error(b.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return ha[fa]}throw Error(b.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(c.isImmutableArray(ha)&&c.isNumber(fa)&&isFinite(fa)&&Math.floor(fa)===fa){0>fa&&(fa=ha.length()+fa);if(fa>=ha.length()||0>fa)throw Error(b.nodeErrorMessage({type:"MemberExpression",object:null,property:null,
computed:null},"RUNTIME","OUTOFBOUNDS"));return ha.get(fa)}throw Error(b.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));},callfunc:function(ha,fa,ra){return ha instanceof c.NativeFunction?ha.fn(ra,fa):ha instanceof c.SizzleFunction?ha.fn.apply(this,fa):ha.apply(this,fa)}};A.compileScript=function(ha,fa,ra){void 0===fa&&(fa=null);void 0===ra&&(ra=!1);null===fa&&(fa={vars:{},customfunctions:{}});fa={isAsync:ra,globalScope:Y(fa.vars,ra?da:
Aa,fa.customfunctions),localScope:null,mangleMap:{},console:ka,lrucache:fa.lrucache,services:fa.services,symbols:{symbolCounter:0}};ha=I(fa,ha.body[0].body);""===ha&&(ha="lc.voidOperation; ");fa={lc:c,lang:Ca,mangles:fa.mangleMap,postProcess:function(wa){wa instanceof c.ReturnResult&&(wa=wa.value);wa instanceof c.ImplicitResult&&(wa=wa.value);wa===c.voidOperation&&(wa=null);if(wa===c.breakResult)throw Error("Cannot return BREAK");if(wa===c.continueResult)throw Error("Cannot return CONTINUE");if(c.isFunctionParameter(wa))throw Error("Cannot return FUNCTION");
return wa},prepare:function(wa,Ga){var Na=wa.spatialReference;if(null===Na||void 0===Na)Na=new F({wkid:102100});var Ra=wa.vars,Sa=wa.customfunctions,La=Ga?new qa:new ma;Ra||(Ra={});Sa||(Sa={});var W=new p({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});W.immutable=!1;La._SymbolsMap={textformatting:1,infinity:1,pi:1};La.textformatting=W;La.infinity=Number.POSITIVE_INFINITY;La.pi=Math.PI;for(var ia in Sa)La[ia]=Sa[ia],La._SymbolsMap[ia]=1;for(ia in Ra)La._SymbolsMap[ia]=
1,La[ia]=Ra[ia]&&"esri.Graphic"===Ra[ia].declaredClass?t.createFromGraphic(Ra[ia]):Ra[ia];return{localStack:[],isAsync:Ga,mangleMap:this.mangles,spatialReference:Na,globalScope:La,abortSignal:void 0===wa.abortSignal||null===wa.abortSignal?{aborted:!1}:wa.abortSignal,localScope:null,services:wa.services,console:wa.console?wa.console:ka,lrucache:wa.lrucache,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context","spatialReference",ra?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
ha+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+ha+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(fa)};A.enableAsyncSupport=function(){return x.create(function(ha,fa){G(["./functions/geomasync"],function(ra){ja([ra],"async");ha(!0)},
function(ra){fa(ra)})})}})},"esri/arcade/ArcadePortal":function(){var G=this&&this.__extends||function(){var A=function(a,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,t){p.__proto__=t}||function(p,t){for(var n in t)t.hasOwnProperty(n)&&(p[n]=t[n])};return A(a,m)};return function(a,m){function p(){this.constructor=a}A(a,m);a.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();define(["require","exports","./Dictionary"],function(A,a,m){return function(p){function t(n){var h=
p.call(this)||this;h.immutable=!1;h.setField("url",n);h.immutable=!0;return h}G(t,p);return t}(m)})},"esri/arcade/Attachment":function(){var G=this&&this.__extends||function(){var A=function(a,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,t){p.__proto__=t}||function(p,t){for(var n in t)t.hasOwnProperty(n)&&(p[n]=t[n])};return A(a,m)};return function(a,m){function p(){this.constructor=a}A(a,m);a.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();define(["require",
"exports","./Dictionary"],function(A,a,m){return function(p){function t(n,h,c,b,e){var f=p.call(this)||this;f.attachmentUrl=e;f.immutable=!1;f.setField("id",n);f.setField("name",h);f.setField("contenttype",c);f.setField("size",b);f.immutable=!0;return f}G(t,p);return t}(m)})},"esri/arcade/treeAnalysis":function(){define(["require","exports"],function(G,A){function a(z,C){return"0"!==z.min&&C.length<Number(z.min)||"*"!==z.max&&C.length>Number(z.max)?-2:1}function m(z,C,y){if(null!==y.localScope&&void 0!==
y.localScope[z.toLowerCase()]){var D=y.localScope[z.toLowerCase()];if("FormulaFunction"===D.type||"any"===D.type)return void 0===D.signature&&(D.signature={min:"0",max:"*"}),a(D.signature,C)}return void 0!==y.globalScope[z.toLowerCase()]&&(D=y.globalScope[z.toLowerCase()],"FormulaFunction"===D.type||"any"===D.type)?(void 0===D.signature&&(D.signature={min:"0",max:"*"}),a(D.signature,C)):-1}function p(z,C){if(z)for(var y=0;y<z.length;y++)t(z[y],C)}function t(z,C){if(z&&!1!==C(z))switch(z.type){case "ArrayExpression":p(z.elements,
C);break;case "AssignmentExpression":case "BinaryExpression":t(z.left,C);t(z.right,C);break;case "BlockStatement":p(z.body,C);break;case "CallExpression":t(z.callee,C);p(z.arguments,C);break;case "ConditionalExpression":t(z.test,C);t(z.alternate,C);t(z.consequent,C);break;case "ExpressionStatement":t(z.expression,C);break;case "ForInStatement":t(z.left,C);t(z.right,C);t(z.body,C);break;case "ForStatement":t(z.init,C);t(z.test,C);t(z.update,C);t(z.body,C);break;case "FunctionDeclaration":case "FunctionDeclaration":case "FunctionExpression":t(z.id,
C);p(z.params,C);t(z.body,C);break;case "IfStatement":t(z.test,C);t(z.consequent,C);t(z.alternate,C);break;case "LogicalExpression":t(z.left,C);t(z.right,C);break;case "MemberExpression":t(z.object,C);t(z.property,C);break;case "ObjectExpression":p(z.properties,C);break;case "Program":p(z.body,C);break;case "Property":t(z.key,C);t(z.value,C);break;case "ReturnStatement":t(z.argument,C);break;case "UnaryExpression":t(z.argument,C);break;case "UpdateExpression":t(z.argument,C);break;case "VariableDeclaration":p(z.declarations,
C);break;case "VariableDeclarator":t(z.id,C);t(z.init,C);break;case "TemplateLiteral":p(z.expressions,C),p(z.quasis,C)}}function n(z,C){void 0===C&&(C=!0);var y=k(z,"SYNTAX","UNREOGNISED");try{switch(z.type){case "VariableDeclarator":return null!==z.init&&"FunctionExpression"===z.init.type?k(z,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):"Identifier"!==z.id.type?k(z,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==z.init?n(z.init,!1):"";case "VariableDeclaration":for(var D=0;D<z.declarations.length;D++)if(y=
n(z.declarations[D],C),""!==y)return y;return"";case "ForInStatement":y=n(z.left,C);if(""!==y)break;if("VariableDeclaration"===z.left.type){if(1<z.left.declarations.length)return k(z,"SYNTAX","ONLY1VAR");if(null!==z.left.declarations[0].init)return k(z,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==z.left.type)return k(z,"SYNTAX","LEFTNOTVAR");y=n(z.right,C);if(""!==y)break;y=n(z.body,C);if(""!==y)break;return"";case "ForStatement":if(null!==z.test&&(y=n(z.test,C),""!==y))break;if(null!==z.init&&
(y=n(z.init,C),""!==y))break;if(null!==z.update&&(y=n(z.update,C),""!==y))break;if(null!==z.body&&(y=n(z.body,C),""!==y))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":y=n(z.test,C);if(""!==y)break;if(null!==z.consequent&&(y=n(z.consequent,!1),""!==y))break;if(null!==z.alternate&&(y=n(z.alternate,!1),""!==y))break;return"";case "BlockStatement":var F=[];for(D=0;D<z.body.length;D++)"EmptyStatement"!==z.body[D].type&&
F.push(z.body[D]);z.body=F;for(D=0;D<z.body.length;D++)if(y=n(z.body[D],C),""!==y)return y;return"";case "FunctionDeclaration":return!1===C?k(z,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==z.id.type?k(z,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):n(z.body,!1);case "ReturnStatement":return null!==z.argument?n(z.argument,C):"";case "UpdateExpression":return"Identifier"!==z.argument.type&&"MemberExpression"!==z.argument.type?k(z,"SYNTAX","ASSIGNMENTTOVARSONLY"):n(z.argument,C);case "AssignmentExpression":if("Identifier"!==
z.left.type&&"MemberExpression"!==z.left.type)return k(z,"SYNTAX","ASSIGNMENTTOVARSONLY");y=n(z.left,C);if(""!==y)break;switch(z.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return k(z,"SYNTAX","OPERATORNOTRECOGNISED")}return n(z.right,!1);case "ExpressionStatement":return n(z.expression,!1);case "Identifier":y="";break;case "MemberExpression":y=n(z.object,C);if(""!==y)break;return!0===z.computed?n(z.property,C):"";case "Literal":return"";case "TemplateElement":return"";
case "CallExpression":if("Identifier"!==z.callee.type)return k(z,"SYNTAX","ONLYNODESSUPPORTED");y="";for(D=0;D<z.arguments.length;D++)if(y=n(z.arguments[D],C),""!==y)return y;return"";case "UnaryExpression":y=n(z.argument,C);break;case "BinaryExpression":y=n(z.left,C);if(""!==y)break;y=n(z.right,C);if(""!==y)break;switch(z.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;
default:return k(z,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":y=n(z.left,C);if(""!==y)break;y=n(z.right);if(""!==y)break;switch(z.operator){case "\x26\x26":case "||":break;default:return k(z,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ConditionalExpression":return k(z,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":y="";for(D=0;D<z.elements.length&&(y=n(z.elements[D],C),""===y);D++);break;case "TemplateLiteral":y="";for(D=0;D<z.quasis.length;D++)if(y=n(z.quasis[D],C),
""!==y)return y;for(D=0;D<z.expressions.length&&(y=n(z.expressions[D],C),""===y);D++);break;case "ObjectExpression":y="";for(D=0;D<z.properties.length;D++){y="";if(null!==z.properties[D].key&&("Literal"!==z.properties[D].key.type&&"Identifier"!==z.properties[D].key.type&&(y=k(z,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===z.properties[D].key.type)){F=z.properties[D].key;var H="value"in F?F.value:null;"string"===typeof H||H instanceof String||(y=k(z,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===
y&&(y=n(z.properties[D],C));if(""!==y)break}break;case "Property":if("Literal"!==z.key.type&&"Identifier"!==z.key.type)return k(z,"SYNTAX","ONLYLITERAL");if("Identifier"!==z.key.type&&(y=n(z.key,C),""!==y))break;y=n(z.value,C)}return y}catch(E){throw E;}}function h(z,C){var y=k(z,"SYNTAX","UNREOGNISED"),D=null,F="";try{switch(z.type){case "VariableDeclarator":if(null!==z.init&&"FunctionExpression"===z.init.type)return k(z,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");var H=null===z.init?"":h(z.init,C);if(""!==
H)return H;"Identifier"===z.id.type&&(null===C.localScope?C.globalScope[z.id.name.toLowerCase()]={type:"any"}:C.localScope[z.id.name.toLowerCase()]={type:"any"});return"";case "FunctionDeclaration":D=b(z.id.name.toLowerCase(),z);F=e(z,C);if(""!==F)return F;if(null!==C.localScope)return k(z,"SYNTAX","GLOBALFUNCTIONSONLY");D.isnative=!1;C.globalScope[z.id.name.toLowerCase()]={type:"FormulaFunction",signature:[D]};return"";case "VariableDeclaration":y="";for(var E=0;E<z.declarations.length&&(y=h(z.declarations[E],
C),""===y);E++);break;case "IfStatement":y=h(z.test,C);if(""!==y)break;if("AssignmentExpression"===z.test.type||"UpdateExpression"===z.test.type)return k(z.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");if(null!==z.consequent&&(y=h(z.consequent,C),""!==y))break;if(null!==z.alternate&&(y=h(z.alternate,C),""!==y))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(E=0;E<z.body.length;E++)if(y=h(z.body[E],C),""!==y)return y;return"";case "ReturnStatement":return null!==z.argument?
h(z.argument,C):"";case "ForInStatement":if("VariableDeclaration"===z.left.type){if(1<z.left.declarations.length)return k(z,"SYNTAX","ONLY1VAR");if(null!==z.left.declarations[0].init)return k(z,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==z.left.type)return k(z,"SYNTAX","LEFTNOTVAR");y=h(z.left,C);if(""!==y)break;y=h(z.right,C);if(""!==y)break;y=h(z.body,C);if(""!==y)break;return"";case "ForStatement":if(null!==z.init&&(y=h(z.init,C),""!==y))break;if(null!==z.test&&(y=h(z.test,C),""!==y))break;
if(null!==z.body&&(y=h(z.body,C),""!==y))break;if(null!==z.update&&(y=h(z.update,C),""!==y))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==z.argument.type&&"MemberExpression"!==z.argument.type)return k(z,"SYNTAX","ASSIGNMENTTOVARSONLY");var I=!1;if("MemberExpression"===z.argument.type)return h(z.argument,C);null!==C.localScope&&void 0!==C.localScope[z.argument.name.toLowerCase()]&&(I=!0);void 0!==C.globalScope[z.argument.name.toLowerCase()]&&
(I=!0);return!1===I?"Identifier "+z.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==z.left.type&&"MemberExpression"!==z.left.type)return k(z,"SYNTAX","ASSIGNMENTTOVARSONLY");var J=h(z.right,C);if(""!==J)return J;I=!1;if("MemberExpression"===z.left.type)return J=h(z.left,C),""!==J?J:"";null!==C.localScope&&void 0!==C.localScope[z.left.name.toLowerCase()]&&(I=!0);void 0!==C.globalScope[z.left.name.toLowerCase()]&&(I=!0);return!1===I?"Identifier "+z.left.name+
" has not been declared.":"";case "ExpressionStatement":return h(z.expression,C);case "Identifier":var K=z.name.toLowerCase();if(null!==C.localScope&&void 0!==C.localScope[K])return"";y=void 0!==C.globalScope[K]?"":k(z,"SYNTAX","VARIABLENOTFOUND");break;case "MemberExpression":y=h(z.object,C);if(""!==y)break;return!0===z.computed?h(z.property,C):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":if("Identifier"!==z.callee.type)return k(z,"SYNTAX","ONLYNODESSUPPORTED");
y="";for(E=0;E<z.arguments.length;E++)if(y=h(z.arguments[E],C),""!==y)return y;var L=m(z.callee.name,z.arguments,C);-1===L&&(y=k(z,"SYNTAX","NOTFOUND"));-2===L&&(y=k(z,"SYNTAX","WRONGSIGNATURE"));break;case "UnaryExpression":y=h(z.argument,C);break;case "BinaryExpression":y=h(z.left,C);if(""!==y)break;y=h(z.right,C);if(""!==y)break;return"";case "LogicalExpression":y=h(z.left,C);if(""!==y)break;if("AssignmentExpression"===z.left.type||"UpdateExpression"===z.left.type)return k(z.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");
y=h(z.right,C);if(""!==y)break;return"AssignmentExpression"===z.right.type||"UpdateExpression"===z.right.type?k(z.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ConditionalExpression":return k(z,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":y="";for(E=0;E<z.elements.length&&(y=h(z.elements[E],C),""===y);E++);break;case "TemplateLiteral":y="";for(E=0;E<z.quasis.length;E++)if(y=h(z.quasis[E],C),""!==y)return y;for(E=0;E<z.expressions.length&&(y=h(z.expressions[E],C),""===y);E++);break;
case "ObjectExpression":y="";for(E=0;E<z.properties.length;E++){y="";if(null!==z.properties[E].key&&("Literal"!==z.properties[E].key.type&&"Identifier"!==z.properties[E].key.type&&(y=k(z,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===z.properties[E].key.type)){var O=z.properties[E].key,U="value"in O?O.value:null;"string"===typeof U||U instanceof String||(y=k(z,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===y&&(y=h(z.properties[E],C));if(""!==y)break}break;case "Property":if("Literal"!==z.key.type&&
"Identifier"!==z.key.type)return k(z,"SYNTAX","ONLYLITERAL");if("Identifier"!==z.key.type&&(y=h(z.key,C),""!==y))break;y=h(z.value,C)}return y}catch(S){throw S;}}function c(z,C){var y=!1,D=C.toLowerCase();t(z,function(F){if(y)return!1;"Identifier"===F.type&&F.name&&F.name.toLowerCase()===D&&(y=!0);return!0});return y}function b(z,C){var y=[];if(void 0!==C.params&&null!==C.params)for(var D=0;D<C.params.length;D++)y.push("any");return{name:z,return:"any",params:y}}function e(z,C){C={globalScope:C.globalScope,
localScope:{}};for(var y=0;y<z.params.length;y++)C.localScope[z.params[y].name.toLowerCase()]={type:"any"};return h(z.body,C)}function f(z,C,y,D){var F={};if(void 0===z||null===z)z={};if(void 0===y||null===y)y={};F.infinity={type:"any"};F.textformatting={type:"any"};F.pi={type:"any"};for(var H in C)"sync"===D&&void 0!==C[H].min?F[H]={type:"FormulaFunction",signature:{min:C[H].min,max:C[H].max}}:"sync"!==D&&void 0!==C[H].fmin&&(F[H]={type:"FormulaFunction",signature:{min:C[H].fmin,max:C[H].fmax}});
for(C=0;C<y.length;C++)H=y[C],F[H.name]={type:"FormulaFunction",signature:H};for(H in z)F[H]=z[H],F[H].type="any";return F}function k(z,C,y){var D="";switch(C){case "SYNTAX":D="Syntax Error: ";break;case "RUNTIME":D="Runtime Error: ";break;default:D="Syntax Error: "}try{switch(z.type){case "IfStatement":switch(y){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":D+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":D+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(y){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":D+=
" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":D+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":D+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(y){case "GLOBALFUNCTIONSONLY":D+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":D+=" Function Definition must have an identifier"}break;case "VariableDeclaration":D+=" Only 1 variable can be declared at a time";break;
case "VariableDeclarator":switch(y){case "FUNCTIONVARIABLEDECLARATOR":D+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":D+=" Variable Definition must have an identifier"}break;case "Identifier":D+=" Identifier Not Found. ";D+=z.name;break;case "ObjectExpression":switch(y){case "OBJECTPROPERTYMUSTBESTRING":D+=" Property name must be a string"}break;case "ForStatement":switch(y){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":D+=" Non Boolean used as Condition"}break;
case "ForInStatement":switch(y){case "ONLY1VAR":D+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":D+=" Can only declare value for use with IN";break;case "LEFTNOVAR":D+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":D+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":D+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(y){case "PROPERTYNOTFOUND":D+="Cannot find member property. ";D+=
!1===z.computed?"Identifier"===z.property.type?z.property.name:"":"";break;case "OUTOFBOUNDS":D+="Out of Bounds. ";D+=!1===z.computed?"Identifier"===z.property.type?z.property.name:"":"";break;case "NOTFOUND":D+="Cannot call member method on null. ";D+=!1===z.computed?"Identifier"===z.property.type?z.property.name:"":"";break;case "INVALIDTYPE":D+="Cannot call member property on object of this type. ",D+=!1===z.computed?"Identifier"===z.property.type?z.property.name:"":""}break;case "Property":switch(y){case "ONLYLITERAL":D+=
"Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(y){case "WRONGSIGNATURE":D+="Function signature does not match: ";D+="Identifier"===z.callee.type?z.callee.name:"";break;case "ONLYNODESUPPORTED":D+="Functions must be declared.";D+="Identifier"===z.callee.type?z.callee.name:"";break;case "NOTAFUNCTION":D+="Not a Function: ";D+="Identifier"===z.callee.type?z.callee.name:"";break;case "NOTFOUND":D+="Function Not Found: "+("Identifier"===z.callee.type?
z.callee.name:"")}break;case "UnaryExpression":switch(y){case "NOTSUPPORTEDUNARYOPERATOR":D+="Operator "+z.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case "NOTSUPPORTEDTYPE":D+="Unary operator "+z.operator+" cannot be used with this argument."}case "BinaryExpression":switch(y){case "OPERATORNOTRECOGNISED":D+="Binary Operator not recognised "+z.operator}break;case "LogicalExpression":switch(y){case "ONLYBOOLEAN":D+="Operator "+z.operator+" cannot be used. Only || or \x26\x26 are allowed values";
break;case "ONLYORORAND":D+="Logical Expression "+z.operator+" being applied to parameters that are not boolean."}break;case "ConditionalExpression":D+="Conditional statements not supported.";break;case "ArrayExpression":switch(y){case "FUNCTIONCONTEXTILLEGAL":D+=" Cannot Put Function inside Array."}break;default:D+="Expression contains unrecognised code structures."}}catch(F){throw F;}return D}function u(z,C,y){return{line:z.loc.start.line,character:z.loc.start.column,reason:k(z,C,y)}}function v(z,
C,y,D){C={globalScope:C.globalScope,localScope:{}};for(var F=0;F<z.params.length;F++)C.localScope[z.params[F].name.toLowerCase()]={type:"any"};g(z.body,C,y,D,!1)}function g(z,C,y,D,F){void 0===F&&(F=!0);if(null===z)throw Error("Unnexpexted Expression Syntax");var H=null;try{switch(z.type){case "VariableDeclarator":if(null!==z.init&&"FunctionExpression"===z.init.type){D.push(u(z,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"));break}"Identifier"!==z.id.type?D.push(u(z,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):
(z.id.name.toLowerCase(),null===C.localScope?C.globalScope[z.id.name.toLowerCase()]={type:"any"}:C.localScope[z.id.name.toLowerCase()]={type:"any"});null!==z.init&&g(z.init,C,y,D,F);break;case "FunctionDeclaration":!1===F&&D.push(u(z,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==z.id.type&&D.push(u(z,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));H=b("",z);v(z,C,y,D);null!==C.localScope&&D.push(u(z,"SYNTAX","GLOBALFUNCTIONSONLY"));H.isnative=!1;"Identifier"===z.id.type&&(C.globalScope[z.id.name.toLowerCase()]=
{type:"FormulaFunction",signature:[H]});break;case "VariableDeclaration":for(var E=0;E<z.declarations.length;E++)g(z.declarations[E],C,y,D,F);break;case "IfStatement":null!==z.test&&(g(z.test,C,y,D,F),"AssignmentExpression"!==z.test.type&&"UpdateExpression"!==z.test.type||D.push(u(z.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==z.consequent&&g(z.consequent,C,y,D,F);null!==z.alternate&&g(z.alternate,C,y,D,F);break;case "EmptyStatement":break;case "BlockStatement":if(null!==z.body)for(E=
0;E<z.body.length;E++)g(z.body[E],C,y,D,F);break;case "ReturnStatement":null!==z.argument&&g(z.argument,C,y,D,F);break;case "ForInStatement":"VariableDeclaration"===z.left.type?(1<z.left.declarations.length&&D.push(u(z,"SYNTAX","ONLY1VAR")),null!==z.left.declarations[0].init&&D.push(u(z,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==z.left.type&&D.push(u(z,"SYNTAX","LEFTNOTVAR"));g(z.left,C,y,D,F);g(z.right,C,y,D,F);g(z.body,C,y,D,F);break;case "ForStatement":null!==z.init&&g(z.init,C,y,D,F);null!==
z.test&&g(z.test,C,y,D,F);null!==z.body&&g(z.body,C,y,D,F);null!==z.update&&g(z.update,C,y,D,F);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":if("Identifier"!==z.argument.type&&"MemberExpression"!==z.argument.type)D.push(u(z,"SYNTAX","ASSIGNMENTTOVARSONLY"));else{if("Identifier"===z.argument.type){var I=!1;!1===y&&(null!==C.localScope&&void 0!==C.localScope[z.argument.name.toLowerCase()]&&(I=!0),void 0!==C.globalScope[z.argument.name.toLowerCase()]&&(I=!0),
!1===I&&D.push({line:null===z?0:z.loc.start.line,character:null===z?0:z.loc.start.column,reason:"Identifier "+z.argument.name+" has not been declared."}))}"MemberExpression"===z.argument.type&&g(z.argument,C,y,D,F)}break;case "AssignmentExpression":"Identifier"!==z.left.type&&"MemberExpression"!==z.left.type&&D.push(u(z,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(z.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:D.push(u(z,"SYNTAX","OPERATORNOTRECOGNISED"))}g(z.right,
C,y,D,F);I=!1;"Identifier"===z.left.type&&(null!==C.localScope&&void 0!==C.localScope[z.left.name.toLowerCase()]&&(I=!0),void 0!==C.globalScope[z.left.name.toLowerCase()]&&(I=!0),!1===y&&!1===I&&D.push({line:null===z?0:z.loc.start.line,character:null===z?0:z.loc.start.column,reason:"Identifier "+z.left.name+" has not been declared."}));"MemberExpression"===z.left.type&&g(z.left,C,y,D,F);break;case "ExpressionStatement":g(z.expression,C,y,D,F);break;case "Identifier":var J=z.name.toLowerCase();if(null!==
C.localScope&&void 0!==C.localScope[J]||void 0!==C.globalScope[J])break;!1===y&&D.push(u(z,"SYNTAX","VARIABLENOTFOUND"));break;case "MemberExpression":g(z.object,C,y,D,F);!0===z.computed&&g(z.property,C,y,D,F);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==z.callee.type&&D.push(u(z,"SYNTAX","ONLYNODESSUPPORTED"));for(E=0;E<z.arguments.length;E++)g(z.arguments[E],C,y,D,F);if("Identifier"===z.callee.type){var K=m(z.callee.name,z.arguments,C);!1===y&&-1===
K&&D.push(u(z,"SYNTAX","NOTFOUND"));-2===K&&D.push(u(z,"SYNTAX","WRONGSIGNATURE"))}break;case "UnaryExpression":g(z.argument,C,y,D,F);break;case "BinaryExpression":g(z.left,C,y,D,F);g(z.right,C,y,D,F);switch(z.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;default:D.push(u(z,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(z.operator){case "\x26\x26":case "||":break;
default:D.push(u(z,"SYNTAX","OPERATORNOTRECOGNISED"))}g(z.left,C,y,D,F);"AssignmentExpression"!==z.left.type&&"UpdateExpression"!==z.left.type||D.push(u(z,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));g(z.right,C,y,D,F);"AssignmentExpression"!==z.right.type&&"UpdateExpression"!==z.right.type||D.push(u(z,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ConditionalExpression":D.push(u(z,"SYNTAX","NOTSUPPORTED"));break;case "ArrayExpression":for(E=0;E<z.elements.length;E++)g(z.elements[E],
C,y,D,F);break;case "TemplateLiteral":for(E=0;E<z.quasis.length;E++)g(z.quasis[E],C,y,D,F);for(E=0;E<z.expressions.length;E++)g(z.expressions[E],C,y,D,F);break;case "ObjectExpression":for(E=0;E<z.properties.length;E++)g(z.properties[E],C,y,D,F);break;case "Property":"Literal"!==z.key.type&&"Identifier"!==z.key.type&&D.push(u(z,"SYNTAX","ONLYLITERAL"));"Literal"===z.key.type&&g(z.key,C,y,D,F);g(z.value,C,y,D,F);break;default:D.push(u(z,"SYNTAX","UNRECOGNISED"))}}catch(L){D.push({line:null===z?0:z.loc.start.line,
character:null===z?0:z.loc.start.column,reason:"Unnexpected Syntax"})}}function q(z){var C=[];t(z,function(y){"CallExpression"===y.type&&"Identifier"===y.callee.type&&C.push(y.callee.name.toLowerCase());return!0});return C}Object.defineProperty(A,"__esModule",{value:!0});A.scriptUsesFeatureSet=A.findScriptDependencies=A.findFunctionCalls=A.checkScript=A.extractAllIssues=A.extractAllIssuesInFunction=A.makeError=A.nodeErrorMessage=A.validateLanguage=A.validateScript=A.constructGlobalScope=A.validateFunction=
A.extractFunctionDeclaration=A.findFieldLiterals=A.referencesFunction=A.referencesMember=A.testValidityOfExpression=A.validateLanguageNode=A.walk=A.findFunction=A.checkFunctionSignature=A.addFunctionDeclaration=A.functionDecls=void 0;A.functionDecls={concatenate:{min:"0",max:"*"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",
max:"*"},push:{min:"2",max:"2"},pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",
max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",
max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",
max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},
boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",
max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",
max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},schema:{min:"1",max:"1"}};for(var x in A.functionDecls)A.functionDecls[x].fmin=A.functionDecls[x].min,A.functionDecls[x].fmax=A.functionDecls[x].max;var w="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl attachments featuresetbyportalitem".split(" "),
B="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");A.addFunctionDeclaration=function(z,C){var y=A.functionDecls[z.name.toLowerCase()];void 0===y?"sync"===C?A.functionDecls[z.name.toLowerCase()]={min:z.min,max:z.max}:A.functionDecls[z.name.toLowerCase()]=
{fmin:z.min,fmax:z.max}:"sync"===C?(y.min=z.min,y.max=z.max):(y.fmin=z.min,y.fmax=z.max)};A.checkFunctionSignature=a;A.findFunction=m;A.walk=t;A.validateLanguageNode=n;A.testValidityOfExpression=h;A.referencesMember=c;A.referencesFunction=function(z,C){var y=!1,D=C.toLowerCase();t(z,function(F){return y?!1:"CallExpression"===F.type&&"Identifier"===F.callee.type&&F.callee.name&&F.callee.name.toLowerCase()===D?(y=!0,!1):!0});return y};A.findFieldLiterals=function(z){var C=[];t(z,function(y){if("MemberExpression"!==
y.type||"Identifier"!==y.object.type)return!0;!1===y.computed&&y.object&&y.object.name&&y.property&&"Identifier"===y.property.type&&y.property.name?C.push(y.object.name.toLowerCase()+"."+y.property.name.toLowerCase()):y.object&&y.object.name&&y.property&&"Literal"===y.property.type&&"string"===typeof y.property.value&&C.push(y.object.name.toLowerCase()+"."+y.property.value.toString().toLowerCase());return!1});return C};A.extractFunctionDeclaration=b;A.validateFunction=e;A.constructGlobalScope=f;A.validateScript=
function(z,C,y,D){void 0===y&&(y="async");void 0===D&&(D=A.functionDecls);C={globalScope:f(C.vars,D,C.customFunctions,y),localScope:null};return h(z.body[0].body,C)};A.validateLanguage=function(z){return"BlockStatement"!==z.body[0].body.type?"Invalid formula content.":n(z.body[0].body)};A.nodeErrorMessage=k;A.makeError=u;A.extractAllIssuesInFunction=v;A.extractAllIssues=g;A.checkScript=function(z,C,y,D,F){void 0===D&&(D="async");void 0===F&&(F=A.functionDecls);var H=[];if("BlockStatement"!==z.body[0].body.type)return[{line:0,
character:0,reason:"Invalid Body"}];if(null===C||void 0===C)C={vars:{},customFunctions:[]};C={globalScope:f(C.vars,F,C.customFunctions,D),localScope:null};try{g(z.body[0].body,C,y,H)}catch(E){}return H};A.findFunctionCalls=q;A.findScriptDependencies=function(z,C){void 0===C&&(C=[]);var y=null;if(void 0===z.usesFeatureSet){null===y&&(y=q(z));z.usesFeatureSet=!1;for(var D=0;D<y.length;D++)-1<w.indexOf(y[D])&&(z.usesFeatureSet=!0,z.isAsync=!0);if(!1===z.usesFeatureSet&&C&&0<C.length)for(D=0;D<C.length;D++)if(c(z,
C[D])){z.usesFeatureSet=!0;z.isAsync=!0;break}}if(void 0===z.usesGeometry)for(z.usesGeometry=!1,null===y&&(y=q(z)),D=0;D<y.length;D++)-1<B.indexOf(y[D])&&(z.usesGeometry=!0)};A.scriptUsesFeatureSet=function(z){z=q(z);for(var C=0;C<z.length;C++)if(-1<w.indexOf(z[C]))return!0;return!1}})},"esri/arcade/functions/array":function(){define(["require","exports","../languageUtils"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});A.registerFunctions=void 0;A.registerFunctions=function(m,p){m.array=
function(t,n){return p(t,n,function(h,c,b){a.pcCheck(b,1,2);h=a.toNumber(b[0]);if(isNaN(h)||!1===a.isInteger(h))throw Error("Invalid Parameter");b=a.defaultUndefined(b[1],null);h=Array(h);h.fill(b);return h})};m.front=function(t,n){return p(t,n,function(h,c,b){a.pcCheck(b,1,1);if(a.isImmutableArray(b[0])){if(0>=b[0].length())throw Error("Array is empty");return b[0].get(0)}if(a.isArray(b[0])){if(0>=b[0].length)throw Error("Array is empty");return b[0][0]}throw Error("Invalid Parameter");})};m.back=
function(t,n){return p(t,n,function(h,c,b){a.pcCheck(b,1,1);if(a.isImmutableArray(b[0])){if(0>=b[0].length())throw Error("Array is empty");return b[0].get(b[0].length()-1)}if(a.isArray(b[0])){if(0>=b[0].length)throw Error("Array is empty");return b[0][b[0].length-1]}throw Error("Invalid Parameter");})};m.push=function(t,n){return p(t,n,function(h,c,b){a.pcCheck(b,1,2);if(a.isArray(b[0]))return b[0][b[0].length]=b[1],b[0].length;throw Error("Invalid Parameter");})};m.pop=function(t,n){return p(t,n,
function(h,c,b){a.pcCheck(b,1,1);if(a.isArray(b[0])){if(0>=b[0].length)throw Error("Array is empty");h=b[0][b[0].length-1];--b[0].length;return h}throw Error("Invalid Parameter");})};m.erase=function(t,n){return p(t,n,function(h,c,b){a.pcCheck(b,2,2);if(a.isArray(b[0])){h=a.toNumber(b[1]);if(isNaN(h)||!1===a.isInteger(h))throw Error("Invalid Parameter");b=b[0];if(0>=b.length)throw Error("Array is empty");0>h&&(h=b.length+h);if(0>h)throw Error("Element not found");if(h>=b.length)throw Error("Index is greater than array");
b.splice(h,1);return a.voidOperation}throw Error("Invalid Parameter");})};m.insert=function(t,n){return p(t,n,function(h,c,b){a.pcCheck(b,3,3);if(a.isArray(b[0])){h=a.toNumber(b[1]);if(isNaN(h)||!1===a.isInteger(h))throw Error("Invalid Parameter");c=b[2];b=b[0];if(h>b.length)throw Error("Index is greater than array");if(0>h&&h<-1*b.length)throw Error("Index is greater than array");if(h===b.length)return b[h]=c,a.voidOperation;b.splice(h,0,c);return a.voidOperation}throw Error("Invalid Parameter");
})};m.resize=function(t,n){return p(t,n,function(h,c,b){a.pcCheck(b,2,3);if(a.isArray(b[0])){c=a.toNumber(b[1]);if(isNaN(c)||!1===a.isInteger(c))throw Error("Invalid Parameter");if(0>c)throw Error("Size cannot be negative");h=a.defaultUndefined(b[2],null);b=b[0];if(b.length>=c)return b.length=c,a.voidOperation;var e=b.length;b.length=c;for(c=e;c<b.length;c++)b[c]=h;return a.voidOperation}throw Error("Invalid Parameter");})};m.includes=function(t,n){return p(t,n,function(h,c,b){a.pcCheck(b,2,2);if(a.isArray(b[0])){var e=
b[1];h=b[0];return-1<h.findIndex(function(k){return a.equalityTest(k,e)})?!0:!1}if(a.isImmutableArray(b[0])){var f=b[1];h=b[0].toArray();return-1<h.findIndex(function(k){return a.equalityTest(k,f)})?!0:!1}throw Error("Invalid Parameter");})};m.slice=function(t,n){return p(t,n,function(h,c,b){a.pcCheck(b,1,3);if(a.isArray(b[0])){h=a.toNumber(a.defaultUndefined(b[1],0));c=a.toNumber(a.defaultUndefined(b[2],b[0].length));if(isNaN(h)||!1===a.isInteger(h))throw Error("Invalid Parameter");if(isNaN(c)||
!1===a.isInteger(c))throw Error("Invalid Parameter");var e=b[0];return e.slice(h,c)}if(a.isImmutableArray(b[0])){e=b[0];h=a.toNumber(a.defaultUndefined(b[1],0));c=a.toNumber(a.defaultUndefined(b[2],e.length()));if(isNaN(h)||!1===a.isInteger(h))throw Error("Invalid Parameter");if(isNaN(c)||!1===a.isInteger(c))throw Error("Invalid Parameter");return e.toArray().slice(h,c)}throw Error("Invalid Parameter");})};m.splice=function(t,n){return p(t,n,function(h,c,b){h=[];for(c=0;c<b.length;c++)a.isArray(b[c])?
h.push.apply(h,b[c]):a.isImmutableArray(b[c])?h.push.apply(h,b[c].toArray()):h.push(b[c]);return h})}}})},"esri/arcade/functions/date":function(){define(["require","exports","../languageUtils"],function(G,A,a){function m(n){n=new Date(n.getTime());var h=n.getFullYear(),c=new Date(0);c.setFullYear(h+1,0,4);c.setHours(0,0,0,0);c=p(c);var b=new Date(0);b.setFullYear(h,0,4);b.setHours(0,0,0,0);b=p(b);return n.getTime()>=c.getTime()?h+1:n.getTime()>=b.getTime()?h:h-1}function p(n){n=new Date(n.getTime());
var h=n.getDay();h=(1>h?7:0)+h-1;n.setDate(n.getDate()-h);n.setHours(0,0,0,0);return n}function t(n){return null===n?n:isNaN(n.getTime())?null:n}Object.defineProperty(A,"__esModule",{value:!0});A.registerFunctions=void 0;A.registerFunctions=function(n,h){n.today=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,0,0);e=new Date;e.setHours(0,0,0,0);return e})};n.now=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,0,0);return new Date})};n.timestamp=function(c,b){return h(c,b,function(e,
f,k){a.pcCheck(k,0,0);e=new Date;return e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())})};n.toutc=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===e?null:new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())})};n.tolocal=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);
return null===e?null:a.MomentLibrary.Moment.utc([e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]).toDate()})};n.day=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===e?NaN:e.getDate()})};n.month=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===e?NaN:e.getMonth()})};n.year=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===
e?NaN:e.getFullYear()})};n.hour=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===e?NaN:e.getHours()})};n.second=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===e?NaN:e.getSeconds()})};n.millisecond=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===e?NaN:e.getMilliseconds()})};n.minute=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===
e?NaN:e.getMinutes()})};n.weekday=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===e?NaN:e.getDay()})};n.isoweekday=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);if(null===e)return NaN;e=e.getDay();0===e&&(e=7);return e})};n.isomonth=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===e?NaN:e.getMonth()+1})};n.isoweek=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);f=a.toDate(k[0]);
if(null===f)return NaN;e=p(f).getTime();f=m(f);k=new Date(0);k.setFullYear(f,0,4);k.setHours(0,0,0,0);f=p(k);e-=f.getTime();return Math.round(e/6048E5)+1})};n.isoyear=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,1,1);e=a.toDate(k[0]);return null===e?NaN:m(e)})};n.date=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,0,7);if(3===k.length)return t(new Date(a.toNumber(k[0]),a.toNumber(k[1]),a.toNumber(k[2]),0,0,0,0));if(4===k.length)return t(new Date(a.toNumber(k[0]),a.toNumber(k[1]),
a.toNumber(k[2]),a.toNumber(k[3]),0,0,0));if(5===k.length)return t(new Date(a.toNumber(k[0]),a.toNumber(k[1]),a.toNumber(k[2]),a.toNumber(k[3]),a.toNumber(k[4]),0,0));if(6===k.length)return t(new Date(a.toNumber(k[0]),a.toNumber(k[1]),a.toNumber(k[2]),a.toNumber(k[3]),a.toNumber(k[4]),a.toNumber(k[5]),0));if(7===k.length)return t(new Date(a.toNumber(k[0]),a.toNumber(k[1]),a.toNumber(k[2]),a.toNumber(k[3]),a.toNumber(k[4]),a.toNumber(k[5]),a.toNumber(k[6])));if(2===k.length){e=a.toString(k[1]);if(""===
e)return null;e=a.standardiseDateFormat(e);k=a.MomentLibrary.Moment(a.toString(k[0]),e,!0);return!0===k.isValid()?k.toDate():null}if(1===k.length){if(a.isString(k[0])){if(""===k[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(k[0]))return a.toDate(k[0]+"-01-01")}e=a.toNumber(k[0]);return!1===isNaN(e)?t(new Date(e)):a.toDate(k[0])}if(0===k.length)return new Date})};n.datediff=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,2,3);e=a.toDateM(k[0]);
f=a.toDateM(k[1]);if(null===e||null===f)return NaN;switch(a.toString(k[2]).toLowerCase()){case "days":case "day":case "d":return e.diff(f,"days",!0);case "months":case "month":return e.diff(f,"months",!0);case "minutes":case "minute":case "m":return"M"===k[2]?e.diff(f,"months",!0):e.diff(f,"minutes",!0);case "seconds":case "second":case "s":return e.diff(f,"seconds",!0);case "milliseconds":case "millisecond":case "ms":return e.diff(f);case "hours":case "hour":case "h":return e.diff(f,"hours",!0);
case "years":case "year":case "y":return e.diff(f,"years",!0);default:return e.diff(f)}})};n.dateadd=function(c,b){return h(c,b,function(e,f,k){a.pcCheck(k,2,3);e=a.toDateM(k[0]);if(null===e)return null;f="milliseconds";switch(a.toString(k[2]).toLowerCase()){case "days":case "day":case "d":f="days";break;case "months":case "month":f="months";break;case "minutes":case "minute":case "m":f="M"===k[2]?"months":"minutes";break;case "seconds":case "second":case "s":f="seconds";break;case "milliseconds":case "millisecond":case "ms":f=
"milliseconds";break;case "hours":case "hour":case "h":f="hours";break;case "years":case "year":case "y":f="years"}e.add(a.toNumber(k[1]),f);return e.toDate()})}}})},"esri/arcade/functions/geometry":function(){define("require exports ../Dictionary ../Feature ../ImmutablePointArray ../languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/jsonUtils".split(" "),function(G,A,a,
m,p,t,n,h,c,b,e,f,k,u){Object.defineProperty(A,"__esModule",{value:!0});A.registerFunctions=void 0;A.registerFunctions=function(v,g){v.ringisclockwise=function(q,x){return g(q,x,function(w,B,z){t.pcCheck(z,1,1);w=[];if(null===z[0])return!1;if(t.isArray(z[0])){var C=0;for(z=z[0];C<z.length;C++)if(B=z[C],B instanceof b)w.push([B.x,B.y]);else throw Error("Invalid Argument");}else if(z[0]instanceof p)w=z[0]._elements;else if(t.isImmutableArray(z[0])){C=0;for(var y=z[0].toArray();C<y.length;C++)if(B=y[C],
B instanceof b)w.push([B.x,B.y]);else throw Error("Invalid Argument");0<w.length&&(z[0].get(0),z[0].get(0))}else throw Error("Invalid Argument");return 3>w.length?!1:(new e({rings:[],spatialReference:{wkid:4326}})).isClockwise(w)})};v.polygon=function(q,x){return g(q,x,function(w,B,z){t.pcCheck(z,1,1);w=null;if(z[0]instanceof a){if(w=t.fixSpatialReference(m.parseGeometryFromDictionary(z[0]),q.spatialReference),!1===w instanceof e)throw Error("Illegal Parameter");}else w=z[0]instanceof e?u.fromJson(z[0].toJson()):
t.fixSpatialReference(new e(JSON.parse(z[0])),q.spatialReference);if(null!==w&&!1===w.spatialReference.equals(q.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return t.fixNullGeometry(w)})};v.polyline=function(q,x){return g(q,x,function(w,B,z){t.pcCheck(z,1,1);w=null;if(z[0]instanceof a){if(w=t.fixSpatialReference(m.parseGeometryFromDictionary(z[0]),q.spatialReference),!1===w instanceof f)throw Error("Illegal Parameter");
}else w=z[0]instanceof f?u.fromJson(z[0].toJson()):t.fixSpatialReference(new f(JSON.parse(z[0])),q.spatialReference);if(null!==w&&!1===w.spatialReference.equals(q.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return t.fixNullGeometry(w)})};v.point=function(q,x){return g(q,x,function(w,B,z){t.pcCheck(z,1,1);w=null;if(z[0]instanceof a){if(w=t.fixSpatialReference(m.parseGeometryFromDictionary(z[0]),q.spatialReference),
!1===w instanceof b)throw Error("Illegal Parameter");}else w=z[0]instanceof b?u.fromJson(z[0].toJson()):t.fixSpatialReference(new b(JSON.parse(z[0])),q.spatialReference);if(null!==w&&!1===w.spatialReference.equals(q.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return t.fixNullGeometry(w)})};v.multipoint=function(q,x){return g(q,x,function(w,B,z){t.pcCheck(z,1,1);w=null;if(z[0]instanceof a){if(w=t.fixSpatialReference(m.parseGeometryFromDictionary(z[0]),
q.spatialReference),!1===w instanceof c)throw Error("Illegal Parameter");}else w=z[0]instanceof c?u.fromJson(z[0].toJson()):t.fixSpatialReference(new c(JSON.parse(z[0])),q.spatialReference);if(null!==w&&!1===w.spatialReference.equals(q.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return t.fixNullGeometry(w)})};v.extent=function(q,x){return g(q,x,function(w,B,z){z=t.autoCastFeatureToGeometry(z);t.pcCheck(z,1,1);w=null;
z[0]instanceof a?w=t.fixSpatialReference(m.parseGeometryFromDictionary(z[0]),q.spatialReference):z[0]instanceof b?(w={xmin:z[0].x,ymin:z[0].y,xmax:z[0].x,ymax:z[0].y,spatialReference:z[0].spatialReference.toJson()},z=z[0],z.hasZ?(w.zmin=z.z,w.zmax=z.z):z.hasM&&(w.mmin=z.m,w.mmax=z.m),w=u.fromJson(w)):w=z[0]instanceof e?u.fromJson(z[0].getExtent().toJson()):z[0]instanceof f?u.fromJson(z[0].getExtent().toJson()):z[0]instanceof c?u.fromJson(z[0].getExtent().toJson()):z[0]instanceof n?u.fromJson(z[0].toJson()):
t.fixSpatialReference(new n(JSON.parse(z[0])),q.spatialReference);if(null!==w&&!1===w.spatialReference.equals(q.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return t.fixNullGeometry(w)})};v.geometry=function(q,x){return g(q,x,function(w,B,z){t.pcCheck(z,1,1);w=null;w=z[0]instanceof m?t.fixSpatialReference(z[0].geometry(),q.spatialReference):z[0]instanceof a?t.fixSpatialReference(m.parseGeometryFromDictionary(z[0]),
q.spatialReference):t.fixSpatialReference(u.fromJson(JSON.parse(z[0])),q.spatialReference);if(null!==w&&!1===w.spatialReference.equals(q.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return t.fixNullGeometry(w)})};v.setgeometry=function(q,x){return g(q,x,function(w,B,z){t.pcCheck(z,2,2);if(z[0]instanceof m){if(!0===z[0].immutable)throw Error("Feature is Immutable");if(z[1]instanceof h||null===z[1])z[0]._geometry=z[1];
else throw Error("Illegal Argument");}else throw Error("Illegal Argument");return t.voidOperation})};v.feature=function(q,x){return g(q,x,function(w,B,z){if(0===z.length)throw Error("Missing Parameters");w=null;if(1===z.length)if(t.isString(z[0]))w=m.fromJson(JSON.parse(z[0]));else if(z[0]instanceof m)w=m.createFromArcadeFeature(z[0]);else if(z[0]instanceof h)w=m.createFromGraphicLikeObject(z[0],null,null);else if(z[0]instanceof a)w=z[0].hasField("geometry")?z[0].field("geometry"):null,B=z[0].hasField("attributes")?
z[0].field("attributes"):null,null!==w&&w instanceof a&&(w=m.parseGeometryFromDictionary(w)),null!==B&&(B=m.parseAttributesFromDictionary(B)),w=m.createFromGraphicLikeObject(w,B,null);else throw Error("Illegal Argument");else{if(2===z.length){B=w=null;if(null!==z[0])if(z[0]instanceof h)w=z[0];else if(w instanceof a)w=m.parseGeometryFromDictionary(z[0]);else throw Error("Illegal Argument");if(null!==z[1])if(z[1]instanceof a)B=m.parseAttributesFromDictionary(z[1]);else throw Error("Illegal Argument");
}else{w=null;B={};if(null!==z[0])if(z[0]instanceof h)w=z[0];else if(w instanceof a)w=m.parseGeometryFromDictionary(z[0]);else throw Error("Illegal Argument");for(var C=1;C<z.length;C+=2){var y=t.toString(z[C]),D=z[C+1];if(null===D||void 0===D||t.isString(D)||isNaN(D)||t.isDate(D)||t.isNumber(D)||t.isBoolean(D)){if(t.isFunctionParameter(D)||!1===t.isSimpleType(D))throw Error("Illegal Argument");B[y]=D===t.voidOperation?null:D}else throw Error("Illegal Argument");}}w=m.createFromGraphicLikeObject(w,
B,null)}w._geometry=t.fixSpatialReference(w.geometry(),q.spatialReference);w.immutable=!1;return w})};v.dictionary=function(q,x){return g(q,x,function(w,B,z){if(0===z.length)return z=new a,z.immutable=!1,z;if(1===z.length&&t.isString(z[0]))try{var C=JSON.parse(z[0]),y=a.convertObjectToArcadeDictionary(C);y.immutable=!1;return y}catch(D){throw Error("Missing Parameters or Illegal Json");}if(0!==z.length%2)throw Error("Missing Parameters");w={};for(B=0;B<z.length;B+=2)if(C=t.toString(z[B]),y=z[B+1],
null===y||void 0===y||t.isString(y)||isNaN(y)||t.isDate(y)||t.isNumber(y)||t.isBoolean(y)||t.isArray(y)||t.isImmutableArray(y)){if(t.isFunctionParameter(y))throw Error("Illegal Argument");w[C]=y===t.voidOperation?null:y}else throw Error("Illegal Argument");z=new a(w);z.immutable=!1;return z})};v.haskey=function(q,x){return g(q,x,function(w,B,z){t.pcCheck(z,2,2);w=t.toString(z[1]);if(z[0]instanceof m||z[0]instanceof a)return z[0].hasField(w);throw Error("Illegal Argument");})};v.indexof=function(q,
x){return g(q,x,function(w,B,z){t.pcCheck(z,2,2);w=z[1];if(t.isArray(z[0])){for(B=0;B<z[0].length;B++)if(t.equalityTest(w,z[0][B]))return B;return-1}if(t.isImmutableArray(z[0])){var C=z[0].length();for(B=0;B<C;B++)if(t.equalityTest(w,z[0].get(B)))return B;return-1}throw Error("Illegal Argument");})};v.angle=function(q,x){return g(q,x,function(w,B,z){z=t.autoCastFeatureToGeometry(z);t.pcCheck(z,2,3);if(!(z[0]instanceof b))throw Error("Illegal Argument");if(!(z[1]instanceof b))throw Error("Illegal Argument");
if(2<z.length&&!(z[2]instanceof b))throw Error("Illegal Argument");return 2===z.length?k.angle2D(z[0],z[1]):k.angleBetween2D(z[0],z[1],z[2])})};v.bearing=function(q,x){return g(q,x,function(w,B,z){z=t.autoCastFeatureToGeometry(z);t.pcCheck(z,2,3);if(!(z[0]instanceof b))throw Error("Illegal Argument");if(!(z[1]instanceof b))throw Error("Illegal Argument");if(2<z.length&&!(z[2]instanceof b))throw Error("Illegal Argument");return 2===z.length?k.bearing2D(z[0],z[1]):k.bearingBetween2D(z[0],z[1],z[2])})};
v.isselfintersecting=function(q,x){return g(q,x,function(w,B,z){z=t.autoCastFeatureToGeometry(z);t.pcCheck(z,1,1);w=z[0];if(w instanceof e)return w.isSelfIntersecting(w);if(w instanceof f)return w=w.paths,k.pathsSelfIntersecting(w);if(w instanceof c)for(B=w.points,z=0;z<B.length;z++)for(var C=0;C<B.length;C++)if(C!==z){for(var y=!0,D=0;D<B[z].length;D++)if(B[z][D]!==B[C][D]){y=!1;break}if(!0===y)return!0}return t.isArray(w)||t.isImmutableArray(w)?(w=t.autoCastArrayOfPointsToPolyline(w,q.spatialReference),
null!==w&&(w=w.paths),k.pathsSelfIntersecting(w)):!1})}}})},"esri/arcade/functions/centroid":function(){define(["require","exports","../../geometry/Point"],function(G,A,a){function m(e,f,k){var u={x:0,y:0};f&&(u.z=0);k&&(u.m=0);for(var v=0,g=e[0],q=0;q<e.length;q++){var x=e[q];a:if(x.length!==g.length)var w=!1;else{for(w=0;w<x.length;w++)if(x[w]!==g[w]){w=!1;break a}w=!0}if(!1===w){w=p(g,x,f);var B=x,z=f,C=k,y={x:(g[0]+B[0])/2,y:(g[1]+B[1])/2};z&&(y.z=(g[2]+B[2])/2);z&&C?y.m=(g[3]+B[3])/2:C&&(y.m=
(g[2]+B[2])/2);g=y;g.x*=w;g.y*=w;u.x+=g.x;u.y+=g.y;f&&(g.z*=w,u.z+=g.z);k&&(g.m*=w,u.m+=g.m);v+=w;g=x}}0<v?(u.x/=v,u.y/=v,f&&(u.z/=v),k&&(u.m/=v)):(u.x=e[0][0],u.y=e[0][1],f&&(u.z=e[0][2]),k&&f?u.m=e[0][3]:k&&(u.m=e[0][2]));return u}function p(e,f,k){var u=f[0]-e[0];e=f[1]-e[1];return k?(f=f[2]-f[2],Math.sqrt(u*u+e*e+f*f)):Math.sqrt(u*u+e*e)}function t(e,f,k){for(void 0===k&&(k=0);e<k;)e+=f;for(k+=f;e>=k;)e-=f;return e}function n(e,f){return Math.atan2(f.y-e.y,f.x-e.x)}function h(e,f,k){var u=e.x-
f.x;e=e.y-f.y;var v=k.x-f.x;f=k.y-f.y;return Math.atan2(u*f-v*e,u*v+e*f)}function c(e,f,k,u,v){var g=e[0];e=e[1];var q=f[0];f=f[1];var x=k[0],w=k[1];k=u[0]-x;x=g-x;var B=q-g;u=u[1]-w;w=e-w;var z=f-e,C=u*B-k*z;if(0===C)return!1;k=(k*w-u*x)/C;x=(B*w-z*x)/C;return 0<=k&&1>=k&&0<=x&&1>=x?(v&&(v[0]=g+k*(q-g),v[1]=e+k*(f-e)),!0):!1}Object.defineProperty(A,"__esModule",{value:!0});A.pathsSelfIntersecting=A.bearingBetween2D=A.angleBetween2D=A.angleBetweenRad=A.bearing2D=A.angle2D=A.angleRad=A.centroidMultiPoint=
A.centroidPolyline=void 0;A.centroidPolyline=function(e){for(var f={x:0,y:0,spatialReference:e.spatialReference.toJson()},k={x:0,y:0,spatialReference:e.spatialReference.toJson()},u=0,v=0,g=0;g<e.paths.length;g++)if(0!==e.paths[g].length){var q=e.paths[g];var x=!0===e.hasZ;if(1>=q.length)q=0;else{for(var w=0,B=1;B<q.length;B++)w+=p(q[B-1],q[B],x);q=w}0===q?(x=m(e.paths[g],!0===e.hasZ,!0===e.hasM),f.x+=x.x,f.y+=x.y,!0===e.hasZ&&(f.z+=x.z),!0===e.hasM&&(f.m+=x.m),++u):(x=m(e.paths[g],!0===e.hasZ,!0===
e.hasM),k.x+=x.x*q,k.y+=x.y*q,!0===e.hasZ&&(k.z+=x.z*q),!0===e.hasM&&(k.m+=x.m*q),v+=q)}return 0<v?(k.x/=v,k.y/=v,!0===e.hasZ&&(k.z/=v),!0===e.hasM&&(k.m/=v),new a(k)):0<u?(f.x/=u,f.y/=u,!0===e.hasZ&&(k.z/=u),!0===e.hasM&&(f.m/=u),new a(f)):null};A.centroidMultiPoint=function(e){if(0===e.points.length)return null;for(var f=0,k=0,u=0,v=0,g=0;g<e.points.length;g++){var q=e.getPoint(g);!0===q.hasZ&&(u+=q.z);!0===q.hasM&&(v+=q.m);f+=q.x;k+=q.y;v+=q.m}f={x:f/e.points.length,y:k/e.points.length,spatialReference:null};
f.spatialReference=e.spatialReference.toJson();!0===e.hasZ&&(f.z=u/e.points.length);!0===e.hasM&&(f.m=v/e.points.length);return new a(f)};A.angleRad=n;A.angle2D=function(e,f){return t(n(e,f),2*Math.PI)*(180/Math.PI)};A.bearing2D=function(e,f){return t(Math.PI/2-n(e,f),2*Math.PI)*(180/Math.PI)};A.angleBetweenRad=h;A.angleBetween2D=function(e,f,k){return t(h(e,f,k),2*Math.PI)*(180/Math.PI)};A.bearingBetween2D=function(e,f,k){return t(-1*h(e,f,k),2*Math.PI)*(180/Math.PI)};var b=[0,0];A.pathsSelfIntersecting=
function(e){for(var f=0;f<e.length;f++){for(var k=e[f],u=0;u<k.length-1;u++)for(var v=k[u],g=k[u+1],q=f+1;q<e.length;q++)for(var x=0;x<e[q].length-1;x++){var w=e[q][x],B=e[q][x+1],z=c(v,g,w,B,b);if(z&&!(b[0]===v[0]&&b[1]===v[1]||b[0]===w[0]&&b[1]===w[1]||b[0]===g[0]&&b[1]===g[1]||b[0]===B[0]&&b[1]===B[1]))return!0}x=k.length;if(!(3>x))for(u=0;u<=x-2;u++)for(v=k[u],g=k[u+1],q=u+2;q<=x-2;q++)if(w=k[q],B=k[q+1],(z=c(v,g,w,B,b))&&!(b[0]===v[0]&&b[1]===v[1]||b[0]===w[0]&&b[1]===w[1]||b[0]===g[0]&&b[1]===
g[1]||b[0]===B[0]&&b[1]===B[1]))return!0}return!1}})},"esri/arcade/functions/geomsync":function(){define("require exports ../../kernel ../kernel ../languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/jsonUtils".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k){function u(g){return 0===a.version.indexOf("4.")?e.fromExtent(g):new e({spatialReference:g.spatialReference,rings:[[[g.xmin,
g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]]]})}Object.defineProperty(A,"__esModule",{value:!0});A.registerFunctions=A.setGeometryEngine=void 0;var v=null;A.setGeometryEngine=function(g){v=g};A.registerFunctions=function(g,q){function x(w){p.pcCheck(w,2,2);if(!(w[0]instanceof h&&w[1]instanceof h||w[0]instanceof h&&null===w[1]||w[1]instanceof h&&null===w[0]||null===w[0]&&null===w[1]))throw Error("Illegal Argument");}g.disjoint=function(w,B){return q(w,B,function(z,C,y){y=
p.autoCastFeatureToGeometry(y);x(y);return null===y[0]||null===y[1]?!0:v.disjoint(y[0],y[1])})};g.intersects=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);x(y);return null===y[0]||null===y[1]?!1:v.intersects(y[0],y[1])})};g.touches=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);x(y);return null===y[0]||null===y[1]?!1:v.touches(y[0],y[1])})};g.crosses=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);x(y);return null===
y[0]||null===y[1]?!1:v.crosses(y[0],y[1])})};g.within=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);x(y);return null===y[0]||null===y[1]?!1:v.within(y[0],y[1])})};g.contains=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);x(y);return null===y[0]||null===y[1]?!1:v.contains(y[0],y[1])})};g.overlaps=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);x(y);return null===y[0]||null===y[1]?!1:v.overlaps(y[0],y[1])})};g.equals=
function(w,B){return q(w,B,function(z,C,y){p.pcCheck(y,2,2);return y[0]===y[1]?!0:y[0]instanceof h&&y[1]instanceof h?v.equals(y[0],y[1]):p.isDate(y[0])&&p.isDate(y[1])?y[0].getTime()===y[1].getTime():!1})};g.relate=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,3,3);if(y[0]instanceof h&&y[1]instanceof h)return v.relate(y[0],y[1],p.toString(y[2]));if(y[0]instanceof h&&null===y[1]||y[1]instanceof h&&null===y[0]||null===y[0]&&null===y[1])return!1;throw Error("Illegal Argument");
})};g.intersection=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);x(y);return null===y[0]||null===y[1]?null:v.intersect(y[0],y[1])})};g.union=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);z=[];if(0===y.length)throw Error("Function called with wrong number of Parameters");if(1===y.length)if(p.isArray(y[0]))for(y=p.autoCastFeatureToGeometry(y[0]),C=0;C<y.length;C++){if(null!==y[C]){if(!(y[C]instanceof h))throw Error("Illegal Argument");z.push(y[C])}}else if(p.isImmutableArray(y[0]))for(y=
p.autoCastFeatureToGeometry(y[0].toArray()),C=0;C<y.length;C++){if(null!==y[C]){if(!(y[C]instanceof h))throw Error("Illegal Argument");z.push(y[C])}}else{if(y[0]instanceof h)return p.fixSpatialReference(m.cloneGeometry(y[0]),w.spatialReference);if(null===y[0])return null;throw Error("Illegal Argument");}else for(C=0;C<y.length;C++)if(null!==y[C]){if(!(y[C]instanceof h))throw Error("Illegal Argument");z.push(y[C])}return 0===z.length?null:v.union(z)})};g.difference=function(w,B){return q(w,B,function(z,
C,y){y=p.autoCastFeatureToGeometry(y);x(y);return null!==y[0]&&null===y[1]?m.cloneGeometry(y[0]):null===y[0]?null:v.difference(y[0],y[1])})};g.symmetricdifference=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);x(y);return null===y[0]&&null===y[1]?null:null===y[0]?m.cloneGeometry(y[1]):null===y[1]?m.cloneGeometry(y[0]):v.symmetricDifference(y[0],y[1])})};g.clip=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,2);if(!(y[1]instanceof
n)&&null!==y[1])throw Error("Illegal Argument");if(null===y[0])return null;if(!(y[0]instanceof h))throw Error("Illegal Argument");return null===y[1]?null:v.clip(y[0],y[1])})};g.cut=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,2);if(!(y[1]instanceof f)&&null!==y[1])throw Error("Illegal Argument");if(null===y[0])return[];if(!(y[0]instanceof h))throw Error("Illegal Argument");return null===y[1]?[m.cloneGeometry(y[0])]:v.cut(y[0],y[1])})};g.area=function(w,
B){return q(w,B,function(z,C,y){p.pcCheck(y,1,2);y=p.autoCastFeatureToGeometry(y);if(null===y[0])return 0;if(p.isArray(y[0])||p.isImmutableArray(y[0]))return z=p.autoCastArrayOfPointsToPolygon(y[0],w.spatialReference),null===z?0:v.planarArea(z,m.convertSquareUnitsToCode(p.defaultUndefined(y[1],-1)));if(!(y[0]instanceof h))throw Error("Illegal Argument");return v.planarArea(y[0],m.convertSquareUnitsToCode(p.defaultUndefined(y[1],-1)))})};g.areageodetic=function(w,B){return q(w,B,function(z,C,y){p.pcCheck(y,
1,2);y=p.autoCastFeatureToGeometry(y);if(null===y[0])return 0;if(p.isArray(y[0])||p.isImmutableArray(y[0]))return z=p.autoCastArrayOfPointsToPolygon(y[0],w.spatialReference),null===z?0:v.geodesicArea(z,m.convertSquareUnitsToCode(p.defaultUndefined(y[1],-1)));if(!(y[0]instanceof h))throw Error("Illegal Argument");return v.geodesicArea(y[0],m.convertSquareUnitsToCode(p.defaultUndefined(y[1],-1)))})};g.length=function(w,B){return q(w,B,function(z,C,y){p.pcCheck(y,1,2);y=p.autoCastFeatureToGeometry(y);
if(null===y[0])return 0;if(p.isArray(y[0])||p.isImmutableArray(y[0]))return z=p.autoCastArrayOfPointsToPolyline(y[0],w.spatialReference),null===z?0:v.planarLength(z,m.convertLinearUnitsToCode(p.defaultUndefined(y[1],-1)));if(!(y[0]instanceof h))throw Error("Illegal Argument");return v.planarLength(y[0],m.convertLinearUnitsToCode(p.defaultUndefined(y[1],-1)))})};g.lengthgeodetic=function(w,B){return q(w,B,function(z,C,y){p.pcCheck(y,1,2);y=p.autoCastFeatureToGeometry(y);if(null===y[0])return 0;if(p.isArray(y[0])||
p.isImmutableArray(y[0]))return z=p.autoCastArrayOfPointsToPolyline(y[0],w.spatialReference),null===z?0:v.geodesicLength(z,m.convertLinearUnitsToCode(p.defaultUndefined(y[1],-1)));if(!(y[0]instanceof h))throw Error("Illegal Argument");return v.geodesicLength(y[0],m.convertLinearUnitsToCode(p.defaultUndefined(y[1],-1)))})};g.distance=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,3);z=y[0];if(p.isArray(y[0])||p.isImmutableArray(y[0]))z=p.autoCastArrayOfPointsToMultiPoint(y[0],
w.spatialReference);C=y[1];if(p.isArray(y[1])||p.isImmutableArray(y[1]))C=p.autoCastArrayOfPointsToMultiPoint(y[1],w.spatialReference);if(!(z instanceof h))throw Error("Illegal Argument");if(!(C instanceof h))throw Error("Illegal Argument");return v.distance(z,C,m.convertLinearUnitsToCode(p.defaultUndefined(y[2],-1)))})};g.distancegeodetic=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,3);z=y[0];C=y[1];if(!(z instanceof b))throw Error("Illegal Argument");
if(!(C instanceof b))throw Error("Illegal Argument");var D=new f({paths:[],spatialReference:z.spatialReference});D.addPath([z,C]);return v.geodesicLength(D,m.convertLinearUnitsToCode(p.defaultUndefined(y[2],-1)))})};g.densify=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,3);if(null===y[0])return null;if(!(y[0]instanceof h))throw Error("Illegal Argument");z=p.toNumber(y[1]);if(isNaN(z))throw Error("Illegal Argument");if(0>=z)throw Error("Illegal Argument");
return y[0]instanceof e||y[0]instanceof f?v.densify(y[0],z,m.convertLinearUnitsToCode(p.defaultUndefined(y[2],-1))):y[0]instanceof n?v.densify(u(y[0]),z,m.convertLinearUnitsToCode(p.defaultUndefined(y[2],-1))):y[0]})};g.densifygeodetic=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,3);if(null===y[0])return null;if(!(y[0]instanceof h))throw Error("Illegal Argument");z=p.toNumber(y[1]);if(isNaN(z))throw Error("Illegal Argument");if(0>=z)throw Error("Illegal Argument");
return y[0]instanceof e||y[0]instanceof f?v.geodesicDensify(y[0],z,m.convertLinearUnitsToCode(p.defaultUndefined(y[2],-1))):y[0]instanceof n?v.geodesicDensify(u(y[0]),z,m.convertLinearUnitsToCode(p.defaultUndefined(y[2],-1))):y[0]})};g.generalize=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,4);if(null===y[0])return null;if(!(y[0]instanceof h))throw Error("Illegal Argument");z=p.toNumber(y[1]);if(isNaN(z))throw Error("Illegal Argument");return v.generalize(y[0],
z,p.toBoolean(p.defaultUndefined(y[2],!0)),m.convertLinearUnitsToCode(p.defaultUndefined(y[3],-1)))})};g.buffer=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,3);if(null===y[0])return null;if(!(y[0]instanceof h))throw Error("Illegal Argument");z=p.toNumber(y[1]);if(isNaN(z))throw Error("Illegal Argument");return 0===z?m.cloneGeometry(y[0]):v.buffer(y[0],z,m.convertLinearUnitsToCode(p.defaultUndefined(y[2],-1)))})};g.buffergeodetic=function(w,B){return q(w,
B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,3);if(null===y[0])return null;if(!(y[0]instanceof h))throw Error("Illegal Argument");z=p.toNumber(y[1]);if(isNaN(z))throw Error("Illegal Argument");return 0===z?m.cloneGeometry(y[0]):v.geodesicBuffer(y[0],z,m.convertLinearUnitsToCode(p.defaultUndefined(y[2],-1)))})};g.offset=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,6);if(null===y[0])return null;if(!(y[0]instanceof e||y[0]instanceof f))throw Error("Illegal Argument");
z=p.toNumber(y[1]);if(isNaN(z))throw Error("Illegal Argument");C=p.toNumber(p.defaultUndefined(y[4],10));if(isNaN(C))throw Error("Illegal Argument");var D=p.toNumber(p.defaultUndefined(y[5],0));if(isNaN(D))throw Error("Illegal Argument");return v.offset(y[0],z,m.convertLinearUnitsToCode(p.defaultUndefined(y[2],-1)),p.toString(p.defaultUndefined(y[3],"round")).toLowerCase(),C,D)})};g.rotate=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,2,3);z=y[0];if(null===
z)return null;if(!(z instanceof h))throw Error("Illegal Argument");z instanceof n&&(z=e.fromExtent(z));C=p.toNumber(y[1]);if(isNaN(C))throw Error("Illegal Argument");y=p.defaultUndefined(y[2],null);if(null===y)return v.rotate(z,C);if(y instanceof b)return v.rotate(z,C,y);throw Error("Illegal Argument");})};g.centroid=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,1,1);if(null===y[0])return null;z=y[0];if(p.isArray(y[0])||p.isImmutableArray(y[0]))z=p.autoCastArrayOfPointsToMultiPoint(y[0],
w.spatialReference);if(null===z)return null;if(!(z instanceof h))throw Error("Illegal Argument");return z instanceof b?p.fixSpatialReference(m.cloneGeometry(y[0]),w.spatialReference):z instanceof e?z.getCentroid():z instanceof f?t.centroidPolyline(z):z instanceof c?t.centroidMultiPoint(z):z instanceof n?z.getCenter():null})};g.multiparttosinglepart=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,1,1);C=[];if(null===y[0])return null;if(!(y[0]instanceof h))throw Error("Illegal Argument");
if(y[0]instanceof b||y[0]instanceof n)return[p.fixSpatialReference(m.cloneGeometry(y[0]),w.spatialReference)];z=v.simplify(y[0]);if(z instanceof e){C=[];var D=[];for(y=0;y<z.rings.length;y++)if(z.isClockwise(z.rings[y])){var F=k.fromJson({rings:[z.rings[y]],hasZ:!0===z.hasZ,hasM:!0===z.hasM,spatialReference:z.spatialReference.toJson()});C.push(F)}else D.push({ring:z.rings[y],pt:z.getPoint(y,0)});for(z=0;z<D.length;z++)for(y=0;y<C.length;y++)if(C[y].contains(D[z].pt)){C[y].addRing(D[z].ring);break}return C}if(z instanceof
f){C=[];for(y=0;y<z.paths.length;y++)D=k.fromJson({paths:[z.paths[y]],hasZ:!0===z.hasZ,hasM:!0===z.hasM,spatialReference:z.spatialReference.toJson()}),C.push(D);return C}if(y[0]instanceof c){z=p.fixSpatialReference(m.cloneGeometry(y[0]),w.spatialReference);for(y=0;y<z.points.length;y++)C.push(z.getPoint(y));return C}return null})};g.issimple=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,1,1);if(null===y[0])return!0;if(!(y[0]instanceof h))throw Error("Illegal Argument");
return v.isSimple(y[0])})};g.simplify=function(w,B){return q(w,B,function(z,C,y){y=p.autoCastFeatureToGeometry(y);p.pcCheck(y,1,1);if(null===y[0])return null;if(!(y[0]instanceof h))throw Error("Illegal Argument");return v.simplify(y[0])})}}})},"esri/arcade/kernel":function(){define(["require","exports","../geometry/Extent","../geometry/jsonUtils"],function(G,A,a,m){Object.defineProperty(A,"__esModule",{value:!0});A.cloneGeometry=A.sameGeomType=A.convertLinearUnitsToCode=A.shapeExtent=A.convertSquareUnitsToCode=
void 0;A.convertSquareUnitsToCode=function(p){if(void 0===p)return null;if("number"===typeof p)return p;switch(p.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 109414;
case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 109405}return null};A.shapeExtent=function(p){if(null===p)return null;switch(p.type){case "polygon":case "multipoint":case "polyline":return p.extent;case "point":return new a({xmin:p.x,
ymin:p.y,xmax:p.x,ymax:p.y,spatialReference:p.spatialReference});case "extent":return p}return null};A.convertLinearUnitsToCode=function(p){if(void 0===p)return null;if("number"===typeof p||"number"===typeof p)return p;switch(p.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 9035;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 9036;
case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 9002}return null};A.sameGeomType=function(p,t){return p===t||"point"===p&&"esriGeometryPoint"===t||"polyline"===p&&"esriGeometryPolyline"===t||"polygon"===p&&"esriGeometryPolygon"===t||"extent"===p&&"esriGeometryEnvelope"===t||"multipoint"===p&&"esriGeometryMultipoint"===
t||"point"===t&&"esriGeometryPoint"===p||"polyline"===t&&"esriGeometryPolyline"===p||"polygon"===t&&"esriGeometryPolygon"===p||"extent"===t&&"esriGeometryEnvelope"===p||"multipoint"===t&&"esriGeometryMultipoint"===p?!0:!1};A.cloneGeometry=function(p){if(null===p)return null;var t=m.fromJson(p.toJson());p.getCacheValue("_geVersion")&&t.setCacheValue("_geVersion",p.getCacheValue("_geVersion"));return t}})},"esri/arcade/functions/maths":function(){define(["require","exports","../languageUtils","dojo/number"],
function(G,A,a,m){function p(t,n,h){if("undefined"===typeof h||0===+h)return Math[t](n);n=+n;h=+h;if(isNaN(n)||"number"!==typeof h||0!==h%1)return NaN;n=n.toString().split("e");n=Math[t](+(n[0]+"e"+(n[1]?+n[1]-h:-h)));n=n.toString().split("e");return+(n[0]+"e"+(n[1]?+n[1]+h:h))}Object.defineProperty(A,"__esModule",{value:!0});A.registerFunctions=void 0;A.registerFunctions=function(t,n){function h(c,b,e){c=a.toNumber(c);return isNaN(c)?c:isNaN(b)||isNaN(e)||b>e?NaN:c<b?b:c>e?e:c}t.number=function(c,
b){return n(c,b,function(e,f,k){a.pcCheck(k,1,2);e=k[0];return a.isNumber(e)?e:null===e?0:a.isDate(e)||a.isBoolean(e)?Number(e):a.isArray(e)?NaN:""===e||void 0===e?Number(e):a.isString(e)?void 0!==k[1]?(k=a.multiReplace(k[1],"\u2030",""),k=a.multiReplace(k,"\u00a4",""),m.parse(e,{pattern:k})):Number(e.trim()):Number(e)})};t.abs=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return Math.abs(a.toNumber(k[0]))})};t.acos=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return Math.acos(a.toNumber(k[0]))})};
t.asin=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return Math.asin(a.toNumber(k[0]))})};t.atan=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return Math.atan(a.toNumber(k[0]))})};t.atan2=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,2,2);return Math.atan2(a.toNumber(k[0]),a.toNumber(k[1]))})};t.ceil=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,2);return 2===k.length?(e=a.toNumber(k[1]),isNaN(e)&&(e=0),p("ceil",a.toNumber(k[0]),-1*e)):Math.ceil(a.toNumber(k[0]))})};
t.round=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,2);return 2===k.length?(e=a.toNumber(k[1]),isNaN(e)&&(e=0),p("round",a.toNumber(k[0]),-1*e)):Math.round(a.toNumber(k[0]))})};t.floor=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,2);return 2===k.length?(e=a.toNumber(k[1]),isNaN(e)&&(e=0),p("floor",a.toNumber(k[0]),-1*e)):Math.floor(a.toNumber(k[0]))})};t.cos=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return Math.cos(a.toNumber(k[0]))})};t.isnan=function(c,
b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return"number"===typeof k[0]&&isNaN(k[0])})};t.exp=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return Math.exp(a.toNumber(k[0]))})};t.log=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return Math.log(a.toNumber(k[0]))})};t.pow=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,2,2);return Math.pow(a.toNumber(k[0]),a.toNumber(k[1]))})};t.random=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,0,0);return Math.random()})};
t.sin=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return Math.sin(a.toNumber(k[0]))})};t.sqrt=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return Math.sqrt(a.toNumber(k[0]))})};t.tan=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return Math.tan(a.toNumber(k[0]))})};t.defaultvalue=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,2,2);return null===k[0]||""===k[0]||void 0===k[0]?k[1]:k[0]})};t.isempty=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,
1,1);return null===k[0]||""===k[0]||void 0===k[0]?!0:!1})};t["boolean"]=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,1,1);return a.toBoolean(k[0])})};t.constrain=function(c,b){return n(c,b,function(e,f,k){a.pcCheck(k,3,3);e=a.toNumber(k[1]);f=a.toNumber(k[2]);if(a.isArray(k[0])){var u=[],v=0;for(k=k[0];v<k.length;v++)u.push(h(k[v],e,f));return u}if(a.isImmutableArray(k[0])){u=[];for(v=0;v<k[0].length();v++)u.push(h(k[0].get(v),e,f));return u}return h(k[0],e,f)})}}})},"esri/arcade/functions/stats":function(){define(["require",
"exports","../languageUtils","./fieldStats"],function(G,A,a,m){function p(t,n,h,c){if(1===c.length){if(a.isArray(c[0]))return m.calculateStat(t,c[0],-1);if(a.isImmutableArray(c[0]))return m.calculateStat(t,c[0].toArray(),-1)}return m.calculateStat(t,c,-1)}Object.defineProperty(A,"__esModule",{value:!0});A.registerFunctions=void 0;A.registerFunctions=function(t,n){t.stdev=function(h,c){return n(h,c,function(b,e,f){return p("stdev",b,e,f)})};t.variance=function(h,c){return n(h,c,function(b,e,f){return p("variance",
b,e,f)})};t.average=function(h,c){return n(h,c,function(b,e,f){return p("mean",b,e,f)})};t.mean=function(h,c){return n(h,c,function(b,e,f){return p("mean",b,e,f)})};t.sum=function(h,c){return n(h,c,function(b,e,f){return p("sum",b,e,f)})};t.min=function(h,c){return n(h,c,function(b,e,f){return p("min",b,e,f)})};t.max=function(h,c){return n(h,c,function(b,e,f){return p("max",b,e,f)})};t.distinct=function(h,c){return n(h,c,function(b,e,f){return p("distinct",b,e,f)})};t.count=function(h,c){return n(h,
c,function(b,e,f){a.pcCheck(f,1,1);if(a.isArray(f[0])||a.isString(f[0]))return f[0].length;if(a.isImmutableArray(f[0]))return f[0].length();throw Error("Invalid Parameters for Count");})}}})},"esri/arcade/functions/fieldStats":function(){define(["require","exports","../languageUtils"],function(G,A,a){function m(t){for(var n=0,h=0;h<t.length;h++)n+=t[h];return n/t.length}function p(t){for(var n=m(t),h=0,c=0;c<t.length;c++)h+=Math.pow(n-t[c],2);return h/t.length}Object.defineProperty(A,"__esModule",
{value:!0});A.calculateStat=A.decodeStatType=void 0;A.decodeStatType=function(t){switch(t.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};A.calculateStat=function(t,n,h){void 0===h&&(h=1E3);switch(t.toLowerCase()){case "distinct":a:{t=h;h=[];for(var c={},b=[],e=0;e<n.length;e++){if(void 0!==
n[e]&&null!==n[e]&&n[e]!==a.voidOperation){var f=n[e];if(a.isNumber(f)||a.isString(f))void 0===c[f]&&(h.push(f),c[f]=1);else{for(var k=!1,u=0;u<b.length;u++)!0===a.equalityTest(b[u],f)&&(k=!0);!1===k&&(b.push(f),h.push(f))}}if(h.length>=t&&-1!==t){n=h;break a}}n=h}return n;case "avg":case "mean":return m(a.toNumberArray(n));case "min":return Math.min.apply(Math,a.toNumberArray(n));case "sum":n=a.toNumberArray(n);for(h=t=0;h<n.length;h++)t+=n[h];return t;case "max":return Math.max.apply(Math,a.toNumberArray(n));
case "stdev":case "stddev":return Math.sqrt(p(a.toNumberArray(n)));case "var":case "variance":return p(a.toNumberArray(n));case "count":return n.length}return 0}})},"esri/arcade/functions/string":function(){define("require exports ../ArcadePortal ../Attachment ../Dictionary ../Feature ../languageUtils ../featureset/support/shared ./hash ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../SpatialReference".split(" "),function(G,
A,a,m,p,t,n,h,c,b,e,f,k,u,v){function g(q,x,w){if(null===q)x.updateUint8Array([0,139]);else if(n.isArray(q)){x.updateUint8Array([61]);if(w.map.has(q))q=w.map.get(q),x.updateIntArray([q^61237541]);else{w.map.set(q,w.currentLength++);for(var B=0;B<q.length;B++){var z=q[B];g(z,x,w)}w.map.delete(q);w.currentLength--}x.updateUint8Array([199])}else if(n.isImmutableArray(q)){x.updateUint8Array([61]);if(w.map.has(q))q=w.map.get(q),x.updateIntArray([q^61237541]);else{w.map.set(q,w.currentLength++);B=0;for(var C=
q.toArray();B<C.length;B++)z=C[B],g(z,x,w);w.map.delete(q);w.currentLength--}x.updateUint8Array([199])}else if(n.isDate(q))x.updateIntArray([q.getTime()]),x.updateUint8Array([241]);else if(n.isString(q))x.updateIntArray([q.length]),x.updateWithString(q),x.updateUint8Array([41]);else if(n.isBoolean(q))x.updateUint8Array([!0===q?1:0,113]);else if(n.isNumber(q))x.updateFloatArray([q]),x.updateUint8Array([173]);else{if(q instanceof m)throw Error("Type not supported in Hash");if(q instanceof a)throw Error("Type not supported in Hash");
if(q instanceof p){x.updateUint8Array([223]);if(w.map.has(q))q=w.map.get(q),x.updateIntArray([q^61237541]);else{w.map.set(q,w.currentLength++);B=0;for(C=q.keys();B<C.length;B++)z=C[B],x.updateIntArray([z.length]),x.updateWithString(z),x.updateUint8Array([251]),z=q.field(z),g(z,x,w),x.updateUint8Array([239]);w.map.delete(q);w.currentLength--}x.updateUint8Array([73])}else{if(q instanceof t)throw Error("Type not supported in Hash");if(q instanceof f)x.updateIntArray([3833836621]),x.updateIntArray([0]),
x.updateFloatArray([q.x]),x.updateIntArray([1]),x.updateFloatArray([q.y]),x.updateIntArray([3765347959]),g(q.spatialReference.wkid,x,w);else if(q instanceof k){x.updateIntArray([1266616829]);for(B=0;B<q.rings.length;B++){C=q.rings[B];var y=[],D=null,F=null;for(z=0;z<C.length;z++){var H=q.getPoint(B,z);if(0===z)D=H;else if(F.x===H.x&&F.y===H.y)continue;F=H;z===C.length-1&&D.x===H.x&&D.y===H.y||y.push(H)}x.updateIntArray([1397116793,y.length]);for(z=0;z<y.length;z++)H=y[z],x.updateIntArray([3962308117,
z]),g(H,x,w),x.updateIntArray([2716288009]);x.updateIntArray([2278822459])}x.updateIntArray([3878477243]);g(q.spatialReference.wkid,x,w)}else if(q instanceof u){x.updateIntArray([4106883559]);for(B=0;B<q.paths.length;B++){C=q.paths[B];x.updateIntArray([1397116793,C.length]);for(z=0;z<C.length;z++)x.updateIntArray([3962308117,z]),g(q.getPoint(B,z),x,w),x.updateIntArray([2716288009]);x.updateIntArray([2278822459])}x.updateIntArray([2568784753]);g(q.spatialReference.wkid,x,w)}else if(q instanceof e){x.updateIntArray([588535921,
q.points.length]);for(z=0;z<q.points.length;z++)B=q.getPoint(z),x.updateIntArray([z]),g(B,x,w);x.updateIntArray([1700171621]);g(q.spatialReference.wkid,x,w)}else if(q instanceof b)x.updateIntArray([3483648373]),x.updateIntArray([0]),x.updateFloatArray([q.xmax]),x.updateIntArray([1]),x.updateFloatArray([q.xmin]),x.updateIntArray([2]),x.updateFloatArray([q.ymax]),x.updateIntArray([3]),x.updateFloatArray([q.ymin]),x.updateIntArray([3622027469]),g(q.spatialReference.wkid,x,w);else if(q instanceof v)x.updateIntArray([14]),
void 0!==q.wkid&&null!==q.wkid&&x.updateIntArray([q.wkid]),q.wkt&&x.updateWithString(q.wkt);else{if(n.isFunctionParameter(q))throw Error("Type not supported in Hash");if(n.isFeatureSet(q))throw Error("Type not supported in Hash");n.isFeatureSetCollection(q);throw Error("Type not supported in Hash");}}}}Object.defineProperty(A,"__esModule",{value:!0});A.registerFunctions=void 0;A.registerFunctions=function(q,x){q.portal=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);return new a(n.toString(y[0]))})};
q.trim=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);return n.toString(y[0]).trim()})};q.tohex=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);z=n.toNumber(y[0]);return isNaN(z)?z:z.toString(16)})};q.upper=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);return n.toString(y[0]).toUpperCase()})};q.proper=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,2);z=1;2===y.length&&"firstword"===n.toString(y[1]).toLowerCase()&&(z=2);C=/\s/;y=n.toString(y[0]);for(var D=
"",F=!0,H=0;H<y.length;H++){var E=y[H];C.test(E)?1===z&&(F=!0):E.toUpperCase()!==E.toLowerCase()&&(F?(E=E.toUpperCase(),F=!1):E=E.toLowerCase());D+=E}return D})};q.lower=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);return n.toString(y[0]).toLowerCase()})};q.guid=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,0,1);if(0<y.length)switch(n.toString(y[0]).toLowerCase()){case "digits":return n.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return n.generateUUID();
case "digits-hyphen-parentheses":return"("+n.generateUUID()+")"}return"{"+n.generateUUID()+"}"})};q.console=function(w,B){return x(w,B,function(z,C,y){0!==y.length&&(1===y.length?w.console(n.toString(y[0])):w.console(n.toString(y)));return n.voidOperation})};q.mid=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,2,3);z=n.toNumber(y[1]);if(isNaN(z))return"";0>z&&(z=0);if(2===y.length)return n.toString(y[0]).substr(z);C=n.toNumber(y[2]);if(isNaN(C))return"";0>C&&(C=0);return n.toString(y[0]).substr(z,
C)})};q.find=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,2,3);z=0;if(2<y.length){z=n.toNumber(n.defaultUndefined(y[2],0));if(isNaN(z))return-1;0>z&&(z=0)}return n.toString(y[1]).indexOf(n.toString(y[0]),z)})};q.left=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,2,2);z=n.toNumber(y[1]);if(isNaN(z))return"";0>z&&(z=0);return n.toString(y[0]).substr(0,z)})};q.right=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,2,2);z=n.toNumber(y[1]);if(isNaN(z))return"";0>z&&(z=0);return n.toString(y[0]).substr(-1*
z,z)})};q.split=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,2,4);z=n.toNumber(n.defaultUndefined(y[2],-1));C=n.toBoolean(n.defaultUndefined(y[3],!1));-1===z||null===z||!0===C?y=n.toString(y[0]).split(n.toString(y[1])):(isNaN(z)&&(z=-1),-1>z&&(z=-1),y=n.toString(y[0]).split(n.toString(y[1]),z));if(!1===C)return y;C=[];for(var D=0;D<y.length&&!(-1!==z&&C.length>=z);D++)""!==y[D]&&void 0!==y[D]&&C.push(y[D]);return C})};q.text=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,2);return n.toStringExplicit(y[0],
y[1])})};q.concatenate=function(w,B){return x(w,B,function(z,C,y){z=[];if(1>y.length)return"";if(n.isArray(y[0])){C=n.defaultUndefined(y[2],"");for(var D=0;D<y[0].length;D++)z[D]=n.toStringExplicit(y[0][D],C);return 1<y.length?z.join(y[1]):z.join("")}if(n.isImmutableArray(y[0])){C=n.defaultUndefined(y[2],"");for(D=0;D<y[0].length();D++)z[D]=n.toStringExplicit(y[0].get(D),C);return 1<y.length?z.join(y[1]):z.join("")}for(D=0;D<y.length;D++)z[D]=n.toStringExplicit(y[D]);return z.join("")})};q.reverse=
function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);if(n.isArray(y[0]))return z=y[0].slice(0),z.reverse(),z;if(n.isImmutableArray(y[0]))return z=y[0].toArray().slice(0),z.reverse(),z;throw Error("Invalid Parameter");})};q.replace=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,3,4);z=n.toString(y[0]);C=n.toString(y[1]);var D=n.toString(y[2]);return(4===y.length?n.toBoolean(y[3]):1)?n.multiReplace(z,C,D):z.replace(C,D)})};q.schema=function(w,B){return x(w,B,function(z,C,y){if(y[0]instanceof
t)return(z=y[0].schema())?p.convertObjectToArcadeDictionary(z):null;throw Error("Invalid Parameter");})};q.subtypes=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);if(y[0]instanceof t)return(z=y[0].subtypes())?p.convertObjectToArcadeDictionary(z):null;throw Error("Invalid Parameter");})};q.subtypecode=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);if(y[0]instanceof t){C=y[0].subtypes();if(!C)return null;if(C.subtypeField&&y[0].hasField(C.subtypeField))for(y=y[0].field(C.subtypeField),
z=0,C=C.subtypes;z<C.length;z++){var D=C[z];if(D.code===y)return D.code}return null}throw Error("Invalid Parameter");})};q.subtypename=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);if(y[0]instanceof t){C=y[0].subtypes();if(!C)return"";if(C.subtypeField&&y[0].hasField(C.subtypeField))for(y=y[0].field(C.subtypeField),z=0,C=C.subtypes;z<C.length;z++){var D=C[z];if(D.code===y)return D.name}return""}throw Error("Invalid Parameter");})};q.gdbversion=function(w,B){return x(w,B,function(z,C,
y){n.pcCheck(y,1,1);if(y[0]instanceof t)return y[0].gdbVersion();throw Error("Invalid Parameter");})};q.domain=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,2,3);if(y[0]instanceof t)return(z=y[0].fullDomain(n.toString(y[1]),void 0===y[2]?void 0:n.toNumber(y[2])))&&z.domain?"coded-value"===z.domain.type||"codedValue"===z.domain.type?p.convertObjectToArcadeDictionary({type:"codedValue",name:z.domain.name,dataType:h.layerFieldEsriConstants[z.field.type],codedValues:z.domain.codedValues.map(function(D){return{name:D.name,
code:D.code}})}):p.convertObjectToArcadeDictionary({type:"range",name:z.domain.name,dataType:h.layerFieldEsriConstants[z.field.type],min:z.domain.min,max:z.domain.max}):null;throw Error("Invalid Parameter");})};q.domainname=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,2,4);if(y[0]instanceof t)return y[0].domainValueLookup(n.toString(y[1]),y[2],void 0===y[3]?void 0:n.toNumber(y[3]));throw Error("Invalid Parameter");})};q.domaincode=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,2,
4);if(y[0]instanceof t)return y[0].domainCodeLookup(n.toString(y[1]),y[2],void 0===y[3]?void 0:n.toNumber(y[3]));throw Error("Invalid Parameter");})};q.urlencode=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);if(null===y[0])return"";if(y[0]instanceof p){z="";C=0;for(var D=y[0].keys();C<D.length;C++){var F=D[C],H=y[0].field(F);""!==z&&(z+="\x26");z=null===H?z+(encodeURIComponent(F)+"\x3d"):z+(encodeURIComponent(F)+"\x3d"+encodeURIComponent(H))}return z}return encodeURIComponent(n.toString(y[0]))})};
q.hash=function(w,B){return x(w,B,function(z,C,y){n.pcCheck(y,1,1);z=new c.XXH(0);g(y[0],z,{map:new Map,currentLength:0});return z.digest()})}}})},"esri/arcade/functions/hash":function(){define(["require","exports"],function(G,A){function a(m){for(var p=[],t=0,n=m.length;t<n;t++){var h=m.charCodeAt(t);128>h?p.push(h):2048>h?p.push(192|h>>6,128|h&63):55296>h||57344<=h?p.push(224|h>>12,128|h>>6&63,128|h&63):(t++,h=65536+((h&1023)<<10|m.charCodeAt(t)&1023),p.push(240|h>>18,128|h>>12&63,128|h>>6&63,128|
h&63))}return new Uint8Array(p)}Object.defineProperty(A,"__esModule",{value:!0});A.XXH=void 0;G=function(){function m(p){this.seed=p;this.totallen=0;this.bufs=[];this.init()}m.prototype.init=function(){this.bufs=[];this.totallen=0;return this};m.prototype.updateFloatArray=function(p){for(var t=[],n=0;n<p.length;n++){var h=p[n];isNaN(h)?t.push("NaN"):Infinity===h?t.push("Infinity"):-Infinity===h?t.push("-Infinity"):0===h?t.push("0"):t.push(h.toString(16))}this.update(a(t.join("")))};m.prototype.updateIntArray=
function(p){p=Int32Array.from(p);this.update(new Uint8Array(p.buffer))};m.prototype.updateUint8Array=function(p){this.update(Uint8Array.from(p))};m.prototype.updateWithString=function(p){return this.update(a(p))};m.prototype.update=function(p){this.bufs.push(p);this.totallen+=p.length;return this};m.prototype.digest=function(){for(var p=new Uint8Array(this.totallen),t=0,n=0,h=this.bufs;n<h.length;n++){var c=h[n];p.set(c,t);t+=c.length}this.init();return this.xxHash32(p,this.seed)};m.prototype.xxHash32=
function(p,t){void 0===t&&(t=0);var n=t+374761393&4294967295,h=0;if(16<=p.length){n=[t+2654435761+2246822519&4294967295,t+2246822519&4294967295,t+0&4294967295,t-2654435761&4294967295];var c=p.length-16;for(h=t=0;(h&4294967280)<=c;h+=4){var b=h,e=p[b+0]+(p[b+1]<<8);b=p[b+2]+(p[b+3]<<8);e=n[t]+(2246822519*e+(2246822519*b<<16))&4294967295;e=e<<13|e>>>19;n[t]=2654435761*(e&65535)+(2654435761*(e>>>16)<<16)&4294967295;t=t+1&3}n=(n[0]<<1|n[0]>>>31)+(n[1]<<7|n[1]>>>25)+(n[2]<<12|n[2]>>>20)+(n[3]<<18|n[3]>>>
14)&4294967295}n=n+p.length&4294967295;for(t=p.length-4;h<=t;h+=4)b=h,e=p[b+0]+(p[b+1]<<8),b=p[b+2]+(p[b+3]<<8),n=n+(3266489917*e+(3266489917*b<<16))&4294967295,n=n<<17|n>>>15,n=668265263*(n&65535)+(668265263*(n>>>16)<<16)&4294967295;for(;h<p.length;++h)t=p[h],n+=374761393*t,n=n<<11|n>>>21,n=2654435761*(n&65535)+(2654435761*(n>>>16)<<16)&4294967295;n^=n>>>15;n=(2246822519*(n&65535)&4294967295)+(2246822519*(n>>>16)<<16);n^=n>>>13;n=(3266489917*(n&65535)&4294967295)+(3266489917*(n>>>16)<<16);n^=n>>>
16;return 0>n?n+4294967296:n};return m}();A.XXH=G})},"esri/arcade/arcadeRuntime":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../SpatialReference".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F){function H(da,ca){for(var ma=[],qa=0;qa<ca.arguments.length;qa++)ma.push(I(da,ca.arguments[qa]));return ma}function E(da,ca,ma){try{return ma(da,ca,H(da,ca))}catch(qa){throw qa;}}function I(da,ca){try{switch(ca.type){case "EmptyStatement":return b.voidOperation;case "VariableDeclarator":var ma=null===ca.init?null:I(da,ca.init);ma===b.voidOperation&&(ma=null);if("Identifier"!==ca.id.type)throw Error("Can only assign a regular variable");var qa=
ca.id.name.toLowerCase();null!==da.localScope?da.localScope[qa]={value:ma,valueset:!0,node:ca.init}:da.globalScope[qa]={value:ma,valueset:!0,node:ca.init};return b.voidOperation;case "VariableDeclaration":for(var ta=0;ta<ca.declarations.length;ta++)I(da,ca.declarations[ta]);return b.voidOperation;case "BlockStatement":a:{var Ca=b.voidOperation;for(ta=0;ta<ca.body.length;ta++)if(Ca=I(da,ca.body[ta]),Ca instanceof b.ReturnResult||Ca===b.breakResult||Ca===b.continueResult){var ha=Ca;break a}ha=Ca}return ha;
case "FunctionDeclaration":var fa=ca.id.name.toLowerCase();da.globalScope[fa]={valueset:!0,node:null,value:new n(ca,da)};return b.voidOperation;case "ReturnStatement":if(null===ca.argument)var ra=new b.ReturnResult(b.voidOperation);else{var wa=I(da,ca.argument);ra=new b.ReturnResult(wa)}return ra;case "IfStatement":if("AssignmentExpression"===ca.test.type||"UpdateExpression"===ca.test.type)throw Error(e.nodeErrorMessage(ca.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var Ga=I(da,ca.test);
if(!0===Ga)var Na=I(da,ca.consequent);else if(!1===Ga)Na=null!==ca.alternate?I(da,ca.alternate):b.voidOperation;else throw Error(e.nodeErrorMessage(ca,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));return Na;case "ExpressionStatement":if("AssignmentExpression"===ca.expression.type||"UpdateExpression"===ca.expression.type)var Ra=I(da,ca.expression);else{var Sa=I(da,ca.expression);Ra=Sa===b.voidOperation?b.voidOperation:new b.ImplicitResult(Sa)}return Ra;case "AssignmentExpression":var La=I(da,ca.right);
ta=null;var W="";if("MemberExpression"===ca.left.type){ta=I(da,ca.left.object);!0===ca.left.computed?W=I(da,ca.left.property):"Identifier"===ca.left.property.type&&(W=ca.left.property.name);if(b.isArray(ta))if(b.isNumber(W)){0>W&&(W=ta.length+W);if(0>W||W>ta.length)throw Error("Assignment outside of array bounds");if(W===ta.length&&"\x3d"!==ca.operator)throw Error("Invalid Parameter");ta[W]=K(La,ca.operator,ta[W],ca)}else throw Error("Invalid Parameter");else if(ta instanceof p){if(!1===b.isString(W))throw Error("Dictionary accessor must be a string");
if(!0===ta.hasField(W))ta.setField(W,K(La,ca.operator,ta.field(W),ca));else{if("\x3d"!==ca.operator)throw Error("Invalid Parameter");ta.setField(W,K(La,ca.operator,null,ca))}}else if(ta instanceof t){if(!1===b.isString(W))throw Error("Feature accessor must be a string");if(!0===ta.hasField(W))ta.setField(W,K(La,ca.operator,ta.field(W),ca));else{if("\x3d"!==ca.operator)throw Error("Invalid Parameter");ta.setField(W,K(La,ca.operator,null,ca))}}else{if(b.isImmutableArray(ta))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}var ia=b.voidOperation}else if(ta=ca.left.name.toLowerCase(),null!==da.localScope&&void 0!==da.localScope[ta])da.localScope[ta]={value:K(La,ca.operator,da.localScope[ta].value,ca),valueset:!0,node:ca.right},ia=b.voidOperation;else if(void 0!==da.globalScope[ta])da.globalScope[ta]={value:K(La,ca.operator,da.globalScope[ta].value,ca),valueset:!0,node:ca.right},ia=b.voidOperation;else throw Error("Variable not recognised");return ia;case "UpdateExpression":ta=null;W=
"";if("MemberExpression"===ca.argument.type){ta=I(da,ca.argument.object);!0===ca.argument.computed?W=I(da,ca.argument.property):"Identifier"===ca.argument.property.type&&(W=ca.argument.property.name);if(b.isArray(ta))if(b.isNumber(W)){0>W&&(W=ta.length+W);if(0>W||W>=ta.length)throw Error("Assignment outside of array bounds");var sa=b.toNumber(ta[W]);ta[W]="++"===ca.operator?sa+1:sa-1}else throw Error("Invalid Parameter");else if(ta instanceof p){if(!1===b.isString(W))throw Error("Dictionary accessor must be a string");
if(!0===ta.hasField(W))sa=b.toNumber(ta.field(W)),ta.setField(W,"++"===ca.operator?sa+1:sa-1);else throw Error("Invalid Parameter");}else if(ta instanceof t){if(!1===b.isString(W))throw Error("Feature accessor must be a string");if(!0===ta.hasField(W))sa=b.toNumber(ta.field(W)),ta.setField(W,"++"===ca.operator?sa+1:sa-1);else throw Error("Invalid Parameter");}else{if(b.isImmutableArray(ta))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var X=!1===ca.prefix?sa:"++"===ca.operator?
sa+1:sa-1}else{ta="Identifier"===ca.argument.type?ca.argument.name.toLowerCase():"";if(!ta)throw Error("Invalid identifier");if(null!==da.localScope&&void 0!==da.localScope[ta])sa=b.toNumber(da.localScope[ta].value),da.localScope[ta]={value:"++"===ca.operator?sa+1:sa-1,valueset:!0,node:ca},X=!1===ca.prefix?sa:"++"===ca.operator?sa+1:sa-1;else if(void 0!==da.globalScope[ta])sa=b.toNumber(da.globalScope[ta].value),da.globalScope[ta]={value:"++"===ca.operator?sa+1:sa-1,valueset:!0,node:ca},X=!1===ca.prefix?
sa:"++"===ca.operator?sa+1:sa-1;else throw Error("Variable not recognised");}return X;case "BreakStatement":return b.breakResult;case "ContinueStatement":return b.continueResult;case "TemplateElement":return ca.value?ca.value.cooked:"";case "TemplateLiteral":var na="",ua=0;ia=0;for(ta=ca.quasis;ia<ta.length;ia++)if(W=ta[ia],na+=W.value?W.value.cooked:"",!1===W.tail){var ya=ca.expressions[ua]?b.toString(I(da,ca.expressions[ua])):"";na+=ya;ua++}return na;case "ForStatement":null!==ca.init&&I(da,ca.init);
ua={testResult:!0,lastAction:b.voidOperation};do b:{ta=da;W=ca;ya=ua;if(null!==W.test){ya.testResult=I(ta,W.test);if(!1===ya.testResult)break b;if(!0!==ya.testResult)throw Error(e.nodeErrorMessage(W,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}ya.lastAction=I(ta,W.body);ya.lastAction===b.breakResult?ya.testResult=!1:ya.lastAction instanceof b.ReturnResult?ya.testResult=!1:null!==W.update&&I(ta,W.update)}while(!0===ua.testResult);na=ua.lastAction instanceof b.ReturnResult?ua.lastAction:b.voidOperation;
return na;case "ForInStatement":return J(da,ca);case "Identifier":return N(da,ca);case "MemberExpression":return O(da,ca);case "Literal":return ca.value;case "CallExpression":return T(da,ca);case "UnaryExpression":return U(da,ca);case "BinaryExpression":return S(da,ca);case "LogicalExpression":return M(da,ca);case "ConditionalExpression":throw Error(e.nodeErrorMessage(ca,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{for(ta=[],W=0;W<ca.elements.length;W++){var Ha=I(da,ca.elements[W]);if(b.isFunctionParameter(Ha))throw Error(e.nodeErrorMessage(ca,
"RUNTIME","FUNCTIONCONTEXTILLEGAL"));Ha===b.voidOperation?ta.push(null):ta.push(Ha)}}catch(Da){throw Da;}return ta;case "ObjectExpression":ta={};for(W=0;W<ca.properties.length;W++){var Oa=I(da,ca.properties[W]);if(b.isFunctionParameter(Oa.value))throw Error("Illegal Argument");if(!1===b.isString(Oa.key))throw Error("Illegal Argument");ta[Oa.key.toString()]=Oa.value===b.voidOperation?null:Oa.value}var Ma=new p(ta);Ma.immutable=!1;return Ma;case "Property":return{key:"Identifier"===ca.key.type?ca.key.name:
I(da,ca.key),value:I(da,ca.value)};default:throw Error(e.nodeErrorMessage(ca,"RUNTIME","UNREOGNISED"));}}catch(Da){throw Da;}}function J(da,ca){var ma=I(da,ca.right);"VariableDeclaration"===ca.left.type&&I(da,ca.left);var qa=null,ta="";if("VariableDeclaration"===ca.left.type){var Ca=ca.left.declarations[0].id;"Identifier"===Ca.type&&(ta=Ca.name)}else"Identifier"===ca.left.type&&(ta=ca.left.name);if(!ta)throw Error(e.nodeErrorMessage(ca,"RUNTIME","INVALIDVARIABLE"));ta=ta.toLowerCase();null!==da.localScope&&
void 0!==da.localScope[ta]&&(qa=da.localScope[ta]);null===qa&&void 0!==da.globalScope[ta]&&(qa=da.globalScope[ta]);if(null===qa)throw Error(e.nodeErrorMessage(ca,"RUNTIME","VARIABLENOTDECLARED"));if(b.isArray(ma)||b.isString(ma)){ma=ma.length;for(Ca=0;Ca<ma;Ca++){qa.value=Ca;ta=I(da,ca.body);if(ta===b.breakResult)break;if(ta instanceof b.ReturnResult)return ta}return b.voidOperation}if(b.isImmutableArray(ma)){for(Ca=0;Ca<ma.length();Ca++){qa.value=Ca;ta=I(da,ca.body);if(ta===b.breakResult)break;if(ta instanceof
b.ReturnResult)return ta}return b.voidOperation}if(ma instanceof p||ma instanceof t)for(ma=ma.keys(),Ca=0;Ca<ma.length;Ca++){qa.value=ma[Ca];ta=I(da,ca.body);if(ta===b.breakResult)break;if(ta instanceof b.ReturnResult)return ta}else return b.voidOperation}function K(da,ca,ma,qa){switch(ca){case "\x3d":return da===b.voidOperation?null:da;case "/\x3d":return b.toNumber(ma)/b.toNumber(da);case "*\x3d":return b.toNumber(ma)*b.toNumber(da);case "-\x3d":return b.toNumber(ma)-b.toNumber(da);case "+\x3d":return b.isString(ma)||
b.isString(da)?b.toString(ma)+b.toString(da):b.toNumber(ma)+b.toNumber(da);case "%\x3d":return b.toNumber(ma)%b.toNumber(da);default:throw Error(e.nodeErrorMessage(qa,"RUNTIME","OPERATORNOTRECOGNISED"));}}function L(da,ca,ma){ca=ca.toLowerCase();switch(ca){case "hasz":return da=da.hasZ,void 0===da?!1:da;case "hasm":return da=da.hasM,void 0===da?!1:da;case "spatialreference":return ca=da.spatialReference._arcadeCacheId,void 0===ca&&(ma=!0,Object.freeze&&Object.isFrozen(da.spatialReference)&&(ma=!1),
ma&&(pa++,ca=da.spatialReference._arcadeCacheId=pa)),da=new p({wkt:da.spatialReference.wkt,wkid:da.spatialReference.wkid}),void 0!==ca&&(da._arcadeCacheId="SPREF"+ca.toString()),da}switch(da.type){case "extent":switch(ca){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return da=da[ca],void 0!==da?da:null;case "type":return"Extent"}break;case "polygon":switch(ca){case "rings":return ca=da.getCacheValue("_arcadeCacheId"),void 0===ca&&(pa++,ca=pa,da.setCacheValue("_arcadeCacheId",
ca)),da=new h(da.rings,da.spatialReference,!0===da.hasZ,!0===da.hasM,ca);case "type":return"Polygon"}break;case "point":switch(ca){case "x":case "y":case "z":case "m":return void 0!==da[ca]?da[ca]:null;case "type":return"Point"}break;case "polyline":switch(ca){case "paths":return ca=da.getCacheValue("_arcadeCacheId"),void 0===ca&&(pa++,ca=pa,da.setCacheValue("_arcadeCacheId",ca)),da=new h(da.paths,da.spatialReference,!0===da.hasZ,!0===da.hasM,ca);case "type":return"Polyline"}break;case "multipoint":switch(ca){case "points":return ca=
da.getCacheValue("_arcadeCacheId"),void 0===ca&&(pa++,ca=pa,da.setCacheValue("_arcadeCacheId",ca)),da=new c(da.points,da.spatialReference,!0===da.hasZ,!0===da.hasM,ca,1);case "type":return"Multipoint"}}throw Error(e.nodeErrorMessage(ma,"RUNTIME","PROPERTYNOTFOUND"));}function O(da,ca){try{var ma=I(da,ca.object);if(null===ma)throw Error(e.nodeErrorMessage(ca,"RUNTIME","NOTFOUND"));if(!1===ca.computed){if("Identifier"===ca.property.type){if(ma instanceof p||ma instanceof t)return ma.field(ca.property.name);
if(ma instanceof B)return L(ma,ca.property.name,ca)}throw Error(e.nodeErrorMessage(ca,"RUNTIME","INVALIDTYPE"));}var qa=I(da,ca.property);if(ma instanceof p||ma instanceof t){if(b.isString(qa))return ma.field(qa);throw Error(e.nodeErrorMessage(ca,"RUNTIME","INVALIDTYPE"));}if(ma instanceof B){if(b.isString(qa))return L(ma,qa,ca);throw Error(e.nodeErrorMessage(ca,"RUNTIME","INVALIDTYPE"));}if(b.isArray(ma)){if(b.isNumber(qa)&&isFinite(qa)&&Math.floor(qa)===qa){0>qa&&(qa=ma.length+qa);if(qa>=ma.length||
0>qa)throw Error(e.nodeErrorMessage(ca,"RUNTIME","OUTOFBOUNDS"));return ma[qa]}throw Error(e.nodeErrorMessage(ca,"RUNTIME","INVALIDTYPE"));}if(b.isString(ma)){if(b.isNumber(qa)&&isFinite(qa)&&Math.floor(qa)===qa){0>qa&&(qa=ma.length+qa);if(qa>=ma.length||0>qa)throw Error(e.nodeErrorMessage(ca,"RUNTIME","OUTOFBOUNDS"));return ma[qa]}throw Error(e.nodeErrorMessage(ca,"RUNTIME","INVALIDTYPE"));}if(b.isImmutableArray(ma)&&b.isNumber(qa)&&isFinite(qa)&&Math.floor(qa)===qa){0>qa&&(qa=ma.length()+qa);if(qa>=
ma.length()||0>qa)throw Error(e.nodeErrorMessage(ca,"RUNTIME","OUTOFBOUNDS"));return ma.get(qa)}throw Error(e.nodeErrorMessage(ca,"RUNTIME","INVALIDTYPE"));}catch(ta){throw ta;}}function U(da,ca){try{var ma=I(da,ca.argument);if(b.isBoolean(ma)){if("!"===ca.operator)return!ma;if("-"===ca.operator)return-1*b.toNumber(ma);if("+"===ca.operator)return 1*b.toNumber(ma);if("~"===ca.operator)return~b.toNumber(ma);throw Error(e.nodeErrorMessage(ca,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===ca.operator)return~b.toNumber(ma);
if("-"===ca.operator)return-1*b.toNumber(ma);if("+"===ca.operator)return 1*b.toNumber(ma);throw Error(e.nodeErrorMessage(ca,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(qa){throw qa;}}function S(da,ca){try{var ma=[I(da,ca.left),I(da,ca.right)],qa=ma[0],ta=ma[1];switch(ca.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return b.binaryOperator(b.toNumber(qa),b.toNumber(ta),ca.operator);case "\x3d\x3d":return b.equalityTest(qa,ta);case "!\x3d":return!b.equalityTest(qa,
ta);case "\x3c":return b.greaterThanLessThan(qa,ta,ca.operator);case "\x3e":return b.greaterThanLessThan(qa,ta,ca.operator);case "\x3c\x3d":return b.greaterThanLessThan(qa,ta,ca.operator);case "\x3e\x3d":return b.greaterThanLessThan(qa,ta,ca.operator);case "+":return b.isString(qa)||b.isString(ta)?b.toString(qa)+b.toString(ta):b.toNumber(qa)+b.toNumber(ta);case "-":return b.toNumber(qa)-b.toNumber(ta);case "*":return b.toNumber(qa)*b.toNumber(ta);case "/":return b.toNumber(qa)/b.toNumber(ta);case "%":return b.toNumber(qa)%
b.toNumber(ta);default:throw Error(e.nodeErrorMessage(ca,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(Ca){throw Ca;}}function M(da,ca){try{if("AssignmentExpression"===ca.left.type||"UpdateExpression"===ca.left.type)throw Error(e.nodeErrorMessage(ca.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===ca.right.type||"UpdateExpression"===ca.right.type)throw Error(e.nodeErrorMessage(ca.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var ma=I(da,ca.left);if(b.isBoolean(ma))switch(ca.operator){case "||":if(!0===
ma)return ma;var qa=I(da,ca.right);if(b.isBoolean(qa))return qa;throw Error(e.nodeErrorMessage(ca,"RUNTIME","ONLYORORAND"));case "\x26\x26":if(!1===ma)return ma;qa=I(da,ca.right);if(b.isBoolean(qa))return qa;throw Error(e.nodeErrorMessage(ca,"RUNTIME","ONLYORORAND"));default:throw Error(e.nodeErrorMessage(ca,"RUNTIME","ONLYORORAND"));}throw Error(e.nodeErrorMessage(ca,"RUNTIME","ONLYBOOLEAN"));}catch(ta){throw ta;}}function N(da,ca){try{var ma=ca.name.toLowerCase();if(null!==da.localScope&&void 0!==
da.localScope[ma]){var qa=da.localScope[ma];if(!0===qa.valueset)return qa.value;qa.value=I(da,qa.node);qa.valueset=!0;return qa.value}if(void 0!==da.globalScope[ma]){qa=da.globalScope[ma];if(!0===qa.valueset)return qa.value;qa.value=I(da,qa.node);qa.valueset=!0;return qa.value}throw Error(e.nodeErrorMessage(ca,"RUNTIME","VARIABLENOTFOUND"));}catch(ta){throw ta;}}function T(da,ca){try{if("Identifier"!==ca.callee.type)throw Error(e.nodeErrorMessage(ca,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==da.localScope&&
void 0!==da.localScope[ca.callee.name.toLowerCase()]){var ma=da.localScope[ca.callee.name.toLowerCase()];if(ma.value instanceof b.NativeFunction)return ma.value.fn(da,ca);if(ma.value instanceof n)return Q(da,ca,ma.value.definition);throw Error(e.nodeErrorMessage(ca,"RUNTIME","NOTAFUNCTION"));}if(void 0!==da.globalScope[ca.callee.name.toLowerCase()]){ma=da.globalScope[ca.callee.name.toLowerCase()];if(ma.value instanceof b.NativeFunction)return ma.value.fn(da,ca);if(ma.value instanceof n)return Q(da,
ca,ma.value.definition);throw Error(e.nodeErrorMessage(ca,"RUNTIME","NOTAFUNCTION"));}throw Error(e.nodeErrorMessage(ca,"RUNTIME","NOTFOUND"));}catch(qa){throw qa;}}function V(da){return null==da?"":b.isArray(da)||b.isImmutableArray(da)?"Array":b.isDate(da)?"Date":b.isString(da)?"String":b.isBoolean(da)?"Boolean":b.isNumber(da)?"Number":da instanceof m?"Attachment":da instanceof a?"Portal":da instanceof p?"Dictionary":da instanceof t?"Feature":da instanceof C?"Point":da instanceof y?"Polygon":da instanceof
D?"Polyline":da instanceof z?"Multipoint":da instanceof w?"Extent":b.isFunctionParameter(da)?"Function":b.isFeatureSet(da)?"FeatureSet":b.isFeatureSetCollection(da)?"FeatureSetCollection":da===b.voidOperation?"":"number"===typeof da&&isNaN(da)?"Number":"Unrecognised Type"}function ea(da,ca,ma,qa){try{var ta=I(da,ca.arguments[ma]);if(b.equalityTest(ta,qa))return I(da,ca.arguments[ma+1]);var Ca=ca.arguments.length-ma;return 1===Ca?I(da,ca.arguments[ma]):2===Ca?null:3===Ca?I(da,ca.arguments[ma+2]):ea(da,
ca,ma+2,qa)}catch(ha){throw ha;}}function P(da,ca,ma,qa){try{if(!0===qa)return I(da,ca.arguments[ma+1]);if(3===ca.arguments.length-ma)return I(da,ca.arguments[ma+2]);var ta=I(da,ca.arguments[ma+2]);if(!1===b.isBoolean(ta))throw Error("WHEN needs boolean test conditions");return P(da,ca,ma+2,ta)}catch(Ca){throw Ca;}}function ba(da,ca){var ma=da.length,qa=Math.floor(ma/2);if(0===ma)return[];if(1===ma)return[da[0]];var ta=ba(da.slice(0,qa),ca);da=ba(da.slice(qa,ma),ca);for(ma=[];0<ta.length||0<da.length;)0<
ta.length&&0<da.length?(qa=ca(ta[0],da[0]),isNaN(qa)&&(qa=0),0>=qa?(ma.push(ta[0]),ta=ta.slice(1)):(ma.push(da[0]),da=da.slice(1))):0<ta.length?(ma.push(ta[0]),ta=ta.slice(1)):0<da.length&&(ma.push(da[0]),da=da.slice(1));return ma}function la(da,ca,ma){try{var qa=da.body;if(ma.length!==da.params.length)throw Error("Invalid Parameter calls to function.");for(var ta=0;ta<ma.length;ta++)ca.localScope[da.params[ta].name.toLowerCase()]={value:ma[ta],valueset:!0,node:null};var Ca=I(ca,qa);if(Ca instanceof
b.ReturnResult)return Ca.value;if(Ca===b.breakResult)throw Error("Cannot Break from a Function");if(Ca===b.continueResult)throw Error("Cannot Continue from a Function");return Ca instanceof b.ImplicitResult?Ca.value:Ca}catch(ha){throw ha;}}function Q(da,ca,ma){return E(da,ca,function(qa,ta,Ca){qa={spatialReference:da.spatialReference,globalScope:da.globalScope,depthCounter:da.depthCounter+1,console:da.console,lrucache:da.lrucache,localScope:{}};if(64<qa.depthCounter)throw Error("Exceeded maximum function depth");
return la(ma,qa,Ca)})}function Y(da){return function(){var ca={spatialReference:da.context.spatialReference,console:da.context.console,lrucache:da.context.lrucache,localScope:{},depthCounter:da.context.depthCounter+1,globalScope:da.context.globalScope};if(64<ca.depthCounter)throw Error("Exceeded maximum function depth");return la(da.definition,ca,arguments)}}function ja(da){console.log(da)}Object.defineProperty(A,"__esModule",{value:!0});A.findFunctionCalls=A.referencesFunction=A.referencesMember=
A.validateScript=A.extractFieldLiterals=A.executeScript=A.extend=A.functionHelper=void 0;var pa=0,ka={};f.registerFunctions(ka,E);k.registerFunctions(ka,E);x.registerFunctions(ka,E);g.registerFunctions(ka,E);u.registerFunctions(ka,E);q.registerFunctions(ka,E);v.registerFunctions(ka,E);ka["typeof"]=function(da,ca){return E(da,ca,function(ma,qa,ta){b.pcCheck(ta,1,1);ma=V(ta[0]);if("Unrecognised Type"===ma)throw Error("Unrecognised Type");return ma})};ka.iif=function(da,ca){try{b.pcCheck(null===ca.arguments?
[]:ca.arguments,3,3);var ma=I(da,ca.arguments[0]);if(!1===b.isBoolean(ma))throw Error("IF Function must have a boolean test condition");var qa=I(da,ca.arguments[1]),ta=I(da,ca.arguments[2]);return!0===ma?qa:ta}catch(Ca){throw Ca;}};ka.decode=function(da,ca){try{if(2>ca.arguments.length)throw Error("Missing Parameters");if(2===ca.arguments.length)return I(da,ca.arguments[1]);if(0===(ca.arguments.length-1)%2)throw Error("Must have a default value result.");var ma=I(da,ca.arguments[0]);return ea(da,
ca,1,ma)}catch(qa){throw qa;}};ka.when=function(da,ca){try{if(3>ca.arguments.length)throw Error("Missing Parameters");if(0===ca.arguments.length%2)throw Error("Must have a default value result.");var ma=I(da,ca.arguments[0]);if(!1===b.isBoolean(ma))throw Error("WHEN needs boolean test conditions");return P(da,ca,0,ma)}catch(qa){throw qa;}};ka.top=function(da,ca){return E(da,ca,function(ma,qa,ta){b.pcCheck(ta,2,2);if(b.isArray(ta[0]))return b.toNumber(ta[1])>=ta[0].length?ta[0].slice(0):ta[0].slice(0,
b.toNumber(ta[1]));if(b.isImmutableArray(ta[0]))return b.toNumber(ta[1])>=ta[0].length()?ta[0].slice(0):ta[0].slice(0,b.toNumber(ta[1]));throw Error("Top cannot accept this parameter type");})};ka.first=function(da,ca){return E(da,ca,function(ma,qa,ta){b.pcCheck(ta,1,1);return b.isArray(ta[0])?0===ta[0].length?null:ta[0][0]:b.isImmutableArray(ta[0])?0===ta[0].length()?null:ta[0].get(0):null})};ka.sort=function(da,ca){return E(da,ca,function(ma,qa,ta){b.pcCheck(ta,1,2);ma=ta[0];b.isImmutableArray(ma)&&
(ma=ma.toArray());if(!1===b.isArray(ma))throw Error("Illegal Argument");if(1<ta.length){if(!1===b.isFunctionParameter(ta[1]))throw Error("Illegal Argument");var Ca=Y(ta[1]);return ma=ba(ma,function(ra,wa){return Ca(ra,wa)})}if(0===ma.length)return[];ta={};for(qa=0;qa<ma.length;qa++){var ha=V(ma[qa]);""!==ha&&(ta[ha]=!0)}if(!0===ta.Array||!0===ta.Dictionary||!0===ta.Feature||!0===ta.Point||!0===ta.Polygon||!0===ta.Polyline||!0===ta.Multipoint||!0===ta.Extent||!0===ta.Function)return ma.slice(0);qa=
0;ha="";for(var fa in ta)qa++,ha=fa;return ma=1<qa||"String"===ha?ba(ma,function(ra,wa){if(null===ra||void 0===ra||ra===b.voidOperation)return null===wa||void 0===wa||wa===b.voidOperation?0:1;if(null===wa||void 0===wa||wa===b.voidOperation)return-1;ra=b.toString(ra);wa=b.toString(wa);return ra<wa?-1:ra===wa?0:1}):"Number"===ha?ba(ma,function(ra,wa){return ra-wa}):"Boolean"===ha?ba(ma,function(ra,wa){return ra===wa?0:wa?-1:1}):"Date"===ha?ba(ma,function(ra,wa){return wa-ra}):ma.slice(0)})};for(var va in ka)ka[va]=
{value:new b.NativeFunction(ka[va]),valueset:!0,node:null};var Aa=function(){};Aa.prototype=ka;Aa.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};Aa.prototype.pi={value:Math.PI,valueset:!0,node:null};A.functionHelper={fixSpatialReference:b.fixSpatialReference,parseArguments:H,standardFunction:E};A.extend=function(da){for(var ca={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:E,evaluateIdentifier:N,arcadeCustomFunctionHandler:Y},ma=0;ma<da.length;ma++)da[ma].registerFunctions(ca);
for(var qa in ca.functions)ka[qa]={value:new b.NativeFunction(ca.functions[qa]),valueset:!0,node:null},Aa.prototype[qa]=ka[qa];for(ma=0;ma<ca.signatures.length;ma++)e.addFunctionDeclaration(ca.signatures[ma],"async")};A.executeScript=function(da,ca){var ma=ca.spatialReference;if(null===ma||void 0===ma)ma=new F({wkid:102100});var qa=ca.vars,ta=ca.customfunctions,Ca=new Aa;qa||(qa={});ta||(ta={});var ha=new p({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});
ha.immutable=!1;Ca.textformatting={value:ha,valueset:!0,node:null};for(var fa in ta)Ca[fa]={value:new b.NativeFunction(ta[fa]),native:!0,valueset:!0,node:null};for(fa in qa)Ca[fa]=qa[fa]&&"esri.Graphic"===qa[fa].declaredClass?{value:t.createFromGraphic(qa[fa]),valueset:!0,node:null}:{value:qa[fa],valueset:!0,node:null};da=I({spatialReference:ma,globalScope:Ca,localScope:null,console:ca.console?ca.console:ja,lrucache:ca.lrucache,depthCounter:1},da.body[0].body);da instanceof b.ReturnResult&&(da=da.value);
da instanceof b.ImplicitResult&&(da=da.value);da===b.voidOperation&&(da=null);if(da===b.breakResult)throw Error("Cannot return BREAK");if(da===b.continueResult)throw Error("Cannot return CONTINUE");if(da instanceof n)throw Error("Cannot return FUNCTION");if(da instanceof b.NativeFunction)throw Error("Cannot return FUNCTION");return da};A.extractFieldLiterals=function(da,ca){void 0===ca&&(ca=!1);return e.findFieldLiterals(da)};A.validateScript=function(da,ca){return e.validateScript(da,ca,"simple")};
A.referencesMember=function(da,ca){return e.referencesMember(da,ca)};A.referencesFunction=function(da,ca){return e.referencesFunction(da,ca)};A.findFunctionCalls=function(da){return e.findFunctionCalls(da)}})},"esri/arcade/parser":function(){define(["require","exports","./treeAnalysis","./lib/esprima"],function(G,A,a,m){Object.defineProperty(A,"__esModule",{value:!0});A.referencesFunction=A.referencesMember=A.validateScript=A.extractFieldLiterals=A.scriptCheck=A.parseScript=void 0;A.parseScript=function(p,
t){void 0===t&&(t=[]);p=m.parse("function _() { "+p+"\n}");if(null===p.body||void 0===p.body)throw Error("No formula provided.");if(0===p.body.length)throw Error("No formula provided.");if(0===p.body.length)throw Error("No formula provided.");if("BlockStatement"!==p.body[0].body.type)throw Error("Invalid formula content.");var n=a.validateLanguage(p);if(""!==n)throw Error(n);a.findScriptDependencies(p,t);return p};A.scriptCheck=function(p,t,n,h,c){var b=[];p="function _() { \n"+p+"\n}";try{var e=
m.parse(p,{tolerant:!0,loc:!0,range:!0}),f=e.errors;if(0<f.length)for(var k=0;k<f.length;k++)b.push({line:f[k].lineNumber-2,character:f[k].column,reason:f[k].description});var u=a.checkScript(e,t,n,h,c);for(t=0;t<u.length;t++)u[t].line-=2,u[t].range&&(u[t].range=[u[t][0]-15,u[t][1]-15]),u[t].loc&&(u[t].loc.start.line-=2,u[t].loc.end.line-=2),b.push(u[t])}catch(g){try{if("Unexpected token }"===g.description){var v=p.split("\n").length;g.lineNumber===v?(g.index=p.length-1,b.push({line:g.lineNumber-
4,character:g.column,reason:"Unexpected end of script"})):(g.index=p.length-1,b.push({line:g.lineNumber-2,character:g.column,reason:"Unexpected end of script"}))}else b.push({line:g.lineNumber-2,character:g.column,reason:g.description})}catch(q){}}return b};A.extractFieldLiterals=function(p,t){void 0===t&&(t=!1);return a.findFieldLiterals(p)};A.validateScript=function(p,t,n){return a.validateScript(p,t,n)};A.referencesMember=function(p,t){return a.referencesMember(p,t)};A.referencesFunction=function(p,
t){return a.referencesFunction(p,t)}})},"esri/arcade/lib/esprima":function(){define("require exports ./comment-handler ./parser ./tokenizer ./syntax".split(" "),function(G,A,a,m,p,t){function n(h,c,b){var e=null,f=function(g,q){b&&b(g,q);e&&e.visit(g,q)},k="function"===typeof b?f:null,u=!1;if(c){u="boolean"===typeof c.comment&&c.comment;var v="boolean"===typeof c.attachComment&&c.attachComment;if(u||v)e=new a.CommentHandler,e.attach=v,c.comment=!0,k=f}h=new m.Parser(h,c,k);c=h.parseScript();u&&e&&
(c.comments=e.comments);h.config.tokens&&(c.tokens=h.tokens);h.config.tolerant&&(c.errors=h.errorHandler.errors);return c}Object.defineProperty(A,"__esModule",{value:!0});A.version=A.tokenize=A.parseScript=A.parse=void 0;A.parse=n;A.parseScript=function(h,c,b){c=c||{};c.sourceType="script";return n(h,c,b)};A.tokenize=function(h,c,b){h=new p.Tokenizer(h,c);c=[];try{for(;;){var e=h.getNextToken();if(!e)break;b&&(e=b(e));c.push(e)}}catch(f){h.errorHandler.tolerate(f)}h.errorHandler.tolerant&&(c.errors=
h.errors());return c};Object.defineProperty(A,"Syntax",{enumerable:!0,get:function(){return t.Syntax}});A.version="4.0.0-dev"})},"esri/arcade/lib/comment-handler":function(){define(["require","exports","./syntax"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});A.CommentHandler=void 0;G=function(){function m(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}m.prototype.insertInnerComments=function(p,t){if(p.type===a.Syntax.BlockStatement&&0===p.body.length){for(var n=
[],h=this.leading.length-1;0<=h;--h){var c=this.leading[h];t.end.offset>=c.start&&(n.unshift(c.comment),this.leading.splice(h,1),this.trailing.splice(h,1))}n.length&&(p.innerComments=n)}};m.prototype.findTrailingComments=function(p){var t=[];if(0<this.trailing.length){for(var n=this.trailing.length-1;0<=n;--n){var h=this.trailing[n];h.start>=p.end.offset&&t.unshift(h.comment)}this.trailing.length=0;return t}(n=this.stack[this.stack.length-1])&&n.node.trailingComments&&(h=n.node.trailingComments[0])&&
h.range[0]>=p.end.offset&&(t=n.node.trailingComments,delete n.node.trailingComments);return t};m.prototype.findLeadingComments=function(p){for(var t=[],n;0<this.stack.length;){var h=this.stack[this.stack.length-1];if(h&&h.start>=p.start.offset)n=h.node,this.stack.pop();else break}if(n){for(var c=(n.leadingComments?n.leadingComments.length:0)-1;0<=c;--c)h=n.leadingComments[c],h.range[1]<=p.start.offset&&(t.unshift(h),n.leadingComments.splice(c,1));n.leadingComments&&0===n.leadingComments.length&&delete n.leadingComments;
return t}for(c=this.leading.length-1;0<=c;--c)h=this.leading[c],h.start<=p.start.offset&&(t.unshift(h.comment),this.leading.splice(c,1));return t};m.prototype.visitNode=function(p,t){if(!(p.type===a.Syntax.Program&&0<p.body.length)){this.insertInnerComments(p,t);var n=this.findTrailingComments(t),h=this.findLeadingComments(t);0<h.length&&(p.leadingComments=h);0<n.length&&(p.trailingComments=n);this.stack.push({node:p,start:t.start.offset})}};m.prototype.visitComment=function(p,t){var n="L"===p.type[0]?
"Line":"Block",h={type:n,value:p.value};p.range&&(h.range=p.range);p.loc&&(h.loc=p.loc);this.comments.push(h);this.attach&&(t={comment:{type:n,value:p.value,range:[t.start.offset,t.end.offset]},start:t.start.offset},p.loc&&(t.comment.loc=p.loc),p.type=n,this.leading.push(t),this.trailing.push(t))};m.prototype.visit=function(p,t){"LineComment"===p.type?this.visitComment(p,t):"BlockComment"===p.type?this.visitComment(p,t):this.attach&&this.visitNode(p,t)};return m}();A.CommentHandler=G})},"esri/arcade/lib/syntax":function(){define(["require",
"exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.Syntax=void 0;A.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",
ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",TemplateElement:"TemplateElement",
TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement"}})},"esri/arcade/lib/parser":function(){define("require exports ./assert ./error-handler ./messages ./nodes ./scanner ./syntax ./token".split(" "),function(G,A,a,m,p,t,n,h,c){Object.defineProperty(A,"__esModule",{value:!0});A.Parser=void 0;G=function(){function b(e,f,k){void 0===f&&
(f={});this.config={range:"boolean"===typeof f.range&&f.range,loc:"boolean"===typeof f.loc&&f.loc,source:null,tokens:"boolean"===typeof f.tokens&&f.tokens,comment:"boolean"===typeof f.comment&&f.comment,tolerant:"boolean"===typeof f.tolerant&&f.tolerant};this.config.loc&&f.source&&null!==f.source&&(this.config.source=String(f.source));this.delegate=k;this.errorHandler=new m.ErrorHandler;this.errorHandler.tolerant=this.config.tolerant;this.scanner=new n.Scanner(e,this.errorHandler);this.scanner.trackComment=
this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"\x3d":0,"]":0,"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3d\x3d\x3d":6,"!\x3d\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=!1;this.context={isModule:!1,allowIn:!0,allowStrictDirective:!0,firstCoverInitializedNameError:null,
isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}b.prototype.throwError=function(e){for(var f=[],k=1;k<arguments.length;k++)f[k-1]=arguments[k];var u=f.slice();
f=e.replace(/%(\d)/g,function(v,g){a.assert(g<u.length,"Message reference must be in range");return u[g]});throw this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,f);};b.prototype.tolerateError=function(e){for(var f=[],k=1;k<arguments.length;k++)f[k-1]=arguments[k];var u=f.slice();f=e.replace(/%(\d)/g,function(v,g){a.assert(g<u.length,"Message reference must be in range");return u[g]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,
this.lastMarker.column+1,f)};b.prototype.unexpectedTokenError=function(e,f){var k=f||p.Messages.UnexpectedToken;e?(f||(k=2===e.type?p.Messages.UnexpectedEOS:3===e.type?p.Messages.UnexpectedIdentifier:6===e.type?p.Messages.UnexpectedNumber:8===e.type?p.Messages.UnexpectedString:10===e.type?p.Messages.UnexpectedTemplate:p.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?k=p.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&
(k=p.Messages.StrictReservedWord))),f=e.value):f="ILLEGAL";k=k.replace("%0",f);if(e&&"number"===typeof e.lineNumber){f=e.start;var u=e.lineNumber;e=e.start-(this.lastMarker.index-this.lastMarker.column)+1;return this.errorHandler.createError(f,u,e,k)}f=this.lastMarker.index;u=this.lastMarker.line;e=this.lastMarker.column+1;return this.errorHandler.createError(f,u,e,k)};b.prototype.throwUnexpectedToken=function(e,f){throw this.unexpectedTokenError(e,f);};b.prototype.tolerateUnexpectedToken=function(e,
f){this.errorHandler.tolerate(this.unexpectedTokenError(e,f))};b.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(0<e.length&&this.delegate)for(var f=0;f<e.length;++f){var k=e[f],u={type:k.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(k.slice[0],k.slice[1])};this.config.range&&(u.range=k.range);this.config.loc&&(u.loc=k.loc);this.delegate(u,{start:{line:k.loc.start.line,column:k.loc.start.column,offset:k.range[0]},end:{line:k.loc.end.line,
column:k.loc.end.column,offset:k.range[1]}})}}else this.scanner.scanComments()};b.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)};b.prototype.convertToken=function(e){var f={type:c.TokenName[e.type],value:this.getTokenRaw(e)};this.config.range&&(f.range=[e.start,e.end]);this.config.loc&&(f.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}});9===e.type&&(f.regex=
{pattern:e.pattern,flags:e.flags});return f};b.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var f=this.scanner.lex();this.hasLineTerminator=
e.lineNumber!==f.lineNumber;f&&this.context.strict&&3===f.type&&this.scanner.isStrictModeReservedWord(f.value)&&(f.type=4);this.lookahead=f;this.config.tokens&&2!==f.type&&this.tokens.push(this.convertToken(f));return e};b.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e)));this.lookahead=e;this.nextToken();return e};b.prototype.createNode=function(){return{index:this.startMarker.index,
line:this.startMarker.line,column:this.startMarker.column}};b.prototype.startNode=function(e,f){void 0===f&&(f=0);var k=e.start-e.lineStart,u=e.lineNumber;0>k&&(k+=f,u--);return{index:e.start,line:u,column:k}};b.prototype.finalize=function(e,f){this.config.range&&(f.range=[e.index,this.lastMarker.index]);this.config.loc&&(f.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(f.loc.source=this.config.source));this.delegate&&this.delegate(f,
{start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});return f};b.prototype.expect=function(e){var f=this.nextToken();7===f.type&&f.value===e||this.throwUnexpectedToken(f)};b.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,
p.Messages.UnexpectedToken)}else this.expect(",")};b.prototype.expectKeyword=function(e){var f=this.nextToken();4===f.type&&f.value.toLowerCase()===e.toLowerCase()||this.throwUnexpectedToken(f)};b.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e};b.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value.toLowerCase()===e.toLowerCase()};b.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===
e};b.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"\x3d"===e||"*\x3d"===e||"**\x3d"===e||"/\x3d"===e||"%\x3d"===e||"+\x3d"===e||"-\x3d"===e||"\x3c\x3c\x3d"===e||"\x3e\x3e\x3d"===e||"\x3e\x3e\x3e\x3d"===e||"\x26\x3d"===e||"^\x3d"===e||"|\x3d"===e};b.prototype.isolateCoverGrammar=function(e){var f=this.context.isBindingElement,k=this.context.isAssignmentTarget,u=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=
!0;this.context.firstCoverInitializedNameError=null;e=e.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=f;this.context.isAssignmentTarget=k;this.context.firstCoverInitializedNameError=u;return e};b.prototype.inheritCoverGrammar=function(e){var f=this.context.isBindingElement,k=this.context.isAssignmentTarget,u=this.context.firstCoverInitializedNameError;this.context.isBindingElement=
!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;e=e.call(this);this.context.isBindingElement=this.context.isBindingElement&&f;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&k;this.context.firstCoverInitializedNameError=u||this.context.firstCoverInitializedNameError;return e};b.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),
this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)};b.prototype.parsePrimaryExpression=function(){var e=this.createNode();switch(this.lookahead.type){case 3:e=this.finalize(e,new t.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,p.Messages.StrictOctalLiteral);this.context.isAssignmentTarget=!1;this.context.isBindingElement=
!1;var f=this.nextToken();var k=this.getTokenRaw(f);e=this.finalize(e,new t.Literal(f.value,k));break;case 1:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;f=this.nextToken();k=this.getTokenRaw(f);e=this.finalize(e,new t.Literal("true"===f.value.toLowerCase(),k));break;case 5:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;f=this.nextToken();k=this.getTokenRaw(f);e=this.finalize(e,new t.Literal(null,k));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case "(":this.context.isBindingElement=
!1;e=this.inheritCoverGrammar(this.parseGroupExpression);break;case "[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;e=this.matchKeyword("function")?this.parseFunctionExpression():this.throwUnexpectedToken(this.nextToken());break;default:e=this.throwUnexpectedToken(this.nextToken())}return e};
b.prototype.parseArrayInitializer=function(){var e=this.createNode(),f=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),f.push(null)):(f.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(","));this.expect("]");return this.finalize(e,new t.ArrayExpression(f))};b.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var f=this.context.strict,k=this.context.allowStrictDirective;
this.context.allowStrictDirective=e.simple;var u=this.isolateCoverGrammar(this.parseFunctionSourceElements);this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message);this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message);this.context.strict=f;this.context.allowStrictDirective=k;return u};b.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),f=this.parseFormalParameters(),k=this.parsePropertyMethod(f);return this.finalize(e,
new t.FunctionExpression(null,f.params,k,!1))};b.prototype.parseObjectPropertyKey=function(){var e=this.createNode(),f=this.nextToken();switch(f.type){case 8:case 6:this.context.strict&&f.octal&&this.tolerateUnexpectedToken(f,p.Messages.StrictOctalLiteral);var k=this.getTokenRaw(f);e=this.finalize(e,new t.Literal(f.value,k));break;case 3:case 1:case 5:case 4:e=this.finalize(e,new t.Identifier(f.value));break;case 7:"["===f.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):
e=this.throwUnexpectedToken(f);break;default:e=this.throwUnexpectedToken(f)}return e};b.prototype.isPropertyKey=function(e,f){return e.type===h.Syntax.Identifier&&e.name===f||e.type===h.Syntax.Literal&&e.value===f};b.prototype.parseObjectProperty=function(e){var f=this.createNode(),k=this.lookahead,u=null,v=null,g=!1,q=!1,x=!1,w=!1;if(3===k.type){var B=k.value;this.nextToken();g=this.match("[");u=(w=!this.hasLineTerminator&&"async"===B&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","))?
this.parseObjectPropertyKey():this.finalize(f,new t.Identifier(B))}else this.match("*")?this.nextToken():(g=this.match("["),u=this.parseObjectPropertyKey());u||this.throwUnexpectedToken(this.lookahead);this.match(":")&&!w?(!g&&this.isPropertyKey(u,"__proto__")&&(e.value&&this.tolerateError(p.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),v=this.inheritCoverGrammar(this.parseAssignmentExpression)):this.match("(")?(v=this.parsePropertyMethodFunction(),q=!0):3===k.type?(B=this.finalize(f,
new t.Identifier(k.value)),this.match("\x3d")?(this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),x=!0,e=this.isolateCoverGrammar(this.parseAssignmentExpression),v=this.finalize(f,new t.AssignmentPattern(B,e))):(x=!0,v=B)):this.throwUnexpectedToken(this.nextToken());return this.finalize(f,new t.Property("init",u,g,v,q,x))};b.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var f=[],k={value:!1};!this.match("}");)f.push(this.parseObjectProperty(k)),
this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(e,new t.ObjectExpression(f))};b.prototype.parseTemplateHead=function(){a.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),f=this.nextToken();return this.finalize(e,new t.TemplateElement({raw:f.value,cooked:f.cooked},f.tail))};b.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),f=this.nextToken();
return this.finalize(e,new t.TemplateElement({raw:f.value,cooked:f.cooked},f.tail))};b.prototype.parseTemplateLiteral=function(){var e=this.createNode(),f=[],k=[],u=this.parseTemplateHead();for(k.push(u);!u.tail;)f.push(this.parseExpression()),u=this.parseTemplateElement(),k.push(u);return this.finalize(e,new t.TemplateLiteral(k,f))};b.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case h.Syntax.ArrayExpression:e.type=h.Syntax.ArrayPattern;for(var f=0;f<e.elements.length;f++)null!==
e.elements[f]&&this.reinterpretExpressionAsPattern(e.elements[f]);break;case h.Syntax.ObjectExpression:e.type=h.Syntax.ObjectPattern;for(f=0;f<e.properties.length;f++)this.reinterpretExpressionAsPattern(e.properties[f].value);break;case h.Syntax.AssignmentExpression:e.type=h.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}};b.prototype.parseGroupExpression=function(){this.expect("(");if(this.match(")")){this.nextToken();this.match("\x3d\x3e")||this.expect("\x3d\x3e");
var e={type:"ArrowParameterPlaceHolder",params:[],async:!1}}else{var f=this.lookahead,k=!1;this.context.isBindingElement=!0;e=this.inheritCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var u=[];this.context.isAssignmentTarget=!1;for(u.push(e);2!==this.lookahead.type&&this.match(",");){this.nextToken();if(this.match(")")){this.nextToken();for(k=0;k<u.length;k++)this.reinterpretExpressionAsPattern(u[k]);k=!0;e={type:"ArrowParameterPlaceHolder",params:u,async:!1}}else u.push(this.inheritCoverGrammar(this.parseAssignmentExpression));
if(k)break}k||(e=this.finalize(this.startNode(f),new t.SequenceExpression(u)))}if(!k){this.expect(")");if(this.match("\x3d\x3e")&&(e.type===h.Syntax.Identifier&&"yield"===e.name&&(k=!0,e={type:"ArrowParameterPlaceHolder",params:[e],async:!1}),!k)){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead);if(e.type===h.Syntax.SequenceExpression)for(k=0;k<e.expressions.length;k++)this.reinterpretExpressionAsPattern(e.expressions[k]);else this.reinterpretExpressionAsPattern(e);e={type:"ArrowParameterPlaceHolder",
params:e.type===h.Syntax.SequenceExpression?e.expressions:[e],async:!1}}this.context.isBindingElement=!1}}return e};b.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var f=this.isolateCoverGrammar(this.parseAssignmentExpression);e.push(f);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");return e};b.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type};b.prototype.parseIdentifierName=
function(){var e=this.createNode(),f=this.nextToken();this.isIdentifierName(f)||this.throwUnexpectedToken(f);return this.finalize(e,new t.Identifier(f.value))};b.prototype.parseLeftHandSideExpressionAllowCall=function(){var e=this.lookahead,f=this.context.allowIn;this.context.allowIn=!0;var k;for(k=this.inheritCoverGrammar(this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect(".");var u=this.parseIdentifierName();k=this.finalize(this.startNode(e),
new t.StaticMemberExpression(k,u))}else if(this.match("("))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1,u=this.parseArguments(),k=this.finalize(this.startNode(e),new t.CallExpression(k,u));else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),u=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),k=this.finalize(this.startNode(e),new t.ComputedMemberExpression(k,u));else break;this.context.allowIn=f;return k};
b.prototype.parseLeftHandSideExpression=function(){a.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),f=this.inheritCoverGrammar(this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var k=this.isolateCoverGrammar(this.parseExpression);this.expect("]");f=this.finalize(e,new t.ComputedMemberExpression(f,k))}else if(this.match("."))this.context.isBindingElement=
!1,this.context.isAssignmentTarget=!0,this.expect("."),k=this.parseIdentifierName(),f=this.finalize(e,new t.StaticMemberExpression(f,k));else break;return f};b.prototype.parseUpdateExpression=function(){var e=this.lookahead;if(this.match("++")||this.match("--")){e=this.startNode(e);var f=this.nextToken();var k=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.strict&&k.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(k.name)&&this.tolerateError(p.Messages.StrictLHSPrefix);
this.context.isAssignmentTarget||this.tolerateError(p.Messages.InvalidLHSInAssignment);k=this.finalize(e,new t.UpdateExpression(f.value,k,!0));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else k=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||7!==this.lookahead.type||!this.match("++")&&!this.match("--")||(this.context.strict&&k.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(k.name)&&this.tolerateError(p.Messages.StrictLHSPostfix),
this.context.isAssignmentTarget||this.tolerateError(p.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,f=this.nextToken().value,k=this.finalize(this.startNode(e),new t.UpdateExpression(f,k,!1)));return k};b.prototype.parseUnaryExpression=function(){if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var e=this.startNode(this.lookahead),f=this.nextToken();
var k=this.inheritCoverGrammar(this.parseUnaryExpression);k=this.finalize(e,new t.UnaryExpression(f.value,k));this.context.strict&&"delete"===k.operator&&k.argument.type===h.Syntax.Identifier&&this.tolerateError(p.Messages.StrictDelete);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else k=this.parseUpdateExpression();return k};b.prototype.parseExponentiationExpression=function(){var e=this.lookahead,f=this.inheritCoverGrammar(this.parseUnaryExpression);if(f.type!==h.Syntax.UnaryExpression&&
this.match("**")){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var k=this.isolateCoverGrammar(this.parseExponentiationExpression);f=this.finalize(this.startNode(e),new t.BinaryExpression("**",f,k))}return f};b.prototype.binaryPrecedence=function(e){var f=e.value;return 7===e.type?this.operatorPrecedence[f]||0:4===e.type?"instanceof"===f||this.context.allowIn&&"in"===f?7:0:0};b.prototype.parseBinaryExpression=function(){var e=this.lookahead,f=this.inheritCoverGrammar(this.parseExponentiationExpression),
k=this.lookahead,u=this.binaryPrecedence(k);if(0<u){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;e=[e,this.lookahead];var v=this.isolateCoverGrammar(this.parseExponentiationExpression);k=[f,k.value,v];for(var g=[u];;){u=this.binaryPrecedence(this.lookahead);if(0>=u)break;for(;2<k.length&&u<=g[g.length-1];){v=k.pop();var q=k.pop();g.pop();f=k.pop();e.pop();var x=e[e.length-1],w=this.startNode(x,x.lineStart);k.push(this.finalize(w,new t.BinaryExpression(q,f,v)))}k.push(this.nextToken().value);
g.push(u);e.push(this.lookahead);k.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}u=k.length-1;f=k[u];for(q=e.pop();1<u;)x=e.pop(),w=this.startNode(x,q&&q.lineStart),q=k[u-1],f=this.finalize(w,new t.BinaryExpression(q,k[u-2],f)),u-=2,q=x}return f};b.prototype.parseConditionalExpression=function(){var e=this.lookahead,f=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var k=this.context.allowIn;this.context.allowIn=!0;var u=this.isolateCoverGrammar(this.parseAssignmentExpression);
this.context.allowIn=k;this.expect(":");k=this.isolateCoverGrammar(this.parseAssignmentExpression);f=this.finalize(this.startNode(e),new t.ConditionalExpression(f,u,k));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}return f};b.prototype.checkPatternParam=function(e,f){switch(f.type){case h.Syntax.Identifier:this.validateParam(e,f,f.name);break;case h.Syntax.AssignmentPattern:this.checkPatternParam(e,f.left);break;case h.Syntax.ArrayPattern:for(var k=0;k<f.elements.length;k++)null!==
f.elements[k]&&this.checkPatternParam(e,f.elements[k]);break;case h.Syntax.ObjectPattern:for(k=0;k<f.properties.length;k++)this.checkPatternParam(e,f.properties[k].value)}e.simple=e.simple&&f instanceof t.Identifier};b.prototype.reinterpretAsCoverFormalsList=function(e){var f=[e],k={simple:!0,paramSet:{}};switch(e.type){case h.Syntax.Identifier:break;default:return null}for(e=0;e<f.length;++e){var u=f[e];this.checkPatternParam(k,u);f[e]=u}k.message===p.Messages.StrictParamDupe&&this.throwUnexpectedToken(this.context.strict?
k.stricted:k.firstRestricted,k.message);return{simple:k.simple,params:f,stricted:k.stricted,firstRestricted:k.firstRestricted,message:k.message}};b.prototype.parseAssignmentExpression=function(){var e=this.lookahead,f=e;var k=this.parseConditionalExpression();if(this.matchAssign()){this.context.isAssignmentTarget||this.tolerateError(p.Messages.InvalidLHSInAssignment);if(this.context.strict&&k.type===h.Syntax.Identifier){var u=k;this.scanner.isRestrictedWord(u.name)&&this.tolerateUnexpectedToken(f,
p.Messages.StrictLHSAssignment);this.scanner.isStrictModeReservedWord(u.name)&&this.tolerateUnexpectedToken(f,p.Messages.StrictReservedWord)}this.match("\x3d")?this.reinterpretExpressionAsPattern(k):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);f=this.nextToken();f=f.value;u=this.isolateCoverGrammar(this.parseAssignmentExpression);k=this.finalize(this.startNode(e),new t.AssignmentExpression(f,k,u));this.context.firstCoverInitializedNameError=null}return k};b.prototype.parseExpression=
function(){var e=this.lookahead,f=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var k=[];for(k.push(f);2!==this.lookahead.type&&this.match(",");)this.nextToken(),k.push(this.isolateCoverGrammar(this.parseAssignmentExpression));f=this.finalize(this.startNode(e),new t.SequenceExpression(k))}return f};b.prototype.parseStatementListItem=function(){this.context.isAssignmentTarget=!0;this.context.isBindingElement=!0;if(4===this.lookahead.type)switch(this.lookahead.value){case "function":var e=
this.parseFunctionDeclaration();break;default:e=this.parseStatement()}else e=this.parseStatement();return e};b.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var f=[];!this.match("}");)f.push(this.parseStatementListItem());this.expect("}");return this.finalize(e,new t.BlockStatement(f))};b.prototype.parseBlockOrObjectInitialiser=function(){var e=this.createNode();this.expect("{");if(3===this.lookahead.type||8===this.lookahead.type){var f=this.scanner.saveState();this.scanner.scanComments();
var k=this.scanner.lex();this.scanner.restoreState(f);if(7===k.type&&":"===k.value){f=[];for(k={value:!1};!this.match("}");)f.push(this.parseObjectProperty(k)),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(e,new t.ObjectExpression(f))}}for(f=[];!this.match("}");)f.push(this.parseStatementListItem());this.expect("}");return this.finalize(e,new t.BlockStatement(f))};b.prototype.parseLexicalBinding=function(e,f){var k=this.createNode();e=this.parsePattern([],e);this.context.strict&&
e.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(p.Messages.StrictVarName);var u=null;if(!f.inFor&&e.type!==h.Syntax.Identifier||this.match("\x3d"))this.expect("\x3d"),u=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize(k,new t.VariableDeclarator(e,u))};b.prototype.parseBindingList=function(e,f){for(var k=[this.parseLexicalBinding(e,f)];this.match(",");)this.nextToken(),k.push(this.parseLexicalBinding(e,f));return k};b.prototype.parseArrayPattern=
function(e,f){var k=this.createNode();this.expect("[");for(var u=[];!this.match("]");)this.match(",")?(this.nextToken(),u.push(null)):(u.push(this.parsePatternWithDefault(e,f)),this.match("]")||this.expect(","));this.expect("]");return this.finalize(k,new t.ArrayPattern(u))};b.prototype.parsePropertyPattern=function(e,f){var k=this.createNode(),u=!1,v=!1;if(3===this.lookahead.type){var g=this.lookahead;var q=this.parseVariableIdentifier();var x=this.finalize(k,new t.Identifier(g.value));this.match("\x3d")?
(e.push(g),v=!0,this.nextToken(),e=this.parseAssignmentExpression(),g=this.finalize(this.startNode(g),new t.AssignmentPattern(x,e))):this.match(":")?(this.expect(":"),g=this.parsePatternWithDefault(e,f)):(e.push(g),v=!0,g=x)}else u=this.match("["),q=this.parseObjectPropertyKey(),this.expect(":"),g=this.parsePatternWithDefault(e,f);return this.finalize(k,new t.Property("init",q,u,g,!1,v))};b.prototype.parseObjectPattern=function(e,f){var k=this.createNode(),u=[];for(this.expect("{");!this.match("}");)u.push(this.parsePropertyPattern(e,
f)),this.match("}")||this.expect(",");this.expect("}");return this.finalize(k,new t.ObjectPattern(u))};b.prototype.parsePattern=function(e,f){this.match("[")?e=this.parseArrayPattern(e,f):this.match("{")?e=this.parseObjectPattern(e,f):(!this.matchKeyword("let")||"const"!==f&&"let"!==f||this.tolerateUnexpectedToken(this.lookahead,p.Messages.LetInLexicalBinding),e.push(this.lookahead),e=this.parseVariableIdentifier(f));return e};b.prototype.parsePatternWithDefault=function(e,f){var k=this.lookahead;
e=this.parsePattern(e,f);this.match("\x3d")&&(this.nextToken(),f=this.isolateCoverGrammar(this.parseAssignmentExpression),e=this.finalize(this.startNode(k),new t.AssignmentPattern(e,f)));return e};b.prototype.parseVariableIdentifier=function(e){var f=this.createNode(),k=this.nextToken();3!==k.type&&(this.context.strict&&4===k.type&&this.scanner.isStrictModeReservedWord(k.value)?this.tolerateUnexpectedToken(k,p.Messages.StrictReservedWord):(this.context.strict||"let"!==k.value||"var"!==e)&&this.throwUnexpectedToken(k));
return this.finalize(f,new t.Identifier(k.value))};b.prototype.parseVariableDeclaration=function(e){var f=this.createNode(),k=this.parsePattern([],"var");this.context.strict&&k.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(k.name)&&this.tolerateError(p.Messages.StrictVarName);var u=null;this.match("\x3d")?(this.nextToken(),u=this.isolateCoverGrammar(this.parseAssignmentExpression)):k.type===h.Syntax.Identifier||e.inFor||this.expect("\x3d");return this.finalize(f,new t.VariableDeclarator(k,
u))};b.prototype.parseVariableDeclarationList=function(e){e={inFor:e.inFor};var f=[];for(f.push(this.parseVariableDeclaration(e));this.match(",");)this.nextToken(),f.push(this.parseVariableDeclaration(e));return f};b.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var f=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(e,new t.VariableDeclaration(f,"var"))};b.prototype.parseEmptyStatement=function(){var e=this.createNode();
this.expect(";");return this.finalize(e,new t.EmptyStatement)};b.prototype.parseExpressionStatement=function(){var e=this.createNode(),f=this.parseExpression();this.consumeSemicolon();return this.finalize(e,new t.ExpressionStatement(f))};b.prototype.parseIfClause=function(){this.context.strict&&this.matchKeyword("function")&&this.tolerateError(p.Messages.StrictFunction);return this.parseStatement(!0)};b.prototype.parseIfStatement=function(){var e=this.createNode(),f=null;this.expectKeyword("if");
this.expect("(");var k=this.parseExpression();if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken());var u=this.finalize(this.createNode(),new t.EmptyStatement)}else this.expect(")"),u=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),f=this.parseIfClause());return this.finalize(e,new t.IfStatement(k,u,f))};b.prototype.parseForStatement=function(){var e=null,f=null,k=null,u=this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();
else if(this.matchKeyword("var")){e=this.createNode();this.nextToken();var v=this.context.allowIn;this.context.allowIn=!1;var g=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=v;if(1===g.length&&this.matchKeyword("in")){var q=g[0];q.init&&(q.id.type===h.Syntax.ArrayPattern||q.id.type===h.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(p.Messages.ForInOfLoopInitializer,"for-in");e=this.finalize(e,new t.VariableDeclaration(g,"var"));this.nextToken();q=e;var x=this.parseExpression();
e=null}else 1===g.length&&null===g[0].init&&this.matchContextualKeyword("of")?(e=this.finalize(e,new t.VariableDeclaration(g,"var")),this.nextToken(),q=e,x=this.parseAssignmentExpression(),e=null):(e=this.finalize(e,new t.VariableDeclaration(g,"var")),this.expect(";"))}else{g=this.lookahead;var w=this.context.isBindingElement,B=this.context.isAssignmentTarget,z=this.context.firstCoverInitializedNameError;v=this.context.allowIn;this.context.allowIn=!1;e=this.inheritCoverGrammar(this.parseAssignmentExpression);
this.context.allowIn=v;if(this.matchKeyword("in"))this.context.isAssignmentTarget&&e.type!==h.Syntax.AssignmentExpression||this.tolerateError(p.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(e),q=e,x=this.parseExpression(),e=null;else{this.context.isBindingElement=w;this.context.isAssignmentTarget=B;this.context.firstCoverInitializedNameError=z;if(this.match(",")){for(e=[e];this.match(",");)this.nextToken(),e.push(this.isolateCoverGrammar(this.parseAssignmentExpression));
e=this.finalize(this.startNode(g),new t.SequenceExpression(e))}this.expect(";")}}"undefined"===typeof q&&(this.match(";")||(f=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(k=this.isolateCoverGrammar(this.parseExpression)));!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),v=this.finalize(this.createNode(),new t.EmptyStatement)):(this.expect(")"),g=this.context.inIteration,this.context.inIteration=!0,v=this.isolateCoverGrammar(this.parseStatementBlockAllowed),
this.context.inIteration=g);return"undefined"===typeof q?this.finalize(u,new t.ForStatement(e,f,k,v)):this.finalize(u,new t.ForInStatement(q,x,v))};b.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var f=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var k=this.parseVariableIdentifier();f=k;Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+k.name)||this.throwError(p.Messages.UnknownLabel,k.name)}this.consumeSemicolon();null!==
f||this.context.inIteration||this.throwError(p.Messages.IllegalContinue);return this.finalize(e,new t.ContinueStatement(f))};b.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var f=null;3!==this.lookahead.type||this.hasLineTerminator||(f=this.parseVariableIdentifier(),Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+f.name)||this.throwError(p.Messages.UnknownLabel,f.name));this.consumeSemicolon();null!==f||this.context.inIteration||this.context.inSwitch||
this.throwError(p.Messages.IllegalBreak);return this.finalize(e,new t.BreakStatement(f))};b.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(p.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var f=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();this.consumeSemicolon();return this.finalize(e,new t.ReturnStatement(f))};
b.prototype.parseLabelledStatement=function(){var e=this.createNode(),f=this.parseExpression();this.consumeSemicolon();f=new t.ExpressionStatement(f);return this.finalize(e,f)};b.prototype.parseStatementBlockAllowed=function(){return this.parseStatement(!0)};b.prototype.parseStatement=function(e){void 0===e&&(e=!1);switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var f=this.lookahead.value;e="{"===f?e?this.parseBlockOrObjectInitialiser():
this.parseObjectInitializer():"("===f?this.parseExpressionStatement():";"===f?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.parseLabelledStatement();break;case 4:switch(this.lookahead.value.toLowerCase()){case "break":e=this.parseBreakStatement();break;case "continue":e=this.parseContinueStatement();break;case "for":e=this.parseForStatement();break;case "function":e=this.parseFunctionDeclaration();break;case "if":e=this.parseIfStatement();break;case "return":e=this.parseReturnStatement();
break;case "var":e=this.parseVariableStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e};b.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var f=[],k=this.context.labelSet,u=this.context.inIteration,v=this.context.inSwitch,g=this.context.inFunctionBody;this.context.labelSet={};this.context.inIteration=!1;this.context.inSwitch=!1;for(this.context.inFunctionBody=!0;2!==this.lookahead.type&&
!this.match("}");)f.push(this.parseStatementListItem());this.expect("}");this.context.labelSet=k;this.context.inIteration=u;this.context.inSwitch=v;this.context.inFunctionBody=g;return this.finalize(e,new t.BlockStatement(f))};b.prototype.validateParam=function(e,f,k){var u="$"+k;this.context.strict?(this.scanner.isRestrictedWord(k)&&(e.stricted=f,e.message=p.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,u)&&(e.stricted=f,e.message=p.Messages.StrictParamDupe)):e.firstRestricted||
(this.scanner.isRestrictedWord(k)?(e.firstRestricted=f,e.message=p.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(k)?(e.firstRestricted=f,e.message=p.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,u)&&(e.stricted=f,e.message=p.Messages.StrictParamDupe));"function"===typeof Object.defineProperty?Object.defineProperty(e.paramSet,u,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[u]=!0};b.prototype.parseFormalParameter=function(e){for(var f=
[],k=this.parsePatternWithDefault(f),u=0;u<f.length;u++)this.validateParam(e,f[u],f[u].value);e.simple=e.simple&&k instanceof t.Identifier;e.params.push(k)};b.prototype.parseFormalParameters=function(e){e={simple:!0,params:[],firstRestricted:e};this.expect("(");if(!this.match(")"))for(e.paramSet={};2!==this.lookahead.type;){this.parseFormalParameter(e);if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return{simple:e.simple,params:e.params,stricted:e.stricted,firstRestricted:e.firstRestricted,
message:e.message}};b.prototype.parseFunctionDeclaration=function(e){var f=this.createNode();this.expectKeyword("function");var k=null,u=null;if(!e||!this.match("("))if(e=this.lookahead,k=this.parseVariableIdentifier(),this.context.strict)this.scanner.isRestrictedWord(e.value)&&this.tolerateUnexpectedToken(e,p.Messages.StrictFunctionName);else if(this.scanner.isRestrictedWord(e.value)){u=e;var v=p.Messages.StrictFunctionName}else this.scanner.isStrictModeReservedWord(e.value)&&(u=e,v=p.Messages.StrictReservedWord);
var g=this.parseFormalParameters(u);e=g.params;var q=g.stricted;u=g.firstRestricted;g.message&&(v=g.message);var x=this.context.strict,w=this.context.allowStrictDirective;this.context.allowStrictDirective=g.simple;g=this.parseFunctionSourceElements();this.context.strict&&u&&this.throwUnexpectedToken(u,v);this.context.strict&&q&&this.tolerateUnexpectedToken(q,v);this.context.strict=x;this.context.allowStrictDirective=w;return this.finalize(f,new t.FunctionDeclaration(k,e,g,!1))};b.prototype.parseFunctionExpression=
function(){var e=this.createNode();this.expectKeyword("function");var f=null;if(!this.match("(")){var k=this.lookahead;f=this.parseVariableIdentifier();if(this.context.strict)this.scanner.isRestrictedWord(k.value)&&this.tolerateUnexpectedToken(k,p.Messages.StrictFunctionName);else if(this.scanner.isRestrictedWord(k.value)){var u=k;var v=p.Messages.StrictFunctionName}else this.scanner.isStrictModeReservedWord(k.value)&&(u=k,v=p.Messages.StrictReservedWord)}var g=this.parseFormalParameters(u);k=g.params;
var q=g.stricted;u=g.firstRestricted;g.message&&(v=g.message);var x=this.context.strict,w=this.context.allowStrictDirective;this.context.allowStrictDirective=g.simple;g=this.parseFunctionSourceElements();this.context.strict&&u&&this.throwUnexpectedToken(u,v);this.context.strict&&q&&this.tolerateUnexpectedToken(q,v);this.context.strict=x;this.context.allowStrictDirective=w;return this.finalize(e,new t.FunctionExpression(f,k,g,!1))};b.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;
case 7:return"["===e.value}return!1};b.prototype.isStartOfExpression=function(){var e=!0,f=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===f||"("===f||"{"===f||"+"===f||"-"===f||"!"===f||"~"===f||"++"===f||"--"===f||"/"===f||"/\x3d"===f;break;case 4:e="class"===f||"delete"===f||"function"===f||"let"===f||"new"===f||"super"===f||"this"===f||"typeof"===f||"void"===f||"yield"===f}return e};b.prototype.parseScript=function(){for(var e=this.createNode(),f=[];2!==this.lookahead.type;)f.push(this.parseStatementListItem());
return this.finalize(e,new t.Script(f))};return b}();A.Parser=G})},"esri/arcade/lib/assert":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.assert=void 0;A.assert=function(a,m){if(!a)throw Error("ASSERT: "+m);}})},"esri/arcade/lib/error-handler":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.ErrorHandler=void 0;G=function(){function a(){this.errors=[];this.tolerant=!1}a.prototype.recordError=
function(m){this.errors.push(m)};a.prototype.tolerate=function(m){if(this.tolerant)this.recordError(m);else throw m;};a.prototype.constructError=function(m,p){m=Error(m);try{throw m;}catch(t){Object.create&&Object.defineProperty&&(m=Object.create(t),Object.defineProperty(m,"column",{value:p}))}return m};a.prototype.createError=function(m,p,t,n){t=this.constructError("Line "+p+": "+n,t);t.index=m;t.lineNumber=p;t.description=n;return t};a.prototype.throwError=function(m,p,t,n){throw this.createError(m,
p,t,n);};a.prototype.tolerateError=function(m,p,t,n){m=this.createError(m,p,t,n);if(this.tolerant)this.recordError(m);else throw m;};return a}();A.ErrorHandler=G})},"esri/arcade/lib/messages":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.Messages=void 0;A.Messages={BadImportCallArity:"Unexpected token",BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",
ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token \x3d",DefaultRestProperty:"Unexpected token \x3d",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",
GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",
InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",
NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",PropertyAfterRestProperty:"Unexpected token",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",
StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",
StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",
UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}})},"esri/arcade/lib/nodes":function(){define(["require","exports","./syntax"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});A.VariableDeclarator=A.VariableDeclaration=A.UpdateExpression=A.UnaryExpression=A.TemplateLiteral=A.TemplateElement=A.StaticMemberExpression=A.SequenceExpression=A.Script=A.ReturnStatement=
A.Property=A.ObjectPattern=A.ObjectExpression=A.Module=A.MethodDefinition=A.Literal=A.IfStatement=A.Identifier=A.FunctionExpression=A.FunctionDeclaration=A.ForStatement=A.ForInStatement=A.ExpressionStatement=A.EmptyStatement=A.ContinueStatement=A.ConditionalExpression=A.ComputedMemberExpression=A.CallExpression=A.BreakStatement=A.BlockStatement=A.BinaryExpression=A.AssignmentPattern=A.AssignmentExpression=A.ArrayPattern=A.ArrayExpression=void 0;G=function(){return function(m){this.type=a.Syntax.ArrayExpression;
this.elements=m}}();A.ArrayExpression=G;G=function(){return function(m){this.type=a.Syntax.ArrayPattern;this.elements=m}}();A.ArrayPattern=G;G=function(){return function(m,p,t){this.type=a.Syntax.AssignmentExpression;this.operator=m;this.left=p;this.right=t}}();A.AssignmentExpression=G;G=function(){return function(m,p){this.type=a.Syntax.AssignmentPattern;this.left=m;this.right=p}}();A.AssignmentPattern=G;G=function(){return function(m,p,t){this.type="||"===m||"\x26\x26"===m?a.Syntax.LogicalExpression:
a.Syntax.BinaryExpression;this.operator=m;this.left=p;this.right=t}}();A.BinaryExpression=G;G=function(){return function(m){this.type=a.Syntax.BlockStatement;this.body=m}}();A.BlockStatement=G;G=function(){return function(m){this.type=a.Syntax.BreakStatement;this.label=m}}();A.BreakStatement=G;G=function(){return function(m,p){this.type=a.Syntax.CallExpression;this.callee=m;this.arguments=p}}();A.CallExpression=G;G=function(){return function(m,p){this.type=a.Syntax.MemberExpression;this.computed=
!0;this.object=m;this.property=p}}();A.ComputedMemberExpression=G;G=function(){return function(m,p,t){this.type=a.Syntax.ConditionalExpression;this.test=m;this.consequent=p;this.alternate=t}}();A.ConditionalExpression=G;G=function(){return function(m){this.type=a.Syntax.ContinueStatement;this.label=m}}();A.ContinueStatement=G;G=function(){return function(){this.type=a.Syntax.EmptyStatement}}();A.EmptyStatement=G;G=function(){return function(m){this.type=a.Syntax.ExpressionStatement;this.expression=
m}}();A.ExpressionStatement=G;G=function(){return function(m,p,t){this.type=a.Syntax.ForInStatement;this.left=m;this.right=p;this.body=t;this.each=!1}}();A.ForInStatement=G;G=function(){return function(m,p,t,n){this.type=a.Syntax.ForStatement;this.init=m;this.test=p;this.update=t;this.body=n}}();A.ForStatement=G;G=function(){return function(m,p,t,n){this.type=a.Syntax.FunctionDeclaration;this.id=m;this.params=p;this.body=t;this.generator=n;this.async=this.expression=!1}}();A.FunctionDeclaration=G;
G=function(){return function(m,p,t,n){this.type=a.Syntax.FunctionExpression;this.id=m;this.params=p;this.body=t;this.generator=n;this.async=this.expression=!1}}();A.FunctionExpression=G;G=function(){return function(m){this.type=a.Syntax.Identifier;this.name=m}}();A.Identifier=G;G=function(){return function(m,p,t){this.type=a.Syntax.IfStatement;this.test=m;this.consequent=p;this.alternate=t}}();A.IfStatement=G;G=function(){return function(m,p){this.type=a.Syntax.Literal;this.value=m;this.raw=p}}();
A.Literal=G;G=function(){return function(m,p,t,n,h){this.type=a.Syntax.MethodDefinition;this.key=m;this.computed=p;this.value=t;this.kind=n;this.static=h}}();A.MethodDefinition=G;G=function(){return function(m){this.type=a.Syntax.Program;this.body=m;this.sourceType="module"}}();A.Module=G;G=function(){return function(m){this.type=a.Syntax.ObjectExpression;this.properties=m}}();A.ObjectExpression=G;G=function(){return function(m){this.type=a.Syntax.ObjectPattern;this.properties=m}}();A.ObjectPattern=
G;G=function(){return function(m,p,t,n,h,c){this.type=a.Syntax.Property;this.key=p;this.computed=t;this.value=n;this.kind=m;this.method=h;this.shorthand=c}}();A.Property=G;G=function(){return function(m){this.type=a.Syntax.ReturnStatement;this.argument=m}}();A.ReturnStatement=G;G=function(){return function(m){this.type=a.Syntax.Program;this.body=m;this.sourceType="script"}}();A.Script=G;G=function(){return function(m){this.type=a.Syntax.SequenceExpression;this.expressions=m}}();A.SequenceExpression=
G;G=function(){return function(m,p){this.type=a.Syntax.MemberExpression;this.computed=!1;this.object=m;this.property=p}}();A.StaticMemberExpression=G;G=function(){return function(m,p){this.type=a.Syntax.TemplateElement;this.value=m;this.tail=p}}();A.TemplateElement=G;G=function(){return function(m,p){this.type=a.Syntax.TemplateLiteral;this.quasis=m;this.expressions=p}}();A.TemplateLiteral=G;G=function(){return function(m,p){this.type=a.Syntax.UnaryExpression;this.operator=m;this.argument=p;this.prefix=
!0}}();A.UnaryExpression=G;G=function(){return function(m,p,t){this.type=a.Syntax.UpdateExpression;this.operator=m;this.argument=p;this.prefix=t}}();A.UpdateExpression=G;G=function(){return function(m,p){this.type=a.Syntax.VariableDeclaration;this.declarations=m;this.kind=p}}();A.VariableDeclaration=G;G=function(){return function(m,p){this.type=a.Syntax.VariableDeclarator;this.id=m;this.init=p}}();A.VariableDeclarator=G})},"esri/arcade/lib/scanner":function(){define(["require","exports","./assert",
"./character","./messages"],function(G,A,a,m,p){Object.defineProperty(A,"__esModule",{value:!0});A.Scanner=void 0;G=function(){function t(n,h){this.source=n;this.errorHandler=h;this.isModule=this.trackComment=!1;this.length=n.length;this.index=0;this.lineNumber=0<n.length?1:0;this.lineStart=0;this.curlyStack=[]}t.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}};t.prototype.restoreState=function(n){this.index=
n.index;this.lineNumber=n.lineNumber;this.lineStart=n.lineStart;this.curlyStack=n.curlyStack};t.prototype.eof=function(){return this.index>=this.length};t.prototype.throwUnexpectedToken=function(n){void 0===n&&(n=p.Messages.UnexpectedTokenIllegal);return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,n)};t.prototype.tolerateUnexpectedToken=function(n){void 0===n&&(n=p.Messages.UnexpectedTokenIllegal);this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-
this.lineStart+1,n)};t.prototype.skipSingleLineComment=function(n){var h=[];if(this.trackComment){h=[];var c=this.index-n;var b={start:{line:this.lineNumber,column:this.index-this.lineStart-n},end:{}}}for(;!this.eof();){var e=this.source.charCodeAt(this.index);++this.index;if(m.Character.isLineTerminator(e))return this.trackComment&&(b.end={line:this.lineNumber,column:this.index-this.lineStart-1},n={multiLine:!1,slice:[c+n,this.index-1],range:[c,this.index-1],loc:b},h.push(n)),13===e&&10===this.source.charCodeAt(this.index)&&
++this.index,++this.lineNumber,this.lineStart=this.index,h}this.trackComment&&(b.end={line:this.lineNumber,column:this.index-this.lineStart},n={multiLine:!1,slice:[c+n,this.index],range:[c,this.index],loc:b},h.push(n));return h};t.prototype.skipMultiLineComment=function(){var n=[];if(this.trackComment){n=[];var h=this.index-2;var c={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}}}for(;!this.eof();){var b=this.source.charCodeAt(this.index);if(m.Character.isLineTerminator(b))13===
b&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===b&&47===this.source.charCodeAt(this.index+1))return this.index+=2,this.trackComment&&(c.end={line:this.lineNumber,column:this.index-this.lineStart},h={multiLine:!0,slice:[h+2,this.index-2],range:[h,this.index],loc:c},n.push(h)),n;++this.index}}this.trackComment&&(c.end={line:this.lineNumber,column:this.index-this.lineStart},h={multiLine:!0,slice:[h+2,this.index],range:[h,
this.index],loc:c},n.push(h));this.tolerateUnexpectedToken();return n};t.prototype.scanComments=function(){var n;this.trackComment&&(n=[]);for(var h=0===this.index;!this.eof();){var c=this.source.charCodeAt(this.index);if(m.Character.isWhiteSpace(c))++this.index;else if(m.Character.isLineTerminator(c))++this.index,13===c&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,h=!0;else if(47===c)if(c=this.source.charCodeAt(this.index+1),47===c)this.index+=
2,c=this.skipSingleLineComment(2),this.trackComment&&(n=n.concat(c)),h=!0;else if(42===c)this.index+=2,c=this.skipMultiLineComment(),this.trackComment&&(n=n.concat(c));else break;else if(h&&45===c)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+2))this.index+=3,c=this.skipSingleLineComment(3),this.trackComment&&(n=n.concat(c));else break;else if(60!==c||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+4))this.index+=4,c=this.skipSingleLineComment(4),
this.trackComment&&(n=n.concat(c));else break}return n};t.prototype.isFutureReservedWord=function(n){return!1};t.prototype.isStrictModeReservedWord=function(n){return!1};t.prototype.isRestrictedWord=function(n){return!1};t.prototype.isKeyword=function(n){n=n.toLowerCase();switch(n.length){case 2:return"if"===n||"in"===n;case 3:return"var"===n||"for"===n;case 4:return"else"===n;case 5:return"break"===n;case 6:return"return"===n;case 8:return"function"===n||"continue"===n;default:return!1}};t.prototype.codePointAt=
function(n){var h=this.source.charCodeAt(n);55296<=h&&56319>=h&&(n=this.source.charCodeAt(n+1),56320<=n&&57343>=n&&(h=1024*(h-55296)+n-56320+65536));return h};t.prototype.scanHexEscape=function(n){n="u"===n?4:2;for(var h=0,c=0;c<n;++c)if(!this.eof()&&m.Character.isHexDigit(this.source.charCodeAt(this.index)))h=16*h+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;return String.fromCharCode(h)};t.prototype.scanUnicodeCodePointEscape=function(){var n=this.source[this.index],
h=0;for("}"===n&&this.throwUnexpectedToken();!this.eof();){n=this.source[this.index++];if(!m.Character.isHexDigit(n.charCodeAt(0)))break;h=16*h+"0123456789abcdef".indexOf(n.toLowerCase())}(1114111<h||"}"!==n)&&this.throwUnexpectedToken();return m.Character.fromCodePoint(h)};t.prototype.getIdentifier=function(){for(var n=this.index++;!this.eof();){var h=this.source.charCodeAt(this.index);if(92===h||55296<=h&&57343>h)return this.index=n,this.getComplexIdentifier();if(m.Character.isIdentifierPart(h))++this.index;
else break}return this.source.slice(n,this.index)};t.prototype.getComplexIdentifier=function(){var n=this.codePointAt(this.index),h=m.Character.fromCodePoint(n);this.index+=h.length;if(92===n){117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken();++this.index;if("{"===this.source[this.index]){++this.index;var c=this.scanUnicodeCodePointEscape()}else c=this.scanHexEscape("u"),null!==c&&"\\"!==c&&m.Character.isIdentifierStart(c.charCodeAt(0))||this.throwUnexpectedToken();h=c}for(;!this.eof();){n=
this.codePointAt(this.index);if(!m.Character.isIdentifierPart(n))break;c=m.Character.fromCodePoint(n);h+=c;this.index+=c.length;92===n&&(h=h.substr(0,h.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,c=this.scanUnicodeCodePointEscape()):(c=this.scanHexEscape("u"),null!==c&&"\\"!==c&&m.Character.isIdentifierPart(c.charCodeAt(0))||this.throwUnexpectedToken()),h+=c)}return h};t.prototype.octalToDecimal=function(n){var h=
"0"!==n,c="01234567".indexOf(n);!this.eof()&&m.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(h=!0,c=8*c+"01234567".indexOf(this.source[this.index++]),0<="0123".indexOf(n)&&!this.eof()&&m.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(c=8*c+"01234567".indexOf(this.source[this.index++])));return{code:c,octal:h}};t.prototype.scanIdentifier=function(){var n=this.index,h=92===this.source.charCodeAt(n)?this.getComplexIdentifier():this.getIdentifier();var c=1===h.length?3:this.isKeyword(h)?
4:"null"===h.toLowerCase()?5:"true"===h.toLowerCase()||"false"===h.toLowerCase()?1:3;if(3!==c&&n+h.length!==this.index){var b=this.index;this.index=n;this.tolerateUnexpectedToken(p.Messages.InvalidEscapedReservedWord);this.index=b}return{type:c,value:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};t.prototype.scanPunctuator=function(){var n=this.index,h=this.source[this.index];switch(h){case "(":case "{":"{"===h&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;
"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,h="...");break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:h=this.source.substr(this.index,4),"\x3e\x3e\x3e\x3d"===h?this.index+=4:(h=h.substr(0,3),"\x3d\x3d\x3d"===h||"!\x3d\x3d"===h||"\x3e\x3e\x3e"===h||"\x3c\x3c\x3d"===h||"\x3e\x3e\x3d"===h||"**\x3d"===h?this.index+=3:(h=h.substr(0,2),"\x26\x26"===h||"||"===h||"\x3d\x3d"===
h||"!\x3d"===h||"+\x3d"===h||"-\x3d"===h||"*\x3d"===h||"/\x3d"===h||"++"===h||"--"===h||"\x3c\x3c"===h||"\x3e\x3e"===h||"\x26\x3d"===h||"|\x3d"===h||"^\x3d"===h||"%\x3d"===h||"\x3c\x3d"===h||"\x3e\x3d"===h||"\x3d\x3e"===h||"**"===h?this.index+=2:(h=this.source[this.index],0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(h)&&++this.index)))}this.index===n&&this.throwUnexpectedToken();return{type:7,value:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};t.prototype.scanHexLiteral=
function(n){for(var h="";!this.eof()&&m.Character.isHexDigit(this.source.charCodeAt(this.index));)h+=this.source[this.index++];0===h.length&&this.throwUnexpectedToken();m.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseInt("0x"+h,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};t.prototype.scanBinaryLiteral=function(n){for(var h="",c;!this.eof();){c=this.source[this.index];if("0"!==c&&"1"!==c)break;
h+=this.source[this.index++]}0===h.length&&this.throwUnexpectedToken();this.eof()||(c=this.source.charCodeAt(this.index),(m.Character.isIdentifierStart(c)||m.Character.isDecimalDigit(c))&&this.throwUnexpectedToken());return{type:6,value:parseInt(h,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};t.prototype.scanOctalLiteral=function(n,h){var c="",b=!1;m.Character.isOctalDigit(n.charCodeAt(0))?(b=!0,c="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&m.Character.isOctalDigit(this.source.charCodeAt(this.index));)c+=
this.source[this.index++];b||0!==c.length||this.throwUnexpectedToken();(m.Character.isIdentifierStart(this.source.charCodeAt(this.index))||m.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:6,value:parseInt(c,8),octal:b,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};t.prototype.scanNumericLiteral=function(){var n=this.index,h=this.source[n];a.assert(m.Character.isDecimalDigit(h.charCodeAt(0))||"."===h,"Numeric literal must start with a decimal digit or a decimal point");
var c="";if("."!==h){c=this.source[this.index++];h=this.source[this.index];if("0"===c){if("x"===h||"X"===h)return++this.index,this.scanHexLiteral(n);if("b"===h||"B"===h)return++this.index,this.scanBinaryLiteral(n);if("o"===h||"O"===h)return this.scanOctalLiteral(h,n)}for(;m.Character.isDecimalDigit(this.source.charCodeAt(this.index));)c+=this.source[this.index++];h=this.source[this.index]}if("."===h){for(c+=this.source[this.index++];m.Character.isDecimalDigit(this.source.charCodeAt(this.index));)c+=
this.source[this.index++];h=this.source[this.index]}if("e"===h||"E"===h){c+=this.source[this.index++];h=this.source[this.index];if("+"===h||"-"===h)c+=this.source[this.index++];if(m.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;m.Character.isDecimalDigit(this.source.charCodeAt(this.index));)c+=this.source[this.index++];else this.throwUnexpectedToken()}m.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseFloat(c),
lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};t.prototype.scanStringLiteral=function(){var n=this.index,h=this.source[n];a.assert("'"===h||'"'===h,"String literal must starts with a quote");++this.index;for(var c=!1,b="";!this.eof();){var e=this.source[this.index++];if(e===h){h="";break}if("\\"===e)if((e=this.source[this.index++])&&m.Character.isLineTerminator(e.charCodeAt(0)))++this.lineNumber,"\r"===e&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;
else switch(e){case "u":"{"===this.source[this.index]?(++this.index,b+=this.scanUnicodeCodePointEscape()):(e=this.scanHexEscape(e),null===e&&this.throwUnexpectedToken(),b+=e);break;case "x":e=this.scanHexEscape(e);null===e&&this.throwUnexpectedToken(p.Messages.InvalidHexEscapeSequence);b+=e;break;case "n":b+="\n";break;case "r":b+="\r";break;case "t":b+="\t";break;case "b":b+="\b";break;case "f":b+="\f";break;case "v":b+="\x0B";break;case "8":case "9":b+=e;this.tolerateUnexpectedToken();break;default:e&&
m.Character.isOctalDigit(e.charCodeAt(0))?(e=this.octalToDecimal(e),c=e.octal||c,b+=String.fromCharCode(e.code)):b+=e}else if(m.Character.isLineTerminator(e.charCodeAt(0)))break;else b+=e}""!==h&&(this.index=n,this.throwUnexpectedToken());return{type:8,value:b,octal:c,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};t.prototype.scanTemplate=function(){var n="",h=!1,c=this.index,b="`"===this.source[c],e=!1,f=2;for(++this.index;!this.eof();){var k=this.source[this.index++];
if("`"===k){f=1;h=e=!0;break}if("$"===k){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;h=!0;break}n+=k}else if("\\"===k)if(k=this.source[this.index++],m.Character.isLineTerminator(k.charCodeAt(0)))++this.lineNumber,"\r"===k&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(k){case "n":n+="\n";break;case "r":n+="\r";break;case "t":n+="\t";break;case "u":if("{"===this.source[this.index])++this.index,n+=this.scanUnicodeCodePointEscape();else{var u=
this.index,v=this.scanHexEscape(k);null!==v?n+=v:(this.index=u,n+=k)}break;case "x":k=this.scanHexEscape(k);null===k&&this.throwUnexpectedToken(p.Messages.InvalidHexEscapeSequence);n+=k;break;case "b":n+="\b";break;case "f":n+="\f";break;case "v":n+="\v";break;default:"0"===k?(m.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(p.Messages.TemplateOctalLiteral),n+="\x00"):m.Character.isOctalDigit(k.charCodeAt(0))?this.throwUnexpectedToken(p.Messages.TemplateOctalLiteral):
n+=k}else m.Character.isLineTerminator(k.charCodeAt(0))?(++this.lineNumber,"\r"===k&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,n+="\n"):n+=k}h||this.throwUnexpectedToken();b||this.curlyStack.pop();return{type:10,value:this.source.slice(c+1,this.index-f),cooked:n,head:b,tail:e,lineNumber:this.lineNumber,lineStart:this.lineStart,start:c,end:this.index}};t.prototype.testRegExp=function(n,h){var c=this,b=n;0<=h.indexOf("u")&&(b=b.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,
function(e,f,k){e=parseInt(f||k,16);1114111<e&&c.throwUnexpectedToken(p.Messages.InvalidRegExp);return 65535>=e?String.fromCharCode(e):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(b)}catch(e){this.throwUnexpectedToken(p.Messages.InvalidRegExp)}try{return new RegExp(n,h)}catch(e){return null}};t.prototype.scanRegExpBody=function(){var n=this.source[this.index];a.assert("/"===n,"Regular expression literal must start with a slash");for(var h=this.source[this.index++],c=
!1,b=!1;!this.eof();)if(n=this.source[this.index++],h+=n,"\\"===n)n=this.source[this.index++],m.Character.isLineTerminator(n.charCodeAt(0))&&this.throwUnexpectedToken(p.Messages.UnterminatedRegExp),h+=n;else if(m.Character.isLineTerminator(n.charCodeAt(0)))this.throwUnexpectedToken(p.Messages.UnterminatedRegExp);else if(c)"]"===n&&(c=!1);else{if("/"===n){b=!0;break}"["===n&&(c=!0)}b||this.throwUnexpectedToken(p.Messages.UnterminatedRegExp);return h.substr(1,h.length-2)};t.prototype.scanRegExpFlags=
function(){for(var n="";!this.eof();){var h=this.source[this.index];if(!m.Character.isIdentifierPart(h.charCodeAt(0)))break;++this.index;if("\\"!==h||this.eof())n+=h;else{h=this.source[this.index];if("u"===h){++this.index;h=this.index;var c=this.scanHexEscape("u");if(null!==c)for(n+=c;h<this.index;++h);else this.index=h,n+="u"}this.tolerateUnexpectedToken()}}return n};t.prototype.scanRegExp=function(){var n=this.index,h=this.scanRegExpBody(),c=this.scanRegExpFlags(),b=this.testRegExp(h,c);return{type:9,
value:"",pattern:h,flags:c,regex:b,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};t.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var n=this.source.charCodeAt(this.index);return m.Character.isIdentifierStart(n)?this.scanIdentifier():40===n||41===n||59===n?this.scanPunctuator():39===n||34===n?this.scanStringLiteral():46===n?m.Character.isDecimalDigit(this.source.charCodeAt(this.index+
1))?this.scanNumericLiteral():this.scanPunctuator():m.Character.isDecimalDigit(n)?this.scanNumericLiteral():96===n||125===n&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=n&&57343>n&&m.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return t}();A.Scanner=G})},"esri/arcade/lib/character":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.Character=void 0;var a=
/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
m=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
A.Character={fromCodePoint:function(p){return 65536>p?String.fromCharCode(p):String.fromCharCode(55296+(p-65536>>10))+String.fromCharCode(56320+(p-65536&1023))},isWhiteSpace:function(p){return 32===p||9===p||11===p||12===p||160===p||5760<=p&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(p)},isLineTerminator:function(p){return 10===p||13===p||8232===p||8233===p},isIdentifierStart:function(p){return 36===p||95===p||65<=p&&90>=p||97<=p&&122>=p||92===p||
128<=p&&a.test(A.Character.fromCodePoint(p))},isIdentifierPart:function(p){return 36===p||95===p||65<=p&&90>=p||97<=p&&122>=p||48<=p&&57>=p||92===p||128<=p&&m.test(A.Character.fromCodePoint(p))},isDecimalDigit:function(p){return 48<=p&&57>=p},isHexDigit:function(p){return 48<=p&&57>=p||65<=p&&70>=p||97<=p&&102>=p},isOctalDigit:function(p){return 48<=p&&55>=p}}})},"esri/arcade/lib/token":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.TokenName=
A.Token=void 0;G=A.Token||(A.Token={});G[G.BooleanLiteral=1]="BooleanLiteral";G[G.EOF=2]="EOF";G[G.Identifier=3]="Identifier";G[G.Keyword=4]="Keyword";G[G.NullLiteral=5]="NullLiteral";G[G.NumericLiteral=6]="NumericLiteral";G[G.Punctuator=7]="Punctuator";G[G.StringLiteral=8]="StringLiteral";G[G.RegularExpression=9]="RegularExpression";G[G.Template=10]="Template";A.TokenName={};A.TokenName[1]="Boolean";A.TokenName[2]="\x3cend\x3e";A.TokenName[3]="Identifier";A.TokenName[4]="Keyword";A.TokenName[5]=
"Null";A.TokenName[6]="Numeric";A.TokenName[7]="Punctuator";A.TokenName[8]="String";A.TokenName[9]="RegularExpression";A.TokenName[10]="Template"})},"esri/arcade/lib/tokenizer":function(){define(["require","exports","./error-handler","./scanner","./token"],function(G,A,a,m,p){Object.defineProperty(A,"__esModule",{value:!0});A.Tokenizer=void 0;var t=function(){function n(){this.values=[];this.curly=this.paren=-1}n.prototype.beforeFunctionExpression=function(h){return 0<="( { [ in typeof instanceof new return case delete throw void \x3d +\x3d -\x3d *\x3d **\x3d /\x3d %\x3d \x3c\x3c\x3d \x3e\x3e\x3d \x3e\x3e\x3e\x3d \x26\x3d |\x3d ^\x3d , + - * ** / % ++ -- \x3c\x3c \x3e\x3e \x3e\x3e\x3e \x26 | ^ ! ~ \x26\x26 || ? : \x3d\x3d\x3d \x3d\x3d \x3e\x3d \x3c\x3d \x3c \x3e !\x3d !\x3d\x3d".split(" ").indexOf(h)};
n.prototype.isRegexStart=function(){var h=this.values[this.values.length-1],c=null!==h;switch(h){case "this":case "]":c=!1;break;case ")":h=this.values[this.paren-1];c="if"===h||"while"===h||"for"===h||"with"===h;break;case "}":c=!0,"function"===this.values[this.curly-3]?c=(h=this.values[this.curly-4])?!this.beforeFunctionExpression(h):!1:"function"===this.values[this.curly-4]&&(c=(h=this.values[this.curly-5])?!this.beforeFunctionExpression(h):!0)}return c};n.prototype.push=function(h){7===h.type||
4===h.type?("{"===h.value?this.curly=this.values.length:"("===h.value&&(this.paren=this.values.length),this.values.push(h.value)):this.values.push(null)};return n}();G=function(){function n(h,c){this.errorHandler=new a.ErrorHandler;this.errorHandler.tolerant=c?"boolean"===typeof c.tolerant&&c.tolerant:!1;this.scanner=new m.Scanner(h,this.errorHandler);this.scanner.trackComment=c?"boolean"===typeof c.comment&&c.comment:!1;this.trackRange=c?"boolean"===typeof c.range&&c.range:!1;this.trackLoc=c?"boolean"===
typeof c.loc&&c.loc:!1;this.buffer=[];this.reader=new t}n.prototype.errors=function(){return this.errorHandler.errors};n.prototype.getNextToken=function(){if(0===this.buffer.length){var h=this.scanner.scanComments();if(this.scanner.trackComment)for(var c=0;c<h.length;++c){var b=h[c],e=this.scanner.source.slice(b.slice[0],b.slice[1]);e={type:b.multiLine?"BlockComment":"LineComment",value:e};this.trackRange&&(e.range=b.range);this.trackLoc&&(e.loc=b.loc);this.buffer.push(e)}if(!this.scanner.eof()){h=
void 0;this.trackLoc&&(h={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});c=void 0;if("/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()){b=this.scanner.saveState();try{c=this.scanner.scanRegExp()}catch(f){this.scanner.restoreState(b),c=this.scanner.lex()}}else c=this.scanner.lex();this.reader.push(c);b={type:p.TokenName[c.type],value:this.scanner.source.slice(c.start,c.end)};this.trackRange&&(b.range=[c.start,c.end]);this.trackLoc&&
(h.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},b.loc=h);9===c.type&&(b.regex={pattern:c.pattern,flags:c.flags});this.buffer.push(b)}}return this.buffer.shift()};return n}();A.Tokenizer=G})},"esri/moment":function(){define(["require","exports","./plugins/moment!"],function(G,A,a){return a})},"esri/plugins/moment":function(){define(["require","exports","dojo/_base/kernel","moment/moment"],function(G,A,a,m){Object.defineProperty(A,"__esModule",{value:!0});var p=
{ar:1,"ar-dz":1,"ar-kw":1,"ar-ly":1,"ar-ma":1,"ar-sa":1,"ar-tn":1,bs:1,ca:1,cs:1,da:1,de:1,"de-at":1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,"en-ie":1,"en-il":1,"en-in":1,"en-nz":1,"en-sg":1,es:1,"es-do":1,"es-mx":1,"es-us":1,et:1,fi:1,fr:1,"fr-ca":1,"fr-ch":1,he:1,hr:1,hu:1,id:1,it:1,"it-ch":1,ja:1,ko:1,lt:1,lv:1,nb:1,nl:1,"nl-be":1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,sk:1,sl:1,sr:1,"sr-cyrl":1,sv:1,th:1,tr:1,uk:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-mo":1,"zh-tw":1};A.load=function(t,n,h){t=a.locale;var c=
t in p;if(!c){var b=t.split("-");1<b.length&&b[0]in p&&(t=b[0],c=!0)}c?n(["moment/locale/"+t],function(){h(m)}):h(m)}})},"moment/moment":function(){(function(G,A){"object"===typeof exports&&"undefined"!==typeof module?module.exports=A():"function"===typeof define&&define.amd?define(A):G.moment=A()})(this,function(){function G(){return Jc.apply(null,arguments)}function A(R){return R instanceof Array||"[object Array]"===Object.prototype.toString.call(R)}function a(R){return null!=R&&"[object Object]"===
Object.prototype.toString.call(R)}function m(R,aa){return Object.prototype.hasOwnProperty.call(R,aa)}function p(R){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(R).length;for(var aa in R)if(m(R,aa))return!1;return!0}function t(R){return void 0===R}function n(R){return"number"===typeof R||"[object Number]"===Object.prototype.toString.call(R)}function h(R){return R instanceof Date||"[object Date]"===Object.prototype.toString.call(R)}function c(R,aa){var oa=[],xa;for(xa=0;xa<R.length;++xa)oa.push(aa(R[xa],
xa));return oa}function b(R,aa){for(var oa in aa)m(aa,oa)&&(R[oa]=aa[oa]);m(aa,"toString")&&(R.toString=aa.toString);m(aa,"valueOf")&&(R.valueOf=aa.valueOf);return R}function e(R,aa,oa,xa){return Ja(R,aa,oa,xa,!0).utc()}function f(R){null==R._pf&&(R._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1});return R._pf}function k(R){if(null==
R._isValid){var aa=f(R),oa=Ba.call(aa.parsedDateParts,function(xa){return null!=xa});oa=!isNaN(R._d.getTime())&&0>aa.overflow&&!aa.empty&&!aa.invalidEra&&!aa.invalidMonth&&!aa.invalidWeekday&&!aa.weekdayMismatch&&!aa.nullInput&&!aa.invalidFormat&&!aa.userInvalidated&&(!aa.meridiem||aa.meridiem&&oa);R._strict&&(oa=oa&&0===aa.charsLeftOver&&0===aa.unusedTokens.length&&void 0===aa.bigHour);if(null!=Object.isFrozen&&Object.isFrozen(R))return oa;R._isValid=oa}return R._isValid}function u(R){var aa=e(NaN);
null!=R?b(f(aa),R):f(aa).userInvalidated=!0;return aa}function v(R,aa){var oa;t(aa._isAMomentObject)||(R._isAMomentObject=aa._isAMomentObject);t(aa._i)||(R._i=aa._i);t(aa._f)||(R._f=aa._f);t(aa._l)||(R._l=aa._l);t(aa._strict)||(R._strict=aa._strict);t(aa._tzm)||(R._tzm=aa._tzm);t(aa._isUTC)||(R._isUTC=aa._isUTC);t(aa._offset)||(R._offset=aa._offset);t(aa._pf)||(R._pf=f(aa));t(aa._locale)||(R._locale=aa._locale);if(0<Ia.length)for(oa=0;oa<Ia.length;oa++){var xa=Ia[oa];var Ta=aa[xa];t(Ta)||(R[xa]=Ta)}return R}
function g(R){v(this,R);this._d=new Date(null!=R._d?R._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Pa&&(Pa=!0,G.updateOffset(this),Pa=!1)}function q(R){return R instanceof g||null!=R&&null!=R._isAMomentObject}function x(R){!1===G.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+R)}function w(R,aa){var oa=!0;return b(function(){null!=G.deprecationHandler&&G.deprecationHandler(null,R);if(oa){var xa=[],Ta,Ya;for(Ta=0;Ta<arguments.length;Ta++){var $a=
"";if("object"===typeof arguments[Ta]){$a+="\n["+Ta+"] ";for(Ya in arguments[0])m(arguments[0],Ya)&&($a+=Ya+": "+arguments[0][Ya]+", ");$a=$a.slice(0,-2)}else $a=arguments[Ta];xa.push($a)}x(R+"\nArguments: "+Array.prototype.slice.call(xa).join("")+"\n"+Error().stack);oa=!1}return aa.apply(this,arguments)},aa)}function B(R,aa){null!=G.deprecationHandler&&G.deprecationHandler(R,aa);Ua[R]||(x(aa),Ua[R]=!0)}function z(R){return"undefined"!==typeof Function&&R instanceof Function||"[object Function]"===
Object.prototype.toString.call(R)}function C(R,aa){var oa=b({},R),xa;for(xa in aa)m(aa,xa)&&(a(R[xa])&&a(aa[xa])?(oa[xa]={},b(oa[xa],R[xa]),b(oa[xa],aa[xa])):null!=aa[xa]?oa[xa]=aa[xa]:delete oa[xa]);for(xa in R)m(R,xa)&&!m(aa,xa)&&a(R[xa])&&(oa[xa]=b({},oa[xa]));return oa}function y(R){null!=R&&this.set(R)}function D(R,aa,oa){var xa=""+Math.abs(R);return(0<=R?oa?"+":"":"-")+Math.pow(10,Math.max(0,aa-xa.length)).toString().substr(1)+xa}function F(R,aa,oa,xa){var Ta=xa;"string"===typeof xa&&(Ta=function(){return this[xa]()});
R&&(eb[R]=Ta);aa&&(eb[aa[0]]=function(){return D(Ta.apply(this,arguments),aa[1],aa[2])});oa&&(eb[oa]=function(){return this.localeData().ordinal(Ta.apply(this,arguments),R)})}function H(R){return R.match(/\[[\s\S]/)?R.replace(/^\[|\]$/g,""):R.replace(/\\/g,"")}function E(R){var aa=R.match(Wa),oa;var xa=0;for(oa=aa.length;xa<oa;xa++)aa[xa]=eb[aa[xa]]?eb[aa[xa]]:H(aa[xa]);return function(Ta){var Ya="",$a;for($a=0;$a<oa;$a++)Ya+=z(aa[$a])?aa[$a].call(Ta,R):aa[$a];return Ya}}function I(R,aa){if(!R.isValid())return R.localeData().invalidDate();
aa=J(aa,R.localeData());ab[aa]=ab[aa]||E(aa);return ab[aa](R)}function J(R,aa){function oa(Ta){return aa.longDateFormat(Ta)||Ta}var xa=5;for(Xa.lastIndex=0;0<=xa&&Xa.test(R);)R=R.replace(Xa,oa),Xa.lastIndex=0,--xa;return R}function K(R,aa){var oa=R.toLowerCase();Za[oa]=Za[oa+"s"]=Za[aa]=R}function L(R){return"string"===typeof R?Za[R]||Za[R.toLowerCase()]:void 0}function O(R){var aa={},oa,xa;for(xa in R)m(R,xa)&&(oa=L(xa))&&(aa[oa]=R[xa]);return aa}function U(R){var aa=[],oa;for(oa in R)m(R,oa)&&aa.push({unit:oa,
priority:db[oa]});aa.sort(function(xa,Ta){return xa.priority-Ta.priority});return aa}function S(R){return 0===R%4&&0!==R%100||0===R%400}function M(R){return 0>R?Math.ceil(R)||0:Math.floor(R)}function N(R){R=+R;var aa=0;0!==R&&isFinite(R)&&(aa=M(R));return aa}function T(R,aa){return function(oa){return null!=oa?(ea(this,R,oa),G.updateOffset(this,aa),this):V(this,R)}}function V(R,aa){return R.isValid()?R._d["get"+(R._isUTC?"UTC":"")+aa]():NaN}function ea(R,aa,oa){if(R.isValid()&&!isNaN(oa))if("FullYear"===
aa&&S(R.year())&&1===R.month()&&29===R.date())oa=N(oa),R._d["set"+(R._isUTC?"UTC":"")+aa](oa,R.month(),pa(oa,R.month()));else R._d["set"+(R._isUTC?"UTC":"")+aa](oa)}function P(R,aa,oa){wc[R]=z(aa)?aa:function(xa,Ta){return xa&&oa?oa:aa}}function ba(R,aa){return m(wc,R)?wc[R](aa._strict,aa._locale):new RegExp(la(R))}function la(R){return Q(R.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(aa,oa,xa,Ta,Ya){return oa||xa||Ta||Ya}))}function Q(R){return R.replace(/[-\/\\^$*+?.()|[\]{}]/g,
"\\$\x26")}function Y(R,aa){var oa,xa=aa;"string"===typeof R&&(R=[R]);n(aa)&&(xa=function(Ta,Ya){Ya[aa]=N(Ta)});for(oa=0;oa<R.length;oa++)xc[R[oa]]=xa}function ja(R,aa){Y(R,function(oa,xa,Ta,Ya){Ta._w=Ta._w||{};aa(oa,Ta._w,Ta,Ya)})}function pa(R,aa){if(isNaN(R)||isNaN(aa))return NaN;var oa=(aa%12+12)%12;return 1===oa?S(R+(aa-oa)/12)?29:28:31-oa%7%2}function ka(R,aa){if(!R.isValid())return R;if("string"===typeof aa)if(/^\d+$/.test(aa))aa=N(aa);else if(aa=R.localeData().monthsParse(aa),!n(aa))return R;
var oa=Math.min(R.date(),pa(R.year(),aa));R._d["set"+(R._isUTC?"UTC":"")+"Month"](aa,oa);return R}function va(R){return null!=R?(ka(this,R),G.updateOffset(this,!0),this):V(this,"Month")}function Aa(){function R($a,lb){return lb.length-$a.length}var aa=[],oa=[],xa=[],Ta;for(Ta=0;12>Ta;Ta++){var Ya=e([2E3,Ta]);aa.push(this.monthsShort(Ya,""));oa.push(this.months(Ya,""));xa.push(this.months(Ya,""));xa.push(this.monthsShort(Ya,""))}aa.sort(R);oa.sort(R);xa.sort(R);for(Ta=0;12>Ta;Ta++)aa[Ta]=Q(aa[Ta]),
oa[Ta]=Q(oa[Ta]);for(Ta=0;24>Ta;Ta++)xa[Ta]=Q(xa[Ta]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+xa.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+oa.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+aa.join("|")+")","i")}function da(R,aa,oa,xa,Ta,Ya,$a){100>R&&0<=R?(aa=new Date(R+400,aa,oa,xa,Ta,Ya,$a),isFinite(aa.getFullYear())&&aa.setFullYear(R)):aa=new Date(R,aa,oa,xa,Ta,Ya,$a);return aa}function ca(R){if(100>R&&0<=R){var aa=Array.prototype.slice.call(arguments);
aa[0]=R+400;aa=new Date(Date.UTC.apply(null,aa));isFinite(aa.getUTCFullYear())&&aa.setUTCFullYear(R)}else aa=new Date(Date.UTC.apply(null,arguments));return aa}function ma(R,aa,oa){oa=7+aa-oa;return-((7+ca(R,0,oa).getUTCDay()-aa)%7)+oa-1}function qa(R,aa,oa,xa,Ta){oa=(7+oa-xa)%7;xa=ma(R,xa,Ta);xa=1+7*(aa-1)+oa+xa;0>=xa?(aa=R-1,R=(S(aa)?366:365)+xa):xa>(S(R)?366:365)?(aa=R+1,R=xa-(S(R)?366:365)):(aa=R,R=xa);return{year:aa,dayOfYear:R}}function ta(R,aa,oa){var xa=ma(R.year(),aa,oa);xa=Math.floor((R.dayOfYear()-
xa-1)/7)+1;1>xa?(R=R.year()-1,aa=xa+Ca(R,aa,oa)):xa>Ca(R.year(),aa,oa)?(aa=xa-Ca(R.year(),aa,oa),R=R.year()+1):(R=R.year(),aa=xa);return{week:aa,year:R}}function Ca(R,aa,oa){var xa=ma(R,aa,oa);aa=ma(R+1,aa,oa);return((S(R)?366:365)-xa+aa)/7}function ha(R,aa){return R.slice(aa,7).concat(R.slice(0,aa))}function fa(R,aa,oa){var xa;R=R.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],xa=0;7>xa;++xa){var Ta=e([2E3,1]).day(xa);
this._minWeekdaysParse[xa]=this.weekdaysMin(Ta,"").toLocaleLowerCase();this._shortWeekdaysParse[xa]=this.weekdaysShort(Ta,"").toLocaleLowerCase();this._weekdaysParse[xa]=this.weekdays(Ta,"").toLocaleLowerCase()}if(oa)aa="dddd"===aa?Cb.call(this._weekdaysParse,R):"ddd"===aa?Cb.call(this._shortWeekdaysParse,R):Cb.call(this._minWeekdaysParse,R);else if("dddd"===aa){aa=Cb.call(this._weekdaysParse,R);if(-1!==aa)return aa;aa=Cb.call(this._shortWeekdaysParse,R);if(-1!==aa)return aa;aa=Cb.call(this._minWeekdaysParse,
R)}else if("ddd"===aa){aa=Cb.call(this._shortWeekdaysParse,R);if(-1!==aa)return aa;aa=Cb.call(this._weekdaysParse,R);if(-1!==aa)return aa;aa=Cb.call(this._minWeekdaysParse,R)}else{aa=Cb.call(this._minWeekdaysParse,R);if(-1!==aa)return aa;aa=Cb.call(this._weekdaysParse,R);if(-1!==aa)return aa;aa=Cb.call(this._shortWeekdaysParse,R)}return-1!==aa?aa:null}function ra(){function R(pb,Db){return Db.length-pb.length}var aa=[],oa=[],xa=[],Ta=[],Ya;for(Ya=0;7>Ya;Ya++){var $a=e([2E3,1]).day(Ya);var lb=Q(this.weekdaysMin($a,
""));var ub=Q(this.weekdaysShort($a,""));$a=Q(this.weekdays($a,""));aa.push(lb);oa.push(ub);xa.push($a);Ta.push(lb);Ta.push(ub);Ta.push($a)}aa.sort(R);oa.sort(R);xa.sort(R);Ta.sort(R);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+Ta.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+xa.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+oa.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+aa.join("|")+")","i")}function wa(){return this.hours()%
12||12}function Ga(R,aa){F(R,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),aa)})}function Na(R,aa){return aa._meridiemParse}function Ra(R){return R?R.toLowerCase().replace("_","-"):R}function Sa(R){var aa=null;if(void 0===yb[R]&&"undefined"!==typeof module&&module&&module.exports)try{aa=oc._abbr;var oa=require;oa("./locale/"+R);La(aa)}catch(xa){yb[R]=null}return yb[R]}function La(R,aa){R&&((aa=t(aa)?ia(R):W(R,aa))?oc=aa:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+
R+" not found. Did you forget to load it?"));return oc._abbr}function W(R,aa){if(null!==aa){var oa=Ac;aa.abbr=R;if(null!=yb[R])B("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),oa=yb[R]._config;else if(null!=aa.parentLocale)if(null!=yb[aa.parentLocale])oa=yb[aa.parentLocale]._config;else if(oa=
Sa(aa.parentLocale),null!=oa)oa=oa._config;else return pc[aa.parentLocale]||(pc[aa.parentLocale]=[]),pc[aa.parentLocale].push({name:R,config:aa}),null;yb[R]=new y(C(oa,aa));pc[R]&&pc[R].forEach(function(xa){W(xa.name,xa.config)});La(R);return yb[R]}delete yb[R];return null}function ia(R){var aa;R&&R._locale&&R._locale._abbr&&(R=R._locale._abbr);if(!R)return oc;if(!A(R)){if(aa=Sa(R))return aa;R=[R]}a:{aa=0;for(var oa,xa,Ta,Ya;aa<R.length;){Ya=Ra(R[aa]).split("-");oa=Ya.length;for(xa=(xa=Ra(R[aa+1]))?
xa.split("-"):null;0<oa;){if(Ta=Sa(Ya.slice(0,oa).join("-"))){R=Ta;break a}if(Ta=xa&&xa.length>=oa){b:{Ta=void 0;var $a=Math.min(Ya.length,xa.length);for(Ta=0;Ta<$a;Ta+=1)if(Ya[Ta]!==xa[Ta])break b;Ta=$a}Ta=Ta>=oa-1}if(Ta)break;oa--}aa++}R=oc}return R}function sa(R){var aa;(aa=R._a)&&-2===f(R).overflow&&(aa=0>aa[$b]||11<aa[$b]?$b:1>aa[Xb]||aa[Xb]>pa(aa[Kb],aa[$b])?Xb:0>aa[Eb]||24<aa[Eb]||24===aa[Eb]&&(0!==aa[Ub]||0!==aa[ac]||0!==aa[hc])?Eb:0>aa[Ub]||59<aa[Ub]?Ub:0>aa[ac]||59<aa[ac]?ac:0>aa[hc]||999<
aa[hc]?hc:-1,f(R)._overflowDayOfYear&&(aa<Kb||aa>Xb)&&(aa=Xb),f(R)._overflowWeeks&&-1===aa&&(aa=Kc),f(R)._overflowWeekday&&-1===aa&&(aa=Lc),f(R).overflow=aa);return R}function X(R){var aa;var oa=R._i;var xa=Mc.exec(oa)||Nc.exec(oa);if(xa){f(R).iso=!0;oa=0;for(aa=sc.length;oa<aa;oa++)if(sc[oa][1].exec(xa[1])){var Ta=sc[oa][0];var Ya=!1!==sc[oa][2];break}if(null==Ta)R._isValid=!1;else{if(xa[3]){oa=0;for(aa=yc.length;oa<aa;oa++)if(yc[oa][1].exec(xa[3])){var $a=(xa[2]||" ")+yc[oa][0];break}if(null==$a){R._isValid=
!1;return}}if(Ya||null==$a){if(xa[4])if(Oc.exec(xa[4]))var lb="Z";else{R._isValid=!1;return}R._f=Ta+($a||"")+(lb||"");Oa(R)}else R._isValid=!1}}else R._isValid=!1}function na(R){var aa=Pc.exec(R._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(aa){var oa=aa[3],xa=aa[2],Ta=aa[5],Ya=aa[6],$a=aa[7],lb=parseInt(aa[4],10);oa=[49>=lb?2E3+lb:999>=lb?1900+lb:lb,Bc.indexOf(oa),parseInt(xa,10),parseInt(Ta,10),parseInt(Ya,10)];$a&&oa.push(parseInt($a,
10));a:{if($a=aa[1])if($a=Cc.indexOf($a),xa=(new Date(oa[0],oa[1],oa[2])).getDay(),$a!==xa){f(R).weekdayMismatch=!0;$a=R._isValid=!1;break a}$a=!0}$a&&(R._a=oa,($a=aa[8])?aa=Qc[$a]:aa[9]?aa=0:(aa=parseInt(aa[10],10),$a=aa%100,aa=(aa-$a)/100*60+$a),R._tzm=aa,R._d=ca.apply(null,R._a),R._d.setUTCMinutes(R._d.getUTCMinutes()-R._tzm),f(R).rfc2822=!0)}else R._isValid=!1}function ua(R){var aa=Rc.exec(R._i);null!==aa?R._d=new Date(+aa[1]):(X(R),!1===R._isValid&&(delete R._isValid,na(R),!1===R._isValid&&(delete R._isValid,
R._strict?R._isValid=!1:G.createFromInputFallback(R))))}function ya(R,aa,oa){return null!=R?R:null!=aa?aa:oa}function Ha(R){var aa=[];if(!R._d){var oa=new Date(G.now());oa=R._useUTC?[oa.getUTCFullYear(),oa.getUTCMonth(),oa.getUTCDate()]:[oa.getFullYear(),oa.getMonth(),oa.getDate()];if(R._w&&null==R._a[Xb]&&null==R._a[$b]){var xa=R._w;if(null!=xa.GG||null!=xa.W||null!=xa.E){var Ta=1;var Ya=4;var $a=ya(xa.GG,R._a[Kb],ta(Va(),1,4).year);var lb=ya(xa.W,1);var ub=ya(xa.E,1);if(1>ub||7<ub)var pb=!0}else if(Ta=
R._locale._week.dow,Ya=R._locale._week.doy,lb=ta(Va(),Ta,Ya),$a=ya(xa.gg,R._a[Kb],lb.year),lb=ya(xa.w,lb.week),null!=xa.d){if(ub=xa.d,0>ub||6<ub)pb=!0}else if(null!=xa.e){if(ub=xa.e+Ta,0>xa.e||6<xa.e)pb=!0}else ub=Ta;1>lb||lb>Ca($a,Ta,Ya)?f(R)._overflowWeeks=!0:null!=pb?f(R)._overflowWeekday=!0:(pb=qa($a,lb,ub,Ta,Ya),R._a[Kb]=pb.year,R._dayOfYear=pb.dayOfYear)}if(null!=R._dayOfYear){pb=ya(R._a[Kb],oa[Kb]);if(R._dayOfYear>(S(pb)?366:365)||0===R._dayOfYear)f(R)._overflowDayOfYear=!0;pb=ca(pb,0,R._dayOfYear);
R._a[$b]=pb.getUTCMonth();R._a[Xb]=pb.getUTCDate()}for(pb=0;3>pb&&null==R._a[pb];++pb)R._a[pb]=aa[pb]=oa[pb];for(;7>pb;pb++)R._a[pb]=aa[pb]=null==R._a[pb]?2===pb?1:0:R._a[pb];24===R._a[Eb]&&0===R._a[Ub]&&0===R._a[ac]&&0===R._a[hc]&&(R._nextDay=!0,R._a[Eb]=0);R._d=(R._useUTC?ca:da).apply(null,aa);aa=R._useUTC?R._d.getUTCDay():R._d.getDay();null!=R._tzm&&R._d.setUTCMinutes(R._d.getUTCMinutes()-R._tzm);R._nextDay&&(R._a[Eb]=24);R._w&&"undefined"!==typeof R._w.d&&R._w.d!==aa&&(f(R).weekdayMismatch=!0)}}
function Oa(R){if(R._f===G.ISO_8601)X(R);else if(R._f===G.RFC_2822)na(R);else{R._a=[];f(R).empty=!0;var aa=""+R._i,oa,xa,Ta=aa.length,Ya=0;var $a=J(R._f,R._locale).match(Wa)||[];for(oa=0;oa<$a.length;oa++){var lb=$a[oa];if(xa=(aa.match(ba(lb,R))||[])[0]){var ub=aa.substr(0,aa.indexOf(xa));0<ub.length&&f(R).unusedInput.push(ub);aa=aa.slice(aa.indexOf(xa)+xa.length);Ya+=xa.length}if(eb[lb]){if(xa?f(R).empty=!1:f(R).unusedTokens.push(lb),ub=R,null!=xa&&m(xc,lb))xc[lb](xa,ub._a,ub,lb)}else R._strict&&
!xa&&f(R).unusedTokens.push(lb)}f(R).charsLeftOver=Ta-Ya;0<aa.length&&f(R).unusedInput.push(aa);12>=R._a[Eb]&&!0===f(R).bigHour&&0<R._a[Eb]&&(f(R).bigHour=void 0);f(R).parsedDateParts=R._a.slice(0);f(R).meridiem=R._meridiem;aa=R._a;oa=Eb;Ta=R._locale;$a=R._a[Eb];Ya=R._meridiem;null!=Ya&&(null!=Ta.meridiemHour?$a=Ta.meridiemHour($a,Ya):null!=Ta.isPM&&((Ta=Ta.isPM(Ya))&&12>$a&&($a+=12),Ta||12!==$a||($a=0)));aa[oa]=$a;aa=f(R).era;null!==aa&&(R._a[Kb]=R._locale.erasConvertYear(aa,R._a[Kb]));Ha(R);sa(R)}}
function Ma(R){if(!R._d){var aa=O(R._i);R._a=c([aa.year,aa.month,void 0===aa.day?aa.date:aa.day,aa.hour,aa.minute,aa.second,aa.millisecond],function(oa){return oa&&parseInt(oa,10)});Ha(R)}}function Da(R){var aa=R._i,oa=R._f;R._locale=R._locale||ia(R._l);if(null===aa||void 0===oa&&""===aa)return u({nullInput:!0});"string"===typeof aa&&(R._i=aa=R._locale.preparse(aa));if(q(aa))return new g(sa(aa));if(h(aa))R._d=aa;else if(A(oa)){var xa=!1;if(0===R._f.length)f(R).invalidFormat=!0,R._d=new Date(NaN);
else{for(aa=0;aa<R._f.length;aa++){oa=0;var Ta=!1;var Ya=v({},R);null!=R._useUTC&&(Ya._useUTC=R._useUTC);Ya._f=R._f[aa];Oa(Ya);k(Ya)&&(Ta=!0);oa+=f(Ya).charsLeftOver;oa+=10*f(Ya).unusedTokens.length;f(Ya).score=oa;if(xa)oa<$a&&($a=oa,lb=Ya);else if(null==$a||oa<$a||Ta){var $a=oa;var lb=Ya;Ta&&(xa=!0)}}b(R,lb||Ya)}}else oa?Oa(R):Ka(R);k(R)||(R._d=null);return R}function Ka(R){var aa=R._i;t(aa)?R._d=new Date(G.now()):h(aa)?R._d=new Date(aa.valueOf()):"string"===typeof aa?ua(R):A(aa)?(R._a=c(aa.slice(0),
function(oa){return parseInt(oa,10)}),Ha(R)):a(aa)?Ma(R):n(aa)?R._d=new Date(aa):G.createFromInputFallback(R)}function Ja(R,aa,oa,xa,Ta){var Ya={};if(!0===aa||!1===aa)xa=aa,aa=void 0;if(!0===oa||!1===oa)xa=oa,oa=void 0;if(a(R)&&p(R)||A(R)&&0===R.length)R=void 0;Ya._isAMomentObject=!0;Ya._useUTC=Ya._isUTC=Ta;Ya._l=oa;Ya._i=R;Ya._f=aa;Ya._strict=xa;R=new g(sa(Da(Ya)));R._nextDay&&(R.add(1,"d"),R._nextDay=void 0);return R}function Va(R,aa,oa,xa){return Ja(R,aa,oa,xa,!1)}function fb(R,aa){var oa;1===
aa.length&&A(aa[0])&&(aa=aa[0]);if(!aa.length)return Va();var xa=aa[0];for(oa=1;oa<aa.length;++oa)if(!aa[oa].isValid()||aa[oa][R](xa))xa=aa[oa];return xa}function bb(R){var aa=O(R);R=aa.year||0;var oa=aa.quarter||0,xa=aa.month||0,Ta=aa.week||aa.isoWeek||0,Ya=aa.day||0,$a=aa.hour||0,lb=aa.minute||0,ub=aa.second||0,pb=aa.millisecond||0;a:{var Db,Dc=!1;for(Db in aa)if(m(aa,Db)&&(-1===Cb.call(qc,Db)||null!=aa[Db]&&isNaN(aa[Db]))){aa=!1;break a}for(Db=0;Db<qc.length;++Db)if(aa[qc[Db]]){if(Dc){aa=!1;break a}parseFloat(aa[qc[Db]])!==
N(aa[qc[Db]])&&(Dc=!0)}aa=!0}this._isValid=aa;this._milliseconds=+pb+1E3*ub+6E4*lb+36E5*$a;this._days=+Ya+7*Ta;this._months=+xa+3*oa+12*R;this._data={};this._locale=ia();this._bubble()}function kb(R){return R instanceof bb}function hb(R){return 0>R?-1*Math.round(-1*R):Math.round(R)}function nb(R,aa){F(R,0,0,function(){var oa=this.utcOffset(),xa="+";0>oa&&(oa=-oa,xa="-");return xa+D(~~(oa/60),2)+aa+D(~~oa%60,2)})}function tb(R,aa){R=(aa||"").match(R);if(null===R)return null;R=((R[R.length-1]||[])+
"").match(Sc)||["-",0,0];aa=+(60*R[1])+N(R[2]);return 0===aa?0:"+"===R[0]?aa:-aa}function ob(R,aa){return aa._isUTC?(aa=aa.clone(),R=(q(R)||h(R)?R.valueOf():Va(R).valueOf())-aa.valueOf(),aa._d.setTime(aa._d.valueOf()+R),G.updateOffset(aa,!1),aa):Va(R).local()}function ib(){return this.isValid()?this._isUTC&&0===this._offset:!1}function mb(R,aa){var oa=R,xa=null;kb(R)?oa={ms:R._milliseconds,d:R._days,M:R._months}:n(R)||!isNaN(+R)?(oa={},aa?oa[aa]=+R:oa.milliseconds=+R):(xa=Tc.exec(R))?(oa="-"===xa[1]?
-1:1,oa={y:0,d:N(xa[Xb])*oa,h:N(xa[Eb])*oa,m:N(xa[Ub])*oa,s:N(xa[ac])*oa,ms:N(hb(1E3*xa[hc]))*oa}):(xa=Uc.exec(R))?(oa="-"===xa[1]?-1:1,oa={y:rb(xa[2],oa),M:rb(xa[3],oa),w:rb(xa[4],oa),d:rb(xa[5],oa),h:rb(xa[6],oa),m:rb(xa[7],oa),s:rb(xa[8],oa)}):null==oa?oa={}:"object"===typeof oa&&("from"in oa||"to"in oa)&&(xa=Va(oa.from),oa=Va(oa.to),xa.isValid()&&oa.isValid()?(oa=ob(oa,xa),xa.isBefore(oa)?oa=Hb(xa,oa):(oa=Hb(oa,xa),oa.milliseconds=-oa.milliseconds,oa.months=-oa.months),xa=oa):xa={milliseconds:0,
months:0},oa={},oa.ms=xa.milliseconds,oa.M=xa.months);oa=new bb(oa);kb(R)&&m(R,"_locale")&&(oa._locale=R._locale);kb(R)&&m(R,"_isValid")&&(oa._isValid=R._isValid);return oa}function rb(R,aa){R=R&&parseFloat(R.replace(",","."));return(isNaN(R)?0:R)*aa}function Hb(R,aa){var oa={};oa.months=aa.month()-R.month()+12*(aa.year()-R.year());R.clone().add(oa.months,"M").isAfter(aa)&&--oa.months;oa.milliseconds=+aa-+R.clone().add(oa.months,"M");return oa}function Bb(R,aa){return function(oa,xa){if(null!==xa&&
!isNaN(+xa)){B(aa,"moment()."+aa+"(period, number) is deprecated. Please use moment()."+aa+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");var Ta=oa;oa=xa;xa=Ta}oa=mb(oa,xa);wb(this,oa,R);return this}}function wb(R,aa,oa,xa){var Ta=aa._milliseconds,Ya=hb(aa._days);aa=hb(aa._months);R.isValid()&&(xa=null==xa?!0:xa,aa&&ka(R,V(R,"Month")+aa*oa),Ya&&ea(R,"Date",V(R,"Date")+Ya*oa),Ta&&R._d.setTime(R._d.valueOf()+Ta*oa),xa&&G.updateOffset(R,Ya||aa))}function Nb(R){return"string"===
typeof R||R instanceof String}function xb(R){var aa=A(R),oa=!1;aa&&(oa=0===R.filter(function(xa){return!n(xa)&&Nb(R)}).length);return aa&&oa}function Ab(R,aa){if(R.date()<aa.date())return-Ab(aa,R);var oa=12*(aa.year()-R.year())+(aa.month()-R.month()),xa=R.clone().add(oa,"months");0>aa-xa?(R=R.clone().add(oa-1,"months"),aa=(aa-xa)/(xa-R)):(R=R.clone().add(oa+1,"months"),aa=(aa-xa)/(R-xa));return-(oa+aa)||0}function Jb(R){if(void 0===R)return this._locale._abbr;R=ia(R);null!=R&&(this._locale=R);return this}
function Rb(){return this._locale}function Fb(R,aa){return(R%aa+aa)%aa}function Lb(R,aa,oa){return 100>R&&0<=R?new Date(R+400,aa,oa)-Ec:(new Date(R,aa,oa)).valueOf()}function Yb(R,aa,oa){return 100>R&&0<=R?Date.UTC(R+400,aa,oa)-Ec:Date.UTC(R,aa,oa)}function Qb(R,aa){return aa.erasAbbrRegex(R)}function Pb(){var R=[],aa=[],oa=[],xa=[],Ta,Ya=this.eras();var $a=0;for(Ta=Ya.length;$a<Ta;++$a)aa.push(Q(Ya[$a].name)),R.push(Q(Ya[$a].abbr)),oa.push(Q(Ya[$a].narrow)),xa.push(Q(Ya[$a].name)),xa.push(Q(Ya[$a].abbr)),
xa.push(Q(Ya[$a].narrow));this._erasRegex=new RegExp("^("+xa.join("|")+")","i");this._erasNameRegex=new RegExp("^("+aa.join("|")+")","i");this._erasAbbrRegex=new RegExp("^("+R.join("|")+")","i");this._erasNarrowRegex=new RegExp("^("+oa.join("|")+")","i")}function Sb(R,aa){F(0,[R,R.length],0,aa)}function dc(R,aa,oa,xa,Ta){if(null==R)return ta(this,xa,Ta).year;var Ya=Ca(R,xa,Ta);aa>Ya&&(aa=Ya);R=qa(R,aa,oa,xa,Ta);R=ca(R.year,0,R.dayOfYear);this.year(R.getUTCFullYear());this.month(R.getUTCMonth());this.date(R.getUTCDate());
return this}function Tb(R,aa){aa[hc]=N(1E3*("0."+R))}function Gb(R){return R}function Vb(R,aa,oa,xa){var Ta=ia();aa=e().set(xa,aa);return Ta[oa](aa,R)}function Zb(R,aa,oa){n(R)&&(aa=R,R=void 0);R=R||"";if(null!=aa)return Vb(R,aa,oa,"month");var xa=[];for(aa=0;12>aa;aa++)xa[aa]=Vb(R,aa,oa,"month");return xa}function ec(R,aa,oa,xa){"boolean"!==typeof R&&(oa=aa=R,R=!1);n(aa)&&(oa=aa,aa=void 0);aa=aa||"";var Ta=ia();R=R?Ta._week.dow:0;Ta=[];if(null!=oa)return Vb(aa,(oa+R)%7,xa,"day");for(oa=0;7>oa;oa++)Ta[oa]=
Vb(aa,(oa+R)%7,xa,"day");return Ta}function Wb(R,aa,oa,xa){aa=mb(aa,oa);R._milliseconds+=xa*aa._milliseconds;R._days+=xa*aa._days;R._months+=xa*aa._months;return R._bubble()}function gc(R){return 0>R?Math.floor(R):Math.ceil(R)}function Mb(R){return function(){return this.as(R)}}function za(R){return function(){return this.isValid()?this._data[R]:NaN}}function Z(R,aa,oa,xa,Ta){return Ta.relativeTime(aa||1,!!oa,R,xa)}function Fa(R){return(0<R)-(0>R)||+R}function Ea(){if(!this.isValid())return this.localeData().invalidDate();
var R=zc(this._milliseconds)/1E3,aa=zc(this._days),oa=zc(this._months),xa=this.asSeconds();if(!xa)return"P0D";var Ta=M(R/60);var Ya=M(Ta/60);R%=60;Ta%=60;var $a=M(oa/12);oa%=12;var lb=R?R.toFixed(3).replace(/\.?0+$/,""):"";var ub=0>xa?"-":"";var pb=Fa(this._months)!==Fa(xa)?"-":"";var Db=Fa(this._days)!==Fa(xa)?"-":"";xa=Fa(this._milliseconds)!==Fa(xa)?"-":"";return ub+"P"+($a?pb+$a+"Y":"")+(oa?pb+oa+"M":"")+(aa?Db+aa+"D":"")+(Ya||Ta||R?"T":"")+(Ya?xa+Ya+"H":"")+(Ta?xa+Ta+"M":"")+(R?xa+lb+"S":"")}
var Ba=Array.prototype.some?Array.prototype.some:function(R){var aa=Object(this),oa=aa.length>>>0,xa;for(xa=0;xa<oa;xa++)if(xa in aa&&R.call(this,aa[xa],xa,aa))return!0;return!1};var Ia=G.momentProperties=[],Pa=!1,Ua={};G.suppressDeprecationWarnings=!1;G.deprecationHandler=null;var Qa=Object.keys?Object.keys:function(R){var aa,oa=[];for(aa in R)m(R,aa)&&oa.push(aa);return oa};var Wa=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
Xa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ab={},eb={},Za={},db={},gb=/\d/,jb=/\d\d/,Ib=/\d{3}/,lc=/\d{4}/,ic=/[+-]?\d{6}/,vb=/\d\d?/,zb=/\d\d\d\d?/,jc=/\d\d\d\d\d\d?/,Ob=/\d{1,3}/,kc=/\d{1,4}/,tc=/[+-]?\d{1,6}/,mc=/\d+/,uc=/[+-]?\d+/,Vc=/Z|[+-]\d\d:?\d\d/gi,vc=/Z|[+-]\d\d(?::?\d\d)?/gi,rc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;var wc={};var xc={},Kb=0,$b=1,Xb=2,Eb=3,Ub=4,ac=5,hc=
6,Kc=7,Lc=8;var Cb=Array.prototype.indexOf?Array.prototype.indexOf:function(R){var aa;for(aa=0;aa<this.length;++aa)if(this[aa]===R)return aa;return-1};F("M",["MM",2],"Mo",function(){return this.month()+1});F("MMM",0,0,function(R){return this.localeData().monthsShort(this,R)});F("MMMM",0,0,function(R){return this.localeData().months(this,R)});K("month","M");db.month=8;P("M",vb);P("MM",vb,jb);P("MMM",function(R,aa){return aa.monthsShortRegex(R)});P("MMMM",function(R,aa){return aa.monthsRegex(R)});Y(["M",
"MM"],function(R,aa){aa[$b]=N(R)-1});Y(["MMM","MMMM"],function(R,aa,oa,xa){xa=oa._locale.monthsParse(R,xa,oa._strict);null!=xa?aa[$b]=xa:f(oa).invalidMonth=R});var Bc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Fc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;F("Y",0,0,function(){var R=this.year();return 9999>=R?D(R,4):"+"+R});F(0,["YY",2],0,function(){return this.year()%100});F(0,["YYYY",4],0,"year");F(0,["YYYYY",5],0,"year");F(0,["YYYYYY",6,!0],0,"year");K("year","y");db.year=1;P("Y",uc);P("YY",
vb,jb);P("YYYY",kc,lc);P("YYYYY",tc,ic);P("YYYYYY",tc,ic);Y(["YYYYY","YYYYYY"],Kb);Y("YYYY",function(R,aa){aa[Kb]=2===R.length?G.parseTwoDigitYear(R):N(R)});Y("YY",function(R,aa){aa[Kb]=G.parseTwoDigitYear(R)});Y("Y",function(R,aa){aa[Kb]=parseInt(R,10)});G.parseTwoDigitYear=function(R){return N(R)+(68<N(R)?1900:2E3)};var Gc=T("FullYear",!0);F("w",["ww",2],"wo","week");F("W",["WW",2],"Wo","isoWeek");K("week","w");K("isoWeek","W");db.week=5;db.isoWeek=5;P("w",vb);P("ww",vb,jb);P("W",vb);P("WW",vb,
jb);ja(["w","ww","W","WW"],function(R,aa,oa,xa){aa[xa.substr(0,1)]=N(R)});F("d",0,"do","day");F("dd",0,0,function(R){return this.localeData().weekdaysMin(this,R)});F("ddd",0,0,function(R){return this.localeData().weekdaysShort(this,R)});F("dddd",0,0,function(R){return this.localeData().weekdays(this,R)});F("e",0,0,"weekday");F("E",0,0,"isoWeekday");K("day","d");K("weekday","e");K("isoWeekday","E");db.day=11;db.weekday=11;db.isoWeekday=11;P("d",vb);P("e",vb);P("E",vb);P("dd",function(R,aa){return aa.weekdaysMinRegex(R)});
P("ddd",function(R,aa){return aa.weekdaysShortRegex(R)});P("dddd",function(R,aa){return aa.weekdaysRegex(R)});ja(["dd","ddd","dddd"],function(R,aa,oa,xa){xa=oa._locale.weekdaysParse(R,xa,oa._strict);null!=xa?aa.d=xa:f(oa).invalidWeekday=R});ja(["d","e","E"],function(R,aa,oa,xa){aa[xa]=N(R)});var Cc="Sun Mon Tue Wed Thu Fri Sat".split(" ");F("H",["HH",2],0,"hour");F("h",["hh",2],0,wa);F("k",["kk",2],0,function(){return this.hours()||24});F("hmm",0,0,function(){return""+wa.apply(this)+D(this.minutes(),
2)});F("hmmss",0,0,function(){return""+wa.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)});F("Hmm",0,0,function(){return""+this.hours()+D(this.minutes(),2)});F("Hmmss",0,0,function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)});Ga("a",!0);Ga("A",!1);K("hour","h");db.hour=13;P("a",Na);P("A",Na);P("H",vb);P("h",vb);P("k",vb);P("HH",vb,jb);P("hh",vb,jb);P("kk",vb,jb);P("hmm",zb);P("hmmss",jc);P("Hmm",zb);P("Hmmss",jc);Y(["H","HH"],Eb);Y(["k","kk"],function(R,aa,oa){R=N(R);aa[Eb]=
24===R?0:R});Y(["a","A"],function(R,aa,oa){oa._isPm=oa._locale.isPM(R);oa._meridiem=R});Y(["h","hh"],function(R,aa,oa){aa[Eb]=N(R);f(oa).bigHour=!0});Y("hmm",function(R,aa,oa){var xa=R.length-2;aa[Eb]=N(R.substr(0,xa));aa[Ub]=N(R.substr(xa));f(oa).bigHour=!0});Y("hmmss",function(R,aa,oa){var xa=R.length-4,Ta=R.length-2;aa[Eb]=N(R.substr(0,xa));aa[Ub]=N(R.substr(xa,2));aa[ac]=N(R.substr(Ta));f(oa).bigHour=!0});Y("Hmm",function(R,aa,oa){oa=R.length-2;aa[Eb]=N(R.substr(0,oa));aa[Ub]=N(R.substr(oa))});
Y("Hmmss",function(R,aa,oa){oa=R.length-4;var xa=R.length-2;aa[Eb]=N(R.substr(0,oa));aa[Ub]=N(R.substr(oa,2));aa[ac]=N(R.substr(xa))});var Wc=T("Hours",!0),Ac={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,
relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:Bc,week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:Cc,
meridiemParse:/[ap]\.?m?\.?/i},yb={},pc={},oc,Mc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Nc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Oc=/Z|[+-]\d\d(?::?\d\d)?/,sc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,
!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],yc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Rc=
/^\/?Date\((-?\d+)/i,Pc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Qc={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};G.createFromInputFallback=w("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
function(R){R._d=new Date(R._i+(R._useUTC?" UTC":""))});G.ISO_8601=function(){};G.RFC_2822=function(){};var Xc=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var R=Va.apply(null,arguments);return this.isValid()&&R.isValid()?R<this?this:R:u()}),Yc=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var R=Va.apply(null,arguments);return this.isValid()&&R.isValid()?R>this?
this:R:u()}),qc="year quarter month week day hour minute second millisecond".split(" ");nb("Z",":");nb("ZZ","");P("Z",vc);P("ZZ",vc);Y(["Z","ZZ"],function(R,aa,oa){oa._useUTC=!0;oa._tzm=tb(vc,R)});var Sc=/([\+\-]|\d\d)/gi;G.updateOffset=function(){};var Tc=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Uc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;mb.fn=bb.prototype;
mb.invalid=function(){return mb(NaN)};var Zc=Bb(1,"add"),$c=Bb(-1,"subtract");G.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";G.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Hc=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(R){return void 0===R?this.localeData():this.locale(R)}),Ec=126227808E5;F("N",0,0,"eraAbbr");F("NN",0,0,"eraAbbr");F("NNN",0,0,"eraAbbr");F("NNNN",0,0,"eraName");F("NNNNN",0,0,"eraNarrow");
F("y",["y",1],"yo","eraYear");F("y",["yy",2],0,"eraYear");F("y",["yyy",3],0,"eraYear");F("y",["yyyy",4],0,"eraYear");P("N",Qb);P("NN",Qb);P("NNN",Qb);P("NNNN",function(R,aa){return aa.erasNameRegex(R)});P("NNNNN",function(R,aa){return aa.erasNarrowRegex(R)});Y(["N","NN","NNN","NNNN","NNNNN"],function(R,aa,oa,xa){(aa=oa._locale.erasParse(R,xa,oa._strict))?f(oa).era=aa:f(oa).invalidEra=R});P("y",mc);P("yy",mc);P("yyy",mc);P("yyyy",mc);P("yo",function(R,aa){return aa._eraYearOrdinalRegex||mc});Y(["y",
"yy","yyy","yyyy"],Kb);Y(["yo"],function(R,aa,oa,xa){var Ta;oa._locale._eraYearOrdinalRegex&&(Ta=R.match(oa._locale._eraYearOrdinalRegex));aa[Kb]=oa._locale.eraYearOrdinalParse?oa._locale.eraYearOrdinalParse(R,Ta):parseInt(R,10)});F(0,["gg",2],0,function(){return this.weekYear()%100});F(0,["GG",2],0,function(){return this.isoWeekYear()%100});Sb("gggg","weekYear");Sb("ggggg","weekYear");Sb("GGGG","isoWeekYear");Sb("GGGGG","isoWeekYear");K("weekYear","gg");K("isoWeekYear","GG");db.weekYear=1;db.isoWeekYear=
1;P("G",uc);P("g",uc);P("GG",vb,jb);P("gg",vb,jb);P("GGGG",kc,lc);P("gggg",kc,lc);P("GGGGG",tc,ic);P("ggggg",tc,ic);ja(["gggg","ggggg","GGGG","GGGGG"],function(R,aa,oa,xa){aa[xa.substr(0,2)]=N(R)});ja(["gg","GG"],function(R,aa,oa,xa){aa[xa]=G.parseTwoDigitYear(R)});F("Q",0,"Qo","quarter");K("quarter","Q");db.quarter=7;P("Q",gb);Y("Q",function(R,aa){aa[$b]=3*(N(R)-1)});F("D",["DD",2],"Do","date");K("date","D");db.date=9;P("D",vb);P("DD",vb,jb);P("Do",function(R,aa){return R?aa._dayOfMonthOrdinalParse||
aa._ordinalParse:aa._dayOfMonthOrdinalParseLenient});Y(["D","DD"],Xb);Y("Do",function(R,aa){aa[Xb]=N(R.match(vb)[0])});var Ic=T("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear");K("dayOfYear","DDD");db.dayOfYear=4;P("DDD",Ob);P("DDDD",Ib);Y(["DDD","DDDD"],function(R,aa,oa){oa._dayOfYear=N(R)});F("m",["mm",2],0,"minute");K("minute","m");db.minute=14;P("m",vb);P("mm",vb,jb);Y(["m","mm"],Ub);var ad=T("Minutes",!1);F("s",["ss",2],0,"second");K("second","s");db.second=15;P("s",vb);P("ss",vb,jb);Y(["s",
"ss"],ac);var bd=T("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)});F(0,["SS",2],0,function(){return~~(this.millisecond()/10)});F(0,["SSS",3],0,"millisecond");F(0,["SSSS",4],0,function(){return 10*this.millisecond()});F(0,["SSSSS",5],0,function(){return 100*this.millisecond()});F(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});F(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});F(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});F(0,["SSSSSSSSS",
9],0,function(){return 1E6*this.millisecond()});K("millisecond","ms");db.millisecond=16;P("S",Ob,gb);P("SS",Ob,jb);P("SSS",Ob,Ib);var fc;for(fc="SSSS";9>=fc.length;fc+="S")P(fc,mc);for(fc="S";9>=fc.length;fc+="S")Y(fc,Tb);var cd=T("Milliseconds",!1);F("z",0,0,"zoneAbbr");F("zz",0,0,"zoneName");var cb=g.prototype;cb.add=Zc;cb.calendar=function(R,aa){if(1===arguments.length)if(arguments[0]){var oa=arguments[0],xa;if(!(xa=q(oa)||h(oa)||Nb(oa)||n(oa)||xb(oa))){xa=a(oa)&&!p(oa);var Ta=!1,Ya="years year y months month M days day d dates date D hours hour h minutes minute m seconds second s milliseconds millisecond ms".split(" "),
$a;for($a=0;$a<Ya.length;$a+=1){var lb=Ya[$a];Ta=Ta||m(oa,lb)}xa=xa&&Ta}if(xa||null===oa||void 0===oa)R=arguments[0],aa=void 0;else{oa=arguments[0];xa=a(oa)&&!p(oa);Ta=!1;Ya="sameDay nextDay lastDay nextWeek lastWeek sameElse".split(" ");for($a=0;$a<Ya.length;$a+=1)lb=Ya[$a],Ta=Ta||m(oa,lb);xa&&Ta&&(aa=arguments[0],R=void 0)}}else aa=R=void 0;oa=R||Va();xa=ob(oa,this).startOf("day");xa=G.calendarFormat(this,xa)||"sameElse";Ta=aa&&(z(aa[xa])?aa[xa].call(this,oa):aa[xa]);return this.format(Ta||this.localeData().calendar(xa,
this,Va(oa)))};cb.clone=function(){return new g(this)};cb.diff=function(R,aa,oa){if(!this.isValid())return NaN;R=ob(R,this);if(!R.isValid())return NaN;var xa=6E4*(R.utcOffset()-this.utcOffset());aa=L(aa);switch(aa){case "year":aa=Ab(this,R)/12;break;case "month":aa=Ab(this,R);break;case "quarter":aa=Ab(this,R)/3;break;case "second":aa=(this-R)/1E3;break;case "minute":aa=(this-R)/6E4;break;case "hour":aa=(this-R)/36E5;break;case "day":aa=(this-R-xa)/864E5;break;case "week":aa=(this-R-xa)/6048E5;break;
default:aa=this-R}return oa?aa:M(aa)};cb.endOf=function(R){R=L(R);if(void 0===R||"millisecond"===R||!this.isValid())return this;var aa=this._isUTC?Yb:Lb;switch(R){case "year":var oa=aa(this.year()+1,0,1)-1;break;case "quarter":oa=aa(this.year(),this.month()-this.month()%3+3,1)-1;break;case "month":oa=aa(this.year(),this.month()+1,1)-1;break;case "week":oa=aa(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case "isoWeek":oa=aa(this.year(),this.month(),this.date()-(this.isoWeekday()-
1)+7)-1;break;case "day":case "date":oa=aa(this.year(),this.month(),this.date()+1)-1;break;case "hour":oa=this._d.valueOf();oa+=36E5-Fb(oa+(this._isUTC?0:6E4*this.utcOffset()),36E5)-1;break;case "minute":oa=this._d.valueOf();oa+=6E4-Fb(oa,6E4)-1;break;case "second":oa=this._d.valueOf(),oa+=1E3-Fb(oa,1E3)-1}this._d.setTime(oa);G.updateOffset(this,!0);return this};cb.format=function(R){R||(R=this.isUtc()?G.defaultFormatUtc:G.defaultFormat);R=I(this,R);return this.localeData().postformat(R)};cb.from=
function(R,aa){return this.isValid()&&(q(R)&&R.isValid()||Va(R).isValid())?mb({to:this,from:R}).locale(this.locale()).humanize(!aa):this.localeData().invalidDate()};cb.fromNow=function(R){return this.from(Va(),R)};cb.to=function(R,aa){return this.isValid()&&(q(R)&&R.isValid()||Va(R).isValid())?mb({from:this,to:R}).locale(this.locale()).humanize(!aa):this.localeData().invalidDate()};cb.toNow=function(R){return this.to(Va(),R)};cb.get=function(R){R=L(R);return z(this[R])?this[R]():this};cb.invalidAt=
function(){return f(this).overflow};cb.isAfter=function(R,aa){R=q(R)?R:Va(R);if(!this.isValid()||!R.isValid())return!1;aa=L(aa)||"millisecond";return"millisecond"===aa?this.valueOf()>R.valueOf():R.valueOf()<this.clone().startOf(aa).valueOf()};cb.isBefore=function(R,aa){R=q(R)?R:Va(R);if(!this.isValid()||!R.isValid())return!1;aa=L(aa)||"millisecond";return"millisecond"===aa?this.valueOf()<R.valueOf():this.clone().endOf(aa).valueOf()<R.valueOf()};cb.isBetween=function(R,aa,oa,xa){R=q(R)?R:Va(R);aa=
q(aa)?aa:Va(aa);if(!(this.isValid()&&R.isValid()&&aa.isValid()))return!1;xa=xa||"()";return("("===xa[0]?this.isAfter(R,oa):!this.isBefore(R,oa))&&(")"===xa[1]?this.isBefore(aa,oa):!this.isAfter(aa,oa))};cb.isSame=function(R,aa){R=q(R)?R:Va(R);if(!this.isValid()||!R.isValid())return!1;aa=L(aa)||"millisecond";if("millisecond"===aa)return this.valueOf()===R.valueOf();R=R.valueOf();return this.clone().startOf(aa).valueOf()<=R&&R<=this.clone().endOf(aa).valueOf()};cb.isSameOrAfter=function(R,aa){return this.isSame(R,
aa)||this.isAfter(R,aa)};cb.isSameOrBefore=function(R,aa){return this.isSame(R,aa)||this.isBefore(R,aa)};cb.isValid=function(){return k(this)};cb.lang=Hc;cb.locale=Jb;cb.localeData=Rb;cb.max=Yc;cb.min=Xc;cb.parsingFlags=function(){return b({},f(this))};cb.set=function(R,aa){if("object"===typeof R){R=O(R);aa=U(R);var oa;for(oa=0;oa<aa.length;oa++)this[aa[oa].unit](R[aa[oa].unit])}else if(R=L(R),z(this[R]))return this[R](aa);return this};cb.startOf=function(R){R=L(R);if(void 0===R||"millisecond"===
R||!this.isValid())return this;var aa=this._isUTC?Yb:Lb;switch(R){case "year":var oa=aa(this.year(),0,1);break;case "quarter":oa=aa(this.year(),this.month()-this.month()%3,1);break;case "month":oa=aa(this.year(),this.month(),1);break;case "week":oa=aa(this.year(),this.month(),this.date()-this.weekday());break;case "isoWeek":oa=aa(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case "day":case "date":oa=aa(this.year(),this.month(),this.date());break;case "hour":oa=this._d.valueOf();
oa-=Fb(oa+(this._isUTC?0:6E4*this.utcOffset()),36E5);break;case "minute":oa=this._d.valueOf();oa-=Fb(oa,6E4);break;case "second":oa=this._d.valueOf(),oa-=Fb(oa,1E3)}this._d.setTime(oa);G.updateOffset(this,!0);return this};cb.subtract=$c;cb.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};cb.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),
milliseconds:this.milliseconds()}};cb.toDate=function(){return new Date(this.valueOf())};cb.toISOString=function(R){if(!this.isValid())return null;var aa=(R=!0!==R)?this.clone().utc():this;return 0>aa.year()||9999<aa.year()?I(aa,R?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):z(Date.prototype.toISOString)?R?this.toDate().toISOString():(new Date(this.valueOf()+6E4*this.utcOffset())).toISOString().replace("Z",I(aa,"Z")):I(aa,R?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")};
cb.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var R="moment",aa="";this.isLocal()||(R=0===this.utcOffset()?"moment.utc":"moment.parseZone",aa="Z");R="["+R+'("]';var oa=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(R+oa+"-MM-DD[T]HH:mm:ss.SSS"+(aa+'[")]'))};"undefined"!==typeof Symbol&&null!=Symbol.for&&(cb[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment\x3c"+this.format()+"\x3e"});cb.toJSON=function(){return this.isValid()?
this.toISOString():null};cb.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};cb.unix=function(){return Math.floor(this.valueOf()/1E3)};cb.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};cb.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};cb.eraName=function(){var R,aa=this.localeData().eras();var oa=0;for(R=aa.length;oa<R;++oa){var xa=this.clone().startOf("day").valueOf();
if(aa[oa].since<=xa&&xa<=aa[oa].until||aa[oa].until<=xa&&xa<=aa[oa].since)return aa[oa].name}return""};cb.eraNarrow=function(){var R,aa=this.localeData().eras();var oa=0;for(R=aa.length;oa<R;++oa){var xa=this.clone().startOf("day").valueOf();if(aa[oa].since<=xa&&xa<=aa[oa].until||aa[oa].until<=xa&&xa<=aa[oa].since)return aa[oa].narrow}return""};cb.eraAbbr=function(){var R,aa=this.localeData().eras();var oa=0;for(R=aa.length;oa<R;++oa){var xa=this.clone().startOf("day").valueOf();if(aa[oa].since<=
xa&&xa<=aa[oa].until||aa[oa].until<=xa&&xa<=aa[oa].since)return aa[oa].abbr}return""};cb.eraYear=function(){var R,aa=this.localeData().eras();var oa=0;for(R=aa.length;oa<R;++oa){var xa=aa[oa].since<=aa[oa].until?1:-1;var Ta=this.clone().startOf("day").valueOf();if(aa[oa].since<=Ta&&Ta<=aa[oa].until||aa[oa].until<=Ta&&Ta<=aa[oa].since)return(this.year()-G(aa[oa].since).year())*xa+aa[oa].offset}return this.year()};cb.year=Gc;cb.isLeapYear=function(){return S(this.year())};cb.weekYear=function(R){return dc.call(this,
R,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};cb.isoWeekYear=function(R){return dc.call(this,R,this.isoWeek(),this.isoWeekday(),1,4)};cb.quarter=cb.quarters=function(R){return null==R?Math.ceil((this.month()+1)/3):this.month(3*(R-1)+this.month()%3)};cb.month=va;cb.daysInMonth=function(){return pa(this.year(),this.month())};cb.week=cb.weeks=function(R){var aa=this.localeData().week(this);return null==R?aa:this.add(7*(R-aa),"d")};cb.isoWeek=cb.isoWeeks=function(R){var aa=
ta(this,1,4).week;return null==R?aa:this.add(7*(R-aa),"d")};cb.weeksInYear=function(){var R=this.localeData()._week;return Ca(this.year(),R.dow,R.doy)};cb.weeksInWeekYear=function(){var R=this.localeData()._week;return Ca(this.weekYear(),R.dow,R.doy)};cb.isoWeeksInYear=function(){return Ca(this.year(),1,4)};cb.isoWeeksInISOWeekYear=function(){return Ca(this.isoWeekYear(),1,4)};cb.date=Ic;cb.day=cb.days=function(R){if(!this.isValid())return null!=R?this:NaN;var aa=this._isUTC?this._d.getUTCDay():this._d.getDay();
if(null!=R){var oa=this.localeData();"string"===typeof R&&(isNaN(R)?(R=oa.weekdaysParse(R),R="number"===typeof R?R:null):R=parseInt(R,10));return this.add(R-aa,"d")}return aa};cb.weekday=function(R){if(!this.isValid())return null!=R?this:NaN;var aa=(this.day()+7-this.localeData()._week.dow)%7;return null==R?aa:this.add(R-aa,"d")};cb.isoWeekday=function(R){if(!this.isValid())return null!=R?this:NaN;if(null!=R){var aa=this.localeData();R="string"===typeof R?aa.weekdaysParse(R)%7||7:isNaN(R)?null:R;
return this.day(this.day()%7?R:R-7)}return this.day()||7};cb.dayOfYear=function(R){var aa=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==R?aa:this.add(R-aa,"d")};cb.hour=cb.hours=Wc;cb.minute=cb.minutes=ad;cb.second=cb.seconds=bd;cb.millisecond=cb.milliseconds=cd;cb.utcOffset=function(R,aa,oa){var xa=this._offset||0,Ta;if(!this.isValid())return null!=R?this:NaN;if(null!=R){if("string"===typeof R){if(R=tb(vc,R),null===R)return this}else 16>Math.abs(R)&&
!oa&&(R*=60);!this._isUTC&&aa&&(Ta=-Math.round(this._d.getTimezoneOffset()));this._offset=R;this._isUTC=!0;null!=Ta&&this.add(Ta,"m");xa!==R&&(!aa||this._changeInProgress?wb(this,mb(R-xa,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,G.updateOffset(this,!0),this._changeInProgress=null));return this}return this._isUTC?xa:-Math.round(this._d.getTimezoneOffset())};cb.utc=function(R){return this.utcOffset(0,R)};cb.local=function(R){this._isUTC&&(this.utcOffset(0,R),this._isUTC=!1,R&&this.subtract(-Math.round(this._d.getTimezoneOffset()),
"m"));return this};cb.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var R=tb(Vc,this._i);null!=R?this.utcOffset(R):this.utcOffset(0,!0)}return this};cb.hasAlignedHourOffset=function(R){if(!this.isValid())return!1;R=R?Va(R).utcOffset():0;return 0===(this.utcOffset()-R)%60};cb.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};cb.isLocal=function(){return this.isValid()?
!this._isUTC:!1};cb.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};cb.isUtc=ib;cb.isUTC=ib;cb.zoneAbbr=function(){return this._isUTC?"UTC":""};cb.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};cb.dates=w("dates accessor is deprecated. Use date instead.",Ic);cb.months=w("months accessor is deprecated. Use month instead",va);cb.years=w("years accessor is deprecated. Use year instead",Gc);cb.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",
function(R,aa){return null!=R?("string"!==typeof R&&(R=-R),this.utcOffset(R,aa),this):-this.utcOffset()});cb.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!t(this._isDSTShifted))return this._isDSTShifted;var R={};v(R,this);R=Da(R);if(R._a){var aa=R._isUTC?e(R._a):Va(R._a);var oa;if(oa=this.isValid()){R=R._a;aa=aa.toArray();oa=Math.min(R.length,aa.length);var xa=Math.abs(R.length-aa.length),Ta=0,Ya;for(Ya=0;Ya<
oa;Ya++)N(R[Ya])!==N(aa[Ya])&&Ta++;oa=0<Ta+xa}this._isDSTShifted=oa}else this._isDSTShifted=!1;return this._isDSTShifted});var sb=y.prototype;sb.calendar=function(R,aa,oa){R=this._calendar[R]||this._calendar.sameElse;return z(R)?R.call(aa,oa):R};sb.longDateFormat=function(R){var aa=this._longDateFormat[R],oa=this._longDateFormat[R.toUpperCase()];if(aa||!oa)return aa;this._longDateFormat[R]=oa.match(Wa).map(function(xa){return"MMMM"===xa||"MM"===xa||"DD"===xa||"dddd"===xa?xa.slice(1):xa}).join("");
return this._longDateFormat[R]};sb.invalidDate=function(){return this._invalidDate};sb.ordinal=function(R){return this._ordinal.replace("%d",R)};sb.preparse=Gb;sb.postformat=Gb;sb.relativeTime=function(R,aa,oa,xa){var Ta=this._relativeTime[oa];return z(Ta)?Ta(R,aa,oa,xa):Ta.replace(/%d/i,R)};sb.pastFuture=function(R,aa){R=this._relativeTime[0<R?"future":"past"];return z(R)?R(aa):R.replace(/%s/i,aa)};sb.set=function(R){var aa;for(aa in R)if(m(R,aa)){var oa=R[aa];z(oa)?this[aa]=oa:this["_"+aa]=oa}this._config=
R;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};sb.eras=function(R,aa){var oa=this._eras||ia("en")._eras;R=0;for(aa=oa.length;R<aa;++R){switch(typeof oa[R].since){case "string":var xa=G(oa[R].since).startOf("day");oa[R].since=xa.valueOf()}switch(typeof oa[R].until){case "undefined":oa[R].until=Infinity;break;case "string":xa=G(oa[R].until).startOf("day").valueOf(),oa[R].until=xa.valueOf()}}return oa};sb.erasParse=
function(R,aa,oa){var xa,Ta=this.eras();R=R.toUpperCase();var Ya=0;for(xa=Ta.length;Ya<xa;++Ya){var $a=Ta[Ya].name.toUpperCase();var lb=Ta[Ya].abbr.toUpperCase();var ub=Ta[Ya].narrow.toUpperCase();if(oa)switch(aa){case "N":case "NN":case "NNN":if(lb===R)return Ta[Ya];break;case "NNNN":if($a===R)return Ta[Ya];break;case "NNNNN":if(ub===R)return Ta[Ya]}else if(0<=[$a,lb,ub].indexOf(R))return Ta[Ya]}};sb.erasConvertYear=function(R,aa){var oa=R.since<=R.until?1:-1;return void 0===aa?G(R.since).year():
G(R.since).year()+(aa-R.offset)*oa};sb.erasAbbrRegex=function(R){m(this,"_erasAbbrRegex")||Pb.call(this);return R?this._erasAbbrRegex:this._erasRegex};sb.erasNameRegex=function(R){m(this,"_erasNameRegex")||Pb.call(this);return R?this._erasNameRegex:this._erasRegex};sb.erasNarrowRegex=function(R){m(this,"_erasNarrowRegex")||Pb.call(this);return R?this._erasNarrowRegex:this._erasRegex};sb.months=function(R,aa){return R?A(this._months)?this._months[R.month()]:this._months[(this._months.isFormat||Fc).test(aa)?
"format":"standalone"][R.month()]:A(this._months)?this._months:this._months.standalone};sb.monthsShort=function(R,aa){return R?A(this._monthsShort)?this._monthsShort[R.month()]:this._monthsShort[Fc.test(aa)?"format":"standalone"][R.month()]:A(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};sb.monthsParse=function(R,aa,oa){var xa;if(this._monthsParseExact){a:{R=R.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],
xa=0;12>xa;++xa){var Ta=e([2E3,xa]);this._shortMonthsParse[xa]=this.monthsShort(Ta,"").toLocaleLowerCase();this._longMonthsParse[xa]=this.months(Ta,"").toLocaleLowerCase()}if(oa)aa="MMM"===aa?Cb.call(this._shortMonthsParse,R):Cb.call(this._longMonthsParse,R);else if("MMM"===aa){aa=Cb.call(this._shortMonthsParse,R);if(-1!==aa)break a;aa=Cb.call(this._longMonthsParse,R)}else{aa=Cb.call(this._longMonthsParse,R);if(-1!==aa)break a;aa=Cb.call(this._shortMonthsParse,R)}aa=-1!==aa?aa:null}return aa}this._monthsParse||
(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(xa=0;12>xa;xa++)if(Ta=e([2E3,xa]),oa&&!this._longMonthsParse[xa]&&(this._longMonthsParse[xa]=new RegExp("^"+this.months(Ta,"").replace(".","")+"$","i"),this._shortMonthsParse[xa]=new RegExp("^"+this.monthsShort(Ta,"").replace(".","")+"$","i")),oa||this._monthsParse[xa]||(Ta="^"+this.months(Ta,"")+"|^"+this.monthsShort(Ta,""),this._monthsParse[xa]=new RegExp(Ta.replace(".",""),"i")),oa&&"MMMM"===aa&&this._longMonthsParse[xa].test(R)||
oa&&"MMM"===aa&&this._shortMonthsParse[xa].test(R)||!oa&&this._monthsParse[xa].test(R))return xa};sb.monthsRegex=function(R){if(this._monthsParseExact)return m(this,"_monthsRegex")||Aa.call(this),R?this._monthsStrictRegex:this._monthsRegex;m(this,"_monthsRegex")||(this._monthsRegex=rc);return this._monthsStrictRegex&&R?this._monthsStrictRegex:this._monthsRegex};sb.monthsShortRegex=function(R){if(this._monthsParseExact)return m(this,"_monthsRegex")||Aa.call(this),R?this._monthsShortStrictRegex:this._monthsShortRegex;
m(this,"_monthsShortRegex")||(this._monthsShortRegex=rc);return this._monthsShortStrictRegex&&R?this._monthsShortStrictRegex:this._monthsShortRegex};sb.week=function(R){return ta(R,this._week.dow,this._week.doy).week};sb.firstDayOfYear=function(){return this._week.doy};sb.firstDayOfWeek=function(){return this._week.dow};sb.weekdays=function(R,aa){aa=A(this._weekdays)?this._weekdays:this._weekdays[R&&!0!==R&&this._weekdays.isFormat.test(aa)?"format":"standalone"];return!0===R?ha(aa,this._week.dow):
R?aa[R.day()]:aa};sb.weekdaysMin=function(R){return!0===R?ha(this._weekdaysMin,this._week.dow):R?this._weekdaysMin[R.day()]:this._weekdaysMin};sb.weekdaysShort=function(R){return!0===R?ha(this._weekdaysShort,this._week.dow):R?this._weekdaysShort[R.day()]:this._weekdaysShort};sb.weekdaysParse=function(R,aa,oa){var xa;if(this._weekdaysParseExact)return fa.call(this,R,aa,oa);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);
for(xa=0;7>xa;xa++){var Ta=e([2E3,1]).day(xa);oa&&!this._fullWeekdaysParse[xa]&&(this._fullWeekdaysParse[xa]=new RegExp("^"+this.weekdays(Ta,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[xa]=new RegExp("^"+this.weekdaysShort(Ta,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[xa]=new RegExp("^"+this.weekdaysMin(Ta,"").replace(".","\\.?")+"$","i"));this._weekdaysParse[xa]||(Ta="^"+this.weekdays(Ta,"")+"|^"+this.weekdaysShort(Ta,"")+"|^"+this.weekdaysMin(Ta,""),this._weekdaysParse[xa]=
new RegExp(Ta.replace(".",""),"i"));if(oa&&"dddd"===aa&&this._fullWeekdaysParse[xa].test(R)||oa&&"ddd"===aa&&this._shortWeekdaysParse[xa].test(R)||oa&&"dd"===aa&&this._minWeekdaysParse[xa].test(R)||!oa&&this._weekdaysParse[xa].test(R))return xa}};sb.weekdaysRegex=function(R){if(this._weekdaysParseExact)return m(this,"_weekdaysRegex")||ra.call(this),R?this._weekdaysStrictRegex:this._weekdaysRegex;m(this,"_weekdaysRegex")||(this._weekdaysRegex=rc);return this._weekdaysStrictRegex&&R?this._weekdaysStrictRegex:
this._weekdaysRegex};sb.weekdaysShortRegex=function(R){if(this._weekdaysParseExact)return m(this,"_weekdaysRegex")||ra.call(this),R?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=rc);return this._weekdaysShortStrictRegex&&R?this._weekdaysShortStrictRegex:this._weekdaysShortRegex};sb.weekdaysMinRegex=function(R){if(this._weekdaysParseExact)return m(this,"_weekdaysRegex")||ra.call(this),R?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;
m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=rc);return this._weekdaysMinStrictRegex&&R?this._weekdaysMinStrictRegex:this._weekdaysMinRegex};sb.isPM=function(R){return"p"===(R+"").toLowerCase().charAt(0)};sb.meridiem=function(R,aa,oa){return 11<R?oa?"pm":"PM":oa?"am":"AM"};La("en",{eras:[{since:"0001-01-01",until:Infinity,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-Infinity,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,
ordinal:function(R){var aa=R%10;aa=1===N(R%100/10)?"th":1===aa?"st":2===aa?"nd":3===aa?"rd":"th";return R+aa}});G.lang=w("moment.lang is deprecated. Use moment.locale instead.",La);G.langData=w("moment.langData is deprecated. Use moment.localeData instead.",ia);var bc=Math.abs,dd=Mb("ms"),ed=Mb("s"),fd=Mb("m"),gd=Mb("h"),hd=Mb("d"),jd=Mb("w"),kd=Mb("M"),ld=Mb("Q"),md=Mb("y"),nd=za("milliseconds"),od=za("seconds"),pd=za("minutes"),qd=za("hours"),rd=za("days"),sd=za("months"),td=za("years"),cc=Math.round,
nc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},zc=Math.abs,qb=bb.prototype;qb.isValid=function(){return this._isValid};qb.abs=function(){var R=this._data;this._milliseconds=bc(this._milliseconds);this._days=bc(this._days);this._months=bc(this._months);R.milliseconds=bc(R.milliseconds);R.seconds=bc(R.seconds);R.minutes=bc(R.minutes);R.hours=bc(R.hours);R.months=bc(R.months);R.years=bc(R.years);return this};qb.add=function(R,aa){return Wb(this,R,aa,1)};qb.subtract=function(R,aa){return Wb(this,R,aa,-1)};
qb.as=function(R){if(!this.isValid())return NaN;var aa=this._milliseconds;R=L(R);if("month"===R||"quarter"===R||"year"===R){var oa=this._days+aa/864E5;oa=this._months+4800*oa/146097;switch(R){case "month":return oa;case "quarter":return oa/3;case "year":return oa/12}}else switch(oa=this._days+Math.round(146097*this._months/4800),R){case "week":return oa/7+aa/6048E5;case "day":return oa+aa/864E5;case "hour":return 24*oa+aa/36E5;case "minute":return 1440*oa+aa/6E4;case "second":return 86400*oa+aa/1E3;
case "millisecond":return Math.floor(864E5*oa)+aa;default:throw Error("Unknown unit "+R);}};qb.asMilliseconds=dd;qb.asSeconds=ed;qb.asMinutes=fd;qb.asHours=gd;qb.asDays=hd;qb.asWeeks=jd;qb.asMonths=kd;qb.asQuarters=ld;qb.asYears=md;qb.valueOf=function(){return this.isValid()?this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*N(this._months/12):NaN};qb._bubble=function(){var R=this._milliseconds,aa=this._days,oa=this._months,xa=this._data;0<=R&&0<=aa&&0<=oa||0>=R&&0>=aa&&0>=oa||(R+=
864E5*gc(146097*oa/4800+aa),oa=aa=0);xa.milliseconds=R%1E3;R=M(R/1E3);xa.seconds=R%60;R=M(R/60);xa.minutes=R%60;R=M(R/60);xa.hours=R%24;aa+=M(R/24);R=M(4800*aa/146097);oa+=R;aa-=gc(146097*R/4800);R=M(oa/12);xa.days=aa;xa.months=oa%12;xa.years=R;return this};qb.clone=function(){return mb(this)};qb.get=function(R){R=L(R);return this.isValid()?this[R+"s"]():NaN};qb.milliseconds=nd;qb.seconds=od;qb.minutes=pd;qb.hours=qd;qb.days=rd;qb.weeks=function(){return M(this.days()/7)};qb.months=sd;qb.years=td;
qb.humanize=function(R,aa){if(!this.isValid())return this.localeData().invalidDate();var oa=!1,xa=nc;"object"===typeof R&&(aa=R,R=!1);"boolean"===typeof R&&(oa=R);"object"===typeof aa&&(xa=Object.assign({},nc,aa),null!=aa.s&&null==aa.ss&&(xa.ss=aa.s-1));R=this.localeData();aa=!oa;var Ta=mb(this).abs(),Ya=cc(Ta.as("s")),$a=cc(Ta.as("m")),lb=cc(Ta.as("h")),ub=cc(Ta.as("d")),pb=cc(Ta.as("M")),Db=cc(Ta.as("w"));Ta=cc(Ta.as("y"));Ya=Ya<=xa.ss&&["s",Ya]||Ya<xa.s&&["ss",Ya]||1>=$a&&["m"]||$a<xa.m&&["mm",
$a]||1>=lb&&["h"]||lb<xa.h&&["hh",lb]||1>=ub&&["d"]||ub<xa.d&&["dd",ub];null!=xa.w&&(Ya=Ya||1>=Db&&["w"]||Db<xa.w&&["ww",Db]);Ya=Ya||1>=pb&&["M"]||pb<xa.M&&["MM",pb]||1>=Ta&&["y"]||["yy",Ta];Ya[2]=aa;Ya[3]=0<+this;Ya[4]=R;aa=Z.apply(null,Ya);oa&&(aa=R.pastFuture(+this,aa));return R.postformat(aa)};qb.toISOString=Ea;qb.toString=Ea;qb.toJSON=Ea;qb.locale=Jb;qb.localeData=Rb;qb.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ea);qb.lang=Hc;F("X",0,
0,"unix");F("x",0,0,"valueOf");P("x",uc);P("X",/[+-]?\d+(\.\d{1,3})?/);Y("X",function(R,aa,oa){oa._d=new Date(1E3*parseFloat(R))});Y("x",function(R,aa,oa){oa._d=new Date(N(R))});G.version="2.29.1";var Jc=Va;G.fn=cb;G.min=function(){var R=[].slice.call(arguments,0);return fb("isBefore",R)};G.max=function(){var R=[].slice.call(arguments,0);return fb("isAfter",R)};G.now=function(){return Date.now?Date.now():+new Date};G.utc=e;G.unix=function(R){return Va(1E3*R)};G.months=function(R,aa){return Zb(R,aa,
"months")};G.isDate=h;G.locale=La;G.invalid=u;G.duration=mb;G.isMoment=q;G.weekdays=function(R,aa,oa){return ec(R,aa,oa,"weekdays")};G.parseZone=function(){return Va.apply(null,arguments).parseZone()};G.localeData=ia;G.isDuration=kb;G.monthsShort=function(R,aa){return Zb(R,aa,"monthsShort")};G.weekdaysMin=function(R,aa,oa){return ec(R,aa,oa,"weekdaysMin")};G.defineLocale=W;G.updateLocale=function(R,aa){if(null!=aa){var oa=Ac;if(null!=yb[R]&&null!=yb[R].parentLocale)yb[R].set(C(yb[R]._config,aa));
else{var xa=Sa(R);null!=xa&&(oa=xa._config);aa=C(oa,aa);null==xa&&(aa.abbr=R);aa=new y(aa);aa.parentLocale=yb[R];yb[R]=aa}La(R)}else null!=yb[R]&&(null!=yb[R].parentLocale?(yb[R]=yb[R].parentLocale,R===La()&&La(R)):null!=yb[R]&&delete yb[R]);return yb[R]};G.locales=function(){return Qa(yb)};G.weekdaysShort=function(R,aa,oa){return ec(R,aa,oa,"weekdaysShort")};G.normalizeUnits=L;G.relativeTimeRounding=function(R){return void 0===R?cc:"function"===typeof R?(cc=R,!0):!1};G.relativeTimeThreshold=function(R,
aa){if(void 0===nc[R])return!1;if(void 0===aa)return nc[R];nc[R]=aa;"s"===R&&(nc.ss=aa-1);return!0};G.calendarFormat=function(R,aa){R=R.diff(aa,"days",!0);return-6>R?"sameElse":-1>R?"lastWeek":0>R?"lastDay":1>R?"sameDay":2>R?"nextDay":7>R?"nextWeek":"sameElse"};G.prototype=cb;G.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",
MONTH:"YYYY-MM"};return G})},"esri/layers/vectorTiles/views/2d/engine/webgl/color":function(){define(["require","exports","./number"],function(G,A,a){function m(n,h){Array.isArray(h)?(n[0]=h[0],n[1]=h[1],n[2]=h[2],n[3]=h[3]):(n[0]=h.r,n[1]=h.g,n[2]=h.b,n[3]=h.a);return n}function p(n,h,c){void 0===h&&(h=0);void 0===c&&(c=!1);var b=n[h+3];n[h+0]*=b;n[h+1]*=b;n[h+2]*=b;c||(n[h+3]*=255);return n}Object.defineProperty(A,"__esModule",{value:!0});A.white=[255,255,255,1];var t=[0,0,0,0];A.premultiplyAlpha=
p;A.copyAndPremultiply=function(n){return p(m([],n))};A.premultiplyAlphaUint32=function(n){p(m(t,n));return a.i8888to32(t[0],t[1],t[2],t[3])};A.premultiplyAlphaRGBA=function(n){if(!n)return 0;var h=n.a;return a.i8888to32(n.r*h,n.g*h,n.b*h,255*h)}})},"esri/layers/vectorTiles/views/2d/engine/webgl/number":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});var a=new Float32Array(1),m=new Uint32Array(a.buffer);A.nextHighestPowerOfTwo=function(p){p--;
p|=p>>1;p|=p>>2;p|=p>>4;p|=p>>8;p|=p>>16;p++;return p};A.toUint32=function(p){a[0]=p;return m[0]};A.i1616to32=function(p,t){return 65535&p|t<<16};A.i8888to32=function(p,t,n,h){return p&255|(t&255)<<8|(n&255)<<16|h<<24};A.i8816to32=function(p,t,n){return p&255|(t&255)<<8|n<<16};A.numTo32=function(p){return p|0}})},"esri/layers/vectorTiles/views/2d/engine/webgl/SymbolProperties":function(){define(["require","exports","../../../../core/ObjectPool"],function(G,A,a){Object.defineProperty(A,"__esModule",
{value:!0});G=function(){function m(){this.color=[0,0,0,0];this.haloColor=[0,0,0,0];this.haloSize=0;this.size=12;this.vAnchor=this.hAnchor=this.offsetY=this.offsetX=this.angle=0}m.prototype.acquire=function(p,t,n,h,c,b,e,f,k){this.color=p;this.haloColor=t;this.haloSize=n;this.size=h;this.angle=c;this.offsetX=b;this.offsetY=e;this.hAnchor=f;this.vAnchor=k};m.prototype.release=function(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0;this.vAnchor=this.hAnchor=this.offsetY=this.offsetX=this.angle=
this.size=this.haloSize=this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0};m.pool=new a(m);return m}();A.TextProperties=G})},"esri/layers/vectorTiles/views/2d/engine/webgl/brushes/WGLBrushInfo":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ../GeometryUtils ./WGLBrush ../shaders/glShaderSnippets ../../../tiling/enums ../../../../webgl/BufferObject ../../../../webgl/Program ../../../../webgl/Texture ../../../../webgl/VertexArrayObject".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e){Object.defineProperty(A,"__esModule",{value:!0});G=function(f){function k(){var u=f.call(this)||this;u._initialized=!1;u._maxWidth=0;u._color=new Float32Array([1,0,0,1]);return u}a(k,f);k.prototype.dispose=function(){this._outlineProgram&&(this._outlineProgram.dispose(),this._outlineProgram=null);this._tileInfoProgram&&(this._tileInfoProgram.dispose(),this._tileInfoProgram=null);this._outlineVertexArrayObject&&(this._outlineVertexArrayObject.dispose(),this._outlineVertexArrayObject=
null);this._tileInfoVertexArrayObject&&(this._tileInfoVertexArrayObject.dispose(),this._tileInfoVertexArrayObject=null);this._canvas=null};k.prototype.draw=function(u,v){u=u.context;if(v.status!==n.TileStatus.INITIALIZED){this._initialized||this._initialize(u);u.bindVAO(this._outlineVertexArrayObject);u.bindProgram(this._outlineProgram);this._outlineProgram.setUniformMatrix4fv("u_transformMatrix",v.tileTransform.transform);this._outlineProgram.setUniform2fv("u_normalized_origin",v.tileTransform.displayCoord);
this._outlineProgram.setUniform1f("u_coord_range",512);this._outlineProgram.setUniform1f("u_depth",0);this._outlineProgram.setUniform4fv("u_color",this._color);u.setLineWidth(2);u.drawArrays(3,0,4);u.bindVAO();var g=this._getTexture(u,v);g&&(u.bindVAO(this._tileInfoVertexArrayObject),u.bindProgram(this._tileInfoProgram),u.bindTexture(g,0),this._tileInfoProgram.setUniformMatrix4fv("u_transformMatrix",v.tileTransform.transform),this._tileInfoProgram.setUniform2fv("u_normalized_origin",v.tileTransform.displayCoord),
this._tileInfoProgram.setUniform1f("u_depth",0),this._tileInfoProgram.setUniform1f("u_coord_ratio",1),this._tileInfoProgram.setUniform2f("u_delta",8,8),this._tileInfoProgram.setUniform2f("u_dimensions",g.descriptor.width,g.descriptor.height),u.drawArrays(5,0,4),u.bindVAO())}};k.prototype._initialize=function(u){if(this._initialized)return!0;var v={a_pos:0},g=new c(u,t.backgroundVS,t.backgroundFS,v),q=new c(u,t.tileInfoVS,t.tileInfoFS,v),x={geometry:[{name:"a_pos",count:2,type:5120,offset:0,stride:2,
normalized:!1,divisor:0}]},w=new Int8Array([0,0,1,0,1,1,0,1]);w=h.createVertex(u,35044,w);w=new e(u,v,x,{geometry:w});var B=new Int8Array([0,0,1,0,0,1,1,1]);B=h.createVertex(u,35044,B);u=new e(u,v,x,{geometry:B});this._outlineProgram=g;this._tileInfoProgram=q;this._outlineVertexArrayObject=w;this._tileInfoVertexArrayObject=u;return this._initialized=!0};k.prototype._getTexture=function(u,v){if(v.texture)return v.texture;this._canvas||(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("id",
"canvas2d"),this._canvas.setAttribute("width","256"),this._canvas.setAttribute("height","32"),this._canvas.setAttribute("style","display:none"));var g=v.key.id,q=this._canvas.getContext("2d");q.font="24px sans-serif";q.textAlign="left";q.textBaseline="middle";var x=q.measureText(g);x=Math.pow(2,Math.ceil(m.log2(x.width+2)));x>this._maxWidth&&(this._maxWidth=x);q.clearRect(0,0,this._maxWidth,32);q.fillStyle="blue";q.fillText(g,0,16);v.texture=new b(u,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728},
this._canvas);return v.texture};return k}(p.default);A.default=G})},"esri/layers/vectorTiles/views/2d/engine/webgl/brushes/WGLBrush":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});G=function(){return function(){}}();A.default=G})},"esri/layers/vectorTiles/views/2d/engine/webgl/shaders/glShaderSnippets":function(){define("require exports dojo/text!./backgroundShaders.xml dojo/text!./bitblitShaders.xml dojo/text!./stencilShaders.xml dojo/text!./tileInfo.xml ../../../../webgl/ShaderSnippets".split(" "),
function(G,A,a,m,p,t,n){G=new n;n.parse(a,G);n.parse(m,G);n.parse(p,G);n.parse(t,G);return G})},"esri/layers/vectorTiles/views/2d/tiling/enums":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});G=A.TileStatus||(A.TileStatus={});G[G.INITIALIZED=0]="INITIALIZED";G[G.NO_DATA=1]="NO_DATA";G[G.READY=2]="READY";G[G.MODIFIED=3]="MODIFIED";G[G.INVALID=4]="INVALID"})},"esri/layers/vectorTiles/views/webgl/BufferObject":function(){define(["require","exports",
"dojo/has"],function(G,A,a){return function(){function m(p,t,n,h,c){this._glName=this._context=null;this._bufferType=void 0;this._usage=35044;this._size=-1;this._indexType=void 0;this._context=p;this._bufferType=t;this._usage=n;this._id=m._nextId++;this._glName=this._context.gl.createBuffer();a("esri-webgl-debug")&&p.instanceCounter.incrementCount(1);h&&this.setData(h,c)}m.createIndex=function(p,t,n,h){return new m(p,34963,t,n,h)};m.createVertex=function(p,t,n){return new m(p,34962,t,n)};Object.defineProperty(m.prototype,
"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"usage",{get:function(){return this._usage},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"bufferType",{get:function(){return this._bufferType},enumerable:!0,
configurable:!0});Object.defineProperty(m.prototype,"indexType",{get:function(){return this._indexType},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"byteSize",{get:function(){return 34962===this._bufferType?this._size:5125===this._indexType?4*this._size:2*this._size},enumerable:!0,configurable:!0});m.prototype.dispose=function(){this._context&&(this._glName&&(this._context.gl.deleteBuffer(this._glName),this._glName=null),a("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(1),
this._context=null)};m.prototype.setData=function(p,t){if(p){if("number"===typeof p){if(0>p&&console.error("Buffer size cannot be negative!"),34963===this._bufferType&&t)switch(this._indexType=t,this._size=p,t){case 5123:p*=2;break;case 5125:p*=4}}else t=p.byteLength,p instanceof Uint16Array&&(t/=2,this._indexType=5123),p instanceof Uint32Array&&(t/=4,this._indexType=5125),this._size=t,ArrayBuffer.isView(p)&&(p=p.buffer);t=this._context.getBoundVAO();this._context.bindVAO(null);this._context.bindBuffer(this);
this._context.gl.bufferData(this._bufferType,p,this._usage);this._context.bindVAO(t)}};m.prototype.setSubData=function(p,t,n,h){void 0===t&&(t=0);void 0===n&&(n=0);if(p){(0>t||t>=this._size)&&console.error("offset is out of range!");var c=t,b=n,e=h,f=p.byteLength;p instanceof Uint16Array&&(f/=2,c*=2,b*=2,e*=2);p instanceof Uint32Array&&(f/=4,c*=4,b*=4,e*=4);void 0===h&&(h=f-1);n>=h&&console.error("end must be bigger than start!");t+n-h>this._size&&console.error("An attempt to write beyond the end of the buffer!");
t=this._context.getBoundVAO();this._context.bindVAO(null);this._context.bindBuffer(this);n=this._context.gl;p=ArrayBuffer.isView(p)?p.buffer:p;n.bufferSubData(this._bufferType,c,p.slice(b,e));this._context.bindVAO(t)}};m._nextId=0;return m}()})},"esri/layers/vectorTiles/views/webgl/Texture":function(){define(["require","exports","dojo/has"],function(G,A,a){return function(){function m(p,t,n){this._glName=this._context=null;this._id=-1;this._desc=void 0;this._wrapModeDirty=this._samplingModeDirty=
!1;this._boundToUnits=new Set;this._context=p;this._desc={pixelFormat:t.pixelFormat,internalFormat:t.internalFormat,dataType:t.dataType,target:t.target?t.target:3553,samplingMode:t.samplingMode?t.samplingMode:9729,wrapMode:t.wrapMode?t.wrapMode:10497,maxAnisotropy:t.maxAnisotropy,flipped:void 0!==t.flipped?t.flipped:!1,hasMipmap:void 0!==t.hasMipmap?t.hasMipmap:!1,level:void 0!==t.level?t.level:0,unpackAlignment:t.unpackAlignment?t.unpackAlignment:4,width:t.width,height:t.height,preMultiplyAlpha:void 0!==
t.preMultiplyAlpha?t.preMultiplyAlpha:!1};this._id=++m._nextId;a("esri-webgl-debug")&&p.instanceCounter.incrementCount(0);this.setData(n)}Object.defineProperty(m.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"descriptor",{get:function(){return this._desc},enumerable:!0,configurable:!0});m.prototype.dispose=function(){var p=
this;if(this._context){if(this._glName){var t=this._context.gl;this._boundToUnits.forEach(function(n){p._context.bindTexture(null,n)});t.deleteTexture(this._glName);this._glName=null}a("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(0);this._context=null}};m.prototype.resize=function(p,t){var n=this._desc;if(n.width!==p||n.height!==t)n.width=p,n.height=t,this.setData(null)};m.prototype.setData=function(p){var t=this._context.gl;this._glName||(this._glName=t.createTexture());void 0===
p&&(p=null);null===p&&(this._desc.width=this._desc.width||4,this._desc.height=this._desc.height||4);var n=this._context.getBoundTexture(0);this._context.bindTexture(this,0);var h=this._desc;m._validateTexture(h);t.pixelStorei(t.UNPACK_ALIGNMENT,h.unpackAlignment);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,h.flipped?1:0);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.preMultiplyAlpha);if(p instanceof ImageData||p instanceof HTMLImageElement||p instanceof HTMLCanvasElement||p instanceof HTMLVideoElement)h.width&&
h.height&&console.assert(p.width===h.width&&p.height===h.height),t.texImage2D(t.TEXTURE_2D,h.level,h.internalFormat?h.internalFormat:h.pixelFormat,h.pixelFormat,h.dataType,p),void 0===this._desc.width&&(this._desc.width=p.width),void 0===this._desc.height&&(this._desc.height=p.height);else{null!=h.width&&null!=h.height||console.error("Width and height must be specified!");var c=h.internalFormat?h.internalFormat:h.pixelFormat,b=h.pixelFormat;t.DEPTH24_STENCIL8&&c===t.DEPTH_STENCIL&&(c=t.DEPTH24_STENCIL8);
t.texImage2D(t.TEXTURE_2D,h.level,c,h.width,h.height,0,b,h.dataType,p)}h.hasMipmap&&this.generateMipmap();m._applySamplingMode(t,this._desc);m._applyWrapMode(t,this._desc);m._applyAnisotropicFilteringParameters(this._context,this._desc);this._context.bindTexture(n,0)};m.prototype.updateData=function(p,t,n,h,c,b){b||console.error("An attempt to use uninitialized data!");this._glName||console.error("An attempt to update uninitialized texture!");var e=this._context.gl,f=this._desc,k=this._context.getBoundTexture(0);
this._context.bindTexture(this,0);(0>t||0>n||h>f.width||c>f.height||t+h>f.width||n+c>f.height)&&console.error("An attempt to update out of bounds of the texture!");b instanceof ImageData||b instanceof HTMLImageElement||b instanceof HTMLCanvasElement||b instanceof HTMLVideoElement?(console.assert(b.width===h&&b.height===c),e.texSubImage2D(e.TEXTURE_2D,p,t,n,f.pixelFormat,f.dataType,b)):e.texSubImage2D(e.TEXTURE_2D,p,t,n,h,c,f.pixelFormat,f.dataType,b);this._context.bindTexture(k,0)};m.prototype.generateMipmap=
function(){var p=this._desc;p.hasMipmap||(p.hasMipmap=!0,m._validateTexture(p));9729===p.samplingMode?(this._samplingModeDirty=!0,p.samplingMode=9985):9728===p.samplingMode&&(this._samplingModeDirty=!0,p.samplingMode=9984);p=this._context.getBoundTexture(0);this._context.bindTexture(this,0);var t=this._context.gl;t.generateMipmap(t.TEXTURE_2D);this._context.bindTexture(p,0)};m.prototype.setSamplingMode=function(p){p!==this._desc.samplingMode&&(this._desc.samplingMode=p,m._validateTexture(this._desc),
this._samplingModeDirty=!0)};m.prototype.setWrapMode=function(p){p!==this._desc.wrapMode&&(this._desc.wrapMode=p,m._validateTexture(this._desc),this._wrapModeDirty=!0)};m.prototype.applyChanges=function(){var p=this._context.gl,t=this._desc;this._samplingModeDirty&&(m._applySamplingMode(p,t),this._samplingModeDirty=!1);this._wrapModeDirty&&(m._applyWrapMode(p,t),this._wrapModeDirty=!1)};m.prototype.setBoundToUnit=function(p,t){t?this._boundToUnits.add(p):this._boundToUnits.delete(p)};m._isPowerOfTwo=
function(p){return 0===(p&p-1)};m._validateTexture=function(p){(0>p.width||0>p.height)&&console.error("Negative dimension parameters are not allowed!");m._isPowerOfTwo(p.width)&&m._isPowerOfTwo(p.height)||(33071!==p.wrapMode&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),p.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))};m._applySamplingMode=function(p,t){var n=t.samplingMode;if(9985===n||9987===n)n=9729;else if(9984===n||9986===n)n=9728;
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,n);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,t.samplingMode)};m._applyWrapMode=function(p,t){p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,t.wrapMode);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,t.wrapMode)};m._applyAnisotropicFilteringParameters=function(p,t){if(null!=t.maxAnisotropy){var n=p.capabilities.textureFilterAnisotropic;n&&(p=p.gl,p.texParameterf(p.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy))}};m._nextId=0;return m}()})},
"esri/layers/vectorTiles/views/webgl/VertexArrayObject":function(){define(["require","exports","dojo/has","./Util"],function(G,A,a,m){return function(){function p(t,n,h,c,b){this._locations=this._layout=this._glName=this._context=null;this._indexBuffer=this._buffers=void 0;this._initialized=!1;this._context=t;this._layout=h;this._buffers=c;this._locations=n;b&&(this._indexBuffer=b);this._id=p._nextId++;a("esri-webgl-debug")&&t.instanceCounter.incrementCount(2)}Object.defineProperty(p.prototype,"id",
{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"vertexBuffers",{get:function(){return this._buffers},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"indexBuffer",{get:function(){return this._indexBuffer},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"size",{get:function(){var t=this;return Object.keys(this._buffers).reduce(function(n,
h){return n+t._buffers[h].size},this._indexBuffer?this._indexBuffer.size:0)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"locations",{get:function(){return this._locations},enumerable:!0,configurable:!0});p.prototype.dispose=function(t){void 0===t&&(t=!0);if(this._context){var n=this._context.capabilities.vao;n&&this._glName&&(n.deleteVertexArray(this._glName),this._glName=
null);this._context.getBoundVAO()===this&&this._context.bindVAO(null);if(t){for(var h in this._buffers)this._buffers[h].dispose(),delete this._buffers[h];this._indexBuffer&&(this._indexBuffer.dispose(),this._indexBuffer=null)}a("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(2);this._context=null}};p.prototype.initialize=function(){if(!this._initialized){var t=this._context.capabilities.vao;if(t){var n=t.createVertexArray();t.bindVertexArray(n);this._bindLayout();t.bindVertexArray(null);
this._glName=n}this._initialized=!0}};p.prototype.bind=function(){this.initialize();var t=this._context.capabilities.vao;t?t.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())};p.prototype._bindLayout=function(){var t=this._buffers,n=!!this._context.capabilities.vao,h=this._layout,c=this._indexBuffer;t||console.error("Vertex buffer dictionary is empty!");var b=this._context.gl,e;for(e in t){var f=t[e];f||console.error("Vertex buffer is uninitialized!");var k=h[e];k||console.error("Vertex element descriptor is empty!");
m.bindVertexBufferLayout(this._context,this._locations,f,k)}c&&(n?b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c.glName):this._context.bindBuffer(c))};p.prototype.unbind=function(){this.initialize();var t=this._context.capabilities.vao;t?t.bindVertexArray(null):this._unbindLayout()};p.prototype._unbindLayout=function(){var t=this._buffers,n=this._layout;t||console.error("Vertex buffer dictionary is empty!");for(var h in t){var c=t[h];c||console.error("Vertex buffer is uninitialized!");m.unbindVertexBufferLayout(this._context,
this._locations,c,n[h])}(t=this._indexBuffer)&&this._context.unbindBuffer(t.bufferType)};p._nextId=0;return p}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/brushes/WGLBrushStencil":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ../../../../../core/libs/gl-matrix/vec4 ./WGLBrush ../shaders/glShaderSnippets ../../../../webgl/BufferObject ../../../../webgl/Program ../../../../webgl/VertexArrayObject".split(" "),function(G,A,a,m,p,t,n,h,c){Object.defineProperty(A,
"__esModule",{value:!0});G=function(b){function e(){var f=b.call(this)||this;f._color=m.create();f._initialized=!1;f._color.set([1,0,0,1]);return f}a(e,b);e.prototype.dispose=function(){this._solidProgram&&(this._solidProgram.dispose(),this._solidProgram=null);this._solidVertexArrayObject&&(this._solidVertexArrayObject.dispose(),this._solidVertexArrayObject=null)};e.prototype.draw=function(f,k){f=f.context;this._initialized||this._initialize(f);f.setStencilFunctionSeparate(1032,519,k.stencilRef,255);
f.bindVAO(this._solidVertexArrayObject);f.bindProgram(this._solidProgram);this._solidProgram.setUniformMatrix4fv("u_transformMatrix",k.tileTransform.transform);this._solidProgram.setUniform2fv("u_normalized_origin",k.tileTransform.displayCoord);this._solidProgram.setUniform1f("u_coord_range",512);this._solidProgram.setUniform1f("u_depth",0);this._solidProgram.setUniform4fv("u_color",this._color);f.drawArrays(5,0,4);f.bindVAO()};e.prototype._initialize=function(f){if(this._initialized)return!0;var k=
{a_pos:0},u=new h(f,t.backgroundVS,t.backgroundFS,k);if(!u)return!1;var v=new Int8Array([0,0,1,0,0,1,1,1]);v=n.createVertex(f,35044,v);f=new c(f,k,{geometry:[{name:"a_pos",count:2,type:5120,offset:0,stride:2,normalized:!1,divisor:0}]},{geometry:v});this._solidProgram=u;this._solidVertexArrayObject=f;return this._initialized=!0};return e}(p.default);A.default=G})},"esri/layers/vectorTiles/core/libs/gl-matrix/vec4":function(){define(["./common"],function(G){var A={create:function(){var a=new G.ARRAY_TYPE(4);
a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a},clone:function(a){var m=new G.ARRAY_TYPE(4);m[0]=a[0];m[1]=a[1];m[2]=a[2];m[3]=a[3];return m},fromValues:function(a,m,p,t){var n=new G.ARRAY_TYPE(4);n[0]=a;n[1]=m;n[2]=p;n[3]=t;return n},copy:function(a,m){a[0]=m[0];a[1]=m[1];a[2]=m[2];a[3]=m[3];return a},set:function(a,m,p,t,n){a[0]=m;a[1]=p;a[2]=t;a[3]=n;return a},add:function(a,m,p){a[0]=m[0]+p[0];a[1]=m[1]+p[1];a[2]=m[2]+p[2];a[3]=m[3]+p[3];return a},subtract:function(a,m,p){a[0]=m[0]-p[0];a[1]=m[1]-p[1];
a[2]=m[2]-p[2];a[3]=m[3]-p[3];return a}};A.sub=A.subtract;A.multiply=function(a,m,p){a[0]=m[0]*p[0];a[1]=m[1]*p[1];a[2]=m[2]*p[2];a[3]=m[3]*p[3];return a};A.mul=A.multiply;A.divide=function(a,m,p){a[0]=m[0]/p[0];a[1]=m[1]/p[1];a[2]=m[2]/p[2];a[3]=m[3]/p[3];return a};A.div=A.divide;A.ceil=function(a,m){a[0]=Math.ceil(m[0]);a[1]=Math.ceil(m[1]);a[2]=Math.ceil(m[2]);a[3]=Math.ceil(m[3]);return a};A.floor=function(a,m){a[0]=Math.floor(m[0]);a[1]=Math.floor(m[1]);a[2]=Math.floor(m[2]);a[3]=Math.floor(m[3]);
return a};A.min=function(a,m,p){a[0]=Math.min(m[0],p[0]);a[1]=Math.min(m[1],p[1]);a[2]=Math.min(m[2],p[2]);a[3]=Math.min(m[3],p[3]);return a};A.max=function(a,m,p){a[0]=Math.max(m[0],p[0]);a[1]=Math.max(m[1],p[1]);a[2]=Math.max(m[2],p[2]);a[3]=Math.max(m[3],p[3]);return a};A.round=function(a,m){a[0]=Math.round(m[0]);a[1]=Math.round(m[1]);a[2]=Math.round(m[2]);a[3]=Math.round(m[3]);return a};A.scale=function(a,m,p){a[0]=m[0]*p;a[1]=m[1]*p;a[2]=m[2]*p;a[3]=m[3]*p;return a};A.scaleAndAdd=function(a,
m,p,t){a[0]=m[0]+p[0]*t;a[1]=m[1]+p[1]*t;a[2]=m[2]+p[2]*t;a[3]=m[3]+p[3]*t;return a};A.distance=function(a,m){var p=m[0]-a[0],t=m[1]-a[1],n=m[2]-a[2];a=m[3]-a[3];return Math.sqrt(p*p+t*t+n*n+a*a)};A.dist=A.distance;A.squaredDistance=function(a,m){var p=m[0]-a[0],t=m[1]-a[1],n=m[2]-a[2];a=m[3]-a[3];return p*p+t*t+n*n+a*a};A.sqrDist=A.squaredDistance;A.length=function(a){var m=a[0],p=a[1],t=a[2];a=a[3];return Math.sqrt(m*m+p*p+t*t+a*a)};A.len=A.length;A.squaredLength=function(a){var m=a[0],p=a[1],t=
a[2];a=a[3];return m*m+p*p+t*t+a*a};A.sqrLen=A.squaredLength;A.negate=function(a,m){a[0]=-m[0];a[1]=-m[1];a[2]=-m[2];a[3]=-m[3];return a};A.inverse=function(a,m){a[0]=1/m[0];a[1]=1/m[1];a[2]=1/m[2];a[3]=1/m[3];return a};A.normalize=function(a,m){var p=m[0],t=m[1],n=m[2];m=m[3];var h=p*p+t*t+n*n+m*m;0<h&&(h=1/Math.sqrt(h),a[0]=p*h,a[1]=t*h,a[2]=n*h,a[3]=m*h);return a};A.dot=function(a,m){return a[0]*m[0]+a[1]*m[1]+a[2]*m[2]+a[3]*m[3]};A.lerp=function(a,m,p,t){var n=m[0],h=m[1],c=m[2];m=m[3];a[0]=n+
t*(p[0]-n);a[1]=h+t*(p[1]-h);a[2]=c+t*(p[2]-c);a[3]=m+t*(p[3]-m);return a};A.random=function(a,m){m=m||1;a[0]=G.RANDOM();a[1]=G.RANDOM();a[2]=G.RANDOM();a[3]=G.RANDOM();A.normalize(a,a);A.scale(a,a,m);return a};A.transformMat4=function(a,m,p){var t=m[0],n=m[1],h=m[2];m=m[3];a[0]=p[0]*t+p[4]*n+p[8]*h+p[12]*m;a[1]=p[1]*t+p[5]*n+p[9]*h+p[13]*m;a[2]=p[2]*t+p[6]*n+p[10]*h+p[14]*m;a[3]=p[3]*t+p[7]*n+p[11]*h+p[15]*m;return a};A.transformQuat=function(a,m,p){var t=m[0],n=m[1],h=m[2],c=p[0],b=p[1],e=p[2];
p=p[3];var f=p*t+b*h-e*n,k=p*n+e*t-c*h,u=p*h+c*n-b*t;t=-c*t-b*n-e*h;a[0]=f*p+t*-c+k*-e-u*-b;a[1]=k*p+t*-b+u*-c-f*-e;a[2]=u*p+t*-e+f*-b-k*-c;a[3]=m[3];return a};A.forEach=function(){var a=A.create();return function(m,p,t,n,h,c){p||(p=4);t||(t=0);for(n=n?Math.min(n*p+t,m.length):m.length;t<n;t+=p)a[0]=m[t],a[1]=m[t+1],a[2]=m[t+2],a[3]=m[t+3],h(a,a,c),m[t]=a[0],m[t+1]=a[1],m[t+2]=a[2],m[t+3]=a[3];return m}}();A.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};A.exactEquals=function(a,
m){return a[0]===m[0]&&a[1]===m[1]&&a[2]===m[2]&&a[3]===m[3]};A.equals=function(a,m){var p=a[0],t=a[1],n=a[2];a=a[3];var h=m[0],c=m[1],b=m[2];m=m[3];return Math.abs(p-h)<=G.EPSILON*Math.max(1,Math.abs(p),Math.abs(h))&&Math.abs(t-c)<=G.EPSILON*Math.max(1,Math.abs(t),Math.abs(c))&&Math.abs(n-b)<=G.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(a-m)<=G.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))};return A})},"esri/layers/vectorTiles/views/2d/engine/webgl/brushes/WGLGeometryBrushFill":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ../enums ../Utils ./WGLGeometryBrush ../../../../webgl/VertexArrayObject".split(" "),
function(G,A,a,m,p,t,n){Object.defineProperty(A,"__esModule",{value:!0});G=function(h){function c(){var b=null!==h&&h.apply(this,arguments)||this;b._isInitialized=!1;b._fillAttributeLocations={a_pos:0,a_id:1,a_color:2,a_tlbr:3,a_aux:4};b._fillAttributeLocationsVV={a_pos:0,a_id:1,a_color:2,a_tlbr:3,a_aux:4,a_vv:5};b._spritesTextureSize=new Float32Array(2);return b}a(c,h);c.prototype.dispose=function(){};c.prototype.getGeometryType=function(){return m.WGLGeometryType.FILL};c.prototype.drawGeometry=
function(b,e,f,k){k=b.context;var u=b.painter,v=b.rendererInfo,g=b.requiredLevel,q=b.stationary,x=f.indexCount,w=f.indexFrom;this._initialize();var B=f.materialInfo.materialKeyInfo,z=B.hasVV()?this._fillAttributeLocationsVV:this._fillAttributeLocations;if(z=b.painter.materialManager.getProgram(f.materialInfo.materialKey,b.drawPhase,z)){k.bindProgram(z);var C=this._getVAO(k,e,B.hasVV());k.bindVAO(C);if(0<f.materialInfo.texBindingInfo.length){f=f.materialInfo.texBindingInfo[0];C=f.pageId;var y=b.painter.textureManager.sprites;
this._spritesTextureSize[0]=y.getWidth(C);this._spritesTextureSize[1]=y.getHeight(C);z.setUniform1f("u_zoomFactor",1/Math.pow(2,g-e.key.level)/b.pixelRatio);u.textureManager.bindSpritePage(k,C,f.unit,q?9728:9729);z.setUniform1i(f.semantic,f.unit);z.setUniform2fv("u_mosaicSize",this._spritesTextureSize)}z.setUniformMatrix4fv("u_transformMatrix",e.tileTransform.transform);z.setUniform2fv("u_normalized_origin",e.tileTransform.displayCoord);z.setUniform1f("u_opacity",1);B.vvColor&&(z.setUniform1fv("u_vvColorValues",
v.vvColorValues),z.setUniform4fv("u_vvColors",v.vvColors));B.vvOpacity&&(z.setUniform1fv("u_vvOpacityValues",v.vvOpacityValues),z.setUniform1fv("u_vvOpacities",v.vvOpacities));k.drawElements(4,x,5125,4*w);k.bindVAO(null)}};c.prototype._initialize=function(){if(this._isInitialized)return!0;this._fillVertexAttributeLayout={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:24,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:24,normalized:!0,divisor:0},{name:"a_color",count:4,
type:5121,offset:8,stride:24,normalized:!0,divisor:0},{name:"a_tlbr",count:4,type:5123,offset:12,stride:24,normalized:!1,divisor:0},{name:"a_aux",count:4,type:5121,offset:20,stride:24,normalized:!1,divisor:0}]};this._fillVertexAttributeLayoutVV={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:32,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:32,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:32,normalized:!0,divisor:0},{name:"a_tlbr",count:4,
type:5123,offset:12,stride:32,normalized:!1,divisor:0},{name:"a_aux",count:4,type:5121,offset:20,stride:32,normalized:!1,divisor:0},{name:"a_vv",count:2,type:5126,offset:24,stride:32,normalized:!1,divisor:0}]};this._isInitialized=!0};c.prototype._getVAO=function(b,e,f){if(e.fillGeometry.vao)return e.fillGeometry.vao;var k=e.fillGeometry.vertexBufferMap[p.C_VBO_GEOMETRY],u=e.fillGeometry.indexBuffer;if(!k||!u)return null;e.fillGeometry.vao=f?new n(b,this._fillAttributeLocationsVV,this._fillVertexAttributeLayoutVV,
{geometry:k},u):new n(b,this._fillAttributeLocations,this._fillVertexAttributeLayout,{geometry:k},u);return e.fillGeometry.vao};return c}(t.default);A.default=G})},"esri/layers/vectorTiles/views/2d/engine/webgl/brushes/WGLGeometryBrush":function(){define(["require","exports","../../../../../core/tsSupport/extendsHelper","./WGLBrush","../util/iterator"],function(G,A,a,m,p){Object.defineProperty(A,"__esModule",{value:!0});G=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}a(n,
t);n.prototype.draw=function(h,c){var b=this;if(c.canDisplay){var e=this.getGeometryType(),f=c.getDisplayList(h.drawPhase),k=c.getGeometry(e);k&&p.forEachIter(f.ofType(e),function(u){return b.drawGeometry(h,c,u,k)})}};return n}(m.default);A.default=G})},"esri/layers/vectorTiles/views/2d/engine/webgl/util/iterator":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.forEachIter=function(a,m){for(;;){var p=a.next();if(p.done)break;m(p.value)}}})},
"esri/layers/vectorTiles/views/2d/engine/webgl/brushes/WGLGeometryBrushLabel":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ../enums ../Utils ./WGLGeometryBrush ../../../../webgl/VertexArrayObject".split(" "),function(G,A,a,m,p,t,n){Object.defineProperty(A,"__esModule",{value:!0});G=function(h){function c(){var b=null!==h&&h.apply(this,arguments)||this;b._attributeLocations={a_pos:0,a_color:1,a_vertexOffset:2,a_texAndSize:3,a_refSymbolAndPlacementOffset:4,a_visible:5,
a_visibilityRange:6};b._vertexAttributeLayout={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:20,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:4,stride:20,normalized:!0,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:8,stride:20,normalized:!1,divisor:0},{name:"a_texAndSize",count:4,type:5120,offset:12,stride:20,normalized:!1,divisor:0},{name:"a_refSymbolAndPlacementOffset",count:4,type:5120,offset:16,stride:20,normalized:!1,divisor:0}],visibility:[{name:"a_visible",
count:1,type:5121,offset:0,stride:1,normalized:!0,divisor:0}],visibilityRange:[{name:"a_visibilityRange",count:2,type:5121,offset:0,stride:2,normalized:!1,divisor:0}]};b._glyphsTextureSize=new Float32Array(2);return b}a(c,h);c.prototype.dispose=function(){};c.prototype.drawGeometry=function(b,e,f,k){if(b.requiredLevel===e.key.level){k=b.context;var u=b.painter,v=b.drawPhase,g=f.materialInfo,q=f.indexCount;f=f.indexFrom;var x=this._attributeLocations,w=b.drawPhase===m.WGLDrawPhase.LABEL_ALPHA,B=g.materialKey;
w&&(B|=8);if(v=u.materialManager.getProgram(B,v,x))k.setStencilTestEnabled(!1),k.bindProgram(v),x=this._getVAO(k,e),k.bindVAO(x),w?(k.setBlendingEnabled(!1),v.setUniform1f("u_fadeStep",b.labelStep)):(g=g.texBindingInfo[0],u.textureManager.bindGlyphsPage(k,g.pageId,g.unit),v.setUniform1i(g.semantic,g.unit)),g=u.textureManager.glyphs,this._glyphsTextureSize[0]=g.width/4,this._glyphsTextureSize[1]=g.height/4,u=u.extrudeNoRotationMatrix,k.bindTexture(b.labelFBO.colorTexture,3),v.setUniform1i("u_referenceTex",
3),v.setUniformMatrix4fv("u_transformMatrix",e.tileTransform.transform),v.setUniformMatrix4fv("u_extrudeMatrix",u),v.setUniform2fv("u_normalized_origin",e.tileTransform.displayCoord),v.setUniform2fv("u_mosaicSize",this._glyphsTextureSize),v.setUniform1f("u_pixelRatio",b.pixelRatio),v.setUniform1f("u_opacity",1),v.setUniform1f("u_zoomLevel",10*b.displayLevel),v.setUniform1f("u_mapRotation",b.state.rotation),v.setUniform1f("u_mapAligned",0),v.setUniform2fv("u_screenSize",b.state.size),k.drawElements(4,
q,5125,4*f),k.bindVAO(null),k.setStencilTestEnabled(!0),k.setBlendingEnabled(!0)}};c.prototype.getGeometryType=function(){return m.WGLGeometryType.LABEL};c.prototype._getVAO=function(b,e){if((e=e.labelGeometry)&&e.vao)return e.vao;var f=e.vertexBufferMap[p.C_VBO_GEOMETRY],k=e.vertexBufferMap[p.C_VBO_VISIBILITY_RANGE],u=e.indexBuffer;if(!f||!u||!k)return null;e.vao=new n(b,this._attributeLocations,this._vertexAttributeLayout,{geometry:f,visibility:e.vertexBufferMap[p.C_VBO_VISIBILITY],visibilityRange:k},
u);return e.vao};return c}(t.default);A.default=G})},"esri/layers/vectorTiles/views/2d/engine/webgl/brushes/WGLGeometryBrushLine":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ../enums ../Utils ./WGLGeometryBrush ../../../../webgl/VertexArrayObject".split(" "),function(G,A,a,m,p,t,n){Object.defineProperty(A,"__esModule",{value:!0});G=function(h){function c(){var b=null!==h&&h.apply(this,arguments)||this;b._lineAttributeLocations={a_pos:0,a_id:1,a_color:2,a_offsetAndNormal:3,
a_accumulatedDistanceAndHalfWidth:4,a_tlbr:5,a_segmentDirection:6};b._lineAttributeLocationsVV={a_pos:0,a_id:1,a_color:2,a_offsetAndNormal:3,a_accumulatedDistanceAndHalfWidth:4,a_tlbr:5,a_segmentDirection:6,a_vv:7};b._lineVertexAttributeLayout={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:32,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:32,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:32,normalized:!0,divisor:0},{name:"a_offsetAndNormal",
count:4,type:5120,offset:12,stride:32,normalized:!1,divisor:0},{name:"a_accumulatedDistanceAndHalfWidth",count:2,type:5123,offset:16,stride:32,normalized:!1,divisor:0},{name:"a_tlbr",count:4,type:5123,offset:20,stride:32,normalized:!1,divisor:0},{name:"a_segmentDirection",count:4,type:5120,offset:28,stride:32,normalized:!1,divisor:0}]};b._lineVertexAttributeLayoutVV={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:44,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:44,
normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:44,normalized:!0,divisor:0},{name:"a_offsetAndNormal",count:4,type:5120,offset:12,stride:44,normalized:!1,divisor:0},{name:"a_accumulatedDistanceAndHalfWidth",count:2,type:5123,offset:16,stride:44,normalized:!1,divisor:0},{name:"a_tlbr",count:4,type:5123,offset:20,stride:44,normalized:!1,divisor:0},{name:"a_segmentDirection",count:4,type:5120,offset:28,stride:44,normalized:!1,divisor:0},{name:"a_vv",count:3,type:5126,offset:32,
stride:44,normalized:!1,divisor:0}]};b._spritesTextureSize=new Float32Array(2);return b}a(c,h);c.prototype.dispose=function(){};c.prototype.getGeometryType=function(){return m.WGLGeometryType.LINE};c.prototype.drawGeometry=function(b,e,f,k){k=b.context;var u=b.painter,v=b.rendererInfo,g=b.requiredLevel,q=b.drawPhase,x=f.indexFrom,w=f.indexCount,B=f.materialInfo;f=B.materialKeyInfo;var z=f.hasVV()?this._lineAttributeLocationsVV:this._lineAttributeLocations;if(q=u.materialManager.getProgram(B.materialKey,
q,z)){k.bindProgram(q);z=this._getVAO(k,e,f.hasVV());k.bindVAO(z);z=1/b.pixelRatio;if(0<B.texBindingInfo.length){B=B.texBindingInfo[0];var C=B.pageId,y=u.textureManager.sprites;this._spritesTextureSize[0]=y.getWidth(C);this._spritesTextureSize[1]=y.getHeight(C);u.textureManager.bindSpritePage(k,C,B.unit);q.setUniform1i(B.semantic,B.unit);q.setUniform2fv("u_mosaicSize",this._spritesTextureSize)}b=Math.pow(2,g-e.key.level)/b.pixelRatio;q.setUniform1f("u_zoomFactor",b);q.setUniformMatrix4fv("u_transformMatrix",
e.tileTransform.transform);q.setUniformMatrix4fv("u_extrudeMatrix",u.extrudeMatrix);q.setUniform2fv("u_normalized_origin",e.tileTransform.displayCoord);q.setUniform1f("u_opacity",1);q.setUniform1f("u_blur",0+z);q.setUniform1f("u_antialiasing",z);q.setUniform1f("u_zoomFactor",b);f.vvSizeMinMaxValue&&q.setUniform4fv("u_vvSizeMinMaxValue",v.vvSizeMinMaxValue);f.vvSizeScaleStops&&q.setUniform1f("u_vvSizeScaleStopsValue",v.vvSizeScaleStopsValue);f.vvSizeFieldStops&&(q.setUniform1fv("u_vvSizeFieldStopsValues",
v.vvSizeFieldStopsValues),q.setUniform1fv("u_vvSizeFieldStopsSizes",v.vvSizeFieldStopsSizes));f.vvSizeUnitValue&&q.setUniform1f("u_vvSizeUnitValueWorldToPixelsRatio",v.vvSizeUnitValueToPixelsRatio);f.vvColor&&(q.setUniform1fv("u_vvColorValues",v.vvColorValues),q.setUniform4fv("u_vvColors",v.vvColors));f.vvOpacity&&(q.setUniform1fv("u_vvOpacityValues",v.vvOpacityValues),q.setUniform1fv("u_vvOpacities",v.vvOpacities));k.setFaceCullingEnabled(!0);k.setFrontFace(2305);k.setCullFace(1029);k.drawElements(4,
w,5125,4*x);k.setFaceCullingEnabled(!1);k.bindVAO(null)}};c.prototype._getVAO=function(b,e,f){if(e.lineGeometry.vao)return e.lineGeometry.vao;var k=e.lineGeometry.vertexBufferMap[p.C_VBO_GEOMETRY],u=e.lineGeometry.indexBuffer;if(!k||!u)return null;e.lineGeometry.vao=f?new n(b,this._lineAttributeLocationsVV,this._lineVertexAttributeLayoutVV,{geometry:k},u):new n(b,this._lineAttributeLocations,this._lineVertexAttributeLayout,{geometry:k},u);return e.lineGeometry.vao};return c}(t.default);A.default=
G})},"esri/layers/vectorTiles/views/2d/engine/webgl/brushes/WGLGeometryBrushMarker":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ../enums ../Utils ./WGLGeometryBrush ../../../../webgl/Texture ../../../../webgl/VertexArrayObject".split(" "),function(G,A,a,m,p,t,n,h){Object.defineProperty(A,"__esModule",{value:!0});G=function(c){function b(){var e=null!==c&&c.apply(this,arguments)||this;e._iconAttributeLocations={a_pos:0,a_vertexOffset:1,a_vertexTex:2,a_id:3,a_color:4,
a_outlineColor:5,a_sizeAndOutlineWidth:6};e._iconAttributeLocationsVV={a_pos:0,a_vertexOffset:1,a_vertexTex:2,a_id:3,a_color:4,a_outlineColor:5,a_sizeAndOutlineWidth:6,a_vv:7};e._iconAttributeLocationsHeatmap={a_pos:0,a_vertexOffset:1,a_vertexTex:2,a_id:3,a_color:4,a_outlineColor:5,a_sizeAndOutlineWidth:6,a_weight:7};e._iconVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:28,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:28,normalized:!1,
divisor:0},{name:"a_vertexTex",count:4,type:5121,offset:8,stride:28,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:12,stride:28,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:16,stride:28,normalized:!0,divisor:0},{name:"a_outlineColor",count:4,type:5121,offset:20,stride:28,normalized:!0,divisor:0},{name:"a_sizeAndOutlineWidth",count:4,type:5121,offset:24,stride:28,normalized:!1,divisor:0}]};e._iconVertexAttributesWithVV={geometry:[{name:"a_pos",count:2,type:5122,
offset:0,stride:44,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:44,normalized:!1,divisor:0},{name:"a_vertexTex",count:4,type:5121,offset:8,stride:44,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:12,stride:44,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:16,stride:44,normalized:!0,divisor:0},{name:"a_outlineColor",count:4,type:5121,offset:20,stride:44,normalized:!0,divisor:0},{name:"a_sizeAndOutlineWidth",count:4,type:5121,offset:24,
stride:44,normalized:!1,divisor:0},{name:"a_vv",count:4,type:5126,offset:28,stride:44,normalized:!1,divisor:0}]};e._iconVertexAttributesWithHeatmap={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:32,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:32,normalized:!1,divisor:0},{name:"a_vertexTex",count:4,type:5121,offset:8,stride:32,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:12,stride:32,normalized:!0,divisor:0},{name:"a_color",count:4,
type:5121,offset:16,stride:32,normalized:!0,divisor:0},{name:"a_outlineColor",count:4,type:5121,offset:20,stride:32,normalized:!0,divisor:0},{name:"a_sizeAndOutlineWidth",count:4,type:5121,offset:24,stride:32,normalized:!1,divisor:0},{name:"a_weight",count:1,type:5126,offset:28,stride:32,normalized:!1,divisor:0}]};e._spritesTextureSize=new Float32Array(2);return e}a(b,c);b.prototype.dispose=function(){};b.prototype.getGeometryType=function(){return m.WGLGeometryType.MARKER};b.prototype.drawGeometry=
function(e,f,k,u){u=e.context;var v=e.painter,g=e.rendererInfo,q=e.drawPhase;e=k.indexCount;var x=k.indexFrom,w=k.materialInfo;k=w.materialKeyInfo;var B=k.heatmap,z=k.hasVV()?this._iconAttributeLocationsVV:this._iconAttributeLocations;if(q=v.materialManager.getProgram(w.materialKey,q,z))u.bindProgram(q),z=this._getVAO(u,f,k.hasVV(),B),u.bindVAO(z),B?(w=this._getIntensityTexture(u,g.heatmapParameters),u.bindTexture(w,1),q.setUniform1i("u_texture",1),this._spritesTextureSize[0]=Math.round(g.heatmapParameters.radius),
this._spritesTextureSize[1]=Math.round(g.heatmapParameters.radius)):(B=w.texBindingInfo[0],w=B.pageId,v.textureManager.bindSpritePage(u,w,B.unit),q.setUniform1i(B.semantic,B.unit),B=v.textureManager.sprites,this._spritesTextureSize[0]=B.getWidth(w)/4,this._spritesTextureSize[1]=B.getHeight(w)/4),v=g.vvMaterialParameters.vvRotationEnabled&&"geographic"===g.vvMaterialParameters.vvRotationType?v.extrudeMatrix:v.extrudeNoRotationMatrix,q.setUniformMatrix4fv("u_transformMatrix",f.tileTransform.transform),
q.setUniformMatrix4fv("u_extrudeMatrix",v),q.setUniform2fv("u_normalized_origin",f.tileTransform.displayCoord),q.setUniform2fv("u_mosaicSize",this._spritesTextureSize),q.setUniform1f("u_opacity",1),k.vvSizeMinMaxValue&&q.setUniform4fv("u_vvSizeMinMaxValue",g.vvSizeMinMaxValue),k.vvSizeScaleStops&&q.setUniform1f("u_vvSizeScaleStopsValue",g.vvSizeScaleStopsValue),k.vvSizeFieldStops&&(q.setUniform1fv("u_vvSizeFieldStopsValues",g.vvSizeFieldStopsValues),q.setUniform1fv("u_vvSizeFieldStopsSizes",g.vvSizeFieldStopsSizes)),
k.vvSizeUnitValue&&q.setUniform1f("u_vvSizeUnitValueWorldToPixelsRatio",g.vvSizeUnitValueToPixelsRatio),k.vvColor&&(q.setUniform1fv("u_vvColorValues",g.vvColorValues),q.setUniform4fv("u_vvColors",g.vvColors)),k.vvOpacity&&(q.setUniform1fv("u_vvOpacityValues",g.vvOpacityValues),q.setUniform1fv("u_vvOpacities",g.vvOpacities)),k.vvRotation&&q.setUniform1f("u_vvRotationType","geographic"===g.vvMaterialParameters.vvRotationType?0:1),u.drawElements(4,e,5125,4*x),u.bindVAO(null)};b.prototype._getVAO=function(e,
f,k,u){if(f.iconGeometry.vao)return f.iconGeometry.vao;var v=f.iconGeometry.vertexBufferMap[p.C_VBO_GEOMETRY],g=f.iconGeometry.indexBuffer;if(!v||!g)return null;f.iconGeometry.vao=k?new h(e,this._iconAttributeLocationsVV,this._iconVertexAttributesWithVV,{geometry:v},g):u?new h(e,this._iconAttributeLocationsHeatmap,this._iconVertexAttributesWithHeatmap,{geometry:v},g):new h(e,this._iconAttributeLocations,this._iconVertexAttributes,{geometry:v},g);return f.iconGeometry.vao};b.prototype._getIntensityTexture=
function(e,f){if(f.intensityKernel&&!f.refreshIntensityKernel)return f.intensityKernel;f.intensityKernel&&(f.intensityKernel.dispose(),f.intensityKernel=null);for(var k=f.radius,u=f.kernelSize,v=f.blurRadius,g=k*k,q=[],x=-1;++x<u;)q[x]=Math.exp(-Math.pow(x-v,2)/(2*g))/(k/2*Math.sqrt(2*Math.PI));k=[];for(var w,B=0;B<u;B++)for(g=q[B],x=0;x<u;x++)w=B*u+x,v=q[x],k[4*w]=g*v,k[4*w+1]=0,k[4*w+2]=0,k[4*w+3]=1;e=new n(e,{target:3553,pixelFormat:6408,internalFormat:e.capabilities.colorBufferFloat.RGBA32F,dataType:5126,
samplingMode:e.capabilities.textureFloatLinear?9729:9728,wrapMode:33071,width:u,height:u},new Float32Array(k));f.intensityKernel=e;f.refreshIntensityKernel=!1;return e};return b}(t.default);A.default=G})},"esri/layers/vectorTiles/views/2d/engine/webgl/brushes/WGLGeometryBrushText":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ../enums ../Utils ./WGLGeometryBrush ../../../../webgl/VertexArrayObject".split(" "),function(G,A,a,m,p,t,n){Object.defineProperty(A,"__esModule",
{value:!0});G=function(h){function c(){var b=null!==h&&h.apply(this,arguments)||this;b._attributeLocations={a_pos:0,a_id:1,a_color:2,a_vertexOffset:3,a_texFontSize:4,a_visible:5};b._attributeLocationsVV={a_pos:0,a_id:1,a_color:2,a_vertexOffset:3,a_texFontSize:4,a_vv:5,a_visible:6};b._vertexAttributeLayout={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:20,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:20,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,
offset:8,stride:20,normalized:!0,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:12,stride:20,normalized:!1,divisor:0},{name:"a_texFontSize",count:4,type:5120,offset:16,stride:20,normalized:!1,divisor:0}],visibility:[{name:"a_visible",count:1,type:5121,offset:0,stride:1,normalized:!0,divisor:0}]};b._vertexAttributeLayoutVV={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:36,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:36,normalized:!0,divisor:0},{name:"a_color",
count:4,type:5121,offset:8,stride:36,normalized:!0,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:12,stride:36,normalized:!1,divisor:0},{name:"a_texFontSize",count:4,type:5120,offset:16,stride:36,normalized:!1,divisor:0},{name:"a_vv",count:4,type:5126,offset:20,stride:36,normalized:!1,divisor:0}],visibility:[{name:"a_visible",count:1,type:5121,offset:0,stride:1,normalized:!0,divisor:0}]};b._glyphsTextureSize=new Float32Array(2);return b}a(c,h);c.prototype.dispose=function(){};c.prototype.getGeometryType=
function(){return m.WGLGeometryType.TEXT};c.prototype.drawGeometry=function(b,e,f,k){k=b.context;var u=b.painter,v=b.rendererInfo,g=f.materialInfo,q=f.indexCount;f=f.indexFrom;var x=g.materialKeyInfo,w=x.vvSizeMinMaxValue||x.vvSizeScaleStops||x.vvSizeFieldStops||x.vvSizeUnitValue||x.vvColor||x.vvRotation||x.vvOpacity;if(b=u.materialManager.getProgram(g.materialKey,b.drawPhase,w?this._attributeLocationsVV:this._attributeLocations))k.bindProgram(b),w=this._getVAO(k,e,w,this.getGeometryType()),k.bindVAO(w),
g=g.texBindingInfo[0],u.textureManager.bindGlyphsPage(k,g.pageId,g.unit),b.setUniform1i(g.semantic,g.unit),g=u.textureManager.glyphs,this._glyphsTextureSize[0]=g.width/4,this._glyphsTextureSize[1]=g.height/4,u=v.vvMaterialParameters.vvRotationEnabled&&"geographic"===v.vvMaterialParameters.vvRotationType?u.extrudeMatrix:u.extrudeNoRotationMatrix,b.setUniformMatrix4fv("u_transformMatrix",e.tileTransform.transform),b.setUniformMatrix4fv("u_extrudeMatrix",u),b.setUniform2fv("u_normalized_origin",e.tileTransform.displayCoord),
b.setUniform2fv("u_mosaicSize",this._glyphsTextureSize),b.setUniform1f("u_pixelRatio",1),b.setUniform1f("u_opacity",1),x.vvSizeMinMaxValue&&b.setUniform4fv("u_vvSizeMinMaxValue",v.vvSizeMinMaxValue),x.vvSizeScaleStops&&b.setUniform1f("u_vvSizeScaleStopsValue",v.vvSizeScaleStopsValue),x.vvSizeFieldStops&&(b.setUniform1fv("u_vvSizeFieldStopsValues",v.vvSizeFieldStopsValues),b.setUniform1fv("u_vvSizeFieldStopsSizes",v.vvSizeFieldStopsSizes)),x.vvSizeUnitValue&&b.setUniform1f("u_vvSizeUnitValueWorldToPixelsRatio",
v.vvSizeUnitValueToPixelsRatio),x.vvColor&&(b.setUniform1fv("u_vvColorValues",v.vvColorValues),b.setUniform4fv("u_vvColors",v.vvColors)),x.vvOpacity&&(b.setUniform1fv("u_vvOpacityValues",v.vvOpacityValues),b.setUniform1fv("u_vvOpacities",v.vvOpacities)),x.vvRotation&&b.setUniform1f("u_vvRotationType","geographic"===v.vvMaterialParameters.vvRotationType?0:1),k.drawElements(4,q,5125,4*f),k.bindVAO(null)};c.prototype._getVAO=function(b,e,f,k){if((e=e.getGeometry(k))&&e.vao)return e.vao;k=e.vertexBufferMap[p.C_VBO_GEOMETRY];
var u=e.vertexBufferMap[p.C_VBO_VISIBILITY],v=e.indexBuffer;if(!k||!v)return null;e.vao=f?new n(b,this._attributeLocationsVV,this._vertexAttributeLayoutVV,{geometry:k,visibility:u},v):new n(b,this._attributeLocations,this._vertexAttributeLayout,{geometry:k,visibility:u},v);return e.vao};return c}(t.default);A.default=G})},"esri/layers/vectorTiles/views/2d/engine/webgl/painter/WGLHighlightPainter":function(){define(["require","exports","dojo/has","./highlight/HighlightRenderer","./highlight/HighlightSurfaces"],
function(G,A,a,m,p){return function(){function t(){this._hlRenderer=new m;this._hlSurfaces=new p;this._height=this._width=void 0}t.prototype.dispose=function(){this._hlSurfaces&&this._hlSurfaces.dispose();this._hlRenderer&&this._hlRenderer.dispose();this._boundFBO=null};t.prototype.setup=function(n,h,c){var b=h%4,e=c%4;h+=2>b?-b:4-b;c+=2>e?-e:4-e;this._width=h;this._height=c;this._boundFBO=n.getBoundFramebufferObject();h=Math.round(.75*h);c=Math.round(.75*c);this._hlRenderer.setup(n,h,c);this._hlSurfaces.setup(n,
h,c)};t.prototype.setHighlightOptions=function(n){this._hlRenderer.setHighlightOptions({fillColor:n.fillColor,outlineColor:n.outlineColor,outlineWidth:.75*n.outlineWidth,outerHaloWidth:.75*n.outerHaloWidth,innerHaloWidth:.75*n.innerHaloWidth,outlinePosition:.75*n.outlinePosition})};t.prototype.startMaskDraw=function(n){n.bindFramebuffer(this._hlSurfaces.sharedBlur1Fbo);n.setClearColor(0,0,0,0);n.setClearStencil(0);n.clear(n.gl.COLOR_BUFFER_BIT|n.gl.STENCIL_BUFFER_BIT);n.setViewport(0,0,.75*this._width,
.75*this._height)};t.prototype.draw=function(n){n.setStencilTestEnabled(!1);n.setBlendingEnabled(!1);n.bindFramebuffer(this._hlSurfaces.sharedBlur2Fbo);n.setClearColor(0,0,0,0);n.clear(n.gl.COLOR_BUFFER_BIT);this._hlRenderer.preBlur(n,this._hlSurfaces.sharedBlur1Tex);a("esri-feature-highlight-debug")?(n.bindFramebuffer(null),n.clear(n.gl.COLOR_BUFFER_BIT),this._hlRenderer.finalBlur(n,this._hlSurfaces.sharedBlur2Tex)):(n.bindFramebuffer(this._hlSurfaces.sharedBlur1Fbo),n.setClearColor(0,0,0,0),n.clear(n.gl.COLOR_BUFFER_BIT),
this._hlRenderer.finalBlur(n,this._hlSurfaces.sharedBlur2Tex),n.bindFramebuffer(this._boundFBO),n.setBlendingEnabled(!0),n.setViewport(0,0,this._width,this._height),this._hlRenderer.renderHighlight(n,this._hlSurfaces.sharedBlur1Tex),this._boundFBO=null)};return t}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/painter/highlight/HighlightRenderer":function(){define("require exports ../../shaders/hlShaderSnippets ../../../../../webgl/BufferObject ../../../../../webgl/ShaderVariations ../../../../../webgl/Texture ../../../../../webgl/VertexArrayObject".split(" "),
function(G,A,a,m,p,t,n){var h=[void 0,void 0,void 0,1],c=[3,4],b=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return function(){function f(){this._height=this._width=void 0;this._highlightOptions={fillColor:[.2,.6,.9,.75],outlineColor:[.2,.6,.9,.9],outlinePosition:0,outlineWidth:3.4,innerHaloWidth:2,outerHaloWidth:3.3};this._resources=null}f.prototype.dispose=function(){this._resources&&(this._resources.quadGeometry.dispose(),this._resources.quadVAO.dispose(),this._resources.highlightProgram.dispose(),
this._resources.blurProgram.dispose(),this._resources.shadeTex.dispose(),this._resources=null)};f.prototype.preBlur=function(k,u){k.bindTexture(u,c[0]);k.bindProgram(this._resources.blurProgram);this._resources.blurProgram.setUniform4fv("u_direction",[1,0,1/this._width,0]);this._resources.blurProgram.setUniformMatrix4fv("u_channelSelector",b);k.bindVAO(this._resources.quadVAO);k.drawArrays(5,0,4);k.bindVAO()};f.prototype.finalBlur=function(k,u){k.bindTexture(u,c[0]);k.bindProgram(this._resources.blurProgram);
this._resources.blurProgram.setUniform4fv("u_direction",[0,1,0,1/this._height]);this._resources.blurProgram.setUniformMatrix4fv("u_channelSelector",e);k.bindVAO(this._resources.quadVAO);k.drawArrays(5,0,4);k.bindVAO()};f.prototype.renderHighlight=function(k,u){k.bindTexture(u,c[0]);k.bindTexture(this._resources.shadeTex,c[1]);k.bindProgram(this._resources.highlightProgram);k.bindVAO(this._resources.quadVAO);k.drawArrays(5,0,4);k.bindVAO()};f.prototype._initialize=function(k,u,v){this._width=u;this._height=
v;u=new m(k,34962,35044,(new Int8Array([-128,-128,0,0,127,-128,255,0,-128,127,0,255,127,127,255,255])).buffer);v=new n(k,{a_position:0,a_texcoord:1},{geometry:[{name:"a_position",count:2,type:5120,offset:0,stride:4,normalized:!0},{name:"a_texcoord",count:2,type:5121,offset:2,stride:4,normalized:!0}]},{geometry:u});var g=(new p("hl",["texturedVS","highlightFS"],[],a,k,{a_position:0,a_texcoord:1})).getProgram([]),q=(new p("hl",["texturedVS","blurFS"],[],a,k,{a_position:0,a_texcoord:1})).getProgram([]);
g.setUniform1i("u_texture",c[0]);g.setUniform1i("u_shade",c[1]);g.setUniform4fv("u_sigmas",h);q.setUniform1i("u_texture",c[0]);q.setUniform4fv("u_sigmas",h);k=new t(k,{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,width:256,height:1,samplingMode:9728});this._resources={quadGeometry:u,quadVAO:v,highlightProgram:g,blurProgram:q,shadeTex:k}};f.prototype.setHighlightOptions=function(k){function u(y,D,F){z[0]=(1-F)*y[0]+F*D[0];z[1]=(1-F)*y[1]+F*D[1];z[2]=(1-F)*y[2]+F*D[2];z[3]=(1-F)*y[3]+F*
D[3]}this._highlightOptions=k;if(this._resources){var v=k.outlinePosition-k.outlineWidth/2-k.outerHaloWidth,g=k.outlinePosition-k.outlineWidth/2,q=k.outlinePosition+k.outlineWidth/2,x=k.outlinePosition+k.outlineWidth/2+k.innerHaloWidth,w=Math.sqrt(Math.PI/2)*h[3],B=Math.abs(v)>w?Math.round(10*(Math.abs(v)-w))/10:0;w=Math.abs(x)>w?Math.round(10*(Math.abs(x)-w))/10:0;B&&!w?console.warn("The outer rim of the highlight is "+B+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):
!B&&w?console.warn("The inner rim of the highlight is "+w+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):B&&w&&console.warn("The highlight is "+Math.max(B,w)+"px away from the edge of the feature; consider reducing some width values.");B=new Uint8Array(1024);for(var z=[void 0,void 0,void 0,void 0],C=0;256>C;++C)w=v+C/255*(x-v),w<v?(B[4*C]=0,B[4*C+1]=0,B[4*C+2]=0,B[4*C+3]=0):w<g?u([0,0,0,0],k.outlineColor,
(w-v)/(g-v)):w<q?(z[0]=k.outlineColor[0],z[1]=k.outlineColor[1],z[2]=k.outlineColor[2],z[3]=k.outlineColor[3]):w<x?u(k.outlineColor,k.fillColor,(w-q)/(x-q)):(B[4*C]=k.fillColor[0],B[4*C+1]=k.fillColor[1],B[4*C+2]=k.fillColor[2],B[4*C+3]=k.fillColor[3]),B[4*C]=255*z[0]*z[3],B[4*C+1]=255*z[1]*z[3],B[4*C+2]=255*z[2]*z[3],B[4*C+3]=255*z[3];this._resources.highlightProgram.setUniform2fv("u_minMaxDistance",[v,x]);this._resources.shadeTex.updateData(0,0,0,256,1,B)}};f.prototype.setup=function(k,u,v){this._resources?
(this._width=u,this._height=v):(this._initialize(k,u,v),this.setHighlightOptions(this._highlightOptions))};return f}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/shaders/hlShaderSnippets":function(){define(["require","exports","dojo/text!./hlShaders.xml","../../../../webgl/ShaderSnippets"],function(G,A,a,m){G=new m;m.parse(a,G);return G})},"esri/layers/vectorTiles/views/2d/engine/webgl/painter/highlight/HighlightSurfaces":function(){define(["require","exports","../../../../../webgl/FramebufferObject",
"../../../../../webgl/Texture"],function(G,A,a,m){function p(t,n,h){n=new m(t,{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,width:n,height:h,samplingMode:9729});t=a.createWithAttachments(t,n,{colorTarget:0,depthStencilTarget:2});return[n,t]}return function(){function t(){this._height=this._width=void 0;this._resources=null}t.prototype.dispose=function(){this._resources&&(this._resources.sharedBlur1Tex.dispose(),this._resources.sharedBlur1Fbo.dispose(),this._resources.sharedBlur2Tex.dispose(),
this._resources.sharedBlur2Fbo.dispose(),this._resources=null)};t.prototype._initialize=function(n,h,c){this._width=h;this._height=c;var b=p(n,h,c),e=b[0];b=b[1];n=p(n,h,c);this._resources={sharedBlur1Tex:e,sharedBlur1Fbo:b,sharedBlur2Tex:n[0],sharedBlur2Fbo:n[1]}};t.prototype.setup=function(n,h,c){!this._resources||this._width===h&&this._height===c||this.dispose();this._resources||this._initialize(n,h,c)};Object.defineProperty(t.prototype,"sharedBlur1Tex",{get:function(){return this._resources.sharedBlur1Tex},
enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"sharedBlur1Fbo",{get:function(){return this._resources.sharedBlur1Fbo},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"sharedBlur2Tex",{get:function(){return this._resources.sharedBlur2Tex},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"sharedBlur2Fbo",{get:function(){return this._resources.sharedBlur2Fbo},enumerable:!0,configurable:!0});return t}()})},"esri/layers/vectorTiles/views/webgl/FramebufferObject":function(){define(["require",
"exports","dojo/has","./Renderbuffer","./Texture"],function(G,A,a,m,p){return function(){function t(n,h,c,b){this._colorAttachment=this._stencilAttachment=this._depthAttachment=this._glName=this._context=null;this._initialized=!1;this._context=n;this._desc={colorTarget:h.colorTarget,depthStencilTarget:h.depthStencilTarget,width:h.width,height:h.height,multisampled:h.multisampled};this._id=t._nextId++;a("esri-webgl-debug")&&n.instanceCounter.incrementCount(4);c&&(n=void 0,c instanceof p?(this._colorAttachment=
c,n=c.descriptor):(n=c,this._colorAttachment=new p(this._context,n)),0!==this._desc.colorTarget&&console.error("Framebuffer is initialized with a texture however the descriptor indicates using a renderbuffer color attachment!"),t._validateTextureDimensions(n,this._desc));b instanceof m?(2===h.depthStencilTarget?this._stencilAttachment=b:1===h.depthStencilTarget||3===h.depthStencilTarget?this._depthAttachment=b:console.error('If a Renderbuffer is provided, "depthStencilTarget" must be one of STENCIL_RENDER_BUFFER, DEPTH_RENDER_BUFFER or DEPTH_STENCIL_RENDER_BUFFER'),
t._validateBufferDimensions(b.descriptor,this._desc)):b&&(this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!"),h=void 0,b instanceof p?(this._depthStencilTexture=b,h=this._depthStencilTexture.descriptor):(h=b,this._depthStencilTexture=new p(this._context,h)),t._validateTextureDimensions(h,this._desc))}t.create=function(n,h){return new t(n,h)};t.createWithAttachments=function(n,
h,c,b){return new t(n,c,h,b)};Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"descriptor",{get:function(){return this._desc},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this._colorAttachment instanceof p?this._colorAttachment:null},enumerable:!0,
configurable:!0});Object.defineProperty(t.prototype,"depthStencilTexture",{get:function(){return this._depthStencilTexture},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"width",{get:function(){return this._desc.width},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"height",{get:function(){return this._desc.height},enumerable:!0,configurable:!0});t.prototype.dispose=function(){this._context&&(this._disposeColorAttachment(),this._disposeDepthStencilAttachments(),
this._glName&&(this._context.gl.deleteFramebuffer(this._glName),this._glName=null),a("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(4),this._context=null)};t.prototype.attachColorTexture=function(n){if(n){t._validateTextureDimensions(n.descriptor,this._desc);this._disposeColorAttachment();if(this._initialized){this._context.bindFramebuffer(this);var h=this._context.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,n.glName,0)}this._colorAttachment=n}};t.prototype.detachColorTexture=
function(){var n=void 0;if(this._colorAttachment instanceof p){n=this._colorAttachment;if(this._initialized){this._context.bindFramebuffer(this);var h=this._context.gl;this._context.gl.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0)}this._colorAttachment=null}return n};t.prototype.attachDepthStencilTexture=function(n){if(n){var h=n.descriptor;34041!==h.pixelFormat&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!");34042!==h.dataType&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8_WEBGL!");
this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!");t._validateTextureDimensions(h,this._desc);4!==this._desc.depthStencilTarget&&(this._desc.depthStencilTarget=4);this._disposeDepthStencilAttachments();this._initialized&&(this._context.bindFramebuffer(this),h=this._context.gl,h.framebufferTexture2D(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.TEXTURE_2D,n.glName,0));this._depthStencilTexture=
n}};t.prototype.detachDepthStencilTexture=function(){var n=this._depthStencilTexture;if(n&&this._initialized){this._context.bindFramebuffer(this);var h=this._context.gl;this._context.gl.framebufferTexture2D(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.TEXTURE_2D,null,0)}this._depthStencilTexture=null;return n};t.prototype.attachDepthStencilBuffer=function(n){if(n){var h=n.descriptor;34041!==h.internalFormat&&33189!==h.internalFormat&&console.error("Depth/Stencil buffer must have correct internalFormat");
t._validateBufferDimensions(h,this._desc);this._disposeDepthStencilAttachments();this._desc.depthStencilTarget=34041===h.internalFormat?3:1;this._initialized&&(this._context.bindFramebuffer(this),h=this._context.gl,h.framebufferRenderbuffer(h.FRAMEBUFFER,1===this._desc.depthStencilTarget?h.DEPTH_ATTACHMENT:h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,n.glName));this._depthAttachment=n}};t.prototype.detachDepthStencilBuffer=function(){var n=this._context.gl,h=this._depthAttachment;h&&this._initialized&&
(this._context.bindFramebuffer(this),n.framebufferRenderbuffer(n.FRAMEBUFFER,1===this._desc.depthStencilTarget?n.DEPTH_ATTACHMENT:n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,null));this._depthAttachment=null;return h};t.prototype.copyToTexture=function(n,h,c,b,e,f,k){(0>n||0>h||0>e||0>f)&&console.error("Offsets cannot be negative!");(0>=c||0>=b)&&console.error("Copy width and height must be greater than zero!");var u=this._desc,v=k.descriptor;3553!==k.descriptor.target&&console.error("Texture target must be TEXTURE_2D!");
(n+c>u.width||h+b>u.height||e+c>v.width||f+b>v.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");u=this._context;u.bindTexture(k);u.bindFramebuffer(this);u.gl.copyTexSubImage2D(3553,0,e,f,n,h,c,b)};t.prototype.readPixels=function(n,h,c,b,e,f,k){(0>=c||0>=b)&&console.error("Copy width and height must be greater than zero!");k||console.error("Target memory is not initialized!");this._context.bindFramebuffer(this);this._context.gl.readPixels(n,
h,c,b,e,f,k)};t.prototype.resize=function(n,h){var c=this._desc;if(c.width!==n||c.height!==h)if(this._initialized)c.width=n,c.height=h,this._colorAttachment instanceof p?(b=this._colorAttachment,c=b.descriptor,c.width=n,c.height=h,this._colorAttachment.dispose(),this._colorAttachment=new p(this._context,c),t._validateTextureDimensions(b.descriptor,this._desc)):this._colorAttachment&&this._disposeColorAttachment(),null!=this._depthStencilTexture?(c=this._depthStencilTexture.descriptor,c.width=n,c.height=
h,this._depthStencilTexture.dispose(),this._depthStencilTexture=new p(this._context,c)):(this._depthAttachment||this._stencilAttachment)&&this._disposeDepthStencilAttachments(),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1;else{c.width=n;c.height=h;if(this._colorAttachment instanceof p){var b=this._colorAttachment;b.resize(n,h)}this._depthStencilTexture&&this._depthStencilTexture.resize(n,h)}};t.prototype.initialize=function(){if(this._initialized)return!1;
var n=this._context.gl;this._glName&&n.deleteFramebuffer(this._glName);var h=n.createFramebuffer(),c=this._desc;n.bindFramebuffer(n.FRAMEBUFFER,h);if(!this._colorAttachment)if(0===c.colorTarget)this._colorAttachment=new p(this._context,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:c.width,height:c.height});else{var b=new m(this._context,{internalFormat:32854,width:c.width,height:c.height});n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,
b.glName);this._colorAttachment=b}this._colorAttachment instanceof p&&n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this._colorAttachment.glName,0);switch(c.depthStencilTarget){case 1:case 3:this._depthAttachment||(this._depthAttachment=new m(this._context,{internalFormat:1===c.depthStencilTarget?33189:34041,width:c.width,height:c.height}));n.framebufferRenderbuffer(n.FRAMEBUFFER,1===c.depthStencilTarget?n.DEPTH_ATTACHMENT:n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,this._depthAttachment.glName);
break;case 2:this._stencilAttachment||(this._stencilAttachment=new m(this._context,{internalFormat:36168,width:c.width,height:c.height}));n.framebufferRenderbuffer(n.FRAMEBUFFER,n.STENCIL_ATTACHMENT,n.RENDERBUFFER,this._stencilAttachment.glName);break;case 4:this._depthStencilTexture||(this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!"),this._depthStencilTexture=new p(this._context,
{target:3553,pixelFormat:34041,dataType:34042,samplingMode:9728,wrapMode:33071,width:c.width,height:c.height})),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,this._depthStencilTexture.glName,0)}n.checkFramebufferStatus(n.FRAMEBUFFER)!==n.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer is incomplete!");this._glName=h;return this._initialized=!0};t.prototype._disposeColorAttachment=function(){if(this._colorAttachment instanceof p){var n=this._colorAttachment;if(this._initialized){this._context.bindFramebuffer(this);
var h=this._context.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0)}n.dispose()}else this._colorAttachment instanceof WebGLRenderbuffer&&(n=this._colorAttachment,h=this._context.gl,this._initialized&&(this._context.bindFramebuffer(this),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.RENDERBUFFER,null)),this._context.gl.deleteRenderbuffer(n));this._colorAttachment=null};t.prototype._disposeDepthStencilAttachments=function(){var n=this._context.gl;this._depthAttachment&&
(this._initialized&&(this._context.bindFramebuffer(this),n.framebufferRenderbuffer(n.FRAMEBUFFER,1===this._desc.depthStencilTarget?n.DEPTH_ATTACHMENT:n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,null)),this._depthAttachment.dispose(),this._depthAttachment=null);this._stencilAttachment&&(this._initialized&&(this._context.bindFramebuffer(this),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.STENCIL_ATTACHMENT,n.RENDERBUFFER,null)),this._stencilAttachment.dispose(),this._stencilAttachment=null);this._depthStencilTexture&&
(this._initialized&&(this._context.bindFramebuffer(this),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,null,0)),this._depthStencilTexture.dispose(),this._depthStencilTexture=null)};t._validateBufferDimensions=function(n,h){console.assert(0<=n.width&&0<=n.height);void 0!==h.width&&0<=h.width&&void 0!==h.height&&0<=h.height?h.width===n.width&&h.height===n.height||console.error("Renderbuffer dimensions must match the framebuffer's!"):(h.width=n.width,h.height=n.height)};
t._validateTextureDimensions=function(n,h){console.assert(0<=n.width&&0<=n.height);3553!==n.target&&console.error("Texture type must be TEXTURE_2D!");void 0!==h.width&&0<=h.width&&void 0!==h.height&&0<=h.height?h.width===n.width&&h.height===n.height||console.error("Color attachment texture must match the framebuffer's!"):(h.width=n.width,h.height=n.height)};t._nextId=0;return t}()})},"esri/layers/vectorTiles/views/webgl/Renderbuffer":function(){define(["require","exports","dojo/has"],function(G,A,
a){return function(){function m(p,t){this._context=p;this._desc=t;this._glName=null;this._id=-1;p=this._context.gl;a("esri-webgl-debug")&&this._context.instanceCounter.incrementCount(5);this._id=++m._nextId;this._glName=p.createRenderbuffer();this._context.bindRenderbuffer(this);p.renderbufferStorage(p.RENDERBUFFER,t.internalFormat,t.width,t.height)}Object.defineProperty(m.prototype,"descriptor",{get:function(){return this._desc},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"id",
{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0});m.prototype.resize=function(p,t){var n=this._context.gl,h=this._desc;if(h.width!==p||h.height!==t)h.width=p,h.height=t,this._context.bindRenderbuffer(this),n.renderbufferStorage(n.RENDERBUFFER,h.internalFormat,h.width,h.height)};m.prototype.dispose=function(){this._glName&&(this._context.gl.deleteRenderbuffer(this._glName),
this._glName=null);a("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(5);this._context=null};m._nextId=0;return m}()})},"esri/layers/vectorTiles/views/vectorTiles/renderers/Renderer":function(){define("require exports ../../../core/libs/gl-matrix/mat4 ../GeometryUtils ./BackgroundRenderer ./CircleRenderer ./FadeRecorder ./FillRenderer ./LineRenderer ./SymbolRenderer ./TileInfoRenderer ../../webgl/FramebufferObject".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f){return function(){function k(){this._extrudeRotateVector=
new Float32Array([0,0,1]);this._extrudeScaleVector=new Float32Array([1,1,1]);this._state={rotation:0,width:0,height:0};this._cachedRotation=this._cachedHeight=this._cachedWidth=0}k.prototype.initialize=function(u,v,g){void 0===g&&(g=!0);this._SpriteMosaic=u;this._glyphMosaic=v;this._ignoreSpeed=!g;this._backgroundRenderer=new p;this._lineRenderer=new c;this._fillRenderer=new h;this._symbolRenderer=new b;this._circleRenderer=new t;this._tileInfoRenderer=new e;this._fadeRecorder=new n.FadeRecorder(300);
this._extrudeMatrix=new Float32Array(16);this._extrudeNoRotationMatrix=new Float32Array(16);this._backgroundColor=new Float32Array([1,0,0,1])};k.prototype.dispose=function(){this._backgroundRenderer&&(this._backgroundRenderer.dispose(),this._backgroundRenderer=null);this._lineRenderer&&(this._lineRenderer.dispose(),this._lineRenderer=null);this._fillRenderer&&(this._fillRenderer.dispose(),this._fillRenderer=null);this._symbolRenderer&&(this._symbolRenderer.dispose(),this._symbolRenderer=null);this._circleRenderer&&
(this._circleRenderer.dispose(),this._circleRenderer=null);this._tileInfoRenderer&&(this._tileInfoRenderer.dispose(),this._tileInfoRenderer=null);this._hittestFBO&&(this._hittestFBO.dispose(),this._hittestFBO=null)};k.prototype.setStateParams=function(u,v,g){this._fadeRecorder.recordLevel(g);this._state=u;if(this._state.width!==this._cachedWidth||this._state.height!==this._cachedHeight||this._state.rotation!==this._cachedRotation)this._extrudeScaleVector[0]=2/u.width,this._extrudeScaleVector[1]=-2/
u.height,a.identity(this._extrudeMatrix),a.rotate(this._extrudeMatrix,this._extrudeMatrix,-u.rotation*m.C_DEG_TO_RAD,this._extrudeRotateVector),a.scale(this._extrudeMatrix,this._extrudeMatrix,this._extrudeScaleVector),a.transpose(this._extrudeMatrix,this._extrudeMatrix),a.identity(this._extrudeNoRotationMatrix),a.scale(this._extrudeNoRotationMatrix,this._extrudeNoRotationMatrix,this._extrudeScaleVector),a.transpose(this._extrudeNoRotationMatrix,this._extrudeNoRotationMatrix),this._cachedWidth=this._state.width,
this._cachedHeight=this._state.height,this._cachedRotation=this._state.rotation};k.prototype.drawClippingMasks=function(u,v){if(0!==v.length){u.setDepthWriteEnabled(!1);u.setDepthTestEnabled(!1);u.setStencilTestEnabled(!0);u.setBlendingEnabled(!1);u.setColorMask(!1,!1,!1,!1);u.setStencilOp(7680,7680,7681);u.setStencilWriteMask(255);u.setClearStencil(0);u.clear(u.gl.STENCIL_BUFFER_BIT);for(var g=0;g<v.length;g++){var q=v[g];q.attached&&q.visible&&(u.setStencilFunctionSeparate(1032,519,q.stencilData.reference,
q.stencilData.mask),this._backgroundRenderer.renderSolidColor(u,{u_matrix:q.tileTransform.transform,u_normalized_origin:q.tileTransform.displayCoord,u_coord_range:q.coordRange,u_depth:0,u_color:this._backgroundColor}))}u.setColorMask(!0,!0,!0,!0);u.setBlendingEnabled(!0)}};k.prototype.renderDebug=function(u,v){var g=v.key;this._backgroundColor.set([g.col%2,g.row%2,0===g.col%2&&0===g.row%2?1:0,.5]);this._backgroundRenderer.renderSolidColor(u,{u_matrix:v.tileTransform.transform,u_normalized_origin:v.tileTransform.displayCoord,
u_coord_range:v.coordRange,u_depth:0,u_color:this._backgroundColor})};k.prototype.renderBucket=function(u,v,g,q,x,w,B,z){if(!(void 0!==B.minzoom&&B.minzoom>=g+1E-6||void 0!==B.maxzoom&&B.maxzoom<g-1E-6))switch(v.type){case 0:2!==x&&this._renderBackground(u,v,g,x,w,B,z);break;case 1:2!==x&&this._renderFill(u,v,g,x,w,B,z);break;case 2:1!==x&&3!==x||this._renderLine(u,v,g,x,w,B,z);break;case 3:2!==x&&3!==x||this._renderSymbol(u,v,g,x,q,w,B,z);break;case 4:2!==x&&3!==x||this._renderCircle(u,v,g,x,q,w,
B,z)}};k.prototype.renderTileInfo=function(u,v){this._tileInfoRenderer.render(u,v)};k.prototype.needsRedraw=function(){return this._fadeRecorder.needsRedraw()};k.prototype.hitTest=function(u,v,g,q,x,w,B){var z=[0,0],C=[0,0],y=u.state;y.toMap(z,[0,0]);y.toMap(C,[w,w]);v=q.filter(function(H){return!(z[0]>H.bounds[2]||C[0]<H.bounds[0]||z[1]<H.bounds[3]||C[1]>H.bounds[1])});if(0===v.length)return[];v.sort(function(H,E){return H.key.level-E.key.level});g=v.length;for(q=1;q<=g;q++){var D=v[q-1];D.attached&&
(D.stencilData.reference=q,D.stencilData.mask=255)}B(y,x,v);x=u.context;this._hittestFBO||(this._hittestFBO=f.create(x,{colorTarget:0,depthStencilTarget:3,width:w,height:w}));B=x.getViewport();y=x.getBoundFramebufferObject();x.bindFramebuffer(this._hittestFBO);x.setViewport(0,0,w,w);q=x.gl;x.setDepthWriteEnabled(!0);x.setStencilWriteMask(255);x.setClearColor(1,1,1,1);x.setClearDepth(1);x.setClearStencil(0);x.clear(q.COLOR_BUFFER_BIT|q.DEPTH_BUFFER_BIT|q.STENCIL_BUFFER_BIT);x.setDepthWriteEnabled(!1);
this.drawClippingMasks(x,v);x.setBlendingEnabled(!1);x.setStencilWriteMask(0);x.setStencilOp(7680,7680,7681);x.setDepthFunction(515);x.setDepthTestEnabled(!0);x.setDepthWriteEnabled(!0);x.setStencilTestEnabled(!0);for(q=0;q<g;q++)D=v[q],D.attached&&D.doRender(u);x.setStencilTestEnabled(!1);x.setDepthTestEnabled(!1);this._readbackBuffer||(this._readbackBuffer=new Uint8Array(4*w*w),this._readbackBuffer32=new Uint32Array(this._readbackBuffer.buffer));this._hittestFBO.readPixels(0,0,w,w,6408,5121,this._readbackBuffer);
u=new Set;w*=w;v=this._readbackBuffer32[Math.round(w/2)];4294967295!==v&&u.add(v);for(q=0;q<w;q++)v=this._readbackBuffer32[q],4294967295!==v&&u.add(v);x.bindFramebuffer(y);x.setViewport(B.x,B.y,B.width,B.height);var F=[];u.forEach(function(H){F.push(H)});return F};k.prototype._renderBackground=function(u,v,g,q,x,w,B){this._backgroundRenderer.render(u,v,g,q,x,w,this._SpriteMosaic,this._SpriteMosaic.pixelRatio,B)};k.prototype._renderLine=function(u,v,g,q,x,w,B){this._lineRenderer.render(u,v,g,q,this._state,
x,w,this._SpriteMosaic,this._extrudeMatrix,this._SpriteMosaic.pixelRatio,B)};k.prototype._renderFill=function(u,v,g,q,x,w,B){this._fillRenderer.render(u,v,g,this._state.rotation,q,x,w,this._SpriteMosaic,this._extrudeMatrix,this._SpriteMosaic.pixelRatio,B)};k.prototype._renderCircle=function(u,v,g,q,x,w,B,z){var C=!0;x===w.key.level&&(C=!1);u.setStencilTestEnabled(C);this._circleRenderer.render(u,v,g,q,this._state.rotation,w,B,this._extrudeMatrix,z)};k.prototype._renderSymbol=function(u,v,g,q,x,w,
B,z){var C=!0;x===w.key.level&&(C=!1);u.setStencilTestEnabled(C);this._symbolRenderer.render(u,v,g,q,this._state.rotation,this._fadeRecorder.getFadeValues(this._ignoreSpeed),w,B,this._SpriteMosaic,this._glyphMosaic,this._extrudeMatrix,this._extrudeNoRotationMatrix,this._SpriteMosaic.pixelRatio,z)};return k}()})},"esri/layers/vectorTiles/views/vectorTiles/renderers/BackgroundRenderer":function(){define("require exports ../../../core/libs/gl-matrix/mat3 ../../../core/libs/gl-matrix/vec4 ../MemoryBuffer ./rendererUtils ./vtShaderSnippets ../../webgl/BufferObject ../../webgl/ShaderVariations ../../webgl/VertexArrayObject".split(" "),
function(G,A,a,m,p,t,n,h,c,b){return function(){function e(){this._solidAttributeLocations={a_pos:0};this._attributeLocations={a_pos:0,a_id:1};this._patternMatrix=a.create();this._color=m.create();this._rendererInitialized=this._solidrendererInitialized=!1;this._color.set([1,0,0,1])}e.prototype.dispose=function(){this._solidVertexArrayObject&&(this._solidVertexArrayObject.dispose(),this._solidVertexArrayObject=null);this._vertexArrayObject&&(this._vertexArrayObject.dispose(),this._vertexArrayObject=
null)};e.prototype.renderSolidColor=function(f,k){this._solidrendererInitialized||this._initializeSolidRenderer(f);f.bindVAO(this._solidVertexArrayObject);var u=this._shaderVariations.getProgram([!1,!1],void 0,void 0,this._solidAttributeLocations);f.bindProgram(u);u.setUniformMatrix4fv("u_transformMatrix",k.u_matrix);u.setUniform2fv("u_normalized_origin",k.u_normalized_origin);u.setUniform1f("u_coord_range",k.u_coord_range||4096);u.setUniform1f("u_depth",k.u_depth||0);u.setUniform4fv("u_color",k.u_color||
this._color);f.drawArrays(5,0,4);f.bindVAO()};e.prototype.render=function(f,k,u,v,g,q,x,w,B){this._rendererInitialized||this._initialize(f);var z=q.getPaintValue("background-color",u);B*=q.getPaintValue("background-opacity",u);var C=q.getPaintValue("background-pattern",u),y=void 0!==C,D=z[3]*B,F=y||1>D;if(!F||0!==v)if(F||1!==v){F=3===v;v=this._shaderVariations.getProgram([y,F],void 0,void 0,this._attributeLocations);f.bindVAO(this._vertexArrayObject);f.bindProgram(v);v.setUniform1f("u_coord_range",
g.coordRange);v.setUniform1f("u_depth",q.z||0);v.setUniformMatrix4fv("u_transformMatrix",g.tileTransform.transform);v.setUniform2fv("u_normalized_origin",g.tileTransform.displayCoord);if(y){q=x.getMosaicItemPosition(C,!0);if(!q)return;u=512*Math.pow(2,Math.floor(u)-g.key.level)*w;a.identity(this._patternMatrix);g=u/q.size[1];this._patternMatrix[0]=u/q.size[0];this._patternMatrix[4]=g;x.bind(f,9729,q.page||0);v.setUniformMatrix3fv("u_pattern_matrix",this._patternMatrix);v.setUniform1f("u_opacity",
B);v.setUniform2f("u_pattern_tl",q.tl[0],q.tl[1]);v.setUniform2f("u_pattern_br",q.br[0],q.br[1]);v.setUniform1i("u_texture",0)}else this._color[0]=D*z[0],this._color[1]=D*z[1],this._color[2]=D*z[2],this._color[3]=D,v.setUniform4fv("u_color",this._color);F&&(k=t.int32To4Bytes(k.layerID),v.setUniform4f("u_id",k[0],k[1],k[2],k[3]));f.drawArrays(5,0,4);f.bindVAO()}};e.prototype._initializeSolidRenderer=function(f){if(this._solidrendererInitialized)return!0;if(!this._shaderVariations){var k=new c("background",
["backgroundVS","backgroundFS"],[],n,f);k.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN");k.addDefine("ID","ID",[!0,!0],"ID");this._shaderVariations=k}k=new Int8Array([0,0,1,0,0,1,1,1]);k=h.createVertex(f,35044,k);this._solidVertexArrayObject=new b(f,{a_pos:0},{geometry:[{name:"a_pos",count:2,type:5120,offset:0,stride:2,normalized:!1,divisor:0}]},{geometry:k});return this._solidrendererInitialized=!0};e.prototype._initialize=function(f){if(this._rendererInitialized)return!0;if(!this._shaderVariations){var k=
new c("background",["backgroundVS","backgroundFS"],[],n,f);k.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN");k.addDefine("ID","ID",[!0,!0],"ID");this._shaderVariations=k}k=[];k.push(p.i1616to32(0,0));k.push(p.i1616to32(1,0));k.push(p.i1616to32(0,1));k.push(p.i1616to32(1,1));k=new Uint32Array(k);k=h.createVertex(f,35044,k);this._vertexArrayObject=new b(f,{a_pos:0},{geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:4,normalized:!1,divisor:0}]},{geometry:k});return this._rendererInitialized=
!0};return e}()})},"esri/layers/vectorTiles/core/libs/gl-matrix/mat3":function(){define(["./common"],function(G){var A={create:function(){var a=new G.ARRAY_TYPE(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},fromMat4:function(a,m){a[0]=m[0];a[1]=m[1];a[2]=m[2];a[3]=m[4];a[4]=m[5];a[5]=m[6];a[6]=m[8];a[7]=m[9];a[8]=m[10];return a},clone:function(a){var m=new G.ARRAY_TYPE(9);m[0]=a[0];m[1]=a[1];m[2]=a[2];m[3]=a[3];m[4]=a[4];m[5]=a[5];m[6]=a[6];m[7]=a[7];m[8]=a[8];return m},
copy:function(a,m){a[0]=m[0];a[1]=m[1];a[2]=m[2];a[3]=m[3];a[4]=m[4];a[5]=m[5];a[6]=m[6];a[7]=m[7];a[8]=m[8];return a},fromValues:function(a,m,p,t,n,h,c,b,e){var f=new G.ARRAY_TYPE(9);f[0]=a;f[1]=m;f[2]=p;f[3]=t;f[4]=n;f[5]=h;f[6]=c;f[7]=b;f[8]=e;return f},set:function(a,m,p,t,n,h,c,b,e,f){a[0]=m;a[1]=p;a[2]=t;a[3]=n;a[4]=h;a[5]=c;a[6]=b;a[7]=e;a[8]=f;return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,m){if(a===m){var p=m[1],
t=m[2],n=m[5];a[1]=m[3];a[2]=m[6];a[3]=p;a[5]=m[7];a[6]=t;a[7]=n}else a[0]=m[0],a[1]=m[3],a[2]=m[6],a[3]=m[1],a[4]=m[4],a[5]=m[7],a[6]=m[2],a[7]=m[5],a[8]=m[8];return a},invert:function(a,m){var p=m[0],t=m[1],n=m[2],h=m[3],c=m[4],b=m[5],e=m[6],f=m[7];m=m[8];var k=m*c-b*f,u=-m*h+b*e,v=f*h-c*e,g=p*k+t*u+n*v;if(!g)return null;g=1/g;a[0]=k*g;a[1]=(-m*t+n*f)*g;a[2]=(b*t-n*c)*g;a[3]=u*g;a[4]=(m*p-n*e)*g;a[5]=(-b*p+n*h)*g;a[6]=v*g;a[7]=(-f*p+t*e)*g;a[8]=(c*p-t*h)*g;return a},adjoint:function(a,m){var p=
m[0],t=m[1],n=m[2],h=m[3],c=m[4],b=m[5],e=m[6],f=m[7];m=m[8];a[0]=c*m-b*f;a[1]=n*f-t*m;a[2]=t*b-n*c;a[3]=b*e-h*m;a[4]=p*m-n*e;a[5]=n*h-p*b;a[6]=h*f-c*e;a[7]=t*e-p*f;a[8]=p*c-t*h;return a},determinant:function(a){var m=a[3],p=a[4],t=a[5],n=a[6],h=a[7],c=a[8];return a[0]*(c*p-t*h)+a[1]*(-c*m+t*n)+a[2]*(h*m-p*n)},multiply:function(a,m,p){var t=m[0],n=m[1],h=m[2],c=m[3],b=m[4],e=m[5],f=m[6],k=m[7];m=m[8];var u=p[0],v=p[1],g=p[2],q=p[3],x=p[4],w=p[5],B=p[6],z=p[7];p=p[8];a[0]=u*t+v*c+g*f;a[1]=u*n+v*b+
g*k;a[2]=u*h+v*e+g*m;a[3]=q*t+x*c+w*f;a[4]=q*n+x*b+w*k;a[5]=q*h+x*e+w*m;a[6]=B*t+z*c+p*f;a[7]=B*n+z*b+p*k;a[8]=B*h+z*e+p*m;return a}};A.mul=A.multiply;A.translate=function(a,m,p){var t=m[0],n=m[1],h=m[2],c=m[3],b=m[4],e=m[5],f=m[6],k=m[7];m=m[8];var u=p[0];p=p[1];a[0]=t;a[1]=n;a[2]=h;a[3]=c;a[4]=b;a[5]=e;a[6]=u*t+p*c+f;a[7]=u*n+p*b+k;a[8]=u*h+p*e+m;return a};A.rotate=function(a,m,p){var t=m[0],n=m[1],h=m[2],c=m[3],b=m[4],e=m[5],f=m[6],k=m[7];m=m[8];var u=Math.sin(p);p=Math.cos(p);a[0]=p*t+u*c;a[1]=
p*n+u*b;a[2]=p*h+u*e;a[3]=p*c-u*t;a[4]=p*b-u*n;a[5]=p*e-u*h;a[6]=f;a[7]=k;a[8]=m;return a};A.scale=function(a,m,p){var t=p[0];p=p[1];a[0]=t*m[0];a[1]=t*m[1];a[2]=t*m[2];a[3]=p*m[3];a[4]=p*m[4];a[5]=p*m[5];a[6]=m[6];a[7]=m[7];a[8]=m[8];return a};A.fromTranslation=function(a,m){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=m[0];a[7]=m[1];a[8]=1;return a};A.fromRotation=function(a,m){var p=Math.sin(m);m=Math.cos(m);a[0]=m;a[1]=p;a[2]=0;a[3]=-p;a[4]=m;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};A.fromScaling=
function(a,m){a[0]=m[0];a[1]=0;a[2]=0;a[3]=0;a[4]=m[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};A.fromMat2d=function(a,m){a[0]=m[0];a[1]=m[1];a[2]=0;a[3]=m[2];a[4]=m[3];a[5]=0;a[6]=m[4];a[7]=m[5];a[8]=1;return a};A.fromQuat=function(a,m){var p=m[0],t=m[1],n=m[2];m=m[3];var h=p+p,c=t+t,b=n+n;p*=h;var e=t*h;t*=c;var f=n*h,k=n*c;n*=b;h*=m;c*=m;m*=b;a[0]=1-t-n;a[3]=e-m;a[6]=f+c;a[1]=e+m;a[4]=1-p-n;a[7]=k-h;a[2]=f-c;a[5]=k+h;a[8]=1-p-t;return a};A.normalFromMat4=function(a,m){var p=m[0],t=m[1],n=m[2],h=m[3],
c=m[4],b=m[5],e=m[6],f=m[7],k=m[8],u=m[9],v=m[10],g=m[11],q=m[12],x=m[13],w=m[14];m=m[15];var B=p*b-t*c,z=p*e-n*c,C=p*f-h*c,y=t*e-n*b,D=t*f-h*b,F=n*f-h*e,H=k*x-u*q,E=k*w-v*q;k=k*m-g*q;var I=u*w-v*x;u=u*m-g*x;v=v*m-g*w;g=B*v-z*u+C*I+y*k-D*E+F*H;if(!g)return null;g=1/g;a[0]=(b*v-e*u+f*I)*g;a[1]=(e*k-c*v-f*E)*g;a[2]=(c*u-b*k+f*H)*g;a[3]=(n*u-t*v-h*I)*g;a[4]=(p*v-n*k+h*E)*g;a[5]=(t*k-p*u-h*H)*g;a[6]=(x*F-w*D+m*y)*g;a[7]=(w*C-q*F-m*z)*g;a[8]=(q*D-x*C+m*B)*g;return a};A.str=function(a){return"mat3("+a[0]+
", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};A.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))};A.add=function(a,m,p){a[0]=m[0]+p[0];a[1]=m[1]+p[1];a[2]=m[2]+p[2];a[3]=m[3]+p[3];a[4]=m[4]+p[4];a[5]=m[5]+p[5];a[6]=m[6]+p[6];a[7]=m[7]+p[7];a[8]=m[8]+p[8];return a};A.subtract=function(a,m,p){a[0]=m[0]-p[0];a[1]=m[1]-p[1];a[2]=
m[2]-p[2];a[3]=m[3]-p[3];a[4]=m[4]-p[4];a[5]=m[5]-p[5];a[6]=m[6]-p[6];a[7]=m[7]-p[7];a[8]=m[8]-p[8];return a};A.sub=A.subtract;A.multiplyScalar=function(a,m,p){a[0]=m[0]*p;a[1]=m[1]*p;a[2]=m[2]*p;a[3]=m[3]*p;a[4]=m[4]*p;a[5]=m[5]*p;a[6]=m[6]*p;a[7]=m[7]*p;a[8]=m[8]*p;return a};A.multiplyScalarAndAdd=function(a,m,p,t){a[0]=m[0]+p[0]*t;a[1]=m[1]+p[1]*t;a[2]=m[2]+p[2]*t;a[3]=m[3]+p[3]*t;a[4]=m[4]+p[4]*t;a[5]=m[5]+p[5]*t;a[6]=m[6]+p[6]*t;a[7]=m[7]+p[7]*t;a[8]=m[8]+p[8]*t;return a};A.exactEquals=function(a,
m){return a[0]===m[0]&&a[1]===m[1]&&a[2]===m[2]&&a[3]===m[3]&&a[4]===m[4]&&a[5]===m[5]&&a[6]===m[6]&&a[7]===m[7]&&a[8]===m[8]};A.equals=function(a,m){var p=a[0],t=a[1],n=a[2],h=a[3],c=a[4],b=a[5],e=a[6],f=a[7],k=a[8],u=m[0],v=m[1],g=m[2],q=m[3],x=m[4],w=m[5];a=a[6];var B=m[7];m=m[8];return Math.abs(p-u)<=G.EPSILON*Math.max(1,Math.abs(p),Math.abs(u))&&Math.abs(t-v)<=G.EPSILON*Math.max(1,Math.abs(t),Math.abs(v))&&Math.abs(n-g)<=G.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(h-q)<=G.EPSILON*
Math.max(1,Math.abs(h),Math.abs(q))&&Math.abs(c-x)<=G.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(b-w)<=G.EPSILON*Math.max(1,Math.abs(b),Math.abs(w))&&Math.abs(e-a)<=G.EPSILON*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(f-B)<=G.EPSILON*Math.max(1,Math.abs(f),Math.abs(B))&&Math.abs(k-m)<=G.EPSILON*Math.max(1,Math.abs(k),Math.abs(m))};return A})},"esri/layers/vectorTiles/views/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(G,A){return function(){function a(m){this._array=
[];0>=m&&console.error("strideInBytes must be positive!");this._stride=m}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*
this._array.length},enumerable:!0,configurable:!0});a.prototype.reset=function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(m,p){return 65535&m|p<<16};a.i8888to32=function(m,p,t,n){return m&255|(p&255)<<8|(t&255)<<16|n<<24};a.i8816to32=function(m,p,t){return m&255|(p&255)<<8|t<<16};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/renderers/rendererUtils":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,
"__esModule",{value:!0});var a=new Uint32Array(1),m=new Uint8Array(a.buffer);A.int32To4Bytes=function(p){a[0]=p|0;return[m[0],m[1],m[2],m[3]]}})},"esri/layers/vectorTiles/views/vectorTiles/renderers/vtShaderSnippets":function(){define("require exports dojo/text!../../2d/engine/webgl/shaders/tileInfo.xml dojo/text!./shaders/backgroundShaders.xml dojo/text!./shaders/circleShaders.xml dojo/text!./shaders/fillShaders.xml dojo/text!./shaders/iconShaders.xml dojo/text!./shaders/lineShaders.xml dojo/text!./shaders/outlineShaders.xml dojo/text!./shaders/textShaders.xml ../../webgl/ShaderSnippets".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e){G=new e;e.parse(m,G);e.parse(a,G);e.parse(t,G);e.parse(c,G);e.parse(h,G);e.parse(n,G);e.parse(b,G);e.parse(p,G);return G})},"esri/layers/vectorTiles/views/vectorTiles/renderers/CircleRenderer":function(){define("require exports ../../../core/libs/gl-matrix/mat4 ../../../core/libs/gl-matrix/vec3 ../../../core/libs/gl-matrix/vec4 ../GeometryUtils ./rendererUtils ./vtShaderSnippets ../../webgl/ShaderVariations ../../webgl/VertexArrayObject".split(" "),function(G,A,a,m,
p,t,n,h,c,b){return function(){function e(){this._attributeLocations={a_pos:0,a_color:1,a_stroke_color:2,a_data:3};this._initialized=!1;this._viewProjMat=a.create();this._offsetVector=m.create();this._color=p.create();this._strokeColor=p.create()}e.prototype.dispose=function(){};e.prototype.render=function(f,k,u,v,g,q,x,w,B){if(0!==k.triangleElementCount){this._initialized||this._initialize(f);var z=x.hasDataDrivenRadius?1:x.getPaintValue("circle-radius",u),C=x.hasDataDrivenColor?[1,1,1,1]:x.getPaintValue("circle-color",
u),y=x.hasDataDrivenOpacity?1:x.getPaintValue("circle-opacity",u),D=x.hasDataDrivenStrokeWidth?1:x.getPaintValue("circle-stroke-width",u),F=x.hasDataDrivenStrokeColor?[1,1,1,1]:x.getPaintValue("circle-stroke-color",u),H=x.hasDataDrivenStrokeOpacity?1:x.getPaintValue("circle-stroke-opacity",u),E=x.hasDataDrivenBlur?0:x.getPaintValue("circle-blur",u);y=y*C[3]*B;this._color[0]=y*C[0];this._color[1]=y*C[1];this._color[2]=y*C[2];this._color[3]=y;y=H*F[3]*B;this._strokeColor[0]=y*F[0];this._strokeColor[1]=
y*F[1];this._strokeColor[2]=y*F[2];this._strokeColor[3]=y;B=q.tileTransform.transform;C=x.getPaintValue("circle-translate",u);if(0!==C[0]||0!==C[1])a.copy(this._viewProjMat,q.tileTransform.transform),B=C[0],C=C[1],H=F=0,H=(1<<q.key.level)/Math.pow(2,u)*(q.coordRange/512),1===x.getPaintValue("circle-translate-anchor",u)?(g*=-t.C_DEG_TO_RAD,u=Math.sin(g),g=Math.cos(g),F=H*(B*g-C*u),H*=B*u+C*g):(F=H*B,H*=C),this._offsetVector[0]=F,this._offsetVector[1]=H,this._offsetVector[2]=0,a.translate(this._viewProjMat,
this._viewProjMat,this._offsetVector),B=this._viewProjMat;if(u=this._getCircleVAO(f,q))f.bindVAO(u),u=3===v,v=this._shaderVariations.getProgram([u],void 0,void 0,this._attributeLocations),f.bindProgram(v),v.setUniformMatrix4fv("u_transformMatrix",B),v.setUniformMatrix4fv("u_extrudeMatrix",w),v.setUniform2fv("u_normalized_origin",q.tileTransform.displayCoord),v.setUniform1f("u_depth",x.z),v.setUniform1f("u_radius",z),v.setUniform4fv("u_color",this._color),v.setUniform1f("u_blur",E),v.setUniform1f("u_stroke_width",
D),v.setUniform4fv("u_stroke_color",this._strokeColor),v.setUniform1f("u_antialiasingWidth",1.2),u&&(q=n.int32To4Bytes(k.layerID),v.setUniform4f("u_id",q[0],q[1],q[2],q[3])),f.drawElements(4,k.triangleElementCount,5125,12*k.triangleElementStart),f.bindVAO()}};e.prototype._initialize=function(f){if(this._initialized)return!0;f=new c("circle",["circleVS","circleFS"],[],h,f);f.addDefine("ID","ID",[!0,!0],"ID");this._shaderVariations=f;this._vertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,
offset:0,stride:16,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:4,stride:16,normalized:!0,divisor:0},{name:"a_stroke_color",count:4,type:5121,offset:8,stride:16,normalized:!0,divisor:0},{name:"a_data",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}]};return this._initialized=!0};e.prototype._getCircleVAO=function(f,k){if(k.circleVertexArrayObject)return k.circleVertexArrayObject;var u=k.circleVertexBuffer,v=k.circleIndexBuffer;if(!u||!v)return null;k.circleVertexArrayObject=
new b(f,this._attributeLocations,this._vertexAttributes,{geometry:u},v);return k.circleVertexArrayObject};return e}()})},"esri/layers/vectorTiles/views/vectorTiles/renderers/FadeRecorder":function(){define(["require","exports","../../../core/now"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});(function(){return function(m,p){this.level=m;this.now=p}})();G=function(){return function(m,p,t,n){this.fadeSpeed=m;this.minfadeLevel=p;this.maxfadeLevel=t;this.fadeChange=n}}();A.FadeProperties=
G;G=function(){function m(p){void 0===p&&(p=300);this._levelSnapshots=[];this._duration=p}m.prototype.recordLevel=function(p){var t=a(),n=this._levelSnapshots;0===n.length&&(n.push({level:p,now:0}),n.push({level:p,now:0}));2!==n.length&&n[0].level===p||n.push({level:p,now:t})};m.prototype.needsRedraw=function(){if(0===this._levelSnapshots.length)return!1;for(var p=this._duration,t=this._levelSnapshots,n=t.length,h=t[n-1],c=-1;n>c+1&&t[c+1].now+p<h.now;)c++;for(0>c&&(c=0);c<n;c++)if(t[c].level!==h.level)return!0;
return!1};m.prototype.getFadeValues=function(p){void 0===p&&(p=!1);for(var t=this._duration,n=a(),h=this._levelSnapshots;3<h.length&&h[1].now+t<n;)h.shift();h[1].now+t<n&&(h[0].level=h[1].level);var c=h[0].level,b=h[h.length-1],e=b.level,f=Math.min(c,e);c=Math.max(c,e);h=(b.level-h[1].level)/((b.now-h[1].now)/t);return p?{fadeSpeed:0,minfadeLevel:f,maxfadeLevel:c,fadeChange:0}:{fadeSpeed:h,minfadeLevel:f,maxfadeLevel:c,fadeChange:(n-b.now)/t*h}};return m}();A.FadeRecorder=G})},"esri/layers/vectorTiles/views/vectorTiles/renderers/FillRenderer":function(){define("require exports ../../../core/libs/gl-matrix/mat3 ../../../core/libs/gl-matrix/mat4 ../../../core/libs/gl-matrix/vec3 ../../../core/libs/gl-matrix/vec4 ../GeometryUtils ./rendererUtils ./vtShaderSnippets ../../webgl/ShaderVariations ../../webgl/VertexArrayObject".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e){var f=1/65536;return function(){function k(){this._fillAttributeLocations={a_pos:0};this._fillAttributeLocationsDD={a_pos:0,a_color:1};this._outlineAttributeLocations={a_pos:0,a_offset:1,a_xnormal:2};this._outlineAttributeLocationsDD={a_pos:0,a_offset:1,a_xnormal:2,a_color:3};this._initialized=!1;this._viewProjMat=m.create();this._offsetVector=p.create();this._patternMatrix=a.create();this._color=t.create();this._outlineColor=t.create()}k.prototype.dispose=function(){};
k.prototype.render=function(u,v,g,q,x,w,B,z,C,y,D){if(0!==v.triangleElementCount){this._initialized||this._initialize(u);var F=void 0!==B.getPaintValue("fill-pattern",g),H=B.hasDataDrivenColor?[1,1,1,1]:B.getPaintValue("fill-color",g),E=B.hasDataDrivenOpacity?1:B.getPaintValue("fill-opacity",g),I=E*H[3]*D;this._color[0]=I*H[0];this._color[1]=I*H[1];this._color[2]=I*H[2];this._color[3]=I;H=3===x;var J;H&&(J=h.int32To4Bytes(v.layerID));I=w.tileTransform.transform;var K=w.coordRange/512,L=B.getPaintValue("fill-translate",
g);if(0!==L[0]||0!==L[1]){m.copy(this._viewProjMat,w.tileTransform.transform);I=L[0];L=L[1];var O=0,U=0;K*=(1<<w.key.level)/Math.pow(2,g);1===B.getPaintValue("fill-translate-anchor",g)?(O=-n.C_DEG_TO_RAD*q,q=Math.sin(O),U=Math.cos(O),O=K*(I*U-L*q),U=K*(I*q+L*U)):(O=K*I,U=K*L);this._offsetVector[0]=O;this._offsetVector[1]=U;this._offsetVector[2]=0;m.translate(this._viewProjMat,this._viewProjMat,this._offsetVector);I=this._viewProjMat}this._drawFill(u,v,g,x,w,B,z,I,y,D,H,J);if(B.getPaintValue("fill-antialias",
g)&&!F&&0<v.outlineElementCount&&(1===x||3===x)){x=B.hasDataDrivenOutline;if(B.outlineUsesFillColor){if(1!==this._color[3])return;this._outlineColor[0]=this._color[0];this._outlineColor[1]=this._color[1];this._outlineColor[2]=this._color[2];this._outlineColor[3]=this._color[3]}else g=B.hasDataDrivenOutlineColor?[1,1,1,1]:B.getPaintValue("fill-outline-color",g),D*=E*g[3],this._outlineColor[0]=D*g[0],this._outlineColor[1]=D*g[1],this._outlineColor[2]=D*g[2],this._outlineColor[3]=D;y=.75/y;if(D=this._getOutlineVAO(u,
w,x))u.bindVAO(D),D=this._outlineShaderVariations.getProgram([x,H],void 0,void 0,x?this._outlineAttributeLocationsDD:this._outlineAttributeLocations),u.bindProgram(D),D.setUniformMatrix4fv("u_transformMatrix",I),D.setUniformMatrix4fv("u_extrudeMatrix",C),D.setUniform2fv("u_normalized_origin",w.tileTransform.displayCoord),D.setUniform1f("u_depth",B.z+f),D.setUniform1f("u_outline_width",y),D.setUniform4fv("u_color",this._outlineColor),H&&D.setUniform4f("u_id",J[0],J[1],J[2],J[3]),u.drawElements(4,v.outlineElementCount,
5125,12*v.outlineElementStart),u.bindVAO()}}};k.prototype._initialize=function(u){if(this._initialized)return!0;var v=new b("fill",["fillVS","fillFS"],[],c,u);v.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN");v.addDefine("DD","DD",[!0,!1],"DD");v.addDefine("ID","ID",[!0,!0],"ID");this._fillShaderVariations=v;this._fillVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:4,normalized:!1,divisor:0}]};this._fillVertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,
stride:8,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:4,stride:8,normalized:!0,divisor:0}]};u=new b("outline",["outlineVS","outlineFS"],[],c,u);u.addDefine("DD","DD",[!0,!1],"DD");u.addDefine("ID","ID",[!0,!0],"ID");this._outlineShaderVariations=u;this._outlineVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:"a_offset",count:2,type:5120,offset:4,stride:8,normalized:!1,divisor:0},{name:"a_xnormal",count:2,type:5120,offset:6,
stride:8,normalized:!1,divisor:0}]};this._outlineVertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:12,normalized:!1,divisor:0},{name:"a_offset",count:2,type:5120,offset:4,stride:12,normalized:!1,divisor:0},{name:"a_xnormal",count:2,type:5120,offset:6,stride:12,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:12,normalized:!0,divisor:0}]};return this._initialized=!0};k.prototype._drawFill=function(u,v,g,q,x,w,B,z,C,y,D,F){var H=w.getPaintValue("fill-pattern",
g),E=void 0!==H,I=w.hasDataDrivenOpacity?1:y*w.getPaintValue("fill-opacity",g),J=w.hasDataDrivenColor?[1,1,1,1]:w.getPaintValue("fill-color",g);y*=I*J[3];this._color[0]=y*J[0];this._color[1]=y*J[1];this._color[2]=y*J[2];this._color[3]=y;J=w.hasDataDrivenFill;I=!1;!E&&(J?0:1===y)&&(I=!0);if(!E||0!==q)if(!I||1!==q)if(E||I||0!==q)if(q=this._getFillVAO(u,x,J))u.bindVAO(q),q=this._fillShaderVariations.getProgram([E,J,D],void 0,void 0,J?this._fillAttributeLocationsDD:this._fillAttributeLocations),u.bindProgram(q),
E&&(H=B.getMosaicItemPosition(H,!0))&&(g=x.coordRange/512/Math.pow(2,Math.round(g)-x.key.level)/C,a.identity(this._patternMatrix),C=1/(H.size[1]*g),this._patternMatrix[0]=1/(H.size[0]*g),this._patternMatrix[4]=C,B.bind(u,9729,H.page,1),q.setUniformMatrix3fv("u_pattern_matrix",this._patternMatrix),q.setUniform2f("u_pattern_tl",H.tl[0],H.tl[1]),q.setUniform2f("u_pattern_br",H.br[0],H.br[1]),q.setUniform1i("u_texture",1)),q.setUniformMatrix4fv("u_transformMatrix",z),q.setUniform2fv("u_normalized_origin",
x.tileTransform.displayCoord),q.setUniform1f("u_depth",w.z+f),q.setUniform4fv("u_color",this._color),D&&q.setUniform4f("u_id",F[0],F[1],F[2],F[3]),u.drawElements(4,v.triangleElementCount,5125,12*v.triangleElementStart),u.bindVAO()};k.prototype._getFillVAO=function(u,v,g){if(g){if(v.fillDDVertexArrayObject)return v.fillDDVertexArrayObject;g=v.fillDDVertexBuffer;var q=v.fillIndexBuffer;if(!g||!q)return null;v.fillDDVertexArrayObject=new e(u,this._fillAttributeLocationsDD,this._fillVertexAttributesDD,
{geometry:g},q);return v.fillDDVertexArrayObject}if(v.fillVertexArrayObject)return v.fillVertexArrayObject;g=v.fillVertexBuffer;q=v.fillIndexBuffer;if(!g||!q)return null;v.fillVertexArrayObject=new e(u,this._fillAttributeLocations,this._fillVertexAttributes,{geometry:g},q);return v.fillVertexArrayObject};k.prototype._getOutlineVAO=function(u,v,g){if(g){if(v.outlineDDVertexArrayObject)return v.outlineDDVertexArrayObject;g=v.outlineDDVertexBuffer;var q=v.outlineIndexBuffer;if(!g||!q)return null;v.outlineDDVertexArrayObject=
new e(u,this._outlineAttributeLocationsDD,this._outlineVertexAttributesDD,{geometry:g},q);return v.outlineDDVertexArrayObject}if(v.outlineVertexArrayObject)return v.outlineVertexArrayObject;g=v.outlineVertexBuffer;q=v.outlineIndexBuffer;if(!g||!q)return null;v.outlineVertexArrayObject=new e(u,this._outlineAttributeLocations,this._outlineVertexAttributes,{geometry:g},q);return v.outlineVertexArrayObject};return k}()})},"esri/layers/vectorTiles/views/vectorTiles/renderers/LineRenderer":function(){define("require exports ../../../core/libs/gl-matrix/mat4 ../../../core/libs/gl-matrix/vec2 ../../../core/libs/gl-matrix/vec3 ../../../core/libs/gl-matrix/vec4 ../GeometryUtils ./rendererUtils ./vtShaderSnippets ../../webgl/ShaderVariations ../../webgl/VertexArrayObject".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e){return function(){function f(){this._attributeLocations={a_pos:0,a_offsetAndNormal:1,a_accumulatedDistance:2};this._attributeLocationsDD={a_pos:0,a_offsetAndNormal:1,a_accumulatedDistance:2,a_color:3,a_width:4};this._initialized=!1;this._viewProjMat=a.create();this._offsetVector=p.create();this._color=t.create();this._dashArray=m.create()}f.prototype.dispose=function(){};f.prototype.render=function(k,u,v,g,q,x,w,B,z,C,y){if(0!==u.triangleElementCount){this._initialized||
this._initialize(k);var D=x.tileTransform.transform,F=x.coordRange/512,H=w.getPaintValue("line-translate",v);if(0!==H[0]||0!==H[1]){a.copy(this._viewProjMat,x.tileTransform.transform);D=H[0];H=H[1];var E=0,I=0;I=(1<<x.key.level)/Math.pow(2,v)*F;q=q.rotation;if(1===w.getPaintValue("line-translate-anchor",v)){E=-n.C_DEG_TO_RAD*q;q=Math.sin(E);var J=Math.cos(E);E=I*(D*J-H*q);I*=D*q+H*J}else E=I*D,I*=H;this._offsetVector[0]=E;this._offsetVector[1]=I;this._offsetVector[2]=0;a.translate(this._viewProjMat,
this._viewProjMat,this._offsetVector);D=this._viewProjMat}H=w.getPaintValue("line-pattern",v);I=void 0!==H;C=1/C;q=w.getPaintValue("line-blur",v);J=w.hasDataDrivenColor?[1,1,1,1]:w.getPaintValue("line-color",v);var K=w.hasDataDrivenOpacity?1:w.getPaintValue("line-opacity",v);E=w.hasDataDrivenWidth?1:w.getPaintValue("line-width",v);y*=K*J[3];this._color[0]=y*J[0];this._color[1]=y*J[1];this._color[2]=y*J[2];this._color[3]=y;y=w.hasDataDrivenLine;g=3===g;var L;g&&(L=h.int32To4Bytes(u.layerID));if(J=
this._getLineVAO(k,x,y)){k.bindVAO(J);y=this._shaderVariations.getProgram([I,y,g],void 0,void 0,y?this._attributeLocationsDD:this._attributeLocations);k.bindProgram(y);y.setUniformMatrix4fv("u_transformMatrix",D);y.setUniformMatrix4fv("u_extrudeMatrix",z);y.setUniform2fv("u_normalized_origin",x.tileTransform.displayCoord);y.setUniform1f("u_depth",w.z);y.setUniform1f("u_blur",q);y.setUniform1f("u_antialiasing",C);y.setUniform4fv("u_color",this._color);y.setUniform1f("u_width",E);g&&y.setUniform4f("u_id",
L[0],L[1],L[2],L[3]);if(I){if(v=B.getMosaicItemPosition(H,!0))B.bind(k,9729,v.page,1),y.setUniform2f("u_pattern_tl",v.tl[0],v.br[1]),y.setUniform2f("u_pattern_br",v.br[0],v.tl[1]),y.setUniform2f("u_spriteSize",F*v.size[0],v.size[1]),y.setUniform1i("u_texture",1)}else B=w.getPaintValue("line-dasharray",v),2>B.length&&(B=[1,-1]),this._dashArray[0]=F*B[0],this._dashArray[1]=F*B[1],y.setUniform2fv("u_dasharray",this._dashArray);k.drawElements(4,u.triangleElementCount,5125,12*u.triangleElementStart);k.bindVAO()}}};
f.prototype._initialize=function(k){if(this._initialized)return!0;k=new b("line",["lineVS","lineFS"],[],c,k);k.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN");k.addDefine("DD","DD",[!0,!1],"DD");k.addDefine("ID","ID",[!0,!0],"ID");this._shaderVariations=k;this._vertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:12,normalized:!1,divisor:0},{name:"a_offsetAndNormal",count:4,type:5120,offset:4,stride:12,normalized:!1,divisor:0},{name:"a_accumulatedDistance",count:2,type:5123,
offset:8,stride:12,normalized:!1,divisor:0}]};this._vertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:20,normalized:!1,divisor:0},{name:"a_offsetAndNormal",count:4,type:5120,offset:4,stride:20,normalized:!1,divisor:0},{name:"a_accumulatedDistance",count:2,type:5122,offset:8,stride:20,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:12,stride:20,normalized:!0,divisor:0},{name:"a_width",count:1,type:5126,offset:16,stride:20,normalized:!1,divisor:0}]};return this._initialized=
!0};f.prototype._getLineVAO=function(k,u,v){if(v){if(u.lineDDVertexArrayObject)return u.lineDDVertexArrayObject;v=u.lineDDVertexBuffer;var g=u.lineIndexBuffer;if(!v||!g)return null;u.lineDDVertexArrayObject=new e(k,this._attributeLocationsDD,this._vertexAttributesDD,{geometry:v},g);return u.lineDDVertexArrayObject}if(u.lineVertexArrayObject)return u.lineVertexArrayObject;v=u.lineVertexBuffer;g=u.lineIndexBuffer;if(!v||!g)return null;u.lineVertexArrayObject=new e(k,this._attributeLocations,this._vertexAttributes,
{geometry:v},g);return u.lineVertexArrayObject};return f}()})},"esri/layers/vectorTiles/core/libs/gl-matrix/vec2":function(){define(["./common"],function(G){var A={create:function(){var a=new G.ARRAY_TYPE(2);a[0]=0;a[1]=0;return a},clone:function(a){var m=new G.ARRAY_TYPE(2);m[0]=a[0];m[1]=a[1];return m},fromValues:function(a,m){var p=new G.ARRAY_TYPE(2);p[0]=a;p[1]=m;return p},copy:function(a,m){a[0]=m[0];a[1]=m[1];return a},set:function(a,m,p){a[0]=m;a[1]=p;return a},add:function(a,m,p){a[0]=m[0]+
p[0];a[1]=m[1]+p[1];return a},subtract:function(a,m,p){a[0]=m[0]-p[0];a[1]=m[1]-p[1];return a}};A.sub=A.subtract;A.multiply=function(a,m,p){a[0]=m[0]*p[0];a[1]=m[1]*p[1];return a};A.mul=A.multiply;A.divide=function(a,m,p){a[0]=m[0]/p[0];a[1]=m[1]/p[1];return a};A.div=A.divide;A.ceil=function(a,m){a[0]=Math.ceil(m[0]);a[1]=Math.ceil(m[1]);return a};A.floor=function(a,m){a[0]=Math.floor(m[0]);a[1]=Math.floor(m[1]);return a};A.min=function(a,m,p){a[0]=Math.min(m[0],p[0]);a[1]=Math.min(m[1],p[1]);return a};
A.max=function(a,m,p){a[0]=Math.max(m[0],p[0]);a[1]=Math.max(m[1],p[1]);return a};A.round=function(a,m){a[0]=Math.round(m[0]);a[1]=Math.round(m[1]);return a};A.scale=function(a,m,p){a[0]=m[0]*p;a[1]=m[1]*p;return a};A.scaleAndAdd=function(a,m,p,t){a[0]=m[0]+p[0]*t;a[1]=m[1]+p[1]*t;return a};A.distance=function(a,m){var p=m[0]-a[0];a=m[1]-a[1];return Math.sqrt(p*p+a*a)};A.dist=A.distance;A.squaredDistance=function(a,m){var p=m[0]-a[0];a=m[1]-a[1];return p*p+a*a};A.sqrDist=A.squaredDistance;A.length=
function(a){var m=a[0];a=a[1];return Math.sqrt(m*m+a*a)};A.len=A.length;A.squaredLength=function(a){var m=a[0];a=a[1];return m*m+a*a};A.sqrLen=A.squaredLength;A.negate=function(a,m){a[0]=-m[0];a[1]=-m[1];return a};A.inverse=function(a,m){a[0]=1/m[0];a[1]=1/m[1];return a};A.normalize=function(a,m){var p=m[0],t=m[1];p=p*p+t*t;0<p&&(p=1/Math.sqrt(p),a[0]=m[0]*p,a[1]=m[1]*p);return a};A.dot=function(a,m){return a[0]*m[0]+a[1]*m[1]};A.cross=function(a,m,p){m=m[0]*p[1]-m[1]*p[0];a[0]=a[1]=0;a[2]=m;return a};
A.lerp=function(a,m,p,t){var n=m[0];m=m[1];a[0]=n+t*(p[0]-n);a[1]=m+t*(p[1]-m);return a};A.random=function(a,m){m=m||1;var p=2*G.RANDOM()*Math.PI;a[0]=Math.cos(p)*m;a[1]=Math.sin(p)*m;return a};A.transformMat2=function(a,m,p){var t=m[0];m=m[1];a[0]=p[0]*t+p[2]*m;a[1]=p[1]*t+p[3]*m;return a};A.transformMat2d=function(a,m,p){var t=m[0];m=m[1];a[0]=p[0]*t+p[2]*m+p[4];a[1]=p[1]*t+p[3]*m+p[5];return a};A.transformMat3=function(a,m,p){var t=m[0];m=m[1];a[0]=p[0]*t+p[3]*m+p[6];a[1]=p[1]*t+p[4]*m+p[7];return a};
A.transformMat4=function(a,m,p){var t=m[0];m=m[1];a[0]=p[0]*t+p[4]*m+p[12];a[1]=p[1]*t+p[5]*m+p[13];return a};A.forEach=function(){var a=A.create();return function(m,p,t,n,h,c){p||(p=2);t||(t=0);for(n=n?Math.min(n*p+t,m.length):m.length;t<n;t+=p)a[0]=m[t],a[1]=m[t+1],h(a,a,c),m[t]=a[0],m[t+1]=a[1];return m}}();A.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};A.exactEquals=function(a,m){return a[0]===m[0]&&a[1]===m[1]};A.equals=function(a,m){var p=a[0];a=a[1];var t=m[0];m=m[1];return Math.abs(p-
t)<=G.EPSILON*Math.max(1,Math.abs(p),Math.abs(t))&&Math.abs(a-m)<=G.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))};return A})},"esri/layers/vectorTiles/views/vectorTiles/renderers/SymbolRenderer":function(){define(["require","exports","./IconRenderer","./SDFRenderer"],function(G,A,a,m){return function(){function p(){this._iconRenderer=new a;this._sdfRenderer=new m}p.prototype.dispose=function(){this._iconRenderer&&(this._iconRenderer.dispose(),this._iconRenderer=null);this._sdfRenderer&&(this._sdfRenderer.dispose(),
this._sdfRenderer=null)};p.prototype.render=function(t,n,h,c,b,e,f,k,u,v,g,q,x,w){n.hasData()&&(0<n.markerPerPageElementsMap.size&&this._iconRenderer.render(t,n,h,c,b,e,f,k,u,g,q,w),0<n.glyphPerPageElementsMap.size&&this._sdfRenderer.render(t,n,h,c,b,e,f,k,v,g,q,x,w))};return p}()})},"esri/layers/vectorTiles/views/vectorTiles/renderers/IconRenderer":function(){define("require exports ../../../core/libs/gl-matrix/mat4 ../../../core/libs/gl-matrix/vec3 ../../../core/libs/gl-matrix/vec4 ../GeometryUtils ./rendererUtils ./vtShaderSnippets ../../webgl/ShaderVariations ../../webgl/VertexArrayObject".split(" "),
function(G,A,a,m,p,t,n,h,c,b){return function(){function e(){this._attributeLocations={a_pos:0,a_vertexOffset:1,a_tex:2,a_levelInfo:3};this._attributeLocationsDD={a_pos:0,a_vertexOffset:1,a_tex:2,a_levelInfo:3,a_color:4,a_size:5};this._spritesTextureSize=new Float32Array(2);this._initialized=!1;this._viewProjMat=a.create();this._offsetVector=m.create();this._extrudeMat=a.create();this._color=p.create()}e.prototype.dispose=function(){};e.prototype.render=function(f,k,u,v,g,q,x,w,B,z,C,y){var D=this;
this._initialized||this._initialize(f);var F=w.hasDataDrivenIconSize?1:w.getLayoutValue("icon-size",u),H=w.hasDataDrivenIconColor?[1,1,1,1]:w.getPaintValue("icon-color",u),E=w.hasDataDrivenIconOpacity?1:w.getPaintValue("icon-opacity",u);y*=H[3]*E;this._color[0]=y*H[0];this._color[1]=y*H[1];this._color[2]=y*H[2];this._color[3]=y;H=w.getLayoutValue("icon-rotation-alignment",u);2===H&&(H=1===w.getLayoutValue("symbol-placement",u)?0:1);var I=0===H;y=k.isSDF;E=w.hasDataDrivenIcon;v=3===v;H=t.degToByte(g);
var J=x.tileTransform.transform,K=w.getPaintValue("icon-translate",u);if(0!==K[0]||0!==K[1]){a.copy(this._viewProjMat,x.tileTransform.transform);J=K[0];K=K[1];var L=0,O=0;O=(1<<x.key.level)/Math.pow(2,u)*(x.coordRange/512);if(1===w.getPaintValue("icon-translate-anchor",u)){L=-t.C_DEG_TO_RAD*g;g=Math.sin(L);var U=Math.cos(L);L=O*(J*U-K*g);O*=J*g+K*U}else L=O*J,O*=K;this._offsetVector[0]=L;this._offsetVector[1]=O;this._offsetVector[2]=0;a.translate(this._viewProjMat,this._viewProjMat,this._offsetVector);
J=this._viewProjMat}I?a.copy(this._extrudeMat,z):a.copy(this._extrudeMat,C);if(z=this._getIconVAO(f,x,E)){f.bindVAO(z);var S=this._shaderVariations.getProgram([y,E,v],void 0,void 0,E?this._attributeLocationsDD:this._attributeLocations);f.bindProgram(S);y&&(z=w.getPaintValue("icon-halo-color",u),C=w.getPaintValue("icon-halo-width",u),S.setUniform4f("u_outlineColor",z[0],z[1],z[2],z[3]),S.setUniform1f("u_outlineSize",C));S.setUniformMatrix4fv("u_transformMatrix",J);S.setUniformMatrix4fv("u_extrudeMatrix",
this._extrudeMat);S.setUniform2fv("u_normalized_origin",x.tileTransform.displayCoord);S.setUniform1f("u_depth",w.z);S.setUniform1f("u_mapRotation",H);S.setUniform1f("u_keepUpright",0);S.setUniform1f("u_level",10*u);S.setUniform1f("u_fadeSpeed",10*q.fadeSpeed);S.setUniform1f("u_minfadeLevel",10*q.minfadeLevel);S.setUniform1f("u_maxfadeLevel",10*q.maxfadeLevel);S.setUniform1f("u_fadeChange",10*(u+q.fadeChange));S.setUniform1i("u_texture",1);S.setUniform1f("u_size",F);S.setUniform4fv("u_color",this._color);
v&&(u=n.int32To4Bytes(k.layerID),S.setUniform4f("u_id",u[0],u[1],u[2],u[3]));k.markerPerPageElementsMap.forEach(function(M,N){D._spritesTextureSize[0]=B.getWidth(N)/4;D._spritesTextureSize[1]=B.getHeight(N)/4;S.setUniform2fv("u_mosaicSize",D._spritesTextureSize);B.bind(f,9729,N,1);f.drawElements(4,M[1],5125,12*M[0])});f.bindVAO()}};e.prototype._initialize=function(f){if(this._initialized)return!0;f=new c("icon",["iconVS","iconFS"],[],h,f);f.addDefine("SDF","SDF",[!0,!0],"SDF");f.addDefine("DD","DD",
[!0,!1],"DD");f.addDefine("ID","ID",[!0,!0],"ID");this._shaderVariations=f;this._vertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:16,normalized:!1,divisor:0},{name:"a_tex",count:4,type:5121,offset:8,stride:16,normalized:!1,divisor:0},{name:"a_levelInfo",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}]};this._vertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,
stride:24,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:24,normalized:!1,divisor:0},{name:"a_tex",count:4,type:5121,offset:8,stride:24,normalized:!1,divisor:0},{name:"a_levelInfo",count:4,type:5121,offset:12,stride:24,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:16,stride:24,normalized:!0,divisor:0},{name:"a_size",count:1,type:5126,offset:20,stride:24,normalized:!1,divisor:0}]};return this._initialized=!0};e.prototype._getIconVAO=function(f,
k,u){if(u){if(k.iconDDVertexArrayObject)return k.iconDDVertexArrayObject;u=k.iconDDVertexBuffer;var v=k.iconIndexBuffer;if(!u||!v)return null;k.iconDDVertexArrayObject=new b(f,this._attributeLocationsDD,this._vertexAttributesDD,{geometry:u},v);return k.iconDDVertexArrayObject}if(k.iconVertexArrayObject)return k.iconVertexArrayObject;u=k.iconVertexBuffer;v=k.iconIndexBuffer;if(!u||!v)return null;k.iconVertexArrayObject=new b(f,this._attributeLocations,this._vertexAttributes,{geometry:u},v);return k.iconVertexArrayObject};
return e}()})},"esri/layers/vectorTiles/views/vectorTiles/renderers/SDFRenderer":function(){define("require exports dojo/has ../../../core/libs/gl-matrix/mat4 ../../../core/libs/gl-matrix/vec3 ../../../core/libs/gl-matrix/vec4 ../GeometryUtils ./rendererUtils ./vtShaderSnippets ../../webgl/ShaderVariations ../../webgl/VertexArrayObject".split(" "),function(G,A,a,m,p,t,n,h,c,b,e){var f=1/65536;return function(){function k(){this._attributeLocations={a_pos:0,a_vertexOffset:1,a_tex:2,a_levelInfo:3};
this._attributeLocationsDD={a_pos:0,a_vertexOffset:1,a_tex:2,a_levelInfo:3,a_color:4,a_size:5};this._initialized=!1;this._viewProjMat=m.create();this._offsetVector=p.create();this._extrudeMat=m.create();this._haloColor=t.create();this._sdfColor=t.create();this._scaleVec=p.create()}k.prototype.dispose=function(){};k.prototype.render=function(u,v,g,q,x,w,B,z,C,y,D,F,H){var E=this;if(!a("esri-vector-tiles-avoid-text")){this._initialized||this._initialize(u);var I=n.degToByte(x),J=z.getLayoutValue("text-rotation-alignment",
g);2===J&&(J=1===z.getLayoutValue("symbol-placement",g)?0:1);var K=0===J;J=z.getLayoutValue("text-keep-upright",g)&&K;q=3===q;F=.8*3/F;var L=z.hasDataDrivenTextSize?1:z.getLayoutValue("text-size",g),O=z.hasDataDrivenTextColor?[1,1,1,1]:z.getPaintValue("text-color",g),U=z.hasDataDrivenTextOpacity?1:z.getPaintValue("text-opacity",g),S=O[3]*U*H;this._sdfColor[0]=S*O[0];this._sdfColor[1]=S*O[1];this._sdfColor[2]=S*O[2];this._sdfColor[3]=S;this._glyphTextureSize||(this._glyphTextureSize=new Float32Array([C.width/
4,C.height/4]));O=B.tileTransform.transform;S=z.getPaintValue("text-translate",g);if(0!==S[0]||0!==S[1]){m.copy(this._viewProjMat,B.tileTransform.transform);O=S[0];S=S[1];var M=0,N=0;N=(1<<B.key.level)/Math.pow(2,g)*(B.coordRange/512);if(1===z.getPaintValue("text-translate-anchor",g)){M=-n.C_DEG_TO_RAD*x;x=Math.sin(M);var T=Math.cos(M);M=N*(O*T-S*x);N*=O*x+S*T}else M=N*O,N*=S;this._offsetVector[0]=M;this._offsetVector[1]=N;this._offsetVector[2]=0;m.translate(this._viewProjMat,this._viewProjMat,this._offsetVector);
O=this._viewProjMat}K?m.copy(this._extrudeMat,y):m.copy(this._extrudeMat,D);this._scaleVec[0]=1/24;this._scaleVec[1]=1/24;this._scaleVec[2]=1;m.scale(this._extrudeMat,this._extrudeMat,this._scaleVec);y=z.hasDataDrivenText;if(D=this._getSDFVAO(u,B,y)){u.bindVAO(D);var V=this._shaderVariations.getProgram([y,q],void 0,void 0,y?this._attributeLocationsDD:this._attributeLocations);u.bindProgram(V);V.setUniformMatrix4fv("u_transformMatrix",O);V.setUniformMatrix4fv("u_extrudeMatrix",this._extrudeMat);V.setUniform2fv("u_normalized_origin",
B.tileTransform.displayCoord);V.setUniform1f("u_depth",z.z+f);V.setUniform2fv("u_mosaicSize",this._glyphTextureSize);V.setUniform1f("u_mapRotation",I);V.setUniform1f("u_keepUpright",J?1:0);V.setUniform1f("u_level",10*g);V.setUniform1f("u_fadeSpeed",10*w.fadeSpeed);V.setUniform1f("u_minfadeLevel",10*w.minfadeLevel);V.setUniform1f("u_maxfadeLevel",10*w.maxfadeLevel);V.setUniform1f("u_fadeChange",10*(g+w.fadeChange));V.setUniform1i("u_texture",0);V.setUniform1f("u_size",L);V.setUniform1f("u_antialiasingWidth",
F);q&&(w=h.int32To4Bytes(v.layerID),V.setUniform4f("u_id",w[0],w[1],w[2],w[3]));v.glyphPerPageElementsMap.forEach(function(ea,P){C.bind(u,9729,P,0);var ba=z.getPaintValue("text-halo-color",g);P=z.getPaintValue("text-halo-width",g);if(0<ba[3]&&0<P){var la=ba[3]*U*H;E._haloColor[0]=la*ba[0];E._haloColor[1]=la*ba[1];E._haloColor[2]=la*ba[2];E._haloColor[3]=la;ba=3*z.getPaintValue("text-halo-blur",g);P*=3;V.setUniform4fv("u_color",E._haloColor);V.setUniform1f("u_halo",1);V.setUniform1f("u_edgeDistance",
P);V.setUniform1f("u_edgeBlur",ba);u.drawElements(4,ea[1],5125,12*ea[0])}0<E._sdfColor[3]&&(V.setUniform4fv("u_color",E._sdfColor),V.setUniform1f("u_halo",0),V.setUniform1f("u_edgeDistance",0),V.setUniform1f("u_edgeBlur",0),u.drawElements(4,ea[1],5125,12*ea[0]))});u.bindVAO()}}};k.prototype._initialize=function(u){if(this._initialized)return!0;u=new b("text",["textVS","textFS"],[],c,u);u.addDefine("DD","DD",[!0,!1],"DD");u.addDefine("ID","ID",[!0,!0],"ID");this._shaderVariations=u;this._vertexAttributes=
{geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:16,normalized:!1,divisor:0},{name:"a_tex",count:4,type:5121,offset:8,stride:16,normalized:!1,divisor:0},{name:"a_levelInfo",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}]};this._vertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:24,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:24,
normalized:!1,divisor:0},{name:"a_tex",count:4,type:5121,offset:8,stride:24,normalized:!1,divisor:0},{name:"a_levelInfo",count:4,type:5121,offset:12,stride:24,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:16,stride:24,normalized:!0,divisor:0},{name:"a_size",count:1,type:5126,offset:20,stride:24,normalized:!1,divisor:0}]};return this._initialized=!0};k.prototype._getSDFVAO=function(u,v,g){if(g){if(v.textDDVertexArrayObject)return v.textDDVertexArrayObject;g=v.textDDVertexBuffer;
var q=v.textIndexBuffer;if(!g||!q)return null;v.textDDVertexArrayObject=new e(u,this._attributeLocationsDD,this._vertexAttributesDD,{geometry:g},q);return v.textDDVertexArrayObject}if(v.textVertexArrayObject)return v.textVertexArrayObject;g=v.textVertexBuffer;q=v.textIndexBuffer;if(!g||!q)return null;v.textVertexArrayObject=new e(u,this._attributeLocations,this._vertexAttributes,{geometry:g},q);return v.textVertexArrayObject};return k}()})},"esri/layers/vectorTiles/views/vectorTiles/renderers/TileInfoRenderer":function(){define("require exports ../GeometryUtils ./vtShaderSnippets ../../webgl/BufferObject ../../webgl/Program ../../webgl/Texture ../../webgl/VertexArrayObject".split(" "),
function(G,A,a,m,p,t,n,h){return function(){function c(){this._initialized=!1;this._maxWidth=0;this._color=new Float32Array([1,0,0,1])}c.prototype.dispose=function(){this._outlineProgram&&(this._outlineProgram.dispose(),this._outlineProgram=null);this._tileInfoProgram&&(this._tileInfoProgram.dispose(),this._tileInfoProgram=null);this._outlineVertexArrayObject&&(this._outlineVertexArrayObject.dispose(),this._outlineVertexArrayObject=null);this._tileInfoVertexArrayObject&&(this._tileInfoVertexArrayObject.dispose(),
this._tileInfoVertexArrayObject=null)};c.prototype.render=function(b,e){this._initialized||this._initialize(b);b.bindVAO(this._outlineVertexArrayObject);b.bindProgram(this._outlineProgram);this._outlineProgram.setUniformMatrix4fv("u_transformMatrix",e.tileTransform.transform);this._outlineProgram.setUniform2fv("u_normalized_origin",e.tileTransform.displayCoord);this._outlineProgram.setUniform1f("u_coord_range",e.coordRange);this._outlineProgram.setUniform1f("u_depth",0);this._outlineProgram.setUniform4fv("u_color",
this._color);b.setLineWidth(2);b.drawArrays(3,0,4);b.bindVAO();var f=this._getTexture(b,e);f&&(b.bindVAO(this._tileInfoVertexArrayObject),b.bindProgram(this._tileInfoProgram),b.bindTexture(f,0),this._tileInfoProgram.setUniformMatrix4fv("u_transformMatrix",e.tileTransform.transform),this._tileInfoProgram.setUniform2fv("u_normalized_origin",e.tileTransform.displayCoord),this._tileInfoProgram.setUniform1f("u_depth",0),this._tileInfoProgram.setUniform1f("u_coord_ratio",e.coordRange/512),this._tileInfoProgram.setUniform2f("u_delta",
8,8),this._tileInfoProgram.setUniform2f("u_dimensions",f.descriptor.width,f.descriptor.height),b.drawArrays(5,0,4),b.bindVAO())};c.prototype._initialize=function(b){if(this._initialized)return!0;var e={a_pos:0},f=new t(b,m.backgroundVS,m.backgroundFS,e),k=new t(b,m.tileInfoVS,m.tileInfoFS,e),u={geometry:[{name:"a_pos",count:2,type:5120,offset:0,stride:2,normalized:!1,divisor:0}]},v=new Int8Array([0,0,1,0,1,1,0,1]);v=p.createVertex(b,35044,v);v=new h(b,e,u,{geometry:v});var g=new Int8Array([0,0,1,
0,0,1,1,1]);g=p.createVertex(b,35044,g);b=new h(b,e,u,{geometry:g});this._outlineProgram=f;this._tileInfoProgram=k;this._outlineVertexArrayObject=v;this._tileInfoVertexArrayObject=b;return this._initialized=!0};c.prototype._getTexture=function(b,e){if(e.texture)return e.texture;this._canvas||(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("id","canvas2d"),this._canvas.setAttribute("width","256"),this._canvas.setAttribute("height","32"),this._canvas.setAttribute("style","display:none"));
var f=e.key.id,k=this._canvas.getContext("2d");k.font="24px sans-serif";k.textAlign="left";k.textBaseline="middle";var u=k.measureText(f);u=Math.pow(2,Math.ceil(a.log2(u.width+2)));u>this._maxWidth&&(this._maxWidth=u);k.clearRect(0,0,this._maxWidth,32);k.fillStyle=e.key.level>e.refKey.level?"red":"blue";k.fillText(f,0,16);e.texture=new n(b,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728},this._canvas);return e.texture};return c}()})},"esri/layers/vectorTiles/views/vectorTiles/VectorTileDisplayObject":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/ObjectPool ../../core/libs/gl-matrix/mat4 ../../core/libs/gl-matrix/vec2 ../../geometry/support/spatialReferenceUtils ../2d/engine/DisplayObject ../2d/tiling/enums ../2d/tiling/TileKey ./RenderBucket ../webgl/BufferObject".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f){var k="fillVertexBuffer fillDDVertexBuffer fillIndexBuffer outlineVertexBuffer outlineDDVertexBuffer outlineIndexBuffer lineVertexBuffer lineDDVertexBuffer lineIndexBuffer iconVertexBuffer iconDDVertexBuffer iconIndexBuffer textVertexBuffer textDDVertexBuffer textIndexBuffer circleVertexBuffer circleIndexBuffer".split(" ");return function(u){function v(){for(var g=[],q=0;q<arguments.length;q++)g[q]=arguments[q];q=u.call(this)||this;q._renderBuckets=[];q._vectorTileData=
null;q._symbolUpdateData=null;q.status=c.TileStatus.INITIALIZED;q.coords=[0,0];q.bounds=[0,0,0,0];q.tileTransform={transform:Float32Array[16],displayCoord:Float32Array[2]};q.stencilData={mask:0,reference:0};q.status=c.TileStatus.INITIALIZED;q.tileTransform.transform=p.create();q.tileTransform.displayCoord=t.create();0<g.length&&(x=q.acquire).call.apply(x,[q].concat(g));return q;var x}a(v,u);v.prototype.reset=function(){b.pool.release(this.key);this.refKey=this.key=null;this.coords[0]=0;this.coords[1]=
0;this.bounds[0]=0;this.bounds[1]=0;this.bounds[2]=0;this.height=this.width=this.bounds[3]=0;this.resolution=null;this.rotation=0;this.id=this.client=this.styleLayers=this._vectorTileData=null;this.tileTransform.transform.fill(0);this.tileTransform.displayCoord.fill(0);this.stencilData.mask=0;this.stencilData.reference=0;this._renderBuckets.length=0;this._symbolUpdateData=null;this.status=c.TileStatus.INITIALIZED};v.prototype.acquire=function(g,q,x,w,B){this.key=g;this.refKey=q;q=x.lodAt(g.level).resolution;
var z=x.size[0]*q,C=x.origin,y=g.col*z,D=g.row*z,F=x.spatialReference,H=0;F&&(F._isWrappable?F._isWrappable():F.isWrappable)&&(F=n.getInfo(F),H=F.valid[1]-F.valid[0]);y=C.x+y+g.world*H;C=C.y-D;this.coords[0]=y;this.coords[1]=C;this.bounds[0]=y;this.bounds[1]=C;this.bounds[2]=y+z;this.bounds[3]=C-z;this.widthInPixels=x.size[1];this.coordRange=4096;this.resolution=q;this.rotation=B;this.styleLayers=w;this.id=g.id};v.prototype.setData=function(g,q){this._vectorTileData=g;this.client=q;g&&g.bufferDataInfo||
(this.status=c.TileStatus.NO_DATA)};v.prototype.updateSymbolData=function(g){g&&(this._symbolUpdateData=g,this.requestRender())};v.prototype.dispose=function(){this.fillVertexArrayObject&&(this.fillVertexArrayObject.dispose(),this.fillVertexArrayObject=null);this.fillDDVertexArrayObject&&(this.fillDDVertexArrayObject.dispose(),this.fillDDVertexArrayObject=null);this.outlineVertexArrayObject&&(this.outlineVertexArrayObject.dispose(),this.outlineVertexArrayObject=null);this.outlineDDVertexArrayObject&&
(this.outlineDDVertexArrayObject.dispose(),this.outlineDDVertexArrayObject=null);this.lineVertexArrayObject&&(this.lineVertexArrayObject.dispose(),this.lineVertexArrayObject=null);this.lineDDVertexArrayObject&&(this.lineDDVertexArrayObject.dispose(),this.lineDDVertexArrayObject=null);this.iconVertexArrayObject&&(this.iconVertexArrayObject.dispose(),this.iconVertexArrayObject=null);this.iconDDVertexArrayObject&&(this.iconDDVertexArrayObject.dispose(),this.iconDDVertexArrayObject=null);this.textVertexArrayObject&&
(this.textVertexArrayObject.dispose(),this.textVertexArrayObject=null);this.textDDVertexArrayObject&&(this.textDDVertexArrayObject.dispose(),this.textDDVertexArrayObject=null);this.circleVertexArrayObject&&(this.circleVertexArrayObject.dispose(),this.circleVertexArrayObject=null);this.fillVertexBuffer&&(this.fillVertexBuffer.dispose(),this.fillVertexBuffer=null);this.fillDDVertexBuffer&&(this.fillDDVertexBuffer.dispose(),this.fillDDVertexBuffer=null);this.fillIndexBuffer&&(this.fillIndexBuffer.dispose(),
this.fillIndexBuffer=null);this.outlineVertexBuffer&&(this.outlineVertexBuffer.dispose(),this.outlineVertexBuffer=null);this.outlineDDVertexBuffer&&(this.outlineDDVertexBuffer.dispose(),this.outlineDDVertexBuffer=null);this.outlineIndexBuffer&&(this.outlineIndexBuffer.dispose(),this.outlineIndexBuffer=null);this.lineVertexBuffer&&(this.lineVertexBuffer.dispose(),this.lineVertexBuffer=null);this.lineDDVertexBuffer&&(this.lineDDVertexBuffer.dispose(),this.lineDDVertexBuffer=null);this.lineIndexBuffer&&
(this.lineIndexBuffer.dispose(),this.lineIndexBuffer=null);this.iconVertexBuffer&&(this.iconVertexBuffer.dispose(),this.iconVertexBuffer=null);this.iconDDVertexBuffer&&(this.iconDDVertexBuffer.dispose(),this.iconDDVertexBuffer=null);this.iconIndexBuffer&&(this.iconIndexBuffer.dispose(),this.iconIndexBuffer=null);this.textVertexBuffer&&(this.textVertexBuffer.dispose(),this.textVertexBuffer=null);this.textDDVertexBuffer&&(this.textDDVertexBuffer.dispose(),this.textDDVertexBuffer=null);this.textIndexBuffer&&
(this.textIndexBuffer.dispose(),this.textIndexBuffer=null);this.circleVertexBuffer&&(this.circleVertexBuffer.dispose(),this.circleVertexBuffer=null);this.circleIndexBuffer&&(this.circleIndexBuffer.dispose(),this.circleIndexBuffer=null);this.texture&&(this.texture.dispose(),this.texture=null);this._renderBuckets.length=0;this.status=c.TileStatus.INITIALIZED};v.prototype.getCpuMemoryUsage=function(){return null!=this._vectorTileData&&this._vectorTileData.bufferData?this._vectorTileData.bufferData.reduce(function(g,
q){return g+q.byteLength},0)+this._vectorTileData.bufferDataInfo.byteLength+this._vectorTileData.bucketDataInfo.byteLength:0};v.prototype.getGpuMemoryUsage=function(){var g=this,q=k.reduce(function(x,w){return g[w]?x+g[w].size:x},0);this.texture&&(q+=this.texture.descriptor.width*this.texture.descriptor.height*4);return q};v.prototype.attach=function(g){if(this.status!==c.TileStatus.INITIALIZED)return!0;if(0===this._renderBuckets.length)for(var q=new Uint32Array(this._vectorTileData.bucketDataInfo),
x=q.length,w=0;w<x;){var B=q[w],z=q[w+1];if(0===z)z=new e.BackgroundRenderBucket,z.layerID=B,this._renderBuckets.push(z),w+=2;else if(1===z)z=new e.FillRenderBucket,z.layerID=B,z.triangleElementStart=q[w+2],z.triangleElementCount=q[w+3],z.outlineElementStart=q[w+4],z.outlineElementCount=q[w+5],this._renderBuckets.push(z),w+=6;else if(2===z)z=new e.LineRenderBucket,z.layerID=B,z.triangleElementStart=q[w+2],z.triangleElementCount=q[w+3],this._renderBuckets.push(z),w+=4;else if(3===z){z=new e.SymbolRenderBucket;
z.layerID=B;z.isSDF=0!==q[w+2];var C=w+3;B=q[C];C++;if(0<B)for(var y=void 0,D=void 0,F=void 0,H=0;H<B;H++)y=q[C],D=q[C+1],F=q[C+2],z.markerPerPageElementsMap.set(y,[D,F]),C+=3;var E=q[C];C++;if(0<E)for(F=D=y=void 0,H=0;H<E;H++)y=q[C],D=q[C+1],F=q[C+2],z.glyphPerPageElementsMap.set(y,[D,F]),C+=3;this._renderBuckets.push(z);w+=5+3*B+3*E}else 4===z?(z=new e.CircleRenderBucket,z.layerID=B,z.triangleElementStart=q[w+2],z.triangleElementCount=q[w+3],this._renderBuckets.push(z),w+=4):console.error("Bad bucket type!")}g=
g.context;q=new Uint32Array(this._vectorTileData.bufferDataInfo);x=q.length;for(z=w=0;z<x;z+=2,w++)if(!(0>=q[z+1]||0===this._vectorTileData.bufferData[w].byteLength))switch(q[z]){case 1:this.fillVertexBuffer?this.fillVertexBuffer.setData(this._vectorTileData.bufferData[w]):this.fillVertexBuffer=f.createVertex(g,35044,this._vectorTileData.bufferData[w]);break;case 2:this.fillDDVertexBuffer?this.fillDDVertexBuffer.setData(this._vectorTileData.bufferData[w]):this.fillDDVertexBuffer=f.createVertex(g,
35044,this._vectorTileData.bufferData[w]);break;case 3:this.fillIndexBuffer?this.fillIndexBuffer.setData(this._vectorTileData.bufferData[w]):this.fillIndexBuffer=f.createIndex(g,35044,this._vectorTileData.bufferData[w]);break;case 4:this.outlineVertexBuffer?this.outlineVertexBuffer.setData(this._vectorTileData.bufferData[w]):this.outlineVertexBuffer=f.createVertex(g,35044,this._vectorTileData.bufferData[w]);break;case 5:this.outlineDDVertexBuffer?this.outlineDDVertexBuffer.setData(this._vectorTileData.bufferData[w]):
this.outlineDDVertexBuffer=f.createVertex(g,35044,this._vectorTileData.bufferData[w]);break;case 6:this.outlineIndexBuffer?this.outlineIndexBuffer.setData(this._vectorTileData.bufferData[w]):this.outlineIndexBuffer=f.createIndex(g,35044,this._vectorTileData.bufferData[w]);break;case 7:this.lineVertexBuffer?this.lineVertexBuffer.setData(this._vectorTileData.bufferData[w]):this.lineVertexBuffer=f.createVertex(g,35044,this._vectorTileData.bufferData[w]);break;case 8:this.lineDDVertexBuffer?this.lineDDVertexBuffer.setData(this._vectorTileData.bufferData[w]):
this.lineDDVertexBuffer=f.createVertex(g,35044,this._vectorTileData.bufferData[w]);break;case 9:this.lineIndexBuffer?this.lineIndexBuffer.setData(this._vectorTileData.bufferData[w]):this.lineIndexBuffer=f.createIndex(g,35044,this._vectorTileData.bufferData[w]);break;case 10:this.iconVertexBuffer?this.iconVertexBuffer.setData(this._vectorTileData.bufferData[w]):this.iconVertexBuffer=f.createVertex(g,35044,this._vectorTileData.bufferData[w]);break;case 11:this.iconDDVertexBuffer?this.iconDDVertexBuffer.setData(this._vectorTileData.bufferData[w]):
this.iconDDVertexBuffer=f.createVertex(g,35044,this._vectorTileData.bufferData[w]);break;case 12:this.iconIndexBuffer?this.iconIndexBuffer.setData(this._vectorTileData.bufferData[w]):this.iconIndexBuffer=f.createIndex(g,35044,this._vectorTileData.bufferData[w]);break;case 13:this.textVertexBuffer?this.textVertexBuffer.setData(this._vectorTileData.bufferData[w]):this.textVertexBuffer=f.createVertex(g,35044,this._vectorTileData.bufferData[w]);break;case 14:this.textDDVertexBuffer?this.textDDVertexBuffer.setData(this._vectorTileData.bufferData[w]):
this.textDDVertexBuffer=f.createVertex(g,35044,this._vectorTileData.bufferData[w]);break;case 15:this.textIndexBuffer?this.textIndexBuffer.setData(this._vectorTileData.bufferData[w]):this.textIndexBuffer=f.createIndex(g,35044,this._vectorTileData.bufferData[w]);break;case 16:this.circleVertexBuffer?this.circleVertexBuffer.setData(this._vectorTileData.bufferData[w]):this.circleVertexBuffer=f.createVertex(g,35044,this._vectorTileData.bufferData[w]);break;case 17:this.circleIndexBuffer?this.circleIndexBuffer.setData(this._vectorTileData.bufferData[w]):
this.circleIndexBuffer=f.createIndex(g,35044,this._vectorTileData.bufferData[w])}this._vectorTileData=null;this.status=c.TileStatus.READY;return!0};v.prototype.detach=function(g){this.client&&this.status!==c.TileStatus.INVALID&&this.status!==c.TileStatus.INITIALIZED&&this.client.invoke("destructTileData",this.id);this.dispose();u.prototype.detach.call(this,g)};v.prototype.doRender=function(g){if(this.visible&&this.status===c.TileStatus.READY){var q=g.context,x=g.renderer;if(q&&x){var w=g.drawphase;
this._symbolUpdateData&&this._updateSymbolData(g);q.setStencilFunction(514,this.stencilData.reference,this.stencilData.mask);var B=this.styleLayers,z=void 0!==g.layerOpacity?g.layerOpacity:1;if(0!==z){var C=this._renderBuckets.length,y=0;if(0===w)for(y=C-1;0<=y;y--){var D=this._renderBuckets[y];3!==D.type&&4!==D.type&&D.hasData()&&x.renderBucket(q,D,g.displayLevel,g.requiredLevel,w,this,B.layers[D.layerID],z)}else for(y=0;y<C;y++)D=this._renderBuckets[y],D.hasData()&&x.renderBucket(q,D,g.displayLevel,
g.requiredLevel,w,this,B.layers[D.layerID],z)}}}};v.prototype._updateSymbolData=function(g){if(!this._symbolUpdateData.bucketDataInfo)return!0;var q=new Uint32Array(this._symbolUpdateData.bucketDataInfo),x=q.length;if(0===x)return this._symbolUpdateData=null,!0;if(this.status!==c.TileStatus.READY)return this.requestRender(),!1;g=g.context;for(var w=new Uint32Array(this._symbolUpdateData.bufferDataInfo),B=w.length,z=0,C=0;C<B;C+=2,z++)switch(w[C]){case 10:this.iconVertexBuffer&&(this.iconVertexBuffer.dispose(),
this.iconVertexBuffer=null);this.iconVertexBuffer=f.createVertex(g,35044,this._symbolUpdateData.bufferData[z]);break;case 11:this.iconDDVertexBuffer&&(this.iconDDVertexBuffer.dispose(),this.iconDDVertexBuffer=null);this.iconDDVertexBuffer=f.createVertex(g,35044,this._symbolUpdateData.bufferData[z]);break;case 12:this.iconIndexBuffer&&(this.iconIndexBuffer.dispose(),this.iconIndexBuffer=null);this.iconIndexBuffer=f.createIndex(g,35044,this._symbolUpdateData.bufferData[z]);break;case 13:this.textVertexBuffer&&
(this.textVertexBuffer.dispose(),this.textVertexBuffer=null);this.textVertexBuffer=f.createVertex(g,35044,this._symbolUpdateData.bufferData[z]);break;case 14:this.textDDVertexBuffer&&(this.textDDVertexBuffer.dispose(),this.textDDVertexBuffer=null);this.textDDVertexBuffer=f.createVertex(g,35044,this._symbolUpdateData.bufferData[z]);break;case 15:this.textIndexBuffer&&(this.textIndexBuffer.dispose(),this.textIndexBuffer=null),this.textIndexBuffer=f.createIndex(g,35044,this._symbolUpdateData.bufferData[z])}g=
this._renderBuckets.length;for(w=0;w<g;w++)this._renderBuckets[w]instanceof e.SymbolRenderBucket&&(B=this._renderBuckets[w],B.markerPerPageElementsMap.clear(),B.glyphPerPageElementsMap.clear());for(g=0;g<x;){B=q[g];z=-1;C=this._renderBuckets.length;for(w=0;w<C;w++)if(this._renderBuckets[w].layerID===B){z=w;break}w=this._renderBuckets[z];w||(w=new e.SymbolRenderBucket,w.layerID=B,w.isSDF=0!==q[g+2],this._renderBuckets.push(w));var y=g+3;B=q[y];y++;if(0<B)for(var D=C=z=void 0,F=0;F<B;F++)z=q[y],C=q[y+
1],D=q[y+2],w.markerPerPageElementsMap.set(z,[C,D]),y+=3;var H=q[y];y++;if(0<H)for(D=C=z=void 0,F=0;F<H;F++)z=q[y],C=q[y+1],D=q[y+2],w.glyphPerPageElementsMap.set(z,[C,D]),y+=3;g+=5+3*B+3*H}this.iconVertexArrayObject&&(this.iconVertexArrayObject.dispose(),this.iconVertexArrayObject=null);this.iconDDVertexArrayObject&&(this.iconDDVertexArrayObject.dispose(),this.iconDDVertexArrayObject=null);this.textVertexArrayObject&&(this.textVertexArrayObject.dispose(),this.textVertexArrayObject=null);this.textDDVertexArrayObject&&
(this.textDDVertexArrayObject.dispose(),this.textDDVertexArrayObject=null);this._symbolUpdateData=null;return!0};v.pool=new m(v);return v}(h)})},"esri/layers/vectorTiles/views/2d/tiling/TileKey":function(){define(["require","exports","../../../core/ObjectPool"],function(G,A,a){return function(){function m(p,t,n,h){this.set(p,t,n,h)}m.from=function(p,t,n,h){return m.pool.acquire(p,t,n,h)};m.getId=function(p,t,n,h){return"object"===typeof p?p.level+"/"+p.row+"/"+p.col+"/"+p.world:p+"/"+t+"/"+n+"/"+
h};Object.defineProperty(m.prototype,"key",{get:function(){return this},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"id",{get:function(){return this.toString()},enumerable:!0,configurable:!0});m.prototype.equals=function(p){return this.level===p.level&&this.row===p.row&&this.col===p.col&&this.world===p.world};m.prototype.release=function(){this.world=this.col=this.row=this.level=0};m.prototype.set=function(p,t,n,h){null==p?this.world=this.col=this.row=this.level=0:"object"===
typeof p?(this.level=p.level||0,this.row=p.row||0,this.col=p.col||0,this.world=p.world||0):"string"===typeof p?(p=p.split("/"),t=p[1],n=p[2],h=p[3],this.level=parseFloat(p[0]),this.row=parseFloat(t),this.col=parseFloat(n),this.world=parseFloat(h)):(this.level=+p,this.row=+t,this.col=+n,this.world=+h||0);return this};m.prototype.toString=function(){return this.level+"/"+this.row+"/"+this.col+"/"+this.world};m.prototype.getChildKeys=function(){var p=this.level+1,t=this.row<<1,n=this.col<<1,h=this.world;
return[m.pool.acquire(p,t,n,h),m.pool.acquire(p,t,n+1,h),m.pool.acquire(p,t+1,n,h),m.pool.acquire(p,t+1,n+1,h)]};m.prototype._compare=function(p){return this.row<p.row?-1:this.row>p.row?1:this.col<p.col?-1:this.col>p.col?1:0};m.sort=function(p){return p.map(function(t){return m.from(t)}).sort(function(t,n){return t._compare(n)}).map(function(t){return t.id})};m.pool=new a(m,!0,null,25,50);return m}()})},"esri/layers/vectorTiles/views/vectorTiles/RenderBucket":function(){define(["require","exports",
"../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper"],function(G,A,a,m){Object.defineProperty(A,"__esModule",{value:!0});G=function(){return function(p){this.type=p}}();A.RenderBucket=G;m=function(p){function t(){var n=p.call(this,2)||this;n.triangleElementStart=0;n.triangleElementCount=0;return n}a(t,p);t.prototype.hasData=function(){return 0<this.triangleElementCount};return t}(G);A.LineRenderBucket=m;m=function(p){function t(){var n=p.call(this,1)||this;n.triangleElementStart=
0;n.triangleElementCount=0;n.outlineElementStart=0;n.outlineElementCount=0;return n}a(t,p);t.prototype.hasData=function(){return 0<this.triangleElementCount||0<this.outlineElementCount};return t}(G);A.FillRenderBucket=m;m=function(p){function t(){var n=p.call(this,3)||this;n.markerPerPageElementsMap=new Map;n.glyphPerPageElementsMap=new Map;n.isSDF=!1;return n}a(t,p);t.prototype.hasData=function(){return 0<this.markerPerPageElementsMap.size||0<this.glyphPerPageElementsMap.size};return t}(G);A.SymbolRenderBucket=
m;m=function(p){function t(){var n=p.call(this,4)||this;n.triangleElementStart=0;n.triangleElementCount=0;return n}a(t,p);t.prototype.hasData=function(){return 0<this.triangleElementCount};return t}(G);A.CircleRenderBucket=m;G=function(p){function t(){return p.call(this,0)||this}a(t,p);t.prototype.hasData=function(){return!0};return t}(G);A.BackgroundRenderBucket=G})},"esri/layers/vectorTiles/views/vectorTiles/TileHandler":function(){define("require exports dojo/Deferred dojo/has dojo/promise/all ../../request ../../core/LRUCache ../../core/promiseUtils ../../core/requireUtils ../../core/workers ../2d/tiling/TileKey ./GeometryUtils ./GlyphMosaic ./GlyphSource ./SpriteMosaic ./SpriteSource ./TileIndex ./VectorTileDisplayObject module".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w){var B=new n(10),z=new Map;return function(){function C(y,D,F,H,E){void 0===H&&(H=!1);this.devicePixelRatio=F;this.allowUpdates=H;this._tileIndex=this._connection=this._glyphMosaic=this._spriteMosaic=null;this._updateQueue=new Map;this._ongoingRequests=new Map;this._vectorTileLayer=y;this._styleRepository=y.styleRepository;this._requestUpdate=D}C.prototype.destroy=function(){this.stop();this._vectorTileLayer=this._requestUpdate=this._styleRepository=
null;this._spriteMosaic&&(this._spriteMosaic.dispose(),this._spriteMosaic=null);this._glyphMosaic&&(this._glyphMosaic.dispose(),this._glyphMosaic=null)};Object.defineProperty(C.prototype,"initialized",{get:function(){return this._broadcastPromise&&this._broadcastPromise.isFulfilled()},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"spriteMosaic",{get:function(){return this._spriteMosaic},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"glyphMosaic",{get:function(){return this._glyphMosaic},
enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"ongoingRequestCount",{get:function(){return this._ongoingRequests.size},enumerable:!0,configurable:!0});C.prototype.start=function(){var y=this;this.stop();var D=this._styleRepository,F=new g(D.sprite,this.devicePixelRatio);F.devicePixelRatio=this.devicePixelRatio;var H=F.load().then(function(){y._spriteMosaic=new v(1024,1024,250);y._spriteMosaic.setSpriteSource(F);m("stable-symbol-rendering")&&y._spriteMosaic.preloadSpriteItems()}),
E=new u(D.glyphs);this._glyphMosaic=new k(1024,1024,E);var I=this._fetchTileMap(this._vectorTileLayer.tileIndexUrl),J=b.open(c.getAbsMid("./WorkerTileHandler",G,w),{client:this}).then(function(L){y._connection=L}),K=new a(function(L){H.isFulfilled()||H.cancel();I.isFulfilled()||I.cancel();J.isFulfilled()||J.cancel()});p([H,I,J]).then(function(L){p(y._connection.broadcast("setLayers",D.styleJSON)).then(function(){K.resolve()})});return this._broadcastPromise=K.promise};C.prototype.stop=function(){this._broadcastPromise&&
!this._broadcastPromise.isFulfilled()&&this._broadcastPromise.cancel();this._updateQueue.forEach(function(y){return y.cancel()});this._ongoingRequests.forEach(function(y){return y.cancel()});this._connection&&(this._connection.close(),this._connection=null)};C.prototype.updateTile=function(y,D){var F=this;if(!this.allowUpdates)return h.resolve(null);if(!this._broadcastPromise.isFulfilled()||!this._connection)return h.reject(Error("no connection"));D=Math.round(f.degToByte(D.state.rotation));if(y.rotation===
D)return h.resolve(null);var H=y.key;if(this._updateQueue.has(H.id)){var E=this._updateQueue.get(H.id);E.cancel()}y.rotation=D;E=this._connection.invoke("update",{key:y.id,rotation:D},null,{client:y.client}).then(function(I){y.updateSymbolData(I);return I}).always(function(){F._updateQueue["delete"](H.id)});this._updateQueue.set(y.id,E);return E};C.prototype.getVectorTileWithLRC=function(y,D,F,H){var E=this;void 0===H&&(H=0);var I=new e(y,D,F,0);return this.getRefKey(I).then(function(J){var K=new x(I,
J,E._vectorTileLayer.tileInfo,E._styleRepository,0);if(J)return E.getTileData(K.key,0).then(function(L){K.setData(L.tileData,L.client);return K});K.setData(null,null);return K})};C.prototype.getTileData=function(y,D){var F=this;return this._broadcastPromise.isFulfilled()&&this._connection?this.getRefKey(y).then(function(H){if(!H)return h.resolve(null);var E=Math.round(f.degToByte(D));return F._getTileData(F._connection,y,H,E).then(function(I){return I&&I.tileData?{tileData:I.tileData,client:I.client}:
h.reject("No data")})}):h.reject(Error("no connection"))};C.prototype.getRefKey=function(y){return this._tileIndex?this._tileIndex.dataKey(y):h.resolve(y)};C.prototype.fetchTileData=function(y){y=e.pool.acquire(y);var D=this._vectorTileLayer.getTileUrl(y.level,y.row,y.col);e.pool.release(y);return t(D,{callbackParamName:"callback",responseType:"array-buffer"}).then(function(F){return{result:F.data,transferList:[F.data]}})};C.prototype.getSprites=function(y){return this._spriteMosaic.getSpriteItems(y)};
C.prototype.getGlyphs=function(y){return this._glyphMosaic.getGlyphItems(y.tileID,y.font,y.codePoints)};C.prototype.getStyleRepository=function(){return this._styleRepository};C.prototype.getTileIndex=function(){return this._tileIndex};C.prototype._getTileData=function(y,D,F,H){var E=this,I={client:null};if(y=this._ongoingRequests.get(D.id))return y;y=this._connection.invoke("getTile",{key:D.id,refKey:F.id,rotation:H,cacheTile:this.allowUpdates},null,I).then(function(J){E._ongoingRequests["delete"](D.id);
return{tileData:J,client:I.client}}).catch(function(J){E._ongoingRequests["delete"](D.id);E._connection.invoke("destructTileData",D.id,null,I);return h.reject(J)});this._ongoingRequests.set(D.id,y);return y};C.prototype._fetchTileMap=function(y){var D=this;if(this._vectorTileLayer.capabilities.operations.supportsTileMap&&this._vectorTileLayer.tilemapCache)return this._tileIndex=new q(this._vectorTileLayer.tilemapCache),h.resolve();if(!y)return h.resolve();if(B.has(y))return this._tileIndex=B.use(y),
h.resolve();if(z.has(y))return z.get(y).then(function(H){D._tileIndex=new q(H.data)});var F=t(y,{callbackParamName:"callback",responseType:"json"});F.then(function(H){D._tileIndex=new q(H.data);z["delete"](y);B.insert(y,D._tileIndex)});z.set(y,F);return F};return C}()})},"esri/layers/vectorTiles/core/LRUCache":function(){define(["require","exports"],function(G,A){return function(){function a(m){this._cache={};this._lruQueue=[];if(0>=m)throw Error("LRU cache size must be bigger than zero!");this._maxSize=
m}a.prototype.has=function(m){return void 0!==this._cache[m]};a.prototype.insert=function(m,p){null!==this.use(m)?this._cache[m]=p:(this._collect(),this._cache[m]=p,this._lruQueue.unshift(m))};a.prototype.use=function(m){var p=this._cache[m];if(!p)return null;this._lruQueue.splice(this._lruQueue.indexOf(m),1);this._lruQueue.unshift(m);return p};a.prototype.print=function(){for(var m=0,p=this._lruQueue;m<p.length;m++){var t=p[m];console.log("key: "+t+", value: "+this._cache[t])}};a.prototype._collect=
function(){if(!(this._lruQueue.length<this._maxSize)){var m=this._lruQueue.pop(),p=this._cache[m];p&&p.release&&p.release();delete this._cache[m]}};return a}()})},"esri/layers/vectorTiles/core/requireUtils":function(){define(["require","exports","dojo/Deferred"],function(G,A,a){function m(p,t){if(Array.isArray(t)){var n=new a;p(t,function(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];n.resolve(h)});return n.promise}return m(p,[t]).then(function(h){return h[0]})}Object.defineProperty(A,
"__esModule",{value:!0});A.when=m;A.getAbsMid=function(p,t,n){return t.toAbsMid?t.toAbsMid(p):n.id.replace(/\/[^\/]*$/gi,"/")+p}})},"esri/layers/vectorTiles/core/workers":function(){define(["require","exports","./workers/workers"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});for(var m in a)A.hasOwnProperty(m)||(A[m]=a[m])})},"esri/layers/vectorTiles/core/workers/workers":function(){define("require exports dojo/sniff dojo/promise/all ../Logger ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),
function(G,A,a,m,p,t,n,h,c){function b(){if(g)return g;for(var q=e+f,x=[],w=function(z){var C=c.create(z).then(function(y){return v[z]=y});x.push(C)},B=0;B<q;B++)w(B);return g=m(x).then(function(){})}Object.defineProperty(A,"__esModule",{value:!0});A.Connection=n;A.RemoteClient=h;(n=navigator.hardwareConcurrency)||(n=a("safari")&&a("mac")||a("trident")?8:2);var e=a("esri-workers-debug")?1:Math.max(1,Math.ceil(n/2)),f=a("esri-workers-debug")?1:Math.max(1,Math.floor(n/2)),k=p.getLogger("esri.core.workers"),
u=0,v=[];A.initialize=function(){b()};A.open=function(q,x,w){void 0===x&&(x={});if(Array.isArray(q))return new A.Connection(q.map(function(C){return new A.RemoteClient(C,x.client)}));if("string"!==typeof q){k.warn("workers-open:signature-deprecated","DEPRECATED: workers.open() changed signature.");var B=q;q=x;x={client:B,strategy:w?"dedicated":"distributed"}}var z=x.strategy||"distributed";return"local"===z?t.create(function(C){G([q],function(y){C(A.RemoteClient.connect(y))})}).then(function(C){return new A.Connection([new A.RemoteClient(C,
x.client)])}):b().then(function(){if("dedicated"===z){var C=e+u++;u%=f;return v[C].open(q).then(function(y){return new A.Connection([new A.RemoteClient(y,x.client)])})}return t.all(v.map(function(y){return y.open(q)})).then(function(y){return new A.Connection(y.map(function(D){return new A.RemoteClient(D,x.client)}))})})};A.terminate=function(){for(var q=0;q<v.length;q++)v[q]&&v[q].terminate();v.length=0};var g})},"esri/layers/vectorTiles/core/workers/Connection":function(){define(["require","exports",
"../promiseUtils"],function(G,A,a){return function(){function m(p){this._clientIdx=0;this._clients=p}m.prototype.broadcast=function(p,t,n){for(var h=[],c=0,b=this._clients;c<b.length;c++)h.push(b[c].invoke(p,t,n));return h};m.prototype.close=function(){for(var p=0,t=this._clients;p<t.length;p++)t[p].close();this._clients=[]};m.prototype.invoke=function(p,t,n,h){var c=h&&h.client;if(!this._clients||!this._clients.length)return a.reject(Error("Connection closed"));null!=c&&-1!==this._clients.indexOf(c)||
this._clients.some(function(b){return b.isBusy()?!1:(c=b,!0)})||(this._clientIdx=(this._clientIdx+1)%this._clients.length,c=this._clients[this._clientIdx]);p=c.invoke(p,t,n);h&&(h.client=c);return p};m.prototype.openPorts=function(){return a.all(this._clients.map(function(p){return p.openPort()}))};return m}()})},"esri/layers/vectorTiles/core/workers/RemoteClient":function(){define("require exports dojo/Deferred ../Error ../promiseUtils ./utils".split(" "),function(G,A,a,m,p,t){function n(u,v){u["delete"](v)}
var h=t.MessageType.CLOSE,c=t.MessageType.CANCEL,b=t.MessageType.INVOKE,e=t.MessageType.RESPONSE,f=t.MessageType.OPEN_PORT,k=function(){function u(v){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=v;this._timer=null;this._process=this._process.bind(this)}u.prototype.push=function(v){v.type===t.MessageType.CANCEL?this._cancelledJobIds.add(v.jobId):(this._invokeMessages.push(v),null===this._timer&&(this._timer=setTimeout(this._process,0)))};u.prototype.clear=function(){this._invokeMessages.length=
0;this._cancelledJobIds.clear();this._timer=null};u.prototype._process=function(){this._timer=null;for(var v=0,g=this._invokeMessages;v<g.length;v++){var q=g[v];this._cancelledJobIds.has(q.jobId)||this._invoke(q)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return u}();return function(){function u(v,g,q){this._outJobs=new Map;this._inJobs=new Map;this._queue=new k(this._onInvoke.bind(this));this._onMessage=this._onMessage.bind(this);this._client=g;this._port=v;this._port.addEventListener("message",
this._onMessage);this._port.start();this._channel=q}u.connect=function(v){var g=new MessageChannel;v="function"===typeof v?new v:"default"in v&&"function"===typeof v.default?new v.default:v;v.remoteClient=new u(g.port1,v,g);return g.port2};u.prototype.close=function(){this._post({type:h});this._close()};u.prototype.isBusy=function(){return 0<this._outJobs.size};u.prototype.invoke=function(v,g,q){var x=this;if(!this._port)return p.reject(new m("remote-client:port-closed","Can't invoke(), port is closed"));
var w=t.newJobId(),B=new a(function(){n(x._outJobs,w);x._post({type:c,jobId:w})});this._outJobs.set(w,B);this._post({type:b,jobId:w,methodName:v},g,q);return B.promise};u.prototype.openPort=function(){var v=this,g=t.newJobId(),q=new a(function(){n(v._outJobs,g);v._post({type:c,jobId:g})});this._outJobs.set(g,q);this._post({type:f,jobId:g});return q.promise};u.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();
this._outJobs.forEach(function(v){v.cancel()});this._inJobs.clear();this._outJobs.clear();this._queue.clear();this._port=this._client=null};u.prototype._onMessage=function(v){if(v=t.receiveMessage(v))switch(v.type){case e:this._onResponse(v);break;case b:this._queue.push(v);break;case c:this._onCancel(v);break;case h:this._close();break;case f:this._onOpenPort(v)}};u.prototype._onCancel=function(v){var g=this._inJobs,q=v.jobId,x=g.get(q);this._queue.push(v);x&&(n(g,q),x.cancel())};u.prototype._onInvoke=
function(v){var g=this,q=v.methodName,x=v.jobId;v=v.data;var w=this._inJobs,B=this._client,z=B[q];try{if(!z&&q&&-1!==q.indexOf("."))for(var C=q.split("."),y=0;y<C.length-1;y++)B=B[C[y]],z=B[C[y+1]];if("function"!==typeof z)throw new TypeError(q+" is not a function");var D=z.call(B,v,this)}catch(F){this._post({type:e,jobId:x,error:t.toInvokeError(F)});return}p.isThenable(D)?(w.set(x,D),D.then(function(F){w.has(x)&&(n(w,x),g._post({type:e,jobId:x},F))}).catch(function(F){w.has(x)&&(n(w,x),F&&"cancel"===
F.dojoType||g._post({type:e,jobId:x,error:t.toInvokeError(F||{message:"Error encountered at method "+q})}))})):this._post({type:e,jobId:x},D)};u.prototype._onOpenPort=function(v){var g=new MessageChannel;new u(g.port1,this._client);this._post({type:e,jobId:v.jobId},g.port2,[g.port2])};u.prototype._onResponse=function(v){var g=v.jobId,q=v.error;v=v.data;var x=this._outJobs;if(x.has(g)){var w=x.get(g);n(x,g);q?w.reject(m.fromJSON(JSON.parse(q))):w.resolve(v)}};u.prototype._post=function(v,g,q){return t.postMessage(this._port,
v,g,q)};return u}()})},"esri/layers/vectorTiles/core/workers/utils":function(){define(["require","exports","dojo/has"],function(G,A,a){function m(t){return t&&"object"===typeof t&&("result"in t||"transferList"in t)}Object.defineProperty(A,"__esModule",{value:!0});(function(t){t[t.HANDSHAKE=0]="HANDSHAKE";t[t.CONFIGURE=1]="CONFIGURE";t[t.CONFIGURED=2]="CONFIGURED";t[t.OPEN=3]="OPEN";t[t.OPENED=4]="OPENED";t[t.RESPONSE=5]="RESPONSE";t[t.INVOKE=6]="INVOKE";t[t.CANCEL=7]="CANCEL";t[t.CLOSE=8]="CLOSE";
t[t.OPEN_PORT=9]="OPEN_PORT"})(A.MessageType||(A.MessageType={}));var p=0;A.newJobId=function(){return p++};A.isTranferableResult=m;A.toInvokeError=function(t){return t?t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details,stack:t.stack}):null};A.postMessage=function(t,n,h,c){2===arguments.length||void 0===h&&void 0===c?t.postMessage(n):(a("esri-workers-supports-transfer-arraybuffer")||(c?(c=c.filter(function(b){return!(b instanceof ArrayBuffer)}),c.length||(c=
null)):m(h)&&h.transferList&&(h.transferList=h.transferList.filter(function(b){return!(b instanceof ArrayBuffer)}),h.transferList.length||(h.transferList=null))),c?(n.data=h,t.postMessage(n,c)):m(h)?(n.data=h.result,h.transferList?t.postMessage(n,h.transferList):t.postMessage(n)):(n.data=h,t.postMessage(n)))};A.receiveMessage=function(t){return t?(t=t.data)?"string"===typeof t?JSON.parse(t):t:null:null}})},"esri/layers/vectorTiles/core/workers/WorkerOwner":function(){define("require exports dojo/Deferred ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),
function(G,A,a,m,p,t,n,h,c){var b=t.getLogger("esri.core.workers"),e=h.MessageType.CANCEL,f=h.MessageType.INVOKE,k=h.MessageType.OPEN,u=h.MessageType.OPENED,v=h.MessageType.RESPONSE;return function(){function g(q,x){this._outJobs=new Map;this._inJobs=new Map;this.worker=q;this.id=x;q.addEventListener("message",this._onMessage.bind(this));q.addEventListener("error",function(w){w.preventDefault();b.error(w)})}g.create=function(q){return c.createWorker().then(function(x){return new g(x,q)})};g.prototype.terminate=
function(){this.worker.terminate()};g.prototype.open=function(q){var x=this,w=h.newJobId(),B=new a(function(z){x._outJobs["delete"](w);x._post({type:e,jobId:w})});this._outJobs.set(w,B);this._post({type:k,jobId:w,modulePath:q});return B.promise};g.prototype._onMessage=function(q){if(q=h.receiveMessage(q))switch(q.type){case u:case v:this._onResponse(q);break;case e:this._onCancel(q);break;case f:this._onInvoke(q)}};g.prototype._onCancel=function(q){(q=this._inJobs.get(q.jobId))&&q.cancel()};g.prototype._onInvoke=
function(q){var x=this,w=q.methodName,B=q.jobId;q=q.data;var z=this._inJobs,C=m.workerMessages[w];try{if("function"!==typeof C)throw new TypeError(w+" is not a function");var y=C.call(null,q)}catch(D){this._post({type:v,jobId:B,error:h.toInvokeError(D)});return}n.isThenable(y)?(z.set(B,y),y.then(function(D){z["delete"](B);x._post({type:v,jobId:B},D)}).catch(function(D){z["delete"](B);D||(D={message:"Error encountered at method"+w});D.dojoType&&"cancel"===D.dojoType||x._post({type:v,jobId:B,error:h.toInvokeError(D)})})):
this._post({type:v,jobId:B},y)};g.prototype._onResponse=function(q){var x=q.jobId,w=q.error;q=q.data;var B=this._outJobs.get(x);B&&(this._outJobs["delete"](x),w?B.reject(p.fromJSON(JSON.parse(w))):B.resolve(q))};g.prototype._post=function(q,x,w){return h.postMessage(this.worker,q,x,w)};return g}()})},"esri/layers/vectorTiles/kernel":function(){define(["require","exports","esri/kernel","./identity/IdentityManager"],function(G,A,a,m){return function(){function p(){}Object.defineProperty(p,"id",{get:function(){return a.id?
m:null},enumerable:!0,configurable:!0});p.workerMessages={};return p}()})},"esri/layers/vectorTiles/identity/IdentityManager":function(){define(["require","exports","esri/IdentityManager"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});A.findCredential=function(m){return a.findCredential(m)}})},"esri/IdentityManager":function(){define(["./IdentityManagerDialog","./kernel","./OAuthSignInHandler","dojo/_base/declare"],function(G,A,a,m){G=new G;A.id=m.safeMixin(G,a);return A.id})},
"esri/IdentityManagerDialog":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/config dojo/_base/Deferred dojo/_base/lang dojo/has dojo/dom-attr dojo/keys dijit/registry dijit/Dialog ./kernel ./lang ./domUtils ./Credential ./IdentityManagerBase dojo/i18n!./nls/jsapi dojo/query dijit/form/Button dijit/form/Form dijit/form/ValidationTextBox".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g){A=A([v],{declaredClass:"esri.IdentityManager",_eventMap:{"dialog-cancel":["info"]},constructor:function(q){p.mixin(this,
q);this.registerConnectEvents()},_dialogContent:"\x3cdiv data-dojo-type\x3d'dijit.form.Form' data-dojo-props\x3d'\"class\":\"esriIdForm\"'\x3e\x3cdiv class\x3d'dijitDialogPaneContentArea'\x3e\x3cdiv style\x3d'padding-bottom: 5px; word-wrap: break-word;'\x3e${info}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'esriErrorMsg' style\x3d'display: none; color: white; background-color: #D46464; text-align: center; padding-top: 3px; padding-bottom: 3px;'\x3e${invalidUser}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3ctable style\x3d'width: 100%;'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel\x3e${lblUser}\x3cbr/\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' data-dojo-props\x3d'type:\"text\", \"class\":\"esriIdUser\", required:true, trim:true, style:\"width: 100%;\", autocapitalize:\"none\", autocorrect:\"off\", spellcheck:false' /\x3e\x3c/label\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel\x3e${lblPwd}\x3cbr/\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' data-dojo-props\x3d'type:\"password\", \"class\":\"esriIdPwd\", required:true, style:\"width: 100%;\"' /\x3e\x3c/label\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitDialogPaneActionBar'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdSubmit\"'\x3e${lblOk}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdCancel\"'\x3e${lblCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e",
onDialogCreate:function(){},onDialogCancel:function(){},signIn:function(q,x,w){this._nls||(this._nls=g.identity);this._loginDialog||(this._loginDialog=this.dialog=this._createLoginDialog(),this.onDialogCreate());var B=this._loginDialog,z=w&&w.error,C=w&&w.token,y=new m(function(){B.onCancel()});if(B.open)return q=Error("BUSY"),q.name="identity-manager:busy",q.code="IdentityManager.1",q.log=!!a.isDebug,y.errback(q),y;k.hide(B.errMsg_);z&&403==z.code&&C&&(n.set(B.errMsg_,"innerHTML",this._nls.forbidden),
k.show(B.errMsg_));B.dfd_=y;B.serverInfo_=x;B.resUrl_=q;B.admin_=w&&w.isAdmin;n.set(B.resLink_,{title:q,innerHTML:"("+(this.getResourceName(q)||this._nls.lblItem)+")"});n.set(B.serverLink_,{title:x.server,innerHTML:(-1!==x.server.toLowerCase().indexOf("arcgis.com")?"ArcGIS Online":x.server)+" "});B.txtPwd_.set("value","");B.show();return y},_createLoginDialog:function(){var q=this._nls,x=f.substitute(q,this._dialogContent);x=f.substitute({resource:"\x3cspan class\x3d'resLink' style\x3d'word-wrap: break-word;'\x3e\x3c/span\x3e",
server:"\x3cspan class\x3d'serverLink' style\x3d'word-wrap: break-word;'\x3e\x3c/span\x3e"},x);var w=new b({title:q.title,content:x,"class":"esriSignInDialog",style:"width: 18em;",esriIdMgr_:this,keypressed_:function(B){B.charOrCode===h.ENTER&&this.execute_()},execute_:function(){var B=this.txtUser_.get("value"),z=this.txtPwd_.get("value"),C=this.dfd_,y=this;if(this.form_.validate()&&B&&z){this.btnSubmit_.set("label",q.lblSigning);var D=e.id.findCredential(y.resUrl_,B),F=function(H){y.btnSubmit_.set("label",
q.lblOk);y.btnSubmit_.set("disabled",!1);k.hide(y.errMsg_);y.hide();b._DialogLevelManager.hide(y);var E=y.serverInfo_;y.dfd_=y.serverInfo_=y.generateDfd_=y.resUrl_=null;var I=D;if(H){var J=H.token;var K=f.isDefined(H.expires)?Number(H.expires):null;var L=!!H.ssl;I?(I.userId=B,I.token=J,I.expires=K,I.validity=H.validity,I.ssl=L,I.creationTime=(new Date).getTime()):I=new u({userId:B,server:E.server,token:J,expires:K,ssl:L,isAdmin:y.admin_,validity:H.validity})}C.callback(I)};D&&!D._enqueued?F():(y.btnSubmit_.set("disabled",
!0),y.generateDfd_=e.id.generateToken(this.serverInfo_,{username:B,password:z},{isAdmin:this.admin_}).addCallback(F).addErrback(function(H){y.btnSubmit_.set("disabled",!1);y.generateDfd_=null;y.btnSubmit_.set("label",q.lblOk);n.set(y.errMsg_,"innerHTML",H&&H.code?q.invalidUser:q.noAuthService);k.show(y.errMsg_)}))}},cancel_:function(){w.generateDfd_&&w.generateDfd_.cancel();var B=w.dfd_,z=w.resUrl_,C=w.serverInfo_;w.btnSubmit_.set("disabled",!1);w.dfd_=w.serverInfo_=w.generateDfd_=w.resUrl_=null;
k.hide(w.errMsg_);b._DialogLevelManager.hide(w);w.esriIdMgr_.onDialogCancel({resourceUrl:z,serverInfo:C});z=Error("ABORTED");z.name="identity-manager:user-aborted";z.code="IdentityManager.2";z.log=!!a.isDebug;B.errback(z)}});x=w.domNode;w.form_=c.byNode(G.query(".esriIdForm",x)[0]);w.txtUser_=c.byNode(G.query(".esriIdUser",x)[0]);w.txtPwd_=c.byNode(G.query(".esriIdPwd",x)[0]);w.btnSubmit_=c.byNode(G.query(".esriIdSubmit",x)[0]);w.btnCancel_=c.byNode(G.query(".esriIdCancel",x)[0]);w.resLink_=G.query(".resLink",
x)[0];w.serverLink_=G.query(".serverLink",x)[0];w.errMsg_=G.query(".esriErrorMsg",x)[0];w.connect(w.txtUser_,"onKeyPress",w.keypressed_);w.connect(w.txtPwd_,"onKeyPress",w.keypressed_);w.connect(w.btnSubmit_,"onClick",w.execute_);w.connect(w.btnCancel_,"onClick",w.onCancel);w.connect(w,"onCancel",w.cancel_);return w}});t("extend-esri")&&(e.IdentityManagerDialog=e.IdentityManager=A);return A})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/touch dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F,H,E,I,J,K,L){function O(){}var U=new p;U.resolve(!0);C=m("dijit._DialogBase"+(g("dojo-bidi")?"_NoBidi":""),[D,H,E,F],{templateString:L,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:C.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(T){this._set("draggable",T)},maxRatio:.9,
closable:!0,_setClosableAttr:function(T){this.closeButtonNode.style.display=T?"":"none";this._set("closable",T)},postMixInProperties:function(){var T=e.getLocalization("dijit","common");k.mixin(this,T);this.inherited(arguments)},postCreate:function(){c.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);a.after(this,"onExecute",k.hitch(this,"hide"),!0);a.after(this,"onCancel",k.hitch(this,"hide"),!0);u(this.closeButtonNode,
q.press,function(T){T.stopPropagation()});this._modalconnects=[]},onLoad:function(){this.resize();this._position();this.autofocus&&M.isTop(this)&&(this._getFocusItems(),z.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();z.focus(this._firstFocusItem)},_endDrag:function(){var T=h.position(this.domNode),V=x.getBox(this.ownerDocument);T.y=Math.min(Math.max(T.y,0),V.h-T.h);T.x=Math.min(Math.max(T.x,0),V.w-T.w);this._relativePosition=T;this._position()},_setup:function(){var T=
this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==g("ie")?B:w)(T,{handle:this.titleBar}),a.after(this._moveable,"onMoveStop",k.hitch(this,"_endDrag"),!0)):n.add(T,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":A.map(this["class"].split(/\s/),function(V){return V+"_underlay"}).join(" "),_onKeyDown:k.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!n.contains(this.ownerDocumentBody,"dojoMove")){var T=
this.domNode,V=x.getBox(this.ownerDocument),ea=this._relativePosition,P=h.position(T);c.set(T,{left:Math.floor(V.l+(ea?Math.min(ea.x,V.w-P.w):(V.w-P.w)/2))+"px",top:Math.floor(V.t+(ea?Math.min(ea.y,V.h-P.h):(V.h-P.h)/2))+"px"})}},_onKey:function(T){if(T.keyCode==f.TAB){this._getFocusItems();var V=T.target;this._firstFocusItem==this._lastFocusItem?(T.stopPropagation(),T.preventDefault()):V==this._firstFocusItem&&T.shiftKey?(z.focus(this._lastFocusItem),T.stopPropagation(),T.preventDefault()):V!=this._lastFocusItem||
T.shiftKey||(z.focus(this._firstFocusItem),T.stopPropagation(),T.preventDefault())}else this.closable&&T.keyCode==f.ESCAPE&&(this.onCancel(),T.stopPropagation(),T.preventDefault())},show:function(){if(this.open)return U.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),M.hide(this));var T=x.get(this.ownerDocument);this._modalconnects.push(u(T,"scroll",k.hitch(this,"resize",null)));this._modalconnects.push(u(this.domNode,
"keydown",k.hitch(this,"_onKey")));c.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this.resize();this._position();this._fadeInDeferred=new p(k.hitch(this,function(){V.stop();delete this._fadeInDeferred}));this._fadeInDeferred.then(void 0,O);T=this._fadeInDeferred.promise;var V=b.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:k.hitch(this,function(){M.show(this,this.underlayAttrs)}),onEnd:k.hitch(this,function(){this.autofocus&&M.isTop(this)&&(this._getFocusItems(),
z.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return T},hide:function(){if(!this._alreadyInitialized||!this.open)return U.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred=new p(k.hitch(this,function(){V.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(void 0,O);this._fadeOutDeferred.then(k.hitch(this,"onHide"));var T=this._fadeOutDeferred.promise;var V=b.fadeOut({node:this.domNode,duration:this.duration,
onEnd:k.hitch(this,function(){this.domNode.style.display="none";M.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var ea;ea=this._modalconnects.pop();)ea.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return T},resize:function(T){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!T){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&
(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),A.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(ba){ba&&c.set(ba,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var V=x.getBox(this.ownerDocument);V.w*=this.maxRatio;V.h*=this.maxRatio;var ea=h.position(this.domNode);this._shrunk=!1;ea.w>=V.w&&(T={w:V.w},h.setMarginBox(this.domNode,T),ea=h.position(this.domNode),
this._shrunk=!0);ea.h>=V.h&&(T||(T={w:ea.w}),T.h=V.h,this._shrunk=!0);T&&(T.w||(T.w=ea.w),T.h||(T.h=ea.h))}if(T){h.setMarginBox(this.domNode,T);V=[];this.titleBar&&V.push({domNode:this.titleBar,region:"top"});this.actionBarNode&&V.push({domNode:this.actionBarNode,region:"bottom"});ea={domNode:this.containerNode,region:"center"};V.push(ea);var P=K.marginBox2contentBox(this.domNode,T);K.layoutChildren(this.domNode,P,V);this._singleChild?(V=K.marginBox2contentBox(this.containerNode,ea),this._singleChild.resize({w:V.w,
h:V.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();g("touch")||T||this._position()}},_layoutChildren:function(){A.forEach(this.getChildren(),function(T){T.resize&&T.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var T;T=this._modalconnects.pop();)T.remove();M.hide(this);this.inherited(arguments)}});g("dojo-bidi")&&
(C=m("dijit._DialogBase",C,{_setTitleAttr:function(T){this._set("title",T);this.titleNode.innerHTML=T;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(T){this._created&&this.textDir!=T&&(this._set("textDir",T),this.set("title",this.title))}}));var S=m("dijit.Dialog",[J,C],{});S._DialogBase=C;var M=S._DialogLevelManager={_beginZIndex:950,show:function(T,V){N[N.length-1].focus=z.curNode;var ea=N[N.length-1].dialog?N[N.length-1].zIndex+2:S._DialogLevelManager._beginZIndex;c.set(T.domNode,
"zIndex",ea);I.show(V,ea-1);N.push({dialog:T,underlayAttrs:V,zIndex:ea})},hide:function(T){if(N[N.length-1].dialog==T){N.pop();var V=N[N.length-1];1==N.length?I.hide():I.show(V.underlayAttrs,V.zIndex-1);if(T.refocus&&(T=V.focus,!V.dialog||T&&t.isDescendant(T,V.dialog.domNode)||(V.dialog._getFocusItems(),T=V.dialog._firstFocusItem),T))try{T.focus()}catch(ea){}}else V=A.indexOf(A.map(N,function(ea){return ea.dialog}),T),-1!=V&&N.splice(V,1)},isTop:function(T){return N[N.length-1].dialog==T}},N=S._dialogStack=
[{dialog:null,focus:null,underlayAttrs:null}];z.watch("curNode",function(T,V,ea){T=N[N.length-1].dialog;if(ea&&T&&!T._fadeOutDeferred&&ea.ownerDocument==T.ownerDocument){do if(ea==T.domNode||n.contains(ea,"dijitPopup"))return;while(ea=ea.parentNode);T.focus()}});g("dijit-legacy-requires")&&v(0,function(){G(["dijit/TooltipDialog"])});return S})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../has ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k){function u(q,x){"touchAction"in document.body.style?v="touchAction":"msTouchAction"in document.body.style&&(v="msTouchAction");g=function(w,B){w.style[v]=B};g(q,x)}var v,g=function(){};n("touch-action")&&(g=u);return A("dojo.dnd.Moveable",[t],{handle:"",delay:0,skip:!1,constructor:function(q,x){this.node=m.byId(q);g(this.node,"none");x||(x={});this.handle=x.handle?m.byId(x.handle):null;this.handle||(this.handle=this.node);this.delay=0<x.delay?x.delay:0;this.skip=
x.skip;this.mover=x.mover?x.mover:f;this.events=[h(this.handle,b.press,a.hitch(this,"onMouseDown")),h(this.handle,"dragstart",a.hitch(this,"onSelectStart")),h(this.handle,"selectstart",a.hitch(this,"onSelectStart"))]},markupFactory:function(q,x,w){return new w(x,q)},destroy:function(){G.forEach(this.events,function(q){q.remove()});g(this.node,"");this.events=this.node=this.handle=null},onMouseDown:function(q){if(!this.skip||!e.isFormElement(q)){if(this.delay)this.events.push(h(this.handle,b.move,
a.hitch(this,"onMouseMove")),h(this.handle.ownerDocument,b.release,a.hitch(this,"onMouseUp"))),this._lastX=q.pageX,this._lastY=q.pageY;else this.onDragDetected(q);q.stopPropagation();q.preventDefault()}},onMouseMove:function(q){if(Math.abs(q.pageX-this._lastX)>this.delay||Math.abs(q.pageY-this._lastY)>this.delay)this.onMouseUp(q),this.onDragDetected(q);q.stopPropagation();q.preventDefault()},onMouseUp:function(q){for(var x=0;2>x;++x)this.events.pop().remove();q.stopPropagation();q.preventDefault()},
onSelectStart:function(q){this.skip&&e.isFormElement(q)||(q.stopPropagation(),q.preventDefault())},onDragDetected:function(q){new this.mover(this.node,q,this)},onMoveStart:function(q){c.publish("/dnd/move/start",q);p.add(k.body(),"dojoMove");p.add(this.node,"dojoMoveItem")},onMoveStop:function(q){c.publish("/dnd/move/stop",q);p.remove(k.body(),"dojoMove");p.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(q,x){this.onMoving(q,x);var w=q.node.style;w.left=x.l+"px";w.top=x.t+
"px";this.onMoved(q,x)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(G,A,a,m){var p=a.getObject("dojo.dnd",!0);p.getCopyKeyState=function(t){return t[G("mac")?"metaKey":"ctrlKey"]};p._uniqueId=0;p.getUniqueId=function(){do var t=A._scopeName+"Unique"+ ++p._uniqueId;while(m.byId(t));return t};p._empty={};p.isFormElement=function(t){t=t.target;3==t.nodeType&&(t=t.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+
t.tagName.toLowerCase()+" ")};return p})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k){return A("dojo.dnd.Mover",[c],{constructor:function(u,v,g){function q(x){x.preventDefault();x.stopPropagation()}this.node=t.byId(u);this.marginBox={l:v.pageX,t:v.pageY};this.mouseButton=v.button;v=this.host=g;u=u.ownerDocument;
this.events=[b(u,e.move,a.hitch(this,"onFirstMove")),b(u,e.move,a.hitch(this,"onMouseMove")),b(u,e.release,a.hitch(this,"onMouseUp")),b(u,"dragstart",q),b(u.body,"selectstart",q)];k.autoScrollStart(u);if(v&&v.onMoveStart)v.onMoveStart(this)},onMouseMove:function(u){k.autoScroll(u);var v=this.marginBox;this.host.onMove(this,{l:v.l+u.pageX,t:v.t+u.pageY},u);u.preventDefault();u.stopPropagation()},onMouseUp:function(u){(m("webkit")&&m("mac")&&2==this.mouseButton?0==u.button:this.mouseButton==u.button)&&
this.destroy();u.preventDefault();u.stopPropagation()},onFirstMove:function(u){var v=this.node.style,g=this.host;switch(v.position){case "relative":case "absolute":var q=Math.round(parseFloat(v.left))||0;v=Math.round(parseFloat(v.top))||0;break;default:v.position="absolute";v=n.getMarginBox(this.node);q=p.doc.body;var x=h.getComputedStyle(q),w=n.getMarginBox(q,x);x=n.getContentBox(q,x);q=v.l-(x.l-w.l);v=v.t-(x.t-w.t)}this.marginBox.l=q-this.marginBox.l;this.marginBox.t=v-this.marginBox.t;if(g&&g.onFirstMove)g.onFirstMove(this,
u);this.events.shift().remove()},destroy:function(){G.forEach(this.events,function(v){v.remove()});var u=this.host;if(u&&u.onMoveStop)u.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(G,A,a,m,p,t){var n={};G.setObject("dojo.dnd.autoscroll",n);n.getViewport=t.getBox;n.V_TRIGGER_AUTOSCROLL=32;n.H_TRIGGER_AUTOSCROLL=32;n.V_AUTOSCROLL_VALUE=16;n.H_AUTOSCROLL_VALUE=
16;var h,c=a.doc,b=Infinity,e=Infinity;n.autoScrollStart=function(f){c=f;h=t.getBox(c);f=a.body(c).parentNode;b=Math.max(f.scrollHeight-h.h,0);e=Math.max(f.scrollWidth-h.w,0)};n.autoScroll=function(f){var k=h||t.getBox(c),u=a.body(c).parentNode,v=0,g=0;f.clientX<n.H_TRIGGER_AUTOSCROLL?v=-n.H_AUTOSCROLL_VALUE:f.clientX>k.w-n.H_TRIGGER_AUTOSCROLL&&(v=Math.min(n.H_AUTOSCROLL_VALUE,e-u.scrollLeft));f.clientY<n.V_TRIGGER_AUTOSCROLL?g=-n.V_AUTOSCROLL_VALUE:f.clientY>k.h-n.V_TRIGGER_AUTOSCROLL&&(g=Math.min(n.V_AUTOSCROLL_VALUE,
b-u.scrollTop));window.scrollBy(v,g)};n._validNodes={div:1,p:1,td:1};n._validOverflow={auto:1,scroll:1};n.autoScrollNodes=function(f){for(var k,u,v,g,q,x=0,w=0,B=f.target;B;){if(1==B.nodeType&&B.tagName.toLowerCase()in n._validNodes){v=p.getComputedStyle(B);q=v.overflowX.toLowerCase()in n._validOverflow;g=v.overflowY.toLowerCase()in n._validOverflow;if(q||g)k=m.getContentBox(B,v),u=m.position(B,!0);if(q){v=Math.min(n.H_TRIGGER_AUTOSCROLL,k.w/2);q=f.pageX-u.x;if(A("webkit")||A("opera"))q+=a.body().scrollLeft;
x=0;0<q&&q<k.w&&(q<v?x=-v:q>k.w-v&&(x=v),B.scrollLeft+=x)}if(g){g=Math.min(n.V_TRIGGER_AUTOSCROLL,k.h/2);v=f.pageY-u.y;if(A("webkit")||A("opera"))v+=a.body().scrollTop;w=0;0<v&&v<k.h&&(v<g?w=-g:v>k.h-g&&(w=g),B.scrollTop+=w)}if(x||w)return}try{B=B.parentNode}catch(z){B=null}}n.autoScroll(f)};return n})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(G,A){var a=A.prototype.onMove;return G("dojo.dnd.TimedMoveable",A,{timeout:40,constructor:function(m,p){p||(p=
{});p.timeout&&"number"==typeof p.timeout&&0<=p.timeout&&(this.timeout=p.timeout)},onMoveStop:function(m){m._timer&&(clearTimeout(m._timer),a.call(this,m,m._leftTop));A.prototype.onMoveStop.apply(this,arguments)},onMove:function(m,p){m._leftTop=p;if(!m._timer){var t=this;m._timer=setTimeout(function(){m._timer=null;a.call(t,m,m._leftTop)},this.timeout)}}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f){var k=G("dijit.DialogUnderlay",[h,c],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(u){m.set(this.node,"id",u+"_underlay");this._set("dialogId",u)},_setClassAttr:function(u){this.node.className="dijitDialogUnderlay "+u;this._set("class",u)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(t(this.domNode,"keydown",A.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var u=this.node.style,v=this.domNode.style;v.display="none";var g=n.getBox(this.ownerDocument);v.top=g.t+"px";v.left=g.l+"px";u.width=g.w+"px";u.height=g.h+"px";v.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new b(this.domNode);var u=n.get(this.ownerDocument);this._modalConnects=[e.on("resize",A.hitch(this,"layout")),t(u,"scroll",
A.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});k.show=function(u,v){var g=k._singleton;!g||g._destroyed?g=f._underlay=k._singleton=new k(u):u&&g.set(u);p.set(g.domNode,"zIndex",v);g.open||g.show()};k.hide=function(){var u=
k._singleton;u&&!u._destroyed&&u.hide()};return k})},"esri/Credential":function(){define(["dojo/_base/declare","dojo/has","./kernel","./IdentityManagerBase"],function(G,A,a,m){G=G(m.Credential,{});A("extend-esri")&&(a.Credential=G);return G})},"esri/IdentityManagerBase":function(){define("dojo/_base/declare dojo/_base/config dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/url dojo/sniff dojo/io-query dojo/on ./kernel ./config ./lang ./ServerInfo ./urlUtils ./deferredUtils ./request ./Evented ./OAuthCredential ./arcgis/OAuthInfo".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w){var B={},z=function(E){var I=(new t(E.owningSystemUrl)).host;E=(new t(E.server)).host;var J=/.+\.arcgis\.com$/i;return J.test(I)&&J.test(E)},C=function(E,I){return!!(z(E)&&I&&m.some(I,function(J){return J.test(E.server)}))},y=null,D=null;try{y=window.localStorage,D=window.sessionStorage}catch(E){}var F=G(q,{declaredClass:"esri.IdentityManagerBase",constructor:function(){this._portalConfig=a.getObject("esriGeowConfig");this.serverInfos=[];this.oAuthInfos=
[];this.credentials=[];this._soReqs=[];this._xoReqs=[];this._portals=[];this._getOAuthHash();c(window,"pageshow",a.hitch(this,this._pageShowHandler))},defaultOAuthInfo:null,defaultTokenValidity:60,tokenValidity:null,normalizeWebTierAuth:!1,_appUrlObj:u.urlToObject(window.location.href),_postMessageAuthHandle:null,_busy:null,_rejectOnPersistedPageShow:!1,_oAuthHash:null,_gwTokenUrl:"/sharing/generateToken",_agsRest:"/rest/services",_agsPortal:/\/sharing(\/|$)/i,_agsAdmin:/(https?:\/\/[^\/]+\/[^\/]+)\/admin\/?(\/.*)?$/i,
_adminSvcs:/\/rest\/admin\/services(\/|$)/i,_gwDomains:[{regex:/^https?:\/\/www\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/generateToken"},{regex:/^https?:\/\/(?:dev|[a-z\d-]+\.mapsdev)\.arcgis\.com/i,customBaseUrl:"mapsdev.arcgis.com",tokenServiceUrl:"https://dev.arcgis.com/sharing/generateToken"},{regex:/^https?:\/\/(?:devext|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,customBaseUrl:"mapsdevext.arcgis.com",tokenServiceUrl:"https://devext.arcgis.com/sharing/generateToken"},
{regex:/^https?:\/\/(?:qaext|[a-z\d-]+\.mapsqa)\.arcgis\.com/i,customBaseUrl:"mapsqa.arcgis.com",tokenServiceUrl:"https://qaext.arcgis.com/sharing/generateToken"},{regex:/^https?:\/\/[a-z\d-]+\.maps\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/generateToken"}],_legacyFed:[],_regexSDirUrl:/http.+\/rest\/services\/?/ig,_regexServerType:/(\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|MapServer|MobileServer|NAServer|NetworkDiagramServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer)).*/ig,
_gwUser:/http.+\/users\/([^\/]+)\/?.*/i,_gwItem:/http.+\/items\/([^\/]+)\/?.*/i,_gwGroup:/http.+\/groups\/([^\/]+)\/?.*/i,_errorCodes:[499,498,403,401],_rePortalTokenSvc:/\/sharing(\/rest)?\/generatetoken/i,_publicUrls:[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],_createDefaultOAuthInfo:!0,_hasTestedIfAppIsOnPortal:!1,registerServers:function(E){var I=this.serverInfos;I?(E=m.filter(E,function(J){return!this.findServerInfo(J.server)},this),this.serverInfos=I.concat(E)):
this.serverInfos=E;m.forEach(E,function(J){J.owningSystemUrl&&this._portals.push(J.owningSystemUrl);if(J.hasPortal){this._portals.push(J.server);var K=e.defaults.io.corsEnabledServers,L=this._getOrigin(J.tokenServiceUrl);u.canUseXhr(J.server)||K.push(J.server.replace(/^https?:\/\//i,""));u.canUseXhr(L)||K.push(L.replace(/^https?:\/\//i,""))}},this)},registerOAuthInfos:function(E){var I=this.oAuthInfos;I?(m.forEach(E,function(J){(J=this.findOAuthInfo(J.portalUrl))&&I.splice(I.indexOf(J),1)},this),
this.oAuthInfos=I.concat(E)):this.oAuthInfos=E},registerToken:function(E){E=f.mixin({},E);var I=this._sanitizeUrl(E.server),J=this.findServerInfo(I),K=!0,L;J||(J=new k,J.server=this._getServerInstanceRoot(I),J.tokenServiceUrl=this._getTokenSvcUrl(I),J.hasPortal=!0,this.registerServers([J]));(L=this.findCredential(I,E.userId))?(delete E.server,a.mixin(L,E),K=!1):(L=new H({userId:E.userId,server:J.server,token:E.token,expires:E.expires,ssl:E.ssl,scope:this._isServerRsrc(I)?"server":"portal"}),L.resources=
[I],this.credentials.push(L));L.onTokenChange(!1);K||L.refreshServerTokens()},toJson:function(){return f.fixJson({serverInfos:m.map(this.serverInfos,function(E){return E.toJson()}),oAuthInfos:m.map(this.oAuthInfos,function(E){return E.toJson()}),credentials:m.map(this.credentials,function(E){return E.toJson()})})},initialize:function(E){if(E){a.isString(E)&&(E=JSON.parse(E));var I=E.serverInfos,J=E.oAuthInfos;E=E.credentials;if(I){var K=[];m.forEach(I,function(O){O.server&&O.tokenServiceUrl&&K.push(O.declaredClass?
O:new k(O))});K.length&&this.registerServers(K)}if(J){var L=[];m.forEach(J,function(O){O.appId&&L.push(O.declaredClass?O:new w(O))});L.length&&this.registerOAuthInfos(L)}E&&m.forEach(E,function(O){O.userId&&O.server&&O.token&&O.expires&&O.expires>(new Date).getTime()&&(O=O.declaredClass?O:new H(O),O.onTokenChange(),this.credentials.push(O))},this)}},findServerInfo:function(E){var I;E=this._sanitizeUrl(E);m.some(this.serverInfos,function(J){this._hasSameServerInstance(J.server,E)&&(I=J);return!!I},
this);return I},findOAuthInfo:function(E){var I;E=this._sanitizeUrl(E);m.some(this.oAuthInfos,function(J){this._hasSameServerInstance(J.portalUrl,E)&&(I=J);return!!I},this);return I},findCredential:function(E,I){var J;E=this._sanitizeUrl(E);var K=this._isServerRsrc(E)?"server":"portal";I?m.some(this.credentials,function(L){this._hasSameServerInstance(L.server,E)&&I===L.userId&&L.scope===K&&(J=L);return!!J},this):m.some(this.credentials,function(L){this._hasSameServerInstance(L.server,E)&&-1!==this._getIdenticalSvcIdx(E,
L)&&L.scope===K&&(J=L);return!!J},this);return J},getCredential:function(E,I){var J=!0;if(f.isDefined(I))if(a.isObject(I)){var K=!!I.token;var L=I.error;J=!1!==I.prompt}else K=I;E=this._sanitizeUrl(E);var O=new p(v._dfdCanceller),U=this._isAdminResource(E);if((K=K?this.findCredential(E):null)&&L&&498===L.code)K.destroy();else if(K)return E=Error("You are currently signed in as: '"+K.userId+"'. You do not have access to this resource: "+E),E.name="identity-manager:not-authorized",E.code="IdentityManagerBase.1",
E.httpCode=L&&L.httpCode,E.messageCode=L?L.messageCode:null,E.subcode=L?L.subcode:null,E.details=L?L.details:null,E.log=!!A.isDebug,O.errback(E),O;if(L=this._findCredential(E,I))return O.callback(L),O;var S=this.findServerInfo(E);if(S)!S.hasServer&&this._isServerRsrc(E)&&(S._restInfoDfd=this._getTokenSvcUrl(E,!0),S.hasServer=!0);else{L=this._getTokenSvcUrl(E);if(!L)return E=Error("Unknown resource - could not find token service endpoint."),E.name="identity-manager:unknown-resource",E.code="IdentityManagerBase.2",
E.log=!!A.isDebug,O.errback(E),O;S=new k;S.server=this._getServerInstanceRoot(E);a.isString(L)?(S.tokenServiceUrl=L,S.hasPortal=!0):(S._restInfoDfd=L,S.hasServer=!0);this.registerServers([S])}S.hasPortal&&void 0===S._selfReq&&(J||u.hasSameOrigin(S.tokenServiceUrl,window.location.origin)||this._gwDomains.some(function(M){return M.tokenServiceUrl===S.tokenServiceUrl}))&&(S._selfReq={owningTenant:I&&I.owningTenant,selfDfd:this._getPortalSelf(S.tokenServiceUrl.replace(this._rePortalTokenSvc,"/sharing/rest/portals/self"),
E)});return this._enqueue(E,S,I,O,U)},getResourceName:function(E){return this._isRESTService(E)?E.replace(this._regexSDirUrl,"").replace(this._regexServerType,"")||"":this._gwUser.test(E)&&E.replace(this._gwUser,"$1")||this._gwItem.test(E)&&E.replace(this._gwItem,"$1")||this._gwGroup.test(E)&&E.replace(this._gwGroup,"$1")||""},generateToken:function(E,I,J){var K=this._rePortalTokenSvc.test(E.tokenServiceUrl),L=new t(window.location.href.toLowerCase()),O=!I;var U=E.shortLivedTokenValidity;if(I){var S=
b.id.tokenValidity||U||b.id.defaultTokenValidity;S>U&&(S=U)}if(J){var M=J.isAdmin;var N=J.serverUrl;var T=J.token;var V=J.ssl;E.customParameters=J.customParameters}if(M)U=E.adminTokenServiceUrl;else{U=E.tokenServiceUrl;var ea=new t(U.toLowerCase());E.webTierAuth&&J&&J.serverUrl&&!V&&"http"===L.scheme&&(u.hasSameOrigin(L.uri,U,!0)||"https"===ea.scheme&&L.host===ea.host&&"7080"===L.port&&"7443"===ea.port)&&(U=U.replace(/^https:/i,"http:").replace(/:7443/i,":7080"));O&&K&&(U=U.replace(/\/rest/i,""))}M=
a.mixin({url:U,content:a.mixin({request:"getToken",username:I&&I.username,password:I&&I.password,serverUrl:N,token:T,expiration:S,referer:M||K?window.location.host:null,client:M?"referer":null,f:"json"},E.customParameters),handleAs:"json",callbackParamName:O?"callback":void 0},J&&J.ioArgs);J={usePost:!O,disableIdentityLookup:!0,useProxy:this._useProxy(E,J)};K||(M.withCredentials=!1);K=g(M,J);K.addCallback(function(P){if(!P||!P.token)return P=Error("Unable to generate token"),P.name="identity-manager:authentication-failed",
P.code="IdentityManagerBase.3",P.log=!!A.isDebug,P;var ba=E.server;B[ba]||(B[ba]={});I&&(B[ba][I.username]=I.password);P.validity=S;return P});K.addErrback(function(P){});return K},isBusy:function(){return!!this._busy},checkSignInStatus:function(E){var I=new p;this.checkAppAccess(E,"").then(function(J){I.resolve(J.credential)}).catch(function(J){I.reject(J)});return I},checkAppAccess:function(E,I,J){var K=this,L=!1;return this.getCredential(E,{prompt:!1}).then(function(O){var U={f:"json"};if("portal"===
O.scope)if(I&&(K._doPortalSignIn(E)||J&&J.force)){var S=O.server+"/sharing/rest/oauth2/validateAppAccess";U.client_id=I}else if(O.token)S=O.server+"/sharing/rest";else return{credential:O};else if(O.token)S=O.server+"/rest/services";else return{credential:O};O.token&&(U.token=O.token);return g({url:S,content:U,callbackParamName:"callback"},{disableIdentityLookup:!0}).then(function(M){if(!1===M.valid){var N=Error("You are currently signed in as: '"+O.userId+"'.  You do not have access to this app: '"+
I+"'.");N.name="identity-manager:not-authorized";N.code="IdentityManagerBase.1";N.log=!!A.isDebug;N.details=M;throw N;}L=!!M.viewOnlyUserTypeApp;return{credential:O}}).catch(function(M){if("IdentityManagerBase.1"===M.code||400===M.code)throw 400===M.code&&(M.name="identity-manager:invalid-request"),M;if(498===M.code)throw O.destroy(),M=Error("User is not signed in."),M.name="identity-manager:not-authenticated",M.code="IdentityManagerBase.6",M.log=!!A.isDebug,M;return{credential:O}})}).then(function(O){return{credential:O.credential,
viewOnly:L}})},setProtocolErrorHandler:function(E){this._protocolFunc=E},signIn:function(){},oAuthSignIn:function(){},onCredentialCreate:function(){},onCredentialsDestroy:function(){},destroyCredentials:function(){if(this.credentials){var E=this.credentials.slice();m.forEach(E,function(I){I.destroy()})}this.onCredentialsDestroy()},enablePostMessageAuth:function(E){E||(E="https://www.arcgis.com/sharing/rest");this._postMessageAuthHandle&&this._postMessageAuthHandle.remove();this._postMessageAuthHandle=
c(window,"message",function(I){(I.origin===window.location.origin||f.endsWith(I.origin,".arcgis.com"))&&I.data&&"arcgis:auth:requestCredential"===I.data.type&&this.getCredential(E).then(function(J){I.source.postMessage({type:"arcgis:auth:credential",credential:{expires:J.expires,server:J.server,ssl:J.ssl,token:J.token,userId:J.userId}},I.origin)}).catch(function(J){I.source.postMessage({type:"arcgis:auth:error",error:{name:J.name,message:J.message}},I.origin)})}.bind(this))},disablePostMessageAuth:function(){this._postMessageAuthHandle&&
(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)},_getOAuthHash:function(){var E=window.location.hash;if(E){"#"===E.charAt(0)&&(E=E.substring(1));E=h.queryToObject(E);var I=!1;if(E.access_token&&E.expires_in&&E.state&&E.hasOwnProperty("username"))try{E.state=JSON.parse(E.state),"object"===typeof E.state&&E.state.portalUrl&&(this._oAuthHash=E,I=!0)}catch(J){}else E.error&&E.error_description&&(console.log("IdentityManager OAuth Error: ",E.error," - ",E.error_description),"access_denied"===
E.error&&(I=!0));I&&(window.location.hash=E.state&&E.state.hash||"")}},_pageShowHandler:function(E){E.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow&&(E=Error("ABORTED"),E.name="identity-manager:user-aborted",E.code="IdentityManager.2",E.log=!!A.isDebug,this._errbackFunc(E))},_findCredential:function(E,I){var J=-1,K,L,O=I&&I.token;I=I&&I.resource;var U=this._isServerRsrc(E)?"server":"portal",S=m.filter(this.credentials,function(V){return this._hasSameServerInstance(V.server,E)&&V.scope===
U},this);E=I||E;if(S.length)if(1===S.length){I=S[0];var M=(K=(L=this.findServerInfo(I.server))&&L.owningSystemUrl)&&this.findCredential(K,I.userId);J=this._getIdenticalSvcIdx(E,I);if(O)-1!==J&&(I.resources.splice(J,1),this._removeResource(E,M));else return-1===J&&I.resources.push(E),this._addResource(E,M),I}else{var N,T;m.some(S,function(V){T=this._getIdenticalSvcIdx(E,V);return-1!==T?(N=V,M=(K=(L=this.findServerInfo(N.server))&&L.owningSystemUrl)&&this.findCredential(K,N.userId),J=T,!0):!1},this);
if(O)N&&(N.resources.splice(J,1),this._removeResource(E,M));else if(N)return this._addResource(E,M),N}},_findOAuthInfo:function(E){var I=this.findOAuthInfo(E);I||m.some(this.oAuthInfos,function(J){this._isIdProvider(J.portalUrl,E)&&(I=J);return!!I},this);return I},_addResource:function(E,I){I&&-1===this._getIdenticalSvcIdx(E,I)&&I.resources.push(E)},_removeResource:function(E,I){var J=-1;I&&(J=this._getIdenticalSvcIdx(E,I),-1<J&&I.resources.splice(J,1))},_useProxy:function(E,I){return I&&I.isAdmin&&
!u.hasSameOrigin(E.adminTokenServiceUrl,window.location.href)||!this._isPortalDomain(E.tokenServiceUrl)&&10.1==E.currentVersion&&!u.hasSameOrigin(E.tokenServiceUrl,window.location.href)},_getOrigin:function(E){E=new t(E);return E.scheme+"://"+E.host+(f.isDefined(E.port)?":"+E.port:"")},_getServerInstanceRoot:function(E){var I=E.toLowerCase(),J=I.indexOf(this._agsRest);-1===J&&this._isAdminResource(E)&&(J=this._agsAdmin.test(E)?E.replace(this._agsAdmin,"$1").length:E.search(this._adminSvcs));-1===
J&&(J=I.indexOf("/sharing"));-1===J&&"/"===I.substr(-1)&&(J=I.length-1);return-1<J?E.substring(0,J):E},_hasSameServerInstance:function(E,I){"/"===E.substr(-1)&&(E=E.slice(0,-1));E=E.toLowerCase();I=this._getServerInstanceRoot(I).toLowerCase();E=this._normalizeAGOLorgDomain(E);I=this._normalizeAGOLorgDomain(I);E=E.substr(E.indexOf(":"));I=I.substr(I.indexOf(":"));return E===I},_normalizeAGOLorgDomain:function(E){var I=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,J=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,
K=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;I.test(E)?E=E.replace(I,"https://www.arcgis.com"):J.test(E)?E=E.replace(J,"https://devext.arcgis.com"):K.test(E)&&(E=E.replace(K,"https://qaext.arcgis.com"));return E},_sanitizeUrl:function(E){var I=(e.defaults.io.proxyUrl||"").toLowerCase(),J=I?E.toLowerCase().indexOf(I+"?"):-1;-1!==J&&(E=E.substring(J+I.length+1));E=u.normalize(E);return u.urlToObject(E).path},_isRESTService:function(E){return-1<E.indexOf(this._agsRest)},_isAdminResource:function(E){return this._agsAdmin.test(E)||
this._adminSvcs.test(E)},_isServerRsrc:function(E){return this._isRESTService(E)||this._isAdminResource(E)},_isIdenticalService:function(E,I){if(this._isRESTService(E)&&this._isRESTService(I)){E=this._getSuffix(E).toLowerCase();I=this._getSuffix(I).toLowerCase();var J=E===I;J||(J=/(.*)\/(MapServer|FeatureServer).*/ig,J=E.replace(J,"$1")===I.replace(J,"$1"))}else this._isAdminResource(E)&&this._isAdminResource(I)?J=!0:this._isServerRsrc(E)||this._isServerRsrc(I)||!this._isPortalDomain(E)||(J=!0);return J},
_isPortalDomain:function(E){var I=new t(E.toLowerCase()),J=this._portalConfig;E=m.some(this._gwDomains,function(K){return K.regex.test(I.uri)});!E&&J&&(E=this._hasSameServerInstance(this._getServerInstanceRoot(J.restBaseUrl),I.uri));E||(!this._arcgisUrl&&(J=a.getObject("esri.arcgis.utils.arcgisUrl"))&&(this._arcgisUrl=(new t(J)).authority),this._arcgisUrl&&(E=this._arcgisUrl.toLowerCase()===I.authority));E||(E=m.some(this._portals,function(K){return this._hasSameServerInstance(K,I.uri)},this));return E=
E||this._agsPortal.test(I.path)},_isIdProvider:function(E,I){var J=-1,K=-1;m.forEach(this._gwDomains,function(S,M){-1===J&&S.regex.test(E)&&(J=M);-1===K&&S.regex.test(I)&&(K=M)});var L=!1;if(-1<J&&-1<K)if(0===J||4===J){if(0===K||4===K)L=!0}else if(1===J){if(1===K||2===K)L=!0}else 2===J?2===K&&(L=!0):3===J&&3===K&&(L=!0);if(!L){var O=this.findServerInfo(I),U=O&&O.owningSystemUrl;U&&z(O)&&this._isPortalDomain(U)&&this._isIdProvider(E,U)&&(L=!0)}return L},_isPublic:function(E){E=this._sanitizeUrl(E);
return m.some(this._publicUrls,function(I){return I.test(E)})},_getIdenticalSvcIdx:function(E,I){var J=-1;m.some(I.resources,function(K,L){return this._isIdenticalService(E,K)?(J=L,!0):!1},this);return J},_getSuffix:function(E){return E.replace(this._regexSDirUrl,"").replace(this._regexServerType,"$1")},_getTokenSvcUrl:function(E){if(this._isRESTService(E)||this._isAdminResource(E)){var I=this._getServerInstanceRoot(E);var J=I+"/admin/generateToken";E=I+"/rest/info";I=g({url:E,content:{f:"json"},
handleAs:"json",callbackParamName:"callback"});I.adminUrl_=J;return I}if(this._isPortalDomain(E)){var K="";m.some(this._gwDomains,function(L){L.regex.test(E)&&(K=L.tokenServiceUrl);return!!K});K||m.some(this._portals,function(L){this._hasSameServerInstance(L,E)&&(K=L+this._gwTokenUrl);return!!K},this);K||(J=E.toLowerCase().indexOf("/sharing"),-1!==J&&(K=E.substring(0,J)+this._gwTokenUrl));K||(K=this._getOrigin(E)+this._gwTokenUrl);K&&(J=(new t(E)).port,/^http:\/\//i.test(E)&&"7080"===J&&(K=K.replace(/:7080/i,
":7443")),K=K.replace(/http:/i,"https:"));return K}if(-1!==E.toLowerCase().indexOf("premium.arcgisonline.com"))return"https://premium.arcgisonline.com/server/tokens"},_exchangeToken:function(E,I,J){return g({url:E+"/sharing/rest/oauth2/exchangeToken",content:{f:"json",client_id:I,token:J}},{disableIdentityLookup:!0,usePost:!0}).then(function(K){return K.token})},_getPlatformSelf:function(E,I){return g({url:E+"/sharing/rest/oauth2/platformSelf",content:{f:"json"},headers:{"X-Esri-Auth-Client-Id":I,
"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")},withCredentials:!0},{disableIdentityLookup:!0,usePost:!0})},_getPortalSelf:function(E,I){var J="";m.some(this._gwDomains,function(K){K.regex.test(E)&&(J=K.customBaseUrl);return!!J});if(J)return I=new p,I.resolve({allSSL:!0,currentVersion:"4.4",customBaseUrl:J,portalMode:"multitenant",supportsOAuth:!0}),I;"https:"===window.location.protocol?E=E.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(I)&&(E=E.replace(/^https:/i,
"http:").replace(/:7443/i,":7080"));return g({url:E,content:{f:"json"},handleAs:"json",callbackParamName:"callback"},{crossOrigin:!1,disableIdentityLookup:!0})},_doPortalSignIn:function(E){var I=this._portalConfig,J=window.location.href,K=this.findServerInfo(E);return(I||this._isPortalDomain(J))&&(K?K.hasPortal||K.owningSystemUrl&&this._isPortalDomain(K.owningSystemUrl):this._isPortalDomain(E))&&(this._isIdProvider(J,E)||I&&(this._hasSameServerInstance(this._getServerInstanceRoot(I.restBaseUrl),E)||
this._isIdProvider(I.restBaseUrl,E))||u.hasSameOrigin(J,E,!0))?!0:!1},_checkProtocol:function(E,I,J,K){var L=!0;K=K?I.adminTokenServiceUrl:I.tokenServiceUrl;0!==a.trim(K).toLowerCase().indexOf("https:")||0===window.location.href.toLowerCase().indexOf("https:")||e.defaults.io.useCors&&(u.canUseXhr(K)||u.canUseXhr(u.getProxyUrl(!0).path))||(L=this._protocolFunc?!!this._protocolFunc({resourceUrl:E,serverInfo:I}):!1,L||(E=Error("Aborted the Sign-In process to avoid sending password over insecure connection."),
E.name="identity-manager:aborted",E.code="IdentityManagerBase.4",E.log=!!A.isDebug,console.log(E.message),J(E)));return L},_enqueue:function(E,I,J,K,L,O){K||(K=new p(v._dfdCanceller));K.resUrl_=E;K.sinfo_=I;K.options_=J;K.admin_=L;K.refresh_=O;this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(E),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(K)):this._xoReqs.push(K):this._doSignIn(K);return K},_doSignIn:function(E){this._busy=
E;this._rejectOnPersistedPageShow=!1;var I=this,J=function(N){var T=E.options_&&E.options_.resource,V=E.resUrl_,ea=E.refresh_,P=!1;-1===m.indexOf(I.credentials,N)&&(ea&&-1!==m.indexOf(I.credentials,ea)?(ea.userId=N.userId,ea.token=N.token,ea.expires=N.expires,ea.validity=N.validity,ea.ssl=N.ssl,ea.creationTime=N.creationTime,P=!0,N=ea):I.credentials.push(N));N.resources||(N.resources=[]);N.resources.push(T||V);N.scope=I._isServerRsrc(V)?"server":"portal";N.onTokenChange();T=I._soReqs;var ba={};I._soReqs=
[];m.forEach(T,function(la){if(!this._isIdenticalService(V,la.resUrl_)){var Q=this._getSuffix(la.resUrl_);ba[Q]||(ba[Q]=!0,N.resources.push(la.resUrl_))}},I);E.callback(N);m.forEach(T,function(la){this._hasSameServerInstance(this._getServerInstanceRoot(V),la.resUrl_)?la.callback(N):this._soReqs.push(la)},I);I._busy=E.resUrl_=E.sinfo_=E.refresh_=null;if(!P)I.onCredentialCreate({credential:N});I._soReqs.length?I._doSignIn(I._soReqs.shift()):I._xoReqs.length&&I._doSignIn(I._xoReqs.shift())},K=function(N){E.errback(N);
I._busy=E.resUrl_=E.sinfo_=E.refresh_=null;I._soReqs.length?I._doSignIn(I._soReqs.shift()):I._xoReqs.length&&I._doSignIn(I._xoReqs.shift())},L=function(N,T,V,ea){var P=E.sinfo_,ba=!E.options_||!1!==E.options_.prompt,la=P.hasPortal&&I._findOAuthInfo(E.resUrl_);if(N)J(new H({userId:N,server:P.server,token:V||null,expires:f.isDefined(ea)?Number(ea):null,ssl:!!T}));else if(window!==window.parent&&I._appUrlObj.query&&I._appUrlObj.query["arcgis-auth-origin"]&&I._appUrlObj.query["arcgis-auth-portal"]&&I._hasSameServerInstance(I._getServerInstanceRoot(I._appUrlObj.query["arcgis-auth-portal"]),
E.resUrl_)){window.parent.postMessage({type:"arcgis:auth:requestCredential"},I._appUrlObj.query["arcgis-auth-origin"]);var Q=c(window,"message",function(va){if(va.source===window.parent&&va.data)if("arcgis:auth:credential"===va.data.type)Q.remove(),J(new H(va.data.credential));else if("arcgis:auth:error"===va.data.type){Q.remove();va=va.data.error;switch(va.name){case "identity-manager:busy":case "identity-manager:not-authorized":var Aa="IdentityManager.1";break;case "identity-manager:server-identification-failed":case "identity-manager:unknown-resource":case "identity-manager:user-aborted":Aa=
"IdentityManager.2";break;case "identity-manager:authentication-failed":Aa="IdentityManager.3";break;case "identity-manager:aborted":Aa="IdentityManager.4";break;case "identity-manager:not-authenticated":Aa="IdentityManager.6";break;case "identity-manager:invalid-request":Aa=400}var da=Error(va.message);da.name=va.name;da.code=Aa;da.log=!!A.isDebug;K(da)}})}else if(la){var Y=la._oAuthCred;Y||(N=new x(la,y),T=new x(la,D),N.isValid()&&T.isValid()?N.expires>T.expires?(Y=N,T.destroy()):(Y=T,N.destroy()):
Y=N.isValid()?N:T,la._oAuthCred=Y);if(Y.isValid()){var ja=new H({userId:Y.userId,server:P.server,token:Y.token,expires:Y.expires,ssl:Y.ssl,_oAuthCred:Y});la.appId!==Y.appId&&I._doPortalSignIn(E.resUrl_)?E._pendingDfd=I._exchangeToken(ja.server,la.appId,ja.token).then(function(va){ja.token=va;Y.token=va;Y.save();J(ja)}).catch(function(){J(ja)}):J(ja)}else if(I._oAuthHash&&I._hasSameServerInstance(la.portalUrl,I._oAuthHash.state.portalUrl))N=I._oAuthHash,ja=new H({userId:N.username,server:P.server,
token:N.access_token,expires:(new Date).getTime()+1E3*Number(N.expires_in),ssl:"true"===N.ssl,oAuthState:N.state,_oAuthCred:Y}),Y.storage=N.persist?y:D,Y.token=ja.token,Y.expires=ja.expires,Y.userId=ja.userId,Y.ssl=ja.ssl,Y.save(),I._oAuthHash=null,J(ja);else{var pa=function(){ba?E._pendingDfd=I.oAuthSignIn(E.resUrl_,P,la,E.options_).addCallbacks(J,K):(ka=Error("User is not signed in."),ka.name="identity-manager:not-authenticated",ka.code="IdentityManagerBase.6",ka.log=!!A.isDebug,K(ka))};I._doPortalSignIn(E.resUrl_)?
E._pendingDfd=I._getPlatformSelf(P.server,la.appId).then(function(va){var Aa=va.portalUrl;!Aa||u.hasSameOrigin(Aa,window.location.origin,!0)?(ja=new H({server:P.server,userId:va.username,token:va.token}),J(ja)):pa()}).catch(pa):pa()}}else if(ba)I._checkProtocol(E.resUrl_,P,K,E.admin_)&&(N=E.options_,E.admin_&&(N=N||{},N.isAdmin=!0),E._pendingDfd=I.signIn(E.resUrl_,P,N).addCallbacks(J,K));else{var ka=Error("User is not signed in.");ka.name="identity-manager:not-authenticated";ka.code="IdentityManagerBase.6";
ka.log=!!A.isDebug;K(ka)}},O=function(){var N=E.sinfo_,T=N.owningSystemUrl,V=E.options_,ea;if(V){var P=V.token;var ba=V.error;var la=V.prompt}(ea=I._findCredential(T,{token:P,resource:E.resUrl_}))||m.some(I.credentials,function(Q){this._isIdProvider(T,Q.server)&&(ea=Q);return!!ea},I);ea?(V=I.findCredential(E.resUrl_,ea.userId))?J(V):C(N,I._legacyFed)?(V=ea.toJson(),V.server=N.server,V.resources=null,J(new H(V))):(E._pendingDfd=I.generateToken(I.findServerInfo(ea.server),null,{serverUrl:E.resUrl_,
token:ea.token,ssl:ea.ssl})).addCallbacks(function(Q){J(new H({userId:ea.userId,server:N.server,token:Q.token,expires:f.isDefined(Q.expires)?Number(Q.expires):null,ssl:!!Q.ssl,isAdmin:E.admin_,validity:Q.validity}))},K):(I._busy=null,P&&(E.options_.token=null),(E._pendingDfd=I.getCredential(T.replace(/\/?$/,"/sharing"),{resource:E.resUrl_,owningTenant:N.owningTenant,token:P,error:ba,prompt:la})).addCallbacks(function(Q){I._enqueue(E.resUrl_,E.sinfo_,E.options_,E,E.admin_)},function(Q){K(Q)}))};this._errbackFunc=
K;var U=E.sinfo_.owningSystemUrl,S=this._isServerRsrc(E.resUrl_),M=E.sinfo_._restInfoDfd;M?M.addCallbacks(function(N){var T=E.sinfo_;T._restInfoDfd&&(T.adminTokenServiceUrl=T._restInfoDfd.adminUrl_,T._restInfoDfd=null,T.tokenServiceUrl=a.getObject("authInfo.tokenServicesUrl",!1,N)||a.getObject("authInfo.tokenServiceUrl",!1,N)||a.getObject("tokenServiceUrl",!1,N),T.shortLivedTokenValidity=a.getObject("authInfo.shortLivedTokenValidity",!1,N),T.currentVersion=N.currentVersion,T.owningTenant=N.owningTenant,
(N=T.owningSystemUrl=N.owningSystemUrl)&&I._portals.push(N));S&&T.owningSystemUrl?O():L()},function(){E.sinfo_._restInfoDfd=null;var N=Error("Unknown resource - could not find token service endpoint.");N.name="identity-manager:server-identification-failed";N.code="IdentityManagerBase.2";N.log=!!A.isDebug;K(N)}):S&&U?O():E.sinfo_._selfReq?E.sinfo_._selfReq.selfDfd.then(function(N){var T={};if(N){var V=N.user&&N.user.username;T.username=V;T.allSSL=N.allSSL;var ea=N.supportsOAuth;var P=N.currentVersion;
if("multitenant"===N.portalMode)var ba=N.customBaseUrl}E.sinfo_.webTierAuth=!!V;return V&&I.normalizeWebTierAuth?I.generateToken(E.sinfo_,null,{ssl:T.allSSL}).addBoth(function(la){T.portalToken=la&&la.token;T.tokenExpiration=la&&la.expires;return T}):!V&&ea&&4.4<=parseFloat(P)&&!I._findOAuthInfo(E.resUrl_)?I._generateOAuthInfo({portalUrl:E.sinfo_.server,customBaseUrl:ba,owningTenant:E.sinfo_._selfReq.owningTenant}).always(function(){return T}):T}).always(function(N){E.sinfo_._selfReq=null;N?L(N.username,
N.allSSL,N.portalToken,N.tokenExpiration):L()}):L()},_generateOAuthInfo:function(E){var I=this,J=E.portalUrl,K=E.customBaseUrl,L=E.owningTenant;if(E=!this.defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal){var O=window.location.href;var U=O.indexOf("?");-1<U&&(O=O.slice(0,U));U=O.search(/\/(apps|home)\//);O=-1<U?O.slice(0,U):null}E&&O?(this._hasTestedIfAppIsOnPortal=!0,E=g({url:O+"/sharing/rest",content:{f:"json"},handleAs:"json"}).then(function(){I.defaultOAuthInfo=
new w({appId:"arcgisonline",popupCallbackUrl:O+"/home/oauth-callback.html"})})):(E=new p,E.resolve(),E=E.promise);return E.then(function(){if(I.defaultOAuthInfo)return J=J.replace(/^http:/i,"https:"),g({url:J+"/sharing/rest/oauth2/validateRedirectUri",content:{accountId:L,client_id:I.defaultOAuthInfo.appId,redirect_uri:u.getAbsoluteUrl(I.defaultOAuthInfo.popupCallbackUrl),f:"json"},handleAs:"json",callbackParamName:"callback"}).then(function(S){if(S.valid){var M=I.defaultOAuthInfo.clone();M.portalUrl=
S.urlKey&&K?"https://"+S.urlKey.toLowerCase()+"."+K:J;M.popup=!(u.hasSameOrigin(J,window.location.origin)||I._gwDomains.some(function(N){return N.regex.test(J)&&N.regex.test(window.location.origin)}));I.oAuthInfos.push(M)}})})}});var H=G(q,{declaredClass:"esri.Credential",tokenRefreshBuffer:2,constructor:function(E){a.mixin(this,E);this.resources=this.resources||[];f.isDefined(this.creationTime)||(this.creationTime=(new Date).getTime())},_oAuthCred:null,refreshToken:function(){var E=this,I=this.resources&&
this.resources[0],J=b.id.findServerInfo(this.server),K=J&&J.owningSystemUrl,L=!!K&&"server"===this.scope,O=L&&C(J,b.id._legacyFed),U=L&&b.id.findServerInfo(K),S,M=(S=J.webTierAuth)&&b.id.normalizeWebTierAuth,N=B[this.server];N=N&&N[this.userId];var T={username:this.userId,password:N};if(!S||M)if(L&&!U&&m.some(b.id.serverInfos,function(P){b.id._isIdProvider(K,P.server)&&(U=P);return!!U}),S=U&&b.id.findCredential(U.server,this.userId),!L||S)if(O)S.refreshToken();else{if(L)var V={serverUrl:I,token:S&&
S.token,ssl:S&&S.ssl};else if(M)T=null,V={ssl:this.ssl};else if(N)this.isAdmin&&(V={isAdmin:!0});else{if(I){I=b.id._sanitizeUrl(I);this._enqueued=1;var ea=b.id._enqueue(I,J,null,null,this.isAdmin,this);ea.addCallback(function(){E._enqueued=0;E.refreshServerTokens()}).addErrback(function(){E._enqueued=0})}return ea}return b.id.generateToken(L?U:J,L?null:T,V).addCallback(function(P){E.token=P.token;E.expires=f.isDefined(P.expires)?Number(P.expires):null;E.creationTime=(new Date).getTime();E.validity=
P.validity;E.onTokenChange();E.refreshServerTokens()}).addErrback(function(){})}},refreshServerTokens:function(){"portal"===this.scope&&m.forEach(b.id.credentials,function(E){var I=b.id.findServerInfo(E.server),J=I&&I.owningSystemUrl;E!==this&&E.userId===this.userId&&J&&"server"===E.scope&&(b.id._hasSameServerInstance(this.server,J)||b.id._isIdProvider(J,this.server))&&(C(I,b.id._legacyFed)?(E.token=this.token,E.expires=this.expires,E.creationTime=this.creationTime,E.validity=this.validity,E.onTokenChange()):
E.refreshToken())},this)},onTokenChange:function(E){clearTimeout(this._refreshTimer);var I=this.server&&b.id.findServerInfo(this.server),J=(I=I&&I.owningSystemUrl)&&b.id.findServerInfo(I);!1!==E&&(!I||"portal"===this.scope||J&&J.webTierAuth&&!b.id.normalizeWebTierAuth)&&(f.isDefined(this.expires)||f.isDefined(this.validity))&&this._startRefreshTimer()},onDestroy:function(){},destroy:function(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null;this._oAuthCred&&
(this._oAuthCred.destroy(),this._oAuthCred=null);var E=m.indexOf(b.id.credentials,this);-1<E&&b.id.credentials.splice(E,1);this.onTokenChange();this.onDestroy()},toJson:function(){return this._toJson()},_toJson:function(){var E=f.fixJson({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),I=this.resources;I&&0<I.length&&(E.resources=I.slice());return E},_startRefreshTimer:function(){clearTimeout(this._refreshTimer);
var E=6E4*this.tokenRefreshBuffer,I=(this.validity?this.creationTime+6E4*this.validity:this.expires)-(new Date).getTime();0>I&&(I=0);this._refreshTimer=setTimeout(a.hitch(this,this.refreshToken),I>E?I-E:I)}});F.Credential=H;n("extend-esri")&&(b.IdentityManagerBase=F);return F})},"esri/ServerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","./kernel","./lang"],function(G,A,a,m,p){G=G(null,{declaredClass:"esri.ServerInfo",constructor:function(t){A.mixin(this,t)},toJson:function(){return p.fixJson({server:this.server,
tokenServiceUrl:this.tokenServiceUrl,adminTokenServiceUrl:this.adminTokenServiceUrl,shortLivedTokenValidity:this.shortLivedTokenValidity,owningSystemUrl:this.owningSystemUrl,owningTenant:this.owningTenant,currentVersion:this.currentVersion,hasPortal:this.hasPortal,hasServer:this.hasServer,webTierAuth:this.webTierAuth})}});a("extend-esri")&&(m.ServerInfo=G);return G})},"esri/OAuthCredential":function(){define(["./kernel","dojo/_base/declare","dojo/has","dojo/json"],function(G,A,a,m){A=A(null,{declaredClass:"esri.OAuthCredential",
oAuthInfo:null,storage:null,appId:null,expires:null,ssl:null,token:null,userId:null,constructor:function(p,t){this.oAuthInfo=p;this.storage=t;this._init()},isValid:function(){var p=!1;if(this.oAuthInfo&&this.token&&this.userId){var t=(new Date).getTime();this.expires>t&&(this.expires-t)/1E3>60*this.oAuthInfo.minTimeUntilExpiration&&(p=!0)}return p},save:function(){if(this.storage){var p=this._load(),t=this.oAuthInfo;if(t&&t.authNamespace&&t.portalUrl){var n=p[t.authNamespace];n||(n=p[t.authNamespace]=
{});n[t.portalUrl]={appId:this.appId=t.appId,expires:this.expires,ssl:this.ssl,token:this.token,userId:this.userId};try{this.storage.setItem("esriJSAPIOAuth",m.stringify(p))}catch(h){console.log(h)}}}},destroy:function(){var p=this._load(),t=this.oAuthInfo;if(t&&t.appId&&t.portalUrl&&this.token&&this.expires>Date.now()){var n=t.portalUrl.replace(/^http:/i,"https:")+"/sharing/rest/oauth2/revokeToken",h=new FormData;h.append("f","json");h.append("auth_token",this.token);h.append("client_id",t.appId);
h.append("token_type_hint","access_token");if("function"===typeof navigator.sendBeacon)navigator.sendBeacon(n,h);else{var c=new XMLHttpRequest;c.open("POST",n);c.send(h)}}if(t&&t.authNamespace&&t.portalUrl&&this.storage&&(n=p[t.authNamespace])){delete n[t.portalUrl];try{this.storage.setItem("esriJSAPIOAuth",m.stringify(p))}catch(b){console.log(b)}}t&&(this.oAuthInfo=t._oAuthCred=null)},_init:function(){var p=this._load(),t=this.oAuthInfo;t&&t.authNamespace&&t.portalUrl&&(p=p[t.authNamespace])&&(p=
p[t.portalUrl])&&(this.appId=p.appId,this.expires=p.expires,this.ssl=p.ssl,this.token=p.token,this.userId=p.userId)},_load:function(){var p={};if(this.storage){var t=this.storage.getItem("esriJSAPIOAuth");if(t)try{p=m.parse(t)}catch(n){console.log(n)}}return p}});a("extend-esri")&&(G.OAuthCredential=A);return A})},"esri/arcgis/OAuthInfo":function(){define(["../kernel","../lang","dojo/_base/declare","dojo/_base/lang","dojo/has"],function(G,A,a,m,p){var t=a(null,{declaredClass:"esri.arcgis.OAuthInfo",
constructor:function(n){m.mixin(this,{expiration:20160,minTimeUntilExpiration:30,portalUrl:"https://www.arcgis.com",authNamespace:"/",forceLogin:!1,popup:!1,popupCallbackUrl:"oauth-callback.html",popupWindowFeatures:"height\x3d490,width\x3d800,resizable,scrollbars,status",preserveUrlHash:!1},n)},_oAuthCred:null,toJson:function(){return A.fixJson({appId:this.appId,expiration:this.expiration,locale:this.locale,minTimeUntilExpiration:this.minTimeUntilExpiration,portalUrl:this.portalUrl,authNamespace:this.authNamespace,
forceLogin:this.forceLogin,popup:this.popup,popupCallbackUrl:this.popupCallbackUrl,popupWindowFeatures:this.popupWindowFeatures,preserveUrlHash:this.preserveUrlHash})},clone:function(){return new t(this.toJson())}});p("extend-esri")&&m.setObject("arcgis.OAuthInfo",t,G);return t})},"dijit/form/Form":function(){define("dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/sniff ../_Widget ../_TemplatedMixin ./_FormMixin ../layout/_ContentPaneResizeMixin".split(" "),function(G,A,a,m,p,t,n,h){return G("dijit.form.Form",
[p,t,n,h],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"\x3cform data-dojo-attach-point\x3d'containerNode' data-dojo-attach-event\x3d'onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}\x3e\x3c/form\x3e",postMixInProperties:function(){this.nameAttrSetting=this.name?"name\x3d'"+this.name+"'":"";this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(c){A.set(this.domNode,"encType",c);m("ie")&&(this.domNode.encoding=
c);this._set("encType",c)},reset:function(c){var b={returnValue:!0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:c?c.target:this.domNode,target:c?c.target:this.domNode};!1!==this.onReset(b)&&b.returnValue&&this.inherited(arguments,[])},onReset:function(){return!0},_onReset:function(c){this.reset(c);c.stopPropagation();c.preventDefault();return!1},_onSubmit:function(c){var b=this.constructor.prototype;if(this.execute!=b.execute||this.onExecute!=b.onExecute)a.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.",
"","2.0"),this.onExecute(),this.execute(this.getValues());!1===this.onSubmit(c)&&(c.stopPropagation(),c.preventDefault())},onSubmit:function(){return this.isValid()},submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(G,A,a,m,p,t,n){var h=G("dijit.form.ValidationTextBox",
p,{templateString:n,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(c,b){b!=h.prototype[c]&&(A.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+c+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(c){this._deprecateRegExp("regExpGen",c);this._set("regExpGen",this._computeRegexp)},
_setRegExpAttr:function(c){this._deprecateRegExp("regExp",c)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(c,b){return(new RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$")).test(c)&&(!this.required||!this._isEmpty(c))&&(this._isEmpty(c)||void 0!==this.parse(c,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(c){return(this.trim?
/^\s*$/:/^$/).test(c)},getErrorMessage:function(){var c="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:c;return this.required&&this._isEmpty(this.textbox.value)?b:c},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(c){var b="",e=this.disabled||this.isValid(c);e&&(this._maskValidSubsetError=
!0);var f=this._isEmpty(this.textbox.value),k=!e&&c&&this._isValidSubset();this._set("state",e?"":((!this._hasBeenBlurred||c)&&f||k)&&(this._maskValidSubsetError||k&&!this._hasBeenBlurred&&c)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=c&&k,b=this.getErrorMessage(c)):"Incomplete"==this.state?(b=this.getPromptMessage(c),this._maskValidSubsetError=!this._hasBeenBlurred||c):f&&(b=this.getPromptMessage(c));
this.set("message",b);return e},displayMessage:function(c){c&&this.focused?t.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):t.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(c){this.constraints=a.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(c){!c.locale&&this.lang&&(c.locale=this.lang);
this._set("constraints",c);this._refreshState()},_setPatternAttr:function(c){this._set("pattern",c);this._refreshState()},_computeRegexp:function(c){var b=this.pattern;"function"==typeof b&&(b=b.call(this,c));if(b!=this._lastRegExp){var e="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(f){switch(f.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":e+=f;break;case ")":e+="|$)";break;default:e+="(?:"+f+"|$)"}});try{"".search(e)}catch(f){e=
this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+e+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=m.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(c){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(c){this._set("required",c);this.focusNode.setAttribute("aria-required",c);this._refreshState()},_setMessageAttr:function(c){this._set("message",
c);this.displayMessage(c)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){t.hide(this.domNode);this.inherited(arguments)}});return h})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(G,A,
a,m,p,t,n,h,c,b,e){h=G("dijit.form.TextBox"+(n("dojo-bidi")?"_NoBidi":""),[h,c],{templateString:b,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:n("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var f=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==
f||"file"==f)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>n("ie")&&this.defer(function(){try{var f=a.getComputedStyle(this.domNode);if(f){var k=f.fontFamily;if(k){var u=this.domNode.getElementsByTagName("INPUT");if(u)for(f=0;f<u.length;f++)u[f].style.fontFamily=k}}}catch(v){}})},_setPlaceHolderAttr:function(f){this._set("placeHolder",f);this._phspan||(this._attachPoints.push("_phspan"),
this._phspan=A.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(t(this._phspan,"mousedown",function(k){k.preventDefault()}),t(this._phspan,"touchend, pointerup, MSPointerUp",p.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(f));this._updatePlaceHolder()},_onInput:function(f){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(f,k,u){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){m.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(f){m.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
f)},_onBlur:function(f){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),n("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(f){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder())}});9>n("ie")&&(h.prototype._isTextSelected=function(){var f=this.ownerDocument.selection.createRange();return f.parentElement()==this.textbox&&0<f.text.length},e._setSelectionRange=c._setSelectionRange=function(f,
k,u){f.createTextRange&&(f=f.createTextRange(),f.collapse(!0),f.moveStart("character",-99999),f.moveStart("character",k),f.moveEnd("character",u-k),f.select())});n("dojo-bidi")&&(h=G("dijit.form.TextBox",h,{_setPlaceHolderAttr:function(f){this.inherited(arguments);this.applyTextDir(this._phspan)}}));return h})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(G,A,a,m){return G("dijit.form._FormValueWidget",[a,m],{_layoutHackIE7:function(){if(7==
A("ie"))for(var p=this.domNode,t=p.parentNode,n=p.firstChild||p,h=n.style.filter,c=this;t&&0==t.clientHeight;)(function(){var b=c.connect(t,"onscroll",function(){c.disconnect(b);n.style.filter=(new Date).getMilliseconds();c.defer(function(){n.style.filter=h})})})(),t=t.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormWidgetMixin".split(" "),function(G,A,a,m,p,t,n){return G("dijit.form._FormValueMixin",
n,{readOnly:!1,_setReadOnlyAttr:function(h){t("trident")&&"disabled"in this?A.set(this.focusNode,"readOnly",h||this.disabled):A.set(this.focusNode,"readOnly",h);this._set("readOnly",h)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(h,c){this._handleOnChange(h,c)},_handleOnChange:function(h,c){this._set("value",h);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,
!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/sniff dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(G,A,a,m,p,t,n,h){var c=A("dijit.form._TextBoxMixin"+(m("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),
this.constraints)},_setValueAttr:function(b,e,f){if(void 0!==b){var k=this.filter(b);"string"!=typeof f&&(f=null===k||"number"==typeof k&&isNaN(k)?"":this.filter(this.format(k,this.constraints)),0!=this.compare(k,this.filter(this.parse(f,this.constraints)))&&(f=null))}null==f||"number"==typeof f&&isNaN(f)||this.textbox.value==f||(this.textbox.value=f,this._set("displayedValue",this.get("displayedValue")));this.inherited(arguments,[k,e])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},
_setDisplayedValueAttr:function(b){null==b?b="":"string"!=typeof b&&(b=String(b));this.textbox.value=b;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(b){return null==b?"":b.toString?b.toString():b},parse:function(b){return b},_refreshState:function(){},onInput:function(){},_onInput:function(b){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||b);delete this._lastInputProducingEvent;this.intermediateChanges&&
this._handleOnChange(this.get("value"),!1)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(n(this.textbox,"keydown, keypress, paste, cut, compositionend",t.hitch(this,function(b){if("keydown"==b.type&&229!=b.keyCode){var e=b.keyCode;switch(e){case p.SHIFT:case p.ALT:case p.CTRL:case p.META:case p.CAPS_LOCK:case p.NUM_LOCK:case p.SCROLL_LOCK:return}if(!b.ctrlKey&&
!b.metaKey&&!b.altKey){switch(e){case p.NUMPAD_0:case p.NUMPAD_1:case p.NUMPAD_2:case p.NUMPAD_3:case p.NUMPAD_4:case p.NUMPAD_5:case p.NUMPAD_6:case p.NUMPAD_7:case p.NUMPAD_8:case p.NUMPAD_9:case p.NUMPAD_MULTIPLY:case p.NUMPAD_PLUS:case p.NUMPAD_ENTER:case p.NUMPAD_MINUS:case p.NUMPAD_PERIOD:case p.NUMPAD_DIVIDE:return}if(65<=e&&90>=e||48<=e&&57>=e||e==p.SPACE)return;e=!1;for(var f in p)if(p[f]===b.keyCode){e=!0;break}if(!e)return}}(e=32<=b.charCode?String.fromCharCode(b.charCode):b.charCode)||
(e=65<=b.keyCode&&90>=b.keyCode||48<=b.keyCode&&57>=b.keyCode||b.keyCode==p.SPACE?String.fromCharCode(b.keyCode):b.keyCode);e||(e=229);if("keypress"==b.type){if("string"!=typeof e)return;if("a"<=e&&"z">=e||"A"<=e&&"Z">=e||"0"<=e&&"9">=e||" "===e)if(b.ctrlKey||b.metaKey||b.altKey)return}var k={faux:!0},u;for(u in b)/^(layer[XY]|returnValue|keyLocation)$/.test(u)||(f=b[u],"function"!=typeof f&&"undefined"!=typeof f&&(k[u]=f));t.mixin(k,{charOrCode:e,_wasConsumed:!1,preventDefault:function(){k._wasConsumed=
!0;b.preventDefault()},stopPropagation:function(){b.stopPropagation()}});this._lastInputProducingEvent=k;!1===this.onInput(k)&&(k.preventDefault(),k.stopPropagation());if(!k._wasConsumed&&9>=m("ie"))switch(b.keyCode){case p.TAB:case p.ESCAPE:case p.DOWN_ARROW:case p.UP_ARROW:case p.LEFT_ARROW:case p.RIGHT_ARROW:break;default:b.keyCode==p.ENTER&&"textarea"!=this.textbox.tagName.toLowerCase()||this.defer(function(){this.textbox.value!==this._lastInputEventValue&&n.emit(this.textbox,"input",{bubbles:!0})})}})),
n(this.textbox,"input",t.hitch(this,"_onInput")),n(this.domNode,"keypress",function(b){b.stopPropagation()}))},_blankValue:"",filter:function(b){if(null===b)return this._blankValue;if("string"!=typeof b)return b;this.trim&&(b=t.trim(b));this.uppercase&&(b=b.toUpperCase());this.lowercase&&(b=b.toLowerCase());this.propercase&&(b=b.replace(/[^\s]+/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}));return b},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(b){this.disabled||
(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(b){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==b&&(this._selectOnClickHandle=n.once(this.domNode,"mouseup, touchend",t.hitch(this,function(e){this._isTextSelected()||c.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=
null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});m("dojo-bidi")&&(c=A("dijit.form._TextBoxMixin",c,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));c._setSelectionRange=h._setSelectionRange=function(b,e,
f){b.setSelectionRange&&b.setSelectionRange(e,f)};c.selectInputText=h.selectInputText=function(b,e,f){b=a.byId(b);isNaN(e)&&(e=0);isNaN(f)&&(f=b.value?b.value.length:0);try{b.focus(),c._setSelectionRange(b,e,f)}catch(k){}};return c})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x){function w(){}var B=A("dijit._MasterTooltip",[u,v],{duration:f.defaultDuration,templateString:q,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new g(this.domNode);this.fadeIn=a.fadeIn({node:this.domNode,duration:this.duration,onEnd:h.hitch(this,"_onShow")});this.fadeOut=a.fadeOut({node:this.domNode,duration:this.duration,onEnd:h.hitch(this,"_onHide")})},show:function(C,y,D,F,H,E,I){if(!this.aroundNode||this.aroundNode!==
y||this.containerNode.innerHTML!=C)if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=C;H&&this.set("textDir",H);this.containerNode.align=F?"right":"left";var J=k.around(this.domNode,y,D&&D.length?D:z.defaultPosition,!F,h.hitch(this,"orient")),K=J.aroundNodePos;"M"==J.corner.charAt(0)&&"M"==J.aroundCorner.charAt(0)?(this.connectorNode.style.top=K.y+(K.h-this.connectorNode.offsetHeight>>1)-J.y+"px",this.connectorNode.style.left=""):"M"==J.corner.charAt(1)&&
"M"==J.aroundCorner.charAt(1)?this.connectorNode.style.left=K.x+(K.w-this.connectorNode.offsetWidth>>1)-J.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");n.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=y;this.onMouseEnter=E||w;this.onMouseLeave=I||w}},orient:function(C,y,D,F,H){this.connectorNode.style.top="";var E=F.h;F=F.w;C.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove",
"BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[y+"-"+D];this.domNode.style.width="auto";var I=t.position(this.domNode);if(e("ie")||e("trident"))I.w+=2;t.setMarginBox(this.domNode,{w:Math.min(Math.max(F,1),I.w)});"B"==D.charAt(0)&&"B"==y.charAt(0)?(C=t.position(C),y=this.connectorNode.offsetHeight,
C.h>E?(this.connectorNode.style.top=E-(H.h+y>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(H.h/2-y/2,0),C.h-y)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,I.w-F)},_onShow:function(){e("ie")&&(this.domNode.style.filter="")},hide:function(C){this._onDeck&&this._onDeck[1]==C?this._onDeck=null:this.aroundNode===C&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=
null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=w},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});e("dojo-bidi")&&B.extend({_setAutoTextDir:function(C){this.applyTextDir(C);G.forEach(C.children,function(y){this._setAutoTextDir(y)},this)},_setTextDirAttr:function(C){this._set("textDir",C);"auto"==C?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});x.showTooltip=
function(C,y,D,F,H,E,I){D&&(D=G.map(D,function(J){return{after:"after-centered",before:"before-centered"}[J]||J}));z._masterTT||(x._masterTT=z._masterTT=new B);return z._masterTT.show(C,y,D,F,H,E,I)};x.hideTooltip=function(C){return z._masterTT&&z._masterTT.hide(C)};var z=A("dijit.Tooltip",u,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(C){G.forEach(this._connections||[],function(y){G.forEach(y,function(D){D.remove()})},this);this._connectIds=
G.filter(h.isArrayLike(C)?C:C?[C]:[],function(y){return m.byId(y,this.ownerDocument)},this);this._connections=G.map(this._connectIds,function(y){y=m.byId(y,this.ownerDocument);var D=this.selector,F=D?function(E){return b.selector(D,E)}:function(E){return E},H=this;return[b(y,F(c.enter),function(){H._onHover(this)}),b(y,F("focusin"),function(){H._onHover(this)}),b(y,F(c.leave),h.hitch(H,"_onUnHover")),b(y,F("focusout"),h.hitch(H,"set","state","DORMANT"))]},this);this._set("connectId",C)},addTarget:function(C){C=
C.id||C;-1==G.indexOf(this._connectIds,C)&&this.set("connectId",this._connectIds.concat(C))},removeTarget:function(C){C=G.indexOf(this._connectIds,C.id||C);0<=C&&(this._connectIds.splice(C,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);p.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var C=this.connectId;G.forEach(h.isArrayLike(C)?C:[C],this.addTarget,this)},getContent:function(C){return this.label||this.domNode.innerHTML},
state:"DORMANT",_setStateAttr:function(C){if(!(this.state==C||"SHOW TIMER"==C&&"SHOWING"==this.state||"HIDE TIMER"==C&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(C){case "DORMANT":this._connectNode&&(z.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},
this.showDelay));break;case "SHOWING":var y=this.getContent(this._connectNode);if(!y){this.set("state","DORMANT");return}z.show(y,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,h.hitch(this,"set","state","SHOWING"),h.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",C)}},_onHover:function(C){this._connectNode&&C!=this._connectNode&&
this.set("state","DORMANT");this._connectNode=C;this.set("state","SHOW TIMER")},_onUnHover:function(C){this.set("state","HIDE TIMER")},open:function(C){this.set("state","DORMANT");this._connectNode=C;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");G.forEach(this._connections||[],function(C){G.forEach(C,function(y){y.remove()})},this);this.inherited(arguments)}});z._MasterTooltip=B;z.show=
x.showTooltip;z.hide=x.hideTooltip;z.defaultPosition=["after-centered","before-centered"];return z})},"esri/OAuthSignInHandler":function(){define("./Credential ./domUtils ./lang ./urlUtils dijit/Dialog dijit/registry dojo/_base/config dojo/_base/Deferred dojo/_base/kernel dojo/dom-attr dojo/i18n!./nls/jsapi dojo/io-query dojo/sniff dojo/json dijit/form/Button dojo/query".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u){var v=null,g=null;try{v=window.localStorage,g=window.sessionStorage}catch(q){}return{_oAuthDfd:null,
_oAuthIntervalId:0,_oAuthDialogContent:"\x3cdiv class\x3d'dijitDialogPaneContentArea'\x3e\x3cdiv style\x3d'padding-bottom: 5px; word-wrap: break-word;'\x3e${oAuthInfo}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'esriErrorMsg' style\x3d'display: none; color: white; background-color: #D46464; text-align: center; padding-top: 3px; padding-bottom: 3px;'\x3e${invalidUser}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitDialogPaneActionBar'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdSubmit\"'\x3e${lblOk}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdCancel\"'\x3e${lblCancel}\x3c/button\x3e\x3c/div\x3e",
setOAuthRedirectionHandler:function(q){this._oAuthRedirectFunc=q},oAuthSignIn:function(q,x,w,B){var z=this._oAuthDfd=new h;z.resUrl_=q;z.sinfo_=x;z.oinfo_=w;var C=!B||!1!==B.oAuthPopupConfirmation;if(!w.popup||!C)return this._doOAuthSignIn(q,x,w),z;this._nls||(this._nls=e.identity);this.oAuthDialog||(this.oAuthDialog=this._createOAuthDialog());q=this.oAuthDialog;w=B&&B.error;B=B&&B.token;A.hide(q.errMsg_);w&&403==w.code&&B&&(b.set(q.errMsg_,"innerHTML",this._nls.forbidden),A.show(q.errMsg_));b.set(q.serverLink_,
{title:x.server,innerHTML:-1!==x.server.toLowerCase().indexOf("arcgis.com")?"ArcGIS Online":x.server});q.show();return z},setOAuthResponseHash:function(q){var x=this._oAuthDfd;this._oAuthDfd=null;if(x&&q)if(clearInterval(this._oAuthIntervalId),"#"===q.charAt(0)&&(q=q.substring(1)),q=f.queryToObject(q),q.error){var w="access_denied"===q.error;q=Error(w?"ABORTED":"OAuth: "+q.error+" - "+q.error_description);q.name=w?"identity-manager:user-aborted":"identity-manager:authentication-failed";q.code="IdentityManagerBase."+
(w?2:3);q.log=!!n.isDebug;x.errback(q)}else{w=x.oinfo_._oAuthCred;var B=new G({userId:q.username,server:x.sinfo_.server,token:q.access_token,expires:(new Date).getTime()+1E3*Number(q.expires_in),ssl:"true"===q.ssl,_oAuthCred:w});w.storage=q.persist?v:g;w.token=B.token;w.expires=B.expires;w.userId=B.userId;w.ssl=B.ssl;w.save();x.callback(B)}},_createOAuthDialog:function(){var q=this._nls,x=a.substitute(q,this._oAuthDialogContent);x=a.substitute({server:"\x3cspan class\x3d'serverLink' style\x3d'word-wrap: break-word;'\x3e\x3c/span\x3e"},
x);var w=new p({title:q.title,content:x,"class":"esriOAuthSignInDialog",style:"min-width: 18em;",esriIdMgr_:this,execute_:function(){var B=w.esriIdMgr_._oAuthDfd;w.hide_();w.esriIdMgr_._doOAuthSignIn(B.resUrl_,B.sinfo_,B.oinfo_)},cancel_:function(){var B=w.esriIdMgr_._oAuthDfd;w.esriIdMgr_._oAuthDfd=null;w.hide_();var z=Error("ABORTED");z.code="IdentityManager.2";z.log=!!n.isDebug;B.errback(z)},hide_:function(){A.hide(w.errMsg_);w.hide();p._DialogLevelManager.hide(w)}});q=w.domNode;w.btnSubmit_=t.byNode(c.query(".esriIdSubmit",
q)[0]);w.btnCancel_=t.byNode(c.query(".esriIdCancel",q)[0]);w.serverLink_=c.query(".serverLink",q)[0];w.errMsg_=c.query(".esriErrorMsg",q)[0];w.connect(w.btnSubmit_,"onClick",w.execute_);w.connect(w.btnCancel_,"onClick",w.onCancel);w.connect(w,"onCancel",w.cancel_);return w},_doOAuthSignIn:function(q,x,w){var B=this,z={portalUrl:w.portalUrl};!w.popup&&w.preserveUrlHash&&window.location.hash&&(z.hash=window.location.hash);z={client_id:w.appId,response_type:"token",state:u.stringify(z),expiration:w.expiration,
locale:w.locale,redirect_uri:w.popup?m.getAbsoluteUrl(w.popupCallbackUrl):window.location.href.replace(/#.*$/,"")};w.forceLogin&&(z.force_login=!0);!w.popup&&this._doPortalSignIn(q)&&(z.redirectToUserOrgUrl=!0);var C=w.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize",y=C+"?"+f.objectToQuery(z);if(w.popup){if(7===k("ie")){var D=window.open(w.popupCallbackUrl,"esriJSAPIOAuth",w.popupWindowFeatures);D.location=y}else D=window.open(y,"esriJSAPIOAuth",w.popupWindowFeatures);D?(D.focus(),
this._oAuthDfd.oAuthWin_=D,this._oAuthIntervalId=setInterval(function(){if(D.closed){clearInterval(B._oAuthIntervalId);var F=B._oAuthDfd;if(F){var H=Error("ABORTED");H.code="IdentityManager.2";H.log=!!n.isDebug;F.errback(H)}}},500)):(q=Error("ABORTED"),q.name="identity-manager:user-aborted",q.code="IdentityManager.2",q.log=!!n.isDebug,this._oAuthDfd.errback(q))}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:z,authorizeUrl:C,resourceUrl:q,serverInfo:x,
oAuthInfo:w}):window.location=y}}})},"esri/layers/vectorTiles/core/workers/workerFactory":function(){define("require exports ../tsSupport/assignHelper dojo/_base/kernel ../../config ../../request ../Logger ../promiseUtils ../sniff ../urlUtils ./loaderConfig ./utils ./WorkerFallback".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k){function u(C){return h.create(function(y){function D(H){if(H=f.receiveMessage(H))switch(H.type){case z:H=C;var E=p.workers.loaderUrl||e.DEFAULT_LOADER_URL;if(null!=p["default"]){var I=
a({},p);delete I["default"];I=JSON.parse(JSON.stringify(I))}else I=JSON.parse(JSON.stringify(p));var J=p.workers.loaderConfig;J=e.default({baseUrl:J.baseUrl,locale:m.locale,has:a({"config-deferredInstrumentation":0,"dojo-test-sniff":0,"esri-cors":1,"esri-secure-context":c("esri-secure-context"),"esri-workers-supports-transfer-arraybuffer":c("esri-workers-supports-transfer-arraybuffer"),"events-keypress-typed":0,"host-webworker":1},J.has),map:a({},J.map),paths:a({},J.paths),packages:J.packages||[]});
H.postMessage({type:B,configure:{esriConfig:I,loaderUrl:E,loaderConfig:J}});break;case w:C.removeEventListener("message",D),C.removeEventListener("error",F),y(C)}}function F(H){H.preventDefault();C.removeEventListener("message",D);C.removeEventListener("error",F);q.warn("Failed to create Worker. Fallback to execute module in main thread",H);C=new k;C.addEventListener("message",D);C.addEventListener("error",F)}C.addEventListener("message",D);C.addEventListener("error",F)})}Object.defineProperty(A,
"__esModule",{value:!0});var v=b.normalize(G.toUrl("./worker.js")),g=!b.hasSameOrigin(v,location.href),q=n.getLogger("esri.core.workers"),x=null,w=f.MessageType.CONFIGURED,B=f.MessageType.CONFIGURE,z=f.MessageType.HANDSHAKE;A.createWorker=function(){if(!c("esri-workers"))return u(new k);if(!g){var C=void 0;try{C=new Worker(v)}catch(y){q.warn("Failed to create Worker. Fallback to execute module in main thread",event),C=new k}return u(C)}x||(x=t(v,{responseType:"text"}));return x.then(function(y){return new Worker(URL.createObjectURL(new Blob([y.data],
{type:"text/javascript"})))}).catch(function(y){q.warn("Failed to create Worker. Fallback to execute module in main thread",y);return new k}).then(function(y){return u(y)})}})},"esri/layers/vectorTiles/core/sniff":function(){define(["require","exports","dojo/sniff","./global","../views/webgl/context-util"],function(G,A,a,m,p){function t(){var b={available:!1,version:0,majorPerformanceCaveat:!1,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1},
e=document.createElement("canvas");if(!e)return b;var f=p.createContext(e,{failIfMajorPerformanceCaveat:!0},"webgl");!f&&(f=p.createContext(e,{},"webgl"))&&(b.majorPerformanceCaveat=!0);if(!f)return b;e=f.getParameter(f.VERSION);if(!e)return b;if(e=e.match(/^WebGL\s+([\d.]*)/))b.version=parseFloat(e[1]),b.available=.94<=b.version,e=f.getShaderPrecisionFormat(f.FRAGMENT_SHADER,f.HIGH_FLOAT),b.supportsHighPrecisionFragment=e&&0<e.precision,b.supportsVertexShaderSamplers=0<f.getParameter(f.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
b.supportsElementIndexUint=null!==f.getExtension("OES_element_index_uint"),b.supportsStandardDerivatives=null!==f.getExtension("OES_standard_derivatives");return b}function n(){var b={available:!1,version:0},e=document.createElement("canvas");if(!e)return b;e=p.createContext(e,{},"webgl2");if(!e)return b;b.available=!0;e=e.getParameter(e.VERSION);if(!e)return b;if(e=e.match(/^WebGL\s+([\d.]*)/))b.version=parseFloat(e[1]);return b}(function(){var b=navigator.userAgent,e=b.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i);
b=b.match(/iPhone/i);e&&a.add("esri-mobile",e);b&&a.add("esri-iPhone",b);a.add("esri-phonegap",!!m.cordova);a.add("esri-cors",a("esri-phonegap")||"XMLHttpRequest"in m&&"withCredentials"in new XMLHttpRequest);a.add("esri-geolocation",function(){return!!navigator.geolocation});a.add("esri-canvas-svg-support",function(){return!(a("trident")||a("ie"))});a.add("esri-secure-context",function(){if("isSecureContext"in m)return m.isSecureContext;if(m.location&&m.location.origin)return 0===m.location.origin.indexOf("https:")});
a.add("esri-wasm","WebAssembly"in m);a("host-webworker")||(a.add("esri-workers","Worker"in m),a.add("esri-script-sandbox",function(){return"MessageChannel"in m&&"HTMLIFrameElement"in m&&"sandbox"in HTMLIFrameElement.prototype}),a.add("esri-url-encodes-apostrophe",function(){var f=m.document.createElement("a");f.href="?'";return-1<f.href.indexOf("?%27")}),h||(h=t()),a.add("esri-webgl",h.available),a.add("esri-webgl-high-precision-fragment",h.supportsHighPrecisionFragment),a.add("esri-webgl-vertex-shader-samplers",
h.supportsVertexShaderSamplers),a.add("esri-webgl-element-index-uint",h.supportsElementIndexUint),a.add("esri-webgl-standard-derivatives",h.supportsStandardDerivatives),a.add("esri-webgl-major-performance-caveat",h.majorPerformanceCaveat),a.add("esri-featurelayer-webgl-labeling",!0),c||(c=n()),a.add("esri-webgl2",c.available))})();var h=null,c=null;return a})},"esri/layers/vectorTiles/views/webgl/context-util":function(){define(["require","exports"],function(G,A){function a(n,h,c){void 0===h&&(h=
{});switch(c){case "webgl":var b=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":b=["webgl2"];break;default:b=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}c=null;for(var e=0;e<b.length;e++){var f=b[e];try{c=n.getContext(f,h)}catch(k){}if(c)break}return c}function m(n,h){(n=n.parentNode)&&(n.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+
h+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(A,"__esModule",{value:!0});A.createContextOrErrorHTML=function(n,h,c){void 0===h&&(h={});if(!window.WebGLRenderingContext)return m(n,p),null;h=a(n,h,c);return h?h:(m(n,t),null)};A.createContext=a;var p='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',t='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
"esri/layers/vectorTiles/core/workers/loaderConfig":function(){define(["require","exports","../tsSupport/assignHelper","dojo/has","../urlUtils"],function(G,A,a,m,p){Object.defineProperty(A,"__esModule",{value:!0});A.DEFAULT_LOADER_URL=p.makeAbsolute(p.removeQueryParameters(G.toUrl("./worker-init.js")));A.DEFAULT_CONFIG={baseUrl:function(){var t=p.removeQueryParameters(G.toUrl("dojo/x.js"));return p.makeAbsolute(t.slice(0,t.length-5))}(),packages:[{name:"esri"},{name:"dojo"},{name:"dojox"},{name:"dstore"},
{name:"moment",main:"moment"},{name:"@dojo"},{name:"cldrjs",main:"dist/cldr"},{name:"globalize",main:"dist/globalize"},{name:"maquette",main:"dist/maquette.umd"},{name:"maquette-css-transitions",main:"dist/maquette-css-transitions.umd"},{name:"maquette-jsx",main:"dist/maquette-jsx.umd"},{name:"tslib",main:"tslib"}],map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}}};A.default=
function(t){var n={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:a({},t.has),map:a({},t.map),packages:t.packages&&t.packages.concat()||[],paths:a({},t.paths)};t.hasOwnProperty("async")||(n.async=!0);t.hasOwnProperty("isDebug")||(n.isDebug=!1);t.baseUrl||(n.baseUrl=A.DEFAULT_CONFIG.baseUrl);A.DEFAULT_CONFIG.packages.forEach(function(e){a:{for(var f=n.packages,k=0;k<f.length;k++)if(f[k].name===e.name)break a;e=a({},e);k=p.removeQueryParameters(G.toUrl(e.name+"/x.js"));k=k.slice(0,
k.length-5);e.location=p.makeAbsolute(k);f.push(e)}});t=n.map=n.map||{};for(var h=0,c=Object.keys(A.DEFAULT_CONFIG.map);h<c.length;h++){var b=c[h];t[b]||(t[b]=A.DEFAULT_CONFIG.map[b])}return n}})},"esri/layers/vectorTiles/core/workers/WorkerFallback":function(){define(["require","exports","dojo/has","../global","./utils"],function(G,A,a,m,p){var t=function(){return function(){var c=this,b=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(function(e){c[e]=
function(){for(var f=[],k=0;k<arguments.length;k++)f[k]=arguments[k];return b[e].apply(b,f)}})}}(),n=m.MutationObserver||m.WebKitMutationObserver,h=function(){if(m.process&&m.process.nextTick)var c=function(f){m.process.nextTick(f)};else if(m.Promise)c=function(f){m.Promise.resolve().then(f)};else if(n){var b=[],e=document.createElement("div");(new n(function(){for(;0<b.length;)b.shift()()})).observe(e,{attributes:!0});c=function(f){b.push(f);e.setAttribute("queueStatus","1")}}return c}();return function(){function c(){this._dispatcher=
new t;this._isInitialized=!1;this._workerPostMessage({type:p.MessageType.HANDSHAKE})}c.prototype.terminate=function(){};Object.defineProperty(c.prototype,"onmessage",{get:function(){return this._onmessageHandler},set:function(b){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=b)&&this.addEventListener("message",b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"onerror",{get:function(){return this._onerrorHandler},set:function(b){this._onerrorHandler&&
this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=b)&&this.addEventListener("error",b)},enumerable:!0,configurable:!0});c.prototype.postMessage=function(b,e){var f=this;h(function(){f._workerMessageHandler(new MessageEvent("message",{data:b}))})};c.prototype.dispatchEvent=function(b){return this._dispatcher.dispatchEvent(b)};c.prototype.addEventListener=function(b,e,f){this._dispatcher.addEventListener(b,e,f)};c.prototype.removeEventListener=function(b,e,f){this._dispatcher.removeEventListener(b,
e,f)};c.prototype._workerPostMessage=function(b,e){var f=this;h(function(){f.dispatchEvent(new MessageEvent("message",{data:b}))})};c.prototype._workerMessageHandler=function(b){var e=this;if(b=p.receiveMessage(b)){var f=b.jobId;switch(b.type){case p.MessageType.CONFIGURE:this._isInitialized||this._workerPostMessage({type:p.MessageType.CONFIGURED});break;case p.MessageType.OPEN:b=b.modulePath,a("esri-webpack")?G(["esri/core/workers/RemoteClient","esri/views/vectorTiles/WorkerTileHandler","esri/views/2d/layers/features/Pipeline",
"esri/views/3d/layers/PointCloudWorker","esri/views/3d/layers/SceneLayerWorker","esri/layers/graphics/sources/support/CSVSourceWorker","esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker",b],function(k,u,v,g,q,x,w,B){switch(B){case "esri/views/vectorTiles/WorkerTileHandler":break;case "esri/views/2d/layers/features/Pipeline":u=v;break;case "esri/views/3d/layers/PointCloudWorker":u=g;break;case "esri/views/3d/layers/SceneLayerWorker":u=q;break;case "esri/layers/graphics/sources/support/CSVSourceWorker":u=
x;break;case "esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker":u=w;break;default:u=B}k=k.connect(u);e._workerPostMessage({type:p.MessageType.OPENED,jobId:f,data:k})}):G(["./RemoteClient",b],function(k,u){k=k.connect(u);e._workerPostMessage({type:p.MessageType.OPENED,jobId:f,data:k})})}}};return c}()})},"esri/layers/vectorTiles/views/vectorTiles/GlyphMosaic":function(){define("require exports dojo/has ../../core/promiseUtils ./Rect ./RectangleBinPack ../webgl/Texture".split(" "),
function(G,A,a,m,p,t,n){var h;a("stable-symbol-rendering")&&(h=new Set);return function(){function c(b,e,f){this.height=this.width=0;this._dirties=[];this._glyphData=[];this._currentPage=0;this._glyphIndex={};this._textures=[];this._rangePromises=new Map;(0>=b||0>=e)&&console.error("Glyph mosaic width and height must be greater than zero!");this.width=b;this.height=e;this._glyphSource=f;this._binPack=new t(b-4,e-4);this._glyphData.push(new Uint8Array(b*e));this._dirties.push(!0);this._textures.push(void 0)}
c.prototype.getGlyphItems=function(b,e,f){var k=this,u=[],v=this._glyphSource,g=new Set;b=1/256;for(var q=0;q<f.length;q++)g.add(Math.floor(f[q]*b));var x=[];g.forEach(function(w){if(256>=w){var B=e+w;k._rangePromises.has(B)?x.push(k._rangePromises.get(B)):(w=v.getRange(e,w).always(function(){k._rangePromises["delete"](B)}),k._rangePromises.set(B,w),x.push(w))}});return m.all(x).then(function(w){w=k._glyphIndex[e];w||(w={},k._glyphIndex[e]=w);if(a("stable-symbol-rendering")){h.clear();for(var B=0;B<
f.length;B++){var z=f[B];h.add(z)}var C=[];g.forEach(function(S){C.push(S)});C.sort();z=[];for(B=0;B<C.length;B++)for(var y=C[B],D=0;256>D;++D)z.push(256*y+D)}else z=f;B=0;for(y=z;B<y.length;B++)if(z=y[B],D=w[z]){if(!a("stable-symbol-rendering")||h.has(z))u[z]={rect:D.rect,metrics:D.metrics,page:D.page}}else{var F=v.getGlyph(e,z);if(F&&F.metrics){D=F.metrics;var H=void 0;if(0===D.width)H=new p(0,0,0,0);else{var E=D.width+6,I=D.height+6,J=E%4?4-E%4:4,K=I%4?4-I%4:4;1===J&&(J=5);1===K&&(K=5);H=k._binPack.allocate(E+
J,I+K);H.isEmpty&&(k._dirties[k._currentPage]||(k._glyphData[k._currentPage]=null),k._currentPage=k._glyphData.length,k._glyphData.push(new Uint8Array(k.width*k.height)),k._dirties.push(!0),k._textures.push(void 0),k._binPack=new t(k.width-4,k.height-4),H=k._binPack.allocate(E+J,I+K));J=k._glyphData[k._currentPage];F=F.bitmap;var L=K=void 0;if(F)for(var O=0;O<I;O++){K=E*O;L=k.width*(H.y+O+1)+H.x;for(var U=0;U<E;U++)J[L+U+1]=F[K+U]}}w[z]={rect:H,metrics:D,tileIDs:null,page:k._currentPage};if(!a("stable-symbol-rendering")||
h.has(z))u[z]={rect:H,metrics:D,page:k._currentPage};k._dirties[k._currentPage]=!0}}return u})};c.prototype.removeGlyphs=function(b){for(var e in this._glyphIndex){var f=this._glyphIndex[e];if(f){var k=void 0,u;for(u in f)if(k=f[u],k.tileIDs["delete"](b),0===k.tileIDs.size){for(var v=this._glyphData[k.page],g=k.rect,q=void 0,x=void 0,w=0;w<g.height;w++)for(q=this.width*(g.y+w)+g.x,x=0;x<g.width;x++)v[q+x]=0;delete f[u];this._dirties[k.page]=!0}}}};c.prototype.bind=function(b,e,f,k){void 0===k&&(k=
0);this._textures[f]||(this._textures[f]=new n(b,{pixelFormat:6406,dataType:5121,width:this.width,height:this.height},new Uint8Array(this.width*this.height)));var u=this._textures[f];u.setSamplingMode(e);this._dirties[f]&&u.setData(this._glyphData[f]);b.bindTexture(u,k);this._dirties[f]=!1};c.prototype.dispose=function(){this._binPack=null;for(var b=0,e=this._textures;b<e.length;b++){var f=e[b];f&&f.dispose()}this._textures.length=0};return c}()})},"esri/layers/vectorTiles/views/vectorTiles/Rect":function(){define(["require",
"exports"],function(G,A){return function(){function a(m,p,t,n){void 0===m&&(m=0);void 0===p&&(p=0);void 0===t&&(t=0);void 0===n&&(n=0);this.x=m;this.y=p;this.width=t;this.height=n}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});return a}()})},"esri/layers/vectorTiles/views/vectorTiles/RectangleBinPack":function(){define(["require","exports","./Rect"],function(G,A,a){return function(){function m(p,t){this._height=this._width=
0;this._free=[];this._width=p;this._height=t;this._free.push(new a(0,0,p,t))}Object.defineProperty(m.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0});m.prototype.allocate=function(p,t){if(p>this._width||t>this._height)return new a;for(var n=null,h=-1,c=0;c<this._free.length;++c){var b=this._free[c];p<=b.width&&t<=b.height&&(null===n||b.y<=n.y&&b.x<=n.x)&&
(n=b,h=c)}if(null===n)return new a;this._free.splice(h,1);n.width<n.height?(n.width>p&&this._free.push(new a(n.x+p,n.y,n.width-p,t)),n.height>t&&this._free.push(new a(n.x,n.y+t,n.width,n.height-t))):(n.width>p&&this._free.push(new a(n.x+p,n.y,n.width-p,n.height)),n.height>t&&this._free.push(new a(n.x,n.y+t,p,n.height-t)));return new a(n.x,n.y,p,t)};m.prototype.release=function(p){for(var t=0;t<this._free.length;++t){var n=this._free[t];if(n.y===p.y&&n.height===p.height&&n.x+n.width===p.x)n.width+=
p.width;else if(n.x===p.x&&n.width===p.width&&n.y+n.height===p.y)n.height+=p.height;else if(p.y===n.y&&p.height===n.height&&p.x+p.width===n.x)n.x=p.x,n.width+=p.width;else if(p.x===n.x&&p.width===n.width&&p.y+p.height===n.y)n.y=p.y,n.height+=p.height;else continue;this._free.splice(t,1);this.release(p)}this._free.push(p)};return m}()})},"esri/layers/vectorTiles/views/vectorTiles/GlyphSource":function(){define(["require","exports","../../request","../../core/pbf","../../core/promiseUtils"],function(G,
A,a,m,p){var t=function(){function h(c){this._metrics=[];this._bitmaps=[];if(c)for(;c.next();)switch(c.tag()){case 1:for(var b=c.getMessage();b.next();)switch(b.tag()){case 3:for(var e=b.getMessage(),f=void 0,k=void 0,u=void 0,v=void 0,g=void 0,q=void 0,x=void 0;e.next();)switch(e.tag()){case 1:f=e.getUInt32();break;case 2:k=e.getBytes();break;case 3:u=e.getUInt32();break;case 4:v=e.getUInt32();break;case 5:g=e.getSInt32();break;case 6:q=e.getSInt32();break;case 7:x=e.getUInt32();break;default:e.skip()}f&&
(this._metrics[f]={width:u,height:v,left:g,top:q,advance:x},this._bitmaps[f]=k);break;default:b.skip()}break;default:c.skip()}}h.prototype.getMetrics=function(c){return this._metrics[c]};h.prototype.getBitmap=function(c){return this._bitmaps[c]};return h}(),n=function(){function h(){this._ranges=[]}h.prototype.getRange=function(c){return this._ranges[c]};h.prototype.addRange=function(c,b){this._ranges[c]=b};return h}();return function(){function h(c){this._glyphInfo={};this._baseURL=c}h.prototype.getRange=
function(c,b){var e=this._getFontStack(c);if(e.getRange(b))return p.resolve();var f=256*b,k=f+255;c=this._baseURL.replace("{fontstack}",c).replace("{range}",f+"-"+k);return a(c,{callbackParamName:"callback",responseType:"array-buffer"}).then(function(u){e.addRange(b,new t(new m(new Uint8Array(u.data),new DataView(u.data))))}).catch(function(){e.addRange(b,new t)})};h.prototype.getGlyph=function(c,b){if(c=this._getFontStack(c)){var e=Math.floor(b/256);if(!(256<e)&&(c=c.getRange(e)))return{metrics:c.getMetrics(b),
bitmap:c.getBitmap(b)}}};h.prototype._getFontStack=function(c){var b=this._glyphInfo[c];b||(b=this._glyphInfo[c]=new n);return b};return h}()})},"esri/layers/vectorTiles/core/pbf":function(){define(["require","exports"],function(G,A){return function(){function a(m,p,t,n){this._tag=0;this._dataType=99;this._data=m;this._dataView=p;this._pos=t||0;this._end=n||m.byteLength}a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.pos=function(){return this._pos};
a.prototype.next=function(m){for(;;){if(this._pos===this._end)return!1;var p=this._decodeVarint();this._tag=p>>3;this._dataType=p&7;if(!m||m===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){var m=4294967295;m=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return m;
m=(m|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return m};a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){var m=this.getUInt32();return m>>>1^-(m&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};
a.prototype.getBool=function(){var m=0!==this._data[this._pos];this._skip(1);return m};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var m=this._dataView,p=this._pos;m=m.getUint32(p,!0)+4294967296*m.getUint32(p+4,!0);this._skip(8);return m};a.prototype.getSFixed64=function(){var m=this._dataView,p=this._pos;m=m.getUint32(p,!0)+4294967296*m.getInt32(p+4,!0);this._skip(8);return m};a.prototype.getDouble=function(){var m=this._dataView.getFloat64(this._pos,
!0);this._skip(8);return m};a.prototype.getFixed32=function(){var m=this._dataView.getUint32(this._pos,!0);this._skip(4);return m};a.prototype.getSFixed32=function(){var m=this._dataView.getInt32(this._pos,!0);this._skip(4);return m};a.prototype.getFloat=function(){var m=this._dataView.getFloat32(this._pos,!0);this._skip(4);return m};a.prototype.getString=function(){var m=this._getLength(),p=this._pos;p=this._toString(this._data,p,p+m);this._skip(m);return p};a.prototype.getBytes=function(){var m=
this._getLength(),p=this._pos;p=this._toBytes(this._data,p,p+m);this._skip(m);return p};a.prototype.getMessage=function(){var m=this._getLength(),p=this._pos;p=new a(this._data,this._dataView,p,p+m);this._skip(m);return p};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(m){if(this._pos+m>this._end)throw Error("Attempt to skip past the end of buffer!");
this._pos+=m};a.prototype._decodeVarint=function(){var m=this._data,p=this._pos,t=0;if(10<=this._end-p){var n=m[p++];t|=n&127;if(0!==(n&128)&&(n=m[p++],t|=(n&127)<<7,0!==(n&128)&&(n=m[p++],t|=(n&127)<<14,0!==(n&128)&&(n=m[p++],t|=(n&127)<<21,0!==(n&128)&&(n=m[p++],t+=268435456*(n&127),0!==(n&128)&&(n=m[p++],t+=34359738368*(n&127),0!==(n&128)&&(n=m[p++],t+=4398046511104*(n&127),0!==(n&128)&&(n=m[p++],t+=562949953421312*(n&127),0!==(n&128)&&(n=m[p++],t+=72057594037927936*(n&127),0!==(n&128)&&(n=m[p++],
t+=0x7fffffffffffffff*(n&127),0!==(n&128)))))))))))throw Error("Varint too long!");}else{for(var h=1;p!==this._end;){n=m[p];if(0===(n&128))break;++p;t+=(n&127)*h;h*=128}if(p===this._end)throw Error("Varint overrun!");++p;t+=n*h}this._pos=p;return t};a.prototype._decodeSVarint=function(){var m=this._decodeVarint();return m%2?-(m+1)/2:m/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(m,p,
t){var n="",h="";for(t=Math.min(this._end,t);p<t;++p){var c=m[p];c&128?h+="%"+c.toString(16):(n+=decodeURIComponent(h)+String.fromCharCode(c),h="")}h.length&&(n+=decodeURIComponent(h));return n};a.prototype._toBytes=function(m,p,t){t=Math.min(this._end,t);return new Uint8Array(m.buffer,p,t-p)};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/SpriteMosaic":function(){define("require exports ./GeometryUtils ./Rect ./RectangleBinPack ../webgl/Texture".split(" "),function(G,A,a,m,p,t){return function(){function n(h,
c,b){void 0===b&&(b=0);this._size=[];this._mosaicsData=[];this._textures=[];this._dirties=[];this._pageHeight=this._pageWidth=this._currentPage=this._maxItemSize=0;this._mosaicRects={};this.pixelRatio=1;(0>=h||0>=c)&&console.error("Sprites mosaic defaultWidth and defaultHeight must be greater than zero!");this._pageWidth=h;this._pageHeight=c;0<b&&(this._maxItemSize=b);this._binPack=new p(h-4,c-4)}n.prototype.getWidth=function(h){return h>=this._size.length?-1:this._size[h][0]};n.prototype.getHeight=
function(h){return h>=this._size.length?-1:this._size[h][1]};n.prototype.setSpriteSource=function(h){this.dispose();this.pixelRatio=h.devicePixelRatio;if(0===this._mosaicsData.length){this._binPack=new p(this._pageWidth-4,this._pageHeight-4);var c=new Uint32Array(Math.floor(this._pageWidth)*Math.floor(this._pageHeight));this._mosaicsData[0]=c;this._dirties.push(!0);this._size.push([this._pageWidth,this._pageHeight]);this._textures.push(void 0)}this._sprites=h};n.prototype.getSpriteItem=function(h,
c){void 0===c&&(c=!1);var b=this._mosaicRects[h];if(b)return b;if(!this._sprites||"loaded"!==this._sprites.loadStatus)return null;b=this._sprites.getSpriteInfo(h);if(!b||!b.width||!b.height||0>b.width||0>b.height)return null;var e=b.width,f=b.height,k=this._allocateImage(e,f),u=k[0],v=k[1];if(0>=u.width)return null;this._copy(u,b,v,k[2],c);b={rect:u,width:e,height:f,anchorX:0,anchorY:0,sdf:b.sdf,pixelRatio:b.pixelRatio,page:v};return this._mosaicRects[h]=b};n.prototype.preloadSpriteItems=function(){for(var h=
0,c=this._sprites.spriteNames;h<c.length;h++)this.getSpriteItem(c[h],!0)};n.prototype.getSpriteItems=function(h){for(var c={},b=0;b<h.length;b++){var e=h[b];c[e]=this.getSpriteItem(e)}return c};n.prototype.getMosaicItemPosition=function(h,c){c=(h=this.getSpriteItem(h,c))&&h.rect;if(!c)return null;c.width=h.width;c.height=h.height;return{size:[h.width,h.height],tl:[(c.x+2)/this._size[h.page][0],(c.y+2)/this._size[h.page][1]],br:[(c.x+2+h.width)/this._size[h.page][0],(c.y+2+h.height)/this._size[h.page][1]],
page:h.page}};n.prototype.bind=function(h,c,b,e){void 0===b&&(b=0);void 0===e&&(e=0);this._textures[b]||(this._textures[b]=new t(h,{pixelFormat:6408,dataType:5121,width:this._size[b][0],height:this._size[b][1]},new Uint8Array(this._mosaicsData[b].buffer)));var f=this._textures[b];f.setSamplingMode(c);this._dirties[b]&&f.setData(new Uint8Array(this._mosaicsData[b].buffer));h.bindTexture(f,e);this._dirties[b]=!1};n._copyBits=function(h,c,b,e,f,k,u,v,g,q,x){var w=e*c+b;u=v*k+u;if(x)for(u-=k,x=-1;x<=
q;x++,w=((x+q)%q+e)*c+b,u+=k)for(v=-1;v<=g;v++)f[u+v]=h[w+(v+g)%g];else for(x=0;x<q;x++){for(v=0;v<g;v++)f[u+v]=h[w+v];w+=c;u+=k}};n.prototype._copy=function(h,c,b,e,f,k){if(this._sprites&&"loaded"===this._sprites.loadStatus&&!(b>=this._mosaicsData.length)){var u=new Uint32Array(k?k.buffer:this._sprites.image.buffer),v=this._mosaicsData[b];v&&u||console.error("Source or target images are uninitialized!");n._copyBits(u,k?c.width:this._sprites.width,c.x,c.y,v,e[0],h.x+2,h.y+2,c.width,c.height,f);this._dirties[b]=
!0}};n.prototype._allocateImage=function(h,c){h+=2;c+=2;var b=Math.max(h,c);if(this._maxItemSize&&this._maxItemSize<b){b=Math.pow(2,Math.ceil(a.log2(h)));var e=Math.pow(2,Math.ceil(a.log2(c)));h=new m(0,0,h,c);this._mosaicsData.push(new Uint32Array(b*e));this._dirties.push(!0);this._size.push([b,e]);this._textures.push(void 0);return[h,this._mosaicsData.length-1,[b,e]]}b=h%4?4-h%4:4;e=c%4?4-c%4:4;1===b&&(b=5);1===e&&(e=5);b=this._binPack.allocate(h+b,c+e);return 0>=b.width?(this._dirties[this._currentPage]||
(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new p(this._pageWidth-4,this._pageHeight-4),this._allocateImage(h,c)):[b,this._currentPage,[this._pageWidth,this._pageHeight]]};n.prototype.dispose=function(){this._binPack=null;this._mosaicRects={};for(var h=0,c=this._textures;h<
c.length;h++){var b=c[h];b&&b.dispose()}this._textures.length=0};return n}()})},"esri/layers/vectorTiles/views/vectorTiles/SpriteSource":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper dojo/Deferred ../../kernel ../../request ../../core/promiseUtils ../../core/urlUtils".split(" "),function(G,A,a,m,p,t,n,h,c){return function(){function b(e,f){this.baseURL=e;this.devicePixelRatio=f;this._isRetina=!1;this._spritesData={};this.height=this.width=
this.image=null;this.loadStatus="not-loaded"}Object.defineProperty(b.prototype,"spriteNames",{get:function(){var e=[],f;for(f in this._spritesData)e.push(f);e.sort();return e},enumerable:!0,configurable:!0});b.prototype.getSpriteInfo=function(e){return this._spritesData[e]};b.prototype.load=function(){var e=this;this.loadStatus="loading";return this.baseURL?this._loadSprites().then(function(){e.loadStatus="loaded";return e}).catch(function(f){e.loadStatus="failed";return e}):h.resolve(this)};b.prototype._loadSprites=
function(){var e=this;this._isRetina=1.15<this.devicePixelRatio?!0:!1;var f=this.baseURL,k=this._isRetina?"@2x":"";return n(f+k+".json",{callbackParamName:"callback",responseType:"json"}).then(function(u){var v=Object.keys(u.data);if(!v||0===v.length||1===v.length&&"_ssl"===v[0])return h.resolve(null);e._spritesData=u.data;var g=new p,q=new Image;q.crossOrigin="anonymous";q.onload=function(){q.onload=null;e.width=q.width;e.height=q.height;var x=document.createElement("canvas");x.width=q.width;x.height=
q.height;x=x.getContext("2d");x.drawImage(q,0,0,q.width,q.height);x=x.getImageData(0,0,q.width,q.height);x=new Uint8Array(x.data);for(var w,B=0;B<x.length;B+=4)w=x[B+3]/255,x[B]*=w,x[B+1]*=w,x[B+2]*=w;e.image=x;g.resolve()};q.onerror=function(){console.log("Failed to load sprites!");e._spritesData=null;g.reject()};u=""+f+k+".png";t.id&&(v=t.id.findCredential(u))&&v.token&&(u+="?token\x3d"+v.token);q.src=c.addProxy(u);return g})};return b}()})},"esri/layers/vectorTiles/views/vectorTiles/TileIndex":function(){define(["require",
"exports","../../core/promiseUtils","../../layers/support/TilemapCache","../2d/tiling/TileKey"],function(G,A,a,m,p){return function(){function t(n){if(n instanceof m)this._tilemapCache=n;else if(n&&"index"in n)this._tilemap=n.index;else throw Error("Invalid tilemap!");}t.prototype.dataKey=function(n){if(this._tilemapCache){var h=n.level,c=n.row,b=n.col,e=new p(n);return this._tilemapCache.fetchAvailabilityUpsample(h,c,b,e).then(function(){return e}).catch(function(f){if(f&&"cancel"===f.dojoType)throw f;
e.level=h;e.row=c;e.col=b;return e})}return this._getIndexedDataKey(n)};t.prototype.forEach=function(n,h,c,b,e){this._callback=e;this._maxLevel=h+n;this._forEach(this._tilemap,h,c,b)};t.prototype._forEach=function(n,h,c,b){0!==n&&(this._callback(h,c,b),h!==this._maxLevel&&"object"===typeof n&&(this._forEach(n[0],h+1,2*c,2*b),this._forEach(n[1],h+1,2*c,2*b+1),this._forEach(n[2],h+1,2*c+1,2*b),this._forEach(n[3],h+1,2*c+1,2*b+1)))};t.prototype._getIndexedDataKey=function(n){var h=[n];if(0>n.level||
0>n.row||0>n.col||0<n.row>>n.level||0<n.col>>n.level)return a.resolve(null);for(;0!==n.level;)n=new p(n.level-1,n.row>>1,n.col>>1,n.world),h.push(n);n=this._tilemap;var c=h.pop();if(1===n)return a.resolve(c);for(;h.length;){var b=h.pop();var e=(b.col&1)+((b.row&1)<<1);if(n)if(0===n[e]){c=null;break}else if(1===n[e]){c=b;break}else c=b,n=n[e]}return a.resolve(c)};return t}()})},"esri/layers/vectorTiles/views/2d/engine/StageGL":function(){define("require exports ../../../core/tsSupport/extendsHelper dojo/has ../../../core/promiseUtils ./Container ../engine/webgl/Fader ./webgl/BitBlitRenderer ./webgl/enums ./webgl/WGLPainter ./webgl/shaders/glShaderSnippets ../libs/gl-matrix/common ../libs/gl-matrix/mat2d ../libs/gl-matrix/vec2 ../../support/screenshotUtils ../../webgl/BufferObject ../../webgl/context-util ../../webgl/FramebufferObject ../../webgl/Program ../../webgl/RenderingContext ../../webgl/VertexArrayObject".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z){function C(D){return{state:D.state,pixelRatio:D.pixelRatio,stationary:D.stationary}}var y={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"};return function(D){function F(){var H=null!==D&&D.apply(this,arguments)||this;H._clipData=new Float32Array(8);H._upperLeft=u.create();H._upperRight=u.create();H._lowerLeft=u.create();H._lowerRight=u.create();H._mat2=k.create();H._clipRendererInitialized=!1;H._contextVersion=null;H._labelFader=new n.default(H);
return H}a(F,D);Object.defineProperty(F.prototype,"glPainter",{get:function(){return this._painter},enumerable:!0,configurable:!0});F.prototype.fadeInLabels=function(){this._labelFader.reset();this.requestRender()};F.prototype.createElement=function(){var H=document.createElement("canvas");H.setAttribute("class","esri-display-object");return H};F.prototype.setElement=function(H){this.element=H};F.prototype.useContextVersion=function(H){this._renderingContext||(this._contextVersion=H)};F.prototype.attach=
function(H){if(this.attached)return!0;this._resizeCanvas(H);var E=q.createContextOrErrorHTML(this.element,{alpha:!0,antialias:!1,depth:!0,stencil:!0},this._contextVersion);this._renderingContext=new B(E);this._contextVersion=this._renderingContext.contextVersion;this.attached=!0;this._cachedRenderParams=C(H);this._painter||(this._painter=new b.default,this._painter.initialize(this._renderingContext));return D.prototype.attach.call(this,H)};F.prototype.detach=function(H){D.prototype.detach.call(this,
H);this._boundFBO=null;this._clipFBO&&(this._clipFBO.dispose(),this._clipFBO=null);this._labelsFBO1&&(this._labelsFBO1.dispose(),this._labelsFBO1=null);this._labelsFBO2&&(this._labelsFBO2.dispose(),this._labelsFBO2=null);this._blitRenderer&&(this._blitRenderer.dispose(),this._blitRenderer=null);this._clipVAO&&(this._clipVAO.dispose(),this._clipVBO=this._clipVAO=null);this._painter&&(this._painter.dispose(),this._painter=null);this._clipStencilProgram&&(this._clipStencilProgram.dispose(),this._clipStencilProgram=
null);this._renderingContext&&(this._renderingContext.dispose(),this._renderingContext=null);this._cachedRenderParams=null};F.prototype.renderChildren=function(H){var E=this.children;H.drawPhase=c.WGLDrawPhase.FILL|c.WGLDrawPhase.LINE|c.WGLDrawPhase.MARKER|c.WGLDrawPhase.TEXT;for(var I=E.length,J=0;J<I;J++){var K=E[J];K.attached&&this.renderChild(K,H)}if(m("esri-featurelayer-webgl-labeling")){var L=H.context,O=L.getBoundFramebufferObject();L.bindFramebuffer(this._labelsFBO2);J=H.stationary;L.setClearColor(0,
0,0,J?0:1);L.clear(L.gl.COLOR_BUFFER_BIT);if(J)for(H.drawPhase=c.WGLDrawPhase.LABEL_ALPHA,H.labelFBO=this._labelsFBO1,H.labelStep=this._labelFader.step(),J=0;J<I;J++)K=E[J],K.attached&&this.renderChild(K,H);else this._labelFader.reset();L.bindFramebuffer(O);H.labelFBO=this._labelsFBO2;H.drawPhase=c.WGLDrawPhase.LABEL;for(J=0;J<I;J++)K=E[J],K.attached&&this.renderChild(K,H);H=this._labelsFBO2;this._labelsFBO2=this._labelsFBO1;this._labelsFBO1=H}};F.prototype.beforeRenderChildren=function(H,E){H=E.context;
var I=E.state,J=E.pixelRatio;if(E=this._painter){H.enforceState();E.update(I,J);var K=I.width;E=I.height;var L=I.rotation;K=Math.round(K*J);E=Math.round(E*J);this._boundFBO=H.getBoundFramebufferObject();!m("esri-featurelayer-webgl-labeling")||this._labelsFBO1&&this._labelsFBO1.width===K&&this._labelsFBO1.height===E||(this._labelsFBO1&&(this._labelsFBO1.dispose(),this._labelsFBO2.dispose()),this._labelsFBO1=x.createWithAttachments(H,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,samplingMode:9728,
wrapMode:33071,width:K,height:E},{colorTarget:0,depthStencilTarget:0}),H.bindFramebuffer(this._labelsFBO1),H.setDepthWriteEnabled(!0),H.setStencilWriteMask(255),H.setClearColor(0,0,0,0),H.setClearDepth(1),H.setClearStencil(0),H.clear(H.gl.COLOR_BUFFER_BIT|H.gl.DEPTH_BUFFER_BIT|H.gl.STENCIL_BUFFER_BIT),H.setDepthWriteEnabled(!1),H.bindFramebuffer(this._boundFBO),this._labelsFBO2=x.createWithAttachments(H,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,
width:K,height:E},{colorTarget:0,depthStencilTarget:0}));if(I.spatialReference&&(I.spatialReference._isWrappable?I.spatialReference._isWrappable():I.spatialReference.isWrappable)){var O=f.toRadian(L),U=Math.abs(Math.cos(O)),S=Math.abs(Math.sin(O)),M=Math.round(I.worldScreenWidth);if(Math.round(K*U+E*S)<=M)this._clipFrame=!1;else{this._clipFBO&&this._clipFBO.width===K&&this._clipFBO.height===E||(this._clipFBO=new x(H,{colorTarget:0,depthStencilTarget:3,width:K,height:E}));var N=.5*K,T=.5*E;I=1/K;var V=
1/E;J*=.5*M;var ea=.5*(K*S+E*U);K=this._upperLeft;U=this._upperRight;S=this._lowerLeft;M=this._lowerRight;u.set(K,-J,-ea);u.set(U,J,-ea);u.set(S,-J,ea);u.set(M,J,ea);k.identity(this._mat2);k.translate(this._mat2,this._mat2,[N,T]);0!==L&&k.rotate(this._mat2,this._mat2,O);u.transformMat2d(K,K,this._mat2);u.transformMat2d(U,U,this._mat2);u.transformMat2d(S,S,this._mat2);u.transformMat2d(M,M,this._mat2);L=this._clipData;L.set([2*S[0]*I-1,2*(E-S[1])*V-1,2*M[0]*I-1,2*(E-M[1])*V-1,2*K[0]*I-1,2*(E-K[1])*
V-1,2*U[0]*I-1,2*(E-U[1])*V-1]);this._clipRendererInitialized||this._initializeClipRenderer(H);this._clipVBO.setData(L);this._boundFBO=H.getBoundFramebufferObject();H.bindFramebuffer(this._clipFBO);H.setDepthWriteEnabled(!0);H.setStencilWriteMask(255);H.setClearColor(0,0,0,0);H.setClearDepth(1);H.setClearStencil(0);H.clear(H.gl.COLOR_BUFFER_BIT|H.gl.DEPTH_BUFFER_BIT|H.gl.STENCIL_BUFFER_BIT);H.setDepthWriteEnabled(!1);this._clipFrame=!0}}else this._clipFrame=!1}};F.prototype.afterRenderChildren=function(H,
E){this._clipFrame&&this._clipRendererInitialized&&(H=this._renderingContext,H.bindFramebuffer(this._boundFBO),this._boundFBO=null,H.bindVAO(this._clipVAO),H.bindProgram(this._clipStencilProgram),H.setDepthWriteEnabled(!1),H.setDepthTestEnabled(!1),H.setStencilTestEnabled(!0),H.setBlendingEnabled(!1),H.setColorMask(!1,!1,!1,!1),H.setStencilOp(7680,7680,7681),H.setStencilWriteMask(255),H.setStencilFunction(519,1,255),H.drawElements(4,6,5123,0),H.bindVAO(),H.setColorMask(!0,!0,!0,!0),H.setBlendingEnabled(!0),
H.setStencilFunction(514,1,255),this._blitRenderer.render(H,this._clipFBO.colorTexture,9728,1),H.setStencilTestEnabled(!1))};F.prototype.doRender=function(H){var E=this.element.style;this.visible?(E.display="block",E.opacity=""+this.opacity,this._resizeCanvas(H),D.prototype.doRender.call(this,H),this._cachedRenderParams=C(H)):E.display="none"};F.prototype.takeScreenshot=function(H){void 0===H&&(H={});var E=H.pixelRatio||1;this._cachedRenderParams.pixelRatio=E;var I=Math.round(E*this._cachedRenderParams.state.width),
J=Math.round(E*this._cachedRenderParams.state.height),K=0,L=0,O=I,U=J,S=I,M=J;if(S=H.area)K=Math.round(E*S.x),L=Math.round(E*S.y),O=Math.round(E*S.width),U=Math.round(E*S.height);void 0!==H.width&&void 0!==H.height?(S=H.width/H.height,U*S<O?(S*=U,K+=Math.floor((O-S)/2),O=Math.floor(S)):(S=O/S,L+=Math.floor((U-S)/2),U=Math.floor(S)),S=H.width,M=H.height):(S=O,M=U);E=document.createElement("canvas");E.width=S;E.height=M;var N=E.getContext("2d"),T=new Uint8Array(O*U*4),V=this._renderingContext,ea=x.create(V,
{colorTarget:1,depthStencilTarget:3,width:I,height:J});V.bindFramebuffer(ea);V.setViewport(0,0,I,J);var P=this._cachedRenderParams,ba=this._renderingContext.gl;this._renderingContext.setClearColor(0,0,0,0);this._renderingContext.setClearDepth(1);this._renderingContext.setClearStencil(0);this._renderingContext.clear(ba.COLOR_BUFFER_BIT|ba.DEPTH_BUFFER_BIT|ba.STENCIL_BUFFER_BIT);P.context=this._renderingContext;P.painter=this._painter;this.beforeRenderChildren(P,P);if(void 0!==H.rotation&&null!==H.rotation){ba=
P.state;var la=ba.clone();la.viewpoint.rotation=H.rotation;P.state=la;this.renderChildren(P);P.state=ba}else this.renderChildren(P);this.afterRenderChildren(P,P);ea.readPixels(K,J-(L+U),O,U,6408,5121,T);V.bindFramebuffer();V=N.getImageData(0,0,S,M);if(0!==K||0!==L||O!==I||U!==J||S!==I||M!==J)v.resampleHermite(T,O,U,V.data,S,M,!0);else{L=U-1;U=0;ea=4*O;for(la=ba=K=J=I=O=P=void 0;U<L;){ba=U*ea;la=L*ea;for(P=0;P<ea;P+=4)O=T[ba+P],I=T[ba+P+1],J=T[ba+P+2],K=T[ba+P+3],T[ba+P]=T[la+P],T[ba+P+1]=T[la+P+1],
T[ba+P+2]=T[la+P+2],T[ba+P+3]=T[la+P+3],T[la+P]=O,T[la+P+1]=I,T[la+P+2]=J,T[la+P+3]=K;U++;L--}O=V.data;I=T.length;for(L=0;L<I;L++)O[L]=T[L]}T=V.data;U=T.length;for(L=0;L<U;L+=4)K=T[L+3],0<K&&(J=K/255,O=Math.floor(T[L+0]/J),I=Math.floor(T[L+1]/J),J=Math.floor(T[L+2]/J),T[L+0]=255>=O?O:255,T[L+1]=255>=I?I:255,T[L+2]=255>=J?J:255);N.putImageData(V,0,0);N=y[H.format?H.format.toLowerCase():"png"];T=1;void 0!==H.quality&&(T=H.quality/100);H=E.toDataURL(N,T);return p.resolve({dataURL:H,x:0,y:0,width:S,height:M})};
F.prototype.prepareChildrenRenderParameters=function(H){if(!this.attached||!this._renderingContext)return null;H=C(H);var E=this._renderingContext,I=E.gl;E.setDepthWriteEnabled(!0);E.setStencilWriteMask(255);E.setClearColor(0,0,0,0);E.setClearDepth(1);E.setClearStencil(0);E.clear(I.COLOR_BUFFER_BIT|I.DEPTH_BUFFER_BIT|I.STENCIL_BUFFER_BIT);E.setViewport(0,0,this.element.width,this.element.height);E.setDepthWriteEnabled(!1);H.context=E;H.painter=this._painter;return H};F.prototype.attachChild=function(H,
E){return H.attach(E)};F.prototype.detachChild=function(H,E){return H.detach(E)};F.prototype.renderChild=function(H,E){return H.processRender(E)};F.prototype._resizeCanvas=function(H){var E=this.element,I=E.style,J=H.state,K=H.pixelRatio;H=Math.round(J.width*K);K=Math.round(J.height*K);if(E.width!==H||E.height!==K)E.width=H,E.height=K;I.width=J.width+"px";I.height=J.height+"px"};F.prototype._initializeClipRenderer=function(H){if(this._clipRendererInitialized)return!0;this._blitRenderer=new h;var E=
{a_pos:0},I=new w(H,e.stencilVS,e.stencilFS,E);if(!I)return!1;var J=g.createVertex(H,35040,32),K=new Uint16Array([0,1,2,2,1,3]);K=g.createIndex(H,35044,K);H=new z(H,E,{geometry:[{name:"a_pos",count:2,type:5126,offset:0,stride:8,normalized:!1,divisor:0}]},{geometry:J},K);this._clipStencilProgram=I;this._clipVBO=J;this._clipVAO=H;return this._clipRendererInitialized=!0};return F}(t)})},"esri/layers/vectorTiles/views/2d/engine/webgl/Fader":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,
"__esModule",{value:!0});G=function(){function a(m,p){void 0===p&&(p=250);this.duration=p;this._startTime=this._lastTime=0;this._parent=m}a.prototype.reset=function(){0===this._lastTime;this._startTime=performance.now()};a.prototype.step=function(){var m=performance.now();if(0===this._lastTime)return this._lastTime=m,this._parent.requestRender(),0;var p=m-this._lastTime;this._lastTime=m;m-this._startTime<2*this.duration&&this._parent.requestRender();return p/this.duration};return a}();A.default=G})},
"esri/layers/vectorTiles/views/2d/engine/webgl/BitBlitRenderer":function(){define("require exports ./shaders/glShaderSnippets ../../../webgl/BufferObject ../../../webgl/Program ../../../webgl/VertexArrayObject".split(" "),function(G,A,a,m,p,t){return function(){function n(){this._initialized=!1}n.prototype.dispose=function(){this._program&&(this._program.dispose(),this._program=null);this._vertexArrayObject&&(this._vertexArrayObject.dispose(),this._vertexArrayObject=null)};n.prototype.render=function(h,
c,b,e){h&&(this._initialized||this._initialize(h),h.setBlendFunctionSeparate(1,771,1,771),h.bindVAO(this._vertexArrayObject),h.bindProgram(this._program),c.setSamplingMode(b),h.bindTexture(c,0),this._program.setUniform1i("u_tex",0),this._program.setUniform1f("u_opacity",e),h.drawArrays(5,0,4),h.bindVAO())};n.prototype._initialize=function(h){if(this._initialized)return!0;var c={a_pos:0,a_tex:1},b=new p(h,a.bitblitVS,a.bitblitFS,c);if(!b)return!1;var e=new Int8Array(16);e[0]=-1;e[1]=-1;e[2]=0;e[3]=
0;e[4]=1;e[5]=-1;e[6]=1;e[7]=0;e[8]=-1;e[9]=1;e[10]=0;e[11]=1;e[12]=1;e[13]=1;e[14]=1;e[15]=1;h=new t(h,c,{geometry:[{name:"a_pos",count:2,type:5120,offset:0,stride:4,normalized:!1,divisor:0},{name:"a_tex",count:2,type:5120,offset:2,stride:4,normalized:!1,divisor:0}]},{geometry:m.createVertex(h,35044,e)});this._program=b;this._vertexArrayObject=h;return this._initialized=!0};return n}()})},"esri/layers/vectorTiles/views/2d/libs/gl-matrix/common":function(){define([],function(){if(!G)var G=1E-6;if(!A)var A=
"undefined"!==typeof Float32Array?Float32Array:Array;if(!a)var a=Math.random;var m={GLMAT_EPSILON:G,GLMAT_ARRAY_TYPE:A,GLMAT_RANDOM:a,setMatrixArrayType:function(n){m.GLMAT_ARRAY_TYPE=n}},p=Math.PI/180,t=180/Math.PI;m.toRadian=function(n){return n*p};m.toDegree=function(n){return n*t};m.setMatrixArrayType(Array);return m})},"esri/layers/vectorTiles/views/2d/libs/gl-matrix/mat2d":function(){define(["./common"],function(G){var A=G.GLMAT_ARRAY_TYPE;G={create:function(){var a=new A(6);a[0]=1;a[1]=0;a[2]=
0;a[3]=1;a[4]=0;a[5]=0;return a},clone:function(a){var m=new A(6);m[0]=a[0];m[1]=a[1];m[2]=a[2];m[3]=a[3];m[4]=a[4];m[5]=a[5];return m},copy:function(a,m){a[0]=m[0];a[1]=m[1];a[2]=m[2];a[3]=m[3];a[4]=m[4];a[5]=m[5];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},invert:function(a,m){var p=m[0],t=m[1],n=m[2],h=m[3],c=m[4];m=m[5];var b=p*h-t*n;if(!b)return null;b=1/b;a[0]=h*b;a[1]=-t*b;a[2]=-n*b;a[3]=p*b;a[4]=(n*m-h*c)*b;a[5]=(t*c-p*m)*b;return a},determinant:function(a){return a[0]*
a[3]-a[1]*a[2]},multiply:function(a,m,p){var t=m[0],n=m[1],h=m[2],c=m[3],b=m[4];m=m[5];var e=p[0],f=p[1],k=p[2],u=p[3],v=p[4];p=p[5];a[0]=t*e+h*f;a[1]=n*e+c*f;a[2]=t*k+h*u;a[3]=n*k+c*u;a[4]=t*v+h*p+b;a[5]=n*v+c*p+m;return a}};G.mul=G.multiply;G.rotate=function(a,m,p){var t=m[0],n=m[1],h=m[2],c=m[3],b=m[4];m=m[5];var e=Math.sin(p);p=Math.cos(p);a[0]=t*p+h*e;a[1]=n*p+c*e;a[2]=t*-e+h*p;a[3]=n*-e+c*p;a[4]=b;a[5]=m;return a};G.scale=function(a,m,p){var t=m[1],n=m[2],h=m[3],c=m[4],b=m[5],e=p[0];p=p[1];
a[0]=m[0]*e;a[1]=t*e;a[2]=n*p;a[3]=h*p;a[4]=c;a[5]=b;return a};G.translate=function(a,m,p){var t=m[0],n=m[1],h=m[2],c=m[3],b=m[4];m=m[5];var e=p[0];p=p[1];a[0]=t;a[1]=n;a[2]=h;a[3]=c;a[4]=t*e+h*p+b;a[5]=n*e+c*p+m;return a};G.fromRotation=function(a,m){var p=Math.sin(m);m=Math.cos(m);a[0]=m;a[1]=p;a[2]=-p;a[3]=m;a[4]=0;a[5]=0;return a};G.fromScaling=function(a,m){a[0]=m[0];a[1]=0;a[2]=0;a[3]=m[1];a[4]=0;a[5]=0;return a};G.fromTranslation=function(a,m){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=m[0];a[5]=m[1];
return a};G.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"};G.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};return G})},"esri/layers/vectorTiles/views/2d/libs/gl-matrix/vec2":function(){define(["./common"],function(G){var A=G.GLMAT_ARRAY_TYPE,a=G.GLMAT_RANDOM,m={create:function(){var p=new A(2);p[0]=0;p[1]=0;return p},clone:function(p){var t=new A(2);t[0]=p[0];t[1]=
p[1];return t},fromValues:function(p,t){var n=new A(2);n[0]=p;n[1]=t;return n},copy:function(p,t){p[0]=t[0];p[1]=t[1];return p},set:function(p,t,n){p[0]=t;p[1]=n;return p},add:function(p,t,n){p[0]=t[0]+n[0];p[1]=t[1]+n[1];return p},subtract:function(p,t,n){p[0]=t[0]-n[0];p[1]=t[1]-n[1];return p}};m.sub=m.subtract;m.multiply=function(p,t,n){p[0]=t[0]*n[0];p[1]=t[1]*n[1];return p};m.mul=m.multiply;m.divide=function(p,t,n){p[0]=t[0]/n[0];p[1]=t[1]/n[1];return p};m.div=m.divide;m.min=function(p,t,n){p[0]=
Math.min(t[0],n[0]);p[1]=Math.min(t[1],n[1]);return p};m.max=function(p,t,n){p[0]=Math.max(t[0],n[0]);p[1]=Math.max(t[1],n[1]);return p};m.scale=function(p,t,n){p[0]=t[0]*n;p[1]=t[1]*n;return p};m.scaleAndAdd=function(p,t,n,h){p[0]=t[0]+n[0]*h;p[1]=t[1]+n[1]*h;return p};m.distance=function(p,t){var n=t[0]-p[0];p=t[1]-p[1];return Math.sqrt(n*n+p*p)};m.dist=m.distance;m.squaredDistance=function(p,t){var n=t[0]-p[0];p=t[1]-p[1];return n*n+p*p};m.sqrDist=m.squaredDistance;m.length=function(p){var t=p[0];
p=p[1];return Math.sqrt(t*t+p*p)};m.len=m.length;m.squaredLength=function(p){var t=p[0];p=p[1];return t*t+p*p};m.sqrLen=m.squaredLength;m.negate=function(p,t){p[0]=-t[0];p[1]=-t[1];return p};m.inverse=function(p,t){p[0]=1/t[0];p[1]=1/t[1];return p};m.normalize=function(p,t){var n=t[0],h=t[1];n=n*n+h*h;0<n&&(n=1/Math.sqrt(n),p[0]=t[0]*n,p[1]=t[1]*n);return p};m.dot=function(p,t){return p[0]*t[0]+p[1]*t[1]};m.cross=function(p,t,n){t=t[0]*n[1]-t[1]*n[0];p[0]=p[1]=0;p[2]=t;return p};m.lerp=function(p,
t,n,h){var c=t[0];t=t[1];p[0]=c+h*(n[0]-c);p[1]=t+h*(n[1]-t);return p};m.random=function(p,t){t=t||1;var n=2*a()*Math.PI;p[0]=Math.cos(n)*t;p[1]=Math.sin(n)*t;return p};m.transformMat2=function(p,t,n){var h=t[0];t=t[1];p[0]=n[0]*h+n[2]*t;p[1]=n[1]*h+n[3]*t;return p};m.transformMat2d=function(p,t,n){var h=t[0];t=t[1];p[0]=n[0]*h+n[2]*t+n[4];p[1]=n[1]*h+n[3]*t+n[5];return p};m.transformMat3=function(p,t,n){var h=t[0];t=t[1];p[0]=n[0]*h+n[3]*t+n[6];p[1]=n[1]*h+n[4]*t+n[7];return p};m.transformMat4=function(p,
t,n){var h=t[0];t=t[1];p[0]=n[0]*h+n[4]*t+n[12];p[1]=n[1]*h+n[5]*t+n[13];return p};m.forEach=function(){var p=m.create();return function(t,n,h,c,b,e){n||(n=2);h||(h=0);for(c=c?Math.min(c*n+h,t.length):t.length;h<c;h+=n)p[0]=t[h],p[1]=t[h+1],b(p,p,e),t[h]=p[0],t[h+1]=p[1];return t}}();m.str=function(p){return"vec2("+p[0]+", "+p[1]+")"};return m})},"esri/layers/vectorTiles/views/support/screenshotUtils":function(){define(["require","exports","../../core/tsSupport/assignHelper"],function(G,A,a){Object.defineProperty(A,
"__esModule",{value:!0});A.adjustScreenshotSettings=function(m,p){m=a({format:"png",quality:100},m);if(m.includePadding){var t=p.width;var n=p.height}else t=p.width-p.padding.left-p.padding.right,n=p.height-p.padding.top-p.padding.bottom;var h=t/n;void 0!==m.width&&void 0===m.height?m.height=m.width/h:void 0!==m.height&&void 0===m.width&&(m.width=h*m.height);void 0!==m.height&&(m.height=Math.floor(m.height));void 0!==m.width&&(m.width=Math.floor(m.width));m.area||m.includePadding||(m.area={x:p.padding.left,
y:p.padding.top,width:t,height:n});return m};A.resampleHermite=function(m,p,t,n,h,c,b){void 0===b&&(b=!0);var e=p/h;t/=c;for(var f=Math.ceil(e/2),k=Math.ceil(t/2),u=0;u<c;u++)for(var v=0;v<h;v++){for(var g=4*(v+(b?c-u-1:u)*h),q=0,x=0,w=0,B=0,z=0,C=0,y=0,D=(u+.5)*t,F=Math.floor(u*t);F<(u+1)*t;F++){var H=Math.abs(D-(F+.5))/k,E=(v+.5)*e;H*=H;for(var I=Math.floor(v*e);I<(v+1)*e;I++){var J=Math.abs(E-(I+.5))/f;q=Math.sqrt(H+J*J);-1<=q&&1>=q&&(q=2*q*q*q-3*q*q+1,0<q&&(J=4*(I+F*p),y+=q*m[J+3],w+=q,255>m[J+
3]&&(q=q*m[J+3]/250),B+=q*m[J],z+=q*m[J+1],C+=q*m[J+2],x+=q))}}n[g]=B/x;n[g+1]=z/x;n[g+2]=C/x;n[g+3]=y/w}}})},"esri/layers/vectorTiles/views/webgl/RenderingContext":function(){define("require exports dojo/has ./enums ./InstanceCounter ./capabilities/isWebGL2Context ./capabilities/load".split(" "),function(G,A,a,m,p,t,n){return function(){function h(c,b){this.gl=null;this._blendEnabled=!1;this._blendColorState={r:0,g:0,b:0,a:0};this._blendFunctionState={srcRGB:1,dstRGB:0,srcAlpha:1,dstAlpha:0};this._blendEquationState=
{mode:32774,modeAlpha:32774};this._colorMaskState={r:!0,g:!0,b:!0,a:!0};this._polygonCullingEnabled=!1;this._cullFace=1029;this._frontFace=2305;this._scissorTestEnabled=!1;this._scissorRect={x:0,y:0,width:0,height:0};this._depthTestEnabled=!1;this._depthFunction=513;this._clearDepth=1;this._depthWriteEnabled=!0;this._depthRange={zNear:0,zFar:1};this._viewport=null;this._polygonOffsetFillEnabled=this._stencilTestEnabled=!1;this._polygonOffset=[0,0];this._stencilFunction={face:1032,func:519,ref:0,mask:1};
this._clearStencil=0;this._stencilWriteMask=1;this._stencilOperation={face:1032,fail:7680,zFail:7680,zPass:7680};this._lineWidth=1;this._clearColor={r:0,g:0,b:0,a:0};this._activeRenderbuffer=this._activeFramebuffer=this._activeIndexBuffer=this._activeVertexBuffer=this._activeShaderProgram=null;this._activeTextureUnit=0;this._textureUnitMap={};this.contextVersion=t.default(c)?"webgl2":"webgl";this.gl=c;c instanceof WebGLRenderingContext&&this.gl.getExtension("OES_element_index_uint");this._capabilities=
n.loadCapabilities(c,b);c=this.gl.getParameter(this.gl.VIEWPORT);this._viewport={x:c[0],y:c[1],width:c[2],height:c[3]};c=this.capabilities.textureFilterAnisotropic;this._parameters={versionString:this.gl.getParameter(this.gl.VERSION),maxVertexTextureImageUnits:this.gl.getParameter(this.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexAttributes:this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),maxMaxAnisotropy:c?this.gl.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY):void 0,maxTextureImageUnits:this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS)};
a("esri-webgl-debug")&&(this.instanceCounter=new p);this.enforceState()}Object.defineProperty(h.prototype,"contextAttributes",{get:function(){return this.gl.getContextAttributes()},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"parameters",{get:function(){return this._parameters},enumerable:!0,configurable:!0});h.prototype.dispose=function(){this.bindVAO(null);this.unbindBuffer(34962);this.unbindBuffer(34963);this._textureUnitMap={};a("esri-webgl-debug")&&this.instanceCounter.printResourceCount();
this.gl=null};h.prototype.setBlendingEnabled=function(c){this._blendEnabled!==c&&(!0===c?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._blendEnabled=c)};h.prototype.setBlendColor=function(c,b,e,f){if(c!==this._blendColorState.r||b!==this._blendColorState.g||e!==this._blendColorState.b||f!==this._blendColorState.a)this.gl.blendColor(c,b,e,f),this._blendColorState.r=c,this._blendColorState.g=b,this._blendColorState.b=e,this._blendColorState.a=f};h.prototype.setBlendFunction=function(c,
b){if(c!==this._blendFunctionState.srcRGB||b!==this._blendFunctionState.dstRGB)this.gl.blendFunc(c,b),this._blendFunctionState.srcRGB=c,this._blendFunctionState.srcAlpha=c,this._blendFunctionState.dstRGB=b,this._blendFunctionState.dstAlpha=b};h.prototype.setBlendFunctionSeparate=function(c,b,e,f){if(this._blendFunctionState.srcRGB!==c||this._blendFunctionState.srcAlpha!==e||this._blendFunctionState.dstRGB!==b||this._blendFunctionState.dstAlpha!==f)this.gl.blendFuncSeparate(c,b,e,f),this._blendFunctionState.srcRGB=
c,this._blendFunctionState.srcAlpha=e,this._blendFunctionState.dstRGB=b,this._blendFunctionState.dstAlpha=f};h.prototype.setBlendEquation=function(c){this._blendEquationState.mode!==c&&(this.gl.blendEquation(c),this._blendEquationState.mode=c,this._blendEquationState.modeAlpha=c)};h.prototype.setBlendEquationSeparate=function(c,b){if(this._blendEquationState.mode!==c||this._blendEquationState.modeAlpha!==b)this.gl.blendEquationSeparate(c,b),this._blendEquationState.mode=c,this._blendEquationState.modeAlpha=
b};h.prototype.setColorMask=function(c,b,e,f){if(this._colorMaskState.r!==c||this._colorMaskState.g!==b||this._colorMaskState.b!==e||this._colorMaskState.a!==f)this.gl.colorMask(c,b,e,f),this._colorMaskState.r=c,this._colorMaskState.g=b,this._colorMaskState.b=e,this._colorMaskState.a=f};h.prototype.setClearColor=function(c,b,e,f){if(this._clearColor.r!==c||this._clearColor.g!==b||this._clearColor.b!==e||this._clearColor.a!==f)this.gl.clearColor(c,b,e,f),this._clearColor.r=c,this._clearColor.g=b,this._clearColor.b=
e,this._clearColor.a=f};h.prototype.setFaceCullingEnabled=function(c){this._polygonCullingEnabled!==c&&(!0===c?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this._polygonCullingEnabled=c)};h.prototype.setPolygonOffsetFillEnabled=function(c){this._polygonOffsetFillEnabled!==c&&(!0===c?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._polygonOffsetFillEnabled=c)};h.prototype.setPolygonOffset=function(c,b){if(this._polygonOffset[0]!==
c||this._polygonOffset[1]!==b)this._polygonOffset[0]=c,this._polygonOffset[1]=b,this.gl.polygonOffset(c,b)};h.prototype.setCullFace=function(c){this._cullFace!==c&&(this.gl.cullFace(c),this._cullFace=c)};h.prototype.setFrontFace=function(c){this._frontFace!==c&&(this.gl.frontFace(c),this._frontFace=c)};h.prototype.setScissorTestEnabled=function(c){this._scissorTestEnabled!==c&&(!0===c?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._scissorTestEnabled=c)};h.prototype.setScissorRect=
function(c,b,e,f){if(this._scissorRect.x!==c||this._scissorRect.y!==b||this._scissorRect.width!==e||this._scissorRect.height!==f)this.gl.scissor(c,b,e,f),this._scissorRect.x=c,this._scissorRect.y=b,this._scissorRect.width=e,this._scissorRect.height=f};h.prototype.setDepthTestEnabled=function(c){this._depthTestEnabled!==c&&(!0===c?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._depthTestEnabled=c)};h.prototype.setClearDepth=function(c){this._clearDepth!==c&&(this.gl.clearDepth(c),
this._clearDepth=c)};h.prototype.setDepthFunction=function(c){this._depthFunction!==c&&(this.gl.depthFunc(c),this._depthFunction=c)};h.prototype.setDepthWriteEnabled=function(c){this._depthWriteEnabled!==c&&(this.gl.depthMask(c),this._depthWriteEnabled=c)};h.prototype.setDepthRange=function(c,b){if(this._depthRange.zNear!==c||this._depthRange.zFar!==b)this.gl.depthRange(c,b),this._depthRange.zNear=c,this._depthRange.zFar=b};h.prototype.setStencilTestEnabled=function(c){this._stencilTestEnabled!==
c&&(!0===c?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._stencilTestEnabled=c)};h.prototype.setClearStencil=function(c){c!==this._clearStencil&&(this.gl.clearStencil(c),this._clearStencil=c)};h.prototype.setStencilFunction=function(c,b,e){if(this._stencilFunction.func!==c||this._stencilFunction.ref!==b||this._stencilFunction.mask!==e)this.gl.stencilFunc(c,b,e),this._stencilFunction.face=1032,this._stencilFunction.func=c,this._stencilFunction.ref=b,this._stencilFunction.mask=
e};h.prototype.setStencilFunctionSeparate=function(c,b,e,f){if(this._stencilFunction.face!==c||this._stencilFunction.func!==b||this._stencilFunction.ref!==e||this._stencilFunction.mask!==f)this.gl.stencilFuncSeparate(c,b,e,f),this._stencilFunction.face=c,this._stencilFunction.func=b,this._stencilFunction.ref=e,this._stencilFunction.mask=f};h.prototype.setStencilWriteMask=function(c){this._stencilWriteMask!==c&&(this.gl.stencilMask(c),this._stencilWriteMask=c)};h.prototype.setStencilOp=function(c,
b,e){if(this._stencilOperation.fail!==c||this._stencilOperation.zFail!==b||this._stencilOperation.zPass!==e)this.gl.stencilOp(c,b,e),this._stencilOperation.face=1032,this._stencilOperation.fail=c,this._stencilOperation.zFail=b,this._stencilOperation.zPass=e};h.prototype.setStencilOpSeparate=function(c,b,e,f){if(this._stencilOperation.face!==c||this._stencilOperation.fail!==b||this._stencilOperation.zFail!==e||this._stencilOperation.zPass!==f)this.gl.stencilOpSeparate(c,b,e,f),this._stencilOperation.face=
c,this._stencilOperation.face=c,this._stencilOperation.fail=b,this._stencilOperation.zFail=e,this._stencilOperation.zPass=f};h.prototype.setLineWidth=function(c){var b=this._lineWidth;this._lineWidth!==c&&(this.gl.lineWidth(c),this._lineWidth=c);return b};h.prototype.setActiveTexture=function(c){var b=this._activeTextureUnit;0<=c&&c!==this._activeTextureUnit&&(this.gl.activeTexture(m.BASE_TEXTURE_UNIT+c),this._activeTextureUnit=c);return b};h.prototype.clear=function(c){c&&this.gl.clear(c)};h.prototype.drawArrays=
function(c,b,e){this.gl.drawArrays(c,b,e)};h.prototype.drawElements=function(c,b,e,f){5123===e?this.gl.drawElements(c,b,e,f):5125===e&&this.gl.drawElements(c,b,e,f)};Object.defineProperty(h.prototype,"capabilities",{get:function(){return this._capabilities},enumerable:!0,configurable:!0});h.prototype.setViewport=function(c,b,e,f){var k=this._viewport;if(k.x!==c||k.y!==b||k.width!==e||k.height!==f)k.x=c,k.y=b,k.width=e,k.height=f,this.gl.viewport(c,b,e,f)};h.prototype.getViewport=function(){return{x:this._viewport.x,
y:this._viewport.y,width:this._viewport.width,height:this._viewport.height}};h.prototype.bindProgram=function(c){c?this._activeShaderProgram!==c&&(c.initialize(),this.gl.useProgram(c.glName),this._activeShaderProgram=c):(this.gl.useProgram(null),this._activeShaderProgram=null)};h.prototype.bindTexture=function(c,b){void 0===b&&(b=0);-1===h._MAX_TEXTURE_IMAGE_UNITS&&(h._MAX_TEXTURE_IMAGE_UNITS=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS));(b>=h._MAX_TEXTURE_IMAGE_UNITS||0>b)&&console.error("Input texture unit is out of range of available units!");
var e=this._textureUnitMap[b];this.setActiveTexture(b);null==c||null==c.glName?(null!=e&&(this.gl.bindTexture(e.descriptor.target,null),e.setBoundToUnit(b,!1)),this._textureUnitMap[b]=null):e&&e.id===c.id?c.applyChanges():(this.gl.bindTexture(c.descriptor.target,c.glName),c.setBoundToUnit(b,!0),c.applyChanges(),this._textureUnitMap[b]=c)};h.prototype.bindFramebuffer=function(c){c?this._activeFramebuffer!==c&&(c.initialize()||this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,c.glName),this._activeFramebuffer=
c):(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this._activeFramebuffer=null)};h.prototype.bindBuffer=function(c){c&&(34962===c.bufferType?this._activeVertexBuffer=h._bindBuffer(this.gl,c,c.bufferType,this._activeVertexBuffer):this._activeIndexBuffer=h._bindBuffer(this.gl,c,c.bufferType,this._activeIndexBuffer))};h.prototype.bindRenderbuffer=function(c){var b=this.gl;c||(b.bindRenderbuffer(b.RENDERBUFFER,null),this._activeRenderbuffer=null);this._activeRenderbuffer!==c&&(b.bindRenderbuffer(b.RENDERBUFFER,
c.glName),this._activeRenderbuffer=c)};h.prototype.unbindBuffer=function(c){34962===c?this._activeVertexBuffer=h._bindBuffer(this.gl,null,c,this._activeVertexBuffer):this._activeIndexBuffer=h._bindBuffer(this.gl,null,c,this._activeIndexBuffer)};h.prototype.bindVAO=function(c){c?this._activeVertexArrayObject&&this._activeVertexArrayObject.id===c.id||(c.bind(),this._activeVertexArrayObject=c):this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null)};
h.prototype.getBoundTexture=function(c){return this._textureUnitMap[c]};h.prototype.getBoundFramebufferObject=function(){return this._activeFramebuffer};h.prototype.getBoundVAO=function(){return this._activeVertexArrayObject};h.prototype.resetState=function(){this.bindProgram(null);this.bindVAO(null);this.bindFramebuffer(null);this.unbindBuffer(34962);this.unbindBuffer(34963);for(var c=0;c<this.parameters.maxTextureImageUnits;c++)this.bindTexture(null,c);this.setBlendingEnabled(!1);this.setBlendFunction(1,
0);this.setBlendEquation(32774);this.setBlendColor(0,0,0,0);this.setFaceCullingEnabled(!1);this.setCullFace(1029);this.setFrontFace(2305);this.setPolygonOffsetFillEnabled(!1);this.setPolygonOffset(0,0);this.setScissorTestEnabled(!1);this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height);this.setDepthTestEnabled(!1);this.setDepthFunction(513);this.setDepthRange(0,1);this.setStencilTestEnabled(!1);this.setStencilFunction(519,0,0);this.setStencilOp(7680,7680,7680);this.setClearColor(0,0,
0,0);this.setClearDepth(1);this.setClearStencil(0);this.setColorMask(!0,!0,!0,!0);this.setStencilWriteMask(4294967295);this.setDepthWriteEnabled(!0);this.setViewport(0,0,this.gl.canvas.width,this.gl.canvas.height)};h.prototype.enforceState=function(){var c=this.gl,b=this._capabilities.vao;b&&b.bindVertexArray(null);for(var e=0;e<this.parameters.maxVertexAttributes;e++)c.disableVertexAttribArray(e);this._activeVertexBuffer?c.bindBuffer(this._activeVertexBuffer.bufferType,this._activeVertexBuffer.glName):
c.bindBuffer(34962,null);this._activeIndexBuffer?c.bindBuffer(this._activeIndexBuffer.bufferType,this._activeIndexBuffer.glName):c.bindBuffer(34963,null);if(b&&this._activeVertexArrayObject){if(b=this._activeVertexArrayObject)this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null;this.bindVAO(b)}c.bindFramebuffer(c.FRAMEBUFFER,this._activeFramebuffer?this._activeFramebuffer.glName:null);c.useProgram(this._activeShaderProgram?this._activeShaderProgram.glName:null);c.blendColor(this._blendColorState.r,
this._blendColorState.g,this._blendColorState.b,this._blendColorState.a);c.bindRenderbuffer(c.RENDERBUFFER,this._activeRenderbuffer?this._activeRenderbuffer.glName:null);!0===this._blendEnabled?c.enable(this.gl.BLEND):c.disable(this.gl.BLEND);c.blendEquationSeparate(this._blendEquationState.mode,this._blendEquationState.modeAlpha);c.blendFuncSeparate(this._blendFunctionState.srcRGB,this._blendFunctionState.dstRGB,this._blendFunctionState.srcAlpha,this._blendFunctionState.dstAlpha);c.clearColor(this._clearColor.r,
this._clearColor.g,this._clearColor.b,this._clearColor.a);c.clearDepth(this._clearDepth);c.clearStencil(this._clearStencil);c.colorMask(this._colorMaskState.r,this._colorMaskState.g,this._colorMaskState.b,this._colorMaskState.a);c.cullFace(this._cullFace);c.depthFunc(this._depthFunction);c.depthRange(this._depthRange.zNear,this._depthRange.zFar);!0===this._depthTestEnabled?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST);c.depthMask(this._depthWriteEnabled);c.frontFace(this._frontFace);c.lineWidth(this._lineWidth);
!0===this._polygonCullingEnabled?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE);c.polygonOffset(this._polygonOffset[0],this._polygonOffset[1]);!0===this._polygonOffsetFillEnabled?c.enable(c.POLYGON_OFFSET_FILL):c.disable(c.POLYGON_OFFSET_FILL);c.scissor(this._scissorRect.x,this._scissorRect.y,this._scissorRect.width,this._scissorRect.height);!0===this._scissorTestEnabled?c.enable(c.SCISSOR_TEST):c.disable(c.SCISSOR_TEST);c.stencilFunc(this._stencilFunction.func,this._stencilFunction.ref,this._stencilFunction.mask);
c.stencilOpSeparate(this._stencilOperation.face,this._stencilOperation.fail,this._stencilOperation.zFail,this._stencilOperation.zPass);!0===this._stencilTestEnabled?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST);c.stencilMask(this._stencilWriteMask);for(b=0;b<this.parameters.maxTextureImageUnits;b++)c.activeTexture(m.BASE_TEXTURE_UNIT+b),c.bindTexture(3553,null),(e=this._textureUnitMap[b])&&c.bindTexture(e.descriptor.target,e.glName);c.activeTexture(m.BASE_TEXTURE_UNIT+this._activeTextureUnit);
c.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height)};h._bindBuffer=function(c,b,e,f){if(!b)return c.bindBuffer(e,null),null;if(f===b)return f;c.bindBuffer(e,b.glName);return b};h._MAX_TEXTURE_IMAGE_UNITS=-1;return h}()})},"esri/layers/vectorTiles/views/webgl/enums":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.BASE_TEXTURE_UNIT=33984})},"esri/layers/vectorTiles/views/webgl/InstanceCounter":function(){define(["require",
"exports"],function(G,A){return function(){function a(){this._instanceCount={textureCount:0,bufferCount:0,vaoCount:0,programCount:0,framebufferCount:0,renderBufferCount:0}}a.prototype.incrementCount=function(m){switch(m){case 0:this._instanceCount.textureCount++;break;case 1:this._instanceCount.bufferCount++;break;case 2:this._instanceCount.vaoCount++;break;case 3:this._instanceCount.programCount++;break;case 4:this._instanceCount.framebufferCount++;break;case 5:this._instanceCount.renderBufferCount++}};
a.prototype.decrementCount=function(m){switch(m){case 0:this._instanceCount.textureCount--;break;case 1:this._instanceCount.bufferCount--;break;case 2:this._instanceCount.vaoCount--;break;case 3:this._instanceCount.programCount--;break;case 4:this._instanceCount.framebufferCount--;break;case 5:this._instanceCount.renderBufferCount--}};a.prototype.printResourceCount=function(){console.log("Live objects:");console.log("Textures: "+this._instanceCount.textureCount);console.log("Buffers: "+this._instanceCount.bufferCount);
console.log("VAOs: "+this._instanceCount.vaoCount);console.log("Programs: "+this._instanceCount.programCount);console.log("Framebuffers: "+this._instanceCount.framebufferCount);console.log("Renderbuffers: "+this._instanceCount.renderBufferCount)};return a}()})},"esri/layers/vectorTiles/views/webgl/capabilities/isWebGL2Context":function(){define(["require","exports"],function(G,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=function(a){return window.WebGL2RenderingContext&&a instanceof
window.WebGL2RenderingContext}})},"esri/layers/vectorTiles/views/webgl/capabilities/load":function(){define("require exports ./DisjointTimerQuery ./Instancing ./isWebGL2Context ./VertexArrayObjects".split(" "),function(G,A,a,m,p,t){function n(h,c,b,e,f){if(e&&p.default(h))return!0;if(c[b])return!1;for(c=0;c<f.length;c++)if(h.getExtension(f[c]))return!0;return!1}Object.defineProperty(A,"__esModule",{value:!0});A.loadCapabilities=function(h,c){c=c&&c.disabledExtensions||{};var b=m.load(h,c),e=t.load(h,
c);var f=c.compressedTextureS3TC?null:(f=h.getExtension("WEBGL_compressed_texture_s3tc"))?{COMPRESSED_RGB_S3TC_DXT1:f.COMPRESSED_RGB_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT1:f.COMPRESSED_RGBA_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT3:f.COMPRESSED_RGBA_S3TC_DXT3_EXT,COMPRESSED_RGBA_S3TC_DXT5:f.COMPRESSED_RGBA_S3TC_DXT5_EXT}:null;var k=c.textureFilterAnisotropic?null:(k=h.getExtension("EXT_texture_filter_anisotropic")||h.getExtension("MOZ_EXT_texture_filter_anisotropic")||h.getExtension("WEBKIT_EXT_texture_filter_anisotropic"))?
{MAX_TEXTURE_MAX_ANISOTROPY:k.MAX_TEXTURE_MAX_ANISOTROPY_EXT,TEXTURE_MAX_ANISOTROPY:k.TEXTURE_MAX_ANISOTROPY_EXT}:null;var u=a.load(h,c);if(p.default(h))var v=c.colorBufferFloat||!h.getExtension("EXT_color_buffer_float")?null:{R16F:h.R16F,RG16F:h.RG16F,RGBA16F:h.RGBA16F,R32F:h.R32F,RG32F:h.RG32F,RGBA32F:h.RGBA32F,R11F_G11F_B10F:h.R11F_G11F_B10F};else if(h instanceof WebGLRenderingContext){v=!c.colorBufferFloat&&h.getExtension("EXT_color_buffer_half_float");var g=!c.colorBufferFloat&&h.getExtension("WEBGL_color_buffer_float");
v=v||g?{RGBA16F:v?v.RGBA16F_EXT:void 0,RGBA32F:g?g.RGBA32F_EXT:void 0}:null}else v=void 0;g=p.default(h)?{MIN:h.MIN,MAX:h.MAX}:c.blendMinMax?null:(g=h.getExtension("EXT_blend_minmax"))?{MIN:g.MIN_EXT,MAX:g.MAX_EXT}:null;return{instancing:b,vao:e,compressedTextureS3TC:f,textureFilterAnisotropic:k,disjointTimerQuery:u,colorBufferFloat:v,blendMinMax:g,depthTexture:n(h,c,"depthTexture",!0,["WEBGL_depth_texture","MOZ_WEBGL_depth_texture","WEBKIT_WEBGL_depth_texture"]),standardDerivatives:n(h,c,"standardDerivatives",
!0,["OES_standard_derivatives"]),shaderTextureLOD:n(h,c,"shaderTextureLOD",!0,["EXT_shader_texture_lod"]),textureFloatLinear:n(h,c,"textureFloatLinear",!1,["OES_texture_float_linear"]),fragDepth:n(h,c,"fragDepth",!0,["EXT_frag_depth"])}}})},"esri/layers/vectorTiles/views/webgl/capabilities/DisjointTimerQuery":function(){define(["require","exports","./isWebGL2Context"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});A.load=function(m,p){if(p.disjointTimerQuery)return null;var t=m.getExtension("EXT_disjoint_timer_query")||
m.getExtension("EXT_disjoint_timer_query_webgl2");return t?a.default(m)?{createQuery:function(){return m.createQuery()},resultAvailable:function(n){return m.getQueryParameter(n,m.QUERY_RESULT_AVAILABLE)},getResult:function(n){return m.getQueryParameter(n,m.QUERY_RESULT)},disjoint:function(){return m.getParameter(t.GPU_DISJOINT_EXT)},beginTimeElapsed:function(n){return m.beginQuery(t.TIME_ELAPSED_EXT,n)},endTimeElapsed:function(){return m.endQuery(t.TIME_ELAPSED_EXT)},createTimestamp:function(n){return t.queryCounterEXT(n,
t.TIMESTAMP_EXT)},timestampBits:function(){return m.getQuery(t.TIMESTAMP_EXT,t.QUERY_COUNTER_BITS_EXT)}}:{createQuery:function(){return t.createQueryEXT()},resultAvailable:function(n){return t.getQueryObjectEXT(n,t.QUERY_RESULT_AVAILABLE_EXT)},getResult:function(n){return t.getQueryObjectEXT(n,t.QUERY_RESULT_EXT)},disjoint:function(){return m.getParameter(t.GPU_DISJOINT_EXT)},beginTimeElapsed:function(n){return t.beginQueryEXT(t.TIME_ELAPSED_EXT,n)},endTimeElapsed:function(){return t.endQueryEXT(t.TIME_ELAPSED_EXT)},
createTimestamp:function(n){return t.queryCounterEXT(n,t.TIMESTAMP_EXT)},timestampBits:function(){return t.getQueryEXT(t.TIMESTAMP_EXT,t.QUERY_COUNTER_BITS_EXT)}}:null}})},"esri/layers/vectorTiles/views/webgl/capabilities/Instancing":function(){define(["require","exports","./isWebGL2Context"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});A.load=function(m,p){return a.default(m)?{drawArraysInstanced:m.drawArraysInstanced.bind(m),drawElementsInstanced:m.drawElementsInstanced.bind(m),
vertexAttribDivisor:m.vertexAttribDivisor.bind(m)}:p.angleInstancedArrays?null:(m=m.getExtension("ANGLE_instanced_arrays"))?{drawArraysInstanced:m.drawArraysInstancedANGLE.bind(m),drawElementsInstanced:m.drawElementsInstancedANGLE.bind(m),vertexAttribDivisor:m.vertexAttribDivisorANGLE.bind(m)}:null}})},"esri/layers/vectorTiles/views/webgl/capabilities/VertexArrayObjects":function(){define(["require","exports","./isWebGL2Context"],function(G,A,a){Object.defineProperty(A,"__esModule",{value:!0});A.load=
function(m,p){return a.default(m)?{createVertexArray:m.createVertexArray.bind(m),deleteVertexArray:m.deleteVertexArray.bind(m),bindVertexArray:m.bindVertexArray.bind(m)}:p.vao?null:(m=m.getExtension("OES_vertex_array_object")||m.getExtension("MOZ_OES_vertex_array_object")||m.getExtension("WEBKIT_OES_vertex_array_object"))?{createVertexArray:m.createVertexArrayOES.bind(m),deleteVertexArray:m.deleteVertexArrayOES.bind(m),bindVertexArray:m.bindVertexArrayOES.bind(m)}:null}})},"esri/layers/vectorTiles/views/2d/tiling/TileInfoView":function(){define("require exports ../../../geometry/support/spatialReferenceUtils ./LODInfo ./TileCoverage ./TileKey ./TileSpan".split(" "),
function(G,A,a,m,p,t,n){var h=new t("0/0/0/0"),c=function(){function e(f,k,u,v,g,q,x,w){this.x=f;this.ymin=k;this.ymax=u;this.invM=v;this.leftAdjust=g;this.rightAdjust=q;this.leftBound=x;this.rightBound=w}e.create=function(f,k){if(f[1]>k[1]){var u=[k,f];f=u[0];k=u[1]}u=f[0];f=f[1];var v=k[0];k=k[1];var g=v-u,q=k-f;q=0!==q?g/q:0;var x=(Math.ceil(f)-f)*q,w=(Math.floor(f)-f)*q;return new e(u,Math.floor(f),Math.ceil(k),q,0>g?x:w,0>g?w:x,0>g?v:u,0>g?u:v)};e.prototype.incrRow=function(){this.x+=this.invM};
e.prototype.getLeftCol=function(){return Math.max(this.x+this.leftAdjust,this.leftBound)};e.prototype.getRightCol=function(){return Math.min(this.x+this.rightAdjust,this.rightBound)};return e}(),b=[[0,0],[0,0],[0,0],[0,0]];return function(){function e(f,k){var u=this;this.tileInfo=f;this.fullExtent=k;this.scales=[];this._lodInfos=null;this._infoByScale={};this._infoByLevel={};var v=f.lods.slice();v.sort(function(q,x){return x.scale-q.scale});var g=this._lodInfos=v.map(function(q){return m.create(f,
q,k)});v.forEach(function(q,x){u._infoByLevel[q.level]=g[x];u._infoByScale[q.scale]=g[x];u.scales[x]=q.scale},this);this._wrap=f.isWrappable}e.prototype.getLODInfoAt=function(f){return this._infoByLevel[f.level]};e.prototype.getTileBounds=function(f,k,u){void 0===u&&(u=!1);h.set(k);return(k=this._infoByLevel[h.level])?k.getTileBounds(f,h,u):f};e.prototype.getTileCoords=function(f,k,u){void 0===u&&(u=!1);h.set(k);return(k=this._infoByLevel[h.level])?k.getTileCoords(f,h,u):f};e.prototype.getTileCoverage=
function(f,k,u){void 0===k&&(k=192);void 0===u&&(u="closest");u="closest"===u?this.getClosestInfoForScale(f.scale):this.getSmallestInfoForScale(f.scale);var v=p.pool.acquire(u),g=this._wrap;var q=Infinity;var x=-Infinity,w=v.spans;b[0][0]=b[0][1]=b[1][1]=b[3][0]=-k;b[1][0]=b[2][0]=f.size[0]+k;b[2][1]=b[3][1]=f.size[1]+k;for(k=0;k<b.length;k++){var B=b[k];f.toMap(B,B);B[0]=u.getColumnForX(B[0]);B[1]=u.getRowForY(B[1])}f=[];B=3;for(k=0;4>k;k++){if(b[k][1]!==b[B][1]){var z=c.create(b[k],b[B]);q=Math.min(z.ymin,
q);x=Math.max(z.ymax,x);void 0===f[z.ymin]&&(f[z.ymin]=[]);f[z.ymin].push(z)}B=k}if(null==q||null==x||100<x-q)return null;for(B=[];q<x;){null!=f[q]&&(B=B.concat(f[q]));var C=Infinity;var y=-Infinity;for(k=B.length-1;0<=k;k--)z=B[k],C=Math.min(C,z.getLeftCol()),y=Math.max(y,z.getRightCol());C=Math.floor(C);y=Math.floor(y);if(q>=u.first[1]&&q<=u.last[1])if(g)if(u.size[0]<u.worldSize[0])for(z=Math.floor(y/u.worldSize[0]),k=Math.floor(C/u.worldSize[0]);k<=z;k++)w.push(new n(q,Math.max(u.getFirstColumnForWorld(k),
C),Math.min(u.getLastColumnForWorld(k),y)));else w.push(new n(q,C,y));else C>u.last[0]||y<u.first[0]||(C=Math.max(C,u.first[0]),y=Math.min(y,u.last[0]),w.push(new n(q,C,y)));q+=1;for(k=B.length-1;0<=k;k--)z=B[k],z.ymax>=q?z.incrRow():B.splice(k,1)}return v};e.prototype.getTileIdAtParent=function(f,k){k=t.pool.acquire(k);var u=this._infoByLevel[k.level];if(f.resolution<u.resolution)throw Error("Cannot calculate parent tile. destination LOD's resolution "+f.resolution+" is not a parent resolution of "+
u.resolution);return f.resolution===u.resolution?k.id:t.getId(f.level,Math.floor(k.row*u.resolution/f.resolution+.01),Math.floor(k.col*u.resolution/f.resolution+.01),k.world)};e.prototype.getTileParentId=function(f){f=t.pool.acquire(f);var k=this._lodInfos.indexOf(this._infoByLevel[f.level])-1;if(0>k)return t.pool.release(f),null;k=this.getTileIdAtParent(this._lodInfos[k],f);t.pool.release(f);return k};e.prototype.getTileResolution=function(f){return(f=this._infoByLevel[f.level])?f.resolution:-1};
e.prototype.getTileScale=function(f){return(f=this._infoByLevel[f.level])?f.scale:-1};e.prototype.intersects=function(f,k){var u=t.pool.acquire(k);k=this._infoByLevel[u.level];var v=f.lodInfo;if(v.resolution>k.resolution){var g=t.pool.acquire(this.getTileIdAtParent(v,u)),q=v.denormalizeCol(g.col,g.world);k=f.spans.some(function(F){return F.row===g.row&&F.colFrom<=q&&F.colTo>=q});t.pool.release(u);t.pool.release(g);return k}if(v.resolution<k.resolution){var x=f.spans.reduce(function(F,H){F[0]=Math.min(F[0],
H.row);F[1]=Math.max(F[1],H.row);F[2]=Math.min(F[2],H.colFrom);F[3]=Math.max(F[3],H.colTo);return F},[Infinity,-Infinity,Infinity,-Infinity]);f=x[0];var w=x[1],B=x[2];x=x[3];var z=k.denormalizeCol(u.col,u.world),C=v.getColumnForX(k.getXForColumn(z)),y=v.getRowForY(k.getYForRow(u.row));z=v.getColumnForX(k.getXForColumn(z+1))-1;k=v.getRowForY(k.getYForRow(u.row+1))-1;t.pool.release(u);return!(C>x||z<B||y>w||k<f)}var D=v.denormalizeCol(u.col,u.world);k=f.spans.some(function(F){return F.row===u.row&&
F.colFrom<=D&&F.colTo>=D});t.pool.release(u);return k};e.prototype.normalizeBounds=function(f,k,u){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];this._wrap&&(k=a.getInfo(this.tileInfo.spatialReference),u=-u*(k.valid[1]-k.valid[0]),f[0]+=u,f[2]+=u);return f};e.prototype.getSmallestInfoForScale=function(f){var k=this.scales;if(this._infoByScale[f])return this._infoByScale[f];if(f>k[0])return this._infoByScale[k[0]];for(var u=1;u<k.length-1;u++)if(f>k[u]+1E-6)return this._infoByScale[k[u-1]];return this._infoByScale[k[k.length-
1]]};e.prototype.getClosestInfoForScale=function(f){var k=this.scales;this._infoByScale[f]||(f=k.reduce(function(u,v,g,q){return Math.abs(v-f)<Math.abs(u-f)?v:u},k[0]));return this._infoByScale[f]};return e}()})},"esri/layers/vectorTiles/views/2d/tiling/LODInfo":function(){define(["require","exports","../../../geometry/support/spatialReferenceUtils","./TileKey"],function(G,A,a,m){function p(n,h,c){n[0]=h;n[1]=c;return n}var t=new m("0/0/0/0");return function(){function n(h,c,b,e,f,k,u,v,g,q,x,w){this.level=
h;this.resolution=c;this.scale=b;this.origin=e;this.first=f;this.last=k;this.size=u;this.norm=v;this.worldStart=g;this.worldEnd=q;this.worldSize=x;this.wrap=w}n.create=function(h,c,b){var e=a.getInfo(h.spatialReference),f=[h.origin.x,h.origin.y],k=[h.size[0]*c.resolution,h.size[1]*c.resolution],u=[-Infinity,-Infinity],v=[Infinity,Infinity],g=[Infinity,Infinity];b&&(p(u,Math.max(0,Math.floor((b.xmin-f[0])/k[0])),Math.max(0,Math.floor((f[1]-b.ymax)/k[1]))),p(v,Math.max(0,Math.floor((b.xmax-f[0])/k[0])),
Math.max(0,Math.floor((f[1]-b.ymin)/k[1]))),p(g,v[0]-u[0]+1,v[1]-u[1]+1));if(h.isWrappable){h=[Math.ceil(Math.round(2*e.origin[1]/c.resolution)/h.size[0]),g[1]];e=[Math.floor((e.origin[0]-f[0])/k[0]),u[1]];b=[h[0]+e[0]-1,v[1]];var q=!0}else e=u,b=v,h=g,q=!1;return new n(c.level,c.resolution,c.scale,f,u,v,g,k,e,b,h,q)};n.prototype.normalizeCol=function(h){if(!this.wrap)return h;var c=this.worldSize[0];return 0>h?c-1-Math.abs((h+1)%c):h%c};n.prototype.denormalizeCol=function(h,c){return this.wrap?this.worldSize[0]*
c+h:h};n.prototype.getWorldForColumn=function(h){return this.wrap?Math.floor(h/this.worldSize[0]):0};n.prototype.getFirstColumnForWorld=function(h){return h*this.worldSize[0]+this.first[0]};n.prototype.getLastColumnForWorld=function(h){return h*this.worldSize[0]+this.first[0]+this.size[0]-1};n.prototype.getColumnForX=function(h){return(h-this.origin[0])/this.norm[0]};n.prototype.getXForColumn=function(h){return this.origin[0]+h*this.norm[0]};n.prototype.getRowForY=function(h){return(this.origin[1]-
h)/this.norm[1]};n.prototype.getYForRow=function(h){return this.origin[1]-h*this.norm[1]};n.prototype.getTileBounds=function(h,c,b){void 0===b&&(b=!1);t.set(c);var e=b?t.col:this.denormalizeCol(t.col,t.world),f=t.row;c=this.getXForColumn(e);b=this.getYForRow(f+1);e=this.getXForColumn(e+1);f=this.getYForRow(f);h[0]=c;h[1]=b;h[2]=e;h[3]=f;return h};n.prototype.getTileCoords=function(h,c,b){void 0===b&&(b=!1);t.set(c);c=b?t.col:this.denormalizeCol(t.col,t.world);Array.isArray(h)?p(h,this.getXForColumn(c),
this.getYForRow(t.row)):(h.x=this.getXForColumn(c),h.y=this.getYForRow(t.row));return h};return n}()})},"esri/layers/vectorTiles/views/2d/tiling/TileCoverage":function(){define(["require","exports","../../../core/ArrayPool","../../../core/ObjectPool","./TileSpan"],function(G,A,a,m,p){return function(){function t(n){this.lodInfo=n;this.spans=a.acquire()}t.prototype.release=function(){for(var n=0,h=this.spans;n<h.length;n++)p.pool.release(h[n]);a.release(this.spans)};t.prototype.forEach=function(n,
h){var c=this.spans,b=this.lodInfo,e=b.level;if(0!==c.length)for(var f=0;f<c.length;f++){var k=c[f],u=k.row,v=k.colTo;for(k=k.colFrom;k<=v;k++)n.call(h,e,u,b.normalizeCol(k),b.getWorldForColumn(k))}};t.pool=new m(t,!0);return t}()})},"esri/layers/vectorTiles/views/2d/tiling/TileSpan":function(){define(["require","exports","../../../core/ObjectPool"],function(G,A,a){return function(){function m(p,t,n){this.row=p;this.colFrom=t;this.colTo=n}m.pool=new a(m,!0);return m}()})},"esri/layers/vectorTiles/views/2d/tiling/TileStrategy":function(){define(["require",
"exports","../../../core/tsSupport/extendsHelper","./enums","./TileKey"],function(G,A,a,m,p){var t=new p(0,0,0,0),n=new Map,h=[],c=[];return function(){function b(e){this._previousResolution=Number.POSITIVE_INFINITY;this.cachePolicy="keep";this.coveragePolicy="closest";this.tileIndex=new Map;this.tiles=[];this.buffer=192;this.acquireTile=e.acquireTile;this.releaseTile=e.releaseTile;this.tileInfoView=e.tileInfoView;e.cachePolicy&&(this.cachePolicy=e.cachePolicy);e.coveragePolicy&&(this.coveragePolicy=
e.coveragePolicy);null!=e.buffer&&(this.buffer=e.buffer)}b.prototype.destroy=function(){this.clear()};b.prototype.update=function(e){var f=this,k=this.tileIndex,u=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.coveragePolicy);if(u){var v=u.spans,g=u.lodInfo,q=g.level,x=e.state.resolution,w=!e.stationary&&x>this._previousResolution;this._previousResolution=x;k.forEach(function(E){return E.visible=!0});this.tiles.length=0;n.clear();var B=0,z=0;if(0<v.length)for(var C=0;C<v.length;C++){e=
v[C];for(var y=e.row,D=e.colTo,F=e.colFrom;F<=D;F++)B++,e=t.set(q,y,g.normalizeCol(F),g.getWorldForColumn(F)).id,k.has(e)?(x=k.get(e),x.status!==m.TileStatus.INITIALIZED&&z++,x.attached?n.set(e,x):x.attached||w||this._addParentTile(e,n)):(x=this.acquireTile(t),this.tileIndex.set(e,x),w||this._addParentTile(e,n))}var H=z===B;c.length=0;h.length=0;k.forEach(function(E,I){t.set(I);if(!n.has(I)){var J=f.tileInfoView.intersects(u,t);!J||!w&&H?"purge"===f.cachePolicy&&E.status!==m.TileStatus.MODIFIED&&
E.status!==m.TileStatus.READY?h.push(I):(t.level>q||!J)&&h.push(I):E.attached?c.push(I):t.level>q&&h.push(I)}});for(v=0;v<c.length;v++)e=c[v],(x=k.get(e))&&x.attached&&n.set(e,x);for(v=0;v<h.length;v++)e=h[v],x=k.get(e),this.releaseTile(x),k["delete"](e);n.forEach(function(E){return f.tiles.push(E)});k.forEach(function(E){n.has(E.key.id)||(E.visible=!1)});c.length=0;h.length=0;n.clear();return H}};b.prototype.clear=function(){var e=this,f=this.tileIndex;f.forEach(function(k){e.releaseTile(k)});f.clear()};
b.prototype._addParentTile=function(e,f){for(var k=null;;){e=this.tileInfoView.getTileParentId(e);if(!e)break;if(this.tileIndex.has(e)&&(k=this.tileIndex.get(e))&&k.attached){f.has(k.key.id)||f.set(k.key.id,k);break}}};return b}()})},"esri/layers/vectorTiles/views/2d/tiling/TileQueue":function(){define(["require","exports","../../../core/QueueProcessor","../libs/gl-matrix/vec2"],function(G,A,a,m){function p(c,b){c.length=0;b.forEach(function(e){return c.push(e)});return c}var t=new Set,n=[],h=new Map;
return function(){function c(b){var e=this;this._keysToRequests=new Map;this.tileInfoView=null;var f=b.strategy&&"scale-first"!==b.strategy?this._peekByCenterFirst.bind(this):this._peekByScaleFirst.bind(this);this.tileInfoView=b.tileInfoView;this._queues=b.tileServers&&0<b.tileServers.length?b.tileServers.map(function(k){return new a({concurrency:b.concurrency||6,process:function(u){u=e._keysToRequests.get(u);return b.process(u,k)},peeker:f})}):[new a({concurrency:b.concurrency||6,process:function(k){k=
e._keysToRequests.get(k);return b.process(k)},peeker:f})]}Object.defineProperty(c.prototype,"length",{get:function(){return this._queues.reduce(function(b,e){return b+e.length},0)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"onGoingCount",{get:function(){return this._keysToRequests.size},enumerable:!0,configurable:!0});c.prototype.clear=function(){for(var b=0,e=this._queues;b<e.length;b++)e[b].clear();this._keysToRequests.clear()};c.prototype.find=function(b,e){var f=this;e=
0;for(var k=this._queues;e<k.length;e++){var u=k[e].find(function(v){return b(f._keysToRequests.get(v).key)});if(u)return u}};c.prototype.get=function(b){b="string"===typeof b?b:b.id;for(var e=0,f=this._queues;e<f.length;e++){var k=f[e].get(b);if(k)return k}};c.prototype.getRequest=function(b){return this._keysToRequests.get("string"===typeof b?b:b.id)};c.prototype.has=function(b){return"string"===typeof b?this._keysToRequests.has(b):this._keysToRequests.has(b.id)};c.prototype.isOngoing=function(b){var e=
"string"===typeof b?b:b.id;return this.has(e)&&this._queues.some(function(f){return f.isOngoing(e)})};c.prototype.pause=function(){for(var b=0,e=this._queues;b<e.length;b++)e[b].pause()};c.prototype.push=function(b){var e=this,f=b.key.id,k=this._queues[b.key.row%this._queues.length].push(f);this._keysToRequests.set(f,b);k.then(function(){e._keysToRequests.delete(f)});k.catch(function(){e._keysToRequests.delete(f)});return k};c.prototype.reset=function(){for(var b=0,e=this._queues;b<e.length;b++)e[b].reset()};
c.prototype.resume=function(){for(var b=0,e=this._queues;b<e.length;b++)e[b].resume()};c.prototype._peekByScaleFirst=function(b){if(!this.state)return b[0];for(var e=this.tileInfoView,f=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY,u=0;u<b.length;u++){var v=this._keysToRequests.get(b[u]),g=this.tileInfoView.getTileScale(v.key);h.has(g)||(h.set(g,[]),f=Math.max(g,f),k=Math.min(g,k));h.get(g).push(v.key);t.add(g)}var q=this.state.scale;h.has(q)||(p(n,t),n.sort(),q=n.reduce(function(z,C,y,D){return Math.abs(C-
q)<Math.abs(z-q)?C:z},n[0]));q=Math.min(q,f);q=Math.max(q,k);b=h.get(q);var x=e.getClosestInfoForScale(q),w=x.getColumnForX(this.state.center[0]),B=x.getRowForY(this.state.center[1]);b.sort(function(z,C){var y=x.denormalizeCol(z.col,z.world),D=x.denormalizeCol(C.col,C.world);return Math.sqrt((w-y)*(w-y)+(B-z.row)*(B-z.row))-Math.sqrt((w-D)*(w-D)+(B-C.row)*(B-C.row))});t.clear();h.clear();return b[0].id};c.prototype._peekByCenterFirst=function(b){if(!this.state)return b[0];for(var e=this.tileInfoView,
f=this.state.center,k=[0,0],u=Number.POSITIVE_INFINITY,v=null,g=0;g<b.length;g++){var q=this._keysToRequests.get(b[g]);e.getTileCoords(k,q.key);var x=m.distance(k,f);x<u&&(u=x,v=q.key)}return v.id};return c}()})},"esri/layers/vectorTiles/core/QueueProcessor":function(){define(["require","exports","dojo/Deferred","./Queue","./scheduling"],function(G,A,a,m,p){return function(){function t(n){this._apiPromises=new Map;this._processingItems=new Map;this._isPaused=!1;this._scheduledNextHandle=null;this.concurrency=
1;this.ordered=!1;n.concurrency&&(this.concurrency=n.concurrency);this.ordered=!!n.ordered;this._queue=new m(n.peeker?{peeker:n.peeker}:void 0);this.process=n.process}Object.defineProperty(t.prototype,"length",{get:function(){return this._processingItems.size+this._queue.length},enumerable:!0,configurable:!0});t.prototype.clear=function(){this._queue.clear();var n=[];this._processingItems.forEach(function(h){return n.push(h.resultPromise)});this._processingItems.clear();n.forEach(function(h){return h.cancel()});
n.length=0;this._apiPromises.forEach(function(h){return n.push(h)});this._apiPromises.clear();n.forEach(function(h){return h.cancel()});this._cancelNext()};t.prototype.find=function(n,h){var c=this,b=void 0;this._apiPromises.forEach(function(e,f){n.call(h,f)&&(b=c._apiPromises.get(f).promise)});return b};t.prototype.get=function(n){return(n=this._apiPromises.get(n))&&n.promise||void 0};t.prototype.isOngoing=function(n){return this._processingItems.has(n)};t.prototype.has=function(n){return this._apiPromises.has(n)};
t.prototype.pause=function(){this._isPaused||(this._isPaused=!0,this._cancelNext())};t.prototype.push=function(n){var h=this;if(this._apiPromises.has(n))return this._apiPromises.get(n).promise;var c=new a(function(b){var e=h._processingItems.get(n);e?e.resultPromise.cancel(b):(h._remove(n),h._scheduleNext())});this._add(n,c);this._scheduleNext();return c.promise};t.prototype.reset=function(){var n=[];this._processingItems.forEach(function(b){return n.push(b)});this._processingItems.clear();for(var h=
0;h<n.length;h++){var c=n[h];c.resultPromise.isFulfilled()?this._processReset(c):(c.isReset=!0,c.resultPromise.cancel())}};t.prototype.resume=function(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())};t.prototype._scheduleNext=function(){var n=this;this._isPaused||this._scheduledNextHandle||(this._scheduledNextHandle=p.schedule(function(){n._scheduledNextHandle=null;n._next()}))};t.prototype._next=function(){for(;0<this._queue.length&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())};
t.prototype._processResult=function(n,h){this._remove(n.item);this._scheduleNext();n.dfd.resolve(h)};t.prototype._processError=function(n,h){n.isReset?this._processReset(n):(this._remove(n.item),this._scheduleNext(),n.dfd.reject(h))};t.prototype._processReset=function(n){this._remove(n.item);this._add(n.item,n.dfd);this._scheduleNext()};t.prototype._processOrdered=function(n,h){var c=this,b=!1;if(n.isReset)this._processReset(n);else{n.result=h;this._itemsToProcess||(this._itemsToProcess=[]);this._processingItems.forEach(function(f){b||
(f.result?c._itemsToProcess.push(f):b=!0)});n=0;for(h=this._itemsToProcess;n<h.length;n++){var e=h[n];!1===e.result.ok?this._processError(e,e.result.error):this._processResult(e,e.result.value)}this._itemsToProcess.length=0}};t.prototype._process=function(n){var h=this;if(null!=n){var c=this._apiPromises.get(n),b=this.process(n);if(b&&"function"===typeof b.then){var e={item:n,resultPromise:b,result:null,dfd:c,isReset:!1};this._processingItems.set(n,e);this.ordered?b.then(function(f){return h._processOrdered(e,
{ok:!0,value:f})},function(f){return h._processOrdered(e,{ok:!1,error:f})}):b.then(function(f){return h._processResult(e,f)},function(f){return h._processError(e,f)})}else c.resolve(b),this._remove(n)}};t.prototype._add=function(n,h){this._apiPromises.set(n,h);this._queue.push(n)};t.prototype._remove=function(n){this._queue.remove(n);this._apiPromises.delete(n);this._processingItems.delete(n)};t.prototype._cancelNext=function(){this._scheduledNextHandle&&(this._scheduledNextHandle.remove(),this._scheduledNextHandle=
null)};return t}()})},"esri/layers/vectorTiles/core/Queue":function(){define(["require","exports"],function(G,A){return function(){function a(m){this._items=[];this._itemSet=new Set;this._peeker=function(p){return p[0]};this._length=0;m&&m.peeker&&(this._peeker=m.peeker)}Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0});a.prototype.clear=function(){this._itemSet.clear();this._length=this._items.length=0};a.prototype.peek=function(){if(0!==
this._length)return this._peeker(this._items)};a.prototype.push=function(m){this.contains(m)||this._add(m)};a.prototype.contains=function(m){return 0<this._length&&this._itemSet.has(m)};a.prototype.pop=function(){if(0!==this._length){var m=this.peek();this._remove(m);return m}};a.prototype.remove=function(m){this.contains(m)&&this._remove(m)};a.prototype._add=function(m){this._items.push(m);this._itemSet.add(m);this._length++};a.prototype._remove=function(m){this._itemSet.delete(m);this._items.splice(this._items.indexOf(m),
1);this._length--};return a}()})},"esri/layers/vectorTiles/views/webgl/webgl-utils":function(){define([],function(){var G=function(A,a){for(var m=["webgl","experimental-webgl","webkit-3d","moz-webgl"],p=null,t=0;t<m.length;++t){try{p=A.getContext(m[t],a)}catch(n){}if(p)break}return p};return{create3DContext:G,setupWebGL:function(A,a){function m(p){var t=A.parentNode;t&&(t.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+
p+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}if(!window.WebGLRenderingContext)return m('This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'),[null,'This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'];a=G(A,a);return a?[a]:(m('It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'),
[null,'It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'])},detectWebGL:function(){try{var A=window.WebGLRenderingContext}catch(m){A=[!1,0]}try{var a=G(document.createElement("canvas"))}catch(m){a=[!1,1]}A?a?(A=a,A=[!0,{VERSION:A.getParameter(A.VERSION),SHADING_LANGUAGE_VERSION:A.getParameter(A.SHADING_LANGUAGE_VERSION),VENDOR:A.getParameter(A.VENDOR),RENDERER:A.getParameter(A.RENDERER),
EXTENSIONS:A.getSupportedExtensions(),MAX_TEXTURE_SIZE:A.getParameter(A.MAX_TEXTURE_SIZE),MAX_RENDERBUFFER_SIZE:A.getParameter(A.MAX_RENDERBUFFER_SIZE),MAX_VERTEX_TEXTURE_IMAGE_UNITS:A.getParameter(A.MAX_VERTEX_TEXTURE_IMAGE_UNITS)}]):A=[!1,1]:A=[!1,0];return A}}})},"arcgis3d/Map3d":function(){define("dojo/_base/declare dojo/_base/lang dojo/Evented dojo/on dojo/Deferred dojo/dom-construct ./Canvas3DViewport ./utils/WebScene ./layers/TerrainLayer arcgis3d/Camera arcgis3d/Graphic3d arcgis3d/layers/_Layer arcgis3d/layers/LayerGroup arcgis3d/layers/GraphicsLayer arcgis3d/layers/SceneServiceLayer engine/parts/Controller esri/SpatialReference esri/config".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x){var w={isGlobe:!1,showCompass:!0,showMapControls:!0,showCrosshair:!0,enableFPSCounter:!1},B=function(z,C){var y=x.defaults.io.proxyUrl;null!=y&&""!==y||console.warn("No proxy defined. Required for globe mode");var D=y+"?http://s3-eu-west-1.amazonaws.com/elevation-tiles-lerc/257x257_corner";y=new c(y+"?http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile",{name:"Globe"});y.elevationURL=D;C?y.setGlobeMode("planar"):z.setManifold("sphere");
z.setViewParams({backgroundColor:[0,0,0,0],autoNearFarMode:"globe",frustumCullingEnabled:!1});return y};return G([a],{constructor:function(z,C){this._mapConfig=A.mixin(w,C);if(null==z)throw new TypeError("mapDiv is null");this._mapDiv=z;this._mapWrapper=t.create("div",{id:z.id+"_wrapper",style:"position:relative; width:100%; height:100%;"},z);this.viewport=new n(this,this._mapWrapper);this._stage=this.viewport._stage;this._layers={};this._layerIds=[];this._layerGroups=[];this._layerGroupIds=[];this._viewMode=
0;this.spatialReference=new q(4326);this._mapConfig.isGlobe&&(z="planar"===this._mapConfig.isGlobe,this.addLayer(B(this.viewport._stage,z)),z?this.setCamera(new b([0,EARTH_RADIUS,0],[0,0,0]),!0):this.setCamera(new b([3*EARTH_RADIUS,0,0],[EARTH_RADIUS,10,0]),!0));this._mapConfig.showCompass&&require(["arcgis3d/widgets/Compass"],function(F){this._compass=new F;this._compass.addToMap(this)}.bind(this));this._mapConfig.showMapControls&&require(["arcgis3d/widgets/MapControls"],function(F){this._mapControlsWidget=
new F(this)}.bind(this));this._mapConfig.showCrosshair&&require(["arcgis3d/widgets/Crosshair"],function(F){this._crosshair=new F(this)}.bind(this));if(this._mapConfig.enableFPSCounter){var y=t.create("div",{id:"fpsWin",act:"false"},this._mapWrapper),D=function(F,H){y.textContent=F+" "+(H||"")};m(y,"click",function(){var F="false"===y.getAttribute("act")?!0:!1;y.setAttribute("act",F);F?(this.viewport._stage.addFPSListener(D),y.innerHTML="\x26#8734;"):(this.viewport._stage.removeFPSListener(D),y.innerHTML=
"")}.bind(this))}this.viewport._stage.addControlsListener({panBegin:function(F,H){this.emit("panStart",{startCamera:new b(F,H)})}.bind(this),panEnd:function(F,H){this.emit("panEnd",{endCamera:new b(F,H)})}.bind(this),pan:function(F,H){this.emit("pan",{currentCamera:new b(F,H)})}.bind(this),tumble:function(F,H){this.emit("tumble",{currentCamera:new b(F,H)})}.bind(this),zoomStart:function(F,H,E){this.emit("zoomStart",{anchor:F,currentCamera:new b(H,E)})}.bind(this),zoomEnd:function(F,H,E){this.emit("zoomEnd",
{anchor:F,currentCamera:new b(H,E)})}.bind(this),zoom:function(F,H,E){this.emit("zoom",{anchor:F,currentCamera:new b(H,E)})}.bind(this)});m(this.viewport._stage.getContainer(),"click",function(F){F&&F.target&&"CANVAS"==F.target.nodeName&&this.emit("mapClick",{mouseEvent:F})}.bind(this))},setCamera:function(z,C){this._stage.setCamera(z.position,z.target,C);z.fov&&!isNaN(z.fov)&&this._stage.setViewParams({fovX:z.fov},C)},getCamera:function(z){var C=this._stage.getViewParams({fovX:!0},!0).fovX;return new b(this._stage.getCamera(z).concat(C))},
setExtent:function(z){this.viewport.setExtent(z)},add3wsLayer:function(z){this.addData(z)},getLayer:function(z){return this._layers[z]},addLayerGroup:function(z){if(!(z instanceof k))throw new TypeError(z);assert("undefined"!==typeof z.id,"group id must not be undefined.");assert(-1==this._layerGroupIds.indexOf(z.id),"map already contains layer with id \x3d "+z.id);this._addLayerGroup(z)},removeLayerGroup:function(z){assert(0<=this._layerGroups.indexOf(z),"group not in map: "+z.id);z._unsetMap();
this._layerGroups.splice(this._layerGroups.indexOf(z),1);this._layerGroupIds.splice(this._layerGroupIds.indexOf(z.id),1);this.emit("groupRemoved",{group:z});return z},_addLayerGroup:function(z){z._setMap(this);this._layerGroups.push(z);this._layerGroupIds.push(z.id);this.emit("groupAdded",{group:z})},addLayer:function(z){if(!z)throw new TypeError("layer is undefined");if(z.id&&"undefined"!==typeof this._layers[z.id])throw Error("map already contains layer with id \x3d "+z.id);if(!(z instanceof u||
z instanceof v||z instanceof f))throw new TypeError("Unsupported layer type: "+z.type||z.declaredClass||z);z=new k(z.name,[z],k.TYPE_NONE);this._addLayerGroup(z)},_addLayer:function(z){if(z.id&&"undefined"!==typeof this._layers[z.id])throw Error("map already contains layer with id \x3d "+z.id);if(z.loaded){var C=z._setMap(this);this.viewport.addRenderer(C);this._layers[z.id]=z;this._layerIds.push(z.id);1===this._layerIds.length&&(this.spatialReference=z.spatialReference);this.emit("layerAdded",{layer:z})}else m(z,
"load",function(){this._addLayer(z)}.bind(this))},removeLayer:function(z){assert("undefined"!=typeof this._layers[z.id],"layer not in map: "+z.id);var C=z.renderer;z._unsetMap(this);delete this._layers[z.id];this.viewport.removeRenderer(C);this.emit("layerRemoved",{layer:z});return z},loadWebscene:function(z){var C=new h(z);m(C,"load",function(){C.addLayers(this);var y=C.addBookmarks(this);map.setCamera(y[Object.keys(y)[0]]);this.emit("bookmarksChanged",{bookmarks:y});C.applyBasemap(this)}.bind(this))},
identify:function(z){return this._stage._pick(z).getMinResult().object||null},to3dCoordinates:function(z){return this.viewport.toMap(z)},toScreenCoordinates:function(z){return this.viewport.toScreen(z)},getLayers:function(){return this._layers},getLayerGroups:function(){return this._layerGroups},getLayerGroup:function(z){for(var C=this.getLayerGroups(),y=0;y<C.length;y++)if(z==C[y].id)return C[y].id;return null},frustumContainsObjects:function(z,C){for(var y=this._stage.getViewFrustumObjects(),D=
z.length,F=0;F<z.length;++F)if(y[z[F]])if(C)D--;else return!0;return C?0==D:!1},setViewMode:function(z){this._stage.setViewParams({viewMode:z});this.emit("viewModeChanged",{mode:z});this._viewMode=z},getRenderParams:function(){return this._stage.getRenderParams()},setNavigationMode:function(z){"tumble"===z?this._stage.setControls(g.TUMBLE):"pan"===z?this._stage.setControls(g.PAN):console.warn("Unknown navigation mode: "+z)},lookNorth:function(){this._stage.adjustViewDirection(ViewDirectionFlags.NORTH)},
lookDown:function(){this._stage.adjustViewDirection(ViewDirectionFlags.NORTH|ViewDirectionFlags.PERP)},generateThumbnails:function(z,C,y,D,F){function H(){if(void 0===J)if(I.getAllTexturesLoaded()){if(void 0===J){J=[];var K=[],L;for(L in z)K.push([z[L].position,z[L].target,z[L].fov]);K=I.renderScreenshots(C,y,K);for(L=0;L<K.length;L++)J.push(byteBuffer2base64image(K[L],C,y,D,F));E.resolve(J)}}else setTimeout(H,25)}var E=new p;F=null==F?.7:F;D=D||"image/jpeg";var I=this._stage,J=void 0;H();return E},
frame:function(z,C){Array.isArray(z)||(z=[z]);var y=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],D=[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE];if(1>z.length)console.warn("nothing to frame");else{for(var F=0;F<z.length;F++){var H=z[F];if(H instanceof f||H instanceof u){H=H.renderer.getEngineLayer();var E=H.getExtent()[0];H=H.getExtent()[1]}else E=H.getBBMin(),H=H.getBBMax();y[0]=Math.min(E[0],y[0]);y[1]=Math.min(E[1],y[1]);y[2]=Math.min(E[2],y[2]);D[0]=Math.max(H[0],D[0]);D[1]=
Math.max(H[1],D[1]);D[2]=Math.max(H[2],D[2])}z=vec3d.create();vec3d.lerp(y,D,.5,z);y=.5*vec3d.dist(y,D);this._stage.frameCenterRadius(z,y,C)}},highlight:function(z,C){Array.isArray(z)||(z=[z]);for(var y=[],D=0;D<z.length;D++)z[D]instanceof e?y.push(z[D].id):z[D].renderer.getEngineLayer()&&(y=y.concat(z[D].renderer.getEngineLayer().getObjectIds()));1>y.length?console.warn("nothing to highlight"):(C&&(this.frustumContainsObjects(y,!1)||this.frame(z,2)),this._stage.setHighlightObjects(y))},setSelectionObject:function(z,
C){this._stage.setSelectionObject(z,C)},_getScreenCenterPoint:function(){var z=this.viewport.getRect();return[Math.round(2==this._viewMode?z[2]/4:z[2]/2),Math.round(3==this._viewMode?z[3]/4:z[3]/2)]},zoomIn:function(z,C){z=z||this._getScreenCenterPoint();C||(C=this.getCamera(!0),C=vec3.dist(C.position,C.target),C=1E3<C?300:15<C?200:10<C?100:80);this.viewport.scale(C,z)},zoomOut:function(z,C){z=z||this._getScreenCenterPoint();C||(C=this.getCamera(!0),C=vec3.dist(C.position,C.target),C=10>C?120:15>
C?200:1E3>C?300:400);this.viewport.scale(-C,z)}})})},"arcgis3d/Canvas3DViewport":function(){define("dojo/_base/declare dojo/_base/lang dojo/Evented dojo/on engine/Stage ./Camera ./utils/CoordinateSystemHelper ./utils/ResourceController ./utils/Sunlight".split(" "),function(G,A,a,m,p,t,n,h,c){return G([a],{_tempVector:vec3d.create(),_thenFunctions:[],_otherwiseFunctions:[],width:100,height:100,view:void 0,renderers:[],type:"canvas-3d",map:void 0,surface:void 0,loaded:!1,constructor:function(b,e){this.map=
b;this._stage=new p(e);this.surface=this._stage.getCanvas();this.loaded=!0;this._sunlight=new c(this);this.coordinateSystemHelper=new n(!0===b._mapConfig.isGlobe?"spherical":"planar");this.resourceController=new h(this);this._stage.addCameraListener({currentViewChanged:function(f,k,u){var v=Math.round(vec3.length(f)-EARTH_RADIUS),g=Math.max(1,Math.round(v/.37));g!==this.currentScale&&(this.emit("scale-change",{scale:g,elevation:v}),this.currentScale=g);v=this._stage.getViewParams({fovX:!0},!0).fovX;
this.emit("view-change",{currentCamera:new t(f,k,v,u)})}.bind(this),currentViewReachedTarget:function(f,k,u){var v=this._stage.getViewParams({fovX:!0},!0).fovX;this.emit("cameraChangeEnd",{currentCamera:new t(f,k,v,u),previousCamera:this._previousCamera});this._previousCamera=void 0}.bind(this),targetViewChanged:function(f,k,u){var v=new t(this._stage.getCamera(!0));this._previousCamera=v;var g=this._stage.getViewParams({fovX:!0},!0).fovX;this.emit("cameraChangeStart",{currentCamera:v,targetCamera:new t(f,
k,g,u)})}.bind(this),poiDistRangeChanged:function(f,k){this.minZoomDistance=f;this.maxZoomDistance=k;this.emit("zoomRangeChanged",{minDistance:f,maxDistance:k})}.bind(this)});dojo.connect(this._stage,"onSelectionChange",function(f){this.emit("selectionChange",{object:f})}.bind(this))},addRenderer:function(b){if(b){if(-1!=this.renderers.indexOf(b))throw Error("renderer already exists");this.renderers.push(b);1===this.renderers.length&&this.coordinateSystemHelper.setPlanarPCSFromSpatialReference(b.layer.spatialReference);
b.setViewport(this)}},removeRenderer:function(b){if(!b)throw new TypeError("renderer is null");if(-1==this.renderers.indexOf(b))throw Error("renderer doesn't exist");this.renderers.splice(this.renderers.indexOf(b),1);b.unsetViewport(this)},translate:function(){},scale:function(b,e){this._stage.getTrackball().zoomStep(b,e)},rotate:function(b,e){},setExtent:function(b){var e=vec3d.create(),f=vec3d.create();this.coordinateSystemHelper.toWGS84([b.xmin,b.ymin],b.spatialReference,e);this.coordinateSystemHelper.toWGS84([b.xmax,
b.ymax],b.spatialReference,f);b=vec3d.create();vec3d.lerp(e,f,.5,b);this.coordinateSystemHelper.toEnginePosition(b,{wkid:4326},b);this.coordinateSystemHelper.toEnginePosition(e,{wkid:4326},e);e=vec3d.dist(e,b);this._stage.frameCenterRadius(b,e)},toMap:function(b){b=this._stage._pick(b).getMinResult();return b.object?(b.getIntersectionPoint(this._tempVector),{position:this._tempVector,normal:b.normal,object:b.object}):null},toScreen:function(b){if(b.spatialReference){var e=[];this.coordinateSystemHelper.pointToEnginePosition(b,
e)}else e=b;return this._stage.getViewParams({world2screen:!0}).world2screen(e)},then:function(b){this._thenFunctions.push(b)},otherwise:function(b){this._otherwiseFunctions.push(b)},destroy:function(){},getRect:function(){return this._stage.getViewParams({viewport:!0}).viewport},setDate:function(b){return this._sunlight.setDate(b)}})})},"engine/Stage":function(){define("engine/parts/Controller engine/parts/Model engine/parts/View engine/lib/Geometry engine/lib/GeometryUtil engine/lib/gl-matrix engine/lib/Layer engine/lib/Selector engine/lib/Util".split(" "),
function(G,A,a){var m=function(p,t){this.setSelectionObject=function(f,k){h.setSelection(f);c.setSelectionObject(void 0!==f?f.getId():void 0);if(!k)this.onSelectionChange(f)};this.getSelectionObject=function(){return h.getSelection()};this.setHighlightObjects=function(f,k){c.setHighlightObjects(f,k);this.highlightedObjectNames=k&&-1===k.holdTime?f:void 0};this.frame=function(f,k){this.frameCenterRadius(f.getCenter(),f.getBSRadiusApprox(),k)};this.frameCenterRadius=function(f,k,u){1E-6>k||(u=Math.max(2,
(u||0)+2),c.frame(f,k*u))};this.adjustViewDirection=function(f){c.adjustViewDirection(f)};this.beginMod=function(){m.DebugSettings.fineGrainedContentValidation&&h.validateContent()};this.add=function(f,k){h.add(f,k);"function"==typeof k.addParentStage&&k.addParentStage(this)};this.remove=function(f,k){f=h.remove(f,k);"function"==typeof f.removeParentStage&&f.removeParentStage(this);return f};this.endMod=function(f){m.DebugSettings.fineGrainedContentValidation&&!f&&h.validateContent()};this.notifyDirty=
function(f,k,u,v){h.notifyDirty(f,k,u,v)};this.processDirty=function(){var f=h.getDirtySet(),k=f.getDirtyMaterials();if(f.hasDirtyGeometryRecords()||k){m.DebugSettings.endFrameContentValidation&&h.validateContent();m.DebugSettings.logDirtySet&&console.log("Dirty set: "+h.getDirtySet().formatDebugInfo(!1));for(var u=0;u<e.length;u++){var v=f.getAddRemoveListFilteredByLayers(e[u],!1);(0<v[0].length+v[1].length||k)&&c.modify(v[0],v[1],k,u);m.DebugSettings.logDirtySet&&0===u&&(console.log("RGs add: "+
v[0].map(function(g){return g.uniqueName})),console.log("RGs remove: "+v[1].map(function(g){return g.uniqueName})))}this._updateViewExtent();f.getAddRemoveList(!0);f.clearDirtyMaterials()}};this.get=function(f,k){return h.get(f,k)};this.getAll=function(f){return h.getAll(f)};this.addTextureListener=function(f){c.addTextureListener(f)};this.removeTextureListener=function(f){c.removeTextureListener(f)};this.getContainer=function(){return n};this.getCamera=function(f){return c.getCamera(f)};this.setCamera=
function(f,k,u){c.setCamera(f,k,u)};this.getViewParams=function(f,k){return c.getViewParams(f,k)};this.setViewParams=function(f,k){c.setViewParams(f,k);void 0!==f.fovX&&this._updateViewExtent();void 0!==f.viewMode&&(c.setLights(h.getAmbientLight(),h.getDirectionalLight()),e=[[],[]])};this.setManifold=function(f){c.setManifold(f)};this.getLayers=function(){return h.getAll(m.ModelContentType.LAYER)};this.getAmbientLight=function(){return h.getAmbientLight()};this.getDirectionalLight=function(){return h.getDirectionalLight()};
this.setAmbientLight=function(f){h.setAmbientLight(f);c.setLights(h.getAmbientLight(),h.getDirectionalLight())};this.setDirectionalLight=function(f){h.setDirectionalLight(f);c.setLights(h.getAmbientLight(),h.getDirectionalLight())};this.getTrackball=function(){return c.getTrackball()};this.getCanvas=function(){return c.getCanvas()};this.setRenderParams=function(f){c.setRenderParams(f)};this.getRenderParams=function(){return c.getRenderParams()};this.getViewContent=function(f){return e[f||0].slice(0)};
this.setViewContent=function(f,k){k||(k=0);assert(0<=k&&k<e.length,"Stage.setViewContent: invalid index");var u=array2object(e[k]),v=array2object(f),g=subtractObjects(v,u);u=subtractObjects(u,v);this.processDirty();v=h.getDirtySet();g=v.getResidentRenderGeometriesFilteredByLayers(object2array(g));u=v.getResidentRenderGeometriesFilteredByLayers(object2array(u));c.modify(g,u,{},k);e[k]=f.slice(0)};this.addToViewContent=function(f,k){k||(k=0);assert(0<=k&&k<e.length,"Stage.addToViewContent: invalid index");
for(var u=[],v=0;v<f.length;v++)-1===e[k].indexOf(f[v])&&u.push(f[v]);0<f.length&&(this.processDirty(),f=h.getDirtySet().getResidentRenderGeometriesFilteredByLayers(u),c.modify(f,[],{},k),e[k].push.apply(e[k],u))};this.removeFromViewContent=function(f,k){k||(k=0);assert(0<=k&&k<e.length,"Stage.RemoveFromViewContent: invalid index");this.processDirty();for(var u=h.getDirtySet(),v=e[k],g=[],q=0;q<f.length;q++){var x=v.indexOf(f[q]);-1<x&&(v[x]=v[v.length-1],v.pop(),g.push(f[q]))}f=u.getResidentRenderGeometriesFilteredByLayers(g);
c.modify([],f,{},k)};this.getViewFrustumObjects=function(){return c.getFrustumObjects()};this.setControls=function(f){b.setControls(f)};this.getControls=function(){return b.getControls()};this.setScenePickingEnabled=function(f){this.getTrackball().setPickingEnabled(f)};this.onReady=function(){};this.onRender=function(){};this.onWindowResize=function(f){};this.onSelectionChange=function(){};this.onGeometryPicked=function(){};this.addCameraListener=function(f){return c.addCameraListener(f)};this.removeCameraListener=
function(f){c.removeCameraListener(f)};this.addControlsListener=function(f){return c.addControlsListener(f)};this.removeControlsListener=function(f){c.removeControlsListener(f)};this.addModelListener=function(f){return h.addModelListener(f)};this.removeModelListener=function(f){h.removeModelListener(f)};this.addFPSListener=function(f){c.addFPSListener(f)};this.removeFPSListener=function(f){c.removeFPSListener(f)};this.addAnimationFrameListener=function(f){c.addAnimationFrameListener(f)};this.removeAnimationFrameListener=
function(f){c.removeAnimationFrameListener(f)};this.renderScreenshots=function(f,k,u){return c.renderScreenshots(f,k,u)};this.requestScreenCapture=function(f,k,u){c.requestScreenCapture(f,k,u)};this.getAllTexturesLoaded=function(){return c.getAllTexturesLoaded()};this.getTextureLoaded=function(f){return c.getTextureLoaded(f)};this.prefetchTextures=function(f){c.prefetchTextures(f)};this.getContentDebugStrings=function(f){return h.formatDebugInfo(f)};this.getRenderStats=function(){return c.getCombinedStats()};
this.getRenderStatString=function(f){var k=this.getRenderStats(),u="";if(f){u+="\x3ctable\x3e";for(var v in k)u+="\x3ctr\x3e\x3ctd\x3e"+v+'\x3c/td\x3e\x3ctd style\x3d"text-align: right"\x3e'+Math.round(k[v])+"\x3c/td\x3e\x3c/tr\x3e";u+="\x3c/table\x3e"}else for(v in k)u+=v+": "+k[v]+"\n";return u};this._pick=function(f,k){var u=vec3d.create(),v=vec3d.create();c.getPickRay(f,u,v);return this._pickRay(u,v,f,k)}.bind(this);this._pickRay=function(f,k,u,v){var g=c.getSideIndexForPoint(u);g=this.getViewContent(g);
for(var q=[],x=h.getAll(m.ModelContentType.LAYER),w=0;w<g.length;w++){var B=x[g[w]];B&&"IGNORED"!==B.getInteraction()&&q.push(B)}return new Selector(q,v,f,k,u,c.world2screen)}.bind(this);this._select=function(f){var k=this._pick(f,this.highlightedObjectNames);f=k.getMinResult().object;this.onGeometryPicked(k);f&&(k=f.getParentLayer(),f===h.getSelection()||k&&"PICKABLE"!==k.getInteraction())&&(f=void 0);this.setSelectionObject(f)};this._updateViewExtent=function(){var f=c.getTrackball();if(f.requiresMaxPoiDist()){var k=
Number.MAX_VALUE;k=[[k,k,k],[-k,-k,-k]];var u=h.getAll(m.ModelContentType.LAYER);for(q in u)if(0<u[q].getObjects().length){var v=u[q].getFullExtent();if(void 0!==v)for(var g=0;3>g;++g)k[0][g]=Math.min(k[0][g],v[0][g]),k[1][g]=Math.max(k[1][g],v[1][g])}var q=c.getViewParams({fovX:!0},!0).fovX;f.setMaxPoiDist(4*Math.max(Math.max(Math.max(k[1][0]-k[0][0]),k[1][1]-k[0][1],k[1][2]-k[0][2]))/Math.tan(q/2))}};this._getModel=function(){return h};this.getTextureGraphicsRenderer=function(){return c.getTextureGraphicsRenderer()};
var n=p;void 0===t&&(t=!0);var h=new A,c=new a(n,this._pickRay,this),b=new G(c.getCanvas(),G.TUMBLE,this,c.getTrackball()),e=[[],[]];c.setLights(h.getAmbientLight(),h.getDirectionalLight());c.setRunning(t)};m.DebugSettings={fineGrainedContentValidation:!1,endFrameContentValidation:!1,logDirtySet:!1};m.ModelContentType=A.ContentType;return m})},"engine/parts/Controller":function(){define([],function(){var G=function(A,a,m,p){function t(y){y.preventDefault();if(0!==u){y=c(y,x);var D=u-1;switch(v){case 1:b("mouseDragLeft",
y,D);break;case 2:b("mouseDragMiddle",y,D);break;case 3:case 0:b("mouseDragRight",y,D)}1!==u||0===Math.abs(y[0]-q[0])&&0===Math.abs(y[1]-q[1])?3===u&&(v=u=0,document.removeEventListener("mousemove",t,!0),document.removeEventListener("mouseup",n,!0)):u=2}}function n(y){y.preventDefault();1===u&&1===v?0<g&&setTimeout(function(){0<g&&(b("mouseClick",c(y,x)),g=0)},Math.max(200-(Date.now()-g),0)):g=0;2===u?u=3:(document.removeEventListener("mousemove",t,!0),document.removeEventListener("mouseup",n,!0),
v=u=0)}function h(y){y.stopPropagation();var D=y.changedTouches[0],F="";if(!(1<y.touches.length)){switch(y.type){case "touchstart":F="mousedown";break;case "touchmove":F="mousemove";break;case "touchend":F="mouseup";var H=document.createEvent("MouseEvent");H.initMouseEvent("click",!0,!0,window,1,D.screenX,D.screenY,D.clientX,D.clientY,!1,!1,!1,!1,0,null);D.target.dispatchEvent(H);y.preventDefault();break;default:return}H=document.createEvent("MouseEvent");H.initMouseEvent(F,!0,!0,window,1,D.screenX,
D.screenY,D.clientX,D.clientY,!1,!1,!1,!1,0,null);D.target.dispatchEvent(H);y.preventDefault()}}function c(y,D){D||(D=vec2.create());var F=A.getBoundingClientRect();D[0]=y.pageX-F.left;D[1]=F.height-(y.pageY-F.top);return D}function b(y,D,F){y=a[y];if(void 0!=y)B[y](D,F)}var e=/Firefox/i.test(navigator.userAgent),f={37:"panLeft",38:"panForward",39:"panRight",40:"panBackward",66:"lookAround",74:"panDown",78:"lookNorth",80:"lookDown",85:"panUp"},k=void 0;this.setControls=function(y){k?k=y:a=y};this.getControls=
function(){return a};var u=0,v=0,g=0,q=null,x=vec2.create(),w=vec2.create();A.addEventListener("touchmove",h,!0);A.addEventListener("touchstart",h,!0);A.addEventListener("touchend",h,!0);A.addEventListener("touchcancel",h,!0);A.addEventListener("mousedown",function(y){y.preventDefault();A.focus();q=c(y);p.stop();u=1;v=y.which;1===v&&(0<g?(b("mouseClickDouble",c(y,x),2),g=0):g=Date.now());document.addEventListener("mousemove",t,!0);document.addEventListener("mouseup",n,!0)},!1);A.addEventListener(e?
"DOMMouseScroll":"mousewheel",function(y){y.preventDefault();b("mouseWheel",y[e?"detail":"wheelDelta"]*(e?-60:1),c(y,w))},!1);A.addEventListener("contextmenu",function(y){y.preventDefault()},!1);A.setAttribute("tabindex","1");A.addEventListener("keydown",function(y){if(!(y.shiftKey||y.ctrlKey||y.altKey||y.metaKey)){var D=f[y.keyCode];void 0!=D&&(z[D](),y.preventDefault())}},!1);A.addEventListener("keyup",function(y){var D=f[y.keyCode];void 0!=D&&(D=C[D],void 0!=D&&D(),y.preventDefault())},!1);var B=
{select:function(y){m._select(y)},frame:function(y,D){var F=vec3d.create();y=m._pick(y).getMinResult();var H=y.object;if(H){var E=H.getParentLayer();E&&"PICKABLE"===E.getInteraction()?m.frame(H,D):y.getIntersectionPoint(F)&&(D=p.getEyeAndCenter(),p.frame(F,.33*vec3d.dist(D[0],D[1])))}},pan:function(y,D){switch(D){case 0:p.beginInteractivePan(y);break;case 1:p.interactivePan(y);break;case 2:p.endInteractivePan(y);break;default:assert(!1)}},tumble:function(y,D){switch(D){case 0:p.beginInteractiveRotate(y,
PivotPoint.POI);break;case 1:p.interactiveRotate(y,PivotPoint.POI);break;case 2:break;default:assert(!1)}},zoom:function(y,D){switch(D){case 0:p.zoomBegin(y);break;case 1:p.zoom(y);break;case 2:p.zoomEnd(y);break;default:assert(!1)}},zoomStep:function(y,D){p.zoomStep(y,D)},lookAround:function(y,D){switch(D){case 0:p.beginInteractiveRotate(y,PivotPoint.EYE);break;case 1:p.interactiveRotate(y,PivotPoint.EYE);break;case 2:break;default:assert(!1)}}},z={panLeft:function(){p.startContinuousPan(PanDirection.LEFT)},
panRight:function(){p.startContinuousPan(PanDirection.RIGHT)},panForward:function(){p.startContinuousPan(PanDirection.FORWARD)},panBackward:function(){p.startContinuousPan(PanDirection.BACKWARD)},panUp:function(){p.startContinuousPan(PanDirection.UP)},panDown:function(){p.startContinuousPan(PanDirection.DOWN)},lookAround:function(){k||(k=a,a=G.LOOK_AROUND)},lookNorth:function(){p.adjustViewDirection(ViewDirectionFlags.NORTH)},lookDown:function(){p.adjustViewDirection(ViewDirectionFlags.PERP)}},C=
{panLeft:function(){p.stopContinuousPan(PanDirection.LEFT)},panRight:function(){p.stopContinuousPan(PanDirection.RIGHT)},panForward:function(){p.stopContinuousPan(PanDirection.FORWARD)},panBackward:function(){p.stopContinuousPan(PanDirection.BACKWARD)},panUp:function(){p.stopContinuousPan(PanDirection.UP)},panDown:function(){p.stopContinuousPan(PanDirection.DOWN)},lookAround:function(){k&&(a=k,k=void 0)}}};G.PAN={mouseClick:"select",mouseClickDouble:"frame",mouseDragLeft:"pan",mouseDragRight:"tumble",
mouseDragMiddle:"zoom",mouseWheel:"zoomStep"};G.TUMBLE={mouseClick:"select",mouseClickDouble:"frame",mouseDragLeft:"tumble",mouseDragRight:"pan",mouseDragMiddle:"zoom",mouseWheel:"zoomStep"};G.LOOK_AROUND={mouseClick:"select",mouseClickDouble:"frame",mouseDragLeft:"lookAround",mouseDragRight:"tumble",mouseDragMiddle:"pan",mouseWheel:"zoomStep"};G.OLD={mouseClick:"select",mouseClickDouble:"frame",mouseDragMiddle:"tumble",mouseDragRight:"pan",mouseWheel:"zoomStep"};return G})},"engine/parts/Model":function(){define("dojo/string engine/lib/Light engine/lib/ModelDirtySet engine/lib/RenderGeometry engine/lib/Util engine/lib/gl-matrix".split(" "),
function(G,A){var a=function(){function m(u,v){var g=Array.prototype.slice.call(arguments);g.shift();b.forEach(function(q){void 0!==q[u]&&q[u].apply(this,g)})}var p=new ModelDirtySet(this),t=function(){var u={},v;for(v in a.ContentType)u[a.ContentType[v]]={};return u}(),n=new A.AmbientLight([1,1,1],.3,!0,.5,5,3,16),h=new A.DirectionalLight([1,1,1],.7,vec3.normalize([1,1,1]),.5,!0),c=void 0,b=[];this.getAll=function(u){u=t[u];assert(void 0!==u);return u};this.get=function(u,v){return this.getAll(u)[v]};
this.add=function(u,v){var g=t[u];assert(void 0!==g);var q=v.getId();assert(void 0===g[q],"Model/Stage already contains object to be added");g[q]=v;u===a.ContentType.LAYER&&this.notifyDirty(u,v,"layerAdded");m("contentAdded",u,v)};this.remove=function(u,v){var g=t[u];assert(void 0!==g);var q=g[v];assert(void 0!==q,"Model/Stage doesn't contain object to be removed");delete g[v];u===a.ContentType.TEXTURE&&q.unload();u===a.ContentType.LAYER&&this.notifyDirty(u,q,"layerRemoved");m("contentRemoved",u,
q);return q};this.getDirtySet=function(){return p};this.notifyDirty=function(u,v,g,q){p.handleUpdate(v,g,q)};this.getAmbientLight=function(){return n};this.setAmbientLight=function(u){n.set(u)};this.getDirectionalLight=function(){return h};this.setDirectionalLight=function(u){h.set(u)};this.getSelection=function(){return c};this.setSelection=function(u){c=u};var e={},f=0,k={};this.getGeometryRenderGeometries=function(u,v,g,q){var x=u.getId(),w="Panorama"===x||"panorama"===x||"Atmosphere"===x,B=v.geometry,
z=B.getData(),C=z.getFaces(),y=z.getVertexAttr();z=z.getId();q=q||u.getObjectTransformation();var D=v.materials;q=mat4d.create(q);mat4d.multiply(q,v.transformation);for(var F=Math.max(Math.max(Math.sqrt(q[0]*q[0]+q[4]*q[4]+q[8]*q[8]),Math.sqrt(q[1]*q[1]+q[5]*q[5]+q[9]*q[9])),Math.sqrt(q[2]*q[2]+q[6]*q[6]+q[10]*q[10])),H=0,E=B.getNumGroups();H<E;++H){var I=B.getBoundingInfo(H),J=vec3.create();mat4.multiplyVec3(q,I.getCenter(),J);var K=I.getBSRadius()*F,L=J,O=0;var U=10*K/1E4;1<U&&(O=Math.ceil(logWithBase(U,
2)));U=1E4*Math.pow(2,O);var S=Math.round(L[0]/U),M=Math.round(L[1]/U);L=Math.round(L[2]/U);O=O+"_"+S+"_"+M+"_"+L;var N=k[O];void 0===N&&(N={vec3:vec3.createFrom(S*U,M*U,L*U),id:O},k[O]=N);U=N;S=v.getId()+"#"+H;M=e[S];void 0===M&&(M=f++,e[S]=M);O={};for(var T in C[H].indices)O[T]=y[T];I=new RenderGeometry({faces:C[H],vertexAttr:O,id:z+"#"+H},I,D[H],U,q,J,K,u.getCastShadow(),w,x,S,M);g.push(I)}};this.getObjectRenderGeometries=function(u,v){for(var g=u.getObjectTransformation(),q=u.getGeometryRecords(),
x=0;x<q.length;x++)this.getGeometryRenderGeometries(u,q[x],v,g)};this.getLayerRenderGeometries=function(u,v){u=u.getObjects();for(var g=0;g<u.length;++g)this.getObjectRenderGeometries(u[g],v)};this.getRenderGeometries=function(u,v){for(var g=this.getAll(a.ContentType.LAYER),q=0;q<u.length;q++)this.getLayerRenderGeometries(g[u[q]],v)};this.formatDebugInfo=function(u){var v=[],g;if(u){v[0]="\x3ctable\x3e";for(g in a.ContentType)u=a.ContentType[g],v[0]+="\x3ctr\x3e\x3ctd\x3e"+u+'\x3c/td\x3e\x3ctd style\x3d"text-align: right"\x3e'+
Object.keys(this.getAll(u)).length+"\x3c/td\x3e\x3c/tr\x3e";v[0]+="\x3c/table\x3e";v[1]=p.formatDebugInfo(!0)}else{v[0]="";for(g in a.ContentType)u=a.ContentType[g],v[0]+=G.pad(String(Object.keys(this.getAll(u)).length),6," ")+" "+u+", ";v[1]=p.formatDebugInfo(!1)}return v};this.validateContent=function(){var u=this.getAll(a.ContentType.OBJECT);for(name in u)this.validateObject(u[name]);u=this.getAll(a.ContentType.LAYER);for(name in u)this.validateLayer(u[name]);u=this.getAll(a.ContentType.MATERIAL);
for(name in u)this.validateMaterial(u[name])};this.validateObject=function(u){u=u.getGeometryRecords();for(var v=0;v<u.length;++v){var g=u[v];assert(void 0!=this.get(a.ContentType.GEOMETRY,g.geometry.getId()));var q=g.geometry.getNumGroups();assert(q<=g.materials.length,"object materials do not match geometry groups");verify(q==g.materials.length,"object materials do not match geometry groups");for(var x=0;x<q;++x)assert(void 0!=this.get(a.ContentType.MATERIAL,g.materials[x].getId()))}};this.validateLayer=
function(u){u=u.getObjects();for(var v=0;v<u.length;++v){var g=this.get(a.ContentType.OBJECT,u[v].getId());assert(void 0!=g)}};this.validateMaterial=function(u){u=u.getAllTextureIds();for(var v=0;v<u.length;++v){var g=this.get(a.ContentType.TEXTURE,u[v]);assert(void 0!=g)}};this.addModelListener=function(u){assert(-1===b.indexOf(u));b.push(u)};this.removeModelListener=function(u){u=b.indexOf(u);assert(-1!==u);b.splice(u,u)}};a.ContentType={LAYER:"layers",OBJECT:"objects",GEOMETRY:"geometries",MATERIAL:"materials",
TEXTURE:"textures"};return a})},"engine/lib/Light":function(){define(["engine/lib/Util"],function(G){return{AmbientLight:function(A,a,m,p,t,n,h){this.color=A;this.intensity=a;this.ssao=m;this.ssaoAttenuation=p;this.ssaoRadius=t;this.ssaoFilterRadius=n;this.ssaoSamples=h;this.set=function(c){for(name in this)"set"!=name&&setIfDefined(name,c,this)}},DirectionalLight:function(A,a,m,p,t){this.color=A;this.intensity=a;this.direction=m;this.shadowMap=p;this.shadowAttenuation=t;this.set=function(n){for(name in this)"set"!=
name&&setIfDefined(name,n,this)}}}})},"engine/lib/Util":function(){define(["engine/lib/gl-matrix"],function(){function G(f){this.message=f;this.toString=function(){return"AssertException: "+this.message}}VertexAttrConstants={POSITION:"position",NORMAL:"normal",UV0:"uv0",UVW:"uvw",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2"};window.performance=window.performance||{};performance.now=function(){return performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()}}();
window.assert=function(f,k){if(!f)throw f=Error("dummy"),f.stack&&console.log(f.stack),new G(k);};window.verify=function(f,k){f||(console.log("Verify failed: "+k),console.log(Error("dummy").stack))};window.createQuadVertexUvBuffer=function(){var f=new Float32Array(20);f[0]=-1;f[1]=-1;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=-1;f[7]=0;f[8]=1;f[9]=0;f[10]=-1;f[11]=1;f[12]=0;f[13]=0;f[14]=1;f[15]=1;f[16]=1;f[17]=0;f[18]=1;f[19]=1;return f};window.createQuadVertexUvAttr2offset=function(){var f={};f[VertexAttrConstants.POSITION]=
0;f[VertexAttrConstants.UV0]=3;return f};window.isPowerOfTwo=function(f){return 0==(f&f-1)};window.nextHighestPowerOfTwo=function(f){--f;for(var k=1;32>k;k<<=1)f|=f>>k;return f+1};window.lerp=function(f,k,u){return f+(k-f)*u};var A=vec3d.create(),a=mat4d.create();window.slerp=function(f,k,u,v){v||(v=f);var g=vec3.length(f),q=vec3.length(k),x=vec3.dot(f,k)/g/q;.999999999999>x&&(vec3.cross(f,k,A),mat4.identity(a),mat4.rotate(a,u*Math.acos(x),A),mat4.multiplyVec3(a,f,v));vec3.scale(v,((1-u)*g+u*q)/g)};
window.slerpOrLerp=function(f,k,u,v,g){var q=vec3.length(f),x=vec3.length(k);vec3.cross(f,k,A);vec3.length(A)/q/x>g?(k=Math.acos(vec3.dot(f,k)/q/x),mat4.identity(a),mat4.rotate(a,u*k,A),mat4.multiplyVec3(a,f,v),vec3.scale(v,((1-u)*q+u*x)/q)):vec3.lerp(f,k,u,v)};window.clamp=function(f,k,u){return f<k?k:f>u?u:f};window.fallbackIfUndefined=function(f,k){return void 0==f?k:f};window.hex2rgb=function(f){f=Math.floor(f);return[(f>>16&255)/255,(f>>8&255)/255,(f&255)/255]};window.rgb2hex=function(f){return"0x"+
((clamp(Math.round(255*f[0]),0,255)<<16)+(clamp(Math.round(255*f[1]),0,255)<<8)+clamp(Math.round(255*f[2]),0,255)).toString(16)};window.dec2hex=function(f){f=f.toString(16);return"00000000".substr(0,8-f.length)+f};window.deg2rad=function(f){return f/180*Math.PI};window.rad2deg=function(f){return 180*f/Math.PI};window.azimuthElevationAngle2Direction=function(f,k){f=1.5*Math.PI-f;k=.5*Math.PI-k;return[Math.cos(f)*Math.sin(k),Math.cos(k),Math.sin(f)*Math.sin(k)]};window.fovx2fovy=function(f,k,u){return 2*
Math.atan(u*Math.tan(.5*f)/k)};window.fovy2fovx=function(f,k,u){return 2*Math.atan(k*Math.tan(.5*f)/u)};window.rayPlane=function(f,k,u,v){var g=vec3.dot(u,k);if(0==g)return!1;u=-(vec3.dot(u,f)+u[3])/g;vec3.add(f,vec3.scale(k,u,v),v);return!0};window.createPlane=function(f,k,u){vec4.set4(k[0],k[1],k[2],-vec3.dot(k,f),u)};window.raySphereClosestPositive=function(f,k,u,v){var g=vec3d.dot(k,k),q=2*vec3d.dot(k,f);u=vec3d.dot(f,f)-u*u;u=q*q-4*g*u;if(0>u)return!1;var x=Math.sqrt(u);u=(-q-x)/(2*g);g=(-q+
x)/(2*g);if(0>u||g<u&&0<g)u=g;return 0<u?(vec3d.add(f,vec3d.scale(k,u,v),v),!0):!1};window.rayTriangle3D=function(f,k,u,v,g,q,x,w,B){B||(B=vec3.create());var z=v[x]-u[q],C=v[x+1]-u[q+1],y=v[x+2]-u[q+2];v=g[w]-u[q];x=g[w+1]-u[q+1];g=g[w+2]-u[q+2];var D=k[1]*g-x*k[2],F=k[2]*v-g*k[0],H=k[0]*x-v*k[1];w=z*D+C*F+y*H;if(-1E-5<w&&1E-5>w)return!1;w=1/w;var E=f[0]-u[q],I=f[1]-u[q+1];f=f[2]-u[q+2];B[1]=w*(E*D+I*F+f*H);if(0>B[1]||1<B[1])return!1;u=I*y-C*f;f=f*z-y*E;z=E*C-z*I;B[2]=w*(k[0]*u+k[1]*f+k[2]*z);if(0>
B[2]||1<B[1]+B[2])return!1;B[0]=w*(v*u+x*f+g*z);return!0};window.rayBoxTest=function(f,k,u,v){var g=(u[0]-f[0])/k[0],q=(v[0]-f[0])/k[0];if(g>q){var x=g;g=q;q=x}var w=(u[1]-f[1])/k[1],B=(v[1]-f[1])/k[1];w>B&&(x=w,w=B,B=x);if(g>B||w>q)return!1;w>g&&(g=w);B<q&&(q=B);u=(u[2]-f[2])/k[2];f=(v[2]-f[2])/k[2];u>f&&(x=u,u=f,f=x);if(g>f||u>q)return!1;f<q&&(q=f);return 0>q?!1:!0};window.rayRay2D=function(f,k,u,v,g,q){q||(q=vec2.create());var x=(v[g]-u[g])*(k[0]-f[0])-(v[0]-u[0])*(k[g]-f[g]);if(0==x)return!1;
u=((v[0]-u[0])*(f[g]-u[g])-(v[g]-u[g])*(f[0]-u[0]))/x;q[0]=f[0]+u*(k[0]-f[0]);q[1]=f[g]+u*(k[g]-f[g]);return!0};var m=mat4d.create(),p=[vec4.createFrom(-1,-1,-1,1),vec4.createFrom(1,-1,-1,1),vec4.createFrom(1,1,-1,1),vec4.createFrom(-1,1,-1,1),vec4.createFrom(-1,-1,1,1),vec4.createFrom(1,-1,1,1),vec4.createFrom(1,1,1,1),vec4.createFrom(-1,1,1,1)],t=vec4d.create();window.matrix2frustum=function(f,k,u){mat4.multiply(k,f,m);mat4.inverse(m);for(f=0;8>f;++f)mat4.multiplyVec4(m,p[f],t),vec3.set3(t[0]/t[3],
t[1]/t[3],t[2]/t[3],u[f])};for(var n=Array(8),h=0;8>h;++h)n[h]=vec3d.create();window.matrix2frustumPlanes=function(f,k,u){matrix2frustum(f,k,n);point2plane(n[4],n[0],n[3],u[0]);point2plane(n[1],n[5],n[6],u[1]);point2plane(n[4],n[5],n[1],u[2]);point2plane(n[3],n[2],n[6],u[3]);point2plane(n[0],n[1],n[2],u[4]);point2plane(n[5],n[4],n[7],u[5])};var c=vec3.create(),b=vec3.create();window.point2plane=function(f,k,u,v){vec3.subtract(f,k,c);vec3.subtract(u,k,b);vec3.cross(b,c,v);vec3.normalize(v);v[3]=-vec3.dot(v,
f)};t=vec4d.create();window.project=function(f,k,u,v,g){g||(g=f);t[0]=f[0];t[1]=f[1];t[2]=f[2];t[3]=1;mat4.multiplyVec4(k,t);mat4.multiplyVec4(u,t);assert(0!==t[3]);g[0]=t[0]/t[3];g[1]=t[1]/t[3];g[2]=t[2]/t[3];g[0]=(.5*g[0]+.5)*v[2]+v[0];g[1]=(.5*g[1]+.5)*v[3]+v[1]};window.y2lat=function(f){return 2*Math.atan(Math.exp(f))-.5*Math.PI};window.lat2y=function(f){f=Math.sin(f);return.5*Math.log((1+f)/(1-f))};window.EARTH_RADIUS=6371E3;window.METER2FEET=3.28084;window.latLon2position=function(f,k,u,v){v=
v||1;var g=Math.cos(f);u[0]=Math.cos(k)*g*v;u[1]=Math.sin(f)*v;u[2]=-Math.sin(k)*g*v};window.pos2latLon=function(f,k){var u=vec3d.length(f);k[0]=Math.asin(clamp(f[1]/u,-1,1));k[1]=(0>f[2]?1:-1)*Math.acos(clamp(f[0]/(Math.cos(k[0])*u),-1,1));k[0]=rad2deg(k[0]);k[1]=rad2deg(k[1]);k[2]=u};var e=vec3d.create();window.computeGlobeTransformation=function(f,k,u){var v=deg2rad(f[0]);f=deg2rad(f[1]);latLon2position(v,f,e,k);mat4.translate(u,e);mat4.rotateY(u,.5*Math.PI+f);mat4.rotateX(u,.5*Math.PI-v);return u};
window.setCamera=function(f,k,u){f=deg2rad(f);k=deg2rad(k);var v=vec3.create(),g=vec3.create();latLon2position(f,k,v,EARTH_RADIUS+1E7);latLon2position(f,k,g,EARTH_RADIUS);u.setCamera(v,g)};window.readUInt16=function(f,k){return f[k]+(f[k+1]<<8)};window.readUInt32=function(f,k){return f[k]+(f[k+1]<<8)+(f[k+2]<<16)+(f[k+3]<<24)};window.setIfDefined=function(f,k,u){void 0!=k[f]&&(u[f]=k[f])};window.array2object=function(f,k){var u={};if(void 0!==k)for(var v=0,g=f.length;v<g;++v)u[k(f[v])]=f[v];else for(v=
0,g=f.length;v<g;++v)u[f[v]]=f[v];return u};window.object2array=function(f){var k=[],u;for(u in f)k.push(f[u]);return k};window.mergeObjects=function(f,k,u){void 0===u&&(u={});if(u!==f)for(var v in f)u[v]=f[v];if(u!==k)for(v in k)u[v]=k[v];return u};window.subtractObjects=function(f,k){var u={},v;for(v in f)void 0==k[v]&&(u[v]=f[v]);return u};window.intersectObjects=function(f,k){var u={},v;for(v in f)void 0!==k[v]&&(u[v]=f[v]);return u};window.getFirstObjectKey=function(f){for(var k in f)return k};
window.getFirstObjectValue=function(f){return f[getFirstObjectKey(f)]};window.objectEmpty=function(f){for(var k in f)return!1;return!0};window.arraysEqual=function(f,k){if(f.length!==k.length)return!1;for(var u=0,v=f.length;u<v;++u)if(f[u]!==k[u])return!1;return!0};window.byteBuffer2base64image=function(f,k,u,v,g){var q=4*k;assert(f.length===q*u,"buffer length must match image resolution");var x=document.createElement("canvas");x.width=k;x.height=u;var w=x.getContext("2d");k=w.getImageData(0,0,k,
u);for(var B=k.data,z=0;z<u;++z)for(var C=z*q,y=(u-1-z)*q,D=0;D<q;++D)B[C++]=f[y++];w.putImageData(k,0,0);return x.toDataURL(v,g)};window.FPSCounterDebugString=void 0;window.FPSCounter=function(){var f=Date.now(),k=0,u=[];this.step=function(v){++k;if(1E3<v-f){for(var g=0;g<u.length;++g)u[g](k,window.FPSCounterDebugString);f=v;k=0}};this.addListener=function(v){assert(-1===u.indexOf(v));u.push(v)};this.removeListener=function(v){v=u.indexOf(v);assert(-1!==v);u.splice(v,1)}};window.cround=function(f){return Math.round(100*
f)/100};window.logWithBase=function(f,k){return Math.log(f)/Math.log(k)};window.setMatrixTranslation=function(f,k){f[12]=k[0];f[13]=k[1];f[14]=k[2]};window.setMatrixTranslation3=function(f,k,u,v){f[12]=k;f[13]=u;f[14]=v};window.getMatrixTranslation=function(f,k){k=k||vec3d.create();k[0]=f[12];k[1]=f[13];k[2]=f[14];return k};window.createTranslationMatrix=function(f,k){f=mat4.identity(f);setMatrixTranslation(f,k);return f}})},"engine/lib/gl-matrix":function(){define([],function(){(function(G,A){A(G,
!0);A(G,!1)})(this,function(G,A){var a={};(function(){if("undefined"!=typeof Float32Array){var g=new Float32Array(1),q=new Int32Array(g.buffer);a.invsqrt=function(x){g[0]=x;q[0]=1597463007-(q[0]>>1);var w=g[0];return w*(1.5-.5*x*w*w)}}else a.invsqrt=function(x){return 1/Math.sqrt(x)}})();var m=Array;"undefined"!=typeof Float32Array&&(m=A?Float32Array:Array);var p={create:function(g){var q=new m(3);g?(q[0]=g[0],q[1]=g[1],q[2]=g[2]):q[0]=q[1]=q[2]=0;return q},createFrom:function(g,q,x){var w=new m(3);
w[0]=g;w[1]=q;w[2]=x;return w},set:function(g,q){q[0]=g[0];q[1]=g[1];q[2]=g[2];return q},set3:function(g,q,x,w){w[0]=g;w[1]=q;w[2]=x;return w},add:function(g,q,x){if(!x||g===x)return g[0]+=q[0],g[1]+=q[1],g[2]+=q[2],g;x[0]=g[0]+q[0];x[1]=g[1]+q[1];x[2]=g[2]+q[2];return x},subtract:function(g,q,x){if(!x||g===x)return g[0]-=q[0],g[1]-=q[1],g[2]-=q[2],g;x[0]=g[0]-q[0];x[1]=g[1]-q[1];x[2]=g[2]-q[2];return x},multiply:function(g,q,x){if(!x||g===x)return g[0]*=q[0],g[1]*=q[1],g[2]*=q[2],g;x[0]=g[0]*q[0];
x[1]=g[1]*q[1];x[2]=g[2]*q[2];return x},max:function(g,q,x){x[0]=Math.max(g[0],q[0]);x[1]=Math.max(g[1],q[1]);x[2]=Math.max(g[2],q[2]);return x},min:function(g,q,x){x[0]=Math.min(g[0],q[0]);x[1]=Math.min(g[1],q[1]);x[2]=Math.min(g[2],q[2]);return x},negate:function(g,q){q||(q=g);q[0]=-g[0];q[1]=-g[1];q[2]=-g[2];return q},scale:function(g,q,x){if(!x||g===x)return g[0]*=q,g[1]*=q,g[2]*=q,g;x[0]=g[0]*q;x[1]=g[1]*q;x[2]=g[2]*q;return x},normalize:function(g,q){q||(q=g);var x=g[0],w=g[1];g=g[2];var B=
Math.sqrt(x*x+w*w+g*g);if(!B)return q[0]=0,q[1]=0,q[2]=0,q;if(1===B)return q[0]=x,q[1]=w,q[2]=g,q;B=1/B;q[0]=x*B;q[1]=w*B;q[2]=g*B;return q},cross:function(g,q,x){x||(x=g);var w=g[0],B=g[1];g=g[2];var z=q[0],C=q[1];q=q[2];x[0]=B*q-g*C;x[1]=g*z-w*q;x[2]=w*C-B*z;return x},length:function(g){var q=g[0],x=g[1];g=g[2];return Math.sqrt(q*q+x*x+g*g)},length2:function(g){var q=g[0],x=g[1];g=g[2];return q*q+x*x+g*g},dot:function(g,q){return g[0]*q[0]+g[1]*q[1]+g[2]*q[2]},direction:function(g,q,x){x||(x=g);
var w=g[0]-q[0],B=g[1]-q[1];g=g[2]-q[2];q=Math.sqrt(w*w+B*B+g*g);if(!q)return x[0]=0,x[1]=0,x[2]=0,x;q=1/q;x[0]=w*q;x[1]=B*q;x[2]=g*q;return x},lerp:function(g,q,x,w){w||(w=g);w[0]=g[0]+x*(q[0]-g[0]);w[1]=g[1]+x*(q[1]-g[1]);w[2]=g[2]+x*(q[2]-g[2]);return w},dist:function(g,q){var x=q[0]-g[0],w=q[1]-g[1];g=q[2]-g[2];return Math.sqrt(x*x+w*w+g*g)},dist2:function(g,q){var x=q[0]-g[0],w=q[1]-g[1];g=q[2]-g[2];return x*x+w*w+g*g}},t=null,n=new m(4);p.unproject=function(g,q,x,w,B){B||(B=g);t||(t=f.create());
var z=t;n[0]=2*(g[0]-w[0])/w[2]-1;n[1]=2*(g[1]-w[1])/w[3]-1;n[2]=2*g[2]-1;n[3]=1;f.multiply(x,q,z);if(!f.inverse(z))return null;f.multiplyVec4(z,n);if(0===n[3])return null;B[0]=n[0]/n[3];B[1]=n[1]/n[3];B[2]=n[2]/n[3];return B};var h=p.createFrom(1,0,0),c=p.createFrom(0,1,0),b=p.createFrom(0,0,1);p.rotationTo=function(g,q,x){x||(x=k.create());var w=p.dot(g,q),B=p.create();if(1<=w)k.set(u,x);else if(-.999999>w)p.cross(h,g,B),1E-6>B.length&&p.cross(c,g,B),1E-6>B.length&&p.cross(b,g,B),p.normalize(B),
k.fromAxisAngle(B,Math.PI,x);else{w=Math.sqrt(2*(1+w));var z=1/w;p.cross(g,q,B);x[0]=B[0]*z;x[1]=B[1]*z;x[2]=B[2]*z;x[3]=.5*w;k.normalize(x)}1<x[3]?x[3]=1:-1>x[3]&&(x[3]=-1);return x};p.project=function(g,q,x,w){w||(w=g);var B=p.create();p.direction(q,x,B);x=p.create();p.subtract(g,q,x);g=p.dot(B,x);p.scale(B,g,w);p.add(w,q,w)};p.str=function(g){return"["+g[0]+", "+g[1]+", "+g[2]+"]"};var e={create:function(g){var q=new m(9);g?(q[0]=g[0],q[1]=g[1],q[2]=g[2],q[3]=g[3],q[4]=g[4],q[5]=g[5],q[6]=g[6],
q[7]=g[7],q[8]=g[8]):q[0]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=0;return q},createFrom:function(g,q,x,w,B,z,C,y,D){var F=new m(9);F[0]=g;F[1]=q;F[2]=x;F[3]=w;F[4]=B;F[5]=z;F[6]=C;F[7]=y;F[8]=D;return F},determinant:function(g){var q=g[3],x=g[4],w=g[5],B=g[6],z=g[7],C=g[8];return g[0]*(C*x-w*z)+g[1]*(-C*q+w*B)+g[2]*(z*q-x*B)},inverse:function(g,q){var x=g[0],w=g[1],B=g[2],z=g[3],C=g[4],y=g[5],D=g[6],F=g[7];g=g[8];var H=g*C-y*F,E=-g*z+y*D,I=F*z-C*D,J=x*H+w*E+B*I;if(!J)return null;J=1/J;q||(q=e.create());
q[0]=H*J;q[1]=(-g*w+B*F)*J;q[2]=(y*w-B*C)*J;q[3]=E*J;q[4]=(g*x-B*D)*J;q[5]=(-y*x+B*z)*J;q[6]=I*J;q[7]=(-F*x+w*D)*J;q[8]=(C*x-w*z)*J;return q},multiply:function(g,q,x){x||(x=g);var w=g[0],B=g[1],z=g[2],C=g[3],y=g[4],D=g[5],F=g[6],H=g[7];g=g[8];var E=q[0],I=q[1],J=q[2],K=q[3],L=q[4],O=q[5],U=q[6],S=q[7];q=q[8];x[0]=E*w+I*C+J*F;x[1]=E*B+I*y+J*H;x[2]=E*z+I*D+J*g;x[3]=K*w+L*C+O*F;x[4]=K*B+L*y+O*H;x[5]=K*z+L*D+O*g;x[6]=U*w+S*C+q*F;x[7]=U*B+S*y+q*H;x[8]=U*z+S*D+q*g;return x},multiplyVec2:function(g,q,x){x||
(x=q);var w=q[0];q=q[1];x[0]=w*g[0]+q*g[3]+g[6];x[1]=w*g[1]+q*g[4]+g[7];return x},multiplyVec3:function(g,q,x){x||(x=q);var w=q[0],B=q[1];q=q[2];x[0]=w*g[0]+B*g[3]+q*g[6];x[1]=w*g[1]+B*g[4]+q*g[7];x[2]=w*g[2]+B*g[5]+q*g[8];return x},set:function(g,q){q[0]=g[0];q[1]=g[1];q[2]=g[2];q[3]=g[3];q[4]=g[4];q[5]=g[5];q[6]=g[6];q[7]=g[7];q[8]=g[8];return q},identity:function(g){g||(g=e.create());g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},transpose:function(g,q){if(!q||g===q){q=
g[1];var x=g[2],w=g[5];g[1]=g[3];g[2]=g[6];g[3]=q;g[5]=g[7];g[6]=x;g[7]=w;return g}q[0]=g[0];q[1]=g[3];q[2]=g[6];q[3]=g[1];q[4]=g[4];q[5]=g[7];q[6]=g[2];q[7]=g[5];q[8]=g[8];return q},toMat4:function(g,q){q||(q=f.create());q[15]=1;q[14]=0;q[13]=0;q[12]=0;q[11]=0;q[10]=g[8];q[9]=g[7];q[8]=g[6];q[7]=0;q[6]=g[5];q[5]=g[4];q[4]=g[3];q[3]=0;q[2]=g[2];q[1]=g[1];q[0]=g[0];return q},str:function(g){return"["+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+"]"}},f={create:function(g){var q=
new m(16);4===arguments.length?(q[0]=arguments[0],q[1]=arguments[1],q[2]=arguments[2],q[3]=arguments[3],q[4]=arguments[4],q[5]=arguments[5],q[6]=arguments[6],q[7]=arguments[7],q[8]=arguments[8],q[9]=arguments[9],q[10]=arguments[10],q[11]=arguments[11],q[12]=arguments[12],q[13]=arguments[13],q[14]=arguments[14],q[15]=arguments[15]):g&&(q[0]=g[0],q[1]=g[1],q[2]=g[2],q[3]=g[3],q[4]=g[4],q[5]=g[5],q[6]=g[6],q[7]=g[7],q[8]=g[8],q[9]=g[9],q[10]=g[10],q[11]=g[11],q[12]=g[12],q[13]=g[13],q[14]=g[14],q[15]=
g[15]);return q},createFrom:function(g,q,x,w,B,z,C,y,D,F,H,E,I,J,K,L){var O=new m(16);O[0]=g;O[1]=q;O[2]=x;O[3]=w;O[4]=B;O[5]=z;O[6]=C;O[7]=y;O[8]=D;O[9]=F;O[10]=H;O[11]=E;O[12]=I;O[13]=J;O[14]=K;O[15]=L;return O},set:function(g,q){q[0]=g[0];q[1]=g[1];q[2]=g[2];q[3]=g[3];q[4]=g[4];q[5]=g[5];q[6]=g[6];q[7]=g[7];q[8]=g[8];q[9]=g[9];q[10]=g[10];q[11]=g[11];q[12]=g[12];q[13]=g[13];q[14]=g[14];q[15]=g[15];return q},identity:function(g){g||(g=f.create());g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;
g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},transpose:function(g,q){if(!q||g===q){q=g[1];var x=g[2],w=g[3],B=g[6],z=g[7],C=g[11];g[1]=g[4];g[2]=g[8];g[3]=g[12];g[4]=q;g[6]=g[9];g[7]=g[13];g[8]=x;g[9]=B;g[11]=g[14];g[12]=w;g[13]=z;g[14]=C;return g}q[0]=g[0];q[1]=g[4];q[2]=g[8];q[3]=g[12];q[4]=g[1];q[5]=g[5];q[6]=g[9];q[7]=g[13];q[8]=g[2];q[9]=g[6];q[10]=g[10];q[11]=g[14];q[12]=g[3];q[13]=g[7];q[14]=g[11];q[15]=g[15];return q},determinant:function(g){var q=g[0],x=
g[1],w=g[2],B=g[3],z=g[4],C=g[5],y=g[6],D=g[7],F=g[8],H=g[9],E=g[10],I=g[11],J=g[12],K=g[13],L=g[14];g=g[15];return J*H*y*B-F*K*y*B-J*C*E*B+z*K*E*B+F*C*L*B-z*H*L*B-J*H*w*D+F*K*w*D+J*x*E*D-q*K*E*D-F*x*L*D+q*H*L*D+J*C*w*I-z*K*w*I-J*x*y*I+q*K*y*I+z*x*L*I-q*C*L*I-F*C*w*g+z*H*w*g+F*x*y*g-q*H*y*g-z*x*E*g+q*C*E*g},inverse:function(g,q){q||(q=g);var x=g[0],w=g[1],B=g[2],z=g[3],C=g[4],y=g[5],D=g[6],F=g[7],H=g[8],E=g[9],I=g[10],J=g[11],K=g[12],L=g[13],O=g[14];g=g[15];var U=x*y-w*C,S=x*D-B*C,M=x*F-z*C,N=w*D-
B*y,T=w*F-z*y,V=B*F-z*D,ea=H*L-E*K,P=H*O-I*K,ba=H*g-J*K,la=E*O-I*L,Q=E*g-J*L,Y=I*g-J*O,ja=U*Y-S*Q+M*la+N*ba-T*P+V*ea;if(!ja)return null;ja=1/ja;q[0]=(y*Y-D*Q+F*la)*ja;q[1]=(-w*Y+B*Q-z*la)*ja;q[2]=(L*V-O*T+g*N)*ja;q[3]=(-E*V+I*T-J*N)*ja;q[4]=(-C*Y+D*ba-F*P)*ja;q[5]=(x*Y-B*ba+z*P)*ja;q[6]=(-K*V+O*M-g*S)*ja;q[7]=(H*V-I*M+J*S)*ja;q[8]=(C*Q-y*ba+F*ea)*ja;q[9]=(-x*Q+w*ba-z*ea)*ja;q[10]=(K*T-L*M+g*U)*ja;q[11]=(-H*T+E*M-J*U)*ja;q[12]=(-C*la+y*P-D*ea)*ja;q[13]=(x*la-w*P+B*ea)*ja;q[14]=(-K*N+L*S-O*U)*ja;q[15]=
(H*N-E*S+I*U)*ja;return q},toRotationMat:function(g,q){q||(q=f.create());q[0]=g[0];q[1]=g[1];q[2]=g[2];q[3]=g[3];q[4]=g[4];q[5]=g[5];q[6]=g[6];q[7]=g[7];q[8]=g[8];q[9]=g[9];q[10]=g[10];q[11]=g[11];q[12]=0;q[13]=0;q[14]=0;q[15]=1;return q},toMat3:function(g,q){q||(q=e.create());q[0]=g[0];q[1]=g[1];q[2]=g[2];q[3]=g[4];q[4]=g[5];q[5]=g[6];q[6]=g[8];q[7]=g[9];q[8]=g[10];return q},toInverseMat3:function(g,q){var x=g[0],w=g[1],B=g[2],z=g[4],C=g[5],y=g[6],D=g[8],F=g[9];g=g[10];var H=g*C-y*F,E=-g*z+y*D,I=
F*z-C*D,J=x*H+w*E+B*I;if(!J)return null;J=1/J;q||(q=e.create());q[0]=H*J;q[1]=(-g*w+B*F)*J;q[2]=(y*w-B*C)*J;q[3]=E*J;q[4]=(g*x-B*D)*J;q[5]=(-y*x+B*z)*J;q[6]=I*J;q[7]=(-F*x+w*D)*J;q[8]=(C*x-w*z)*J;return q},multiply:function(g,q,x){x||(x=g);var w=g[0],B=g[1],z=g[2],C=g[3],y=g[4],D=g[5],F=g[6],H=g[7],E=g[8],I=g[9],J=g[10],K=g[11],L=g[12],O=g[13],U=g[14];g=g[15];var S=q[0],M=q[1],N=q[2],T=q[3],V=q[4],ea=q[5],P=q[6],ba=q[7],la=q[8],Q=q[9],Y=q[10],ja=q[11],pa=q[12],ka=q[13],va=q[14];q=q[15];x[0]=S*w+M*
y+N*E+T*L;x[1]=S*B+M*D+N*I+T*O;x[2]=S*z+M*F+N*J+T*U;x[3]=S*C+M*H+N*K+T*g;x[4]=V*w+ea*y+P*E+ba*L;x[5]=V*B+ea*D+P*I+ba*O;x[6]=V*z+ea*F+P*J+ba*U;x[7]=V*C+ea*H+P*K+ba*g;x[8]=la*w+Q*y+Y*E+ja*L;x[9]=la*B+Q*D+Y*I+ja*O;x[10]=la*z+Q*F+Y*J+ja*U;x[11]=la*C+Q*H+Y*K+ja*g;x[12]=pa*w+ka*y+va*E+q*L;x[13]=pa*B+ka*D+va*I+q*O;x[14]=pa*z+ka*F+va*J+q*U;x[15]=pa*C+ka*H+va*K+q*g;return x},multiplyVec3:function(g,q,x){x||(x=q);var w=q[0],B=q[1];q=q[2];x[0]=g[0]*w+g[4]*B+g[8]*q+g[12];x[1]=g[1]*w+g[5]*B+g[9]*q+g[13];x[2]=
g[2]*w+g[6]*B+g[10]*q+g[14];return x},multiplyVec4:function(g,q,x){x||(x=q);var w=q[0],B=q[1],z=q[2];q=q[3];x[0]=g[0]*w+g[4]*B+g[8]*z+g[12]*q;x[1]=g[1]*w+g[5]*B+g[9]*z+g[13]*q;x[2]=g[2]*w+g[6]*B+g[10]*z+g[14]*q;x[3]=g[3]*w+g[7]*B+g[11]*z+g[15]*q;return x},translate:function(g,q,x){var w=q[0],B=q[1];q=q[2];if(!x||g===x)return g[12]=g[0]*w+g[4]*B+g[8]*q+g[12],g[13]=g[1]*w+g[5]*B+g[9]*q+g[13],g[14]=g[2]*w+g[6]*B+g[10]*q+g[14],g[15]=g[3]*w+g[7]*B+g[11]*q+g[15],g;var z=g[0];var C=g[1];var y=g[2];var D=
g[3];var F=g[4];var H=g[5];var E=g[6];var I=g[7];var J=g[8];var K=g[9];var L=g[10];var O=g[11];x[0]=z;x[1]=C;x[2]=y;x[3]=D;x[4]=F;x[5]=H;x[6]=E;x[7]=I;x[8]=J;x[9]=K;x[10]=L;x[11]=O;x[12]=z*w+F*B+J*q+g[12];x[13]=C*w+H*B+K*q+g[13];x[14]=y*w+E*B+L*q+g[14];x[15]=D*w+I*B+O*q+g[15];return x},scale:function(g,q,x){var w=q[0],B=q[1];q=q[2];if(!x||g===x)return g[0]*=w,g[1]*=w,g[2]*=w,g[3]*=w,g[4]*=B,g[5]*=B,g[6]*=B,g[7]*=B,g[8]*=q,g[9]*=q,g[10]*=q,g[11]*=q,g;x[0]=g[0]*w;x[1]=g[1]*w;x[2]=g[2]*w;x[3]=g[3]*w;
x[4]=g[4]*B;x[5]=g[5]*B;x[6]=g[6]*B;x[7]=g[7]*B;x[8]=g[8]*q;x[9]=g[9]*q;x[10]=g[10]*q;x[11]=g[11]*q;x[12]=g[12];x[13]=g[13];x[14]=g[14];x[15]=g[15];return x},rotate:function(g,q,x,w){var B=x[0],z=x[1];x=x[2];var C=Math.sqrt(B*B+z*z+x*x);if(!C)return null;1!==C&&(C=1/C,B*=C,z*=C,x*=C);var y=Math.sin(q);var D=Math.cos(q);var F=1-D;q=g[0];C=g[1];var H=g[2];var E=g[3];var I=g[4];var J=g[5];var K=g[6];var L=g[7];var O=g[8];var U=g[9];var S=g[10];var M=g[11];var N=B*B*F+D;var T=z*B*F+x*y;var V=x*B*F-z*
y;var ea=B*z*F-x*y;var P=z*z*F+D;var ba=x*z*F+B*y;var la=B*x*F+z*y;B=z*x*F-B*y;z=x*x*F+D;w?g!==w&&(w[12]=g[12],w[13]=g[13],w[14]=g[14],w[15]=g[15]):w=g;w[0]=q*N+I*T+O*V;w[1]=C*N+J*T+U*V;w[2]=H*N+K*T+S*V;w[3]=E*N+L*T+M*V;w[4]=q*ea+I*P+O*ba;w[5]=C*ea+J*P+U*ba;w[6]=H*ea+K*P+S*ba;w[7]=E*ea+L*P+M*ba;w[8]=q*la+I*B+O*z;w[9]=C*la+J*B+U*z;w[10]=H*la+K*B+S*z;w[11]=E*la+L*B+M*z;return w},rotateX:function(g,q,x){var w=Math.sin(q);q=Math.cos(q);var B=g[4],z=g[5],C=g[6],y=g[7],D=g[8],F=g[9],H=g[10],E=g[11];x?g!==
x&&(x[0]=g[0],x[1]=g[1],x[2]=g[2],x[3]=g[3],x[12]=g[12],x[13]=g[13],x[14]=g[14],x[15]=g[15]):x=g;x[4]=B*q+D*w;x[5]=z*q+F*w;x[6]=C*q+H*w;x[7]=y*q+E*w;x[8]=B*-w+D*q;x[9]=z*-w+F*q;x[10]=C*-w+H*q;x[11]=y*-w+E*q;return x},rotateY:function(g,q,x){var w=Math.sin(q);q=Math.cos(q);var B=g[0],z=g[1],C=g[2],y=g[3],D=g[8],F=g[9],H=g[10],E=g[11];x?g!==x&&(x[4]=g[4],x[5]=g[5],x[6]=g[6],x[7]=g[7],x[12]=g[12],x[13]=g[13],x[14]=g[14],x[15]=g[15]):x=g;x[0]=B*q+D*-w;x[1]=z*q+F*-w;x[2]=C*q+H*-w;x[3]=y*q+E*-w;x[8]=B*
w+D*q;x[9]=z*w+F*q;x[10]=C*w+H*q;x[11]=y*w+E*q;return x},rotateZ:function(g,q,x){var w=Math.sin(q);q=Math.cos(q);var B=g[0],z=g[1],C=g[2],y=g[3],D=g[4],F=g[5],H=g[6],E=g[7];x?g!==x&&(x[8]=g[8],x[9]=g[9],x[10]=g[10],x[11]=g[11],x[12]=g[12],x[13]=g[13],x[14]=g[14],x[15]=g[15]):x=g;x[0]=B*q+D*w;x[1]=z*q+F*w;x[2]=C*q+H*w;x[3]=y*q+E*w;x[4]=B*-w+D*q;x[5]=z*-w+F*q;x[6]=C*-w+H*q;x[7]=y*-w+E*q;return x},frustum:function(g,q,x,w,B,z,C){C||(C=f.create());var y=q-g,D=w-x,F=z-B;C[0]=2*B/y;C[1]=0;C[2]=0;C[3]=0;
C[4]=0;C[5]=2*B/D;C[6]=0;C[7]=0;C[8]=(q+g)/y;C[9]=(w+x)/D;C[10]=-(z+B)/F;C[11]=-1;C[12]=0;C[13]=0;C[14]=-(z*B*2)/F;C[15]=0;return C},perspective:function(g,q,x,w,B){g=x*Math.tan(g*Math.PI/360);q*=g;return f.frustum(-q,q,-g,g,x,w,B)},ortho:function(g,q,x,w,B,z,C){C||(C=f.create());var y=q-g,D=w-x,F=z-B;C[0]=2/y;C[1]=0;C[2]=0;C[3]=0;C[4]=0;C[5]=2/D;C[6]=0;C[7]=0;C[8]=0;C[9]=0;C[10]=-2/F;C[11]=0;C[12]=-(g+q)/y;C[13]=-(w+x)/D;C[14]=-(z+B)/F;C[15]=1;return C},lookAt:function(g,q,x,w){w||(w=f.create());
var B=g[0],z=g[1];g=g[2];var C=x[0];var y=x[1];var D=x[2];var F=q[0];x=q[1];var H=q[2];if(B===F&&z===x&&g===H)return f.identity(w);q=B-F;x=z-x;F=g-H;var E=1/Math.sqrt(q*q+x*x+F*F);q*=E;x*=E;F*=E;H=y*F-D*x;D=D*q-C*F;C=C*x-y*q;(E=Math.sqrt(H*H+D*D+C*C))?(E=1/E,H*=E,D*=E,C*=E):C=D=H=0;y=x*C-F*D;var I=F*H-q*C;var J=q*D-x*H;(E=Math.sqrt(y*y+I*I+J*J))?(E=1/E,y*=E,I*=E,J*=E):J=I=y=0;w[0]=H;w[1]=y;w[2]=q;w[3]=0;w[4]=D;w[5]=I;w[6]=x;w[7]=0;w[8]=C;w[9]=J;w[10]=F;w[11]=0;w[12]=-(H*B+D*z+C*g);w[13]=-(y*B+I*z+
J*g);w[14]=-(q*B+x*z+F*g);w[15]=1;return w},fromRotationTranslation:function(g,q,x){x||(x=f.create());var w=g[0],B=g[1],z=g[2],C=g[3],y=w+w,D=B+B,F=z+z;g=w*y;var H=w*D;w*=F;var E=B*D;B*=F;z*=F;y*=C;D*=C;C*=F;x[0]=1-(E+z);x[1]=H+C;x[2]=w-D;x[3]=0;x[4]=H-C;x[5]=1-(g+z);x[6]=B+y;x[7]=0;x[8]=w+D;x[9]=B-y;x[10]=1-(g+E);x[11]=0;x[12]=q[0];x[13]=q[1];x[14]=q[2];x[15]=1;return x},str:function(g){return"["+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+", "+g[9]+", "+
g[10]+", "+g[11]+", "+g[12]+", "+g[13]+", "+g[14]+", "+g[15]+"]"}},k={create:function(g){var q=new m(4);g?(q[0]=g[0],q[1]=g[1],q[2]=g[2],q[3]=g[3]):q[0]=q[1]=q[2]=q[3]=0;return q},createFrom:function(g,q,x,w){var B=new m(4);B[0]=g;B[1]=q;B[2]=x;B[3]=w;return B},set:function(g,q){q[0]=g[0];q[1]=g[1];q[2]=g[2];q[3]=g[3];return q},identity:function(g){g||(g=k.create());g[0]=0;g[1]=0;g[2]=0;g[3]=1;return g}},u=k.identity();k.calculateW=function(g,q){var x=g[0],w=g[1],B=g[2];if(!q||g===q)return g[3]=-Math.sqrt(Math.abs(1-
x*x-w*w-B*B)),g;q[0]=x;q[1]=w;q[2]=B;q[3]=-Math.sqrt(Math.abs(1-x*x-w*w-B*B));return q};k.dot=function(g,q){return g[0]*q[0]+g[1]*q[1]+g[2]*q[2]+g[3]*q[3]};k.inverse=function(g,q){var x=g[0],w=g[1],B=g[2],z=g[3];x=(x=x*x+w*w+B*B+z*z)?1/x:0;if(!q||g===q)return g[0]*=-x,g[1]*=-x,g[2]*=-x,g[3]*=x,g;q[0]=-g[0]*x;q[1]=-g[1]*x;q[2]=-g[2]*x;q[3]=g[3]*x;return q};k.conjugate=function(g,q){if(!q||g===q)return g[0]*=-1,g[1]*=-1,g[2]*=-1,g;q[0]=-g[0];q[1]=-g[1];q[2]=-g[2];q[3]=g[3];return q};k.length=function(g){var q=
g[0],x=g[1],w=g[2];g=g[3];return Math.sqrt(q*q+x*x+w*w+g*g)};k.normalize=function(g,q){q||(q=g);var x=g[0],w=g[1],B=g[2];g=g[3];var z=Math.sqrt(x*x+w*w+B*B+g*g);if(0===z)return q[0]=0,q[1]=0,q[2]=0,q[3]=0,q;z=1/z;q[0]=x*z;q[1]=w*z;q[2]=B*z;q[3]=g*z;return q};k.add=function(g,q,x){if(!x||g===x)return g[0]+=q[0],g[1]+=q[1],g[2]+=q[2],g[3]+=q[3],g;x[0]=g[0]+q[0];x[1]=g[1]+q[1];x[2]=g[2]+q[2];x[3]=g[3]+q[3];return x};k.multiply=function(g,q,x){x||(x=g);var w=g[0],B=g[1],z=g[2];g=g[3];var C=q[0],y=q[1],
D=q[2];q=q[3];x[0]=w*q+g*C+B*D-z*y;x[1]=B*q+g*y+z*C-w*D;x[2]=z*q+g*D+w*y-B*C;x[3]=g*q-w*C-B*y-z*D;return x};k.multiplyVec3=function(g,q,x){x||(x=q);var w=q[0],B=q[1],z=q[2];q=g[0];var C=g[1],y=g[2];g=g[3];var D=g*w+C*z-y*B,F=g*B+y*w-q*z,H=g*z+q*B-C*w;w=-q*w-C*B-y*z;x[0]=D*g+w*-q+F*-y-H*-C;x[1]=F*g+w*-C+H*-q-D*-y;x[2]=H*g+w*-y+D*-C-F*-q;return x};k.scale=function(g,q,x){if(!x||g===x)return g[0]*=q,g[1]*=q,g[2]*=q,g[3]*=q,g;x[0]=g[0]*q;x[1]=g[1]*q;x[2]=g[2]*q;x[3]=g[3]*q;return x};k.toMat3=function(g,
q){q||(q=e.create());var x=g[0],w=g[1],B=g[2],z=g[3],C=x+x,y=w+w,D=B+B;g=x*C;var F=x*y;x*=D;var H=w*y;w*=D;B*=D;C*=z;y*=z;z*=D;q[0]=1-(H+B);q[1]=F+z;q[2]=x-y;q[3]=F-z;q[4]=1-(g+B);q[5]=w+C;q[6]=x+y;q[7]=w-C;q[8]=1-(g+H);return q};k.toMat4=function(g,q){q||(q=f.create());var x=g[0],w=g[1],B=g[2],z=g[3],C=x+x,y=w+w,D=B+B;g=x*C;var F=x*y;x*=D;var H=w*y;w*=D;B*=D;C*=z;y*=z;z*=D;q[0]=1-(H+B);q[1]=F+z;q[2]=x-y;q[3]=0;q[4]=F-z;q[5]=1-(g+B);q[6]=w+C;q[7]=0;q[8]=x+y;q[9]=w-C;q[10]=1-(g+H);q[11]=0;q[12]=0;
q[13]=0;q[14]=0;q[15]=1;return q};k.slerp=function(g,q,x,w){w||(w=g);var B=g[0]*q[0]+g[1]*q[1]+g[2]*q[2]+g[3]*q[3];if(1<=Math.abs(B))return w!==g&&(w[0]=g[0],w[1]=g[1],w[2]=g[2],w[3]=g[3]),w;var z=Math.acos(B);var C=Math.sqrt(1-B*B);if(.001>Math.abs(C))return w[0]=.5*g[0]+.5*q[0],w[1]=.5*g[1]+.5*q[1],w[2]=.5*g[2]+.5*q[2],w[3]=.5*g[3]+.5*q[3],w;B=Math.sin((1-x)*z)/C;x=Math.sin(x*z)/C;w[0]=g[0]*B+q[0]*x;w[1]=g[1]*B+q[1]*x;w[2]=g[2]*B+q[2]*x;w[3]=g[3]*B+q[3]*x;return w};k.fromRotationMatrix=function(g,
q){q||(q=k.create());var x=g[0]+g[4]+g[8];if(0<x){var w=Math.sqrt(x+1);q[3]=.5*w;w=.5/w;q[0]=(g[7]-g[5])*w;q[1]=(g[2]-g[6])*w;q[2]=(g[3]-g[1])*w}else{w=k.fromRotationMatrix.s_iNext=k.fromRotationMatrix.s_iNext||[1,2,0];x=0;g[4]>g[0]&&(x=1);g[8]>g[3*x+x]&&(x=2);var B=w[x],z=w[B];w=Math.sqrt(g[3*x+x]-g[3*B+B]-g[3*z+z]+1);q[x]=.5*w;w=.5/w;q[3]=(g[3*z+B]-g[3*B+z])*w;q[B]=(g[3*B+x]+g[3*x+B])*w;q[z]=(g[3*z+x]+g[3*x+z])*w}return q};e.toQuat4=k.fromRotationMatrix;(function(){var g=e.create();k.fromAxes=function(q,
x,w,B){g[0]=x[0];g[3]=x[1];g[6]=x[2];g[1]=w[0];g[4]=w[1];g[7]=w[2];g[2]=q[0];g[5]=q[1];g[8]=q[2];return k.fromRotationMatrix(g,B)}})();k.identity=function(g){g||(g=k.create());g[0]=0;g[1]=0;g[2]=0;g[3]=1;return g};k.fromAngleAxis=function(g,q,x){x||(x=k.create());g*=.5;var w=Math.sin(g);x[3]=Math.cos(g);x[0]=w*q[0];x[1]=w*q[1];x[2]=w*q[2];return x};k.toAngleAxis=function(g,q){q||(q=g);var x=g[0]*g[0]+g[1]*g[1]+g[2]*g[2];0<x?(q[3]=2*Math.acos(g[3]),x=a.invsqrt(x),q[0]=g[0]*x,q[1]=g[1]*x,q[2]=g[2]*
x):(q[3]=0,q[0]=1,q[1]=0,q[2]=0);return q};k.str=function(g){return"["+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+"]"};var v={create:function(g){var q=new m(4);g?(q[0]=g[0],q[1]=g[1],q[2]=g[2],q[3]=g[3]):q[0]=q[1]=q[2]=q[3]=0;return q},createFrom:function(g,q,x,w){var B=new m(4);B[0]=g;B[1]=q;B[2]=x;B[3]=w;return B},set:function(g,q){q[0]=g[0];q[1]=g[1];q[2]=g[2];q[3]=g[3];return q},identity:function(g){g||(g=v.create());g[0]=1;g[1]=0;g[2]=0;g[3]=1;return g},transpose:function(g,q){if(!q||g===q)return q=
g[1],g[1]=g[2],g[2]=q,g;q[0]=g[0];q[1]=g[2];q[2]=g[1];q[3]=g[3];return q},determinant:function(g){return g[0]*g[3]-g[2]*g[1]},inverse:function(g,q){q||(q=g);var x=g[0],w=g[1],B=g[2];g=g[3];var z=x*g-B*w;if(!z)return null;z=1/z;q[0]=g*z;q[1]=-w*z;q[2]=-B*z;q[3]=x*z;return q},multiply:function(g,q,x){x||(x=g);var w=g[0],B=g[1],z=g[2];g=g[3];x[0]=w*q[0]+B*q[2];x[1]=w*q[1]+B*q[3];x[2]=z*q[0]+g*q[2];x[3]=z*q[1]+g*q[3];return x},rotate:function(g,q,x){x||(x=g);var w=g[0],B=g[1],z=g[2];g=g[3];var C=Math.sin(q);
q=Math.cos(q);x[0]=w*q+B*C;x[1]=w*-C+B*q;x[2]=z*q+g*C;x[3]=z*-C+g*q;return x},multiplyVec2:function(g,q,x){x||(x=q);var w=q[0];q=q[1];x[0]=w*g[0]+q*g[1];x[1]=w*g[2]+q*g[3];return x},scale:function(g,q,x){x||(x=g);var w=g[1],B=g[2],z=g[3],C=q[0];q=q[1];x[0]=g[0]*C;x[1]=w*q;x[2]=B*C;x[3]=z*q;return x},str:function(g){return"["+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+"]"}};A=A?"":"d";G["glMath"+A]=a;G["vec2"+A]={create:function(g){var q=new m(2);g?(q[0]=g[0],q[1]=g[1]):(q[0]=0,q[1]=0);return q},createFrom:function(g,
q){var x=new m(2);x[0]=g;x[1]=q;return x},add:function(g,q,x){x||(x=q);x[0]=g[0]+q[0];x[1]=g[1]+q[1];return x},subtract:function(g,q,x){x||(x=q);x[0]=g[0]-q[0];x[1]=g[1]-q[1];return x},multiply:function(g,q,x){x||(x=q);x[0]=g[0]*q[0];x[1]=g[1]*q[1];return x},divide:function(g,q,x){x||(x=q);x[0]=g[0]/q[0];x[1]=g[1]/q[1];return x},scale:function(g,q,x){x||(x=g);x[0]=g[0]*q;x[1]=g[1]*q;return x},dist:function(g,q){var x=q[0]-g[0];g=q[1]-g[1];return Math.sqrt(x*x+g*g)},dist2:function(g,q){var x=q[0]-
g[0];g=q[1]-g[1];return x*x+g*g},set:function(g,q){q[0]=g[0];q[1]=g[1];return q},set2:function(g,q,x){x[0]=g;x[1]=q;return x},negate:function(g,q){q||(q=g);q[0]=-g[0];q[1]=-g[1];return q},normalize:function(g,q){q||(q=g);var x=g[0]*g[0]+g[1]*g[1];0<x?(x=Math.sqrt(x),q[0]=g[0]/x,q[1]=g[1]/x):q[0]=q[1]=0;return q},cross:function(g,q,x){g=g[0]*q[1]-g[1]*q[0];if(!x)return g;x[0]=x[1]=0;x[2]=g;return x},length:function(g){var q=g[0];g=g[1];return Math.sqrt(q*q+g*g)},dot:function(g,q){return g[0]*q[0]+
g[1]*q[1]},direction:function(g,q,x){x||(x=g);var w=g[0]-q[0];g=g[1]-q[1];q=w*w+g*g;if(!q)return x[0]=0,x[1]=0,x[2]=0,x;q=1/Math.sqrt(q);x[0]=w*q;x[1]=g*q;return x},lerp:function(g,q,x,w){w||(w=g);w[0]=g[0]+x*(q[0]-g[0]);w[1]=g[1]+x*(q[1]-g[1]);return w},str:function(g){return"["+g[0]+", "+g[1]+"]"}};G["vec3"+A]=p;G["vec4"+A]={create:function(g){var q=new m(4);g?(q[0]=g[0],q[1]=g[1],q[2]=g[2],q[3]=g[3]):(q[0]=0,q[1]=0,q[2]=0,q[3]=0);return q},createFrom:function(g,q,x,w){var B=new m(4);B[0]=g;B[1]=
q;B[2]=x;B[3]=w;return B},add:function(g,q,x){x||(x=q);x[0]=g[0]+q[0];x[1]=g[1]+q[1];x[2]=g[2]+q[2];x[3]=g[3]+q[3];return x},subtract:function(g,q,x){x||(x=q);x[0]=g[0]-q[0];x[1]=g[1]-q[1];x[2]=g[2]-q[2];x[3]=g[3]-q[3];return x},multiply:function(g,q,x){x||(x=q);x[0]=g[0]*q[0];x[1]=g[1]*q[1];x[2]=g[2]*q[2];x[3]=g[3]*q[3];return x},divide:function(g,q,x){x||(x=q);x[0]=g[0]/q[0];x[1]=g[1]/q[1];x[2]=g[2]/q[2];x[3]=g[3]/q[3];return x},scale:function(g,q,x){x||(x=g);x[0]=g[0]*q;x[1]=g[1]*q;x[2]=g[2]*q;
x[3]=g[3]*q;return x},dot:function(g,q){return g[0]*q[0]+g[1]*q[1]+g[2]*q[2]+g[3]*q[3]},set:function(g,q){q[0]=g[0];q[1]=g[1];q[2]=g[2];q[3]=g[3];return q},set4:function(g,q,x,w,B){B[0]=g;B[1]=q;B[2]=x;B[3]=w;return B},negate:function(g,q){q||(q=g);q[0]=-g[0];q[1]=-g[1];q[2]=-g[2];q[3]=-g[3];return q},lerp:function(g,q,x,w){w||(w=g);w[0]=g[0]+x*(q[0]-g[0]);w[1]=g[1]+x*(q[1]-g[1]);w[2]=g[2]+x*(q[2]-g[2]);w[3]=g[3]+x*(q[3]-g[3]);return w},str:function(g){return"["+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+
"]"}};G["mat2"+A]=v;G["mat3"+A]=e;G["mat4"+A]=f;G["quat4"+A]=k})})},"engine/lib/ModelDirtySet":function(){define([],function(){ModelDirtySet=function(G){function A(h,c,b,e,f,k,u){b=b||h.getParentLayer().getId();var v=h.getId();h=c.getId();b=a(t,b,v);(v=b[h])?(c=v[1],c&f?delete b[h]:c&k?v[1]=e:c&u||assert("ModelDirtySet.objGeometryAdded: inconsistent state")):b[h]=[c,e]}function a(h,c,b){h[c]||(h[c]={});h[c][b]||(h[c][b]={});return h[c][b]}var m=require("engine/parts/Model"),p={},t={},n={};this._getResidentGeometryRecords=
function(){return p};this._getDirtyGeometryRecords=function(){return t};this.getDirtyMaterials=function(){return objectEmpty(n)?null:n};this.clearDirtyMaterials=function(){n={}};this.hasDirtyGeometryRecords=function(){for(var h in t)for(var c in t[h]){var b=t[h][c];if(b&&!objectEmpty(b))return!0}return!1};this.getDirtyLayers=function(){var h={},c;for(c in t)for(var b in t[c]){var e=t[c][b];if(e&&0<e.length){h[c]=G.get(m.ContentType.LAYER,c);break}}return h};this.handleUpdate=function(h,c,b){assert(this[c],
"ModelDirtySet doesn't know how to process "+c);return this[c](h,b)};this.getAddRemoveList=function(h){return this.getAddRemoveListFilteredByLayers(Object.keys(t),h)};this.getAddRemoveListFilteredByLayers=function(h,c){for(var b=[],e=[],f=0;f<h.length;f++){var k=h[f];if(k in t)for(var u in t[k]){var v=t[k][u];if(v){var g=a(p,k,u),q;for(q in v){var x=v[q],w=x[0];x=x[1];if(x&6){var B=g[q];B?e.push.apply(e,B[1]):4===x&&assert(!1,"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid remove");c&&B&&
delete g[q]}x&3&&(x=[w,[]],B=G.get(m.ContentType.OBJECT,u),G.getGeometryRenderGeometries(B,w,x[1]),b.push.apply(b,x[1]),c&&(g[q]=x))}}}}c&&(t={});return[b,e]};this.getResidentRenderGeometries=function(){return this.getResidentRenderGeometriesFilteredByLayers(Object.keys(p))};this.getResidentRenderGeometriesFilteredByLayers=function(h){for(var c=[],b=0;b<h.length;b++){var e=h[b];if(e in p)for(var f in p[e]){var k=p[e][f];if(k)for(var u in k)c.push.apply(c,k[u][1])}}return c};this.matChanged=function(h){n[h.getId()]=
!0};this.layerAdded=function(h){for(var c=h.getObjects(),b=0;b<c.length;b++)this.layObjectAdded(h,c[b])};this.layerRemoved=function(h){for(var c=h.getObjects(),b=0;b<c.length;b++)this.layObjectRemoved(h,c[b])};this.layObjectAdded=function(h,c){h=h.getId();for(var b=c.getGeometryRecords(),e=0;e<b.length;e++)this.objGeometryAdded(c,b[e],h)};this.layObjectRemoved=function(h,c){h=h.getId();for(var b=c.getGeometryRecords(),e=0;e<b.length;e++)this.objGeometryRemoved(c,b[e],h)};this.layObjectReplaced=function(h,
c){this.layObjectRemoved(h,c[0]);this.layObjectAdded(h,c[1])};this.objectDirty=this.objTransformation=function(h,c){c=c||h.getParentLayer().getId();var b=h.getId();b=a(p,c,b);for(var e in b)A(h,b[e][0],c,2,0,0,5)};this.objGeometryAdded=function(h,c,b){A(h,c,b,1,4,0,0)};this.objGeometryRemoved=function(h,c,b){A(h,c,b,4,1,2,0)};this.objGeometryReplaced=function(h,c){this.objGeometryRemoved(h,c[0]);this.objGeometryAdded(h,c[1])};this.objGeometryTransformation=function(h,c){this.objGeometryReplaced(h,
c)};this.formatDebugInfo=function(h){var c=["ADD","UPD",void 0,"REM"];if(h)return"";h="";for(var b in t)for(var e in t[b]){var f=t[b][e];if(f){0<h.length&&(h+="\n");h+=b+"."+e;var k=[],u;for(u in f){var v=f[u][1];k[v]||(k[v]=[]);k[v].push(f[u][0].geometry.getId())}for(f=0;f<k.length;f++)if(k[f])for(h+=" "+c[f-1]+": ",v=0;v<k[f].length;v++)h+=k[f][v]+", "}}return h}}})},"engine/lib/RenderGeometry":function(){define([],function(){RenderGeometry=function(G,A,a,m,p,t,n,h,c,b,e,f){this.data=G;this.boundingInfo=
A;this.material=a;this.origin=m;this.transformation=p;this.center=t;this.bsRadius=n;this.castShadow=h;this.isBackdrop=c;this.name=b;this.uniqueName=e;this.idx=f;this.canBeMerged=!0}})},"engine/parts/View":function(){define("dojo/dom dojox/xml/parser dojo/text!engine/materials/internal/util.xml engine/lib/GLTexture engine/lib/GLVBO engine/lib/GLFBO engine/lib/GLSLProgramRep engine/lib/GLMaterialRep engine/lib/TextureRenderer engine/lib/Util engine/lib/gl-matrix engine/lib/webgl-utils engine/materials/AtmosphereMaterial engine/materials/BillboardMaterial engine/materials/HUDMaterial engine/materials/LeafCardMaterial engine/materials/Material engine/materials/RibbonLineMaterial engine/materials/TerrainMaterial engine/materials/WaterMaterial engine/materials/internal/SimpleGLMaterial engine/materials/internal/TexOnlyGLMaterial engine/lib/SSAOHelper engine/parts/Model engine/parts/Viewport".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F){return function(H,E,I){function J(){window.requestAnimFrame(J,K);for(var ka=0;ka<ba.length;ka++)void 0!==ba[ka].animFrame&&ba[ka].animFrame();if(S){ka=Date.now();var va=.001*(ka-pa);pa=ka;M.step(ka);Q.step(va);I.processDirty();if(K.width!=K.clientWidth||K.height!=K.clientHeight)K.width=K.clientWidth,K.height=K.clientHeight,Q.setWindowSize(vec2.createFrom(K.width,K.height));U.clearColor.apply(U,O);U.clear(U.COLOR_BUFFER_BIT|U.DEPTH_BUFFER_BIT);
Q.render(la,null);for(ka=0;ka<ja.length;ka++)va=K.toDataURL(ja[ka][1],ja[ka][2]),ja[ka][0](va,K.width,K.height,ja[ka][1],ja[ka][2]);ja=[]}}var K=document.createElement("canvas"),L=H.id.replace(/_wrapper$/,"");K.setAttribute("id",L+"_canvas3d");K.setAttribute("style","width: 100%; height:100%; display:block;");var O=[1,1,1,1],U=WebGLUtils.setupWebGL(K,{alpha:!1})[0];assert(U);U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,!0);var S=!1,M=new FPSCounter,N=function(){var ka=new function(){this._parse=function(da){da=
A.parse(da).getElementsByTagName("snippet");for(var ca=/\$[a-zA-Z0-9]+[ \t]*/,ma=/[\$\s]+/g,qa=0;qa<da.length;qa++){var ta=da[qa].getAttribute("name");assert(void 0===this[ta]);for(var Ca=da[qa].textContent,ha;null!==(ha=Ca.match(ca));){var fa=this[ha[0].replace(ma,"")];assert(void 0!==fa);Ca=Ca.replace(ha[0],fa)}this[ta]=Ca}}};ka.position=VertexAttrConstants.POSITION;ka.normal=VertexAttrConstants.NORMAL;ka.uv0=VertexAttrConstants.UV0;ka.uvw=VertexAttrConstants.UVW;ka.auxpos1=VertexAttrConstants.AUXPOS1;
ka.auxpos2=VertexAttrConstants.AUXPOS2;ka._parse(a);var va=new n,Aa={shaders:{},add:function(da,ca){assert(void 0==this.shaders[da]);this.shaders[da]=ca},get:function(da){assert(void 0!==this.shaders[da]);return this.shaders[da]}};z.loadShaders(ka,Aa,va,U);C.loadShaders(ka,Aa,va,U);q.loadShaders(ka,Aa,va,U);SSAOHelper.loadShaders(ka,Aa,va,U);k.loadShaders(ka,Aa,va,U);u.loadShaders(ka,Aa,va,U);v.loadShaders(ka,Aa,va,U);g.loadShaders(ka,Aa,va,U);x.loadShaders(ka,Aa,va,U);w.loadShaders(ka,Aa,va,U);B.loadShaders(ka,
Aa,va,U);return va}(),T=new GLVBORep,V=new GLTextureRep(I.getAll(D.ContentType.TEXTURE),N,function(){return Q.getViewportRect()},U),ea=new h(V,N),P=[],ba=[],la=[0,1,0],Q=new F(N,T,ea,V,E,U);L=H.getBoundingClientRect();Q.setWindowSize(vec2.createFrom(L.width,L.height));var Y=new c(U,K,N,ea,V),ja=[];this.getCombinedStats=function(){return Q.getCombinedStats()};this.setRunning=function(ka){S=ka;G.byId(K.id)||H.appendChild(K)};J();this.setManifold=function(ka){ea.setManifold(ka);Q.setManifold(ka);"sphere"===
ka?Q.getTrackball().setMode("globe"):Q.getTrackball().setMode("default")};this.setLights=function(ka,va){var Aa=[ka.color[0],ka.color[1],ka.color[2],ka.intensity],da=[va.color[0],va.color[1],va.color[2],va.intensity];ka=[va.color[0],va.color[1],va.color[2],Math.min(va.intensity+ka.intensity,1)];la=va.direction;Q.setLightingData(new LightingData(Aa,da,ka,la))};this.getViewParams=function(ka,va){va=Q.getViewParams(ka,va);if(!ka||ka.backgroundColor)va.backgroundColor=O;return va};this.setViewParams=
function(ka,va){ka.backgroundColor&&(O=ka.backgroundColor);Q.setViewParams(ka,va)};this.setRenderParams=function(ka){Q.setRenderParams(ka)};this.getRenderParams=function(){return Q.getRenderParams()};this.getFrustumObjects=function(){return Q.getFrustumObjects()};this.modify=function(ka,va,Aa,da){Q.modify(ka,va,Aa,da)};this.setSelectionObject=function(ka){Q.setSelectionObject(ka)};this.setHighlightObjects=function(ka,va){Q.setHighlightObjects(ka,va)};this.frame=function(ka,va){Q.frame(ka,va)};this.adjustViewDirection=
function(ka){Q.adjustViewDirection(ka)};this.world2screen=function(ka){return Q.world2screen(ka)};this.setCamera=function(ka,va,Aa){Q.setCamera(ka,va,Aa)};this.getCamera=function(ka){return Q.getCamera(ka)};this.addCameraListener=function(ka){return Q.addCameraListener(ka)};this.removeCameraListener=function(ka){Q.removeCameraListener(ka)};this.addControlsListener=function(ka){return Q.addControlsListener(ka)};this.removeControlsListener=function(ka){Q.removeControlsListener(ka)};this.addFPSListener=
function(ka){M.addListener(ka)};this.removeFPSListener=function(ka){M.removeListener(ka)};this.addAnimationFrameListener=function(ka){assert(-1===ba.indexOf(ka));ba.push(ka)};this.removeAnimationFrameListener=function(ka){ka=ba.indexOf(ka);assert(-1!==ka);ba.splice(ka,1)};this.getTrackball=function(){return Q.getTrackball()};this.getPickRay=function(ka,va,Aa){Q.getPickRay(ka,va,Aa)};this.getSideIndexForPoint=function(ka){return Q.getSideIndexForPoint(ka)};this.getCanvas=function(){return K};this.getTextureGraphicsRenderer=
function(){return Y};this.renderScreenshots=function(ka,va,Aa){var da=new F(N,T,ea,V,E,U);da.setLightingData(Q.getLightingData());da.setRenderParams(Q.getRenderParams());da.modify(object2array(Q.getContent()),[]);da.setWindowSize([ka,va]);var ca=new GLFBO(U.RGBA,U.UNSIGNED_BYTE,!0,U.NEAREST,U);ca.setSize(ka,va);ca.bind();for(var ma=ka*va*4,qa=Array(Aa.length),ta=0,Ca=Aa.length;ta<Ca;++ta){da.setCamera(Aa[ta][0],Aa[ta][1],!0);3<=Aa[ta].length&&da.setFovX(Aa[ta][2],!0);U.clearColor.apply(U,O);U.clear(U.COLOR_BUFFER_BIT|
U.DEPTH_BUFFER_BIT);da.step(0);da.render(la,ca.getGLName());var ha=new Uint8Array(ma);U.readPixels(0,0,ka,va,U.RGBA,U.UNSIGNED_BYTE,ha);for(var fa=3;fa<ma;fa+=4)ha[fa]=255;qa[ta]=ha}U.bindFramebuffer(U.FRAMEBUFFER,null);ca.dispose();U.viewport(0,0,K.width,K.height);da.dispose();return qa};this.requestScreenCapture=function(ka,va,Aa){ja.push([ka,va,Aa])};this.getAllTexturesLoaded=function(){return 0===V.getLoadingCount()};this.getTextureLoaded=function(ka){return V.getIsLoaded(ka)};this.addTextureListener=
function(ka){V.addTextureListener(ka)};this.removeTextureListener=function(ka){V.removeTextureListener(ka)};this.prefetchTextures=function(ka){var va=subtractObjects(ka,P),Aa=subtractObjects(P,ka),da;for(da in Aa)V.release(P[da].getId(),void 0);for(da in va)V.aquire(ka[da].getId(),void 0);P=ka};var pa=Date.now()}})},"engine/lib/GLTexture":function(){define(["engine/lib/GLUtil"],function(){GLTextureRep=function(G,A,a,m){var p={},t={},n=[],h=[],c=function(){var x=m.createTexture(),w=0;this.incRefCnt=
function(){++w};this.decRefCnt=function(){--w;assert(0<=w)};this.getRefCnt=function(){return w};this.getGLName=function(){return x}},b=function(x){var w=p[x];void 0!==w&&(m.deleteTexture(w.getGLName()),delete p[x])};this.aquire=function(x,w,B){var z=p[x];if(void 0===z){z=new c;assert(void 0==p[x]);p[x]=z;var C=G[x];assert(void 0!==C);C.setUnloadFunc(b);var y=z.getGLName();m.bindTexture(m.TEXTURE_2D,y);C.params&&C.params.wrapClamp&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,
m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE));if(void 0!==w)if(Array.isArray(w.id)){B=w.num;assert(w.id.length===B*B);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,256*B,256*B,0,m.RGBA,m.UNSIGNED_BYTE,null);var D=m.createFramebuffer();m.bindFramebuffer(m.FRAMEBUFFER,D);for(var F=0;F<B;F++)for(var H=0;H<B;H++)m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,p[w.id[F*B+H]].getGLName(),0),glCheckFramebufferStatus(m.FRAMEBUFFER,m),m.copyTexSubImage2D(m.TEXTURE_2D,0,256*H,256*F,0,0,256,256);m.generateMipmap(m.TEXTURE_2D);
m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR_MIPMAP_LINEAR);m.bindFramebuffer(m.FRAMEBUFFER,null);m.deleteFramebuffer(D)}else m.texImage2D(m.TEXTURE_2D,0,m.RGBA,w.width,w.height,0,m.RGBA,m.UNSIGNED_BYTE,null),glCopyTextureToTexture(p[w.id].getGLName(),y,w.x,w.y,0,0,w.width,w.height,m);else m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),void 0!==B&&1==B?m.texImage2D(m.TEXTURE_2D,0,m.RGBA,8,8,0,m.RGBA,m.UNSIGNED_BYTE,f):m.texImage2D(m.TEXTURE_2D,0,m.RGBA,8,8,0,m.RGBA,m.UNSIGNED_BYTE,
e);C.renderGl?C.renderGl(y,m):C.deferredLoading()?8>this.getLoadingCount()?g(x,y):n.push([x,y]):C.loadGl(void 0,y,m,A,a())}z.incRefCnt();return z.getGLName()};this.release=function(x){x=p[x];void 0!==x&&(x.decRefCnt(),assert(0<=x.getRefCnt()))};this.getLoadingCount=function(){return Object.keys(t).length};this.getIsLoaded=function(x){if(void 0===p[x]||void 0!==t[x])return!1;for(var w=0,B=n.length;w<B;++w)if(n[w][0]===x)return!1;return!0};this.addTextureListener=function(x){assert(-1===h.indexOf(x));
h.push(x)};this.removeTextureListener=function(x){x=h.indexOf(x);assert(-1!==x);h.splice(x,1)};this.getTexture=function(x){return G[x]};for(var e=new Uint8Array(256),f=new Uint8Array(256),k=0,u=e.length;k<u;++k)e[k]=255,f[k]=0!==(k+1)%4?255:0;var v=function(x){if(x in t){delete t[x];var w=Object.keys(p),B=Object.keys(t);h.forEach(function(z){z(x,w,B)});q()}},g=function(x,w){assert(void 0===t[x]);t[x]=!0;var B=G[x];assert(void 0!==B);setTimeout(function(){B.loadGl(function(){v(x)},w,m,A,a())},0)},
q=function(){for(var x=[],w=0,B=n.length;w<B;++w){var z=n[w][0],C=p[z];void 0!==C&&(0===C.getRefCnt()?(m.deleteTexture(C.getGLName()),delete p[z]):x.push(n[w]))}n=x;x=Math.min(8-Object.keys(t).length,n.length);for(w=0;w<x;++w)g(n[w][0],n[w][1]);n.splice(0,x)}}})},"engine/lib/GLUtil":function(){define(["engine/lib/GLVBO","engine/lib/Util","engine/lib/gl-matrix","engine/lib/webgl-debug"],function(){window.glTexImage2D=function(G,A,a,m,p,t){assert(1<=G.width&&1<=G.height);isPowerOfTwo(G.width)&&isPowerOfTwo(G.height)?
(a.bindTexture(a.TEXTURE_2D,A),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,G)):(glMakePotTexture(G,A,a,m,p),a.bindTexture(a.TEXTURE_2D,A));t?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_LINEAR),a.generateMipmap(a.TEXTURE_2D)):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.bindTexture(a.TEXTURE_2D,null);return A};window.glCopyTextureToTexture=function(G,A,a,m,p,t,n,h,c){var b=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,b);c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,G,0);glCheckFramebufferStatus(c.FRAMEBUFFER,c);c.bindTexture(c.TEXTURE_2D,A);c.copyTexSubImage2D(c.TEXTURE_2D,0,p,t,a,m,n,h);c.generateMipmap(c.TEXTURE_2D);c.bindFramebuffer(c.FRAMEBUFFER,null);c.deleteFramebuffer(b)};window.glCreateEmptyTexture=function(G){var A=G.createTexture();G.bindTexture(G.TEXTURE_2D,A);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.NEAREST);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.NEAREST);G.texImage2D(G.TEXTURE_2D,0,G.RGBA,
4,4,0,G.RGBA,G.UNSIGNED_BYTE,null);return A};window.glMakePotTexture=function(G,A,a,m,p){var t=nextHighestPowerOfTwo(G.width),n=nextHighestPowerOfTwo(G.height);assert(t!==G.width||n!==G.height);var h=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,h);a.bindTexture(a.TEXTURE_2D,A);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,t,n,0,a.RGBA,a.UNSIGNED_BYTE,null);a.generateMipmap(a.TEXTURE_2D);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,A,0);A=a.createTexture();a.bindTexture(a.TEXTURE_2D,
A);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,G);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);G=new GLVBO(createQuadVertexUvBuffer(),createQuadVertexUvAttr2offset(),5,a);void 0===p&&(p=a.getParameter(a.VIEWPORT));a.viewport(0,0,t,n);m=m.get("texOnly");m.use();t=mat4.identity();m.uniformMatrix4fv("model",t);m.uniformMatrix4fv("view",t);m.uniformMatrix4fv("proj",
t);m.uniform4fv("color",[1,1,1,1]);m.uniform1i("tex",0);m.enableVertexAttribArrays();G.bind();G.setPointers(m);a.disable(a.DEPTH_TEST);a.drawArrays(a.TRIANGLE_STRIP,0,G.getNum());a.enable(a.DEPTH_TEST);m.disableVertexAttribArrays();a.viewport(p[0],p[1],p[2],p[3]);G.dispose();a.deleteTexture(A);a.bindFramebuffer(a.FRAMEBUFFER,null);a.deleteFramebuffer(h)};window.glCheckError=function(G,A){var a=A.getError();a!=A.NO_ERROR&&alert(G+": gl error "+a)};window.glCheckFramebufferStatus=function(G,A){G=A.checkFramebufferStatus(G);
G!=A.FRAMEBUFFER_COMPLETE&&console.log("Framebuffer error 0x"+G)};window.glHandleError=function(G,A,a){alert(WebGLDebugUtils.glEnumToString(G)+" was caused by call to: "+A+"("+WebGLDebugUtils.glFunctionArgsToString(A,a)+")")};window.glValidateNoneOfTheArgsAreUndefined=function(G,A){for(var a=0;a<A.length;++a)void 0===A[a]&&console.error("undefined passed to gl."+G+"("+WebGLDebugUtils.glFunctionArgsToString(G,A)+")")}})},"engine/lib/GLVBO":function(){define(["engine/lib/Util"],function(){var G=0;GLVBO=
function(A,a,m,p){var t=p.createBuffer(),n=0;this.setData=function(h,c,b){p.bindBuffer(p.ARRAY_BUFFER,t);p.bufferData(p.ARRAY_BUFFER,h,b||p.STATIC_DRAW);p.bindBuffer(p.ARRAY_BUFFER,null);n=c/m};void 0!==A&&this.setData(A,A.length);this.id=G++;this.bind=function(){p.bindBuffer(p.ARRAY_BUFFER,t)};this.setPointers=function(h){var c=h.getAttrNames(),b=h.getAttrSizes();assert(c.length==b.length);for(var e=0;e<c.length;++e)p.vertexAttribPointer(h.getAttribLocation(c[e]),b[e],p.FLOAT,!1,4*m,4*a[c[e]])};
this.getNum=function(){return n};this.getId=function(){return this.id};this.dispose=function(){p.deleteBuffer(t)}};GLVBORep=function(){var A={};this.add=function(a,m){assert(void 0==A[a]);A[a]=m};this.get=function(a){return A[a]}}})},"engine/lib/webgl-debug":function(){define([],function(){WebGLDebugUtils=function(){function G(c){if(null==h){h={};for(var b in c)"number"==typeof c[b]&&(h[c[b]]=b)}}function A(){if(null==h)throw"WebGLDebugUtils.init(ctx) not called";}function a(c){A();var b=h[c];return void 0!==
b?b:"*UNKNOWN WebGL ENUM (0x"+c.toString(16)+")"}function m(c,b,e){c=n[c];return void 0!==c&&c[b]?a(e):null===e?"null":void 0===e?"undefined":e.toString()}function p(c,b,e){c.__defineGetter__(e,function(){return b[e]});c.__defineSetter__(e,function(f){b[e]=f})}function t(c){var b=c.getParameter(c.MAX_VERTEX_ATTRIBS),e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);for(var f=0;f<b;++f)c.disableVertexAttribArray(f),c.vertexAttribPointer(f,4,c.FLOAT,!1,0,0),c.vertexAttrib1f(f,0);c.deleteBuffer(e);b=
c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS);for(f=0;f<b;++f)c.activeTexture(c.TEXTURE0+f),c.bindTexture(c.TEXTURE_CUBE_MAP,null),c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);c.useProgram(null);c.bindBuffer(c.ARRAY_BUFFER,null);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);c.bindFramebuffer(c.FRAMEBUFFER,null);c.bindRenderbuffer(c.RENDERBUFFER,null);c.disable(c.BLEND);c.disable(c.CULL_FACE);c.disable(c.DEPTH_TEST);c.disable(c.DITHER);c.disable(c.SCISSOR_TEST);c.blendColor(0,0,0,0);c.blendEquation(c.FUNC_ADD);
c.blendFunc(c.ONE,c.ZERO);c.clearColor(0,0,0,0);c.clearDepth(1);c.clearStencil(-1);c.colorMask(!0,!0,!0,!0);c.cullFace(c.BACK);c.depthFunc(c.LESS);c.depthMask(!0);c.depthRange(0,1);c.frontFace(c.CCW);c.hint(c.GENERATE_MIPMAP_HINT,c.DONT_CARE);c.lineWidth(1);c.pixelStorei(c.PACK_ALIGNMENT,4);c.pixelStorei(c.UNPACK_ALIGNMENT,4);c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);c.UNPACK_COLORSPACE_CONVERSION_WEBGL&&c.pixelStorei(c.UNPACK_COLORSPACE_CONVERSION_WEBGL,
c.BROWSER_DEFAULT_WEBGL);c.polygonOffset(0,0);c.sampleCoverage(1,!1);c.scissor(0,0,c.canvas.width,c.canvas.height);c.stencilFunc(c.ALWAYS,0,4294967295);c.stencilMask(4294967295);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);c.viewport(0,0,c.canvas.width,c.canvas.height);for(c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT|c.STENCIL_BUFFER_BIT);c.getError(););}var n={enable:{0:!0},disable:{0:!0},getParameter:{0:!0},drawArrays:{0:!0},drawElements:{0:!0,2:!0},createShader:{0:!0},getShaderParameter:{1:!0},getProgramParameter:{1:!0},
getVertexAttrib:{1:!0},vertexAttribPointer:{2:!0},bindTexture:{0:!0},activeTexture:{0:!0},getTexParameter:{0:!0,1:!0},texParameterf:{0:!0,1:!0},texParameteri:{0:!0,1:!0,2:!0},texImage2D:{0:!0,2:!0,6:!0,7:!0},texSubImage2D:{0:!0,6:!0,7:!0},copyTexImage2D:{0:!0,2:!0},copyTexSubImage2D:{0:!0},generateMipmap:{0:!0},bindBuffer:{0:!0},bufferData:{0:!0,2:!0},bufferSubData:{0:!0},getBufferParameter:{0:!0,1:!0},pixelStorei:{0:!0,1:!0},readPixels:{4:!0,5:!0},bindRenderbuffer:{0:!0},bindFramebuffer:{0:!0},checkFramebufferStatus:{0:!0},
framebufferRenderbuffer:{0:!0,1:!0,2:!0},framebufferTexture2D:{0:!0,1:!0,2:!0},getFramebufferAttachmentParameter:{0:!0,1:!0,2:!0},getRenderbufferParameter:{0:!0,1:!0},renderbufferStorage:{0:!0,1:!0},clear:{0:!0},depthFunc:{0:!0},blendFunc:{0:!0,1:!0},blendFuncSeparate:{0:!0,1:!0,2:!0,3:!0},blendEquation:{0:!0},blendEquationSeparate:{0:!0,1:!0},stencilFunc:{0:!0},stencilFuncSeparate:{0:!0,1:!0},stencilMaskSeparate:{0:!0},stencilOp:{0:!0,1:!0,2:!0},stencilOpSeparate:{0:!0,1:!0,2:!0,3:!0},cullFace:{0:!0},
frontFace:{0:!0}},h=null;return{init:G,mightBeEnum:function(c){A();return void 0!==h[c]},glEnumToString:a,glFunctionArgToString:m,glFunctionArgsToString:function(c,b){for(var e="",f=0;f<b.length;++f)e+=(0==f?"":", ")+m(c,f,b[f]);return e},makeDebugContext:function(c,b,e){function f(g,q){return function(){e&&e(q,arguments);var x=g[q].apply(g,arguments),w=g.getError();0!=w&&(k[w]=!0,b(w,q,arguments));return x}}G(c);b=b||function(g,q,x){for(var w="",B=0;B<x.length;++B)w+=(0==B?"":", ")+m(q,B,x[B]);g=
"WebGL error "+a(g)+" in "+q+"("+w+")";window.console&&window.console.error?window.console.error(g):window.console&&window.console.log&&window.console.log(g)};var k={},u={},v;for(v in c)"function"==typeof c[v]?u[v]=f(c,v):p(u,c,v);u.getError=function(){for(var g in k)if(k.hasOwnProperty(g)&&k[g])return k[g]=!1,g;return c.NO_ERROR};return u},makeLostContextSimulatingCanvas:function(c){function b(I){return"function"==typeof I?I:function(J){I.handleEvent(J)}}function e(){for(var I=Object.keys(E),J=0;J<
I.length;++J)delete E[I]}function f(){++D;z||y==D&&c.loseContext()}function k(I,J){var K=I[J];return function(){f();if(!z)return K.apply(I,arguments)}}function u(I){return{statusMessage:I,preventDefault:function(){F=!0}}}function v(I){for(var J in I)"function"==typeof I[J]?w[J]=k(I,J):p(w,I,J);w.getError=function(){f();if(!z)for(var O;O=g.getError();)E[O]=!0;for(O in E)if(E[O])return delete E[O],O;return w.NO_ERROR};var K="createBuffer createFramebuffer createProgram createRenderbuffer createShader createTexture".split(" ");
for(J=0;J<K.length;++J){var L=K[J];w[L]=function(O){return function(){f();if(z)return null;var U=O.apply(I,arguments);U.__webglDebugContextLostId__=B;C.push(U);return U}}(I[L])}K="getActiveAttrib getActiveUniform getBufferParameter getContextAttributes getAttachedShaders getFramebufferAttachmentParameter getParameter getProgramParameter getProgramInfoLog getRenderbufferParameter getShaderParameter getShaderInfoLog getShaderSource getTexParameter getUniform getUniformLocation getVertexAttrib".split(" ");
for(J=0;J<K.length;++J)L=K[J],w[L]=function(O){return function(){f();return z?null:O.apply(I,arguments)}}(w[L]);K="isBuffer isEnabled isFramebuffer isProgram isRenderbuffer isShader isTexture".split(" ");for(J=0;J<K.length;++J)L=K[J],w[L]=function(O){return function(){f();return z?!1:O.apply(I,arguments)}}(w[L]);w.checkFramebufferStatus=function(O){return function(){f();return z?w.FRAMEBUFFER_UNSUPPORTED:O.apply(I,arguments)}}(w.checkFramebufferStatus);w.getAttribLocation=function(O){return function(){f();
return z?-1:O.apply(I,arguments)}}(w.getAttribLocation);w.getVertexAttribOffset=function(O){return function(){f();return z?0:O.apply(I,arguments)}}(w.getVertexAttribOffset);w.isContextLost=function(){return z};return w}var g,q=[],x=[];var w={};var B=1,z=!1,C=[],y=0,D=0,F=!1,H=0,E={};c.getContext=function(I){return function(){var J=I.apply(c,arguments);if(J instanceof WebGLRenderingContext){if(J!=g){if(g)throw"got different context";g=J;w=v(g)}return w}return J}}(c.getContext);(function(I){var J=I.addEventListener;
I.addEventListener=function(K,L,O){switch(K){case "webglcontextlost":q.push(b(L));break;case "webglcontextrestored":x.push(b(L));break;default:J.apply(I,arguments)}}})(c);c.loseContext=function(){if(!z){z=!0;y=0;for(++B;g.getError(););e();E[g.CONTEXT_LOST_WEBGL]=!0;var I=u("context lost"),J=q.slice();setTimeout(function(){for(var K=0;K<J.length;++K)J[K](I);0<=H&&setTimeout(function(){c.restoreContext()},H)},0)}};c.restoreContext=function(){z&&x.length&&setTimeout(function(){if(!F)throw"can not restore. webglcontestlost listener did not call event.preventDefault";
for(var I=0;I<C.length;++I){var J=C[I];J instanceof WebGLBuffer?g.deleteBuffer(J):J instanceof WebGLFramebuffer?g.deleteFramebuffer(J):J instanceof WebGLProgram?g.deleteProgram(J):J instanceof WebGLRenderbuffer?g.deleteRenderbuffer(J):J instanceof WebGLShader?g.deleteShader(J):J instanceof WebGLTexture&&g.deleteTexture(J)}t(g);z=!1;D=0;F=!1;I=x.slice();J=u("context restored");for(var K=0;K<I.length;++K)I[K](J)},0)};c.loseContextInNCalls=function(I){if(z)throw"You can not ask a lost contet to be lost";
y=D+I};c.getNumCalls=function(){return D};c.setRestoreTimeout=function(I){H=I};return c},resetToInitialState:t}}()})},"engine/lib/GLFBO":function(){define(["engine/lib/GLUtil"],function(){GLFBO=function(G,A,a,m,p,t){var n=p.createFramebuffer();t=t||p.createTexture();var h=a?p.createRenderbuffer():void 0;p.bindTexture(p.TEXTURE_2D,t);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,m);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,m);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,4,4,0,p.RGBA,p.UNSIGNED_BYTE,null);var c=0,b=0;this.dispose=function(){p.deleteFramebuffer(n);p.deleteTexture(t);void 0!=h&&p.deleteRenderbuffer(h)};this.setSize=function(e,f){if(e!==c||f!==b)c=e,b=f,p.bindTexture(p.TEXTURE_2D,t),p.texImage2D(p.TEXTURE_2D,0,G,c,b,0,G,A,null),void 0!=h&&(p.bindRenderbuffer(p.RENDERBUFFER,h),p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_COMPONENT16,c,b)),p.bindFramebuffer(p.FRAMEBUFFER,
n),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,t,0),void 0!=h&&p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,h),glCheckFramebufferStatus(p.FRAMEBUFFER,p),void 0!=h&&p.bindRenderbuffer(p.RENDERBUFFER,null),p.bindFramebuffer(p.FRAMEBUFFER,null)};this.getWidth=function(){return c};this.getHeight=function(){return b};this.bind=function(){p.bindFramebuffer(p.FRAMEBUFFER,n)};this.getTexture=function(){return t};this.getGLName=function(){return n}}})},
"engine/lib/GLSLProgramRep":function(){define([],function(){return function(){var G={};this.add=function(A,a){assert(void 0==G[A]);G[A]=a};this.get=function(A){assert(void 0!==G[A]);return G[A]}}})},"engine/lib/GLMaterialRep":function(){define([],function(){return function(G,A){function a(c){c.updateVisibility();c.updateParameters&&c.updateParameters()}var m={},p="plane",t=function(c){var b=0;this.incRefCnt=function(){++b};this.decRefCnt=function(){--b;assert(0<=b)};this.getRefCnt=function(){return b};
this.getGLMaterial=function(){return c}};this.aquire=function(c){return n(c,0,m)};this.aquireDepth=function(c){return n(c,1,m)};this.aquireNormal=function(c){return n(c,2,m)};var n=function(c,b,e){var f=c.getId();1===b?f+="_depth":2===b&&(f+="_normal");var k=e[f];void 0===k&&(k=void 0,k=(b=c.getGLMaterials()[b])?new b(c,A,G,p):void 0,k=new t(k),e[f]=k);k.incRefCnt();return k.getGLMaterial()};this.release=function(c){h(c)};this.releaseDepth=function(c){h(c+"_depth")};this.releaseNormal=function(c){h(c+
"_normal")};var h=function(c){var b=m[c];b.decRefCnt();0===b.getRefCnt()&&(b=b.getGLMaterial(),void 0!==b&&void 0!==b.dispose&&b.dispose(),delete m[c])};this.updateMaterialParameters=function(c){var b=m[c];b&&b.getGLMaterial()&&a(b.getGLMaterial());(b=m[c+"_depth"])&&b.getGLMaterial()&&a(b.getGLMaterial());(c=m[c+"_normal"])&&c.getGLMaterial()&&a(c.getGLMaterial())};this.setManifold=function(c){p=c}}})},"engine/lib/TextureRenderer":function(){define(["engine/lib/Renderer","engine/lib/GLSLProgramRep"],
function(G,A){return function(a,m,p,t,n){var h={},c=[0,0,0,0],b=new Renderer(p,void 0,t,n,a),e={get:function(){return!0}};this.addRenderGeometries=function(f){b.modify(f,[])};this.removeRenderGeometries=function(f){b.modify([],f)};this.setBackgroundColor=function(f){c=f};this.draw=function(f,k){var u=f.getId();if(h[u])f=h[u].fbo;else{var v=n.aquire(u);f=new GLFBO(a.RGBA,a.UNSIGNED_BYTE,!1,a.NEAREST,a,v);h[u]={glName:v,fbo:f}}u=k.size[0];v=k.size[1];if(f.getWidth()!==u||f.getHeight()!==v)f.setSize(u,
v),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);var g=[0,0,u,v],q=[1,1E4];k=mat4d.ortho(k.minWebMerc[0],k.maxWebMerc[0],k.minWebMerc[1],k.maxWebMerc[1],q[0],q[1]);var x=mat4d.identity();f.bind();a.viewport(0,0,u,v);a.clearColor.apply(a,c);a.clear(a.COLOR_BUFFER_BIT);a.disable(a.DEPTH_TEST);b.render(x,k,q,e,g,void 0,f);a.bindFramebuffer(a.FRAMEBUFFER,null);a.viewport(0,0,m.width,m.height);a.enable(a.DEPTH_TEST)}}})},"engine/lib/Renderer":function(){define("engine/lib/Float32ArrayList engine/materials/internal/SimpleGLMaterial engine/materials/internal/TexOnlyGLMaterial engine/lib/GLFBO engine/lib/GLVBO engine/lib/Util engine/lib/bitset engine/lib/gl-matrix".split(" "),
function(G,A,a){Instance=function(m,p,t,n,h,c,b){this.name=m;this.uniqueName=p;this.from=t;this.to=n;this.transformation=h;this.idx=c;this.dataId=b;void 0!=h&&(this.transformationNormal=mat4.create(),mat4.set(h,this.transformationNormal),mat4.inverse(this.transformationNormal,this.transformationNormal),mat4.transpose(this.transformationNormal,this.transformationNormal))};LightingData=function(m,p,t,n){this.setUniforms=function(h){h.uniform4fv("lightAmbient",m);h.uniform4fv("lightDiffuse",p);h.uniform4fv("lightSpecular",
t);h.uniform3fv("lightDirection",n)};this.getLightDirection=function(){return n};this.getLightAmbient=function(){return m};this.getLightDiffuse=function(){return p};this.getLightSpecular=function(){return t}};Renderer=function(m,p,t,n,h){function c(){var ca=q.clone();ca.and(g);return ca}function b(ca){return ca.material.getDrawMode(h)===h.LINES?K:J}function e(ca){return ca.material}var f=void 0,k={},u={},v=0,g=void 0,q=void 0,x=0,w=0,B=0,z,C=void 0,y=void 0;h.enable(h.DEPTH_TEST);h.enable(h.CULL_FACE);
h.disable(h.BLEND);h.blendFunc(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA);var D=h.getContextAttributes().alpha?h.RGBA:h.RGB;this.setLightingData=function(ca){f=ca};this.getLightingData=function(){return f};var F=void 0,H=0,E=0,I=0;this.getCombinedStats=function(){var ca={trianglesRendered:H,drawCallsInstanced:E,drawCallsMerged:I},ma=0,qa=0,ta=0,Ca;for(Ca in u){var ha=u[Ca],fa;for(fa in ha.origin2data){var ra=ha.origin2data[fa];ma+=ra.buffer.getArray().length;qa+=ra.buffer.getSize();ta+=ra.optimalCount}}for(Ca in k)for(fa in ha=
k[Ca],ha.origin2data)ra=ha.origin2data[fa],ma+=ra.buffer.getArray().length,qa+=ra.buffer.getSize(),ta+=ra.optimalCount;ca.VBOallocatedSize=4*ma/1024;ca.VBOusedSize=4*qa/1024;ca.VBOoptimalSize=4*ta/1024;return ca};this.setContent=function(ca){for(var ma={},qa=0,ta=ca.length;qa<ta;++qa)ma[ca[qa].uniqueName]=ca[qa];ca=void 0===F?ca:subtractObjects(ma,F);qa=void 0===F?[]:subtractObjects(F,ma);F=ma;this.modify(ca,qa)};this.dispose=function(){for(var ca in k){Q(ca);var ma=k[ca],qa;for(qa in ma.origin2data)ma.origin2data[qa].vbo.dispose()}for(ca in u)for(qa in Q(ca),
ma=u[ca],ma.origin2data)ma.origin2data[qa].vbo.dispose();ja.dispose();Aa.dispose();k={};u={}};this.setSelectionObject=function(ca){ca?(g=Y(array2object([ca])),q&&(y=c())):y=g=void 0};this.setHighlightObjects=function(ca,ma){"object"!==typeof ma&&(ma={});var qa=0<B&&(Date.now()-C)/1E3<B;x="number"===typeof ma.fadeInTime?ma.fadeInTime:.2;w="number"===typeof ma.fadeOutTime?ma.fadeOutTime:.5;z="number"===typeof ma.holdTime?ma.holdTime:1;B=0<=z?z+x+w:0;ca&&0!==ca.length?(C=Date.now(),q=Y(array2object(ca)),
g&&(y=c())):(qa||(C=Date.now()),x=0,B=w)};var J=new A(m,[.1,.2,.9,.4],h.EQUAL),K=new A(m,[.1,.2,.9,.4],h.EQUAL,h.LINES),L=mat4.create();if(D===h.RGBA){p=new Uint8Array(64);for(n=0;64>n;n++)p[n]=255;n=h.createTexture();h.bindTexture(h.TEXTURE_2D,n);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,4,4,0,h.RGBA,h.UNSIGNED_BYTE,p);var O=new a(m,n,[1,1,1,1],!0,h.ALWAYS)}this.render=function(ca,ma,qa,ta,Ca,ha,fa){E=I=H=0;mat4.inverse(ca,L);mat4.transpose(L);
for(var ra=0;3>ra;++ra)M(ra,ca,ma,L,qa,ta,void 0,e,Ca,ha);g&&U(ca,ma,qa,ta,g,b,Ca,ha);M(3,ca,ma,L,qa,ta,void 0,e,Ca,ha);q&&da(ca,ma,qa,ta,Ca,ha,fa);h.bindBuffer(h.ARRAY_BUFFER,null);h.useProgram(null);O&&!fa&&(h.blendFuncSeparate(h.ZERO,h.ONE,h.ONE,h.ZERO),O.bind(h,va),O.bindView(h,va),Aa.bind(),Aa.setPointers(O.getProgram()),h.drawArrays(h.TRIANGLE_STRIP,0,Aa.getNum()),O.release(h),h.blendFunc(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA));v++};this.renderSimple=function(ca,ma,qa,ta,Ca,ha,fa){U(ca,ma,qa,ta,
void 0,function(ra){return ra[Ca]},ha,fa)};var U=function(ca,ma,qa,ta,Ca,ha,fa,ra){mat4.inverse(ca,L);mat4.transpose(L);for(var wa=0;4>wa;++wa)M(wa,ca,ma,L,qa,ta,Ca,ha,fa,ra)},S=h.createTexture();h.bindTexture(h.TEXTURE_2D,S);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texImage2D(h.TEXTURE_2D,0,
h.RGBA,4,4,0,h.RGBA,h.UNSIGNED_BYTE,null);var M=function(ca,ma,qa,ta,Ca,ha,fa,ra,wa,Ga){ta=!1;ma={view:ma,proj:qa,viewInvTransp:L,nearFar:Ca,lightingData:f,viewport:wa,framebufferTex:S,shadowMap:Ga,origin:void 0};for(var Na in u)if(qa=u[Na],Ca=ra(qa),void 0!==Ca&&Ca.beginSlot(ca)&&(!Ca.isVisible||Ca.isVisible())){Ga=!1;for(var Ra in qa.origin2data){var Sa=qa.origin2data[Ra];ma.origin=Sa.origin;var La=!1,W=Sa.instances,ia;for(ia in W){var sa=W[ia],X=sa.idx;ha.get(X)&&(void 0===fa||fa.get(X))&&(3!==
ca||ta||(h.bindTexture(h.TEXTURE_2D,S),h.copyTexImage2D(h.TEXTURE_2D,0,D,wa[0],wa[1],wa[2],wa[3],0),h.clear(h.DEPTH_BUFFER_BIT),ta=!0),Ga||(Ca.bind(h,ma),Ga=!0),La||(Sa.vbo.bind(),Sa.vbo.setPointers(Ca.getProgram()),Ca.bindView(h,ma),La=!0),Ca.bindInstance(h,sa),E++,X=Ca.getDrawMode(h),X===h.TRIANGLES&&(H+=(sa.to-sa.from)/3),h.drawArrays(X,sa.from,sa.to-sa.from))}}Ga&&Ca.release(h)}for(Na in k)if(qa=k[Na],Ca=ra(qa),void 0!==Ca&&Ca.beginSlot(ca)&&(!Ca.isVisible||Ca.isVisible())){Ga=!1;for(Ra in qa.origin2data)if(Sa=
qa.origin2data[Ra],ma.origin=Sa.origin,void 0===fa)3!==ca||ta||(h.bindTexture(h.TEXTURE_2D,S),h.copyTexImage2D(h.TEXTURE_2D,0,D,wa[0],wa[1],wa[2],wa[3],0),h.clear(h.DEPTH_BUFFER_BIT),ta=!0),Ga||(Ca.bind(h,ma),Ga=!0),Sa.vbo.bind(),Sa.vbo.setPointers(Ca.getProgram()),Ca.bindView(h,ma),I++,X=Ca.getDrawMode(h),X===h.TRIANGLES&&(H+=Sa.vbo.getNum()/3),h.drawArrays(X,0,Sa.vbo.getNum());else for(ia in La=!1,W=Sa.instances,W)sa=W[ia],fa.get(sa.idx)&&(3!==ca||ta||(h.bindTexture(h.TEXTURE_2D,S),h.copyTexImage2D(h.TEXTURE_2D,
0,D,wa[0],wa[1],wa[2],wa[3],0),h.clear(h.DEPTH_BUFFER_BIT),ta=!0),Ga||(Ca.bind(h,ma),Ga=!0),La||(Ca.bindView(h,ma),Sa.vbo.bind(),Sa.vbo.setPointers(Ca.getProgram()),La=!0),E++,X=Ca.getDrawMode(h),X===h.TRIANGLES&&(H+=(sa.to-sa.from)/3),h.drawArrays(X,sa.from,sa.to-sa.from));Ga&&Ca.release(h)}};this.print=function(){console.log("number of materials (merged/instanced): "+Object.keys(k).length+"/"+Object.keys(u).length);var ca=0,ma;for(ma in k){var qa=k[ma],ta;for(ta in qa.origin2data)ca+=Object.keys(qa.origin2data[ta].instances).length}var Ca=
0;for(ma in u)for(ta in qa=u[ma],qa.origin2data)Ca+=Object.keys(qa.origin2data[ta].instances).length;console.log("number of instances (merged/instanced):"+ca+"/"+Ca)};this.modify=function(ca,ma,qa){var ta=[],Ca=[];T(ca,ta,Ca);var ha=[];ca=[];T(ma,ha,ca);ma=ba(ta,ha,!1);for(var fa in ma){ta=ma[fa];for(var ra in ta){var wa=ta[ra];ha=wa.optimalCount;var Ga=wa.material,Na=Ga.getStride(),Ra=k[fa];void 0===Ra&&(assert(0<ha),Ra={material:t.aquire(Ga),materialDepth:t.aquireDepth(Ga),materialNormal:t.aquireNormal(Ga),
stride:Na,origin2data:{}},k[fa]=Ra);var Sa=Ra.origin2data[ra];void 0===Sa&&(assert(0<ha),Sa=Ga.getVertexAttr2offset(),Sa={instances:{},vbo:new GLVBO(void 0,Sa,Na,h),buffer:new G(ha),optimalCount:0,origin:wa.origin},Ra.origin2data[ra]=Sa);if(0<ha){Ra=Sa.buffer.getSize();var La=Sa.buffer.getArray(),W=ha<wa.sparseCount/2;if(W|=Sa.buffer.resize(W?ha:wa.sparseCount)){Ra=0;var ia=Sa.buffer.getArray(),sa=wa.toRemove;W=0;for(var X=sa.length;W<X;++W){var na=Sa.instances[sa[W].uniqueName];Sa.optimalCount-=
(na.to-na.from)*Na;delete Sa.instances[sa[W].uniqueName]}W={};for(var ua in Sa.instances)na=Sa.instances[ua],assert(void 0===W[na.from]),W[na.from]=na;for(ua in W){na=W[ua];var ya=na.from*Na,Ha=na.to*Na;ia.set(La.subarray(ya,Ha),Ra);na.from=Ra/Na;Ra+=Ha-ya;na.to=Ra/Na}assert(Ra==Sa.optimalCount)}else for(sa=wa.toRemove,W=0,X=sa.length;W<X;++W)La=sa[W].uniqueName,assert(void 0!==Sa.instances[La]),ya=Sa.instances[La].from*Na,Ha=Sa.instances[La].to*Na,Sa.buffer.erase(ya,Ha),delete Sa.instances[La],Sa.optimalCount-=
Ha-ya;setMatrixTranslation3(V,-wa.origin[0],-wa.origin[1],-wa.origin[2]);wa=wa.toAdd;W=0;for(X=wa.length;W<X;++W)La=wa[W],Ha=La.data,mat4.multiply(V,La.transformation,ea),mat4.inverse(ea,P),mat4.transpose(P),ya=Ra,Ga.fillInterleaved(Ha,ea,P,Sa.buffer.getArray(),Ra),Ha=Ga.getOutputAmount(getFirstObjectValue(Ha.faces.indices).length),ia=ya+Ha,assert(void 0===Sa.instances[La.uniqueName]),Sa.instances[La.uniqueName]=new Instance(La.name,La.uniqueName,ya/Na,ia/Na,void 0,La.idx),Sa.optimalCount+=Ha,Ra+=
Ha;assert(Sa.optimalCount===ha);Sa.vbo.setData(Sa.buffer.getArray(),Sa.buffer.getSize())}else assert(0===ha),Sa.vbo.dispose(),delete Ra.origin2data[ra],0===Object.keys(Ra.origin2data).length&&(Q(fa),delete k[fa])}}Ca=ba(Ca,ca,!0);for(var Oa in Ca){fa=Ca[Oa];for(var Ma in fa)if(ra=fa[Ma],0===ra.optimalCount)ta=u[Oa],ta.origin2data[Ma].vbo.dispose(),delete ta.origin2data[Ma],0===Object.keys(ta.origin2data).length&&(Q(Oa),delete u[Oa]);else{ua=ra.material;ca=ua.getStride();ta=u[Oa];void 0===ta&&(ta=
{material:t.aquire(ua),materialDepth:t.aquireDepth(ua),materialNormal:t.aquireNormal(ua),stride:ca,origin2data:{}},u[Oa]=ta);ma=ta.origin2data[Ma];void 0===ma&&(ma=ua.getVertexAttr2offset(),ma={instances:{},vbo:new GLVBO(void 0,ma,ca,h),buffer:new G(ra.optimalCount),optimalCount:0,dataId2fromTo:{},origin:ra.origin},ta.origin2data[Ma]=ma);ta=ma.buffer.getSize();Sa=ma.buffer.getArray();ha=ra.optimalCount<ra.sparseCount/2;if(ha|=ma.buffer.resize(ha?ra.optimalCount:ra.sparseCount)){wa=ra.toRemove;ha=
0;for(Ga=wa.length;ha<Ga;++ha)Ra=wa[ha],delete ma.instances[Ra.uniqueName],Na=Ra.data.id,Ra=ma.dataId2fromTo[Na],0===--Ra.refCount&&void 0===ra.dataId2refCount[Na]&&(ma.optimalCount-=(Ra.to-Ra.from)*ca,delete ma.dataId2fromTo[Na]);ta=0;ha=ma.buffer.getArray();Ga={};for(var Da in ma.dataId2fromTo)Ra=ma.dataId2fromTo[Da],assert(void 0===Ga[Ra.from]),Ga[Ra.from]=Ra;for(var Ka in Ga)Ra=Ga[Ka],W=Ra.from*ca,X=Ra.to*ca,ha.set(Sa.subarray(W,X),ta),Ra.from=ta/ca,ta+=X-W,Ra.to=ta/ca;for(Ka in ma.instances)ha=
ma.instances[Ka],ha.from=ma.dataId2fromTo[ha.dataId].from,ha.to=ma.dataId2fromTo[ha.dataId].to}else for(wa=ra.toRemove,ha=0,Ga=wa.length;ha<Ga;++ha)Ra=wa[ha],delete ma.instances[Ra.uniqueName],Na=Ra.data.id,Ra=ma.dataId2fromTo[Na],0===--Ra.refCount&&void 0===ra.dataId2refCount[Na]&&(W=Ra.from*ca,X=Ra.to*ca,ma.buffer.erase(W,X),ma.optimalCount-=X-W,delete ma.dataId2fromTo[Na]);setMatrixTranslation3(V,-ra.origin[0],-ra.origin[1],-ra.origin[2]);Sa=ra.toAdd;ha=0;for(Ga=Sa.length;ha<Ga;++ha)Ra=Sa[ha],
W=Ra.data,Na=W.id,void 0===ma.dataId2fromTo[Na]?(ma.dataId2fromTo[Na]={},ma.dataId2fromTo[Na].refCount=1,ua.fillInterleaved(W,void 0,void 0,ma.buffer.getArray(),ta),W=ua.getOutputAmount(getFirstObjectValue(W.faces.indices).length),ma.dataId2fromTo[Na].from=ta/ca,ta+=W,ma.dataId2fromTo[Na].to=ta/ca,ma.optimalCount+=W):++ma.dataId2fromTo[Na].refCount,assert(ma.dataId2fromTo[Na].from*ca<=ma.buffer.getSize()&&ma.dataId2fromTo[Na].to*ca<=ma.buffer.getSize()),W=mat4.create(),mat4.multiply(V,Ra.transformation,
W),ma.instances[Ra.uniqueName]=new Instance(Ra.name,Ra.uniqueName,ma.dataId2fromTo[Na].from,ma.dataId2fromTo[Na].to,W,Ra.idx,Na);assert(ma.optimalCount===ra.optimalCount);ma.vbo.setData(ma.buffer.getArray(),ma.buffer.getSize())}}for(var Ja in qa)t.updateMaterialParameters(Ja)};var N=1536;this.setThreshold=function(ca){N=ca;this.dispose();ca=Array(Object.keys(F).length);var ma=0,qa;for(qa in F)ca[ma++]=F[qa];F=void 0;this.setContent(ca)};var T=function(ca,ma,qa){for(var ta=0;ta<ca.length;++ta){var Ca=
!1,ha=getFirstObjectValue(ca[ta].data.faces.indices).length;1>ha||(Ca|=ha>N,Ca|=!1===ca[ta].material.canBeMerged,(Ca|=ca[ta].isBackdrop)?qa.push(ca[ta]):ma.push(ca[ta]))}},V=mat4.identity(),ea=mat4.create(),P=mat4.create(),ba=function(ca,ma,qa){var ta={};la(ca,!0,qa,ta);la(ma,!1,qa,ta);return ta},la=function(ca,ma,qa,ta){for(var Ca=0,ha=ca.length;Ca<ha;++Ca){var fa=ca[Ca],ra=fa.origin,wa=fa.material,Ga=wa.getId(),Na=qa?u[Ga]:k[Ga];void 0!==Na&&(Na=Na.origin2data[ra.id]);var Ra=ta[Ga];void 0===Ra&&
(Ra={},ta[Ga]=Ra);var Sa=Ra[ra.id];if(void 0===Sa){Sa={optimalCount:void 0===Na?0:Na.optimalCount,sparseCount:void 0===Na?0:Na.buffer.getSize(),material:wa,toAdd:[],toRemove:[],origin:ra.vec3};if(qa){Ga={};if(void 0!==Na)for(var La in Na.dataId2fromTo)Ga[La]=Na.dataId2fromTo[La].refCount;Sa.dataId2refCount=Ga}Ra[ra.id]=Sa}ra=wa.getOutputAmount(getFirstObjectValue(fa.data.faces.indices).length);qa?ma?(Ga=fa.data.id,void 0===Sa.dataId2refCount[Ga]&&(Sa.dataId2refCount[Ga]=0),1===++Sa.dataId2refCount[Ga]&&
(Sa.optimalCount+=ra,Sa.sparseCount+=ra),Sa.toAdd.push(fa)):(Ga=fa.data.id,0===--Sa.dataId2refCount[Ga]&&(delete Sa.dataId2refCount[Ga],Sa.optimalCount-=ra),Sa.toRemove.push(fa)):ma?(Sa.optimalCount+=ra,Sa.sparseCount+=ra,Sa.toAdd.push(fa)):(Sa.optimalCount-=ra,Sa.toRemove.push(fa))}},Q=function(ca){t.release(ca);t.releaseDepth(ca);t.releaseNormal(ca)},Y=function(ca){for(var ma=new BitSet,qa=0;2>qa;++qa){var ta=0===qa?k:u,Ca;for(Ca in ta){var ha=ta[Ca].origin2data,fa;for(fa in ha){var ra=ha[fa].instances,
wa;for(wa in ra){var Ga=ra[wa];void 0!==ca[Ga.name]&&ma.set(Ga.idx)}}}}return ma},ja=new GLFBO(h.RGB,h.UNSIGNED_BYTE,!0,h.NEAREST,h),pa=[1,1,1,.5],ka=new a(m,ja.getTexture(),pa,!0,h.ALWAYS);m=mat4.identity();p=vec3.create();var va={proj:m,view:m,nearFar:[-1,1],origin:p};m={};m[VertexAttrConstants.POSITION]=0;m[VertexAttrConstants.UV0]=3;p=new Float32Array(20);p[0]=-1;p[1]=-1;p[2]=0;p[3]=0;p[4]=0;p[5]=1;p[6]=-1;p[7]=0;p[8]=1;p[9]=0;p[10]=-1;p[11]=1;p[12]=0;p[13]=0;p[14]=1;p[15]=1;p[16]=1;p[17]=0;p[18]=
1;p[19]=1;var Aa=new GLVBO(p,m,5,h),da=function(ca,ma,qa,ta,Ca,ha,fa){var ra=(Date.now()-C)/1E3;0<=z&&ra>=B?y=q=void 0:(pa[3]=ra<x?.7/x*ra:0<=z&&ra>B-w?.7*(1-(ra-(B-w))/w):.7,ja.setSize(Ca[2],Ca[3]),ja.bind(),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT),h.viewport(0,0,Ca[2],Ca[3]),U(ca,ma,qa,ta,q,function(wa){return wa.material},Ca,ha),y&&U(ca,ma,qa,ta,y,b,Ca,ha),h.viewport(Ca[0],Ca[1],Ca[2],Ca[3]),h.bindFramebuffer(h.FRAMEBUFFER,fa),ka.bind(h,va),ka.bindView(h,va),Aa.bind(),Aa.setPointers(ka.getProgram()),
h.drawArrays(h.TRIANGLE_STRIP,0,Aa.getNum()),ka.release(h))}}})},"engine/lib/Float32ArrayList":function(){define(["engine/lib/Util"],function(){return function(G){G=void 0===G?16:nextHighestPowerOfTwo(G);var A=new Float32Array(G),a=0;this.resize=function(m,p){a=m;if(a>A.length){for(m=A.length;m<a;)m*=2;var t=new Float32Array(m);1==p&&t.set(A);A=t;return!0}if(a<=A.length/2){m=A.length;for(t=2*a;m>=t;)m/=2;t=new Float32Array(m);1==p&&t.set(A.subarray(0,m));A=t;return!0}return!1};this.append=function(m){var p=
a;this.resize(a+m.length);A.set(m,p)};this.erase=function(m,p){for(;m<p;++m)A[m]=0};this.getArray=function(){return A};this.getSize=function(){return a}}})},"engine/materials/internal/SimpleGLMaterial":function(){define(["dojo/_base/lang","dojo/text!engine/materials/internal/SimpleGLMaterial.xml","engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m,p){G=function(t,n,h,c){this.id=a.__GLMaterial_id++;var b=t.get("simple");this.getId=function(){return this.id};
this.beginSlot=function(e){return 0===e};this.getProgram=function(){return b};this.bind=function(e,f){b.use();b.uniformMatrix4fv("model",a.IDENTITY);b.uniformMatrix4fv("proj",f.proj);b.uniform4fv("color",n);b.enableVertexAttribArrays();e.enable(e.BLEND);void 0!==h&&e.depthFunc(h)};this.release=function(e){void 0!==h&&e.depthFunc(e.LESS);e.disable(e.BLEND);b.disableVertexAttribArrays()};this.bindView=function(e,f){a.bindView(f.origin,f.view,b)};this.bindInstance=function(e,f){b.uniformMatrix4fv("model",
f.transformation)};this.getDrawMode=function(e){return void 0===c?e.TRIANGLES:c}};G.loadShaders=function(t,n,h,c){t._parse(A);n=VertexAttrConstants.POSITION;var b=VertexAttrConstants.NORMAL,e=new p(c.VERTEX_SHADER,t.vertexShaderSimple,c),f=new p(c.VERTEX_SHADER,t.vertexShaderSimpleMatchPixelCenter,c);t=new p(c.FRAGMENT_SHADER,t.fragmentShaderSimple,c);e=new m([e,t],[n],[3],c);c=new m([f,t],[n,b],[3,3],c);h.add("simple",e);h.add("simpleMatchPixelCenter",c)};return G})},"engine/materials/internal/MaterialUtil":function(){define(["../../lib/IdGen",
"engine/lib/gl-matrix","engine/parts/Model"],function(G,A,a){var m={};m.__Material_idGen=new IdGen;m.__GLMaterial_id=0;m.IDENTITY=mat4d.identity();m.fill=function(u,v,g,q,x,w){if(void 0===x||3!==w)for(x=0;x<w;++x)g[q+x]=u[v+x];else{var B=u[v],z=u[v+1];u=u[v+2];g[q]=x[0]*B+x[4]*z+x[8]*u+x[12];g[q+1]=x[1]*B+x[5]*z+x[9]*u+x[13];g[q+2]=x[2]*B+x[6]*z+x[10]*u+x[14]}return w};var p=function(u,v,g,q,x,w){for(var B=u.length,z=0;z<B;++z){for(var C=g*u[z],y=0;y<g;++y)q[x+y]=v[C+y];x+=w}};m.fillInterleaved=function(u,
v,g,q,x,w,B){for(var z in q){var C=B+q[z];if(z===VertexAttrConstants.UVW){assert(void 0!==u.faces.texCoordW);var y=u.vertexAttr[VertexAttrConstants.UV0],D=u.faces.indices[VertexAttrConstants.UV0],F=y.data;y=w;for(var H=x,E=u.faces.texCoordW,I=D.length,J=0;J<I;++J){var K=2*D[J];y[C]=F[K];y[C+1]=F[K+1];y[C+2]=E;C+=H}}else if(z===VertexAttrConstants.UV0)y=u.vertexAttr[z],p(u.faces.indices[z],y.data,y.size,w,C,x);else if(y=u.vertexAttr[z],H=z===VertexAttrConstants.POSITION?v:z===VertexAttrConstants.NORMAL?
g:void 0,void 0!==H&&3===y.size)if(y.axisOrder===GeometryData.AxisOrder.GIS)for(D=u.faces.indices[z],F=y.data,y=H,H=w,E=x,I=D.length,J=0;J<I;++J){var L=3*D[J];K=F[L];var O=F[L+2];L=-F[L+1];H[C]=y[0]*K+y[4]*O+y[8]*L+y[12];H[C+1]=y[1]*K+y[5]*O+y[9]*L+y[13];H[C+2]=y[2]*K+y[6]*O+y[10]*L+y[14];C+=E}else for(D=u.faces.indices[z],F=y.data,y=H,H=w,E=x,I=D.length,J=0;J<I;++J)L=3*D[J],K=F[L],O=F[L+1],L=F[L+2],H[C]=y[0]*K+y[4]*O+y[8]*L+y[12],H[C+1]=y[1]*K+y[5]*O+y[9]*L+y[13],H[C+2]=y[2]*K+y[6]*O+y[10]*L+y[14],
C+=E;else if(y.axisOrder===GeometryData.AxisOrder.GIS)for(D=u.faces.indices[z],F=y.data,y=y.size,H=w,E=x,I=D.length,J=0;J<I;++J)K=y*D[J],H[C]=F[K],H[C+1]=F[K+2],H[C+2]=-F[K+1],C+=E;else p(u.faces.indices[z],y.data,y.size,w,C,x)}};var t=vec3d.create(),n=vec3d.create(),h=vec3d.create(),c=vec3d.create(),b=function(u,v,g,q){var x=u.getCenter();vec3d.project(x,v,g,t);x=vec3d.dist2(t,x);var w=u.getBSRadius();if(x<w*w){x=u.getPrimitiveIndices();if(1E4<x.length&&(w=u.getChildren(),void 0!==w)){for(x=0;8>
x;++x)void 0!==w[x]&&b(w[x],v,g,q);return}w=u.getIndices();var B=u.getPosition();u=B.size;B=B.data;var z=v[0],C=v[1];v=v[2];var y=g[0]-z,D=g[1]-C;g=g[2]-v;for(var F=0,H=x.length;F<H;++F){var E=3*x[F],I=u*w[E],J=u*w[E+1],K=u*w[E+2];E=B[I];var L=B[I+1];I=B[I+2];var O=B[J],U=B[J+1];J=B[J+2];var S=B[K],M=B[K+1];K=B[K+2];var N=O-E,T=U-L,V=J-I,ea=S-E,P=M-L,ba=K-I,la=D*ba-P*g,Q=g*ea-ba*y,Y=y*P-ea*D,ja=N*la+T*Q+V*Y;if(!(-1E-5<ja&&1E-5>ja)){ja=1/ja;var pa=z-E,ka=C-L,va=v-I;la=ja*(pa*la+ka*Q+va*Y);0>la||1<
la||(Q=ka*V-T*va,V=va*N-V*pa,N=pa*T-N*ka,T=ja*(y*Q+D*V+g*N),0>T||1<la+T||(ea=ja*(ea*Q+P*V+ba*N),0<=ea&&(P=n,ba=h,ja=c,vec3d.set3(E,L,I,P),vec3d.set3(O,U,J,ba),vec3d.set3(S,M,K,ja),vec3d.subtract(ba,P,ba),vec3d.subtract(ja,P,ja),vec3d.normalize(vec3d.cross(ba,ja,P)),q(ea,P))))}}}};m.intersectTriangleGeometry=function(u,v,g,q,x,w,B,z,C,y){assert("triangle"===u.getData().getFaces()[v].type);b(u.getBoundingInfo(v),B,z,y)};m.basicMaterialConstructor=function(u,v){var g=!0,q=m.__Material_idGen.gen(v);u.getId=
function(){return q};var x=void 0;u.getParentStage=function(){return x};u.addParentStage=function(w){assert(void 0===x,"Material can only be added to a single Stage");x=w};u.removeParentStage=function(w){x=void 0};u.setVisible=function(w){g!==w&&(g=w,u.notifyDirty("matChanged"))};u.isVisible=function(){return g};u.notifyDirty=function(w){x&&x.notifyDirty(a.ContentType.MATERIAL,u,w)}};var e=m.aquireIfNotUndefined=function(u,v,g,q){if(void 0!==u)return g.aquire(u,v,q)},f=m.releaseIfNotUndefined=function(u,
v){void 0!==u&&v.release(u)},k=mat4.create();m.bindView=function(u,v,g){mat4.translate(v,u,k);g.uniformMatrix4fv("view",k)};m.bindCamPos=function(u,v,g){g.uniform3f("camPos",v[3]-u[0],v[7]-u[1],v[11]-u[2])};m.basicGLMaterialConstructor=function(u,v){this.id=m.__GLMaterial_id++;this.getId=function(){return this.id};var g=!0;u.isVisible=function(){return g};u.updateVisibility=function(){g=v.isVisible()}};m.singleTextureGLMaterialConstructor=function(u,v,g){var q=e(g.textureId,g.initTexture,v);u.updateTexture=
function(x){g.textureId!==x&&(f(g.textureId,v),g.textureId=x,q=e(g.textureId,g.initTexture,v))};u.bindTexture=function(x,w){void 0!==q&&(w.uniform1i("tex",0),x.bindTexture(x.TEXTURE_2D,q))};u.dispose=function(){f(g.textureId,v)}};m.multiTextureGLMaterialConstructor=function(u,v,g,q){for(var x=q.length,w=Array(x),B=0;B<x;B++)w[B]=e(g[q[B][0]],g[q[B][1]],v);u.updateTextures=function(z){for(var C=0;C<x;C++){var y=g[q[C][0]],D=z[q[C][0]];y!==D&&(f(y,v),g[q[C][0]]=D,w[C]=e(D,g[q[C][1]],v))}};u.bindTextures=
function(z,C){for(var y=0;y<x;y++)void 0!==w[y]&&(C.uniform1i(q[y][2],y),z.activeTexture(z.TEXTURE0+y),z.bindTexture(z.TEXTURE_2D,w[y]));z.activeTexture(z.TEXTURE0)};u.disposeTextures=function(){for(var z=0;z<x;z++)f(g[q[z][0]],v)}};return m})},"engine/lib/IdGen":function(){define([],function(){IdGen=function(){var G={};this.gen=function(A){void 0===A&&(A="a");var a=G[A];if(void 0===a)return G[A]=0,A;for(;;){var m=A+"_"+a++;if(void 0===G[m])return G[A]=a,G[m]=0,m}}};AlphaNumericIdGen=function(){function G(a){if(0>
a)return!1;A[a]++;if(58===A[a])A[a]=65;else if(91===A[a])A[a]=97;else if(123===A[a])return A[a]=48,G(a-1);return!0}var A=[47];this.gen=function(){G(A.length-1)||A.push(48);return String.fromCharCode.apply(String.fromCharCode,A)}}})},"engine/lib/GLSLProgram":function(){define(["engine/lib/Util"],function(){return function(G,A,a,m){var p=void 0,t=void 0,n=void 0,h=function(){if(void 0===p){p=m.createProgram();for(var u=0;u<G.length;++u)m.attachShader(p,G[u].getGLName());c()}},c=function(){void 0!==
p&&(m.linkProgram(p),m.getProgramParameter(p,m.LINK_STATUS)||console.error("Could not initialize shader\nVALIDATE_STATUS: "+m.getProgramParameter(p,m.VALIDATE_STATUS)+", gl error ["+m.getError()+"]"),t={},n={})};this.changeShaderDefines=function(u,v){G[u].changeDefines(v)&&c()};this.getAttrNames=function(){h();return A};this.getAttrSizes=function(){h();return a};this.use=function(){h();m.useProgram(p)};this.enableVertexAttribArrays=function(){h();for(var u=0;u<A.length;++u)m.enableVertexAttribArray(this.getAttribLocation(A[u]))};
this.disableVertexAttribArrays=function(){h();for(var u=0;u<A.length;++u)m.disableVertexAttribArray(this.getAttribLocation(A[u]))};this.getLocation=function(u){h();void 0==t[u]&&(t[u]=m.getUniformLocation(p,u));return t[u]};this.getAttribLocation=function(u){h();void 0==n[u]&&(n[u]=m.getAttribLocation(p,u));return n[u]};var b={};this.uniform1i=function(u,v){var g=b[u];if(void 0===g||v!==g)m.uniform1i(this.getLocation(u,m),v),b[u]=v};this.uniform1f=function(u,v){var g=b[u];if(void 0===g||v!==g)m.uniform1f(this.getLocation(u,
m),v),b[u]=v};var e={};this.uniform2f=function(u,v,g){var q=e[u];if(void 0===q||v!==q[0]||g!==q[1])m.uniform2f(this.getLocation(u,m),v,g),void 0===q?e[u]=vec2d.createFrom(v,g):vec2.set2(v,g,q)};this.uniform2fv=function(u,v){var g=e[u];if(void 0===g||v[0]!==g[0]||v[1]!==g[1])m.uniform2fv(this.getLocation(u,m),v),void 0===g?e[u]=vec2d.create(v):vec2.set(v,g)};var f={};this.uniform3f=function(u,v,g,q){var x=f[u];if(void 0===x||v!==x[0]||g!==x[1]||q!==x[2])m.uniform3f(this.getLocation(u,m),v,g,q),void 0===
x?f[u]=vec3d.createFrom(v,g,q):vec3.set3(v,g,q,x)};this.uniform3fv=function(u,v){var g=f[u];if(void 0===g||v[0]!==g[0]||v[1]!==g[1]||v[2]!==g[2])m.uniform3fv(this.getLocation(u,m),v),void 0===g?f[u]=vec3d.create(v):vec3.set(v,g)};var k={};this.uniform4f=function(u,v,g,q,x){var w=k[u];if(void 0===w||v!==w[0]||g!==w[1]||q!==w[2]||x!==w[3])m.uniform4f(this.getLocation(u,m),v,g,q,x),void 0===w?k[u]=vec4d.createFrom(v,g,q,x):vec4.set4(v,g,q,x,w)};this.uniform4fv=function(u,v){var g=k[u];if(void 0===g||
v[0]!==g[0]||v[1]!==g[1]||v[2]!==g[2]||v[3]!==g[3])m.uniform4fv(this.getLocation(u,m),v),void 0===g?k[u]=vec4d.create(v):vec4.set(v,g)};this.uniformMatrix4fv=function(u,v){m.uniformMatrix4fv(this.getLocation(u,m),!1,v)};this.dispose=function(){if(void 0!==p){for(var u=0;u<G.length;++u){var v=G[u].getGLName();m.detachShader(p,v);m.deleteShader(v)}m.deleteProgram(p)}}}})},"engine/lib/GLSLShader":function(){define([],function(){return function(G,A,a,m){var p=void 0,t=m,n=function(){var c=A;if(void 0!==
t){var b="",e;for(e in t)b+="#define "+t[e]+"\n";c=b+c}a.shaderSource(p,c);a.compileShader(p);a.getShaderParameter(p,a.COMPILE_STATUS)||(console.error(a.getShaderInfoLog(p)),console.error(h(c)))},h=function(c){var b=2;return c.replace(/\n/g,function(){var e=b++;1E3>e&&(e=("  "+e).slice(-3));return"\n"+e+":"})};this.changeDefines=function(c){if(JSON.stringify(t)==JSON.stringify(c))return!1;t=c;void 0!==p&&n();console.log("updating shader");return!0};this.getGLName=function(){void 0===p&&(p=a.createShader(G),
n());return p}}})},"engine/materials/internal/TexOnlyGLMaterial":function(){define(["dojo/_base/lang","dojo/text!engine/materials/internal/TexOnlyGLMaterial.xml","engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m,p){G=function(t,n,h,c,b){this.id=a.__GLMaterial_id++;var e=t.get("texOnly");this.getId=function(){return this.id};this.beginSlot=function(f){return 0===f};this.getProgram=function(){return e};this.bind=function(f,k){e.use();e.uniformMatrix4fv("model",
a.IDENTITY);e.uniformMatrix4fv("proj",k.proj);e.uniform4fv("color",void 0!==h?h:[1,1,1,1]);e.uniform1i("tex",0);f.bindTexture(f.TEXTURE_2D,n);e.enableVertexAttribArrays();c&&f.enable(f.BLEND);void 0!==b&&f.depthFunc(b)};this.release=function(f){void 0!==b&&f.depthFunc(f.LESS);c&&f.disable(f.BLEND);e.disableVertexAttribArrays()};this.bindView=function(f,k){a.bindView(k.origin,k.view,e)};this.bindInstance=function(f,k){e.uniformMatrix4fv("model",k.transformation)};this.getDrawMode=function(f){return f.TRIANGLES}};
G.loadShaders=function(t,n,h,c){t._parse(A);var b=VertexAttrConstants.POSITION,e=VertexAttrConstants.UV0,f=new p(c.VERTEX_SHADER,t.vertexShaderTexOnly,c);t=new p(c.FRAGMENT_SHADER,t.fragmentShaderTexOnly,c);c=new m([f,t],[b,e],[3,2],c);h.add("texOnly",c);n.add("vertexShaderTexOnly",f);n.add("fragmentShaderTexOnly",t)};return G})},"engine/lib/bitset":function(){define([],function(){(function(){BitSet=function(){function G(){this.bitsPerWord=32;this.addressBitsPerWord=5;this.store=[]}G.prototype.clone=
function(){var A=new G;A.store=this.store.slice();return A};G.prototype.wordIndex=function(A){return A>>this.addressBitsPerWord};G.prototype.set=function(A){return this.store[this.wordIndex(A-1)]|=1<<A-1};G.prototype.clear=function(A){return this.store[this.wordIndex(A-1)]&=255^1<<A-1};G.prototype.clearAll=function(){for(var A=0;A<this.store.length;++A)this.store[A]=0};G.prototype.get=function(A){return 0!==(this.store[this.wordIndex(A-1)]&1<<A-1)};G.prototype.length=function(){return 0===this.wordLength()?
0:this.bitsPerWord*(this.wordLength()-1)+(this.store[this.wordLength()-1].toString(2).length+1)};G.prototype.wordLength=function(){var A,a;var m=this.store.length;for(A=a=this.store.length-1;(0>=a?0>=A:0<=A)&&0===this.store[A];0>=a?A++:A--)m--;return m};G.prototype.store=function(){return this.store};G.prototype.cardinality=function(){var A,a;var m=A=0;for(a=this.length();0<=a?m<=a:m>=a;0<=a?m++:m--)this.get(m)&&A++;return A};G.prototype.toString=function(){var A;var a=[];var m=0;for(A=this.length();0<=
A?m<=A:m>=A;0<=A?m++:m--)this.get(m)&&a.push(m);return"{"+a.join(",")+"}"};G.prototype.toBinaryString=function(){var A=this;var a=function(m,p,t){for(;m.length<t;)m=p+m;return m};return 0<this.wordLength()?this.store.map(function(m){return a(m.toString(2),"0",A.bitsPerWord)}).join(""):a("",0,this.bitsPerWord)};G.prototype.or=function(A){var a;if(this!==A){var m=Math.min(this.wordLength(),A.wordLength());var p=0;for(a=m-1;0<=a?p<=a:p>=a;0<=a?p++:p--)this.store[p]|=A.store[p];m<A.wordLength()&&(this.store=
this.store.concat(A.store.slice(m,A.wordLength())));return null}};G.prototype.and=function(A){var a,m;if(this!==A){var p=a=this.wordLength;for(m=A.wordLength();a<=m?p<=m:p>=m;a<=m?p++:p--)this.store[p]=0;p=0;for(a=this.wordLength();0<=a?p<=a:p>=a;0<=a?p++:p--)this.store[p]&=A.store[p];return null}};G.prototype.andNot=function(A){var a;var m=0;for(a=Math.min(this.wordLength(),A.wordLength)-1;0<=a?m<=a:m>=a;0<=a?m++:m--)this.store[m]&=~A.store[m];return null};G.prototype.xor=function(A){var a;if(this!==
A){var m=0;for(a=this.wordLength();0<=a?m<=a:m>=a;0<=a?m++:m--)this.store[m]^=A.store[m];return null}};return G}()}).call(this)})},"engine/lib/webgl-utils":function(){define([],function(){WebGLUtils=function(){var G=function(A,a){for(var m=["webgl","experimental-webgl","webkit-3d","moz-webgl"],p=null,t=0;t<m.length;++t){try{p=A.getContext(m[t],a)}catch(n){}if(p)break}return p};return{create3DContext:G,setupWebGL:function(A,a){function m(p){var t=A.parentNode;t&&(t.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+
p+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}if(!window.WebGLRenderingContext)return m('This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'),[null,'This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'];a=G(A,a);return a?[a]:(m('It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'),
[null,'It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'])},detectWebGL:function(){try{var A=window.WebGLRenderingContext}catch(m){A=[!1,0]}try{var a=G(document.createElement("canvas"))}catch(m){a=[!1,1]}A?a?(A=a,A=[!0,{VERSION:A.getParameter(A.VERSION),SHADING_LANGUAGE_VERSION:A.getParameter(A.SHADING_LANGUAGE_VERSION),VENDOR:A.getParameter(A.VENDOR),RENDERER:A.getParameter(A.RENDERER),
EXTENSIONS:A.getSupportedExtensions(),MAX_TEXTURE_SIZE:A.getParameter(A.MAX_TEXTURE_SIZE),MAX_RENDERBUFFER_SIZE:A.getParameter(A.MAX_RENDERBUFFER_SIZE),MAX_VERTEX_TEXTURE_IMAGE_UNITS:A.getParameter(A.MAX_VERTEX_TEXTURE_IMAGE_UNITS)}]):A=[!1,1]:A=[!1,0];return A}}}();window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(G,A){return window.setTimeout(G,
1E3/60)}}();window.cancelAnimFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout})},"engine/materials/AtmosphereMaterial":function(){define(["dojo/_base/lang","dojo/text!engine/materials/AtmosphereMaterial.xml","engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m,p){G=function(n,h,c){a.basicMaterialConstructor(this,
c);var b={};b[VertexAttrConstants.POSITION]=0;this.dispose=function(){};this.getTextureId=function(){return n};this.getGeometricData=function(){return h};this.getOutputAmount=function(e){return 3*e};this.getVertexAttr2offset=function(){return b};this.getStride=function(){return 3};this.fillInterleaved=function(e,f,k,u,v){a.fillInterleaved(e,f,k,b,3,u,v)};this.intersect=a.intersectTriangleGeometry;this.getGLMaterials=function(){return[t,void 0,void 0]};this.getAllTextureIds=function(){return[n]}};
var t=function(n,h,c){a.basicGLMaterialConstructor(this,n);var b=h.get("atmosphere");a.singleTextureGLMaterialConstructor(this,c,{textureId:n.getTextureId()});var e=n.getGeometricData();this.beginSlot=function(f){return 0===f};this.getProgram=function(){return b};this.bind=function(f,k){b.use();b.uniformMatrix4fv("model",a.IDENTITY);b.uniformMatrix4fv("proj",k.proj);b.uniform4fv("color",[1,1,1,1]);this.bindTexture(f,b);b.uniform3fv("silCircleCenter",e.silCircleCenter);b.uniform3fv("silCircleV1",e.silCircleV1);
b.uniform3fv("silCircleV2",e.silCircleV2);b.uniform2fv("texV",e.texV);b.enableVertexAttribArrays();f.enable(f.BLEND);f.disable(f.DEPTH_TEST)};this.release=function(f){f.disable(f.BLEND);f.enable(f.DEPTH_TEST);b.disableVertexAttribArrays()};this.bindView=function(f,k){a.bindView(k.origin,k.view,b)};this.bindInstance=function(f,k){b.uniformMatrix4fv("model",k.transformation)};this.getDrawMode=function(f){return f.TRIANGLES}};G.loadShaders=function(n,h,c,b){n._parse(A);h=h.get("fragmentShaderTexOnly");
n=new p(b.VERTEX_SHADER,n.vsAtmosphere,b);b=new m([n,h],[VertexAttrConstants.POSITION],[3],b);c.add("atmosphere",b)};return G})},"engine/materials/BillboardMaterial":function(){define(["dojo/_base/lang","dojo/text!engine/materials/BillboardMaterial.xml","engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m,p){G=function(h,c){a.basicMaterialConstructor(this,c);var b={};b[VertexAttrConstants.POSITION]=0;b[VertexAttrConstants.NORMAL]=3;b[VertexAttrConstants.UV0]=
6;this.getSize=function(){return 1.05};this.dispose=function(){};this.getTextureId=function(){return h};this.getOutputAmount=function(e){return 48*e};this.getVertexAttr2offset=function(){return b};this.getStride=function(){return 8};this.fillInterleaved=function(e,f,k,u,v){var g=a.fill,q=e.faces.indices.va,x=e.vertexAttr.va.data,w=e.vertexAttr.tc4.data,B=e.vertexAttr.n0.data,z=e.vertexAttr.n1.data,C=e.vertexAttr.n2.data;e=e.vertexAttr.n3.data;for(var y=0;y<q.length;++y){var D=4*q[y],F=3*q[y];v+=g(x,
D,u,v,f,3);v+=g(B,F,u,v,k,3);u[v++]=w[D];u[v++]=w[D+1];v+=g(x,D,u,v,f,3);v+=g(z,F,u,v,k,3);u[v++]=w[D+2]+1;u[v++]=w[D+1];v+=g(x,D,u,v,f,3);v+=g(C,F,u,v,k,3);u[v++]=w[D+2]+1;u[v++]=w[D+3]+1;v+=g(x,D,u,v,f,3);v+=g(C,F,u,v,k,3);u[v++]=w[D+2]+1;u[v++]=w[D+3]+1;v+=g(x,D,u,v,f,3);v+=g(e,F,u,v,k,3);u[v++]=w[D];u[v++]=w[D+3]+1;v+=g(x,D,u,v,f,3);v+=g(B,F,u,v,k,3);u[v++]=w[D];u[v++]=w[D+1]}};this.intersect=function(){};this.getGLMaterials=function(){return[t,n,void 0]};this.getAllTextureIds=function(){return[h]}};
var t=function(h,c,b){a.basicGLMaterialConstructor(this,h);var e=c.get("billboard");a.singleTextureGLMaterialConstructor(this,b,{textureId:h.getTextureId()});this.beginSlot=function(f){return 2===f};this.getProgram=function(){return e};this.bind=function(f,k){e.use();this.bindTexture(f,e);e.uniformMatrix4fv("model",a.IDENTITY);e.uniformMatrix4fv("modelNormal",a.IDENTITY);e.uniformMatrix4fv("proj",k.proj);k.lightingData.setUniforms(e);e.enableVertexAttribArrays()};this.release=function(f){e.disableVertexAttribArrays()};
this.bindView=function(f,k){a.bindView(k.origin,k.view,e)};this.bindInstance=function(f,k){e.uniformMatrix4fv("model",k.transformation);e.uniformMatrix4fv("modelNormal",k.transformationNormal)};this.getDrawMode=function(f){return f.TRIANGLES}},n=function(h,c,b){a.basicGLMaterialConstructor(this,h);var e=c.get("billboardDepth");a.singleTextureGLMaterialConstructor(this,b,{textureId:h.getTextureId()});this.beginSlot=function(f){return 2===f};this.getProgram=function(){return e};this.bind=function(f,
k){e.use();this.bindTexture(f,e);e.uniformMatrix4fv("model",a.IDENTITY);e.uniformMatrix4fv("proj",k.proj);e.uniform2fv("nearFar",k.nearFar);e.enableVertexAttribArrays()};this.release=function(f){e.disableVertexAttribArrays()};this.bindView=function(f,k){a.bindView(k.origin,k.view,e)};this.bindInstance=function(f,k){e.uniformMatrix4fv("model",k.transformation)};this.getDrawMode=function(f){return f.TRIANGLES}};G.loadShaders=function(h,c,b,e){h._parse(A);var f=new p(e.VERTEX_SHADER,h.vertexShaderBillboard,
e),k=new p(e.FRAGMENT_SHADER,h.fragmentShaderBillboard,e);f=new m([f,k],[VertexAttrConstants.POSITION,VertexAttrConstants.NORMAL,VertexAttrConstants.UV0],[3,3,2],e);h=new p(e.VERTEX_SHADER,h.vertexShaderBillboardDepth,e);c=c.get("fsDepthTextured");e=new m([h,c],[VertexAttrConstants.POSITION,VertexAttrConstants.UV0],[3,2],e);b.add("billboard",f);b.add("billboardDepth",e)};return G})},"engine/materials/HUDMaterial":function(){define(["dojo/_base/lang","dojo/text!engine/materials/HUDMaterial.xml","engine/materials/internal/MaterialUtil",
"engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m,p){var t={bottomLeft:[0,0],bottomCenter:[.5,0],bottomRight:[1,0],centerLeft:[0,.5],centerCenter:[.5,.5],centerRight:[1,.5],topLeft:[0,1],topCenter:[.5,1],topRight:[1,1]},n=function(c,b){a.basicMaterialConstructor(this,b);c=c||null;c.texCoordScale=c.texCoordScale||[1,1];c.occlusionTest=void 0!==c.occlusionTest?c.occlusionTest:!0;c.color=c.color||[1,1,1,1];c.screenMinMaxSize=c.screenMinMaxSize||[0,1E5];c.screenOffset?c.screenOffset.forEach(function(v,
g){c.screenOffset[g]=2*v}):c.screenOffset=[0,0];"string"===typeof c.anchorPos?(assert(t[c.anchorPos],"HUDMaterial: invalid anchorPos specified"),c.anchorPos=t[c.anchorPos]):c.anchorPos||(c.anchorPos=t.centerCenter);var e={};e[VertexAttrConstants.POSITION]=0;e[VertexAttrConstants.UV0]=3;e[VertexAttrConstants.NORMAL]=5;this.dispose=function(){};this.getParameterValues=function(){var v={size:c.size,color:c.color,texCoordScale:c.texCoordScale,polygonOffset:c.polygonOffset,anchorPos:c.anchorPos,screenOffset:c.screenOffset,
screenMinMaxSize:c.screenMinMaxSize};c.textureId&&(v.textureId=c.textureId);c.direction&&(v.direction=c.direction);return v};this.setParameterValues=function(v){for(var g in v)"textureId"===g&&assert(c.textureId,"Can only change texture of material that already has a texture"),"direction"===g&&assert(c.direction,"Can only change direction of HUDMaterial which was initialized with a direction"),c[g]=v[g];this.notifyDirty("matChanged")};this.getParams=function(){return c};this.getOutputAmount=function(v){return 48*
v};this.getVertexAttr2offset=function(){return e};this.getStride=function(){return 8};this.fillInterleaved=function(v,g,q,x,w){for(var B=v.faces.indices[VertexAttrConstants.POSITION],z=v.vertexAttr[VertexAttrConstants.POSITION].data,C=a.fill,y=w,D=0;D<B.length;++D){var F=3*B[D];C(z,F,x,y,g,3);y+=8;C(z,F,x,y,g,3);y+=8;C(z,F,x,y,g,3);y+=8;C(z,F,x,y,g,3);y+=8;C(z,F,x,y,g,3);y+=8;C(z,F,x,y,g,3);y+=8}y=w+3;F=1+c.texCoordScale[0]-1E-4;g=1+c.texCoordScale[1]-1E-4;for(D=0;D<B.length;++D)x[y]=0,x[y+1]=0,y+=
8,x[y]=F,x[y+1]=0,y+=8,x[y]=F,x[y+1]=g,y+=8,x[y]=F,x[y+1]=g,y+=8,x[y]=0,x[y+1]=g,y+=8,x[y]=0,x[y+1]=0,y+=8;B=v.faces.indices[VertexAttrConstants.NORMAL];v=v.vertexAttr[VertexAttrConstants.NORMAL].data;y=w+5;for(D=0;D<B.length;++D)F=3*B[D],C(v,F,x,y,q,3),y+=8,C(v,F,x,y,q,3),y+=8,C(v,F,x,y,q,3),y+=8,C(v,F,x,y,q,3),y+=8,C(v,F,x,y,q,3),y+=8,C(v,F,x,y,q,3),y+=8};var f=vec3d.create(),k=[21,16],u=[6,15];this.intersect=function(v,g,q,x,w,B,z,C,y,D){v=v.getData().getVertexAttr()[VertexAttrConstants.POSITION];
assert(3<=v.size);for(g=0;g<v.data.length;g+=v.size)for(vec3d.set3(v.data[g],v.data[g+1],v.data[g+2],f),mat4d.multiplyVec3(q,f,f),z=y(f),C=0;C<z.length;++C){var F=z[C];if(F.onScreen){var H=F.screenCoords[0]+F.screenCoordOrigin[0]+u[0];F=F.screenCoords[1]+F.screenCoordOrigin[1]+u[1];H>x[0]-k[0]&&H<x[0]+k[0]&&F>x[1]-k[1]&&F<x[1]+k[1]&&(H=vec3d.subtract(w,f,vec3d.create()),F=vec3d.length(H),vec3d.scale(H,1/F),D(.98*F/vec3d.dist(w,B),H))}}};this.getGLMaterials=function(){return[h,void 0,void 0]};this.getAllTextureIds=
function(){return[c.textureId]}},h=function(c,b,e){a.basicGLMaterialConstructor(this,c);var f=0,k=G.clone(c.getParams()),u=b.get("simpleMatchPixelCenter"),v=k.occlusionTest?k.direction?!0===k.worldScale?b.get("hudDirectionWorldScale"):b.get("hudDirection"):!0===k.worldScale?b.get("hudWorldScale"):b.get("hud"):k.direction?!0===k.worldScale?b.get("hudDirectionWorldScaleNoTest"):b.get("hudDirectionNoTest"):!0===k.worldScale?b.get("hudWorldScaleNoTest"):b.get("hudNoTest");a.singleTextureGLMaterialConstructor(this,
e,k);var g=[254/255,253/255,252/255];this.beginSlot=function(q){f=q;return k.occlusionTest?2===q||3==q:2===q};this.getProgram=function(){return 2===f&&k.occlusionTest?u:v};this.updateParameters=function(){var q=c.getParams();k.size=q.size;k.color=q.color;k.texCoordScale=q.texCoordScale;k.polygonOffset=q.polygonOffset;k.anchorPos=q.anchorPos;k.screenOffset=q.screenOffset;k.screenMinMaxSize=q.screenMinMaxSize;k.direction=q.direction;this.updateTexture(q.textureId)};this.bind=function(q,x){if(2===f&&
k.occlusionTest)u.use(),u.uniformMatrix4fv("model",a.IDENTITY),u.uniformMatrix4fv("modelNormal",a.IDENTITY),u.uniformMatrix4fv("proj",x.proj),u.uniform4fv("viewport",x.viewport),u.uniform4f("color",g[0],g[1],g[2],1),u.enableVertexAttribArrays(),q.depthFunc(q.LEQUAL);else{v.use();this.bindTexture(q,v);v.uniform1i("framebufferTex",1);q.activeTexture(q.TEXTURE1);q.bindTexture(q.TEXTURE_2D,x.framebufferTex);q.activeTexture(q.TEXTURE0);v.uniform3fv("markerColor",g);v.uniformMatrix4fv("model",a.IDENTITY);
v.uniformMatrix4fv("modelNormal",a.IDENTITY);v.uniformMatrix4fv("proj",x.proj);v.uniform4fv("viewport",x.viewport);v.uniform4fv("color",k.color);v.uniform2fv("size",k.size);if(k.worldScale){var w=[-1,-1],B=k.screenMinMaxSize,z=x.proj;x=x.viewport;B&&(0!=z[11]?(z=2*Math.atan(1/z[0]),w[0]=B[0]*Math.tan(z/2)/x[2]*2,w[1]=B[1]*Math.tan(z/2)/x[2]*2):vec2.scale(B,2/(z[0]*x[2]),w));v.uniform2fv("minMaxWorldSizeFactor",w)}k.direction&&v.uniform3fv("direction",k.direction);v.uniform2fv("texScale",k.texCoordScale);
v.uniform2fv("screenOffset",k.screenOffset);v.uniform2fv("anchorPos",k.anchorPos);v.enableVertexAttribArrays();k.polygonOffset&&(q.enable(q.POLYGON_OFFSET_FILL),q.polygonOffset(0,-4));q.disable(q.CULL_FACE);q.enable(q.BLEND)}};this.release=function(q){2===f&&k.occlusionTest?(q.depthFunc(q.LESS),u.disableVertexAttribArrays()):(k.polygonOffset&&q.disable(q.POLYGON_OFFSET_FILL),q.enable(q.CULL_FACE),q.disable(q.BLEND),v.disableVertexAttribArrays())};this.bindView=function(q,x){q=x.origin;2===f&&k.occlusionTest?
(a.bindView(q,x.view,u),a.bindCamPos(q,x.viewInvTransp,u)):(a.bindView(q,x.view,v),a.bindCamPos(q,x.viewInvTransp,v))};this.bindInstance=function(q,x){2===f&&k.occlusionTest?(u.uniformMatrix4fv("model",x.transformation),u.uniformMatrix4fv("modelNormal",x.transformationNormal)):v.uniformMatrix4fv("model",x.transformation)};this.getDrawMode=function(q){return 2===f&&k.occlusionTest?q.POINTS:q.TRIANGLES}};n.loadShaders=function(c,b,e,f){c._parse(A);b=VertexAttrConstants.POSITION;var k=VertexAttrConstants.NORMAL,
u=VertexAttrConstants.UV0;var v=0==f.getParameter(f.MAX_VERTEX_TEXTURE_IMAGE_UNITS)?["OCCL_PIXELSHADER"]:["OCCL_TEST"];var g=new p(f.VERTEX_SHADER,c.vertexShaderHUD,f,v),q=new p(f.VERTEX_SHADER,c.vertexShaderHUDworldScale,f,v),x=new p(f.VERTEX_SHADER,c.vertexShaderHUDdirection,f,v),w=new p(f.VERTEX_SHADER,c.vertexShaderHUDdirectionWorldScale,f,v),B=new p(f.VERTEX_SHADER,c.vertexShaderHUD,f),z=new p(f.VERTEX_SHADER,c.vertexShaderHUDworldScale,f),C=new p(f.VERTEX_SHADER,c.vertexShaderHUDdirection,f);
v=new p(f.VERTEX_SHADER,c.vertexShaderHUDdirectionWorldScale,f);var y=new p(f.FRAGMENT_SHADER,c.fragmentShaderHUD,f);var D=0==f.getParameter(f.MAX_VERTEX_TEXTURE_IMAGE_UNITS)?new p(f.FRAGMENT_SHADER,c.fragmentShaderHUDoccl,f):y;c=new m([g,D],[b,k,u],[3,3,2],f);q=new m([q,D],[b,k,u],[3,3,2],f);x=new m([x,D],[b,k,u],[3,3,2],f);w=new m([w,D],[b,k,u],[3,3,2],f);B=new m([B,y],[b,k,u],[3,3,2],f);z=new m([z,y],[b,k,u],[3,3,2],f);C=new m([C,y],[b,k,u],[3,3,2],f);f=new m([v,y],[b,k,u],[3,3,2],f);e.add("hud",
c);e.add("hudWorldScale",q);e.add("hudDirection",x);e.add("hudDirectionWorldScale",w);e.add("hudNoTest",B);e.add("hudWorldScaleNoTest",z);e.add("hudDirectionNoTest",C);e.add("hudDirectionWorldScaleNoTest",f)};return n})},"engine/materials/LeafCardMaterial":function(){define(["dojo/_base/lang","dojo/text!engine/materials/LeafCardMaterial.xml","engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m,p){G=function(h,c,b,e,f,k){function u(){return 2*
Math.random()-1}a.basicMaterialConstructor(this,k);var v={};v[VertexAttrConstants.POSITION]=0;v[VertexAttrConstants.NORMAL]=3;v[VertexAttrConstants.UV0]=7;this.getAmbient=function(){return c};this.getDiffuse=function(){return b};this.getSpecular=function(){return e};this.getShininess=function(){return f};this.dispose=function(){};this.getTextureId=function(){return h};this.getOutputAmount=function(g){for(var q=0,x=0;x<g/6;x++)0==x%1&&(q+=6);g=q;for(x=q=0;x<g/6;x++)0==x%1&&(q+=6);return 11*q};this.getVertexAttr2offset=
function(){return v};this.getStride=function(){return 11};this.reduce=function(g,q){var x=g.position,w=g.normal;g=g.uv0;for(var B=[],z=[],C=[],y=0,D=0;D<x.length/6;D++)if(0==D%q)for(var F=0;6>F;F++)B[y]=x[6*D+F],z[y]=w[6*D+F],C[y]=g[6*D+F],y++;return{position:B,normal:z,uv0:C}};this.fillInterleaved=function(g,q,x,w,B){var z=a.fill,C=this.reduce(g.faces.indices,1);C=this.reduce(C,1);var y=this.getOutputAmount(g.faces.indices.position.length);assert(y===11*C.position.length);var D=C.position,F=C.normal,
H=C.uv0;C=g.vertexAttr.position.data;var E=g.vertexAttr.normal.data,I=g.vertexAttr.uv0.data,J=vec3.create();g=D.length/6;y=B;for(var K=vec3.createFrom(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),L=vec3.createFrom(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),O=0;O<g;++O){for(var U=vec3.create(),S=vec3.create(),M=[100,100,-100,-100],N=vec3.create(),T=0;6>T;++T){var V=6*O+T,ea=3*D[V],P=3*F[V];V=2*H[V];U[0]+=C[ea+0];U[1]+=C[ea+1];U[2]+=C[ea+2];S[0]+=E[P+0];S[1]+=E[P+1];S[2]+=E[P+2];
P=I[V+0];V=I[V+1];M[0]=Math.min(M[0],P);M[1]=Math.min(M[1],V);M[2]=Math.max(M[2],P);M[3]=Math.max(M[3],V);0===T&&vec3.set3(C[ea+0],C[ea+1],C[ea+2],N)}U[0]/=6;U[1]/=6;U[2]/=6;S[0]/=6;S[1]/=6;S[2]/=6;U[0]+=.1*u();U[1]+=.1*u();U[2]+=.1*u();void 0!==q&&(mat4d.multiplyVec3(q,N,N),mat4d.multiplyVec3(q,U,U),mat4d.multiplyVec3(x,S,S));vec3.add(U,J,J);vec3.max(K,U,K);vec3.min(L,U,L);M[0]+=.01;M[1]+=.01;M[2]-=.01;M[3]-=.01;for(T=0;4>T;T++)M[T]=Math.min(M[T],.99999);T=2*Math.random()*Math.PI;N=1.41*vec3.dist(N,
U);B+=z(U,0,w,B,void 0,3);B+=z(S,0,w,B,void 0,3);w[B++]=0;w[B++]=M[0];w[B++]=M[1];w[B++]=T;w[B++]=N;B+=z(U,0,w,B,void 0,3);B+=z(S,0,w,B,void 0,3);w[B++]=0;w[B++]=M[2]+1;w[B++]=M[1];w[B++]=T;w[B++]=N;B+=z(U,0,w,B,void 0,3);B+=z(S,0,w,B,void 0,3);w[B++]=0;w[B++]=M[2]+1;w[B++]=M[3]+1;w[B++]=T;w[B++]=N;B+=z(U,0,w,B,void 0,3);B+=z(S,0,w,B,void 0,3);w[B++]=0;w[B++]=M[2]+1;w[B++]=M[3]+1;w[B++]=T;w[B++]=N;B+=z(U,0,w,B,void 0,3);B+=z(S,0,w,B,void 0,3);w[B++]=0;w[B++]=M[0];w[B++]=M[3]+1;w[B++]=T;w[B++]=N;B+=
z(U,0,w,B,void 0,3);B+=z(S,0,w,B,void 0,3);w[B++]=0;w[B++]=M[0];w[B++]=M[1];w[B++]=T;w[B++]=N}J[0]/=g;J[1]/=g;J[2]/=g;q=vec3.create();vec3.add(K,L,q);vec3.scale(q,.5,q);B=vec3.create();vec3.subtract(K,L,B);B[0]=Math.abs(B[0])/2;B[1]=Math.abs(B[1])/2;B[2]=Math.abs(B[2])/2;D=vec3.create(J);D[1]-=(K[1]-L[1])/3;K=vec3.create();L=vec3.create();C=vec3.create();F=[vec3.create(),vec3.create(),vec3.create(),vec3.create()];J=[0,0,0,0];H=mat4.create();for(O=0;O<g;++O){vec3.set3(w[y],w[y+1],w[y+2],C);vec3.subtract(C,
D,K);vec3.normalize(K,K);L=vec3.subtract(C,q,L);vec3.normalize(L,L);I=Math.abs(vec3.dot(L,[1,0,0]));T=Math.abs(vec3.dot(L,[0,1,0]));E=Math.abs(vec3.dot(L,[0,0,1]));I=I*Math.abs(q[0]-C[0])/B[0];I+=T*Math.abs(q[1]-C[1])/B[1];I+=E*Math.abs(q[2]-C[2])/B[2];for(T=0;4>T;T++)mat4.identity(H),mat4.rotate(H,.8*u(),[0,1,0],H),mat4.rotate(H,.8*u(),[1,0,0],H),mat4.multiplyVec3(H,K,F[T]),J[T]=.5+.5*I-.2*u();E=.8+.3*u();for(T=0;6>T;++T){switch(T){case 0:var ba=0;break;case 1:ba=1;break;case 2:ba=2;break;case 3:ba=
2;break;case 4:ba=3;break;case 5:ba=0}y+=3;y+=z(F[ba],0,w,y,x,3);w[y++]=J[ba];y+=3;w[y++]*=E}}};this.intersect=function(){};this.getGLMaterials=function(){return[t,n,void 0]};this.getAllTextureIds=function(){return[h]}};var t=function(h,c,b){a.basicGLMaterialConstructor(this,h);var e=c.get("leafCard");a.singleTextureGLMaterialConstructor(this,b,{textureId:h.getTextureId()});this.beginSlot=function(g){return 2===g};this.getProgram=function(){return e};var f=h.getAmbient(),k=h.getDiffuse(),u=h.getSpecular(),
v=h.getShininess();this.bind=function(g,q){e.use();this.bindTexture(g,e);e.uniformMatrix4fv("model",a.IDENTITY);e.uniformMatrix4fv("modelNormal",a.IDENTITY);e.uniformMatrix4fv("proj",q.proj);e.uniform3fv("ambient",f);e.uniform3fv("diffuse",k);e.uniform3fv("specular",u);e.uniform1f("shininess",v);e.uniform1f("trafoScale",1);q.lightingData.setUniforms(e);e.enableVertexAttribArrays()};this.release=function(g){e.disableVertexAttribArrays()};this.bindView=function(g,q){a.bindView(q.origin,q.view,e);a.bindCamPos(q.origin,
q.viewInvTransp,e)};this.bindInstance=function(g,q){e.uniformMatrix4fv("model",q.transformation);e.uniformMatrix4fv("modelNormal",q.transformationNormal);g=q.transformation;e.uniform1f("trafoScale",(Math.sqrt(g[0]*g[0]+g[4]*g[4]+g[8]*g[8])+Math.sqrt(g[1]*g[1]+g[5]*g[5]+g[9]*g[9])+Math.sqrt(g[2]*g[2]+g[6]*g[6]+g[10]*g[10]))/3)};this.getDrawMode=function(g){return g.TRIANGLES}},n=function(h,c,b){a.basicGLMaterialConstructor(this,h);var e=c.get("leafCardDepth");a.singleTextureGLMaterialConstructor(this,
b,{textureId:h.getTextureId()});this.beginSlot=function(f){return 2===f};this.getProgram=function(){return e};this.bind=function(f,k){e.use();this.bindTexture(f,e);e.uniformMatrix4fv("model",a.IDENTITY);e.uniformMatrix4fv("proj",k.proj);e.uniform2fv("nearFar",k.nearFar);e.enableVertexAttribArrays()};this.release=function(f){e.disableVertexAttribArrays()};this.bindView=function(f,k){a.bindView(k.origin,k.view,e)};this.bindInstance=function(f,k){e.uniformMatrix4fv("model",k.transformation);f=k.transformation;
e.uniform1f("trafoScale",(Math.sqrt(f[0]*f[0]+f[4]*f[4]+f[8]*f[8])+Math.sqrt(f[1]*f[1]+f[5]*f[5]+f[9]*f[9])+Math.sqrt(f[2]*f[2]+f[6]*f[6]+f[10]*f[10]))/3)};this.getDrawMode=function(f){return f.TRIANGLES}};G.loadShaders=function(h,c,b,e){h._parse(A);var f=VertexAttrConstants.POSITION,k=VertexAttrConstants.NORMAL,u=VertexAttrConstants.UV0,v=new p(e.VERTEX_SHADER,h.vertexShaderLeafCard,e),g=new p(e.FRAGMENT_SHADER,h.fragmentShaderLeafCard,e);k=new m([v,g],[f,k,u],[3,4,4],e);h=new p(e.VERTEX_SHADER,
h.vertexShaderLeafCardDepth,e);c=c.get("fsDepthTextured");e=new m([h,c],[f,u],[3,4],e);b.add("leafCard",k);b.add("leafCardDepth",e)};return G})},"engine/materials/Material":function(){define(["dojo/_base/lang","dojo/text!engine/materials/Material.xml","engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m,p){function t(u,v,g){g=g.getTexture(v);assert(g,"Atlas texture material must have a valid texture");v=.5/g.getWidth();g=.5/g.getHeight();for(var q=
new Float32Array(800),x=0;x<u.length/4;x++)q[2*x]=Math.round(65536*(u[4*x]+v))+(u[4*x+2]-u[4*x]-2*v),q[2*x+1]=Math.round(65536*(1-u[4*x+3]-g))+(u[4*x+3]-u[4*x+1]-2*g);return q}var n=function(u,v){a.basicMaterialConstructor(this,v);u=u||{};u.ambient=u.ambient||[.2,.2,.2];u.diffuse=u.diffuse||[.8,.8,.8];u.specular=u.specular||[0,0,0];u.shininess=u.shininess||10;u.opacity=u.opacity||1;u.blendModeOneOne=u.blendModeOneOne||!1;u.inverseBackfaceCulling=u.inverseBackfaceCulling||!1;u.textureId||(u.reflTextureId=
void 0);var g="envTex_panorama"===u.textureId,q={},x=0;q[VertexAttrConstants.POSITION]=x;x+=3;g||(q[VertexAttrConstants.NORMAL]=x,x+=3);void 0!==u.textureId&&(u.atlasRegions?(q[VertexAttrConstants.UVW]=x,x+=3):(q[VertexAttrConstants.UV0]=x,x+=2));this.dispose=function(){};this.getParams=function(){return u};this.getParameterValues=function(){var w={ambient:u.ambient,diffuse:u.diffuse,specular:u.specular,shininess:u.shininess,opacity:u.opacity,polygonOffset:u.polygonOffset,reflectivity:u.reflectivity,
atlasRegions:u.atlasRegions,cullFace:u.cullFace};u.textureId&&(w.textureId=u.textureId,w.initTexture=u.initTexture);return w};this.setParameterValues=function(w){for(var B in w)"textureId"===B&&assert(u.textureId,"Can only change texture of material that already has a texture"),u[B]=w[B];this.notifyDirty("matChanged")};this.getOutputAmount=function(w){return w*x};this.getVertexAttr2offset=function(){return q};this.getStride=function(){return x};this.fillInterleaved=function(w,B,z,C,y){a.fillInterleaved(w,
B,z,q,x,C,y)};this.intersect=a.intersectTriangleGeometry;this.getGLMaterials=function(){return g?[k]:[b,e,f]};this.getAllTextureIds=function(){var w=[];u.textureId&&w.push(u.textureId);u.reflTextureId&&w.push(u.reflTextureId);return w}};n.paramsFromOldConstructor=function(u,v,g,q,x,w,B,z,C,y,D){return{textureId:u,transparent:v,ambient:g,diffuse:q,specular:x,shininess:w,opacity:B,polygonOffset:z,initTexture:C,reflTextureId:y,reflectivity:D}};var h=function(u,v){(v.cullFace?"none"===v.cullFace:v.transparent)?
u.disable(u.CULL_FACE):"front"===v.cullFace&&u.cullFace(u.FRONT)},c=function(u,v){(v.cullFace?"none"===v.cullFace:v.transparent)?u.enable(u.CULL_FACE):"front"===v.cullFace&&u.cullFace(u.BACK)},b=function(u,v,g){a.basicGLMaterialConstructor(this,u);var q=G.clone(u.getParams()),x=q.transparent?2:1;a.singleTextureGLMaterialConstructor(this,g,q);var w=a.aquireIfNotUndefined(q.reflTextureId,q.reflInitTexture,g),B;q.atlasRegions&&(B=t(q.atlasRegions,q.textureId,g));var z=v.get(q.textureId?q.reflTextureId?
"defaultTexturedRefl":q.atlasRegions?"defaultAtlasTextured":"defaultTextured":"default"),C=this.dispose;this.dispose=function(){C();a.releaseIfNotUndefined(q.reflTextureId,g)};this.beginSlot=function(y){return x===y};this.getProgram=function(){return z};this.updateParameters=function(){var y=u.getParams();q.ambient=y.ambient;q.diffuse=y.diffuse;q.specular=y.specular;q.shininess=y.shininess;q.opacity=y.opacity;q.polygonOffset=y.polygonOffset;q.reflectivity=y.reflectivity;q.transparent!=y.transparent&&
(x=q.transparent?2:1,q.transparent=y.transparent);q.cullFace=y.cullFace;q.initTexture=y.initTexture;this.updateTexture(y.textureId);y.atlasRegions&&(q.atlasRegions=y.atlasRegions);if(y.atlasRegions||q.atlasRegions&&y.textureId)B=t(q.atlasRegions,q.textureId,g);q.blendModeOneOne=y.blendModeOneOne;q.inverseBackfaceCulling=y.inverseBackfaceCulling};this.bind=function(y,D){z.use();z.uniform3fv("ambient",q.ambient);z.uniform3fv("diffuse",q.diffuse);z.uniform3fv("specular",q.specular);z.uniform1f("shininess",
q.shininess);z.uniform1f("opacity",q.opacity);this.bindTexture(y,z);void 0!==w&&(z.uniform1i("reflTex",1),y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,w),y.activeTexture(y.TEXTURE0),z.uniform1f("reflectivity",q.reflectivity));q.atlasRegions&&z.uniform4fv("atlasRegions",B);z.uniformMatrix4fv("model",a.IDENTITY);z.uniformMatrix4fv("modelNormal",a.IDENTITY);z.uniformMatrix4fv("proj",D.proj);D.lightingData.setUniforms(z);z.enableVertexAttribArrays();q.inverseBackfaceCulling&&y.frontFace(y.CW);
h(y,q);q.transparent&&(y.enable(y.BLEND),q.blendModeOneOne&&(y.blendFunc(y.ONE,y.ONE),y.depthMask(!1)));q.polygonOffset&&(y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(2,2))};this.release=function(y){q.polygonOffset&&y.disable(y.POLYGON_OFFSET_FILL);c(y,q);q.transparent&&(y.disable(y.BLEND),q.blendModeOneOne&&(y.blendFunc(y.SRC_ALPHA,y.ONE_MINUS_SRC_ALPHA),y.depthMask(!0)));q.inverseBackfaceCulling&&y.frontFace(y.CCW);z.disableVertexAttribArrays()};this.bindView=function(y,D){y=D.origin;a.bindView(y,
D.view,z);a.bindCamPos(y,D.viewInvTransp,z);D.shadowMap.bindView(z,y)};this.bindInstance=function(y,D){z.uniformMatrix4fv("model",D.transformation);z.uniformMatrix4fv("modelNormal",D.transformationNormal)};this.getDrawMode=function(y){return y.TRIANGLES}},e=function(u,v,g,q){a.basicGLMaterialConstructor(this,u);var x=G.clone(u.getParams()),w=v.get(void 0!==u.getVertexAttr2offset().uv0?"depthTextured":"depth"),B=x.transparent?2:1;a.singleTextureGLMaterialConstructor(this,g,x);this.beginSlot=function(z){return B===
z};this.getProgram=function(){return w};this.updateParameters=function(){var z=u.getParams();x.initTexture=z.initTexture;this.updateTexture(z.textureId)};this.bind=function(z,C){w.use();w.uniform2fv("nearFar",C.nearFar);this.bindTexture(z,w);w.uniformMatrix4fv("model",a.IDENTITY);w.uniformMatrix4fv("proj",C.proj);w.enableVertexAttribArrays();h(z,x)};this.release=function(z){c(z,x);w.disableVertexAttribArrays()};this.bindView=function(z,C){a.bindView(C.origin,C.view,w)};this.bindInstance=function(z,
C){w.uniformMatrix4fv("model",C.transformation)};this.getDrawMode=function(z){return z.TRIANGLES}},f=function(u,v,g){a.basicGLMaterialConstructor(this,u);var q=G.clone(u.getParams()),x=v.get(void 0!==u.getVertexAttr2offset().uv0?"normalTextured":"normal"),w=q.transparent?2:1;a.singleTextureGLMaterialConstructor(this,g,q);this.beginSlot=function(B){return w===B};this.getProgram=function(){return x};this.updateParameters=function(){var B=u.getParams();q.initTexture=B.initTexture;this.updateTexture(B.textureId)};
this.bind=function(B,z){x.use();this.bindTexture(B,x);x.uniformMatrix4fv("model",a.IDENTITY);x.uniformMatrix4fv("modelNormal",a.IDENTITY);x.uniformMatrix4fv("proj",z.proj);x.uniformMatrix4fv("viewNormal",z.viewInvTransp);x.enableVertexAttribArrays();h(B,q)};this.release=function(B){c(B,q);x.disableVertexAttribArrays()};this.bindView=function(B,z){a.bindView(z.origin,z.view,x)};this.bindInstance=function(B,z){x.uniformMatrix4fv("model",z.transformation);x.uniformMatrix4fv("modelNormal",z.transformationNormal)};
this.getDrawMode=function(B){return B.TRIANGLES}},k=function(u,v,g){a.basicGLMaterialConstructor(this,u);u=u.getParams();var q=v.get("texOnly"),x=a.aquireIfNotUndefined(u.textureId,u.initTexture,g);this.beginSlot=function(B){return 0===B};this.getProgram=function(){return q};var w=mat4.create();this.bind=function(B,z){q.use();q.uniformMatrix4fv("model",a.IDENTITY);mat4.set(z.proj,w);w[2]=w[6]=w[10]=w[14]=0;q.uniformMatrix4fv("proj",w);var C=z.lightingData.getLightAmbient();z=Math.max(z.lightingData.getLightSpecular()[3],
.1);q.uniform4f("color",C[0]*z,C[1]*z,C[2]*z,1);q.enableVertexAttribArrays();q.uniform1i("tex",0);B.bindTexture(B.TEXTURE_2D,x);B.depthMask(!1);B.disable(B.DEPTH_TEST);B.disable(B.CULL_FACE)};this.release=function(B){B.depthMask(!0);B.enable(B.DEPTH_TEST);B.enable(B.CULL_FACE);q.disableVertexAttribArrays()};this.bindView=function(B,z){mat4.set(z.view,w);w[12]=w[13]=w[14]=0;q.uniformMatrix4fv("view",w)};this.bindInstance=function(B,z){mat4.set(z.transformation,w);w[12]=w[13]=w[14]=0;q.uniformMatrix4fv("model",
w)};this.getDrawMode=function(B){return B.TRIANGLES}};n.loadShaders=function(u,v,g,q){u._parse(A);var x=VertexAttrConstants.POSITION,w=VertexAttrConstants.NORMAL,B=VertexAttrConstants.UV0,z=VertexAttrConstants.UVW;q.getExtension("OES_standard_derivatives");var C=new p(q.VERTEX_SHADER,u.vsDefault,q),y=new p(q.FRAGMENT_SHADER,u.fsDefault,q),D=new p(q.VERTEX_SHADER,u.vsDefaultTextured,q),F=new p(q.VERTEX_SHADER,u.vsDefaultAtlasTextured,q),H=new p(q.FRAGMENT_SHADER,u.fsDefaultTextured,q),E=new p(q.FRAGMENT_SHADER,
u.fsDefaultAtlasTextured,q),I=new p(q.FRAGMENT_SHADER,u.fsDefaultTexturedRefl,q);C=new m([C,y],[x,w],[3,3],q);H=new m([D,H],[x,w,B],[3,3,2],q);z=new m([F,E],[x,w,z],[3,3,3],q);D=new m([D,I],[x,w,B],[3,3,2],q);I=new p(q.VERTEX_SHADER,u.vsDepth,q);var J=new p(q.VERTEX_SHADER,u.vsDepthTextured,q),K=new p(q.VERTEX_SHADER,u.vsNormal,q);y=new p(q.VERTEX_SHADER,u.vsNormalTextured,q);F=new p(q.FRAGMENT_SHADER,u.fsDepth,q);E=new p(q.FRAGMENT_SHADER,u.fsDepthTextured,q);var L=new p(q.FRAGMENT_SHADER,u.fsNormal,
q),O=new p(q.FRAGMENT_SHADER,u.fsNormalTextured,q);u=new m([I,F],[x,w],[3,3],q);J=new m([J,E],[x,w,B],[3,3,2],q);K=new m([K,L],[x,w],[3,3],q);q=new m([y,O],[x,w,B],[3,3,2],q);g.add("default",C);g.add("defaultTextured",H);g.add("defaultAtlasTextured",z);g.add("defaultTexturedRefl",D);g.add("depth",u);g.add("depthTextured",J);g.add("normal",K);g.add("normalTextured",q);v.add("fsDepth",F);v.add("fsDepthTextured",E);v.add("vsDepth",I)};return n})},"engine/materials/RibbonLineMaterial":function(){define(["dojo/_base/lang",
"dojo/text!engine/materials/RibbonLineMaterial.xml","engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m,p){var t=function(h,c){a.basicMaterialConstructor(this,c);h=h||{};h.color=h.color||[1,1,1,1];h.width=h.width||2;h.type=h.type||"screen";h.join=h.join||"miter";h.miterLimit="miter"===h.join?h.miterLimit||5:h.miterLimit;var b="wall"===h.type?2:4,e=0,f={};f[VertexAttrConstants.POSITION]=0;e+=3;f[VertexAttrConstants.UV0]=3;e+=2;"wall"!==h.type&&
(f[VertexAttrConstants.AUXPOS1]=5,e+=3,f[VertexAttrConstants.AUXPOS2]=8,e+=3);this.canBeMerged=!1;this.getParams=function(){return h};this.getParameterValues=function(){var k={color:h.color,width:h.width,type:h.type,join:h.join,polygonOffset:h.polygonOffset};"miter"===h.join&&(k.miterLimit=h.miterLimit);return k};this.setParameterValues=function(k){for(var u in k)assert("type"!==u,"RibbonLineMaterial: type cannot be changed after creation"),h[u]=k[u];this.notifyDirty("matChanged")};this.dispose=function(){};
this.getOutputAmount=function(k){return((k/2+1-2)*b+4)*e};this.getVertexAttr2offset=function(){return f};this.getStride=function(){return e};this.fillInterleaved=function(k,u,v,g,q){k=k.vertexAttr[VertexAttrConstants.POSITION].data;if("wall"===h.type){v=k.length/3;for(var x=0,w=k[0],B=k[1],z=k[2],C,y,D,F=0;F<v;F++){var H=3*F;C=w;y=B;D=z;w=k[H];B=k[H+1];z=k[H+2];u&&(w=u[0]*w+u[4]*B+u[8]*z+u[12],B=u[1]*w+u[5]*B+u[9]*z+u[13],z=u[2]*w+u[6]*B+u[10]*z+u[14]);x+=Math.sqrt((w-C)*(w-C)+(B-y)*(B-y)+(z-D)*(z-
D));g[q++]=w;g[q++]=B;g[q++]=z;g[q++]=x;g[q++]=-1;g[q++]=w;g[q++]=B;g[q++]=z;g[q++]=x;g[q++]=1}}else{v=k.length/3;x=k[0];w=k[1];B=k[2];z=0;u&&(x=u[0]*x+u[4]*w+u[8]*B+u[12],w=u[1]*x+u[5]*w+u[9]*B+u[13],B=u[2]*x+u[6]*w+u[10]*B+u[14]);C=x;y=w;D=B;F=k[3];H=k[4];var E=k[5];u&&(F=u[0]*F+u[4]*H+u[8]*E+u[12],H=u[1]*F+u[5]*H+u[9]*E+u[13],E=u[2]*F+u[6]*H+u[10]*E+u[14]);for(var I=0;I<v;I++){var J=3*I;I<v-1&&(F=k[J+3],H=k[J+4],E=k[J+5],u&&(F=u[0]*F+u[4]*H+u[8]*E+u[12],H=u[1]*F+u[5]*H+u[9]*E+u[13],E=u[2]*F+u[6]*
H+u[10]*E+u[14]));z+=Math.sqrt((C-x)*(C-x)+(y-w)*(y-w)+(D-B)*(D-B));g[q++]=C;g[q++]=y;g[q++]=D;g[q++]=z;g[q++]=-1;g[q++]=x;g[q++]=w;g[q++]=B;g[q++]=F;g[q++]=H;g[q++]=E;g[q++]=C;g[q++]=y;g[q++]=D;g[q++]=z;g[q++]=1;g[q++]=x;g[q++]=w;g[q++]=B;g[q++]=F;g[q++]=H;g[q++]=E;0<I&&I<v-1&&(g[q++]=C,g[q++]=y,g[q++]=D,g[q++]=z,g[q++]=-1.2,g[q++]=x,g[q++]=w,g[q++]=B,g[q++]=F,g[q++]=H,g[q++]=E,g[q++]=C,g[q++]=y,g[q++]=D,g[q++]=z,g[q++]=1.2,g[q++]=x,g[q++]=w,g[q++]=B,g[q++]=F,g[q++]=H,g[q++]=E);x=C;w=y;B=D;C=F;y=
H;D=E}}};this.intersect=function(){};this.getGLMaterials=function(){return[n,void 0,void 0]};this.getAllTextureIds=function(){return[]}},n=function(h,c){a.basicGLMaterialConstructor(this,h);var b=G.clone(h.getParams());b.miterLimit="miter"===b.join?b.miterLimit:0;delete b.join;var e=c.get("ribbonLine_"+b.type);this.updateParameters=function(){var f=h.getParams();b.polygonOffset=f.polygonOffset;b.color=f.color;b.width=f.width;b.miterLimit="miter"===f.join?f.miterLimit:0};this.beginSlot=function(f){return 2===
f};this.getProgram=function(){return e};this.bind=function(f,k){e.use();e.uniformMatrix4fv("model",a.IDENTITY);e.uniformMatrix4fv("proj",k.proj);e.uniform4fv("color",b.color);e.uniform1f("lineWidth",b.width);e.uniform1f("lineWidth2",b.width);e.uniform1f("miterLimit",b.miterLimit);"screen"===b.type&&e.uniform2fv("screenSize",[k.viewport[2],k.viewport[3]]);e.enableVertexAttribArrays();b.polygonOffset&&(f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(0,-4));f.enable(f.BLEND);f.disable(f.CULL_FACE);1>
b.color[3]&&f.depthMask(!1)};this.release=function(f){e.disableVertexAttribArrays();b.polygonOffset&&f.disable(f.POLYGON_OFFSET_FILL);f.disable(f.BLEND);f.enable(f.CULL_FACE);f.depthMask(!0)};this.bindView=function(f,k){a.bindView(k.origin,k.view,e)};this.bindInstance=function(f,k){e.uniformMatrix4fv("model",k.transformation)};this.getDrawMode=function(f){return f.TRIANGLE_STRIP}};t.loadShaders=function(h,c,b,e){h._parse(A);c=VertexAttrConstants.POSITION;var f=VertexAttrConstants.UV0,k=VertexAttrConstants.AUXPOS1,
u=VertexAttrConstants.AUXPOS2,v=new p(e.VERTEX_SHADER,h.vsRibbonLine,e,["SCREENSCALE"]),g=new p(e.VERTEX_SHADER,h.vsRibbonLine,e),q=new p(e.VERTEX_SHADER,h.vsRibbonLine,e,["WALL"]);h=new p(e.FRAGMENT_SHADER,h.fsRibbonLine,e);v=new m([v,h],[c,f,k,u],[3,2,3,3],e);k=new m([g,h],[c,f,k,u],[3,2,3,3],e);e=new m([q,h],[c,f],[3,2],e);b.add("ribbonLine_screen",v);b.add("ribbonLine_strip",k);b.add("ribbonLine_wall",e)};return t})},"engine/materials/TerrainMaterial":function(){define(["dojo/_base/lang","dojo/text!engine/materials/TerrainMaterial.xml",
"engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m,p){var t=function(h,c){assert(h.textureId,"TerrainMaterial must have texture");h.texOffset=h.texOffset||[0,0];h.texScale=h.texScale||1;h.overlayTexOffset=h.overlayTexOffset||[0,0];h.overlayTexScale=h.overlayTexScale||1;a.basicMaterialConstructor(this,c);var b={};b[VertexAttrConstants.POSITION]=0;b[VertexAttrConstants.UV0]=3;this.dispose=function(){};this.getParams=function(){return h};this.getParameterValues=
function(){var e={};e.textureId=h.textureId;e.texOffset=h.texOffset;e.texScale=h.texScale;e.overlayTexId=h.overlayTexId;e.overlayTexScale=h.overlayTexScale;e.overlayTexOffset=h.overlayTexOffset;return e};this.setParameterValues=function(e){var f=!1,k;for(k in e)h[k]!==e[k]&&(h[k]=e[k],f=!0);f&&this.notifyDirty("matChanged")};this.getOutputAmount=function(e){return 5*e};this.getVertexAttr2offset=function(){return b};this.getStride=function(){return 5};this.fillInterleaved=function(e,f,k,u,v){a.fillInterleaved(e,
f,k,b,5,u,v)};this.intersect=a.intersectTriangleGeometry;this.getGLMaterials=function(){return[n,TerrainGLMaterialDepth,void 0]};this.getAllTextureIds=function(){return[h.textureId]}},n=function(h,c,b,e){a.basicGLMaterialConstructor(this,h);var f=G.clone(h.getParams());a.multiTextureGLMaterialConstructor(this,b,f,[["textureId","initTexture","tex"],["overlayTexId",void 0,"overlayTex"]]);var k="sphere"===e?c.get("sphericalTerrain"):c.get("planarTerrain");this.beginSlot=function(u){return 1===u};this.getProgram=
function(){return k};this.updateParameters=function(){var u=h.getParams();this.updateTextures(u);f.texOffset=u.texOffset;f.texScale=u.texScale;f.overlayTexOffset=u.overlayTexOffset;f.overlayTexScale=u.overlayTexScale};this.bind=function(u,v){k.use();this.bindTextures(u,k);k.uniformMatrix4fv("proj",v.proj);k.uniformMatrix4fv("model",a.IDENTITY);v.lightingData.setUniforms(k);k.uniform2fv("texOffset",f.texOffset);k.uniform1f("texScale",f.texScale);k.uniform2fv("overlayTexOffset",f.overlayTexOffset);
k.uniform1f("overlayTexScale",f.overlayTexScale);k.enableVertexAttribArrays()};this.release=function(u){k.disableVertexAttribArrays()};this.bindView=function(u,v){u=v.origin;k.uniform3fv("origin",u);a.bindView(u,v.view,k);a.bindCamPos(u,v.viewInvTransp,k);v.shadowMap.bindView(k,u)};this.bindInstance=function(u,v){k.uniformMatrix4fv("model",v.transformation)};this.getDrawMode=function(u){return u.TRIANGLES}};TerrainGLMaterialDepth=function(h,c,b){a.basicGLMaterialConstructor(this,h);G.clone(h.getParams());
var e=c.get("terrainDepth");this.dispose=function(){};this.getId=function(){return this.id};this.beginSlot=function(f){return 1===f};this.getProgram=function(){return e};this.updateParameters=function(){h.getParams()};this.bind=function(f,k){e.use();e.uniform2fv("nearFar",k.nearFar);e.uniformMatrix4fv("proj",k.proj);e.uniformMatrix4fv("model",a.IDENTITY);k.lightingData.setUniforms(e);e.enableVertexAttribArrays()};this.release=function(f){e.disableVertexAttribArrays()};this.bindView=function(f,k){a.bindView(k.origin,
k.view,e)};this.bindInstance=function(f,k){e.uniformMatrix4fv("model",k.transformation)};this.getDrawMode=function(f){return f.TRIANGLES}};t.loadShaders=function(h,c,b,e){h._parse(A);e.getExtension("OES_standard_derivatives");var f=VertexAttrConstants.POSITION,k=VertexAttrConstants.UV0,u=new p(e.VERTEX_SHADER,h.vsTerrain,e,["SPHERICAL"]),v=new p(e.VERTEX_SHADER,h.vsTerrain,e),g=new p(e.FRAGMENT_SHADER,h.fsTerrain,e);h=c.get("vsDepth");c=c.get("fsDepth");u=new m([u,g],[f,k],[3,2],e);k=new m([v,g],
[f,k],[3,2],e);e=new m([h,c],[f],[3],e);b.add("sphericalTerrain",u);b.add("planarTerrain",k);b.add("terrainDepth",e)};return t})},"engine/materials/WaterMaterial":function(){define(["dojo/_base/lang","dojo/text!engine/materials/WaterMaterial.xml","engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m,p){G=function(n,h,c,b,e,f){a.basicMaterialConstructor(this,f);var k={};k[VertexAttrConstants.POSITION]=0;this.dispose=function(){};this.getNoiseTextureId=
function(){return n};this.getReflTextureId=function(){return h};this.getColor=function(){return c};this.getScale=function(){return b};this.getSpeed=function(){return e};this.getOutputAmount=function(u){return 3*u};this.getVertexAttr2offset=function(){return k};this.getStride=function(){return 3};this.fillInterleaved=function(u,v,g,q,x){a.fillInterleaved(u,v,g,k,3,q,x)};this.intersect=a.intersectTriangleGeometry;this.getGLMaterials=function(){return[t,void 0,void 0]};this.getAllTextureIds=function(){return[n,
h]}};var t=function(n,h,c){a.basicGLMaterialConstructor(this,n);var b=h.get("water");h={noiseTextureId:n.getNoiseTextureId(),reflTextureId:n.getReflTextureId()};a.multiTextureGLMaterialConstructor(this,c,h,[["noiseTextureId",void 0,"noiseTex"],["reflTextureId",void 0,"reflTex"]]);var e=n.getColor(),f=n.getScale(),k=n.getSpeed(),u=Date.now();this.beginSlot=function(v){return 2===v};this.getProgram=function(){return b};this.bind=function(v,g){b.use();this.bindTextures(v,b);b.uniformMatrix4fv("model",
a.IDENTITY);b.uniformMatrix4fv("proj",g.proj);g.lightingData.setUniforms(b);b.uniform3fv("color",e);b.uniform1f("scale",f);v=(Date.now()-u)/1E5*k;v-=Math.floor(v);b.uniform1f("speed",v);b.enableVertexAttribArrays()};this.release=function(v){b.disableVertexAttribArrays()};this.bindView=function(v,g){v=g.origin;a.bindView(v,g.view,b);a.bindCamPos(v,g.viewInvTransp,b);g.shadowMap.bindView(b,v)};this.bindInstance=function(v,g){b.uniformMatrix4fv("model",g.transformation)};this.getDrawMode=function(v){return v.TRIANGLES}};
G.loadShaders=function(n,h,c,b){n._parse(A);h=new p(b.VERTEX_SHADER,n.vertexShaderWater,b);n=new p(b.FRAGMENT_SHADER,n.fragmentShaderWater,b);b=new m([h,n],[VertexAttrConstants.POSITION],[3],b);c.add("water",b)};return G})},"engine/lib/SSAOHelper":function(){define("engine/lib/GLFBO engine/lib/GLUtil engine/lib/GLVBO engine/lib/GLSLShader engine/lib/GLSLProgram engine/lib/Util dojo/text!engine/materials/internal/ssao.xml".split(" "),function(G,A,a,m,p,t,n){SSAOHelper=function(h,c,b){var e=void 0,
f=void 0,k=void 0,u=void 0,v=void 0,g=void 0,q=void 0,x=glCreateEmptyTexture(b),w=.5,B=5,z=3,C=16,y=vec4.create(),D=[.186937,0,0,.677503,0,0,-.782832,.128424,.557187,.248064,.460317,-.659755,.062892,.918659,.312829,-.241031,-.814826,.224206,-.642866,.132138,-.45016,.145727,-.590568,-.626141,.005017,-.002234,.012668],F=[.186937,0,0,.700542,0,0,-.864858,-.481795,-.111713,-.624773,.102853,-.730153,-.387172,.260319,.007229,-.222367,-.642631,-.707697,-.01336,-.014956,.169662,.122575,.1544,-.456944,-.177141,
.85997,-.42346,-.131631,.814545,.524355,-.779469,.007991,.624833,.308092,.209288,.35969,.359331,-.184533,-.377458,.192633,-.482999,-.065284,.233538,.293706,-.055139,.417709,-.386701,.442449,-.301656,-.836426,.408344],H=[.837372,0,0,.723531,-.467287,.034157,.169582,-.31169,-.881801,.696236,.455215,-.204568,-.304514,.528086,.626381,-.053116,.222507,.037523,.199755,.311291,.916799,-.681552,-.516264,.501792,-.37127,.021088,.737477,-.029503,.209188,-.95298,-.573731,.009962,-.154202,-.257345,-.905958,.282747,
.370779,.527867,-.669424,-.601758,-.191278,-.708243,.271796,.782684,.535565,-.006867,-.015312,-.017276,.419958,.265628,.233036,-.543898,.554747,-.174055,-.079242,.053475,-.099539,.372042,-.339267,-.357362,.015781,-.011352,.042707,-.340564,-.272507,-.067725,.799249,-.127948,.586808,.450015,.01965,-.416454,-.506524,.323229,.206546,-.087316,-.311097,.466049,.146374,-.34528,-.045904,-.152614,-.926686,-.287529,-.665726,-.032904,.246643,.248703,.637193,-.062541,-.073706,.495925,-.315143,.05946,-.116042,
.075586],E=[.186937,0,0,.605726,-.313457,-.097616,.003541,.781245,.283011,-.225029,-.373279,.274442,-.047511,.04992,-.226365,.627629,-.623617,-.463628,.133094,-.318299,.528128,.262035,.100234,-.09012,.178335,-.426972,-.666048,-.27306,-.207352,.05514,-.613649,-.063395,.060608,-.283391,-.41382,-.087565,.136768,.506126,.484137,-.593808,-.344603,.453164,.675326,.124799,-.697865,-.33502,.411337,-.09337,-.15271,.002908,-.063582,.366733,-.699739,.401148,-.519536,-.585625,-.508413,.106482,-.428709,-.260221,
.012847,-.118806,.016962,-.188182,.49945,.452364,.586617,.722539,-.23302,.111295,.202827,.066695,-.036503,.315842,.896467,-.039109,-.270116,-.080062,.613435,.508787,.538656,-.352275,.566869,-.666275,.887876,-.138341,-.434135,-.444711,.269156,.119506,-.029457,-.077316,.754474,.274125,-.13876,-.37082,-.73268,.332723,.568545,-.203992,.878922,-.430778,.541154,-.546752,.11786,-3.93E-4,-.083318,.059333,-.341406,-.117017,-.318568,-.262425,-.457913,.848753,.89229,-.30157,.322416,.742328,.032262,.643827,.048091,
-.078044,-.49908,.064858,.549944,-.796252,-.230688,.88978,-.010153,.397241,-.27645,.405666,-.46593,.131187,-.600166,.333834,-.078219,.73837,-.870169,-.411658,-.222175,-.492421,.741454,.293757,-.591244,.389112,-.388324,.792346,.578552,.088459,-.121858,-.437241,-.472535,-.374835,.302427,.721264,.057485,.204085,-.126575,.510325,.481492,-.579888,-.29411,-.82136,.156404,-.819717,-.042466,.456573,.079884,.07019,.179002,.220279,.970222,-.088025,-.299911,-.234627,-.820794,.912112,.243306,.317869,.241336,
.161841,-.721568,.301135,-.635993,-.0939,-.514731,-.089673,.850964,-.905087,.314604,-.098397];this.getIsSupported=function(){var K=-1!==b.getParameter(b.VERSION).indexOf("WebGL 0.93"),L=-1!==b.getParameter(b.VERSION).indexOf("WebGL 0.94");return b.getExtension("OES_standard_derivatives")&&!(K||L)};this.setEnableState=function(K){assert(K!==this.getEnableState());K?this.enable():this.disable()};this.getEnableState=function(){return void 0!==e};this.enable=function(){assert(!this.getEnableState());
assert(this.getIsSupported());e=new GLFBO(b.RGBA,b.UNSIGNED_BYTE,!0,b.NEAREST,b);f=new GLFBO(b.RGBA,b.UNSIGNED_BYTE,!0,b.NEAREST,b);k=new GLFBO(b.RGBA,b.UNSIGNED_BYTE,!1,b.LINEAR,b);u=new GLFBO(b.RGBA,b.UNSIGNED_BYTE,!1,b.LINEAR,b);v=new GLFBO(b.RGBA,b.UNSIGNED_BYTE,!1,b.LINEAR,b);g=b.createTexture();b.bindTexture(b.TEXTURE_2D,g);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,8,8,0,b.RGBA,b.UNSIGNED_BYTE,null);b.generateMipmap(b.TEXTURE_2D);var K=new Image;K.src="data:image/png;base64,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\x3d\x3d";
K.onload=function(){g&&glTexImage2D(K,g,b,h,b.getParameter(b.VIEWPORT),!0)};var L=new Float32Array(8);L[0]=-1;L[1]=-1;L[2]=1;L[3]=-1;L[4]=-1;L[5]=1;L[6]=1;L[7]=1;var O={};O[VertexAttrConstants.POSITION]=0;q=new GLVBO(L,O,2,b)};this.disable=function(){assert(this.getEnableState());q.dispose();b.deleteTexture(g);v.dispose();u.dispose();k.dispose();f.dispose();e.dispose();e=f=k=u=v=g=q=void 0};this.setAttenuation=function(K){w=K};this.getAttenuation=function(){return w};this.setRadius=function(K){B=
K};this.getRadius=function(){return B};this.setFilterRadius=function(K){z=Math.max(Math.round(K),1)};this.getFilterRadius=function(){return z};this.setSamples=function(K){C=K};this.getSamples=function(){return C};this.prepare0=function(K){assert(this.getEnableState());vec4.set(K,y);var L=2*Math.floor(K[2]/2);K=2*Math.floor(K[3]/2);var O=L/2,U=K/2;e.setSize(L,K);f.setSize(L,K);k.setSize(L,K);u.setSize(O,U);v.setSize(O,U);b.viewport(0,0,L,K);e.bind();b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)};
this.prepare1=function(){assert(this.getEnableState());f.bind();b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)};this.finish=function(K,L,O){assert(this.getEnableState());var U=k.getWidth(),S=k.getHeight();k.bind();b.viewport(0,0,U,S);var M=h.get(8>=C?"ssao8":16>=C?"ssao16":32>=C?"ssao32":"ssao64"),N=h.get("blurH"),T=h.get("blurV");M.use();M.uniform1i("rnm",0);M.uniform1i("normalMap",1);M.uniform1i("depthMap",2);M.uniform1f("ssaoAtt",w);M.uniform2f("rnmScale",U/64,S/64);M.uniform2fv("nearFar",K);L=
fovx2fovy(L,U,S);M.uniform1f("radius",B/(2*K[0]*Math.tan(.5*L)));M.uniform3fv("pSphere",8>=C?D:16>=C?F:32>=C?H:E);b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,g);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,e.getTexture());b.activeTexture(b.TEXTURE2);b.bindTexture(b.TEXTURE_2D,f.getTexture());q.bind();q.setPointers(M);M.enableVertexAttribArrays();b.drawArrays(b.TRIANGLE_STRIP,0,q.getNum());b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE0);N.changeShaderDefines(1,["RADIUS "+
z]);T.changeShaderDefines(1,["RADIUS "+z]);b.viewport(0,0,U/2,S/2);u.bind();N.use();N.uniform1i("tex",0);N.uniform1f("blurSize",2/U);b.bindTexture(b.TEXTURE_2D,k.getTexture());b.drawArrays(b.TRIANGLE_STRIP,0,q.getNum());v.bind();T.use();T.uniform1i("tex",0);T.uniform1f("blurSize",2/S);b.bindTexture(b.TEXTURE_2D,u.getTexture());b.drawArrays(b.TRIANGLE_STRIP,0,q.getNum());M.disableVertexAttribArrays();b.bindFramebuffer(b.FRAMEBUFFER,O);b.viewport(y[0],y[1],y[2],y[3])};this.setUniforms=function(K){var L=
this.getEnableState();K.use();b.activeTexture(b.TEXTURE2);b.bindTexture(b.TEXTURE_2D,L?v.getTexture():x);b.activeTexture(b.TEXTURE0);K.uniform1i("ssaoTex",2);L?K.uniform4f("viewportPixelSz",y[0],y[1],1/k.getWidth(),1/k.getHeight()):K.uniform4f("viewportPixelSz",-1,-1,-1,-1)};c=new Float32Array(16);c[0]=0;c[1]=0;c[2]=0;c[3]=0;c[4]=512;c[5]=0;c[6]=1;c[7]=0;c[8]=0;c[9]=512;c[10]=0;c[11]=1;c[12]=512;c[13]=512;c[14]=1;c[15]=1;var I={};I[VertexAttrConstants.POSITION]=0;I[VertexAttrConstants.UV0]=2;var J=
new GLVBO(c,I,4,b);this.drawQuad=function(K){assert(this.getEnableState());var L=h.get("showDepth");b.disable(b.DEPTH_TEST);L.use();L.uniformMatrix4fv("proj",K);L.uniform1i("depthTex",0);b.bindTexture(b.TEXTURE_2D,k.getTexture());L.enableVertexAttribArrays();J.bind();J.setPointers(L);b.drawArrays(b.TRIANGLE_STRIP,0,J.getNum());b.bindBuffer(b.ARRAY_BUFFER,null);L.disableVertexAttribArrays();b.useProgram(null);b.enable(b.DEPTH_TEST)}};SSAOHelper.loadShaders=function(h,c,b,e){assert(void 0===h.samples);
h.samples="samplesUNDEF";h._parse(n);c=VertexAttrConstants.POSITION;var f=VertexAttrConstants.UV0,k=new m(e.VERTEX_SHADER,h.vertexShaderShowDepth,e),u=new m(e.FRAGMENT_SHADER,h.fragmentShaderShowDepth,e);f=new p([k,u],[c,f],[2,2],e);u=h.createFsSSAOSrc;k=new m(e.VERTEX_SHADER,h.vsUVQuad,e);var v=new m(e.FRAGMENT_SHADER,u.replace("samplesUNDEF","8"),e),g=new m(e.FRAGMENT_SHADER,u.replace("samplesUNDEF","16"),e),q=new m(e.FRAGMENT_SHADER,u.replace("samplesUNDEF","32"),e),x=new m(e.FRAGMENT_SHADER,u.replace("samplesUNDEF",
"64"),e),w=new m(e.FRAGMENT_SHADER,h.fsBlurH,e,["RADIUS 3"]);u=new m(e.FRAGMENT_SHADER,h.fsBlurV,e,["RADIUS 3"]);v=new p([k,v],[c],[2],e);g=new p([k,g],[c],[2],e);q=new p([k,q],[c],[2],e);x=new p([k,x],[c],[2],e);w=new p([k,w],[c],[2],e);e=new p([k,u],[c],[2],e);b.add("showDepth",f);b.add("ssao8",v);b.add("ssao16",g);b.add("ssao32",q);b.add("ssao64",x);b.add("blurH",w);b.add("blurV",e);delete h.samples}})},"engine/parts/Viewport":function(){define("engine/lib/PerformanceTimer engine/lib/Renderer engine/lib/Trackball engine/lib/Util engine/lib/bitset engine/lib/gl-matrix engine/parts/DualVisualizer engine/parts/SideBySideVisualizer engine/parts/Visualizer".split(" "),
function(G,A,a,m,p,t,n,h,c){return function(b,e,f,k,u,v){function g(){var P=I,ba=!1;ea[1]=0;if(J||"tight"===K){var la=E,Q=ea;w.getProjectionMatrix(B,D,1,10,T);matrix2frustumPlanes(y.getMatrix(),T,V);la.clearAll();U=S=0;var Y=-Number.MAX_VALUE,ja=-Number.MAX_VALUE;y.getCurrentEyeAndCenter();var pa=V[0][0],ka=V[0][1],va=V[0][2],Aa=V[0][3],da=V[1][0],ca=V[1][1],ma=V[1][2],qa=V[1][3],ta=V[2][0],Ca=V[2][1],ha=V[2][2],fa=V[2][3],ra=V[3][0],wa=V[3][1],Ga=V[3][2],Na=V[3][3],Ra=V[4][0],Sa=V[4][1],La=V[4][2],
W=V[4][3],ia=V[5][3],sa;for(sa in H){U++;var X=H[sa];if(!X.isBackdrop){var na=X.center,ua=na[0],ya=na[1],Ha=na[2];na=X.bsRadius;if(pa*ua+ka*ya+va*Ha+Aa>na)continue;if(da*ua+ca*ya+ma*Ha+qa>na)continue;if(ta*ua+Ca*ya+ha*Ha+fa>na)continue;if(ra*ua+wa*ya+Ga*Ha+Na>na)continue;ya=Ra*ua+Sa*ya+La*Ha;ua=ya+na;na=-ya+na;ua>Y&&(Y=ua);na>ja&&(ja=na)}la.set(X.idx);S++}la=Y!==-Number.MAX_VALUE;0<S&&la&&(Q[0]=.99*Math.max(1-(Y+W),2),Q[1]=1.01*Math.max(10+(ja+ia),Q[0]+1));"tight"===K&&0<ea[1]&&(C[1]=ea[1],C[0]=Math.max(ea[0],
C[1]/L),ba=!0);J&&(P=E)}"globe"===K&&(ba=y.getCurrentEyeAndCenter(),"sphere"===O?(ba=vec3.dot(ba[0],ba[0]),ba=Math.sqrt(ba-EARTH_RADIUS*EARTH_RADIUS)):(Q=ba[0][1],1E5<Q?ba=vec3.length(ba[0])+15E6:(ba=Q+EARTH_RADIUS,ba=Math.sqrt(ba*ba-EARTH_RADIUS*EARTH_RADIUS))),C[1]=1.2*ba,2<C[1]/L?C[0]=C[1]/L:(C[0]=2,C[1]=C[0]*L),0<ea[1]&&(C[0]=Math.max(ea[0],C[0]),C[1]=Math.min(ea[1],C[1])),ba=!0);ba&&q(fovx2fovy(D,B[2],B[3]));return P}function q(P){mat4.perspective(180*P/Math.PI,B[2]/B[3],C[0],C[1],z)}function x(P,
ba,la,Q,Y){w.getPickRay(P,ba,la,z,C,B,D,Q,Y)}var w=new c(b,e,f,k,v),B=[0,0,0,0],z=mat4.identity(),C=vec2d.createFrom(1,1E3),y=new Trackball(vec3.createFrom(0,100,-100),vec3.createFrom(0,0,0),u,x,function(P,ba){return w.world2screen(ba,z,C,B,D,P)[0].screenCoords}),D=.3*Math.PI,F=D,H=[],E=new BitSet,I={get:function(){return!0}},J=!0,K="tight",L=2E4,O=void 0,U=0,S=0,M=new G(10),N=new G(10);this.getCombinedStats=function(){var P=w.getCombinedStats();P.renderGeometriesTotal=U;P.renderGeometriesVisible=
S;P.visualizerTotalRenderTime=M.getTotal();P.visualizerCurrentRenderTime=M.getLastFiltered();P.viewportTotalRenderTime=N.getTotal();P.viewportCurrentRenderTime=N.getLastFiltered();P.totalNumFramesRendered=N.getNumMeasurements();void 0!==v.getUsedTextureMemory&&(P.textureMemory=v.getUsedTextureMemory());void 0!==v.getUsedRenderbufferMemory&&(P.renderbufferMemory=v.getUsedRenderbufferMemory());void 0!==v.getUsedVBOMemory&&(P.VBOMemory=v.getUsedVBOMemory());if(void 0!==v.getUsedTextureMemoryStats){var ba=
v.getUsedTextureMemoryStats(),la;for(la in ba)P["texMem type: "+la]=ba[la]}return P};var T=mat4d.create(),V=Array(6);for(u=0;6>u;++u)V[u]=vec4d.create();this.dispose=function(){w.dispose()};this.setLightingData=function(P){w.setLightingData(P)};this.getLightingData=function(){return w.getLightingData()};this.getViewParams=function(P,ba){var la=w.getViewParams(P),Q=ba?y.getEyeCenterUp():y.getCurrentEyeCenterUp();if(!P||P.eye)la.eye=Q[0];if(!P||P.center)la.center=Q[1];if(!P||P.up)la.up=Q[2];if(!P||
P.viewMatrix)la.viewMatrix=ba?y.getTargetMatrix():y.getMatrix();if(!P||P.fovX)la.fovX=ba?F:D;if(!P||P.nearFar)la.nearFar=C;if(!P||P.viewport)la.viewport=B;if(!P||P.frustum)la.frustum=this.getFrustum();if(!P||P.projectionMatrix)la.projectionMatrix=z;if(!P||P.viewMode)la.viewMode=this.getMode();if(!P||P.world2screen)la.world2screen=this.world2screen;if(!P||P.frustumCullingEnabled)la.frustumCullingEnabled=J;if(!P||P.autoNearFarMode)la.autoNearFarMode=K;if(!P||P.maxFarNearRatio)la.maxFarNearRatio=L;return la};
this.setViewParams=function(P,ba){var la=this.getCamera(!1),Q=!1;void 0!==P.eye&&(la[0]=P.eye,Q=!0);void 0!==P.center&&(la[1]=P.center,Q=!0);Q&&this.setCamera(la[0],la[1],ba);void 0!==P.up&&assert(!1,"setViewParams doesn't support setting the up vector yet");void 0!==P.viewMatrix&&assert(!1,"setViewParams: can't set view matrix directly");void 0!==P.fovX&&this.setFovX(P.fovX,ba);void 0!==P.nearFar&&(C=P.nearFar,q(fovx2fovy(D,B[2],B[3])));void 0!==P.viewport&&assert(!1,"setViewParams: can't set viewport rectangle directly");
void 0!==P.frustum&&assert(!1,"setViewParams: can't set frustum directly");void 0!==P.projectionMatrix&&assert(!1,"setViewParams: can't set projection matrix directly");void 0!==P.world2screen&&assert(!1,"setViewParams: can't set world2screen");void 0!==P.viewMode&&this.setMode(P.viewMode);void 0!==P.frustumCullingEnabled&&(J=P.frustumCullingEnabled);void 0!==P.autoNearFarMode&&(K=P.autoNearFarMode);void 0!==P.maxFarNearRatio&&(L=P.maxFarNearRatio);w.setViewParams(P)};this.getMode=function(){if(w instanceof
c)return 0;if(w instanceof n)return 1;if(w instanceof h)return w.isHorizontal?2:3};this.setMode=function(P){var ba=w.getRenderParams();w.dispose();switch(P){case 0:w=new c(b,e,f,k,v);break;case 1:w=new n(b,e,f,k,v);break;case 2:w=new h(b,e,f,k,v,!0);break;case 3:w=new h(b,e,f,k,v,!1);break;default:assert(!1)}w.setRenderParams(ba)};this.setManifold=function(P){O=P};this.setRenderParams=function(P){w.setRenderParams(P)};this.getRenderParams=function(){return w.getRenderParams()};this.getFrustum=function(){for(var P=
Array(8),ba=0;8>ba;++ba)P[ba]=vec3d.create();w.getProjectionMatrix(B,D,C[0],C[1],T);matrix2frustum(y.getMatrix(),T,P);return P};this.getFrustumObjects=function(){var P={},ba;for(ba in H)E.get(H[ba].idx)&&(P[H[ba].name]=1);return P};this.modify=function(P,ba,la,Q){w.modify(P,ba,la,Q);H=w.getContent()};this.getContent=function(){return H};this.setSelectionObject=function(P){w.setSelectionObject(P)};this.setHighlightObjects=function(P,ba){w.setHighlightObjects(P,ba)};this.frame=function(P,ba){y.frame(P,
ba)};this.adjustViewDirection=function(P){y.adjustViewDirection(P)};this.world2screen=function(P){return w.world2screen(y.getMatrix(),z,C,B,D,P)};this.setCamera=function(P,ba,la){y.setEyeAndCenter(P,ba);la&&(g(),y.setCurrentToTarget())};this.getCamera=function(P){return P?y.getCurrentEyeAndCenter():y.getEyeAndCenter()};this.addCameraListener=function(P){return y.addCameraListener(P)};this.removeCameraListener=function(P){y.removeCameraListener(P)};this.addControlsListener=function(P){return y.addControlsListener(P)};
this.removeControlsListener=function(P){y.removeControlsListener(P)};this.getTrackball=function(){return y};this.getPickRay=function(P,ba,la){return x(P,void 0,y.getMatrix(),ba,la)};this.getSideIndexForPoint=function(P){return w.getSideIndexForPoint(P,B)};this.render=function(P,ba){N.start();var la=g();M.start();w.render(y.getMatrix(),z,C,B,D,P,la,ba);M.stop();N.stop()};this.setWindowSize=function(P){y.setWindowSize(P);B[0]=0;B[1]=0;B[2]=P[0];B[3]=P[1];v.viewport(B[0],B[1],B[2],B[3]);q(fovx2fovy(D,
B[2],B[3]))};this.getViewportRect=function(){return B};this.setFovX=function(P,ba){F=P;ba&&(D=P,q(fovx2fovy(D,B[2],B[3])))};this.step=function(P){y.step(P);D!==F&&(D=.01<Math.abs(D,F)?lerp(D,F,Math.min(5*P,.3)):F)};var ea=[0,0]}})},"engine/lib/PerformanceTimer":function(){define([],function(){return function(G){var A=Array(G),a=0,m=NaN,p=0,t=0,n;this.reset=function(){for(var c=a=0;c<G;c++)A[c]=NaN};this.reset();this.start=function(){n=window.performance.now()};this.stop=function(){m=window.performance.now()-
n;p+=m;t++;G&&(A[a]=m,a=(a+1)%G);return m};this.getLast=function(){return m};var h=function(c,b){return c+b};this.getLastFiltered=function(){return A.reduce(h)/A.length};this.getAverage=function(){return p/t};this.getTotal=function(){return p};this.getNumMeasurements=function(){return t}}})},"engine/lib/Trackball":function(){define(["engine/lib/Util","engine/lib/gl-matrix"],function(){ViewDirectionFlags={NORTH:1,PERP:16};PanDirection={LEFT:1,RIGHT:2,FORWARD:4,BACKWARD:8,UP:16,DOWN:32};PivotPoint=
{POI:1,EYE:2};Camera=function(G,A,a){this.eyePos=vec3d.create(G);this.lookAtPos=vec3d.create(A);this.upVec=vec3d.create(a);this.copyFrom=function(p){vec3d.set(p.eyePos,this.eyePos);vec3d.set(p.lookAtPos,this.lookAtPos);vec3d.set(p.upVec,this.upVec);return this};this.copy=function(){return new Camera(this.eyePos,this.lookAtPos,this.upVec)};this.equals=function(p){return arraysEqual(this.eyePos,p.eyePos)&&arraysEqual(this.lookAtPos,p.lookAtPos)&&arraysEqual(this.upVec,p.upVec)};var m=vec3d.create();
this.computeUpOnSphere=function(){vec3d.subtract(this.lookAtPos,this.eyePos,m);var p=vec3d.length(this.lookAtPos);1>p?vec3d.set3(0,1,0,this.upVec):Math.abs(vec3d.dot(m,this.lookAtPos))>.9999*vec3d.length(m)*p||(vec3d.cross(m,this.lookAtPos,this.upVec),vec3d.cross(this.upVec,m,this.upVec),vec3d.normalize(this.upVec))}};ContinuousNavAction=function(){this.dir=vec3d.create();this.status=this.timer=this.vel=0;this.active=function(){return 0!==this.vel};this.stop=function(){this.status=this.vel=this.timer=
0;vec3d.set3(0,0,0,this.dir)};this.step=function(G){if(0<this.timer){G=Math.min(G,this.timer);var A=this.vel*G*(1-G/(2*this.timer));this.vel*=1-G/this.timer;this.timer-=G}else A=this.vel*G;return A}};Trackball=function(G,A,a,m,p){function t(Da,Ka,Ja){Ca=(Ca+1)%5;ta[Ca].time=Da;vec3d.set(Ka,ta[Ca].point);vec2.set(Ja,ta[Ca].pointScreen)}function n(Da){0>=fa||(m(Da,Aa,L,ra,wa),vec3d.subtract(wa,ra),raySphereClosestPositive(ra,wa,fa,Ra)||x(J.eyePos,ra,fa,Ra),q(ha,Ra,J,I,fa),t(Date.now(),Ra,Da),vec2d.set(Da,
va),z(),f(),ia())}function h(Da,Ka){vec3d.subtract(I.lookAtPos,I.eyePos,Ka);vec3d.cross(Ka,I.upVec);if(Da===PanDirection.LEFT||Da===PanDirection.RIGHT)vec3d.normalize(Ka),vec3d.cross(Ka,I.lookAtPos);Da!==PanDirection.RIGHT&&Da!==PanDirection.FORWARD||vec3d.negate(Ka);vec3d.normalize(Ka)}function c(){var Da=.5*Math.abs(vec3d.length(I.eyePos)-EARTH_RADIUS);Da=clamp(Da,1,2*EARTH_RADIUS);return Math.acos(1-Da*Da/(2*EARTH_RADIUS*EARTH_RADIUS))}function b(){mat4d.lookAt(E.eyePos,E.lookAtPos,E.upVec,K);
for(var Da=0;Da<S.length;++Da)void 0!==S[Da].currentViewChanged&&S[Da].currentViewChanged(E.eyePos,E.lookAtPos,E.upVec)}function e(){b();for(var Da=0;Da<S.length;++Da)void 0!==S[Da].currentViewReachedTarget&&S[Da].currentViewReachedTarget(E.eyePos,E.lookAtPos,E.upVec)}function f(){mat4d.lookAt(I.eyePos,I.lookAtPos,I.upVec,O);T=!1;for(var Da=0;Da<S.length;++Da)void 0!==S[Da].targetViewChanged&&S[Da].targetViewChanged(I.eyePos,I.lookAtPos,I.upVec)}function k(Da,Ka){var Ja=Array.prototype.slice.call(arguments);
Ja.shift();M.forEach(function(Va){void 0!==Va[Da]&&Va[Da].apply(this,Ja)})}function u(Da){if("globe"!==F&&void 0!==ua&&arraysEqual(Da,ya))return ua;m(Da,void 0,K,Ha,Oa);ua=a(Ha,Oa,Da);vec2d.set(Da,ya);return ua}function v(){return.1>vec3d.dist(E.eyePos,I.eyePos)&&.1>vec3d.dist(E.lookAtPos,I.lookAtPos)}function g(Da,Ka,Ja,Va){vec3d.cross(Da,Ka,Va);return-Math.acos(1-vec3d.dist2(Da,Ka)/(2*Ja*Ja))}function q(Da,Ka,Ja,Va,fb){void 0==fb&&(fb=vec3d.length(Da));assert(1E-4>Math.abs(vec3d.length(Da)-fb),
"Trackball.rotateCamWithPointsOnSphere: invalid radius");assert(1E-4>Math.abs(vec3d.length(Ka)-fb),"Trackball.rotateCamWithPointsOnSphere: invalid radius");Da=g(Da,Ka,fb,Ma);mat4d.identity(ja);mat4d.rotate(ja,Da,Ma);mat4d.multiplyVec3(ja,Ja.eyePos,Va.eyePos);mat4d.multiplyVec3(ja,Ja.lookAtPos,Va.lookAtPos);mat4d.multiplyVec3(ja,Ja.upVec,Va.upVec)}function x(Da,Ka,Ja,Va){vec3d.cross(Da,Ka,pa);vec3d.cross(pa,Da,Va);vec3d.scale(Va,1/vec3d.length(Va)*Ja);Da=-Math.asin(Ja/vec3d.length(Da));mat4d.identity(ja);
mat4d.rotate(ja,Da,pa);mat4d.multiplyVec3(ja,Va)}function w(Da,Ka){Ka[0]=Da[0]/U[0];Ka[1]=Da[1]/U[1]}function B(Da){return[Da[0],U[1]-Da[1]]}function z(){"globe"===F?I.computeUpOnSphere():vec3d.set3(0,1,0,I.upVec)}var C=1,y=3,D=8,F="default",H=1E4,E=new Camera(G,A,vec3d.createFrom(0,1,0)),I=E.copy(),J=new Camera(vec3d.create(),vec3d.create(),vec3d.create()),K=mat4d.create(),L=mat4d.create(),O=mat4d.create(),U=[100,100],S=[],M=[],N=new ContinuousNavAction;mat4d.lookAt(E.eyePos,E.lookAtPos,E.upVec,
K);var T=!1,V=new Trackball.DEFAULT_INTERPOLATION,ea=!0;this.setMode=function(Da){assert("default"===F||"globe"===F);F=Da;"globe"===F?(Trackball.DEFAULT_INTERPOLATION=Trackball.SPHERICAL_LINEAR_INTERPOLATION,Trackball.EASE_IN_OUT_INTERPOLATION=Trackball.EASE_IN_OUT_SHERICAL_INTERPOLATION,this.setMaxPoiDist(6*EARTH_RADIUS)):(Trackball.DEFAULT_INTERPOLATION=Trackball.LINEAR_INTERPOLATION,Trackball.EASE_IN_OUT_INTERPOLATION=Trackball.EASE_IN_OUT_LINEAR_INTERPOLATION);V=new Trackball.DEFAULT_INTERPOLATION};
this.setPickingEnabled=function(Da){ea=Da};this.requiresMaxPoiDist=function(){return"globe"!==F};this.setMaxPoiDist=function(Da){H=Da;for(Da=0;Da<S.length;++Da)void 0!==S[Da].poiDistRangeChanged&&S[Da].poiDistRangeChanged(4,H)};this.getMaxPoiDist=function(){return H};this.setWindowSize=function(Da){U=Da};this.step=function(Da){if(!E.equals(I))v()||V.interpolate(E,I,Da),v()?this.setCurrentToTarget():b();else if("globe"===F&&N.active()){Da=N.step(Da);var Ka=.01<vec3d.dot(N.dir,N.dir);if(0<Math.abs(N.radiusChange)){var Ja=
1+Da*N.radiusChange;vec3d.scale(I.lookAtPos,Ja);vec3d.scale(I.eyePos,Ja);N.vel=c();Ka||(f(),ia())}Ka&&(Ka=N.dir,mat4d.identity(ja),mat4d.rotate(ja,Da,Ka),mat4d.multiplyVec3(ja,I.eyePos),mat4d.multiplyVec3(ja,I.lookAtPos),mat4d.multiplyVec3(ja,I.upVec),z(),f(),ia())}};this.stop=function(){N.stop();v()||(I.copyFrom(E),f(),e())};this.setMomentumPanDuration=function(Da,Ka,Ja){C=Da;y=Ka;D=Ja};this.setInterpolation=function(Da){V=Da};this.getMatrix=function(){return K};this.getTargetMatrix=function(){return O};
this.addControlsListener=function(Da){assert(-1===M.indexOf(Da));M.push(Da)};this.removeControlsListener=function(Da){Da=M.indexOf(Da);assert(-1!==Da);M.splice(Da,1)};this.addCameraListener=function(Da){assert(-1===S.indexOf(Da));S.push(Da);return[4,H]};this.removeCameraListener=function(Da){Da=S.indexOf(Da);assert(-1!==Da);S.splice(Da,1)};var P=[3,1.5],ba=vec2d.create(),la=vec2d.create(),Q=vec3d.create(),Y=vec3d.create(),ja=mat4d.create(),pa=vec3d.create();this.beginInteractiveRotate=function(Da,
Ka){N.stop();T&&this.setPoiAuto(Da);w(Da,ba)};this.interactiveRotate=function(Da,Ka){if(Ka==PivotPoint.POI){var Ja=I.lookAtPos;var Va=I.eyePos}else Ka==PivotPoint.EYE?(Ja=I.eyePos,Va=I.lookAtPos):assert(!1,"Trackball.interactiveRotate: invalid pivot specified");k("tumble",I.eyePos,I.lookAtPos);"globe"===F?vec3d.normalize(Ja,Y):vec3d.set3(0,1,0,Y);w(Da,la);Da=(ba[1]-la[1])*P[Ka-1];var fb=(la[0]-ba[0])*P[Ka-1];vec3d.subtract(Va,Ja,Q);var bb=.5*Math.PI-Math.acos(vec3d.dot(Q,Y)/vec3d.length(Q)/vec3d.length(Y));
0<Da&&bb+Da>=.495*Math.PI?Da=.495*Math.PI-bb:0>Da&&bb+Da<=-.495*Math.PI&&(Da=-.495*Math.PI-bb);mat4d.identity(ja);vec3d.cross(Q,I.upVec,pa);mat4d.rotate(ja,Da,pa);Ka==PivotPoint.POI&&(fb=-fb);mat4d.rotate(ja,fb,Y);mat4d.multiplyVec3(ja,Q);vec3d.add(Ja,Q,Va);mat4d.multiplyVec3(ja,I.upVec);vec2d.set(la,ba);z();f();ia()};var ka=Math.PI/9,va=vec2d.create(),Aa=vec2d.create(),da=vec4d.create(),ca=vec3d.create(),ma=vec3d.create(),qa=vec3d.create();this.beginInteractivePan=function(Da){N.stop();k("panStart",
I.eyePos,I.lookAtPos);if("globe"===F)ea&&u(Da).getMinResult().getIntersectionPoint(ha)?fa=vec3d.length(ha):(fa=vec3d.length(I.lookAtPos),fa<.9*EARTH_RADIUS&&(fa=EARTH_RADIUS),m(Da,Da,K,ra,wa),vec3d.subtract(wa,ra),raySphereClosestPositive(ra,wa,fa,ha)||x(I.eyePos,ra,fa,ha)),t(Date.now(),ha,Da),vec2d.set(Da,va),vec2d.set(Da,Aa),J.copyFrom(I),mat4d.set(K,L);else{u(Da).getMinResult().getIntersectionPoint(ca)||vec3d.set(I.lookAtPos,ca);vec3d.normalize(vec3d.subtract(I.eyePos,I.lookAtPos,ma));0>ma[1]&&
vec3d.negate(ma);var Ka=Math.asin(ma[1]);Ka<ka?(ma[1]=0,vec3d.normalize(ma)):Ka>=ka?vec3d.set3(0,1,0,ma):(ma[1]=0,vec3d.normalize(ma),vec3d.set3(0,1,0,qa),vec3d.lerp(ma,qa,(Ka-ka)/(ka-ka)),vec3d.normalize(ma));createPlane(ca,ma,da);vec2d.set(Da,va);vec2d.set(Da,Aa)}};this.interactivePan=function(Da){k("pan",I.eyePos,I.lookAtPos);"globe"===F?n(Da):(m(va,Aa,K,ra,wa),vec3d.subtract(wa,ra),rayPlane(ra,wa,da,Ga)&&(m(Da,Aa,K,ra,wa),vec3d.subtract(wa,ra),rayPlane(ra,wa,da,Na)&&(vec3d.subtract(Na,Ga),vec3d.subtract(I.eyePos,
Na),vec3d.subtract(I.lookAtPos,Na),vec2d.set(Da,va),f(),ia())))};var ta=[];for(G=0;5>G;G++)ta[G]={point:vec3d.create(),pointScreen:vec2.create(),time:0};var Ca=0,ha=vec3d.create(),fa=0,ra=vec3d.create(),wa=vec3d.create(),Ga=vec3d.create(),Na=vec3d.create(),Ra=vec3d.create();this.endInteractivePan=function(Da){if("globe"===F)if(Date.now(),0<vec2.dist(va,Da)&&0<fa){n(Da);Da=Ca;do if(Da=(Da-1+5)%5,.2<ta[Ca].time-ta[Da].time)break;while(Ca!=Da);Da++;Da%=5;Da==Ca&&(Da=(Ca-1+5)%5);var Ka=.001*(ta[Ca].time-
ta[Da].time),Ja=g(ta[Da].point,ta[Ca].point,fa,N.dir);N.vel=Ja/Ka;Ja=vec2.create();var Va=vec2.create();w(ta[Da].pointScreen,Ja);w(ta[Ca].pointScreen,Va);Da=Math.min(vec2.dist(Ja,Va)/Ka/D,1);N.timer=C+Da*(y-C)}else this.setPoiAuto(Da);else this.setPoiAuto(Da);k("panEnd",I.eyePos,I.lookAtPos);fa=0};this.startContinuousPan=function(Da){"globe"===F&&(E.equals(I)||(I.copyFrom(E),f(),e()),0===N.status&&vec3d.set3(0,0,0,N.dir),N.status&Da||(N.status|=Da,Da&(PanDirection.LEFT|PanDirection.RIGHT|PanDirection.FORWARD|
PanDirection.BACKWARD)?(h(Da,pa),vec3d.add(N.dir,pa)):(Da=N.status&(PanDirection.UP|PanDirection.DOWN),N.radiusChange=Da==PanDirection.UP?1:Da==PanDirection.DOWN?-1:0),N.vel=c()),N.timer=0)};this.stopContinuousPan=function(Da){"globe"===F&&(N.status&=~Da,0===N.status?(N.stop(),N.radiusChange=0):Da&(PanDirection.LEFT|PanDirection.RIGHT|PanDirection.FORWARD|PanDirection.BACKWARD)?(h(Da,pa),vec3d.subtract(N.dir,pa),.01>vec3d.length(N.dir)&&vec3d.set3(0,0,0,N.dir)):(Da=N.status&(PanDirection.UP|PanDirection.DOWN),
N.radiusChange=Da==PanDirection.UP?1:Da==PanDirection.DOWN?-1:0))};var Sa=vec2d.create();this.zoomBegin=function(Da){N.stop();vec2d.set(Da,Aa);w(Da,Sa);k("zoomStart",B(Aa),I.eyePos,I.lookAtPos);"globe"===F?(ea&&u(Da).getMinResult().getIntersectionPoint(ha)?fa=vec3d.length(ha):(fa=vec3d.length(I.lookAtPos),fa<.9*EARTH_RADIUS&&(fa=EARTH_RADIUS),m(Da,Da,K,ra,wa),vec3d.subtract(wa,ra),raySphereClosestPositive(ra,wa,fa,ha)||(fa=0)),J.copyFrom(I)):(u(Da,!0).getMinResult().getIntersectionPoint(ca)||vec3d.set(I.lookAtPos,
ca),vec3d.normalize(vec3d.subtract(I.eyePos,I.lookAtPos,ma)),0>ma[1]&&vec3d.negate(ma),createPlane(ca,ma,da))};this.zoom=function(Da){if("globe"===F){I.copyFrom(J);vec3d.subtract(I.lookAtPos,I.eyePos,La);var Ka=vec3d.length(La);w(Da,ra);Da=Ka*Math.pow(2,12*(ra[1]-Sa[1]));Da=clamp(Da,4,H);if(Ka!=Da){if(Da<Ka){var Ja=1-(1-Da/Ka)*(1-fa/vec3d.length(I.lookAtPos));vec3d.scale(I.lookAtPos,Ja)}vec3d.scale(La,-Da/Ka);vec3d.add(I.lookAtPos,La,I.eyePos);Ka=!1;0<fa&&(mat4d.lookAt(I.eyePos,I.lookAtPos,I.upVec,
ja),m(Aa,Aa,ja,ra,wa),vec3d.normalize(vec3d.subtract(wa,ra)),raySphereClosestPositive(I.eyePos,wa,fa,Ra)||(x(I.eyePos,ra,fa,Ra),Ka=!0),q(ha,Ra,I,I,fa),z(),T=!0);f();ia();vec2d.set(Aa,va);Ka&&(mat4d.lookAt(I.eyePos,I.lookAtPos,I.upVec,ja),va=p(ha,ja));k("zoom",B(va),I.eyePos,I.lookAtPos)}}else vec3d.set(I.lookAtPos,W),Ka=!1,m(Aa,Aa,K,ra,wa),vec3d.subtract(wa,ra),Ka=rayPlane(ra,wa,da,W),vec3d.subtract(W,I.eyePos,La),w(Da,ra),Da=4*(ra[1]-Sa[1]),vec2d.set(ra,Sa),Ja=vec3d.length(La)*(1-Da),0<=Da&&4>Ja||
0>Da&&Ja>H||(vec3d.scale(La,Da),vec3d.add(I.eyePos,La),vec3d.lerp(I.lookAtPos,W,Da),z(),f(),ia(),Ka&&(T=!0),k("zoom",B(Aa),I.eyePos,I.lookAtPos))};this.zoomEnd=function(Da){k("zoomEnd",B(Aa),I.eyePos,I.lookAtPos)};this.zoomStep=function(Da,Ka){N.stop();if("globe"===F){vec3d.set(I.lookAtPos,W);var Ja=!1;if(0<Da)if(ea)Ja=u(Ka).getMinResult().getIntersectionPoint(W);else{var Va=vec3d.length(I.lookAtPos);Va<.9*EARTH_RADIUS&&(Va=EARTH_RADIUS);m(Ka,Ka,K,ra,wa);vec3d.subtract(wa,ra);raySphereClosestPositive(ra,
wa,Va,W)&&(Ja=!0)}Va=vec3d.length(W);vec3d.subtract(I.eyePos,I.lookAtPos,Q);var fb=.0015*Da,bb=vec3d.length(Q)*(1-fb);0<=Da&&4>bb||0>Da&&bb>H||(Ja&&(Da=1-fb*(1-Va/vec3d.length(I.lookAtPos)),vec3d.scale(I.lookAtPos,Da)),vec3d.scale(Q,1-fb),vec3d.add(I.lookAtPos,Q,I.eyePos),Ja&&(mat4d.lookAt(I.eyePos,I.lookAtPos,I.upVec,ja),m(Ka,Aa,ja,ra,wa),vec3d.normalize(vec3d.subtract(wa,ra)),Va<vec3d.length(I.eyePos)&&raySphereClosestPositive(I.eyePos,wa,Va,Ra)?q(W,Ra,I,I,Va):Ja=!1),Ja&&(z(),T=!0),f())}else vec3d.set(I.lookAtPos,
W),Ja=!1,0<Da&&(Ja=u(Ka).getMinResult().getIntersectionPoint(W)),vec3d.subtract(W,I.eyePos,La),Ka=.0015*Da,Va=vec3d.length(La)*(1-Ka),0<=Da&&4>Va||0>Da&&Va>H||(vec3d.scale(La,Ka),vec3d.add(I.eyePos,La),vec3d.lerp(I.lookAtPos,W,Ka),z(),f(),Ja&&(T=!0))};var La=vec3d.create(),W=vec3d.create();this.adjustViewDirection=function(Da){N.stop();if("globe"===F){var Ka=vec3d.create();if(Da&ViewDirectionFlags.NORTH){var Ja=vec3d.create();vec3d.normalize(I.lookAtPos,Ja);var Va=vec3d.create();vec3d.subtract(I.lookAtPos,
I.eyePos,Va);vec3d.normalize(Va);.99<Math.abs(vec3d.dot(Va,Ja))&&vec3d.set(I.upVec,Va);vec3d.scale(Ja,vec3d.dot(Ja,Va),Ka);vec3d.subtract(Va,Ka);var fb=vec3d.create();vec3d.set3(0,EARTH_RADIUS,0,fb);vec3d.subtract(fb,I.lookAtPos);vec3d.scale(Ja,vec3d.dot(Ja,fb),Ka);vec3d.subtract(fb,Ka);vec3d.normalize(fb);vec3d.cross(Va,fb,Ka);sign=0>vec3d.dot(Ja,Ka)?-1:1;Va=vec3d.dot(Va,fb)/vec3d.length(Va);1>Math.abs(Va)&&(Va=sign*Math.acos(Va),mat4d.identity(ja),mat4d.rotate(ja,Va,Ja),mat4d.multiplyVec3(ja,I.eyePos))}Da&
ViewDirectionFlags.PERP&&(Ja=vec3d.create(),vec3d.subtract(I.eyePos,I.lookAtPos,Ja),vec3d.normalize(Ja),Va=vec3d.create(),vec3d.normalize(I.lookAtPos,Va),Da=vec3d.create(),vec3d.cross(Ja,Va,Da),Va=Math.acos(vec3d.dot(Ja,Va)),vec3d.negate(I.lookAtPos,Ka),mat4d.identity(ja),mat4d.translate(ja,I.lookAtPos),mat4d.rotate(ja,Va,Da),mat4d.translate(ja,Ka),mat4d.multiplyVec3(ja,I.eyePos,Ka),vec3d.lerp(I.eyePos,Ka,.999));I.computeUpOnSphere()}else Ka=vec3d.create(),Da&ViewDirectionFlags.NORTH&&(Va=vec3d.create(),
vec3d.subtract(I.lookAtPos,I.eyePos,Va),Va[1]=0,Ja=0>I.lookAtPos[0]-I.eyePos[0]?-1:1,Va=-Va[2]/vec3.length(Va),1>Math.abs(Va)&&(Ja*=Math.acos(Va),vec3d.negate(I.lookAtPos,Ka),mat4d.identity(ja),mat4d.translate(ja,I.lookAtPos),mat4d.rotateY(ja,Ja),mat4d.translate(ja,Ka),mat4d.multiplyVec3(ja,I.eyePos))),Da&ViewDirectionFlags.PERP&&(Da=vec3d.dist(I.lookAtPos,I.eyePos),vec3d.scale(I.upVec,Da,Ka),vec3d.add(Ka,I.lookAtPos),vec3d.lerp(I.eyePos,Ka,.999));f()};this.frame=function(Da,Ka){N.stop();Ka=Math.max(Ka,
4);if(1E5>Ka){if("globe"===F){var Ja=vec3d.length(E.lookAtPos);vec3d.scale(Da,Ja/vec3d.length(Da),ca);q(ca,E.lookAtPos,E,I,Ja)}vec3d.subtract(I.eyePos,I.lookAtPos,Q);vec3d.normalize(Q);vec3d.scale(Q,Ka);vec3d.add(Da,Q,I.eyePos)}else"globe"===F?(vec3d.normalize(Da,Y),Y[1]-=.1):vec3d.set3(0,1,.1,Y),vec3d.scale(Y,Ka,I.eyePos),vec3d.add(I.eyePos,Da);vec3d.set(Da,I.lookAtPos);z();f()};this.setEyeAndCenter=function(Da,Ka){N.stop();vec3d.set(Da,I.eyePos);vec3d.set(Ka,I.lookAtPos);z();f()};this.getEyeAndCenter=
function(){return[I.eyePos,I.lookAtPos]};this.getCurrentEyeAndCenter=function(){return[E.eyePos,E.lookAtPos]};this.getEyeCenterUp=function(){return[I.eyePos,I.lookAtPos,I.upVec]};this.getCurrentEyeCenterUp=function(){return[E.eyePos,E.lookAtPos,E.upVec]};var ia=this.setCurrentToTarget=function(){E.copyFrom(I);e()},sa=vec3d.create(),X=vec3d.create(),na=vec3d.create();this.setPoiAuto=function(Da){var Ka=a(I.eyePos,I.lookAtPos,Da);if(ea){if(!Ka.getMinResult().getIntersectionPoint(sa)||!Ka.getMaxResult().getIntersectionPoint(X))return;
Da=Ka.getMinResult().dist-5;var Ja=Ka.getMaxResult().dist+5}else{vec3d.subtract(I.lookAtPos,I.eyePos,ra);if(!raySphereClosestPositive(I.eyePos,ra,EARTH_RADIUS,sa))return;Da=Ja=vec3d.dist(sa,I.eyePos)}var Va=vec3d.dist(I.eyePos,I.lookAtPos);if(Va<=Da||Va>=Ja)"globe"===F?this.setEyeAndCenter(I.eyePos,sa):(Ka.getMaxResult().dist=void 0,Ka.intersectObject(Ka.getMinResult().object),assert(void 0!==Ka.getMaxResult().dist),Ka.getMaxResult().getIntersectionPoint(X),vec3d.lerp(sa,X,.5,na),this.setEyeAndCenter(I.eyePos,
na)),this.setCurrentToTarget()};var ua=void 0,ya=vec2d.createFrom(-1,-1),Ha=vec3d.create(),Oa=vec3d.create(),Ma=vec3d.create();vec3d.cross(J.eyePos,wa,pa);vec3d.cross(pa,J.eyePos,Ra);vec3d.scale(Ra,1/vec3d.length(Ra)*fa);G=-Math.asin(fa/vec3d.length(J.eyePos));mat4d.identity(ja);mat4d.rotate(ja,G,pa);mat4d.multiplyVec3(ja,Ra)};Trackball.SMALL_ANGLE=1E-4;Trackball.LINEAR_INTERPOLATION=function(){this.interpolate=function(G,A,a){a=Math.min(5*a,.3);vec3d.lerp(G.eyePos,A.eyePos,a,G.eyePos);vec3d.lerp(G.lookAtPos,
A.lookAtPos,a,G.lookAtPos);vec3d.lerp(G.upVec,A.upVec,a,G.upVec)}};Trackball.EASE_IN_OUT_LINEAR_INTERPOLATION=function(G,A){G=G||250;A=A||G;var a=0,m=0,p=0;this.interpolate=function(n,h,c){a=t(n.eyePos,h.eyePos,c,a);m=t(n.lookAtPos,h.lookAtPos,c,m);p=t(n.upVec,h.upVec,c,p)};var t=function(n,h,c,b){var e=vec3d.dist(n,h);if(.1>e)return vec3d.set(h,n),0;b=Math.min(b+A*c,Math.min(Math.sqrt(e*A),G));vec3d.lerp(n,h,Math.min(b/e*c,1));return b};this.calculateInterpolationTime=function(n){var h=Math.min(n/
2,Math.pow(G,2)/(2*A));return 2*Math.sqrt(2*h/A)+(n-2*h)/G}};Trackball.SPHERICAL_LINEAR_INTERPOLATION=function(){this.interpolate=function(G,A,a){a=Math.min(5*a,.3);slerpOrLerp(G.lookAtPos,A.lookAtPos,a,G.lookAtPos,Trackball.SMALL_ANGLE);slerpOrLerp(G.eyePos,A.eyePos,a,G.eyePos,Trackball.SMALL_ANGLE);slerp(G.upVec,A.upVec,a);G.computeUpOnSphere()}};Trackball.EASE_IN_OUT_SHERICAL_INTERPOLATION=function(G,A){G=G||250;A=A||G;var a=0,m=0;this.interpolate=function(t,n,h){a=p(t.eyePos,n.eyePos,h,a);m=p(t.lookAtPos,
n.lookAtPos,h,m);t.computeUpOnSphere()};var p=function(t,n,h,c){var b=vec3d.dist(t,n);if(.1>b)return vec3d.set(n,t),0;c=Math.min(c+A*h,Math.min(Math.sqrt(b*A),G));slerpOrLerp(t,n,Math.min(c/b*h,1),t,Trackball.SMALL_ANGLE);return c};this.calculateInterpolationTime=function(t){var n=Math.min(t/2,Math.pow(G,2)/(2*A));return 2*Math.sqrt(2*n/A)+(t-2*n)/G}};Trackball.DEFAULT_INTERPOLATION=Trackball.LINEAR_INTERPOLATION;Trackball.EASE_IN_OUT_INTERPOLATION=Trackball.EASE_IN_OUT_LINEAR_INTERPOLATION})},"engine/parts/DualVisualizer":function(){define(["engine/lib/Renderer",
"engine/lib/SSAOHelper","engine/lib/ShadowMap","engine/lib/Util","engine/lib/gl-matrix"],function(){return function(G,A,a,m,p){function t(D,F,H,E,I,J){var K=Math.round(F[2]*g);K=Math.max(K,2);K=Math.min(K,F[2]-2);var L=1/g,O=1/(1-g),U=-O*g;h(D,L*(1-g),L,H);vec4.set4(F[0],F[1],K,F[3],E);h(D,U,O,I);vec4.set4(F[0]+K,F[1],F[2]-K,F[3],J)}function n(D,F,H,E,I,J,K,L,O,U,S,M){if(U.getEnableState()){U.prepare(D,F,J,L,K);J=U.getCascades();for(L=0;L<J.length;++L){var N=J[L],T=N.viewport;p.viewport(T[0],T[1],
T[2],T[3]);O.renderSimple(N.mvMat,N.projMat,N.nearFar,K,"materialDepth",T)}U.finish(M)}U.bind(G.get("default"));U.bind(G.get("defaultTextured"));U.bind(G.get("defaultTexturedRefl"));U.bind(G.get("water"));p.viewport(E[0],E[1],E[2],E[3]);S.getEnableState()&&(S.prepare0(E),O.renderSimple(D,F,H,K,"materialNormal",E),S.prepare1(),O.renderSimple(D,F,H,K,"materialDepth",E),S.finish(H,I,M));S.setUniforms(G.get("default"));S.setUniforms(G.get("defaultTextured"));O.render(D,F,H,K,E,U,M)}function h(D,F,H,E){mat4.identity(E);
mat4.translate(E,[F,0,0],E);mat4.scale(E,[H,1,1],E);mat4.multiply(E,D,E)}function c(D,F,H,E){D[H](E);F[H](E)}var b=new Renderer(G,A,a,m,p),e=new Renderer(G,A,a,m,p),f=new ShadowMap(G,p),k=new ShadowMap(G,p),u=new SSAOHelper(G,m,p),v=new SSAOHelper(G,m,p),g=.5,q={},x={};this.getCombinedStats=function(){return b.getCombinedStats()};this.dispose=function(){b.dispose();e.dispose();f.getEnableState()&&f.disable();k.getEnableState()&&k.disable();u.getEnableState()&&u.disable();v.getEnableState()&&v.disable()};
this.setLightingData=function(D){c(b,e,"setLightingData",D)};this.getLightingData=function(){return b.getLightingData()};this.getViewParams=function(D){return{centerLinePos:g}};this.setViewParams=function(D,F){void 0!==D.centerLinePos&&(verify(0<D.centerLinePos&&1>D.centerLinePos,"centerLinePos should be within range ]0, 1["),g=Math.min(Math.max(D.centerLinePos,.01),.99))};this.setRenderParams=function(D){void 0!==D.shadowMapResolution&&!1===f.getEnableState()&&c(f,k,"setTextureResolution",D.shadowMapResolution);
void 0!==D.shadowMap&&D.shadowMap!==f.getEnableState()&&c(f,k,"setEnableState",D.shadowMap);void 0!==D.shadowMapMaxCascades&&c(f,k,"setMaxNumCascades",D.shadowMapMaxCascades);void 0!==D.ssao&&D.ssao!==u.getEnableState()&&c(u,v,"setEnableState",D.ssao);void 0!==D.ssaoAttenuation&&c(u,v,"setAttenuation",D.ssaoAttenuation);void 0!==D.ssaoRadius&&c(u,v,"setRadius",D.ssaoRadius);void 0!==D.ssaoFilterRadius&&c(u,v,"setFilterRadius",D.ssaoFilterRadius);void 0!==D.ssaoSamples&&c(u,v,"setSamples",D.ssaoSamples)};
this.getRenderParams=function(){var D={};f.getIsSupported()&&(D.shadowMap=f.getEnableState(),D.shadowMapResolution=f.getTextureResolution(),D.shadowMapMaxCascades=f.getMaxNumCascades());u.getIsSupported()&&(D.ssao=u.getEnableState(),D.ssaoAttenuation=u.getAttenuation(),D.ssaoRadius=u.getRadius(),D.ssaoFilterRadius=u.getFilterRadius(),D.ssaoSamples=u.getSamples());return D};this.modify=function(D,F,H,E){E=1!==E;(E?b:e).modify(D,F,H);H=E?q:x;E=0;for(var I=F.length;E<I;++E)delete H[F[E].uniqueName];
E=0;for(I=D.length;E<I;++E)H[D[E].uniqueName]=D[E]};this.getContent=function(){return mergeObjects(q,x)};this.getPickRay=function(D,F,H,E,I,J,K,L,O){vec3d.unproject(vec3d.createFrom(D[0],D[1],0),H,E,J,L);vec3d.unproject(vec3d.createFrom(D[0],D[1],1),H,E,J,O)};this.getSideIndexForPoint=function(D,F){return D[0]<F[2]*g?0:1};this.getProjectionMatrix=function(D,F,H,E,I){F=fovx2fovy(F,D[2],D[3]);mat4.perspective(180*F/Math.PI,D[2]/D[3],H,E,I)};this.setSelectionObject=function(D){c(b,e,"setSelectionObject",
D)};this.setHighlightObjects=function(D){c(b,e,"setHighlightObjects",D)};var w=mat4.create(),B=vec4.create(),z=mat4.create(),C=vec4.create(),y=vec4d.create();this.world2screen=function(D,F,H,E,I,J){t(F,E,w,B,z,C);F=[];for(H=0;2>H;++H)E=0===H?w:z,I=0===H?B:C,vec4d.set4(J[0],J[1],J[2],1,y),mat4d.multiplyVec4(D,y),mat4d.multiplyVec4(E,y),vec3d.scale(y,1/y[3]),F[H]={onScreen:!(-1>y[0]||-1>y[1]||-1>y[2]||1<=y[0]||1<=y[1]||1<=y[2]),screenCoords:vec2d.createFrom(lerp(0,I[2],.5+.5*y[0]),lerp(0,I[3],.5+.5*
y[1])),screenCoordOrigin:vec2d.createFrom(I[0],I[1])};return F};this.render=function(D,F,H,E,I,J,K,L){t(F,E,w,B,z,C);n(D,w,H,B,g*I,J,K,q,b,f,u,L);n(D,z,H,C,(1-g)*I,J,K,x,e,k,v,L);p.viewport(E[0],E[1],E[2],E[3])}}})},"engine/lib/ShadowMap":function(){define(["engine/lib/GLUtil","engine/lib/GLVBO","engine/lib/Util","engine/lib/gl-matrix"],function(){ShadowMap=function(a,m){function p(va,Aa){vec3d.set3(va[Aa],va[Aa+3],va[Aa+6],ja);return ja}for(var t=void 0,n=4096,h=void 0,c=void 0,b=glCreateEmptyTexture(m),
e=new NearFarHelper,f=1,k=2,u=[0,0,0,0,0],v=function(){this.mvMat=mat4d.create();this.projMat=mat4d.create();this.nearFar=vec2d.create();this.lightMat=mat4d.create();this.viewport=vec4d.create()},g=[],q=0;4>q;++q)g[q]=new v;this.getIsSupported=function(){return m.getExtension("OES_standard_derivatives")};this.setTextureResolution=function(va){n=va};this.getTextureResolution=function(){return n};this.setMaxNumCascades=function(va){k=clamp(Math.floor(va),1,4)};this.getMaxNumCascades=function(){return k};
this.setEnableState=function(va){assert(va!==this.getEnableState());va?this.enable():this.disable()};this.getEnableState=function(){return void 0!==t};this.enable=function(){assert(!this.getEnableState());assert(this.getIsSupported(),"Shadow maps not supported");t=m.createTexture();m.bindTexture(m.TEXTURE_2D,t);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,
m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,n,n,0,m.RGBA,m.UNSIGNED_BYTE,null);h=m.createRenderbuffer();m.bindRenderbuffer(m.RENDERBUFFER,h);m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,n,n);c=m.createFramebuffer();m.bindFramebuffer(m.FRAMEBUFFER,c);m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,t,0);m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,h);glCheckFramebufferStatus(m.FRAMEBUFFER,m);m.bindRenderbuffer(m.RENDERBUFFER,
null);m.bindFramebuffer(m.FRAMEBUFFER,null)};this.disable=function(){assert(this.getEnableState());m.deleteFramebuffer(c);m.deleteRenderbuffer(h);m.deleteTexture(t);t=h=c=void 0};var x=mat4d.create(),w=mat4d.create(),B=vec4d.create(),z=Array(8);for(q=0;8>q;++q)z[q]=vec4d.create();var C=vec3d.create(),y=vec3d.create(),D=vec2d.create(),F=vec2d.create(),H=vec2d.create(),E=vec2d.create(),I=vec2d.create(),J=mat4d.create(),K=vec3d.create();this.prepare=function(va,Aa,da,ca,ma){assert(this.getEnableState());
mat4d.multiply(Aa,va,x);ca=e.computeSceneNearFar(va,Aa,x,ca,ma);var qa=ca[0],ta=ca[1];2>qa&&(qa=2);2>ta&&(ta=2);qa>=ta&&(qa=2,ta=4);f=Math.min(1+Math.floor(logWithBase(ta/qa,4)),k);ma=Math.pow(ta/qa,1/f);for(ca=0;ca<f+1;++ca)u[ca]=qa*Math.pow(ma,ca);mat4d.inverse(x,w);mat4d.lookAt([0,0,0],[-da[0],-da[1],-da[2]],[0,1,0],J);for(ca=0;ca<f;++ca){ma=g[ca];ta=-u[ca];qa=-u[ca+1];ta=(Aa[10]*ta+Aa[14])/Math.abs(Aa[11]*ta+Aa[15]);qa=(Aa[10]*qa+Aa[14])/Math.abs(Aa[11]*qa+Aa[15]);assert(ta<qa);for(var Ca=0;8>
Ca;++Ca){vec4d.set4(0==Ca%4||3==Ca%4?-1:1,0==Ca%4||1==Ca%4?-1:1,4>Ca?ta:qa,1,B);mat4d.multiplyVec4(w,B,z[Ca]);for(var ha=0;3>ha;++ha)z[Ca][ha]/=z[Ca][3]}vec3d.negate(z[0],K);mat4d.translate(J,K,ma.mvMat);for(Ca=0;8>Ca;++Ca)mat4d.multiplyVec3(ma.mvMat,z[Ca]);vec3d.set(z[0],C);vec3d.set(z[0],y);for(Ca=1;8>Ca;++Ca)for(ha=0;3>ha;++ha)C[ha]=Math.min(C[ha],z[Ca][ha]),y[ha]=Math.max(y[ha],z[Ca][ha]);C[2]-=200;y[2]+=200;vec2d.set2(-y[2],-C[2],ma.nearFar);qa=1/z[0][3];ta=1/z[4][3];assert(qa<ta);ha=qa+Math.sqrt(qa*
ta);Ca=Math.sin(Math.acos(va[2]*da[0]+va[6]*da[1]+va[10]*da[2]));ha/=Ca;var fa=void 0,ra=void 0;qa=z;var wa=ha;fa=Ca;Ca=D;var Ga=F,Na=H,Ra=E;ha=I;vec2d.set2(0,0,M);for(var Sa=0;4>Sa;++Sa)vec2d.add(M,qa[Sa],M);vec2d.scale(M,.25);vec2d.set2(0,0,N);for(Sa=4;8>Sa;++Sa)vec2d.add(N,qa[Sa],N);vec2d.scale(N,.25);vec2d.lerp(qa[4],qa[5],.5,T[0]);vec2d.lerp(qa[5],qa[6],.5,T[1]);vec2d.lerp(qa[6],qa[7],.5,T[2]);vec2d.lerp(qa[7],qa[4],.5,T[3]);ra=0;var La=vec2d.dist2(T[0],M);for(Sa=1;4>Sa;++Sa){var W=vec2d.dist2(T[Sa],
M);W<La&&(La=W,ra=Sa)}vec2d.subtract(T[ra],qa[ra+4],V);Sa=V[0];V[0]=-V[1];V[1]=Sa;vec2d.subtract(N,M,ea);vec2d.lerp(V,ea,fa);vec2d.normalize(V);ra=fa=vec2d.dot(vec2d.subtract(qa[0],M,P),V);for(Sa=1;8>Sa;++Sa)La=vec2d.dot(vec2d.subtract(qa[Sa],M,P),V),La<ra?ra=La:La>fa&&(fa=La);vec2d.set(M,Ca);vec2d.scale(V,ra-wa,P);vec2d.add(Ca,P,Ca);W=-1;var ia=1;for(Sa=wa=La=0;8>Sa;++Sa){vec2d.subtract(qa[Sa],Ca,ba);vec2d.normalize(ba);var sa=V[0]*ba[1]-V[1]*ba[0];0<sa?sa>W&&(W=sa,La=Sa):sa<ia&&(ia=sa,wa=Sa)}verify(0<
W,"leftArea");verify(0>ia,"rightArea");vec2d.scale(V,ra,la);vec2d.add(la,M,la);vec2d.scale(V,fa,Q);vec2d.add(Q,M,Q);Y[0]=-V[1];Y[1]=V[0];Ga=rayRay2D(Ca,qa[wa],Q,vec2d.add(Q,Y,P),1,Ga);Na=rayRay2D(Ca,qa[La],Q,P,1,Na);Ra=rayRay2D(Ca,qa[La],la,vec2d.add(la,Y,P),1,Ra);qa=rayRay2D(Ca,qa[wa],la,P,1,ha);verify(Ga,"rayRay");verify(Na,"rayRay");verify(Ra,"rayRay");verify(qa,"rayRay");Na=D;qa=F;Ca=E;Ra=I;ha=ma.projMat;vec2d.scale(vec2d.subtract(Ca,Ra,pa),.5);ka[0]=pa[0];ka[1]=pa[1];ka[2]=0;ka[3]=pa[1];ka[4]=
-pa[0];ka[5]=0;ka[6]=pa[0]*pa[0]+pa[1]*pa[1];ka[7]=pa[0]*pa[1]-pa[1]*pa[0];ka[8]=1;ka[6]=-vec2d.dot(p(ka,0),Na);ka[7]=-vec2d.dot(p(ka,1),Na);Na=vec2d.dot(p(ka,0),Ca)+ka[6];Ga=vec2d.dot(p(ka,1),Ca)+ka[7];Sa=vec2d.dot(p(ka,0),Ra)+ka[6];Ra=vec2d.dot(p(ka,1),Ra)+ka[7];Na=-(Na+Sa)/(Ga+Ra);ka[0]+=ka[1]*Na;ka[3]+=ka[4]*Na;ka[6]+=ka[7]*Na;Na=1/(vec2d.dot(p(ka,0),Ca)+ka[6]);Ga=1/(vec2d.dot(p(ka,1),Ca)+ka[7]);ka[0]*=Na;ka[3]*=Na;ka[6]*=Na;ka[1]*=Ga;ka[4]*=Ga;ka[7]*=Ga;ka[2]=ka[1];ka[5]=ka[4];ka[8]=ka[7];ka[7]+=
1;Na=vec2d.dot(p(ka,1),qa)+ka[7];Ga=vec2d.dot(p(ka,2),qa)+ka[8];Sa=vec2d.dot(p(ka,1),Ca)+ka[7];Ra=vec2d.dot(p(ka,2),Ca)+ka[8];Na=-.5*(Na/Ga+Sa/Ra);ka[1]+=ka[2]*Na;ka[4]+=ka[5]*Na;ka[7]+=ka[8]*Na;Na=vec2d.dot(p(ka,1),qa)+ka[7];Ga=vec2d.dot(p(ka,2),qa)+ka[8];Sa=-Ga/Na;ka[1]*=Sa;ka[4]*=Sa;ka[7]*=Sa;ha[0]=ka[0];ha[1]=ka[1];ha[2]=0;ha[3]=ka[2];ha[4]=ka[3];ha[5]=ka[4];ha[6]=0;ha[7]=ka[5];ha[8]=0;ha[9]=0;ha[10]=1;ha[11]=0;ha[12]=ka[6];ha[13]=ka[7];ha[14]=0;ha[15]=ka[8];ma.projMat[10]=2/(C[2]-y[2]);ma.projMat[14]=
-(C[2]+y[2])/(C[2]-y[2]);mat4d.multiply(ma.projMat,ma.mvMat,ma.lightMat);qa=n/2;ma.viewport[0]=0===ca%2?0:qa;ma.viewport[1]=0===Math.floor(ca/2)?0:qa;ma.viewport[2]=qa;ma.viewport[3]=qa}u[f]=100*ta;m.bindFramebuffer(m.FRAMEBUFFER,c);m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT)};var L=[];this.getCascades=function(){for(var va=0;va<f;++va)L[va]=g[va];L.length=f;return L};this.finish=function(va){assert(this.getEnableState());m.useProgram(null);m.bindFramebuffer(m.FRAMEBUFFER,va)};this.bind=function(va){var Aa=
this.getEnableState();m.activeTexture(m.TEXTURE3);m.bindTexture(m.TEXTURE_2D,Aa?t:b);m.activeTexture(m.TEXTURE0);va.use();va.uniform1i("depthTex",3);va.uniform1f("depthHalfPixelSz",Aa?.5/n:-1);va.uniform1i("shadowMapNum",f);va.uniform4f("shadowMapDistance",u[0],u[1],u[2],u[3])};var O=mat4.create(),U=new Float32Array(64);this.bindView=function(va,Aa){if(this.getEnableState()){mat4.translate(g[0].lightMat,Aa,O);for(var da=0;16>da;++da)U[da]=O[da];mat4.translate(g[1].lightMat,Aa,O);for(da=0;16>da;++da)U[16+
da]=O[da];mat4.translate(g[2].lightMat,Aa,O);for(da=0;16>da;++da)U[32+da]=O[da];mat4.translate(g[3].lightMat,Aa,O);for(da=0;16>da;++da)U[48+da]=O[da];va.uniformMatrix4fv("shadowMapMatrix",U)}};v=new Float32Array(16);v[0]=0;v[1]=0;v[2]=0;v[3]=0;v[4]=256;v[5]=0;v[6]=1;v[7]=0;v[8]=0;v[9]=256;v[10]=0;v[11]=1;v[12]=256;v[13]=256;v[14]=1;v[15]=1;q={};q[VertexAttrConstants.POSITION]=0;q[VertexAttrConstants.UV0]=2;var S=new GLVBO(v,q,4,m);this.drawDebugQuad=function(va){assert(this.getEnableState());var Aa=
a.get("showDepth");m.disable(m.DEPTH_TEST);Aa.use();Aa.uniformMatrix4fv("proj",va);Aa.uniform1i("depthTex",0);m.bindTexture(m.TEXTURE_2D,t);Aa.enableVertexAttribArrays();S.bind();S.setPointers(Aa);m.drawArrays(m.TRIANGLE_STRIP,0,S.getNum());m.bindBuffer(m.ARRAY_BUFFER,null);Aa.disableVertexAttribArrays();m.useProgram(null);m.enable(m.DEPTH_TEST)};var M=vec2d.create(),N=vec2d.create(),T=[vec2d.create(),vec2d.create(),vec2d.create(),vec2d.create()],V=vec2d.create(),ea=vec2d.create(),P=vec2d.create(),
ba=vec2d.create(),la=vec2d.create(),Q=vec2d.create(),Y=vec2d.create(),ja=vec3d.create(),pa=vec2d.create(),ka=mat3d.create()};NearFarHelper=function(){var a=[],m=[],p=[],t=[],n=[],h=new G;this.computeSceneNearFar=function(c,b,e,f,k){var u=c[2],v=c[6],g=c[10],q=c[14],x=0,w;for(w in f){var B=f[w];if(B.castShadow&&k.get(B.idx)){var z=B.bsRadius,C=B.center,y=u*C[0]+v*C[1]+g*C[2]+q;C=y-z;z=y+z;a[x]=B;m[x]=-z;p[x]=-C;++x}}B=Number.MAX_VALUE;u=-Number.MAX_VALUE;if(0===x)return[B,u];for(w=0;w<x;++w)m[w]>u&&
(u=m[w]),2<m[w]&&p[w]<B&&(B=p[w]);v=Math.max(.5*B,2);g=2*u;for(w=k=f=0;w<x;++w)m[w]<B&&(m[w]>=v?B=m[w]:t[f++]=w),p[w]>u&&(p[w]<=g?u=p[w]:n[k++]=w);if(0===f&&0===k)return[B,u];t.length=f;n.length=k;t.sort(function(D,F){return m[D]<m[F]?-1:m[D]>m[F]?1:0});n.sort(function(D,F){return p[D]<p[F]?1:p[D]>p[F]?-1:0});x={bestNear:B,bestFar:u,bestNear2:v,bestFar2:g};h.init(c,b,e,x);for(w=0;w<f;++w)m[t[w]]<x.bestNear&&(B=a[t[w]],c=B.boundingInfo,h.includeNearBoundingInfoRec(c,B.transformation));for(w=0;w<k;++w)p[n[w]]>
x.bestFar&&(B=a[n[w]],c=B.boundingInfo,h.includeFarBoundingInfoRec(c,B.transformation));return[x.bestNear,x.bestFar]}};var G=function(){for(var a=0,m=0,p=0,t=0,n=0,h=0,c=0,b=0,e=0,f=0,k=0,u=0,v=0,g=0,q=0,x=0,w=0,B=0,z=0,C=0,y=void 0,D=void 0,F=new A,H=Array(6),E=0;6>E;++E)H[E]=vec4d.create();var I=vec3.create();this.init=function(J,K,L,O){matrix2frustumPlanes(J,K,H);a=H[0][0];m=H[0][1];p=H[0][2];t=H[0][3];n=H[1][0];h=H[1][1];c=H[1][2];b=H[1][3];e=H[2][0];f=H[2][1];k=H[2][2];u=H[2][3];v=H[3][0];g=
H[3][1];q=H[3][2];x=H[3][3];w=J[2];B=J[6];z=J[10];C=J[14];y=L;D=O;F.init(O)};this.includeNearBoundingInfoRec=function(J,K){var L=J.getBSRadius(),O=J.getCenter();mat4.multiplyVec3(K,O,I);O=I[0];var U=I[1],S=I[2];L*=Math.sqrt(Math.max(Math.max(K[0]*K[0]+K[4]*K[4]+K[8]*K[8],K[1]*K[1]+K[5]*K[5]+K[9]*K[9]),K[2]*K[2]+K[6]*K[6]+K[10]*K[10]));if(!(a*O+m*U+p*S+t>L||n*O+h*U+c*S+b>L||e*O+f*U+k*S+u>L||v*O+g*U+q*S+x>L||(O=w*O+B*U+z*S+C,U=O+L,2>-(O-L)||-U>=D.bestNear)))if(-U>D.bestNear2)D.bestNear=-U;else{if(100<
L&&(L=J.getChildren(),void 0!==L)){for(J=0;8>J;++J)void 0!==L[J]&&this.includeNearBoundingInfoRec(L[J],K);return}F.intersectFrustumAABB(y,K,J.getBBMin(),J.getBBMax())}};this.includeFarBoundingInfoRec=function(J,K){var L=J.getBSRadius(),O=J.getCenter();mat4.multiplyVec3(K,O,I);O=I[0];var U=I[1],S=I[2];L*=Math.sqrt(Math.max(Math.max(K[0]*K[0]+K[4]*K[4]+K[8]*K[8],K[1]*K[1]+K[5]*K[5]+K[9]*K[9]),K[2]*K[2]+K[6]*K[6]+K[10]*K[10]));if(!(a*O+m*U+p*S+t>L||n*O+h*U+c*S+b>L||e*O+f*U+k*S+u>L||v*O+g*U+q*S+x>L||
(O=w*O+B*U+z*S+C-L,-O<=D.bestFar)))if(-O<D.bestFar2)D.bestFar=-O;else{if(100<L&&(L=J.getChildren(),void 0!==L)){for(J=0;8>J;++J)void 0!==L[J]&&this.includeFarBoundingInfoRec(L[J],K);return}F.intersectFrustumAABB(y,K,J.getBBMin(),J.getBBMax())}}},A=function(){for(var a=[[0,1,3],[2,3,1],[1,5,2],[6,2,5],[5,4,6],[7,6,4],[4,0,7],[3,7,0],[3,2,7],[6,7,2],[4,5,0],[1,0,5]],m=void 0,p=Array(8),t=0;8>t;++t)p[t]=vec4d.create();var n=mat4.create();this.init=function(c){m=c};this.intersectFrustumAABB=function(c,
b,e,f){mat4.multiply(c,b,n);for(c=0;8>c;++c){b=p[c];var k=0===c||3===c||4===c||7===c?e[0]:f[0],u=0===c||1===c||4===c||5===c?e[1]:f[1],v=4>c?e[2]:f[2];b[0]=n[0]*k+n[4]*u+n[8]*v+n[12];b[1]=n[1]*k+n[5]*u+n[9]*v+n[13];b[2]=n[2]*k+n[6]*u+n[10]*v+n[14];b[3]=n[3]*k+n[7]*u+n[11]*v+n[15]}for(c=0;12>c;++c){e=h(p[a[c][0]],p[a[c][1]],p[a[c][2]]);f=!0;for(b=0;b<e.length;++b)if(k=e[b][3],2<=k){f=!1;break}if(!f)for(b=0;b<e.length;++b)k=e[b][3],k<m.bestNear&&(m.bestNear=k),k>m.bestFar&&(m.bestFar=k)}};var h=function(c,
b,e){var f=function(q,x){if(0===x)return q[0]>=-q[3];if(1===x)return q[1]>=-q[3];if(2===x)return q[0]<=q[3];if(3===x)return q[1]<=q[3];assert(!1)},k=function(q,x,w){var B=0;0===w?B=(-q[3]-q[0])/(x[0]-q[0]+x[3]-q[3]):1===w?B=(-q[3]-q[1])/(x[1]-q[1]+x[3]-q[3]):2===w?B=(q[3]-q[0])/(x[0]-q[0]-x[3]+q[3]):3===w&&(B=(q[3]-q[1])/(x[1]-q[1]-x[3]+q[3]));return vec4d.lerp(q,x,B,vec4d.create())};c=[c,b,e];for(b=0;4>b;++b){e=c;c=[];for(var u=0;u<e.length;++u){var v=e[u],g=e[(u+1)%e.length];f(g,b)?(f(v,b)||c.push(k(v,
g,b)),c.push(g)):f(v,b)&&c.push(k(v,g,b))}}return c}}})},"engine/parts/SideBySideVisualizer":function(){define(["engine/lib/Renderer","engine/lib/SSAOHelper","engine/lib/ShadowMap","engine/lib/Util","engine/lib/gl-matrix"],function(){return function(G,A,a,m,p,t){function n(D,F,H,E,I,J,K){if(x){var L=Math.round(F[2]/2);L=Math.max(L,2);L=Math.min(L,F[2]-2);vec4.set4(F[0],F[1],L,F[3],I);vec4.set4(F[0]+L,F[1],F[2]-L,F[3],K)}else L=Math.round(F[3]/2),L=Math.max(L,2),L=Math.min(L,F[3]-2),vec4.set4(F[0],
F[1]+L,F[2],F[3]-L,I),vec4.set4(F[0],F[1],F[2],L,K);F=180*fovx2fovy(H,I[2],I[3])/Math.PI;H=180*fovx2fovy(H,K[2],K[3])/Math.PI;mat4.perspective(F,I[2]/I[3],D[0],D[1],E);mat4.perspective(H,K[2]/K[3],D[0],D[1],J)}function h(D,F,H,E,I,J,K,L,O,U,S,M){if(U.getEnableState()){U.prepare(D,F,J,L,K);J=U.getCascades();for(L=0;L<J.length;++L){var N=J[L],T=N.viewport;p.viewport(T[0],T[1],T[2],T[3]);O.renderSimple(N.mvMat,N.projMat,N.nearFar,K,"materialDepth",T)}U.finish(M)}U.bind(G.get("default"));U.bind(G.get("defaultTextured"));
U.bind(G.get("defaultTexturedRefl"));U.bind(G.get("water"));p.viewport(E[0],E[1],E[2],E[3]);S.getEnableState()&&(S.prepare0(E),O.renderSimple(D,F,H,K,"materialNormal",E),S.prepare1(),O.renderSimple(D,F,H,K,"materialDepth",E),S.finish(H,I,M));S.setUniforms(G.get("default"));S.setUniforms(G.get("defaultTextured"));O.render(D,F,H,K,E,U,M)}function c(D,F,H,E){D[H](E);F[H](E)}var b=new Renderer(G,A,a,m,p),e=new Renderer(G,A,a,m,p),f=new ShadowMap(G,p),k=new ShadowMap(G,p),u=new SSAOHelper(G,m,p),v=new SSAOHelper(G,
m,p),g={},q={},x=t;this.setHorizontal=function(D){x=D};this.isHorizontal=function(){return x};this.getCombinedStats=function(){return b.getCombinedStats()};this.dispose=function(){b.dispose();e.dispose();f.getEnableState()&&f.disable();k.getEnableState()&&k.disable();u.getEnableState()&&u.disable();v.getEnableState()&&v.disable()};this.setLightingData=function(D){c(b,e,"setLightingData",D)};this.getLightingData=function(){return b.getLightingData()};this.getViewParams=function(D){return{}};this.setViewParams=
function(D,F){};this.setRenderParams=function(D){void 0!==D.shadowMapResolution&&!1===f.getEnableState()&&c(f,k,"setTextureResolution",D.shadowMapResolution);void 0!==D.shadowMap&&D.shadowMap!==f.getEnableState()&&c(f,k,"setEnableState",D.shadowMap);void 0!==D.shadowMapMaxCascades&&c(f,k,"setMaxNumCascades",D.shadowMapMaxCascades);void 0!==D.ssao&&D.ssao!==u.getEnableState()&&c(u,v,"setEnableState",D.ssao);void 0!==D.ssaoAttenuation&&c(u,v,"setAttenuation",D.ssaoAttenuation);void 0!==D.ssaoRadius&&
c(u,v,"setRadius",D.ssaoRadius);void 0!==D.ssaoFilterRadius&&c(u,v,"setFilterRadius",D.ssaoFilterRadius);void 0!==D.ssaoSamples&&c(u,v,"setSamples",D.ssaoSamples)};this.getRenderParams=function(){var D={};f.getIsSupported()&&(D.shadowMap=f.getEnableState(),D.shadowMapResolution=f.getTextureResolution(),D.shadowMapMaxCascades=f.getMaxNumCascades());u.getIsSupported()&&(D.ssao=u.getEnableState(),D.ssaoAttenuation=u.getAttenuation(),D.ssaoRadius=u.getRadius(),D.ssaoFilterRadius=u.getFilterRadius(),D.ssaoSamples=
u.getSamples());return D};this.modify=function(D,F,H,E){E=1!==E;(E?b:e).modify(D,F,H);H=E?g:q;E=0;for(var I=F.length;E<I;++E)delete H[F[E].uniqueName];E=0;for(I=D.length;E<I;++E)H[D[E].uniqueName]=D[E]};this.getContent=function(){return mergeObjects(g,q)};var w=mat4.create(),B=vec4.create(),z=mat4.create(),C=vec4.create();this.getPickRay=function(D,F,H,E,I,J,K,L,O){n(I,J,K,w,B,z,C);F=(E=x?(void 0!==F?F[0]:D[0])<J[2]/2:(void 0!==F?F[1]:D[1])>=J[3]/2)?w:z;E=E?B:C;vec3d.unproject(vec3d.createFrom(D[0],
D[1],0),H,F,E,L);vec3d.unproject(vec3d.createFrom(D[0],D[1],1),H,F,E,O)};this.getSideIndexForPoint=function(D,F){return x?D[0]<.5*F[2]?0:1:D[1]>=.5*F[3]?0:1};this.getProjectionMatrix=function(D,F,H,E,I){var J=x?Math.round(D[2]/2):D[2];D=x?D[3]:Math.round(D[3]/2);F=fovx2fovy(F,J,D);mat4.perspective(180*F/Math.PI,J/D,H,E,I)};this.setSelectionObject=function(D){c(b,e,"setSelectionObject",D)};this.setHighlightObjects=function(D){c(b,e,"setHighlightObjects",D)};var y=vec4d.create();this.world2screen=function(D,
F,H,E,I,J){n(H,E,I,w,B,z,C);F=[];for(H=0;2>H;++H)E=0===H?w:z,I=0===H?B:C,vec4d.set4(J[0],J[1],J[2],1,y),mat4d.multiplyVec4(D,y),mat4d.multiplyVec4(E,y),vec3d.scale(y,1/y[3]),F[H]={onScreen:!(-1>y[0]||-1>y[1]||-1>y[2]||1<=y[0]||1<=y[1]||1<=y[2]),screenCoords:vec2d.createFrom(lerp(0,I[2],.5+.5*y[0]),lerp(0,I[3],.5+.5*y[1])),screenCoordOrigin:vec2d.createFrom(I[0],I[1])};return F};this.render=function(D,F,H,E,I,J,K,L){n(H,E,I,w,B,z,C);h(D,w,H,B,I,J,K,g,b,f,u,L);h(D,z,H,C,I,J,K,q,e,k,v,L);p.viewport(E[0],
E[1],E[2],E[3])}}})},"engine/parts/Visualizer":function(){define(["engine/lib/Renderer","engine/lib/SSAOHelper","engine/lib/ShadowMap","engine/lib/Util"],function(){return function(G,A,a,m,p){var t=new Renderer(G,A,a,m,p),n=new ShadowMap(G,p),h=new SSAOHelper(G,m,p),c={},b=!1,e=!1;this.getCombinedStats=function(){return t.getCombinedStats()};this.dispose=function(){t.dispose();n.getEnableState()&&n.disable();h.getEnableState()&&h.disable()};this.setLightingData=function(k){t.setLightingData(k)};this.getLightingData=
function(){return t.getLightingData()};this.getViewParams=function(k){return{}};this.setViewParams=function(k,u){};this.setRenderParams=function(k){void 0!==k.shadowMapResolution&&!1===n.getEnableState()&&n.setTextureResolution(k.shadowMapResolution);void 0!==k.shadowMap&&k.shadowMap!==n.getEnableState()&&n.setEnableState(k.shadowMap);void 0!==k.shadowMapMaxCascades&&n.setMaxNumCascades(k.shadowMapMaxCascades);void 0!==k.ssao&&k.ssao!==h.getEnableState()&&h.setEnableState(k.ssao);void 0!==k.ssaoAttenuation&&
h.setAttenuation(k.ssaoAttenuation);void 0!==k.ssaoRadius&&h.setRadius(k.ssaoRadius);void 0!==k.ssaoFilterRadius&&h.setFilterRadius(k.ssaoFilterRadius);void 0!==k.ssaoSamples&&h.setSamples(k.ssaoSamples);void 0!==k.debugInstanceThreshold&&t.setThreshold(k.debugInstanceThreshold);void 0!==k.drawShadowMapDebugQuad&&(b=k.drawShadowMapDebugQuad);void 0!==k.drawSSAODebugQuad&&(e=k.drawSSAODebugQuad)};this.getRenderParams=function(){var k={};n.getIsSupported()&&(k.shadowMap=n.getEnableState(),k.shadowMapResolution=
n.getTextureResolution(),k.shadowMapMaxCascades=n.getMaxNumCascades());h.getIsSupported()&&(k.ssao=h.getEnableState(),k.ssaoAttenuation=h.getAttenuation(),k.ssaoRadius=h.getRadius(),k.ssaoFilterRadius=h.getFilterRadius(),k.ssaoSamples=h.getSamples());return k};this.modify=function(k,u,v,g){t.modify(k,u,v);v=0;for(g=u.length;v<g;++v)delete c[u[v].uniqueName];v=0;for(g=k.length;v<g;++v)c[k[v].uniqueName]=k[v]};this.getContent=function(){return c};this.getPickRay=function(k,u,v,g,q,x,w,B,z){vec3d.unproject(vec3d.createFrom(k[0],
k[1],0),v,g,x,B);vec3d.unproject(vec3d.createFrom(k[0],k[1],1),v,g,x,z)};this.getSideIndexForPoint=function(k,u){return 0};this.getProjectionMatrix=function(k,u,v,g,q){u=fovx2fovy(u,k[2],k[3]);mat4.perspective(180*u/Math.PI,k[2]/k[3],v,g,q)};this.setSelectionObject=function(k){t.setSelectionObject(k)};this.setHighlightObjects=function(k,u){t.setHighlightObjects(k,u)};var f=vec4d.create();this.world2screen=function(k,u,v,g,q,x){vec4d.set4(x[0],x[1],x[2],1,f);mat4d.multiplyVec4(k,f);mat4d.multiplyVec4(u,
f);vec3d.scale(f,1/Math.abs(f[3]));return[{onScreen:!(-1>f[0]||-1>f[1]||-1>f[2]||1<=f[0]||1<=f[1]||1<=f[2]),screenCoords:vec2d.createFrom(lerp(0,g[2],.5+.5*f[0]),lerp(0,g[3],.5+.5*f[1])),screenCoordOrigin:vec2d.createFrom(g[0],g[1])}]};this.render=function(k,u,v,g,q,x,w,B){if(n.getEnableState()){n.prepare(k,u,x,c,w);x=n.getCascades();for(var z=0;z<x.length;++z){var C=x[z],y=C.viewport;p.viewport(y[0],y[1],y[2],y[3]);t.renderSimple(C.mvMat,C.projMat,C.nearFar,w,"materialDepth",y)}n.finish(B);p.viewport(g[0],
g[1],g[2],g[3])}n.bind(G.get("default"));n.bind(G.get("defaultTextured"));n.bind(G.get("defaultTexturedRefl"));n.bind(G.get("water"));n.bind(G.get("planarTerrain"));n.bind(G.get("sphericalTerrain"));h.getEnableState()&&(h.prepare0(g),t.renderSimple(k,u,v,w,"materialNormal",g),h.prepare1(),t.renderSimple(k,u,v,w,"materialDepth",g),h.finish(v,q,B));h.setUniforms(G.get("default"));h.setUniforms(G.get("defaultTextured"));t.render(k,u,v,w,g,n,B);b&&n.getEnableState()&&(k=mat4.ortho(g[0],g[2],g[1],g[3],
-1,1),n.drawDebugQuad(k));e&&h.getEnableState()&&(k=mat4.ortho(g[0],g[2],g[1],g[3],-1,1),h.drawQuad(k))}}})},"engine/lib/Geometry":function(){define(["engine/lib/IdGen","engine/lib/Util"],function(){var G=0;GeometryData=function(a,m){var p=G++;this.getFaces=function(){return a};this.getVertexAttr=function(){return m};this.getId=function(){return p}};GeometryData.getNewId=function(){return G++};GeometryData.AxisOrder={CG:0,GIS:1};var A=new IdGen;BoundingInfo=function(a,m,p,t){assert(1<=a.length);assert(0===
p.length%m);assert(p.length>=a.length*m);assert(3===t.size||4===t.size);for(var n=t.data,h=t.size,c=h*p[m*a[0]],b=vec3.createFrom(n[c],n[c+1],n[c+2]),e=vec3.create(b),f=0,k=a.length;f<k;++f)for(var u=m*a[f],v=0;v<m;++v){c=h*p[u+v];for(var g=0;3>g;++g){var q=n[c+g];q<b[g]?b[g]=q:q>e[g]&&(e[g]=q)}}var x=vec3.create();vec3.lerp(b,e,.5,x);var w=0;f=0;for(k=a.length;f<k;++f)for(u=m*a[f],v=0;v<m;++v)c=h*p[u+v],g=n[c]-x[0],q=n[c+1]-x[1],c=n[c+2]-x[2],c=g*g+q*q+c*c,c>w&&(w=c);w=Math.sqrt(w);var B=void 0;
this.getCenter=function(){return x};this.getBSRadius=function(){return w};this.getBBMin=function(){return b};this.getBBMax=function(){return e};this.getPrimitiveIndices=function(){return a};this.getIndices=function(){return p};this.getPosition=function(){return t};this.getChildren=function(){if(void 0===B&&(B="no_children",1<vec3d.dist2(b,e))){for(var z=vec3d.lerp(b,e,.5,vec3d.create()),C=new Uint8Array(a.length),y=Array(8),D=0;8>D;++D)y[D]=0;D=0;for(var F=a.length;D<F;++D){for(var H=0,E=m*a[D],I=
t.data,J=h*p[E],K=I[J],L=I[J+1],O=I[J+2],U=1;U<m;++U){J=h*p[E+U];var S=I[J],M=I[J+1];J=I[J+2];S<K&&(K=S);M<L&&(L=M);J<O&&(O=J)}K<z[0]&&(H|=1);L<z[1]&&(H|=2);O<z[2]&&(H|=4);C[D]=H;++y[H]}for(D=F=0;8>D;++D)0<y[D]&&++F;if(2>F)return;z=Array(8);for(D=0;8>D;++D)z[D]=0<y[D]?new Uint32Array(y[D]):void 0;for(D=0;8>D;++D)y[D]=0;D=0;for(F=C.length;D<F;++D)H=C[D],z[H][y[H]++]=a[D];B=Array(8);for(D=0;8>D;++D)void 0!==z[D]&&(B[D]=new BoundingInfo(z[D],m,p,t))}if("no_children"!==B)return B}};Geometry=function(a,
m){var p=A.gen(m);this.getId=function(){return p};assert(1<=a.getFaces().length);var t=[];this.getData=function(){return a};this.getNumGroups=function(){return a.getFaces().length};this.getBoundingInfo=function(n){var h=t[n];if(void 0==h){h=a.getFaces()[n];var c="triangle"===h.type?3:1,b=h.indices[h.positionKey];if(0===b.length){b=new Uint32Array(c);for(var e=0;e<c;++e)b[e]=e}e=b.length;assert(0===e%c);var f=e/c,k=new Uint32Array(f);for(e=0;e<f;++e)k[e]=e;h=new BoundingInfo(k,c,b,a.getVertexAttr()[h.positionKey]);
t[n]=h}return h}}})},"engine/lib/GeometryUtil":function(){define(["engine/lib/Geometry","engine/lib/Util","engine/lib/gl-matrix"],function(){window.createSphereGeometry=function(G,A,a,m,p,t,n){G=G||50;m=void 0!==m?m:-Math.PI;p=void 0!==p?p:2*Math.PI;t=void 0!==t?t:.5*-Math.PI;n=void 0!==n?n:Math.PI;var h=Math.max(3,Math.floor(A)||8),c=Math.max(2,Math.floor(a)||6),b=(h+1)*(c+1);a=new Float32Array(3*b);A=new Float32Array(3*b);b=new Float32Array(2*b);var e,f,k=[],u=vec3.create(),v=0;for(f=0;f<=c;f++){var g=
[],q=f/c,x=t+q*n,w=Math.cos(x);for(e=0;e<=h;e++){var B=e/h,z=m+B*p,C=Math.cos(z)*w*G,y=Math.sin(x)*G;z=-Math.sin(z)*w*G;a[3*v]=C;a[3*v+1]=y;a[3*v+2]=z;vec3.set3(C,y,z,u);vec3.normalize(u);A[3*v]=u[0];A[3*v+1]=u[1];A[3*v+2]=u[2];b[2*v]=B;b[2*v+1]=q;g.push(v);++v}k.push(g)}m=new Uint32Array(2*h*(c-1)*3);for(f=v=0;f<c;f++)for(e=0;e<h;e++)p=k[f][e],t=k[f][e+1],n=k[f+1][e+1],u=k[f+1][e],Math.abs(a[3*p+1])==G?(m[v++]=p,m[v++]=n,m[v++]=u):Math.abs(a[3*n+1])==G?(m[v++]=p,m[v++]=t,m[v++]=n):(m[v++]=p,m[v++]=
t,m[v++]=n,m[v++]=n,m[v++]=u,m[v++]=p);assert(v===m.length);G={};G[VertexAttrConstants.POSITION]=m;G[VertexAttrConstants.NORMAL]=m;G[VertexAttrConstants.UV0]=m;h={};h[VertexAttrConstants.POSITION]={size:3,data:a};h[VertexAttrConstants.NORMAL]={size:3,data:A};h[VertexAttrConstants.UV0]={size:2,data:b};return new GeometryData([{type:"triangle",indices:G,positionKey:VertexAttrConstants.POSITION}],h)};window.createPointGeometry=function(G,A,a){var m=new Float32Array(3);m[0]=A?A[0]:0;m[1]=A?A[1]:0;m[2]=
A?A[2]:0;var p=new Uint32Array(1);p[0]=0;A=new Float32Array(3);A[0]=G?G[0]:0;A[1]=G?G[1]:0;A[2]=G?G[2]:1;G=new Float32Array(2);G[0]=0;G[1]=0;var t={};t[VertexAttrConstants.POSITION]=p;t[VertexAttrConstants.NORMAL]=p;t[VertexAttrConstants.UV0]=p;p={};p[VertexAttrConstants.POSITION]={size:3,data:m};p[VertexAttrConstants.NORMAL]={size:3,data:A};p[VertexAttrConstants.UV0]={size:2,data:G};m=[{type:"point",indices:t,positionKey:VertexAttrConstants.POSITION}];return a?{faces:m[0],vertexAttr:p,id:GeometryData.getNewId().toString()}:
new GeometryData(m,p)};window.createPointArrayGeometry=function(G,A){for(var a=new Float32Array(3*G.length),m=new Float32Array(A?3*G.length:3),p=new Uint32Array(G.length),t=new Uint32Array(G.length),n=0;n<G.length;n++)a[3*n]=G[n][0],a[3*n+1]=G[n][1],a[3*n+2]=G[n][2],A&&(m[3*n]=A[n][0],m[3*n+1]=A[n][1],m[3*n+2]=A[n][2]),p[n]=n,t[n]=0;A||(m[0]=0,m[1]=1,m[2]=0);G=new Float32Array(2);G[0]=0;G[1]=0;n={};n[VertexAttrConstants.POSITION]=p;n[VertexAttrConstants.NORMAL]=A?p:t;n[VertexAttrConstants.UV0]=t;
A={};A[VertexAttrConstants.POSITION]={size:3,data:a};A[VertexAttrConstants.NORMAL]={size:3,data:m};A[VertexAttrConstants.UV0]={size:2,data:G};return new GeometryData([{type:"point",indices:n,positionKey:VertexAttrConstants.POSITION}],A)};window.createTriangleGeometry=function(){var G=new Float32Array(9);G[0]=0;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=100;G[6]=100;G[7]=0;G[8]=0;var A=new Uint32Array(3);A[0]=0;A[1]=1;A[2]=2;var a=new Float32Array(3);a[0]=0;a[1]=1;a[2]=0;var m=new Uint32Array(3);m[0]=0;m[1]=
0;m[2]=0;var p=new Float32Array(2);p[0]=0;p[1]=0;var t=new Uint32Array(3);t[0]=0;t[1]=0;t[2]=0;var n={};n[VertexAttrConstants.POSITION]=A;n[VertexAttrConstants.NORMAL]=m;n[VertexAttrConstants.UV0]=t;A={};A[VertexAttrConstants.POSITION]={size:3,data:G};A[VertexAttrConstants.NORMAL]={size:3,data:a};A[VertexAttrConstants.UV0]={size:2,data:p};return new GeometryData([{type:"triangle",indices:n,positionKey:VertexAttrConstants.POSITION}],A)};window.createSquareGeometry=function(){var G=new Float32Array(12);
G[0]=-1;G[1]=-1;G[2]=0;G[3]=1;G[4]=-1;G[5]=0;G[6]=1;G[7]=1;G[8]=0;G[9]=-1;G[10]=1;G[11]=0;var A=new Uint32Array(6);A[0]=0;A[1]=1;A[2]=2;A[3]=2;A[4]=3;A[5]=0;var a=new Float32Array(3);a[0]=0;a[1]=0;a[2]=1;for(var m=new Uint32Array(6),p=0;6>p;p++)m[p]=0;p=new Float32Array(8);p[0]=0;p[1]=0;p[2]=1;p[3]=0;p[4]=1;p[5]=1;p[6]=0;p[7]=1;var t={};t[VertexAttrConstants.POSITION]=A;t[VertexAttrConstants.NORMAL]=m;t[VertexAttrConstants.UV0]=A;A={};A[VertexAttrConstants.POSITION]={size:3,data:G};A[VertexAttrConstants.NORMAL]=
{size:3,data:a};A[VertexAttrConstants.UV0]={size:2,data:p};return new GeometryData([{type:"triangle",indices:t,positionKey:VertexAttrConstants.POSITION}],A)};window.createCylinderGeometry=function(G,A,a,m,p,t){m||(m=vec3.createFrom(1,0,0));p||(p=vec3.createFrom(0,0,0));t=void 0===t?!0:t;var n=vec3.create();vec3.normalize(m,n);m=vec3.create();vec3.scale(n,Math.abs(G),m);var h=vec3.create();vec3.scale(m,-.5,h);vec3.add(h,p);var c=vec3.createFrom(0,1,0);Math.abs(.2>1-vec3.dot(n,c))&&vec3.set3(0,0,1,
c);var b=vec3.create();vec3.cross(n,c,b);vec3.normalize(b);vec3.cross(b,n,c);var e=2*a+(t?2:0),f=a+(t?2:0);p=new Float32Array(3*e);G=new Float32Array(3*f);var k=new Float32Array(2*e),u=new Uint32Array(3*a*(t?4:2)),v=new Float32Array(3*a*(t?4:2));t&&(p[3*(e-2)]=h[0],p[3*(e-2)+1]=h[1],p[3*(e-2)+2]=h[2],k[2*(e-2)]=0,k[2*(e-2)+1]=0,p[3*(e-1)]=p[3*(e-2)]+m[0],p[3*(e-1)+1]=p[3*(e-2)+1]+m[1],p[3*(e-1)+2]=p[3*(e-2)+2]+m[2],k[2*(e-1)]=1,k[2*(e-1)+1]=1,G[3*(f-2)]=-n[0],G[3*(f-2)+1]=-n[1],G[3*(f-2)+2]=-n[2],
G[3*(f-1)]=n[0],G[3*(f-1)+1]=n[1],G[3*(f-1)+2]=n[2]);var g=0,q=vec3.create(),x=vec3.create();for(n=0;n<a;n++){var w=function(z,C,y){u[z]=C;v[z]=y};var B=2*Math.PI/a*n;vec3.scale(c,Math.sin(B),q);vec3.scale(b,Math.cos(B),x);vec3.add(q,x);G[3*n]=q[0];G[3*n+1]=q[1];G[3*n+2]=q[2];vec3.scale(q,A);vec3.add(q,h);p[3*n]=q[0];p[3*n+1]=q[1];p[3*n+2]=q[2];k[2*n]=n/a;k[2*n+1]=0;p[3*(n+a)]=p[3*n]+m[0];p[3*(n+a)+1]=p[3*n+1]+m[1];p[3*(n+a)+2]=p[3*n+2]+m[2];k[2*(n+a)]=n/a;k[2*n+1]=1;B=(n+1)%a;t&&(w(g++,e-2,f-2),
w(g++,n,f-2),w(g++,B,f-2));w(g++,n,n);w(g++,n+a,n);w(g++,B,B);w(g++,B,B);w(g++,n+a,n);w(g++,B+a,B);t&&(w(g++,n+a,f-1),w(g++,e-1,f-1),w(g++,B+a,f-1))}A={};A[VertexAttrConstants.POSITION]=u;A[VertexAttrConstants.NORMAL]=v;A[VertexAttrConstants.UV0]=u;a={};a[VertexAttrConstants.POSITION]={size:3,data:p};a[VertexAttrConstants.NORMAL]={size:3,data:G};a[VertexAttrConstants.UV0]={size:2,data:k};return new GeometryData([{type:"triangle",indices:A,positionKey:VertexAttrConstants.POSITION}],a)};window.createTubeGeometry=
function(G,A,a,m){a=a||10;m=m||!0;assert(1<G.length);for(var p=[],t=[],n=0;n<a;n++){p.push([0,-n-1,-((n+1)%a)-1]);var h=n/a*2*Math.PI;t.push([Math.cos(h)*A,Math.sin(h)*A])}return createPathExtrusionGeometry(t,G,[[0,0,0]],p,m)};window.createSquareTubeGeometry=function(G,A,a){a=a||!0;assert(1<G.length);A*=Math.SQRT2;return createPathExtrusionGeometry([[A,A],[-A,A],[-A,-A],[A,-A]],G,[],[[-1,-2,-3],[-3,-4,-1]],a,[[0,1],[-1,0],[0,-1],[1,0]])};window.createPathExtrusionGeometry=function(G,A,a,m,p,t){var n=
G.length,h=new Float32Array(A.length*n*3+(6*a.length||0)),c=new Float32Array(A.length*n*3+(a?6:0)),b=0,e=0,f=new Uint32Array((A.length-1)*n*6+6*m.length),k=new Uint32Array((A.length-1)*n*6+6*m.length),u=0,v=0,g=vec3.create(),q=vec3.create(),x=vec3.create(),w=vec3.create(),B=vec3.create(),z=vec3.create(),C=vec3.create(),y=vec3.create(),D=vec3.create();vec3.subtract(A[1],A[0],q);vec3.normalize(q);p?vec3.normalize(A[0],x):vec3.set3(0,1,0,x);vec3.cross(x,q,w);vec3.normalize(w);vec3.cross(w,q,x);vec3.normalize(x);
for(var F=0;F<a.length;F++)vec3.scale(w,a[F][0],C),vec3.scale(x,a[F][1],D),vec3.add(C,D),vec3.add(C,A[0]),h[b++]=C[0],h[b++]=C[1],h[b++]=C[2];c[e++]=-q[0];c[e++]=-q[1];c[e++]=-q[2];for(F=0;F<m.length;F++)f[u++]=0<m[F][0]?m[F][0]:-m[F][0]-1+a.length,f[u++]=0<m[F][1]?m[F][1]:-m[F][1]-1+a.length,f[u++]=0<m[F][2]?m[F][2]:-m[F][2]-1+a.length,k[v++]=0,k[v++]=0,k[v++]=0;var H=a.length;F=a.length-1;for(var E,I=0;I<A.length;I++){E=!1;0<I&&(p?vec3.normalize(A[I],x):vec3.set3(0,1,0,x),vec3.set(q,g),vec3.set(g,
D),I<A.length-1?(vec3.subtract(A[I+1],A[I],q),vec3.normalize(q),vec3.add(D,q)):E=!0,vec3.cross(x,D,w),vec3.normalize(w),vec3.cross(w,D,x),vec3.normalize(x));t&&(vec3.cross(x,q,z),vec3.normalize(z),vec3.cross(z,q,B),vec3.normalize(B));for(var J=0;J<n;J++)if(vec3.scale(w,G[J][0],C),vec3.scale(x,G[J][1],D),vec3.add(C,D),t?(vec3.scale(z,t[J][0],y),vec3.scale(B,t[J][1],D),vec3.add(y,D),vec3.normalize(y),vec3.scale(y,-1)):vec3.normalize(C,y),c[e++]=y[0],c[e++]=y[1],c[e++]=y[2],vec3.add(C,A[I]),h[b++]=C[0],
h[b++]=C[1],h[b++]=C[2],!E){var K=(J+1)%n;f[u++]=H+J;f[u++]=H+n+J;f[u++]=H+K;f[u++]=H+K;f[u++]=H+n+J;f[u++]=H+n+K;if(t)for(K=0;6>K;K++)k[v++]=H-F+J;else for(K=0;6>K;K++)k[v++]=f[u-6+K]-F}H+=n}E=A[A.length-1];for(F=0;F<a.length;F++)vec3.scale(w,a[F][0],C),vec3.scale(x,a[F][1],D),vec3.add(C,D),vec3.add(C,E),h[b++]=C[0],h[b++]=C[1],h[b++]=C[2];G=e/3;c[e++]=q[0];c[e++]=q[1];c[e++]=q[2];n=H-n;for(F=0;F<m.length;F++)f[u++]=0<=m[F][0]?H+m[F][0]:-m[F][0]-1+n,f[u++]=0<=m[F][2]?H+m[F][2]:-m[F][2]-1+n,f[u++]=
0<=m[F][1]?H+m[F][1]:-m[F][1]-1+n,k[v++]=G,k[v++]=G,k[v++]=G;m={};m[VertexAttrConstants.POSITION]=f;m[VertexAttrConstants.NORMAL]=k;f={};f[VertexAttrConstants.POSITION]={size:3,data:h};f[VertexAttrConstants.NORMAL]={size:3,data:c};return new GeometryData([{type:"triangle",indices:m,positionKey:VertexAttrConstants.POSITION}],f)};window.createPolylineGeometry=function(G,A){assert(1<G.length,"createPolylineGeometry(): polyline needs at least 2 points");assert(3===G[0].length,"createPolylineGeometry(): malformed vertex");
for(var a=new Float32Array(3*G.length),m=new Uint32Array(2*(G.length-1)),p=0,t=0,n=0;n<G.length;n++){for(var h=0;3>h;h++)a[p++]=G[n][h];0<n&&(m[t++]=n-1,m[t++]=n)}p={};G={};p[VertexAttrConstants.POSITION]=m;G[VertexAttrConstants.POSITION]={size:3,data:a};a=[{type:"line",indices:p,positionKey:VertexAttrConstants.POSITION}];return A?{faces:a[0],vertexAttr:G,id:GeometryData.getNewId().toString()}:new GeometryData(a,G)}})},"engine/lib/Layer":function(){define(["engine/lib/IdGen","engine/lib/Octree","engine/lib/PerformanceTimer",
"engine/lib/Util","engine/parts/Model"],function(G,A,a,m,p){var t=new IdGen;Layer=function(n,h,c){var b=t.gen(c);this.getId=function(){return b};h=h||{};var e=h.group||"",f=h.state||"VISIBLE",k=h.interaction||"PICKABLE",u=h.translation||[0,0,0],v=h.spatialAcceleration||"octree",g=h.initialExtent||h.fullExtent||[0,0,1E3,1E3],q=!h.initialExtent,x=[];this.getParentStages=function(){return x};this.addParentStage=function(z){-1==x.indexOf(z)&&x.push(z)};this.removeParentStage=function(z){z=x.indexOf(z);
-1<z&&x.splice(z,1)};var w=[];this.getName=function(){return n};this.getGroup=function(){return e};this.getState=function(){return f};this.getInteraction=function(){return k};this.getTranslation=function(){return u};this.getObjectIds=function(){return w.map(function(z){return z.getId()})};this.getObjects=function(){return w};this.getSpatialAcceleration=function(){return v};this.setSpatialAcceleration=function(z){z!=v&&(v=z,this._spatialAccelerator=void 0)};this.getExtent=function(){B();return g};
this.getFullExtent=function(){return h.fullExtent||this.getExtent()};this.addObject=function(z){w.push(z);z.addParentLayer(this);this.notifyDirty("layObjectAdded",z);q=!0;this._spatialAccelerator&&this._spatialAccelerator.addObject(z)};this.hasObject=function(z){return-1<w.indexOf(z)};this.removeObject=function(z){var C=w.indexOf(z);return-1<C?(w.splice(C,1),z.removeParentLayer(this),this.notifyDirty("layObjectRemoved",z),q=!0,this._spatialAccelerator&&this._spatialAccelerator.removeObject(z),!0):
!1};this.replaceObject=function(z,C){var y=w.indexOf(z);assert(-1<y,"Layer.replaceObject: layer doesn't contain specified object");w[y]=C;z.removeParentLayer(this);C.addParentLayer(this);this.notifyDirty("layObjectReplaced",[z,C]);q=!0;this._spatialAccelerator&&(this._spatialAccelerator.removeObject(z),this._spatialAccelerator.addObject(C))};this.notifyObjectBBChanged=function(z,C){this._spatialAccelerator&&this._spatialAccelerator.updateObject(z,C)};this.getCenter=function(){B();var z=vec3d.create();
return vec3d.lerp(g[0],g[1],.5,z)};this.getBSRadiusApprox=function(){B();return.5*vec3d.dist(g[0],g[1])};this.getSpatialQueryAccelerator=function(){if("octree"===v){if(this._spatialAccelerator)return this._spatialAccelerator;if(50<w.length){for(var z=h.fullExtent||this.getExtent(),C=0,y=0;3>y;y++)C=Math.max(C,z[1][y]-z[0][y]);y=vec3d.create();vec3d.lerp(z[0],z[1],.5,y);z=new a(1);z.start();this._spatialAccelerator=new A(1.2*C,y);for(C=0;C<w.length;C++)this._spatialAccelerator.addObject(w[C]);C=z.stop();
console.log("Octree for layer "+this.getId()+" created in "+Math.round(C)+" ms");return this._spatialAccelerator}}};var B=function(){if(q)if(0===w.length)g=[[0,0,0],[0,0,0]];else{var z=w[0];g=[vec3d.create(z.getBBMin()),vec3d.create(z.getBBMax())];for(z=0;z<w.length;++z){var C=w[z],y=C.getBBMin();C=C.getBBMax();for(var D=0;3>D;++D)g[0][D]=Math.min(g[0][D],y[D]),g[1][D]=Math.max(g[1][D],C[D])}q=!1}};this.notifyDirty=function(z,C,y,D){y=y||p.ContentType.LAYER;D=D||this;for(var F=0;F<x.length;F++)x[F].notifyDirty(y,
D,z,C)}}})},"engine/lib/Octree":function(){define(["engine/lib/Object3D"],function(G){return function(A,a,m){function p(){return{leafObjects:[],fixedObjects:[],children:Array(8)}}function t(F,H,E){E.maxDepth=Math.max(H,E.maxDepth);var I=F.fixedObjects.length;E.fixedObjects+=I;10<I&&E.nodesWithMoreThan10FixedObjects++;30<I&&E.nodesWithMoreThan30FixedObjects++;100<I&&E.nodesWithMoreThan100FixedObjects++;if(F.leafObjects)E.leafNodes++,E.leafObjects+=F.leafObjects.length;else for(E.innerNodes++,I=0;8>
I;I++)F.children[I]&&t(F.children[I],H+1,E)}function n(F){function H(J){return J.getId()}var E={};F.leafObjects&&0<F.leafObjects.length&&(E.leafs=F.leafObjects.map(H));F.fixedObjects&&0<F.fixedObjects.length&&(E.fixed=F.fixedObjects.map(H));for(var I=0;8>I;I++)F.children[I]&&(E["child"+I]=n(F.children[I]));return E}function h(F,H,E){F!==w&&assert(!x(F),"Octree validation failed (dangling empty node)");var I=[E[0]-H,E[1]-H,E[2]-H],J=[E[0]+H,E[1]+H,E[2]+H],K=F.fixedObjects.slice();F.leafObjects?K.push.apply(K,
F.leafObjects):q(F,H,E,h,{});if(F!==w)for(F=0;F<K.length;F++){H=K[F].getCenter();E=K[F].getBSRadiusApprox();for(var L=0;3>L;L++)assert(H[L]-E>=I[L]&&H[L]+E<=J[L],"Octree validation failed (object outside node bounds)")}return!0}function c(F,H,E,I,J,K){if(E<=.25*J)if(I.leafObjects){if(I.leafObjects.push(F),I.leafObjects.length>m.maxObjectsInNode){F=Array(3);for(H=0;H<I.leafObjects.length;H++)F[0]=K[0],F[1]=K[1],F[2]=K[2],E=I.leafObjects[H],b(E,E.getCenter(),E.getBSRadiusApprox(),I,J,F);I.leafObjects=
void 0}}else b(F,H,E,I,J,K);else I.fixedObjects.push(F)}function b(F,H,E,I,J,K){var L=g(H,J,K);I.children[L]||(I.children[L]=p());c(F,H,E,I.children[L],.5*J,K)}function e(F,H,E,I,J,K){if(E<=.25*J){if(I.leafObjects)return f(I.leafObjects,F);var L=g(H,J,K);return I.children[L]&&e(F,H,E,I.children[L],.5*J,K)?(x(I.children[L])&&delete I.children[L],!0):!1}return f(I.fixedObjects,F)}function f(F,H){H=F.indexOf(H);if(0>H)return!1;F.splice(H,1);return!0}function k(F,H,E,I){if(F!==w)for(var J=0;3>J;J++)if(I.bbLow[J]>
E[J]+H||I.bbHigh[J]<E[J]-H)return!0;F.fixedObjects.forEach(I.callback);F.leafObjects?F.leafObjects.forEach(I.callback):q(F,H,E,k,I);return!0}function u(F,H,E,I){if(F!==w&&(y[0]=E[0]-H,y[1]=E[1]-H,y[2]=E[2]-H,D[0]=E[0]+H,D[1]=E[1]+H,D[2]=E[2]+H,!rayBoxTest(I.o,I.d,y,D)))return!0;F.fixedObjects.forEach(I.callback);F.leafObjects?F.leafObjects.forEach(I.callback):q(F,H,E,u,I);return!0}function v(F,H,E,I){I.callback(E,.5*H,H,F.fixedObjects,F.leafObjects?F.leafObjects:[]);q(F,H,E,v,I);return!0}function g(F,
H,E){var I=0;H*=.25;E[0]<F[0]?(I=1,E[0]+=H):E[0]-=H;E[1]<F[1]?(I|=2,E[1]+=H):E[1]-=H;E[2]<F[2]?(I|=4,E[2]+=H):E[2]-=H;return I}function q(F,H,E,I,J){H*=.5;for(var K=.5*H,L=Array(3),O=0;8>O;O++)if(F.children[O]&&(L[0]=E[0]+(O&1?K:-K),L[1]=E[1]+(O&2?K:-K),L[2]=E[2]+(O&4?K:-K),!I(F.children[O],H,L,J)))return!1;return!0}function x(F){if(F.leafObjects){if(0<F.leafObjects.length)return!1}else for(var H=0;8>H;H++)if(F.children[H])return!1;return 0===F.fixedObjects.length}A*=.5;a=a||[0,0,0];m=m||{};m.maxObjectsInNode=
m.maxObjectsInNode||10;m.minBSRadius=m.minBSRadius||1;var w=p();this._getRoot=function(){return w};var B=this.getRootSize=function(){return 2*A},z=[0,0,0],C=this.getRootCenter=function(){z[0]=a[0];z[1]=a[1];z[2]=a[2];return z};this.addObject=function(F){var H=F.getCenter(),E=F.getBSRadiusApprox();var I=1.5*A;I=H[0]+E>a[0]+I||H[0]-E<a[0]-I?!1:H[1]+E>a[1]+I||H[1]-E<a[1]-I?!1:!(H[2]+E>a[2]+I||H[2]-E<a[2]-I);I?c(F,H,E,w,B(),C()):w.fixedObjects.push(F)};this.removeObject=function(F){var H=F.getCenter(),
E=F.getBSRadiusApprox();return e(F,H,E,w,B(),C())};this.updateObject=function(F,H){return e(F,H.center,H.bsRadius,w,B(),C())?(this.addObject(F),!0):!1};this.forEachObjectInBB=function(F,H,E){k(w,B(),C(),{bbLow:F,bbHigh:H,callback:E})};this.forEachObjectAlongRay=function(F,H,E){u(w,B(),C(),{o:F,d:H,callback:E})};this.forEachNode=function(F){v(w,B(),C(),{callback:F})};this.computeStats=function(){var F={leafObjects:0,fixedObjects:0,leafNodes:0,innerNodes:0,nodesWithMoreThan10FixedObjects:0,nodesWithMoreThan30FixedObjects:0,
nodesWithMoreThan100FixedObjects:0,maxDepth:0};t(w,0,F);F.totalNumObjects=F.leafObjects+F.fixedObjects;F.totalNumNodes=F.leafNodes+F.innerNodes;F.estimatedMemUsage=200*F.totalNumNodes+4*F.totalNumObjects;return F};this.debugDump=function(){return n(w)};this.validate=function(){return h(w,B(),C())};var y=[0,0,0],D=[0,0,0]}})},"engine/lib/Object3D":function(){define(["engine/lib/IdGen","engine/lib/Util","engine/lib/gl-matrix","engine/parts/Model"],function(G,A,a,m){var p=new IdGen,t=new IdGen;GeometryRecord=
function(n,h,c){var b=t.gen(n.getId());this.getId=function(){return b};this.geometry=n;this.materials=h;this.transformation=c};Object3D=function(n,h,c,b,e,f,k){var u=this,v=p.gen(k);this.getId=function(){return v};var g=void 0;this.getParentLayer=function(){return g};this.addParentLayer=function(H){assert(void 0===g,"Object3D can only be added to a single Layer");g=H};this.removeParentLayer=function(H){g=void 0};assert(c.length===h.length,"Object3D: materials don't match geometries");assert(b.length===
h.length,"Object3D: transformations don't match geometries");var q=Array(h.length),x=h.slice();for(k=0;k<h.length;k++)assert(c[k]instanceof Array,"Object3D: geometryMaterials must be array of array"),q[k]=new GeometryRecord(h[k],c[k].slice(),mat4d.create(b[k]));var w=mat4d.identity();h=function(){this.min=vec3d.create();this.max=vec3d.create();this.center=vec3d.create();this.init=function(){vec3.set3(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,this.min);vec3.set3(-Number.MAX_VALUE,-Number.MAX_VALUE,
-Number.MAX_VALUE,this.max)}};var B=new h,z=new h,C=!0,y=void 0;this.getNumGeometryRecords=function(){return q.length};this.getFirstGeometryIndex=function(H){H=x.indexOf(H);assert(-1<H,"Object3D.getFirstGeometryIndex: geometry not found");return H};this.findGeometryRecords=function(H){for(var E=[],I=0;I<x.length;I++)x[I]===H&&E.push(q[I]);return E};this.getGeometryRecord=function(H){assert(0<=H&&H<q.length,"Object3d.getGeometryDataByIndex: index out of range");return q[H]};this.getGeometryRecords=
function(){return q};this.addGeometry=function(H,E,I){assert(E instanceof Array,"Object3D.addGeometry: materials must be array");x.push(H);H=new GeometryRecord(H,E.slice(),mat4d.create(I));q.push(H);this.notifyDirty("objGeometryAdded",H);F();return H};this.hasGeometry=function(H){return-1<x.indexOf(H)};this.removeGeometry=function(H){x.splice(H,1)[0];H=q.splice(H,1)[0];this.notifyDirty("objGeometryRemoved",H);F();return H};this.replaceGeometry=function(H,E){assert(0<=H&&H<q.length,"Object3d.replaceGeometry: index out of range");
var I=q[H],J=new GeometryRecord(E,I.materials,I.transformation);q[H]=J;x[H]=E;this.notifyDirty("objGeometryReplaced",[I,J]);F();return I.geometry};this.replaceGeometryMaterials=function(H,E){assert(0<=H&&H<q.length,"Object3d.replaceGeometryMaterials: index out of range");var I=q[H],J=I.materials;E=new GeometryRecord(I.geometry,E.slice(),I.transformation);q[H]=E;this.notifyDirty("objGeometryReplaced",[I,E]);return J};this.setGeometryTransformation=function(H,E){assert(0<=H&&H<q.length,"Object3d.setGeometryTransformation: index out of range");
var I=q[H];E=new GeometryRecord(I.geometry,I.materials,mat4d.create(E));q[H]=E;this.notifyDirty("objGeometryReplaced",[I,E]);F()};this.getObjectTransformation=function(){return mat4d.create(w)};this.setObjectTransformation=function(H){mat4d.set(H,w);F();this.notifyDirty("objTransformation")};this.getCastShadow=function(){return e};this.getMetadata=function(){return f};this.getName=function(){return n};this.getBBMin=function(H){D();return H?B.min:z.min};this.getBBMax=function(H){D();return H?B.max:
z.max};this.getCenter=function(H){D();return H?B.center:z.center};this.getBSRadiusApprox=function(){D();return y};var D=function(){if(C){B.init();z.init();for(var H=vec3.create(),E=vec3.create(),I=0;I<q.length;++I)for(var J=x[I],K=0,L=J.getNumGroups();K<L;++K){var O=J.getBoundingInfo(K);mat4.multiplyVec3(q[I].transformation,O.getBBMin(),H);mat4.multiplyVec3(q[I].transformation,O.getBBMax(),E);for(O=0;3>O;++O)B.min[O]=Math.min(B.min[O],H[O]),B.max[O]=Math.max(B.max[O],E[O]);mat4.multiplyVec3(w,H);
mat4.multiplyVec3(w,E);for(O=0;3>O;++O)z.min[O]=Math.min(z.min[O],H[O]),z.max[O]=Math.max(z.max[O],E[O])}vec3.lerp(B.min,B.max,.5,B.center);vec3.lerp(z.min,z.max,.5,z.center);for(I=y=0;I<q.length;++I)for(J=x[I],K=0,L=J.getNumGroups();K<L;++K)O=J.getBoundingInfo(K),mat4.multiplyVec3(q[I].transformation,O.getCenter(),H),y=Math.max(y,vec3.dist(H,B.center)+O.getBSRadius(K));C=!1}},F=function(){C=!0;var H={bbMin:z.min,bbMax:z.max,center:z.center,bsRadius:y};g&&g.notifyObjectBBChanged(u,H)};this.notifyDirty=
function(H,E,I,J){g&&(I=I||m.ContentType.OBJECT,g.notifyDirty(H,E,I,J||this))}}})},"engine/lib/Selector":function(){define(["engine/lib/PerformanceTimer","engine/lib/gl-matrix"],function(G){Selector=function(A,a,m,p,t,n){function h(){this.dist=void 0;this.normal=vec3d.create();this.name=this.object=void 0;this.getIntersectionPoint=function(C){if(void 0===this.dist)return!1;vec3d.lerp(m,p,this.dist,C);return!0}}var c=vec3d.create;vec3d.subtract(p,m,c);var b=new h,e=new h,f=new G(1),k=0,u=mat4d.create(),
v=vec3d.create(),g=vec3d.create();this.intersectObject=function(C){k++;for(var y=C.getId(),D=C.getGeometryRecords(),F=C.getObjectTransformation(),H=mat4d.create(),E=0;E<D.length;E++){var I=D[E].geometry,J=I.getId(),K=D[E].materials;mat4d.set(F,H);mat4d.multiply(H,D[E].transformation);mat4d.inverse(H,u);mat4d.multiplyVec3(u,m,v);mat4d.multiplyVec3(u,p,g);for(var L=0,O=I.getNumGroups();L<O;++L)K[L].intersect(I,L,H,t,m,p,v,g,n,function(U,S){if(0<=U){if(void 0===b.dist||U<b.dist)b.dist=U,vec3d.set(S,
b.normal),b.object=C,b.name=y,b.geometryId=J;if(void 0===e.dist||U>e.dist)e.dist=U,vec3d.set(S,e.normal),e.object=C,e.name=y,e.geometryId=J}})}};if(a){for(var q=new Set,x=0;x<a.length;x++)q.add(a[x]);var w=this.intersectObject;this.intersectObject=function(C){q.has(C.getId())&&w(C)}}f.start();for(a=0;a<A.length;++a){x=A[a];var B=x.getSpatialQueryAccelerator?x.getSpatialQueryAccelerator():void 0;if(B)B.forEachObjectAlongRay(m,c,this.intersectObject);else{B=x.getObjects();x=0;for(var z=B.length;x<z;++x)this.intersectObject(B[x])}}f.stop();
this.performanceInfo={queryDuration:f.getLast(),numObjectsTested:k};this.getMinResult=function(){return b};this.getMaxResult=function(){return e}}})},"arcgis3d/Camera":function(){define(["dojo/_base/declare"],function(G){return function(A,a,m,p){var t=arguments;1==arguments.length&&arguments[0].length&&(t=arguments[0]);this.position=[0,0,0];this.target=[0,0,0];this.fov;this.upVector=[0,1,0];if(2==t.length)this.position=t[0],this.target=t[1];else if(3==t.length)this.position=t[0],this.target=t[1],
this.fov=t[2];else if(4==t.length)this.position=t[0],this.target=t[1],this.fov=t[2],this.upVector=t[3];else throw new TypeError("unexpected arguments:"+arguments);}})},"arcgis3d/utils/CoordinateSystemHelper":function(){define(["dojo/_base/declare","engine/lib/proj4","engine/lib/Util"],function(G,A){function a(u,v,g,q){q=q||k;if(3857===v.wkid){v=u[1];var x=q;x[0]=u[0]/6378137;x[1]=1.5707963267948966-2*Math.atan(Math.exp(-1*v/6378137))}else if(4326===v.wkid)q[0]=deg2rad(u[0]),q[1]=deg2rad(u[1]);else if(h(v.wkid))n(u,
v.wkid,q,4326),q[0]=deg2rad(q[0]),q[1]=deg2rad(q[1]);else return!1;latLon2position(q[1],q[0],g,c+(u[2]||0));return!0}function m(u,v,g){pos2latLon(u,f);g[0]=f[1];g[1]=f[0];g[2]=f[2]-EARTH_RADIUS;if(4326!==v.wkid)if(3857===v.wkid)g[0]=deg2rad(g[0]),g[1]=deg2rad(g[1]),t(g,g);else if(h(v.wkid))n(g,4326,g,v.wkid);else return!1;return!0}function p(u,v,g){g[0]=u[0];g[1]=u[1];g[2]=u[2];return!0}function t(u,v){1.570796<u[1]?u[1]=1.570796:-1.570796>u[1]&&(u[1]=-1.570796);v[0]=6378137*u[0];v[1]=3189068.5*Math.log((1+
Math.sin(u[1]))/(1-Math.sin(u[1])))}function n(u,v,g,q){b[v]||(b[v]=new A.Proj("EPSG:"+v));b[q]||(b[q]=new A.Proj("EPSG:"+q));e.x=u[0];e.y=u[1];e.z=0;A.transform(b[v],b[q],e);g[0]=e.x;g[1]=e.y}function h(u){return 32601<=u&&32660>=u||32701<=u&&32760>=u}var c=EARTH_RADIUS,b={},e=new A.Point,f=vec3d.create(),k=[0,0];G=G([],{_toEnginePosition:a,_fromEnginePosition:m,_engineMode:"spherical",_enginePCS:3857,constructor:function(u){u&&this.setEngineMode(u)},getEngineMode:function(){return this._engineMode},
setEngineMode:function(u){"spherical"===u?(this._toEnginePosition=a,this._fromEnginePosition=m):"planar"===u?(this._toEnginePosition=this._toEnginePositionPlanar,this._fromEnginePosition=this._fromEnginePositionPlanar):"legacyFishtank"===u?this._fromEnginePosition=this._toEnginePosition=p:assert(!1,"CoordinateSystemHelper: Unknown engine mode");this._engineMode=u},setPlanarPCSFromSpatialReference:function(u){3857===u.wkid||h(u.wkid)?this._enginePCS=u.wkid:this._enginePCS=3857},toEngineTransformation:function(u,
v,g){return this._toEnginePosition(u,v,f,k)?(mat4.identity(g),mat4.translate(g,f),"spherical"===this._engineMode&&(mat4.rotateY(g,.5*Math.PI+k[0]),mat4.rotateX(g,.5*Math.PI-k[1])),!0):!1},pointToEngineTransformation:function(u,v){f[0]=u.x;f[1]=u.y;f[2]=u.z;return this.toEngineTransformation(f,u.spatialReference,v)},toEnginePosition:function(u,v,g){return this._toEnginePosition(u,v,g)},pointToEnginePosition:function(u,v){f[0]=u.x;f[1]=u.y;f[2]=u.z;return this._toEnginePosition(f,u.spatialReference,
v)},fromEngineTransformation:function(u,v,g){g[0]=u[12];g[1]=u[13];g[2]=u[14];return this._fromEnginePosition(g,v,g)},fromEnginePosition:function(u,v,g){return this._fromEnginePosition(u,v,g)},toWebMercator:function(u,v,g){if(3857===v.wkid)g[0]=u[0],g[1]=u[1];else if(4326===v.wkid)g[0]=deg2rad(u[0]),g[1]=deg2rad(u[1]),t(g,g);else if(h(v.wkid))n(u,v.wkid,g,3857);else return!1},toWGS84:function(u,v,g){if(3857===v.wkid)v=u[1],g[0]=u[0]/6378137,g[1]=1.5707963267948966-2*Math.atan(Math.exp(-1*v/6378137)),
g[0]=rad2deg(g[0]),g[1]=rad2deg(g[1]);else if(4326===v.wkid)g[0]=u[0],g[1]=u[1];else if(h(v.wkid))n(u,v.wkid,g,4326);else return!1},_toEnginePositionPlanar:function(u,v,g){var q=u[2];if(3857===v.wkid)g[0]=u[0],g[1]=u[1];else if(4326===v.wkid)g[0]=deg2rad(u[0]),g[1]=deg2rad(u[1]),t(g,g);else if(h(v.wkid))n(u,v.wkid,g,3857);else return!1;g[2]=-g[1];g[1]=q||0;return!0},_fromEnginePositionPlanar:function(u,v,g){if(3857===v.wkid||4326===v.wkid||h(v.wkid)){var q=u[1];g[0]=u[0];g[1]=-u[2];g[2]=0;n(u,this._enginePCS,
g,v.wkid);g[2]=q;return!0}return!1}});G.PLANAR_WORLD_PCS=3857;return G})},"engine/lib/proj4":function(){!function(G,A){"function"==typeof define&&define.amd?define(A):"undefined"!=typeof module?module.exports=A():G.proj4=A()}(this,function(){var G,A,a;return function(m){function p(C,y){var D,F,H,E,I,J,K=y&&y.split("/"),L=v.map,O=L&&L["*"]||{};if(C&&"."===C.charAt(0))if(y){K=K.slice(0,K.length-1);C=K.concat(C.split("/"));for(y=0;y<C.length;y+=1)if(D=C[y],"."===D)C.splice(y,1),--y;else if(".."===D){if(1===
y&&(".."===C[2]||".."===C[0]))break;0<y&&(C.splice(y-1,2),y-=2)}C=C.join("/")}else 0===C.indexOf("./")&&(C=C.substring(2));if((K||O)&&L){D=C.split("/");for(y=D.length;0<y;--y){if(F=D.slice(0,y).join("/"),K)for(J=K.length;0<J;--J)if(H=L[K.slice(0,J).join("/")],H&&(H=H[F])){var U=H;var S=y;break}if(U)break;!E&&O&&O[F]&&(E=O[F],I=y)}!U&&E&&(U=E,S=I);U&&(D.splice(0,S,U),C=D.join("/"))}return C}function t(C,y){return function(){return f.apply(m,x.call(arguments,0).concat([C,y]))}}function n(C){return function(y){return p(y,
C)}}function h(C){return function(y){k[C]=y}}function c(C){if(q.call(u,C)){var y=u[C];delete u[C];g[C]=!0;z.apply(m,y)}if(!q.call(k,C)&&!q.call(g,C))throw Error("No "+C);return k[C]}function b(C){var y,D=C?C.indexOf("!"):-1;return-1<D&&(y=C.substring(0,D),C=C.substring(D+1,C.length)),[y,C]}function e(C){return function(){return v&&v.config&&v.config[C]||{}}}var f,k={},u={},v={},g={},q=Object.prototype.hasOwnProperty,x=[].slice;var w=function(C,y){var D,F=b(C),H=F[0];return C=F[1],H&&(H=p(H,y),D=c(H)),
H?C=D&&D.normalize?D.normalize(C,n(y)):p(C,y):(C=p(C,y),F=b(C),H=F[0],C=F[1],H&&(D=c(H))),{f:H?H+"!"+C:C,n:C,pr:H,p:D}};var B={require:function(C){return t(C)},exports:function(C){var y=k[C];return"undefined"!=typeof y?y:k[C]={}},module:function(C){return{id:C,uri:"",exports:k[C],config:e(C)}}};var z=function(C,y,D,F){var H,E,I,J=[];if(F=F||C,"function"==typeof D){y=!y.length&&D.length?["require","exports","module"]:y;for(I=0;I<y.length;I+=1)if(E=w(y[I],F),H=E.f,"require"===H)J[I]=B.require(C);else if("exports"===
H){J[I]=B.exports(C);var K=!0}else if("module"===H)var L=J[I]=B.module(C);else if(q.call(k,H)||q.call(u,H)||q.call(g,H))J[I]=c(H);else{if(!E.p)throw Error(C+" missing "+H);E.p.load(E.n,t(F,!0),h(H),{});J[I]=k[H]}y=D.apply(k[C],J);C&&(L&&L.exports!==m&&L.exports!==k[C]?k[C]=L.exports:y===m&&K||(k[C]=y))}else C&&(k[C]=D)};G=A=f=function(C,y,D,F,H){return"string"==typeof C?B[C]?B[C](y):c(w(C,y).f):(C.splice||(v=C,y.splice?(C=y,y=D,D=null):C=m),y=y||function(){},"function"==typeof D&&(D=F,F=H),F?z(m,
C,y,D):setTimeout(function(){z(m,C,y,D)},4),f)};f.config=function(C){return v=C,v.deps&&f(v.deps,v.callback),f};G._defined=k;a=function(C,y,D){y.splice||(D=y,y=[]);q.call(k,C)||q.call(u,C)||(u[C]=[C,y,D])};a.amd={jQuery:!0}}(),a("../node_modules/almond/almond",function(){}),a("mgrs",["require","exports","module"],function(m,p){function t(b){var e=b.easting,f=b.zoneNumber;if(0>f||60<f)return null;var k=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562));var u=b.northing;"N">b.zoneLetter&&(u-=1E7);u=
u/.9996/6367449.145945056;var v=u+(3*k/2-27*k*k*k/32)*Math.sin(2*u)+(21*k*k/16-55*k*k*k*k/32)*Math.sin(4*u)+151*k*k*k/96*Math.sin(6*u);var g=6378137/Math.sqrt(1-.00669438*Math.sin(v)*Math.sin(v));k=Math.tan(v)*Math.tan(v);u=.006739496752268451*Math.cos(v)*Math.cos(v);var q=6335439.32722994/Math.pow(1-.00669438*Math.sin(v)*Math.sin(v),1.5);e=(e-5E5)/(.9996*g);g=v-g*Math.tan(v)/q*(e*e/2-(5+3*k+10*u-4*u*u-.06065547077041606)*e*e*e*e/24+(61+90*k+298*u+45*k*k-1.6983531815716497-3*u*u)*e*e*e*e*e*e/720);
g=g/Math.PI*180;e=(e-(1+2*k+u)*e*e*e/6+(5-2*u+28*k-3*u*u+.05391597401814761+24*k*k)*e*e*e*e*e/120)/Math.cos(v);e=6*(f-1)-180+3+e/Math.PI*180;b.accuracy?(b=t({northing:b.northing+b.accuracy,easting:b.easting+b.accuracy,zoneLetter:b.zoneLetter,zoneNumber:b.zoneNumber}),b={top:b.lat,right:b.lon,bottom:g,left:e}):b={lat:g,lon:e};return b}function n(b){b%=c;return 0===b&&(b=c),b}function h(b){switch(b){case "C":var e=11E5;break;case "D":e=2E6;break;case "E":e=28E5;break;case "F":e=37E5;break;case "G":e=
46E5;break;case "H":e=55E5;break;case "J":e=64E5;break;case "K":e=73E5;break;case "L":e=82E5;break;case "M":e=91E5;break;case "N":e=0;break;case "P":e=8E5;break;case "Q":e=17E5;break;case "R":e=26E5;break;case "S":e=35E5;break;case "T":e=44E5;break;case "U":e=53E5;break;case "V":e=62E5;break;case "W":e=7E6;break;case "X":e=79E5;break;default:e=-1}if(0<=e)return e;throw"Invalid zone letter: "+b;}var c=6;p.forward=function(b,e){var f=b.lat;var k=b.lon;var u=Math.PI/180*f;var v=Math.PI/180*k;b=Math.floor((k+
180)/6)+1;180===k&&(b=60);56<=f&&64>f&&3<=k&&12>k&&(b=32);72<=f&&84>f&&(0<=k&&9>k?b=31:9<=k&&21>k?b=33:21<=k&&33>k?b=35:33<=k&&42>k&&(b=37));var g=Math.PI/180*(6*(b-1)-180+3);k=6378137/Math.sqrt(1-.00669438*Math.sin(u)*Math.sin(u));var q=Math.tan(u)*Math.tan(u);var x=.006739496752268451*Math.cos(u)*Math.cos(u);v=Math.cos(u)*(v-g);u=.9996*(6378137*(.9983242984503243*u-.002514607064228144*Math.sin(2*u)+2.639046602129982E-6*Math.sin(4*u)-3.4180461016968582E-9*Math.sin(6*u))+k*Math.tan(u)*(v*v/2+(5-q+
9*x+4*x*x)*v*v*v*v/24+(61-58*q+q*q+600*x-2.2240339282485886)*v*v*v*v*v*v/720));0>f&&(u+=1E7);u=Math.round(u);v=Math.round(.9996*k*(v+(1-q+x)*v*v*v/6+(5-18*q+q*q+72*x-.39089081163157013)*v*v*v*v*v/120)+5E5);q=b;b="Z";k=(84>=f&&72<=f?b="X":72>f&&64<=f?b="W":64>f&&56<=f?b="V":56>f&&48<=f?b="U":48>f&&40<=f?b="T":40>f&&32<=f?b="S":32>f&&24<=f?b="R":24>f&&16<=f?b="Q":16>f&&8<=f?b="P":8>f&&0<=f?b="N":0>f&&-8<=f?b="M":-8>f&&-16<=f?b="L":-16>f&&-24<=f?b="K":-24>f&&-32<=f?b="J":-32>f&&-40<=f?b="H":-40>f&&-48<=
f?b="G":-48>f&&-56<=f?b="F":-56>f&&-64<=f?b="E":-64>f&&-72<=f?b="D":-72>f&&-80<=f&&(b="C"),b);x=u;u=v;e=e||5;f=""+u;b=""+x;k=q+k;q=n(q);u=Math.floor(u/1E5);x=Math.floor(x/1E5)%20;v=q-1;q="AJSAJS".charCodeAt(v);v="AFAFAF".charCodeAt(v);u=q+u-1;x=v+x;g=!1;90<u&&(u=u-90+65-1,g=!0);(73===u||73>q&&73<u||(73<u||73>q)&&g)&&u++;(79===u||79>q&&79<u||(79<u||79>q)&&g)&&(u++,73===u&&u++);90<u&&(u=u-90+65-1);86<x?(x=x-86+65-1,g=!0):g=!1;(73===x||73>v&&73<x||(73<x||73>v)&&g)&&x++;(79===x||79>v&&79<x||(79<x||79>
v)&&g)&&(x++,73===x&&x++);86<x&&(x=x-86+65-1);q=String.fromCharCode(u)+String.fromCharCode(x);return k+q+f.substr(f.length-5,e)+b.substr(b.length-5,e)};p.inverse=function(b){if((b=b.toUpperCase())&&0===b.length)throw"MGRSPoint coverting from nothing";for(var e,f=b.length,k=null,u="",v=0;!/[A-Z]/.test(e=b.charAt(v));){if(2<=v)throw"MGRSPoint bad conversion from: "+b;u+=e;v++}e=parseInt(u,10);if(0===v||v+3>f)throw"MGRSPoint bad conversion from: "+b;u=b.charAt(v++);if("A">=u||"B"===u||"Y"===u||"Z"<=
u||"I"===u||"O"===u)throw"MGRSPoint zone letter "+u+" not handled: "+b;k=b.substring(v,v+=2);var g=n(e);var q=k.charAt(0);for(var x="AJSAJS".charCodeAt(g-1),w=1E5,B=!1;x!==q.charCodeAt(0);){if(x++,73===x&&x++,79===x&&x++,90<x){if(B)throw"Bad character: "+q;x=65;B=!0}w+=1E5}q=w;k=k.charAt(1);if("V"<k)throw"MGRSPoint given invalid Northing "+k;g="AFAFAF".charCodeAt(g-1);x=0;for(w=!1;g!==k.charCodeAt(0);){if(g++,73===g&&g++,79===g&&g++,86<g){if(w)throw"Bad character: "+k;g=65;w=!0}x+=1E5}for(g=x;g<h(u);)g+=
2E6;f-=v;if(0!==f%2)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+b;var z,C,y,D,F;x=f/2;k=f=0;b=(0<x&&(z=1E5/Math.pow(10,x),C=b.substring(v,v+x),f=parseFloat(C)*z,y=b.substring(v+x),k=parseFloat(y)*z),D=f+q,F=k+g,{easting:D,northing:F,zoneLetter:u,zoneNumber:e,accuracy:z});z=t(b);return[z.left,z.bottom,z.right,z.top]}}),a("Point",["require","exports","module","./mgrs"],function(m,
p,t){function n(c,b,e){if(!(this instanceof n))return new n(c,b,e);"object"==typeof c?(this.x=c[0],this.y=c[1],this.z=c[2]||0):"string"==typeof c&&"undefined"==typeof b?(c=c.split(","),this.x=parseFloat(c[0]),this.y=parseFloat(c[1]),this.z=parseFloat(c[2])||0):(this.x=c,this.y=b,this.z=e||0);this.clone=function(){return new n(this.x,this.y,this.z)};this.toString=function(){return"x\x3d"+this.x+",y\x3d"+this.y};this.toShortString=function(){return this.x+", "+this.y}}var h=m("./mgrs");n.fromMGRS=function(c){c=
h.inverse(c);return new n((c[2]+c[0])/2,(c[3]+c[1])/2)};n.prototype.toMGRS=function(c){return h.forward({lon:this.x,lat:this.y},c)};t.exports=n}),a("extend",["require","exports","module"],function(m,p,t){t.exports=function(n,h){n=n||{};var c;if(!h)return n;for(c in h){var b=h[c];void 0!==b&&(n[c]=b)}return n}}),a("common",["require","exports","module"],function(m,p,t){var n={PI:3.141592653589793,HALF_PI:1.5707963267948966,TWO_PI:6.283185307179586,FORTPI:.7853981633974483,R2D:57.29577951308232,D2R:.017453292519943295,
SEC_TO_RAD:4.84813681109536E-6,EPSLN:1E-10,MAX_ITER:20,COS_67P5:.3826834323650898,AD_C:1.0026,PJD_UNKNOWN:0,PJD_3PARAM:1,PJD_7PARAM:2,PJD_GRIDSHIFT:3,PJD_WGS84:4,PJD_NODATUM:5,SRS_WGS84_SEMIMAJOR:6378137,SRS_WGS84_ESQUARED:.006694379990141316,SIXTH:.16666666666666666,RA4:.04722222222222222,RA6:.022156084656084655,RV4:.06944444444444445,RV6:.04243827160493827,msfnz:function(h,c,b){h*=c;return b/Math.sqrt(1-h*h)},tsfnz:function(h,c,b){b*=h;return b=Math.pow((1-b)/(1+b),.5*h),Math.tan(.5*(this.HALF_PI-
c))/b},phi2z:function(h,c){for(var b,e,f=.5*h,k=this.HALF_PI-2*Math.atan(c),u=0;15>=u;u++)if(b=h*Math.sin(k),e=this.HALF_PI-2*Math.atan(c*Math.pow((1-b)/(1+b),f))-k,k+=e,1E-10>=Math.abs(e))return k;return-9999},qsfnz:function(h,c){var b;return 1E-7<h?(b=h*c,(1-h*h)*(c/(1-b*b)-.5/h*Math.log((1-b)/(1+b)))):2*c},iqsfnz:function(h,c){if(1E-6>Math.abs(Math.abs(c)-(1-(1-h*h)/(2*h)*Math.log((1-h)/(1+h)))))return 0>c?-1*n.HALF_PI:n.HALF_PI;for(var b,e,f,k,u=Math.asin(.5*c),v=0;30>v;v++)if(e=Math.sin(u),f=
Math.cos(u),k=h*e,b=Math.pow(1-k*k,2)/(2*f)*(c/(1-h*h)-e/(1-k*k)+.5/h*Math.log((1-k)/(1+k))),u+=b,1E-10>=Math.abs(b))return u;return 0/0},asinz:function(h){return 1<Math.abs(h)&&(h=1<h?1:-1),Math.asin(h)},e0fn:function(h){return 1-.25*h*(1+h/16*(3+1.25*h))},e1fn:function(h){return.375*h*(1+.25*h*(1+.46875*h))},e2fn:function(h){return.05859375*h*h*(1+.75*h)},e3fn:function(h){return 35/3072*h*h*h},mlfn:function(h,c,b,e,f){return h*f-c*Math.sin(2*f)+b*Math.sin(4*f)-e*Math.sin(6*f)},imlfn:function(h,
c,b,e,f){var k;var u=h/c;for(var v=0;15>v;v++)if(k=(h-(c*u-b*Math.sin(2*u)+e*Math.sin(4*u)-f*Math.sin(6*u)))/(c-2*b*Math.cos(2*u)+4*e*Math.cos(4*u)-6*f*Math.cos(6*u)),u+=k,1E-10>=Math.abs(k))return u;return 0/0},srat:function(h,c){return Math.pow((1-h)/(1+h),c)},sign:function(h){return 0>h?-1:1},adjust_lon:function(h){return h=Math.abs(h)<this.PI?h:h-this.sign(h)*this.TWO_PI},adjust_lat:function(h){return h=Math.abs(h)<this.HALF_PI?h:h-this.sign(h)*this.PI},latiso:function(h,c,b){if(Math.abs(c)>this.HALF_PI)return Number.NaN;
if(c===this.HALF_PI)return Number.POSITIVE_INFINITY;if(c===-1*this.HALF_PI)return Number.NEGATIVE_INFINITY;b*=h;return Math.log(Math.tan((this.HALF_PI+c)/2))+h*Math.log((1-b)/(1+b))/2},fL:function(h,c){return 2*Math.atan(h*Math.exp(c))-this.HALF_PI},invlatiso:function(h,c){var b=this.fL(1,c),e=0,f=0;do e=b,f=h*Math.sin(e),b=this.fL(Math.exp(h*Math.log((1+f)/(1-f))/2),c);while(1E-12<Math.abs(b-e));return b},sinh:function(h){h=Math.exp(h);return h=(h-1/h)/2},cosh:function(h){h=Math.exp(h);return h=
(h+1/h)/2},tanh:function(h){h=Math.exp(h);return h=(h-1/h)/(h+1/h)},asinh:function(h){return(0<=h?1:-1)*Math.log(Math.abs(h)+Math.sqrt(h*h+1))},acosh:function(h){return 2*Math.log(Math.sqrt((h+1)/2)+Math.sqrt((h-1)/2))},atanh:function(h){return Math.log((h-1)/(h+1))/2},gN:function(h,c,b){c*=b;return h/Math.sqrt(1-c*c)},pj_enfn:function(h){var c=[];c[0]=this.C00-h*(this.C02+h*(this.C04+h*(this.C06+h*this.C08)));c[1]=h*(this.C22-h*(this.C04+h*(this.C06+h*this.C08)));var b=h*h;return c[2]=b*(this.C44-
h*(this.C46+h*this.C48)),b*=h,c[3]=b*(this.C66-h*this.C68),c[4]=b*h*this.C88,c},pj_mlfn:function(h,c,b,e){return b*=c,c*=c,e[0]*h-b*(e[1]+c*(e[2]+c*(e[3]+c*e[4])))},pj_inv_mlfn:function(h,c,b){for(var e=1/(1-c),f=h,k=n.MAX_ITER;k;--k){var u=Math.sin(f),v=1-c*u*u;if(v=(this.pj_mlfn(f,u,Math.cos(f),b)-h)*v*Math.sqrt(v)*e,f-=v,Math.abs(v)<n.EPSLN)break}return f},nad_intr:function(h,c){var b,e=(h.x-1E-7)/c.del[0];h=(h.y-1E-7)/c.del[1];var f=Math.floor(e),k=Math.floor(h);e-=1*f;var u=h-1*k;h={x:Number.NaN,
y:Number.NaN};if(0>f){if(!(-1===f&&.99999999999<e))return h;f++;e=0}else if(b=f+1,b>=c.lim[0]){if(!(b===c.lim[0]&&1E-11>e))return h;f--;e=1}if(0>k){if(!(-1===k&&.99999999999<u))return h;k++;u=0}else if(b=k+1,b>=c.lim[1]){if(!(b===c.lim[1]&&1E-11>u))return h;k++;u=1}b=k*c.lim[0]+f;f=c.cvs[b][0];k=c.cvs[b][1];b++;var v=c.cvs[b][0],g=c.cvs[b][1];b+=c.lim[0];var q=c.cvs[b][0],x=c.cvs[b][1];b--;var w=c.cvs[b][1],B=e*u,z=e*(1-u),C=(1-e)*(1-u);e=(1-e)*u;return h.x=C*f+z*v+e*c.cvs[b][0]+B*q,h.y=C*k+z*g+e*
w+B*x,h},nad_cvt:function(h,c,b){var e={x:Number.NaN,y:Number.NaN};if(isNaN(h.x))return e;var f={x:h.x,y:h.y};f.x-=b.ll[0];f.y-=b.ll[1];f.x=n.adjust_lon(f.x-n.PI)+n.PI;var k=n.nad_intr(f,b);if(c){if(isNaN(k.x))return e;k.x=f.x+k.x;k.y=f.y-k.y;var u,v=9;do{if(u=n.nad_intr(k,b),isNaN(u.x)){this.reportError("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}h=k.x-u.x-f.x;c=k.y+u.y-f.y;k.x-=h;k.y-=c}while(v--&&1E-12<Math.abs(h)&&1E-12<Math.abs(c));if(0>
v)return this.reportError("Inverse grid shift iterator failed to converge."),e;e.x=n.adjust_lon(k.x+b.ll[0]);e.y=k.y+b.ll[1]}else isNaN(k.x)||(e.x=h.x-k.x,e.y=h.y+k.y);return e},C00:1,C02:.25,C04:.046875,C06:.01953125,C08:.01068115234375,C22:.75,C44:.46875,C46:.013020833333333334,C48:.007120768229166667,C66:.3645833333333333,C68:.005696614583333333,C88:.3076171875};t.exports=n}),a("constants",["require","exports","module"],function(m,p,t){m={PrimeMeridian:{greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,
bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},Ellipsoid:{MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,
ellipseName:"Airy 1830"},"APL4.":{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl \x26 S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},
bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,
ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah \x26 Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},
intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,
b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS72:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r\x3d6370997)"}},Datum:{WGS84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},GGRS87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},NAD83:{towgs84:"0,0,0",
ellipse:"GRS80",datumName:"North_American_Datum_1983"},NAD27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
ellipse:"mod_airy",datumName:"Ireland 1965"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},OSGB36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"}}};m.Datum.OSB36=m.Datum.OSGB36;m.wktProjections={"Lambert Tangential Conformal Conic Projection":"lcc",Lambert_Conformal_Conic:"lcc",Mercator:"merc","Popular Visualisation Pseudo Mercator":"merc",Mercator_1SP:"merc",Transverse_Mercator:"tmerc",
"Transverse Mercator":"tmerc","Lambert Azimuthal Equal Area":"laea","Universal Transverse Mercator System":"utm"};m.grids={"null":{ll:[-3.14159265,-1.57079633],del:[3.14159265,1.57079633],lim:[3,3],count:9,cvs:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]]}};t.exports=m}),a("defs/global",["require","exports","module"],function(m,p,t){t.exports=function(n){n("WGS84","+title\x3dWGS 84 (long/lat) +proj\x3dlonglat +ellps\x3dWGS84 +datum\x3dWGS84 +units\x3ddegrees");n("EPSG:4326","+title\x3dWGS 84 (long/lat) +proj\x3dlonglat +ellps\x3dWGS84 +datum\x3dWGS84 +units\x3ddegrees");
n("EPSG:4269","+title\x3dNAD83 (long/lat) +proj\x3dlonglat +a\x3d6378137.0 +b\x3d6356752.31414036 +ellps\x3dGRS80 +datum\x3dNAD83 +units\x3ddegrees");n("EPSG:3857","+title\x3dWGS 84 / Pseudo-Mercator +proj\x3dmerc +a\x3d6378137 +b\x3d6378137 +lat_ts\x3d0.0 +lon_0\x3d0.0 +x_0\x3d0.0 +y_0\x3d0 +k\x3d1.0 +units\x3dm +nadgrids\x3d@null +no_defs");n["EPSG:3785"]=n["EPSG:3857"];n.GOOGLE=n["EPSG:3857"];n["EPSG:900913"]=n["EPSG:3857"];n["EPSG:102113"]=n["EPSG:3857"]}}),a("defs/local",["require","exports",
"module"],function(m,p,t){t.exports=function(n){n([{EPSG:"4326",projName:"longlat",datumCode:"WGS84",no_defs:!0},{EPSG:"3857",projName:"merc",a:"6378137",b:"6378137",lat_ts:0,long0:0,x0:0,y0:0,k0:1,units:"m",wktext:!0,no_defs:!0},{EPSG:"32662",projName:"eqc",lat_ts:0,lat0:0,long0:0,x0:0,y0:0,datumCode:"WGS84",units:"m",no_defs:!0}])}}),a("defs","require exports module ./common ./constants ./defs/global ./defs/local".split(" "),function(m,p,t){function n(b){var e=this;if(2===arguments.length)var f=
arguments[1];else if(1===arguments.length)return Array.isArray(b)?b.map(function(x){Array.isArray(x)?n.apply(e,x):n(x)}):("string"==typeof b||("EPSG"in b?n["EPSG:"+b.EPSG]=b:"ESRI"in b?n["ESRI:"+b.ESRI]=b:"IAU2000"in b?n["IAU2000:"+b.IAU2000]=b:console.log(b)),void 0);var k,u={};-1<b.indexOf(":")&&(k=b.split(":"),u[k[0]]=k[1]);var v={};f.split("+").map(function(x){return x.trim()}).filter(function(x){return x}).forEach(function(x){x=x.split("\x3d");"@null"!==x[1]&&(x.push(!0),v[x[0].toLowerCase()]=
x[1])});var g,q;k={proj:"projName",datum:"datumCode",rf:function(x){u.rf=parseFloat(x,10)},lat_0:function(x){u.lat0=x*h.D2R},lat_1:function(x){u.lat1=x*h.D2R},lat_2:function(x){u.lat2=x*h.D2R},lat_ts:function(x){u.lat_ts=x*h.D2R},lon_0:function(x){u.long0=x*h.D2R},lon_1:function(x){u.long1=x*h.D2R},lon_2:function(x){u.long2=x*h.D2R},alpha:function(x){u.alpha=parseFloat(x)*h.D2R},lonc:function(x){u.longc=x*h.D2R},x_0:function(x){u.x0=parseFloat(x,10)},y_0:function(x){u.y0=parseFloat(x,10)},k_0:function(x){u.k0=
parseFloat(x,10)},k:function(x){u.k0=parseFloat(x,10)},r_a:function(){u.R_A=!0},zone:function(x){u.zone=parseInt(x,10)},south:function(){u.utmSouth=!0},towgs84:function(x){u.datum_params=x.split(",").map(function(w){return parseFloat(w,10)})},to_meter:function(x){u.to_meter=parseFloat(x,10)},from_greenwich:function(x){u.from_greenwich=x*h.D2R},pm:function(x){u.from_greenwich=(c.PrimeMeridian[x]?c.PrimeMeridian[x]:parseFloat(x,10))*h.D2R},axis:function(x){3===x.length&&-1!=="ewnsud".indexOf(x.substr(0,
1))&&-1!=="ewnsud".indexOf(x.substr(1,1))&&-1!=="ewnsud".indexOf(x.substr(2,1))&&(u.axis=x)}};for(g in v)f=v[g],g in k?(q=k[g],"function"==typeof q?q(f):u[q]=f):u[g]=f;return n[b]=u,b}var h=m("./common"),c=m("./constants");m("./defs/global")(n);m("./defs/local")(n);t.exports=n}),a("datum",["require","exports","module","./common"],function(m,p,t){var n=m("./common"),h=function(c){if(!(this instanceof h))return new h(c);if(this.datum_type=n.PJD_WGS84,c){if(c.datumCode&&"none"===c.datumCode&&(this.datum_type=
n.PJD_NODATUM),c.datum_params){for(var b=0;b<c.datum_params.length;b++)c.datum_params[b]=parseFloat(c.datum_params[b]);0===c.datum_params[0]&&0===c.datum_params[1]&&0===c.datum_params[2]||(this.datum_type=n.PJD_3PARAM);3<c.datum_params.length&&(0!==c.datum_params[3]||0!==c.datum_params[4]||0!==c.datum_params[5]||0!==c.datum_params[6])&&(this.datum_type=n.PJD_7PARAM,c.datum_params[3]*=n.SEC_TO_RAD,c.datum_params[4]*=n.SEC_TO_RAD,c.datum_params[5]*=n.SEC_TO_RAD,c.datum_params[6]=c.datum_params[6]/1E6+
1)}this.datum_type=c.grids?n.PJD_GRIDSHIFT:this.datum_type;this.a=c.a;this.b=c.b;this.es=c.es;this.ep2=c.ep2;this.datum_params=c.datum_params;this.datum_type===n.PJD_GRIDSHIFT&&(this.grids=c.grids)}};h.prototype={compare_datums:function(c){return this.datum_type!==c.datum_type?!1:this.a!==c.a||5E-11<Math.abs(this.es-c.es)?!1:this.datum_type===n.PJD_3PARAM?this.datum_params[0]===c.datum_params[0]&&this.datum_params[1]===c.datum_params[1]&&this.datum_params[2]===c.datum_params[2]:this.datum_type===
n.PJD_7PARAM?this.datum_params[0]===c.datum_params[0]&&this.datum_params[1]===c.datum_params[1]&&this.datum_params[2]===c.datum_params[2]&&this.datum_params[3]===c.datum_params[3]&&this.datum_params[4]===c.datum_params[4]&&this.datum_params[5]===c.datum_params[5]&&this.datum_params[6]===c.datum_params[6]:this.datum_type===n.PJD_GRIDSHIFT||c.datum_type===n.PJD_GRIDSHIFT?this.nadgrids===c.nadgrids:!0},geodetic_to_geocentric:function(c){var b,e,f,k,u,v,g,q=c.x,x=c.y,w=c.z?c.z:0;if(x<-n.HALF_PI&&x>-1.001*
n.HALF_PI)x=-n.HALF_PI;else if(x>n.HALF_PI&&x<1.001*n.HALF_PI)x=n.HALF_PI;else if(x<-n.HALF_PI||x>n.HALF_PI)return null;return q>n.PI&&(q-=2*n.PI),u=Math.sin(x),g=Math.cos(x),v=u*u,k=this.a/Math.sqrt(1-this.es*v),b=(k+w)*g*Math.cos(q),e=(k+w)*g*Math.sin(q),f=(k*(1-this.es)+w)*u,c.x=b,c.y=e,c.z=f,0},geocentric_to_geodetic:function(c){var b,e,f,k;var u=c.x;var v=c.y;var g=c.z?c.z:0;if(b=Math.sqrt(u*u+v*v),e=Math.sqrt(u*u+v*v+g*g),1E-12>b/this.a){if(v=0,1E-12>e/this.a)return f=n.HALF_PI,k=-this.b,void 0}else v=
Math.atan2(v,u);u=g/e;e=b/e;var q=1/Math.sqrt(1-this.es*(2-this.es)*e*e);var x=e*(1-this.es)*q;var w=u*q;var B=0;do{B++;var z=this.a/Math.sqrt(1-this.es*w*w);k=b*x+g*w-z*(1-this.es*w*w);z=this.es*z/(z+k);q=1/Math.sqrt(1-z*(2-z)*e*e);z=e*(1-z)*q;q*=u;var C=q*x-z*w;x=z;w=q}while(1E-24<C*C&&30>B);return f=Math.atan(q/Math.abs(z)),c.x=v,c.y=f,c.z=k,c},geocentric_to_geodetic_noniter:function(c){var b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F=c.x,H=c.y,E=c.z?c.z:0;if(F=parseFloat(F),H=parseFloat(H),E=parseFloat(E),
D=!1,0!==F)var I=Math.atan2(H,F);else if(0<H)I=n.HALF_PI;else if(0>H)I=-n.HALF_PI;else if(D=!0,I=0,0<E)var J=n.HALF_PI;else{if(!(0>E))return J=n.HALF_PI,b=-this.b,void 0;J=-n.HALF_PI}return f=F*F+H*H,e=Math.sqrt(f),k=E*n.AD_C,v=Math.sqrt(k*k+f),q=k/v,w=e/v,x=q*q*q,u=E+this.b*this.ep2*x,y=e-this.a*this.es*w*w*w,g=Math.sqrt(u*u+y*y),B=u/g,z=y/g,C=this.a/Math.sqrt(1-this.es*B*B),b=z>=n.COS_67P5?e/z-C:z<=-n.COS_67P5?e/-z-C:E/B+C*(this.es-1),!1===D&&(J=Math.atan(B/z)),c.x=I,c.y=J,c.z=b,c},geocentric_to_wgs84:function(c){if(this.datum_type===
n.PJD_3PARAM)c.x+=this.datum_params[0],c.y+=this.datum_params[1],c.z+=this.datum_params[2];else if(this.datum_type===n.PJD_7PARAM){var b=this.datum_params[3],e=this.datum_params[4],f=this.datum_params[5],k=this.datum_params[6],u=k*(f*c.x+c.y-b*c.z)+this.datum_params[1];b=k*(-e*c.x+b*c.y+c.z)+this.datum_params[2];c.x=k*(c.x-f*c.y+e*c.z)+this.datum_params[0];c.y=u;c.z=b}},geocentric_from_wgs84:function(c){if(this.datum_type===n.PJD_3PARAM)c.x-=this.datum_params[0],c.y-=this.datum_params[1],c.z-=this.datum_params[2];
else if(this.datum_type===n.PJD_7PARAM){var b=this.datum_params[3],e=this.datum_params[4],f=this.datum_params[5],k=this.datum_params[6],u=(c.x-this.datum_params[0])/k,v=(c.y-this.datum_params[1])/k;k=(c.z-this.datum_params[2])/k;c.x=u+f*v-e*k;c.y=-f*u+v+b*k;c.z=e*u-b*v+k}}};t.exports=h}),a("projCode/longlat",["require","exports","module"],function(m,p){function t(n){return n}p.init=function(){};p.forward=t;p.inverse=t}),a("projCode/merc",["require","exports","module","../common"],function(m,p,t){var n=
m("../common");t.exports={init:function(){var h=this.b/this.a;this.es=1-h*h;this.e=Math.sqrt(this.es);this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):n.msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(h){var c=h.x,b=h.y;if(90<b*n.R2D&&-90>b*n.R2D&&180<c*n.R2D&&-180>c*n.R2D||Math.abs(Math.abs(b)-n.HALF_PI)<=n.EPSLN)return null;this.sphere?(c=this.x0+this.a*this.k0*n.adjust_lon(c-this.long0),b=this.y0+this.a*this.k0*Math.log(Math.tan(n.FORTPI+
.5*b))):(b=n.tsfnz(this.e,b,Math.sin(b)),c=this.x0+this.a*this.k0*n.adjust_lon(c-this.long0),b=this.y0-this.a*this.k0*Math.log(b));return h.x=c,h.y=b,h},inverse:function(h){var c,b=h.x-this.x0,e=h.y-this.y0;if(this.sphere)var f=n.HALF_PI-2*Math.atan(Math.exp(-e/(this.a*this.k0)));else if(f=n.phi2z(this.e,Math.exp(-e/(this.a*this.k0))),-9999===f)return null;return c=n.adjust_lon(this.long0+b/(this.a*this.k0)),h.x=c,h.y=f,h}}}),a("projCode/eqc",["require","exports","module","../common"],function(m,
p,t){var n=m("../common");t.exports={init:function(){this.x0=this.x0||0;this.y0=this.y0||0;this.lat0=this.lat0||0;this.long0=this.long0||0;this.lat_ts=this.lat_t||0;this.title=this.title||"Equidistant Cylindrical (Plate Carre)";this.rc=Math.cos(this.lat_ts)},forward:function(h){var c=h.y,b=n.adjust_lon(h.x-this.long0);c=n.adjust_lat(c-this.lat0);return h.x=this.x0+this.a*b*this.rc,h.y=this.y0+this.a*c,h},inverse:function(h){var c=h.y;return h.x=n.adjust_lon(this.long0+(h.x-this.x0)/(this.a*this.rc)),
h.y=n.adjust_lat(this.lat0+(c-this.y0)/this.a),h}}}),a("projections","require exports module ./projCode/longlat ./projCode/merc ./projCode/eqc ./projCode/longlat".split(" "),function(m,p){p.longlat=m("./projCode/longlat");p.identity=p.longlat;p.merc=m("./projCode/merc");p.eqc=m("./projCode/eqc");p.longlat=m("./projCode/longlat");p.identity=p.longlat}),a("Proj","require exports module ./extend ./common ./defs ./constants ./datum ./projections".split(" "),function(m,p,t){var n=m("./extend"),h=m("./common"),
c=m("./defs"),b=m("./constants"),e=m("./datum");m=m("./projections");var f=function v(u){if(!(this instanceof v))return new v(u);if(this.srsCodeInput=u,0<=u.indexOf("GEOGCS")||0<=u.indexOf("GEOCCS")||0<=u.indexOf("PROJCS")||0<=u.indexOf("LOCAL_CS"))this.parseWKT(u),this.deriveConstants();else{if(0===u.indexOf("urn:")){var g=u.split(":");"ogc"!==g[1]&&"x-ogc"!==g[1]||"def"!==g[2]||"crs"!==g[3]||(u=g[4]+":"+g[g.length-1])}else 0===u.indexOf("http://")&&(g=u.split("#"),g[0].match(/epsg.org/)?u="EPSG:"+
g[1]:g[0].match(/RIG.xml/)?u="IGNF:"+g[1]:-1!==g[0].indexOf("/def/crs/")&&(g=u.split("/"),u=g.pop(),g.pop(),u=g.pop()+":"+u));this.srsCode=u.toUpperCase();0===this.srsCode.indexOf("EPSG")?(this.srsCode=this.srsCode,this.srsAuth="epsg",this.srsProjNumber=this.srsCode.substring(5)):0===this.srsCode.indexOf("IGNF")?(this.srsCode=this.srsCode,this.srsAuth="IGNF",this.srsProjNumber=this.srsCode.substring(5)):0===this.srsCode.indexOf("CRS")?(this.srsCode=this.srsCode,this.srsAuth="CRS",this.srsProjNumber=
this.srsCode.substring(4)):(this.srsAuth="",this.srsProjNumber=this.srsCode);this.parseDefs()}this.initTransforms(this.projName)};f.prototype={title:null,projName:null,units:null,datum:null,x0:0,y0:0,localCS:!1,initTransforms:function(u){if(!(u in f.projections))throw"unknown projection "+u;n(this,f.projections[u]);this.init()},wktRE:/^(\w+)\[(.*)\]$/,parseWKT:function(u){if(u=u.match(this.wktRE)){var v=u[1],g=u[2].split(",");var q="TOWGS84"===v.toUpperCase()?v:g.shift();q=q.replace(/^"/,"");q=q.replace(/"$/,
"");u=[];for(var x=0,w="",B=0;B<g.length;++B){for(var z=g[B],C=0;C<z.length;++C)"["===z.charAt(C)&&++x,"]"===z.charAt(C)&&--x;w+=z;0===x?(u.push(w),w=""):w+=","}var y;switch(v){case "LOCAL_CS":this.projName="identity";this.localCS=!0;this.srsCode=q;break;case "GEOGCS":this.projName="longlat";this.geocsCode=q;this.srsCode||(this.srsCode=q);break;case "PROJCS":this.srsCode=q;break;case "PROJECTION":this.projName=b.wktProjections[q];break;case "DATUM":this.datumName=q;break;case "LOCAL_DATUM":this.datumCode=
"none";break;case "SPHEROID":this.ellps=q;this.a=parseFloat(u.shift());this.rf=parseFloat(u.shift());break;case "PRIMEM":this.from_greenwich=parseFloat(u.shift());break;case "UNIT":this.units=q;this.unitsPerMeter=parseFloat(u.shift());break;case "PARAMETER":switch(y=q.toLowerCase(),v=parseFloat(u.shift()),y){case "false_easting":this.x0=v;break;case "false_northing":this.y0=v;break;case "scale_factor":this.k0=v;break;case "central_meridian":this.long0=v*h.D2R;break;case "latitude_of_origin":this.lat0=
v*h.D2R}break;case "TOWGS84":this.datum_params=u;break;case "AXIS":switch(y=q.toLowerCase(),v=u.shift()){case "EAST":v="e";break;case "WEST":v="w";break;case "NORTH":v="n";break;case "SOUTH":v="s";break;case "UP":v="u";break;case "DOWN":v="d";break;default:v=" "}switch(this.axis||(this.axis="enu"),y){case "x":this.axis=v+this.axis.substr(1,2);break;case "y":this.axis=this.axis.substr(0,1)+v+this.axis.substr(2,1);break;case "z":this.axis=this.axis.substr(0,2)+v}}for(y=0;y<u.length;++y)this.parseWKT(u[y])}},
parseDefs:function(){if(this.defData=c[this.srsCode],this.defData){for(var u in this.defData)this[u]=this.defData[u];this.deriveConstants()}},deriveConstants:function(){if(this.nadgrids&&0===this.nadgrids.length&&(this.nadgrids=null),this.nadgrids){this.grids=this.nadgrids.split(",");var u=null,v=this.grids.length;if(0<v)for(var g=0;v>g;g++)u=this.grids[g],u=u.split("@"),""!==u[u.length-1]&&(this.grids[g]={mandatory:1===u.length,name:u[u.length-1],grid:b.grids[u[u.length-1]]},this.grids[g].mandatory&&
!this.grids[g].grid)}this.datumCode&&"none"!==this.datumCode&&(v=b.Datum[this.datumCode])&&(this.datum_params=v.towgs84?v.towgs84.split(","):null,this.ellps=v.ellipse,this.datumName=v.datumName?v.datumName:this.datumCode);this.a||n(this,b.Ellipsoid[this.ellps]?b.Ellipsoid[this.ellps]:b.Ellipsoid.WGS84);this.rf&&!this.b&&(this.b=(1-1/this.rf)*this.a);(0===this.rf||Math.abs(this.a-this.b)<h.EPSLN)&&(this.sphere=!0,this.b=this.a);this.a2=this.a*this.a;this.b2=this.b*this.b;this.es=(this.a2-this.b2)/
this.a2;this.e=Math.sqrt(this.es);this.R_A&&(this.a*=1-this.es*(h.SIXTH+this.es*(h.RA4+this.es*h.RA6)),this.a2=this.a*this.a,this.b2=this.b*this.b,this.es=0);this.ep2=(this.a2-this.b2)/this.b2;this.k0||(this.k0=1);this.axis||(this.axis="enu");this.datum=e(this)}};f.projections=m;t.exports=f}),a("datum_transform",["require","exports","module","./common"],function(m,p,t){var n=m("./common");t.exports=function(h,c,b){function e(w){return w===n.PJD_3PARAM||w===n.PJD_7PARAM}var f;if(h.compare_datums(c)||
h.datum_type===n.PJD_NODATUM||c.datum_type===n.PJD_NODATUM)return b;var k=h.a,u=h.es,v=c.a,g=c.es;var q=h.datum_type;if(q===n.PJD_GRIDSHIFT)if(0===this.apply_gridshift(h,0,b))h.a=n.SRS_WGS84_SEMIMAJOR,h.es=n.SRS_WGS84_ESQUARED;else{if(!h.datum_params)return h.a=k,h.es=h.es,b;q=1;var x=0;for(f=h.datum_params.length;f>x;x++)q*=h.datum_params[x];if(0===q)return h.a=k,h.es=h.es,b;q=3<h.datum_params.length?n.PJD_7PARAM:n.PJD_3PARAM}return c.datum_type===n.PJD_GRIDSHIFT&&(c.a=n.SRS_WGS84_SEMIMAJOR,c.es=
n.SRS_WGS84_ESQUARED),(h.es!==c.es||h.a!==c.a||e(q)||e(c.datum_type))&&(h.geodetic_to_geocentric(b),e(h.datum_type)&&h.geocentric_to_wgs84(b),e(c.datum_type)&&c.geocentric_from_wgs84(b),c.geocentric_to_geodetic(b)),c.datum_type===n.PJD_GRIDSHIFT&&this.apply_gridshift(c,1,b),h.a=k,h.es=u,c.a=v,c.es=g,b}}),a("adjust_axis",["require","exports","module"],function(m,p,t){t.exports=function(n,h,c){var b,e,f,k=c.x,u=c.y,v=c.z||0;for(f=0;3>f;f++)if(!h||2!==f||void 0!==c.z)switch(0===f?(b=k,e="x"):1===f?(b=
u,e="y"):(b=v,e="z"),n.axis[f]){case "e":c[e]=b;break;case "w":c[e]=-b;break;case "n":c[e]=b;break;case "s":c[e]=-b;break;case "u":void 0!==c[e]&&(c.z=b);break;case "d":void 0!==c[e]&&(c.z=-b);break;default:return null}return c}}),a("transform","require exports module ./common ./datum_transform ./adjust_axis ./Proj".split(" "),function(m,p,t){var n=m("./common"),h=m("./datum_transform"),c=m("./adjust_axis"),b=m("./Proj");t.exports=function(e,f,k){function u(g,q){return(g.datum.datum_type===n.PJD_3PARAM||
g.datum.datum_type===n.PJD_7PARAM)&&"WGS84"!==q.datumCode}var v;return e.datum&&f.datum&&(u(e,f)||u(f,e))&&(v=new b("WGS84"),this.transform(e,v,k),e=v),"enu"!==e.axis&&c(e,!1,k),"longlat"===e.projName?(k.x*=n.D2R,k.y*=n.D2R):(e.to_meter&&(k.x*=e.to_meter,k.y*=e.to_meter),e.inverse(k)),e.from_greenwich&&(k.x+=e.from_greenwich),k=h(e.datum,f.datum,k),f.from_greenwich&&(k.x-=f.from_greenwich),"longlat"===f.projName?(k.x*=n.R2D,k.y*=n.R2D):(f.forward(k),f.to_meter&&(k.x/=f.to_meter,k.y/=f.to_meter)),
"enu"!==f.axis&&c(f,!0,k),k}}),a("core","require exports module ./Point ./Proj transform".split(" "),function(m,p,t){var n=m("./Point"),h=m("./Proj"),c=m("transform"),b=h("WGS84");t.exports=function(e,f,k){var u=function(v,g,q){var x;return Array.isArray(q)?(x=c(v,g,n(q)),3===q.length?[x.x,x.y,x.z]:[x.x,x.y]):c(e,f,q)};return e=e instanceof h?e:h(e),"undefined"==typeof f?(f=e,e=b):"string"==typeof f?f=h(f):"x"in f||Array.isArray(f)?(k=f,f=e,e=b):f=f instanceof h?f:h(f),k?u(e,f,k):{forward:function(v){return u(e,
f,v)},inverse:function(v){return u(f,e,v)}}}}),a("proj4","require exports module ./core ./Proj ./Point ./defs ./transform ./mgrs".split(" "),function(m,p,t){p=m("./core");p.defaultDatum="WGS84";p.Proj=m("./Proj");p.WGS84=new p.Proj("WGS84");p.Point=m("./Point");p.defs=m("./defs");p.transform=m("./transform");p.mgrs=m("./mgrs");t.exports=p}),A("proj4")})},"arcgis3d/utils/ResourceController":function(){define(["dojo/_base/declare","dojo/_base/lang","./StreamDataManager"],function(G,A,a){var m={TERRAIN:"terrain",
SCENE:"scene"};G=G(null,{_clients:{},_lastViewChangedTimeoutID:0,_isNavigating:!1,_viewChangedSinceLastLongUpdates:!1,streamDataManager:void 0,constructor:function(p){var t={},n={},h=Object.keys(m).length,c;for(c in m)t[m[c]]=1048576/h,n[m[c]]=20/h;this.streamDataManager=new a(t,n);this._navTimeout=this._navTimeout.bind(this);p._stage.addCameraListener({currentViewChanged:this._viewChanged.bind(this)});p._stage.addAnimationFrameListener({animFrame:this._animationFrame.bind(this)})},registerClient:function(p,
t){this._clients[p.id]={layer:p,type:t};return this.streamDataManager.makeSupplier(p.id,t)},deregisterClient:function(p){delete this._clients[p.id]},_viewChanged:function(){this._isNavigating=!0;this._lastViewChangedTimeoutID&&clearTimeout(this._lastViewChangedTimeoutID);this._lastViewChangedTimeoutID=window.setTimeout(this._navTimeout,500);this._viewChangedSinceLastLongUpdates=!0},_animationFrame:function(){this._isNavigating||this._doLongUpdates()},_navTimeout:function(){this._doLongUpdates();this._isNavigating=
!1},_doLongUpdates:function(){for(var p in this._clients){var t=this._clients[p].layer.renderer;t.needsLongUpdate&&t.needsLongUpdate(this._viewChangedSinceLastLongUpdates)&&t.performLongUpdate()}this._viewChangedSinceLastLongUpdates=!1}});G.ClientType=m;return G})},"arcgis3d/utils/StreamDataManager":function(){define(["dojo/_base/declare","dojo/_base/lang","./StreamDataLoader"],function(G,A,a){var m=function(h,c,b,e){return{then:function(f,k,u){f.apply(u,[h,c,b,e])}}},p=function(h,c){this.data=h;
this.size=Math.floor(c/1024);this.inUse=!0},t=G(null,{documents:void 0,_maxDataSize:void 0,_cachedDataSize:void 0,_lruQueue:void 0,constructor:function(h){this._maxDataSize=h;this.documents={};this._cachedDataSize=this._maxDataSize=0;this._lruQueue=[]},setMaxSize:function(h){this._maxDataSize=h},insert:function(h,c,b){assert(void 0===this.documents[h]);c=new p(c,b);this.documents[h]=c;this._cachedDataSize+=c.size;this._cachedDataSize>this._maxDataSize&&this._collect()},use:function(h){if(h=this.documents[h])return h.inUse=
!0,h.data},unuse:function(h){var c=this.documents[h];c&&c.inUse&&(this._lruQueue.push(h),c.inUse=!1)},_collect:function(){for(;this._cachedDataSize>.75*this._maxDataSize&&!(1>this._lruQueue.length);){var h=this._lruQueue.shift(),c=this.documents[h];c&&!c.inUse&&(delete this.documents[h],this._cachedDataSize-=c.size)}},getStats:function(){var h=0,c=0;for(url in this.documents)h++,this.documents[url].inUse&&c++;return{numDocs:h,numInUse:c,numUnused:h-c}}}),n=G(null,{_clientId:void 0,_clientType:void 0,
_cache:void 0,_loader:void 0,constructor:function(h,c,b,e){this._clientId=h;this._clientType=c;this._loader=b;this._cache=e},has:function(h){return void 0!==this._cache.documents[h]},request:function(h,c,b){if(this._cache.documents[h])return this._cache.use(h),m(h,this._cache.documents[h].data,c,b?b.metadata:void 0);h=this._loader.request(h,c,this._clientType,b);h.then(this._dataArrivedHandler,this._dataErrHandler,this);return h},isRequested:function(h){return this._loader.isRequested(h)},cancelRequest:function(h){this._loader.cancel(h)},
cancelRequestsBulk:function(h){this._loader.cancelBulk(h)},cache:function(h,c,b){this._cache.insert(h,c,b)},isInUse:function(h){return this._cache.documents[h]&&this._cache.documents[h].inUse},use:function(h){return this._cache.use(h)},unuse:function(h){return this._cache.unuse(h)},_dataArrivedHandler:function(h,c,b){if(!this.has(h)){var e=0;"image"===b?e=c.width*c.height*5.2:"binary"===b&&(e=c.byteLength);this._cache.insert(h,c,e)}},_dataErrHandler:function(h,c,b){console.log("error loading "+h)}});
return G(null,{_caches:{},_suppliers:{},_loader:void 0,constructor:function(h,c){this._loader=new a(c);this.setCacheSizes(h)},setCacheSizes:function(h){for(var c in h)this._caches[c]||(this._caches[c]=new t(c,this._loader,h[c])),this._caches[c].setMaxSize(h[c])},makeSupplier:function(h,c){this._suppliers[h]||(assert(this._caches[c]),this._suppliers[h]=new n(h,c,this._loader,this._caches[c]));return this._suppliers[h]}})})},"arcgis3d/utils/StreamDataLoader":function(){define(["dojo/_base/declare",
"dojo/_base/array","arcgis3d/layers/dataloader/lib/PromiseLightweight","arcgis3d/utils/AsyncQuotaRoundRobinQueue","esri/request"],function(G,A,a,m,p){var t=function(n,h){if(n.isCancelled)return!1;if("image"===n.docType){var c=new Image;c.onload=function(){n.result=c;c.onload=void 0;c.onerror=void 0;h(n)};c.onerror=function(){c.onload=void 0;c.onerror=void 0;h(n,!0)};c.src=n.url}else p({url:n.url,handleAs:"binary"===n.docType?"arraybuffer":"json"}).then(function(b){n.result=b;h(n)},function(b){h(n,
!0)});return!0};return G(null,{constructor:function(n){this.alreadyLoading={};this.loadQueue=new m(t,this._doneLoadingCallback,this,n)},request:function(n,h,c,b){b=b||{};var e=new a.Promise,f=this.alreadyLoading[n];f?(f.clientPromises.push(e),f.clientMetadata.push(b.metadata)):(f={url:n,docType:h,clientType:c,isCancelled:!1,clientMetadata:[b.metadata],clientPromises:[e]},this.alreadyLoading[n]=f,b.notQueueable?t(f,this._doneLoadingCallback.bind(this)):this.loadQueue.push(f));return e},isRequested:function(n){return void 0!==
this.alreadyLoading[n]},cancel:function(n){var h=this.alreadyLoading[n];h&&(h.isCancelled=!0,h.clientPromise=void 0,h.metadata=void 0,delete this.alreadyLoading[n])},cancelBulk:function(n){var h={};for(url in n)if(n=this.alreadyLoading[url])n.isCancelled=!0,n.clientPromise=void 0,n.metadata=void 0,delete this.alreadyLoading[url],h[n]=!0;this.loadQueue.removeTasks(h)},_doneLoadingCallback:function(n,h){if(h&&!n.isCancelled)for(h=0;h<n.clientPromises.length;h++)n.clientPromises[h].isRejected()||n.clientPromises[h].reject(n.url,
null,n.docType,n.clientMetadata[h]);else if(!n.isCancelled){for(h=0;h<n.clientPromises.length;h++)n.clientPromises[h].done(n.url,n.result,n.docType,n.clientMetadata[h]);delete this.alreadyLoading[n.url]}}})})},"arcgis3d/layers/dataloader/lib/PromiseLightweight":function(){(function(G){function A(){this._callbacks=[];this._errbacks=[]}function a(c,b){var e=new A;0===c.length?e.done.apply(e,b):c[0].apply(null,b).then(function(){c.splice(0,1);a(c,arguments).then(function(){e.done.apply(e,arguments)})});
return e}function m(c){var b="";if("string"===typeof c)b=c;else{var e=encodeURIComponent,f;for(f in c)c.hasOwnProperty(f)&&(b+="\x26"+e(f)+"\x3d"+e(c[f]))}return b}function p(){if(window.XMLHttpRequest)var c=new XMLHttpRequest;else if(window.ActiveXObject)try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){c=new ActiveXObject("Microsoft.XMLHTTP")}return c}function t(c,b,e,f){function k(){v.abort();u.done(h.ETIMEOUT,"",v)}var u=new A;e=e||{};f=f||{};try{var v=p()}catch(w){return u.done(h.ENOXHR,""),
u}e=m(e);"GET"===c&&e&&(b+="?"+e,e=null);v.open(c,b);v.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var g in f)f.hasOwnProperty(g)&&v.setRequestHeader(g,f[g]);var q=h.ajaxTimeout;if(q)var x=setTimeout(k,q);v.onreadystatechange=function(){q&&clearTimeout(x);4===v.readyState&&u.done(!v.status||(200>v.status||300<=v.status)&&304!==v.status,v.responseText,v)};v.send(e);return u}function n(c){return function(b,e,f){return t(c,b,e,f)}}A.prototype.then=function(c,b,e){if(this._isdone)var f=
c.apply(e,this.result);else this._iserr?f=b.apply(e,this.result):(f=new A,this._callbacks.push(function(){var k=c.apply(e,arguments);k&&"function"===typeof k.then&&k.then(f.done,f)}),b&&this._errbacks.push(function(){var k=b.apply(e,arguments);k&&"function"===typeof k.then&&k.then(f.done,f)}));return f};A.prototype.done=function(){this.result=arguments;this._isdone=!0;for(var c=0;c<this._callbacks.length;c++)this._callbacks[c].apply(null,arguments);this._callbacks=[];this._errbacks=[]};A.prototype.reject=
function(){this.result=arguments;this._iserr=!0;for(var c=0;c<this._errbacks.length;c++)this._errbacks[c].apply(null,arguments);this._callbacks=[];this._errbacks=[]};A.prototype.isRejected=function(){return this._isErr};var h={Promise:A,join:function(c){function b(q,x){return function(){x&&(v=!0);k+=1;u[q]=Array.prototype.slice.call(arguments);k===f&&(v?e.reject():e.done(u))}}for(var e=new A,f=c.length,k=0,u=[],v=!1,g=0;g<f;g++)c[g].then(b(g,!1),b(g,!0));0===c.length&&e.done();return e},chain:a,ajax:t,
get:n("GET"),post:n("POST"),put:n("PUT"),del:n("DELETE"),ENOXHR:1,ETIMEOUT:2,ajaxTimeout:0};"function"===typeof define&&define.amd?define(function(){return h}):G.promise=h})(this)},"arcgis3d/utils/AsyncQuotaRoundRobinQueue":function(){define([],function(){return function(G,A,a,m,p){function t(){return"workers: "+b+", queues: "+c.map(function(x){return x.length})}var n=0,h={},c=[],b=[],e=[],f=0,k=0,u;for(u in m)c[n]=[],b[n]=0,e[n]=m[u],h[u]=n++,k+=m[u];var v=c.length;n=0;this.setWorkerQuota=function(x){assert(arraysEqual(Object.keys(this.typeWorkerAllication),
Object.keys(x)));this.typeWorkerAllication=x;k=0;for(var w in x)e[h[w]]=x[w],k+=x[w]};this.push=function(x){var w=h[x.clientType];f<k?(b[w]++,f++,p&&console.log("queue start type "+w+", "+t()),G(x,g)):(c[w].push(x),p&&console.log("queue push type "+w+", "+t()))};this._getStatsForType=function(x){x=h[x];return{quota:e[x],workers:b[x],queueSize:c[x].length}};this.removeTasks=function(x){for(var w=[],B=0;B<x.length;B++){var z=x[B];x.containsKey(z)||w.push(z)}x=w};var g=function(x){A.apply(a,arguments);
var w=h[x.clientType];b[w]--;f--;assert(0<=b[w]);w=n;var B=!1;do b[w]<e[w]&&q(w)&&(B=!0),w=(w+1)%v;while(!B&&w!=n);if(!B){do q(w)&&(B=!0),w=(w+1)%v;while(!B&&w!=n)}!B&&p&&console.log("queue sink, "+t());n=w},q=function(x){for(;0<c[x].length;){if(G(c[x].shift(),g))return p&&console.log("queue startqueued clientType "+x+", "+t()),b[x]++,f++,!0;p&&console.log("queue task cancelled, "+t())}return!1}}})},"arcgis3d/utils/Sunlight":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","engine/lib/SunCalc"],
function(G,A,a,m){function p(n,h,c,b){for(var e=[],f=0;f<c.length;f++)e[f]=(b[f]-c[f])*n/h+c[f];return e}var t=[1,1,1];return G([],{_settings:{localAltitude:2E3,globalAltitude:2E4,localIntensity:{ambientAtNight:.2,ambientAtNoon:.7,ambientAtTwilight:.5,diffuseAtNoon:.5,diffuseAtTwilight:.7},globalIntensity:{ambient:.5,diffuse:.5}},constructor:function(n){this._viewport=n;this._debugSunObject=void 0;this._date=new Date(1970,3,21,12,0,0);this._timezone=100;a(n,"view-change",this._cameraChanged.bind(this))},
setDate:function(n){this._date=n;return this._updateLight()},_cameraChanged:function(n){this._updateTimezone(n.currentCamera.target);this._updateLight()},_updateTimezone:function(n){if(this._viewport.map._mapConfig.isGlobe){var h=[];this._viewport.coordinateSystemHelper.fromEnginePosition(n,{wkid:4326},h);n=Math.round(h[0]/15);if(n!==this._timezone)return this._timezone=n,!0}return!1},_updateLight:function(){var n=this._viewport.map._mapConfig.isGlobe;if(n){var h=this._viewport._stage,c=this._viewport.map.getCamera(),
b=vec3d.create(c.target);this._viewport.coordinateSystemHelper.fromEnginePosition(b,{wkid:4326},b);var e=new Date(this._date.valueOf()-6E4*(this._date.getTimezoneOffset()+60*this._timezone));if("planar"===n){c=c.position[1];var f=this._computePlanarLightDirection(e,b)}else c=vec3.length(c.position)-EARTH_RADIUS,f=this._computeGlobalLightDirection(e);if(this._debugSunObject){n=vec3d.create();vec3.scale(f,1.5*EARTH_RADIUS,n);var k=mat4d.identity();mat4.translate(k,n);this._debugSunObject.setObjectTransformation(k)}k=
this._settings.globalIntensity;n={color:t,intensity:k.ambient};f={direction:f,color:t,intensity:k.diffuse};c=clamp((c-this._settings.localAltitude)/(this._settings.globalAltitude-this._settings.localAltitude),0,1);1>c&&(b=m.getTimes(e,b[1],b[0]),e=this._timeToLightSettings(e,b.sunrise.valueOf(),b.sunset.valueOf()),n.color=p(c,1,e.ambient.color,n.color),n.intensity=lerp(e.ambient.intensity,n.intensity,c),f.color=p(c,1,e.diffuse.color,f.color),f.intensity=lerp(e.diffuse.intensity,f.intensity,c));h.setDirectionalLight(f);
h.setAmbientLight(n);return!0}return!1},_computeGlobalLightDirection:function(n){n=m.getPosition(n,0,0);var h=vec3d.createFrom(0,-1,0),c=mat4d.identity();mat4.rotateX(c,-n.azimuth);mat4.rotateZ(c,n.altitude);mat4.multiplyVec3(c,h);return h},_computePlanarLightDirection:function(n,h){n=m.getPosition(n,h[1],h[0]);h=vec3d.createFrom(0,0,1);var c=mat4d.identity();mat4.rotateY(c,n.azimuth);mat4.rotateX(c,-n.altitude);mat4.multiplyVec3(c,h);return h},_timeToLightSettings:function(n,h,c){var b=c-h,e=h+b/
2,f=b/4,k=e-f;f=e+f;var u=.06*b;b=h-u/2;h+=u/2;var v=c-u/2,g=c+u/2,q=this._settings.localIntensity;c=[.01,q.ambientAtNight];u=[.8,.8,1];var x=[.01,.01,.01],w=[q.diffuseAtTwilight,q.ambientAtTwilight],B=[1,.75,.75],z=[.8,.8,1],C=[.9*q.diffuseAtNoon,q.ambientAtNoon],y=[1,.98,.98],D=[.98,.98,1];q=[q.diffuseAtNoon,q.ambientAtNoon];var F=[1,1,1],H=[1,1,1],E=[0,0],I=[0,0],J=[0,0];n<b||n>g?(E=c,I=x,J=u):n<h?(g=h-b,E=p(n-b,g,c,w),I=p(n-b,g,x,B),J=p(n-b,g,u,z)):n<k?(g=k-h,E=p(n-h,g,w,C),I=p(n-h,g,B,y),J=p(n-
h,g,z,D)):n<e?(g=e-k,E=p(n-k,g,C,q),I=p(n-k,g,y,F),J=p(n-k,g,D,H)):n<f?(g=f-e,E=p(n-e,g,q,C),I=p(n-e,g,F,y),J=p(n-e,g,H,D)):n<v?(g=v-f,E=p(n-f,g,C,w),I=p(n-f,g,y,B),J=p(n-f,g,D,z)):n<g&&(g-=v,E=p(n-v,g,w,c),I=p(n-v,g,B,x),J=p(n-v,g,z,u));return{diffuse:{intensity:E[0],color:I},ambient:{intensity:E[1],color:J}}},_debugCreateSunObject:function(n){var h=this;require("engine/Stage engine/materials/Material engine/lib/Geometry engine/lib/Object3D engine/lib/Layer engine/lib/GeometryUtil".split(" "),function(c,
b,e,f,k){e=new Geometry(createSphereGeometry(EARTH_RADIUS/20),"_sun");b=new b({ambient:[5,5,.4],diffuse:[0,0,0]},"_sun");f=new Object3D("_sun",[e],[[b]],[mat4d.identity()],!1,{},"_sun");k=new Layer("_sun",{},"_sun");k.addObject(f);n.add(c.ModelContentType.GEOMETRY,e);n.add(c.ModelContentType.MATERIAL,b);n.add(c.ModelContentType.OBJECT,f);n.add(c.ModelContentType.LAYER,k);n.addToViewContent([k.getId()]);h._debugSunObject=f;h._updateLight()})}})})},"engine/lib/SunCalc":function(){define([],function(){function G(B){return new Date(864E5*
(B+.5-2440588))}function A(B,z){return u(b(B)*e(q)-f(z)*b(q),e(B))}function a(B,z){return k(b(z)*e(q)+e(z)*b(q)*b(B))}function m(B,z,C){return u(b(B),e(B)*b(z)-f(C)*e(z))}function p(B,z,C){return k(b(z)*b(C)+e(z)*e(C)*e(B))}function t(B){return g*(1.9148*b(B)+.02*b(2*B)+3E-4*b(3*B))}function n(B){B=g*(357.5291+.98560028*B);var z=t(B);B=B+z+102.9372*g+c;return{dec:a(B,0),ra:A(B,0)}}function h(B){var z=g*(134.963+13.064993*B),C=g*(93.272+13.22935*B);B=g*(218.316+13.176396*B)+6.289*g*b(z);C=5.128*g*
b(C);z=385001-20905*e(z);return{ra:A(B,C),dec:a(B,C),dist:z}}var c=Math.PI,b=Math.sin,e=Math.cos,f=Math.tan,k=Math.asin,u=Math.atan2,v=Math.acos,g=c/180,q=23.4397*g,x={getPosition:function(B,z,C){C=g*-C;z*=g;var y=B.valueOf()/864E5-.5+2440588-2451545;B=n(y);C=g*(280.16+360.9856235*y)-C-B.ra;return{azimuth:m(C,z,B.dec),altitude:p(C,z,B.dec)}}},w=[[-.83,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd",
"goldenHour"]];x.addTime=function(B,z,C){w.push([B,z,C])};x.getTimes=function(B,z,C){C=g*-C;z*=g;B=Math.round(B.valueOf()/864E5-.5+2440588-2451545-9E-4-C/(2*c));var y=9E-4+(0+C)/(2*c)+B,D=g*(357.5291+.98560028*y),F=t(D);F=D+F+102.9372*g+c;var H=a(F,0);y=2451545+y+.0053*b(D)-.0069*b(2*F);var E={solarNoon:G(y),nadir:G(y-.5)},I;var J=0;for(I=w.length;J<I;J+=1){var K=w[J];var L=z;var O=H;L=v((b(K[0]*g)-b(L)*b(O))/(e(L)*e(O)));O=F;L=2451545+(9E-4+(L+C)/(2*c)+B)+.0053*b(D)-.0069*b(2*O);O=y-(L-y);E[K[1]]=
G(O);E[K[2]]=G(L)}return E};x.getMoonPosition=function(B,z,C){C=g*-C;z*=g;var y=B.valueOf()/864E5-.5+2440588-2451545;B=h(y);C=g*(280.16+360.9856235*y)-C-B.ra;y=p(C,z,B.dec);y+=.017*g/f(y+10.26*g/(y+5.1*g));return{azimuth:m(C,z,B.dec),altitude:y,distance:B.dist}};x.getMoonFraction=function(B){var z=B.valueOf()/864E5-.5+2440588-2451545;B=n(z);z=h(z);B=v(b(B.dec)*b(z.dec)+e(B.dec)*e(z.dec)*e(B.ra-z.ra));B=u(149598E3*b(B),z.dist-149598E3*e(B));return(1+e(B))/2};return x})},"arcgis3d/utils/WebScene":function(){define("dojo/_base/declare dojo/Evented arcgis3d/layers/LayerGroup arcgis3d/layers/FeatureLayer3d arcgis3d/layers/SceneServiceLayer esri/layers/LayerDrawingOptions esri/symbols/jsonUtils esri/config esri/request".split(" "),
function(G,A,a,m,p,t,n,h,c){return G([A],{constructor:function(b){this.data=void 0;this._layer2Group={};c({url:b}).then(function(e){this.data=e;this._initToc();this.emit("load")}.bind(this))},addLayers:function(b){console.log("adding layers");for(var e=this.data.operationalLayers,f=0;f<e.length;f++){var k=e[f];this._evalDrawingInfoFromJson(k.drawingInfo);var u=k.drawingInfo&&k.drawingInfo.labelingInfo,v=k.drawingInfo&&k.drawingInfo.renderer&&k.drawingInfo.renderer.symbol;if(0<k.url.search("/SceneServer/"))var g=
new p(k.url,{name:k.title});else if(0<k.url.search("/FeatureServer/"))g=new m(k.url,{name:k.title,definitionExpression:k.definitionExpression,labelingInfo:u,symbol:v,draped:!0===k.draped});else{if(0<k.url.search("overpass.osm.rambler.ru")){var q=dojo.require("testUtils.services");g=k.url.split("?data\x3d")[1];var x=0<g.indexOf("highway")?"streets":"nodes";u=new q.OsmLoader(b,v,u,g,k.title,x,k.drawingInfo,k.draped);u.initLayer(k.title,k.drawingInfo);u.load(g);g=u.getLayer()}else console.log("skipping unsupported layer type "+
k.id);g=null}g&&(void 0!==k.drawingInfo.minScale&&g.setScaleRange(k.drawingInfo.minScale,k.drawingInfo.maxScale),k.id in this._layer2Group?(u=this._layer2Group[k.id],u.addLayer(g),b.getLayerGroup(u.id)||b.addLayerGroup(u)):b.addLayer(g),g.setVisibility(k.visibility))}},addBookmarks:function(b){b={};for(var e in this.data.bookmarks)b[this.data.bookmarks[e].id]=this.data.bookmarks[e];return b},applyBasemap:function(b){b=b.getLayer("Globe");b.setImageryUrl(h.defaults.io.proxyUrl+"?"+this.data.baseMap.baseMapLayers[0].url+
"/MapServer/tile");this.data.baseMap.baseMapLayers||b.setElevationEnabled(!1)},_initToc:function(){for(var b=this.data.toc,e=0;e<b.length;e++)for(var f=b[e],k=new a(f.title,[],f.groupType,f.id),u=0;u<f.layers.length;u++)this._layer2Group[f.layers[u].layerId]=k},_findGroupById:function(b){return b in this._layer2Group?this._layer2Group[b]:null},_evalDrawingInfoFromJson:function(b){var e={esriServerPointLabelPlacementAboveRight:"bottomLeft",esriServerPointLabelPlacementAboveCenter:"bottomCenter",esriServerPointLabelPlacementAboveLeft:"bottomRight",
esriServerPointLabelPlacementCenterRight:"centerLeft",esriServerPointLabelPlacementCenterCenter:"centerCenter",esriServerPointLabelPlacementCenterLeft:"centerRight",esriServerPointLabelPlacementBelowRight:"topLeft",esriServerPointLabelPlacementBelowCenter:"topCenter",esriServerPointLabelPlacementBelowLeft:"topRight"};if(b){if(b.labelingInfo){var f=b.labelingInfo.symbol||b.labelingInfo.defaultSymbol;f&&(b.labelingInfo.symbol=n.fromJson(b.labelingInfo.symbol));f&&f.func&&(b.labelingInfo.symbol.func=
new Function("symbol","attributes","exp",f.func));f&&b.labelingInfo.labelPlacement&&(b.labelingInfo.symbol.anchor=e[b.labelingInfo.labelPlacement])}if(b.renderer){if(f=b.renderer.symbol||b.renderer.defaultSymbol)b.renderer.symbol=n.fromJson(b.renderer.symbol);f&&f.func&&(b.renderer.symbol.func=new Function("symbol","attributes",f.func))}}}})})},"arcgis3d/layers/LayerGroup":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/Evented"],function(G,A,a,m){var p=G([m],{constructor:function(t,
n,h,c){this.id="layergroup_"+(c||(n&&0<n.length?n[0].id:""));this.title=t;this.visible=n&&0<n.length?n[0].visible:!0;this.groupType=h;this.opacity=1;this.layers=[];this._savedLayerVisibility=[];this._map;this.addLayers(n)},addLayers:function(t){if(null!=t&&0!=t.length){if(this.groupType==p.TYPE_NONE&&(0<this.layers.length||1<t.length))throw new TypeError("group type none can contain only 1 layer");var n=this.getActiveLayers();if(this.groupType==p.TYPE_RADIO&&null==n[0])for(var h in t)if(t[h].visible){n=
[t[h]];break}t.forEach(function(c){this.addLayer(c)}.bind(this));this.groupType==p.TYPE_RADIO&&null!=n[0]&&this.setLayerActive(n[0],!0);this.visible||(this._saveCurrentLayersVisibilityState(),t.forEach(function(c){c.setVisibility(!1)}))}},addLayer:function(t){if(this.groupType==p.TYPE_NONE&&0<this.layers.length)throw new TypeError("group type none can contain only 1 layer");this._map&&this._map._addLayer(t);this.layers.push(t);this._fixGroupVisibilityStateFromLayers(t);a(t,"visibilityChange",function(n){this._evalLayerVisibilityChange(t)}.bind(this));
this.emit("layerAdded",{group:this,layer:t})},removeLayer:function(t){if(0>this.layers.indexOf(t))throw new TypeError("layer not found");this._map&&this._map.removeLayer(t);this.layers.splice(this.layers.indexOf(t),1);this.groupType==p.TYPE_RADIO&&0<this.layers.length&&(1==this.layers.length||null==this.getActiveLayers()[0])&&this.setLayerActive(this.layers[0],!0);this._fixGroupVisibilityStateFromLayers();this.emit("layerRemoved",{group:this,layer:t});return t},setVisibility:function(t){if(this.visible!=
t)if(this.visible=t,this.emit("visibilityChange",{group:this,visible:t}),this._isGroupVisibilitySameAsLayerVisibility())for(var n in this.layers)this.layers[n].setVisibility(t);else if(t)this._restoreLayersVisibility();else for(n in this._saveCurrentLayersVisibilityState(),this.layers)this.layers[n].setVisibility(!1)},getActiveLayers:function(){if(this._isGroupVisibilitySameAsLayerVisibility())return[this.layers[0]];var t=[],n;for(n in this.layers)this.visible&&this.layers[n].visible&&t.push(this.layers[n]),
!this.visible&&this._savedLayerVisibility[n]&&t.push(this.layers[n]);return t},setLayerActive:function(t,n){if(t&&!(0>this.layers.indexOf(t)))if(this._isGroupVisibilitySameAsLayerVisibility())console.warn("Can't set layer active on this group");else if(this.groupType===p.TYPE_RADIO&&!1===n)console.warn("Can't set layer inactive on group type "+p.TYPE_RADIO);else if(this.visible)this.groupType===p.TYPE_RADIO?n&&t.setVisibility(!0):this.groupType===p.TYPE_CHECKBOX&&t.setVisibility(n);else{t=this.layers.indexOf(t);
if(this.groupType===p.TYPE_CHECKBOX)this._savedLayerVisibility[t]=n;else for(var h=0;h<this.layers.length;h++)this._savedLayerVisibility[h]=t===h?!0:!1;this.emit("layerVisibilityChange",{idx:[t],visible:[n]})}},getVisibleLayers:function(){for(var t=[],n=0;n<this.layers.length;n++)this.layers[n].visible&&t.push(this.layers[n]);return t},_evalLayerVisibilityChange:function(t){if(t&&!(0>this.layers.indexOf(t)))if(this.visible)if(this._isGroupVisibilitySameAsLayerVisibility())t.visible||this.setVisibility(!1);
else if(this.groupType===p.TYPE_RADIO){if(t.visible){for(var n in this.layers)t!==this.layers[n]&&t.visible&&this.layers[n].setVisibility(!1);this.emit("layerVisibilityChange",{idx:[this.layers.indexOf(t)],visible:[!0]})}}else this.groupType===p.TYPE_CHECKBOX&&this.emit("layerVisibilityChange",{idx:[this.layers.indexOf(t)],visible:[t.visible]});else t.visible&&(this._isGroupVisibilitySameAsLayerVisibility()||(n=this.layers.indexOf(t),this.groupType===p.TYPE_CHECKBOX?this._savedLayerVisibility[n]=
t.visible:this._saveCurrentLayersVisibilityState(),this.emit("layerVisibilityChange",{idx:[n],visible:[!0]})),this.setVisibility(!0))},_updateGroupVisibilityState:function(t){this.visible!=t&&(this.visible=t,this.emit("visibilityChange",{group:this,visible:t}))},_fixGroupVisibilityStateFromLayers:function(t){this._isGroupVisibilitySameAsLayerVisibility()&&(t=t||this.layers[0])&&this.setVisibility(t.visible)},_restoreLayersVisibility:function(){if(!this._isGroupVisibilitySameAsLayerVisibility()&&this._savedLayerVisibility&&
0<this._savedLayerVisibility.length)for(var t=0;t<this.layers.length;t++)this.layers[t].setVisibility(this._savedLayerVisibility[t]);this._savedLayerVisibility=[]},_saveCurrentLayersVisibilityState:function(){if(!this._isGroupVisibilitySameAsLayerVisibility()){var t=[],n;for(n in this.layers)t.push(this.layers[n].visible);this._savedLayerVisibility=t}},_isGroupVisibilitySameAsLayerVisibility:function(){return this.groupType==p.TYPE_NONE||this.groupType==p.TYPE_COMPACT||1==this.layers.length&&this.groupType==
p.TYPE_RADIO},_setMap:function(t){for(var n in this.layers)t._addLayer(this.layers[n]);this._map=t},_unsetMap:function(){if(this._map){for(var t in this.layers)map.removeLayer(this.layers[t]);this._map=void 0}}});A.mixin(p,{TYPE_NONE:"none",TYPE_HIDDEN:"hidden",TYPE_COMPACT:"compact",TYPE_RADIO:"radio",TYPE_CHECKBOX:"checkbox"});return p})},"arcgis3d/layers/FeatureLayer3d":function(){define("dojo/_base/declare dojo/_base/lang dojo/json dojo/string ../geometry/Point3d ../Graphic3d esri/geometry/Polyline esri/geometry/Polygon ./GraphicsLayer engine/lib/Layer engine/lib/Util esri/layers/FeatureLayer esri/request esri/SpatialReference esri/symbols/MarkerSymbol esri/symbols/SimpleMarkerSymbol esri/symbols/TextSymbol esri/symbols/LineSymbol esri/symbols/jsonUtils esri/tasks/query".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B){return G([c],{_spatialReference:new u(4326),constructor:function(z,C){this.url=z;this.name=C&&C.name?C.name:this.url.match(/.*\/([^\/]+)\/FeatureServer\/.*/)[1];C&&C.definitionExpression&&this.setDefinitionExpression(C.definitionExpression);this.id=C&&C.id||this.name+"_featureLayer3d";this.draped=C.draped},_initLayer:function(){this._featureLayer=new f(this.url,{outFields:"*",loadCallback:function(z){z=a.parse(z._json);var C=z.drawingInfo&&z.drawingInfo.renderer;
if(C){C.symbol?C.symbol=w.fromJson(C.symbol):C.defaultSymbol?C.symbol=w.fromJson(C.defaultSymbol):C.uniqueValueInfos&&C.uniqueValueInfos[0].symbol&&(C.symbol=w.fromJson(C.uniqueValueInfos[0].symbol));var y=this._getSymbol();if(y){var D=A.clone(y);A.mixin(y,C.symbol);A.mixin(y,D);this._setSymbol(y)}else this._setSymbol(C.symbol)}(C=z.drawingInfo&&z.drawingInfo.labelingInfo&&z.drawingInfo.labelingInfo[0])?(C.symbol=w.fromJson(C.symbol),z={},A.mixin(z,C),A.mixin(z,this.labelingInfo),this.setLabelingInfo(z)):
this.setLabelingInfo(this.labelingInfo);this.loaded=!0;this.emit("load",{layer:this})}.bind(this)})},setRenderer:function(z){this._featureLayer&&this._featureLayer.setRenderer(z)},_setMap:function(z){var C=this.inherited(arguments);this._loadData({xmin:-117.196354,xmax:-117.19559,ymin:34.056501,ymax:34.056984,spatialReference:{wkid:4326}});return C},_loadData:function(z){var C=new B;C.where=this.getDefinitionExpression()||"1\x3d1";C.outFields=["*"];C.geometry=z;C.outSpatialReference=this._spatialReference;
var y=[];this._featureLayer.queryFeatures(C,function(D){"esriGeometryPoint"==D.geometryType?y=this._preparePointGraphics(D.features):"esriGeometryPolyline"==D.geometryType?y=this._getSymbol()&&this._getSymbol()instanceof x?this._prepareLineGraphics(D.features):this._preparePointGraphicsFromLines(D.features):"esriGeometryPolygon"===D.geometryType&&(y=this._preparePolygonGraphics(D.features,D.spatialReference));0<y.length&&this.addGraphics(y)}.bind(this))},setDefinitionExpression:function(z){this.definitionExpression=
z},getDefinitionExpression:function(){return this.definitionExpression},_preparePointGraphics:function(z){var C=[],y;for(y in z){var D=z[y].geometry;if(isNaN(D.x)||isNaN(D.y))console.warn("feature with objectid\x3d"+z[y].attributes.objectid+" can not be parsed because it has null geometry");else{D=new p([D.x,D.y,D.z||1],this._spatialReference);var F=this._getSymbol();F&&F.func||(F=void 0);C.push(new t(D,z[y].attributes.objectid||"",z[y].attributes,F))}}return C},_prepareLineGraphics:function(z){for(var C=
[],y=0;y<z.length;y++){var D=.3048*z[y].attributes.Height||1E3,F=new n(this._spatialReference),H=this._getSymbol(),E;for(E in z[y].geometry.paths){for(var I=z[y].geometry.paths[E],J=I.length,K=Array(J),L=0;L<J;L++){var O=(L-J/2)/J*2;K[L]=[I[L][0],I[L][1],H.curved?O*O*-D+D:0]}F.addPath(K)}H.func||(H=void 0);D=new t(F,z[y].attributes.objectid||"",z[y].attributes,H);C.push(D)}return C},_preparePointGraphicsFromLines:function(z){for(var C=0,y=[],D=this._getSymbol(),F=0;F<z.length;F++){var H=.3048*z[F].attributes.Height||
1E3;z[F].attributes.cnt=F+1;if(30<=C++)break;for(var E in z[F].geometry.paths)for(var I=z[F].geometry.paths[E].length,J=0;J<z[F].geometry.paths[E].length;J++){var K=(J-I/2)/I*2;K=D.curved?K*K*-H+H:0;K={attributes:A.clone(z[F].attributes),geometry:{x:z[F].geometry.paths[E][J][0],y:z[F].geometry.paths[E][J][1],z:K}};J==Math.round(I/2)&&(K.attributes.fromto=z[F].attributes.fromCity+"\n|\n"+z[F].attributes.toCity);y.push(K)}}z=this._getSymbol()instanceof PictureMarkerSymbol?new PictureMarkerSymbol:new g;
z.size=50;A.mixin(z,this._getSymbol());this._setSymbol(z);return this._preparePointGraphics(y)},_preparePolygonGraphics:function(z,C){for(var y=[],D=0;D<z.length;D++){var F=z[D].geometry;F.spatialReference=C;F=new h(F);F=new t(F,z[D].attributes.objectid||"",z[D].attributes,void 0);y.push(F)}return y}})})},"arcgis3d/geometry/Point3d":function(){define(["dojo/_base/declare","esri/geometry/Point"],function(G,A){return G([A],{constructor:function(a,m){this.z=a[2];this.type="point3d"}})})},"arcgis3d/Graphic3d":function(){define(["dojo/_base/declare",
"esri/symbols/PictureMarkerSymbol","esri/symbols/TextSymbol","esri/symbols/SimpleMarkerSymbol","esri/symbols/LineSymbol"],function(G,A,a,m,p){return function(t,n,h,c){this.__object3d=void 0;this.geometry=t;this.name=n||"graphic";this.attributes=h;c instanceof A?this.symbol=c:c instanceof a?this.symbol=c:c instanceof m?this.symbol=c:c instanceof p?this.symbol=c:"texturedMeshSymbol"==c&&(this.symbol=c);this.__getId=function(){return this.__object3d?this.__object3d.getId():this.__labelObject3d?this.__labelObject3d.getId():
void 0}}})},"esri/symbols/PictureMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./MarkerSymbol".split(" "),function(G,A,a,m,p,t,n,h){var c={url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};G=G(h,{declaredClass:"esri.symbol.PictureMarkerSymbol",type:"picturemarkersymbol",constructor:function(b,e,f){b?A.isString(b)?(this.url=b,e&&(this.width=e),f&&(this.height=f)):(this.width=m.pt2px(null==b.width?c.width:b.width),this.height=
m.pt2px(null==b.height?c.height:b.height),e=b.imageData,9>a("ie")||!e||(f=this.url,this.url="data:"+(b.contentType||"image")+";base64,"+e,this.imageData=f)):(A.mixin(this,c),this.width=m.pt2px(this.width),this.height=m.pt2px(this.height))},getStroke:function(){return null},getFill:function(){return null},setWidth:function(b){this.width=b;return this},setHeight:function(b){this.height=b;return this},setUrl:function(b){b!==this.url&&(delete this.imageData,delete this.contentType);this.url=b;return this},
getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJson:function(){var b=this.url,e=this.imageData;if(0===b.indexOf("data:")){var f=b;b=e;e=f.indexOf(";base64,")+8;e=f.substr(e)}!A.isString(b)||0!==b.indexOf("/")&&0!==b.indexOf("//")&&0!==b.indexOf("./")&&0!==b.indexOf("../")||(b=n.getAbsoluteUrl(b));f=m.px2pt(this.width);f=isNaN(f)?void 0:f;var k=
m.px2pt(this.height);k=isNaN(k)?void 0:k;b=t.fixJson(A.mixin(this.inherited("toJson",arguments),{type:"esriPMS",url:b,imageData:e,contentType:this.contentType,width:f,height:k}));delete b.color;delete b.size;b.imageData||delete b.imageData;return b}});G.defaultProps=c;a("extend-esri")&&(A.setObject("symbol.PictureMarkerSymbol",G,p),p.symbol.defaultPictureMarkerSymbol=c);return G})},"esri/symbols/MarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ./Symbol".split(" "),
function(G,A,a,m,p,t){G=G(t,{declaredClass:"esri.symbol.MarkerSymbol",angle:0,xoffset:0,yoffset:0,size:12,constructor:function(n){n&&A.isObject(n)&&(this.size="auto"===this.size?this.size:m.pt2px(this.size),this.xoffset=m.pt2px(this.xoffset),this.yoffset=m.pt2px(this.yoffset),this.angle&&(this.angle*=-1))},setAngle:function(n){this.angle=n;return this},setSize:function(n){this.size=n;return this},setOffset:function(n,h){this.xoffset=n;this.yoffset=h;return this},toJson:function(){var n=m.px2pt(this.size);
n=isNaN(n)?void 0:n;var h=m.px2pt(this.xoffset);h=isNaN(h)?void 0:h;var c=m.px2pt(this.yoffset);c=isNaN(c)?void 0:c;return A.mixin(this.inherited("toJson",arguments),{size:"auto"===this.size?this.size:n,angle:this.angle&&-1*this.angle,xoffset:h,yoffset:c})}});a("extend-esri")&&A.setObject("symbol.MarkerSymbol",G,p);return G})},"esri/symbols/Symbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../Color".split(" "),function(G,A,a,m,p,t){G=G(null,{declaredClass:"esri.symbol.Symbol",
color:new t([0,0,0,1]),type:null,constructor:function(n){n&&A.isObject(n)&&(A.mixin(this,n),this.color&&p.isDefined(this.color[0])&&(this.color=t.toDojoColor(this.color)),(n=this.type)&&0===n.indexOf("esri")&&(this.type={esriSMS:"simplemarkersymbol",esriPMS:"picturemarkersymbol",esriSLS:"simplelinesymbol",esriCLS:"cartographiclinesymbol",esriSFS:"simplefillsymbol",esriPFS:"picturefillsymbol",esriTS:"textsymbol",esriSHD:"shieldlabelsymbol"}[n]))},setColor:function(n){this.color=n;return this},toJson:function(){return{color:t.toJsonColor(this.color)}}});
a("extend-esri")&&A.setObject("symbol.Symbol",G,m);return G})},"esri/Color":function(){define(["dojo/_base/declare","dojo/_base/Color","dojo/has","./kernel"],function(G,A,a,m){var p=G([A],{declaredClass:"esri.Color"});p.toJsonColor=function(n){return n&&[n.r,n.g,n.b,1<n.a?n.a:Math.round(255*n.a)]};p.toDojoColor=function(n){return n&&new p([n[0],n[1],n[2],n[3]/255])};var t="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(G=0;G<t.length;G++)p[t[G]]=A[t[G]];a("extend-esri")&&(m.Color=
p);return p})},"esri/symbols/TextSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../lang ../Color ./Symbol ./Font".split(" "),function(G,A,a,m,p,t,n,h,c){var b={type:"textsymbol",x:0,y:0,text:"",rotated:!1,kerning:!0,color:[0,0,0,1],font:m.defaultFont,angle:0,xoffset:0,yoffset:0,horizontalAlignment:"center"},e={start:"left",middle:"center",end:"right"},f={left:"start",center:"middle",right:"end",justify:"start"},k={top:"text-before-edge",middle:"central",
baseline:"alphabetic",bottom:"text-after-edge"},u=document.createElement("canvas");G=G(h,{declaredClass:"esri.symbol.TextSymbol",angle:0,xoffset:0,yoffset:0,constructor:function(v,g,q){A.mixin(this,b);this.font=new c(this.font);this.color=new n(this.color);v&&(A.isObject(v)?(A.mixin(this,v),this.color&&t.isDefined(this.color[0])&&(this.color=n.toDojoColor(this.color)),this.type="textsymbol",this.font=new c(this.font),this.xoffset=m.pt2px(this.xoffset),this.yoffset=m.pt2px(this.yoffset),this.angle&&
(this.angle*=-1),this.haloSize&&(this.haloSize=m.pt2px(this.haloSize)),this.haloColor&&(this.haloColor=n.toDojoColor(this.haloColor))):(this.text=v,g&&(this.font=g),q&&(this.color=q)));this.setAlign(this.align||this.getSVGAlign())},setFont:function(v){this.font=v;return this},setSize:function(v){this.font.size=v;return this},setAngle:function(v){this.angle=v;return this},setOffset:function(v,g){this.xoffset=v;this.yoffset=g;return this},setHaloColor:function(v){this.haloColor=v;return this},setHaloSize:function(v){this.haloSize=
v;return this},setAlign:function(v){this.align=v;this.setHorizontalAlignment(v&&e[v.toLowerCase()]||"center");return this},setHorizontalAlignment:function(v){this.horizontalAlignment=v;return this},getSVGAlign:function(){var v=this.horizontalAlignment;return v=v&&f[v.toLowerCase()]||"middle"},setVerticalAlignment:function(v){this.verticalAlignment=v;return this},getSVGBaseline:function(){var v=this.verticalAlignment;return v&&k[v.toLowerCase()]||"alphabetic"},getSVGBaselineShift:function(){return"bottom"===
this.verticalAlignment?"super":null},setDecoration:function(v){this.decoration=v;this.font||this.setFont(new c);this.font.setDecoration(v);return this},setRotated:function(v){this.rotated=v;return this},setKerning:function(v){this.kerning=v;return this},setText:function(v){this.text=v;return this},getStroke:function(){return null},getFill:function(){return this.color},getWidth:function(){var v=u&&u.getContext&&u.getContext("2d");if(v){var g=this.font;v.font=(g.style?g.style:m.defaultFont.style)+" "+
(g.weight?g.weight:m.defaultFont.weight)+" "+(g.size?g.size:m.defaultFont.size)+"px "+(g.family?g.family:m.defaultFont.family);return v.measureText(this.text).width}v=this.getHeight();g=0;var q;for(q=0;q<this.text.length;q++){var x=this.text.charAt(q);g=x==x.toUpperCase()?g+.7*v:g+.5*v}return g},getHeight:function(){return m.normalizedLength(this.font.size)},getShapeDescriptors:function(){var v=this.font;if(v){var g={};v.size&&(g.size=v.size);v.style&&(g.style=v.style);v.variant&&(g.variant=v.variant);
v.decoration&&(g.decoration=v.decoration);v.weight&&(g.weight=v.weight);v.family&&(g.family=v.family)}return{defaultShape:{type:"text",text:this.text,x:0,y:this.getHeight()/4,align:"middle",decoration:this.decoration||v&&v.decoration,rotated:this.rotated,kerning:this.kerning},font:g,fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){var v=m.px2pt(this.xoffset),g=m.px2pt(this.yoffset),q=m.px2pt(this.haloSize);v=isNaN(v)?void 0:v;g=isNaN(g)?void 0:g;q=isNaN(q)?void 0:q;return t.fixJson(A.mixin(this.inherited("toJson",
arguments),{type:"esriTS",backgroundColor:this.backgroundColor,borderLineColor:this.borderLineColor,borderLineSize:this.borderLineSize,haloSize:q,haloColor:this.haloColor&&n.toJsonColor(this.haloColor),verticalAlignment:this.verticalAlignment,horizontalAlignment:this.horizontalAlignment,rightToLeft:this.rightToLeft,width:this.width,angle:this.angle&&-1*this.angle,xoffset:v,yoffset:g,text:this.text,rotated:this.rotated,kerning:this.kerning,font:this.font.toJson()}))}});A.mixin(G,{ALIGN_START:"start",
ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"});G.defaultProps=b;a("extend-esri")&&(A.setObject("symbol.TextSymbol",G,p),p.symbol.defaultTextSymbol=b);return G})},"esri/symbols/Font":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang".split(" "),function(G,A,a,m,p,t){G=G(null,{declaredClass:"esri.symbol.Font",constructor:function(n,h,
c,b,e){n?A.isObject(n)?A.mixin(this,n):(this.size=n,parseFloat(this.size)==this.size&&(this.size+="px"),void 0!==h&&(this.style=h),void 0!==c&&(this.variant=c),void 0!==b&&(this.weight=b),void 0!==e&&(this.family=e)):A.mixin(this,m.defaultFont);parseFloat(this.size)==this.size&&(this.size+="pt");9>a("ie")&&this.size&&A.isString(this.size)&&-1<this.size.indexOf("em")&&(this.size=m.pt2px(12*parseFloat(this.size))+"px");this.size=this._convert2PxSize(this.size)},setSize:function(n){this.size=this._convert2PxSize(n);
return this},_convert2PxSize:function(n){var h;parseFloat(n)==n?h=n:A.isString(n)&&(-1<n.indexOf("pt")?h=m.pt2px(parseFloat(n)):-1<n.indexOf("px")?h=parseFloat(n):-1<n.indexOf("em")?h=m.pt2px(12*parseFloat(n)):-1<n.indexOf("%")&&(h=m.pt2px(.12*parseFloat(n))));return h},setStyle:function(n){this.style=n;return this},setVariant:function(n){this.variant=n;return this},setWeight:function(n){this.weight=n;return this},setFamily:function(n){this.family=n;return this},setDecoration:function(n){this.decoration=
n;return this},toJson:function(){return t.fixJson({size:m.px2pt(this.size),style:this.style,decoration:this.decoration,weight:this.weight,family:this.family})}});A.mixin(G,{STYLE_NORMAL:"normal",STYLE_ITALIC:"italic",STYLE_OBLIQUE:"oblique",VARIANT_NORMAL:"normal",VARIANT_SMALLCAPS:"small-caps",WEIGHT_NORMAL:"normal",WEIGHT_BOLD:"bold",WEIGHT_BOLDER:"bolder",WEIGHT_LIGHTER:"lighter"});a("extend-esri")&&A.setObject("symbol.Font",G,p);return G})},"esri/symbols/SimpleMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(G,A,a,m,p,t,n,h,c){var b={STYLE_CIRCLE:"circle",STYLE_SQUARE:"square",STYLE_TRIANGLE:"triangle",STYLE_CROSS:"cross",STYLE_X:"x",STYLE_DIAMOND:"diamond",STYLE_PATH:"path",STYLE_TARGET:"target"},e={style:b.STYLE_CIRCLE,color:[255,255,255,.25],size:12,angle:0,xoffset:0,yoffset:0};G=G(h,{declaredClass:"esri.symbol.SimpleMarkerSymbol",type:"simplemarkersymbol",_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",triangle:"esriSMSTriangle",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",
path:"esriSMSPath"},constructor:function(f,k,u,v){f?A.isString(f)?(this.style=f,k&&(this.size=k),u&&(this.outline=u),v&&(this.color=v)):(this.style=n.valueOf(this._styles,this.style),f.outline&&(this.outline=new c(f.outline))):(A.mixin(this,e),this.size=p.pt2px(this.size),this.outline=new c(this.outline),this.color=new a(this.color));this.style||(this.style=b.STYLE_CIRCLE)},setStyle:function(f){this.style=f;return this},setPath:function(f){this.path=f;this.setStyle(b.STYLE_PATH);return this},setOutline:function(f){this.outline=
f;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){return this.color},_setDim:function(f,k,u){this._targetWidth=f;this._targetHeight=k;this._spikeSize=u},getShapeDescriptors:function(){var f,k=this.style,u=(this.size||p.pt2px(e.size))/2,v=0-u,g=0+u,q=0-u,x=0+u;switch(k){case b.STYLE_CIRCLE:var w={type:"circle",cx:0,cy:0,r:u};var B=this.getFill();if(f=this.getStroke())f.style=f.style||"Solid";break;case b.STYLE_CROSS:w={type:"path",path:"M "+v+",0 L "+
g+",0 M 0,"+q+" L 0,"+x+" E"};B=null;f=this.getStroke();break;case b.STYLE_DIAMOND:w={type:"path",path:"M "+v+",0 L 0,"+q+" L "+g+",0 L 0,"+x+" L "+v+",0 Z"};B=this.getFill();f=this.getStroke();break;case b.STYLE_SQUARE:w={type:"path",path:"M "+v+","+x+" L "+v+","+q+" L "+g+","+q+" L "+g+","+x+" L "+v+","+x+" Z"};B=this.getFill();f=this.getStroke();break;case b.STYLE_TRIANGLE:w={type:"path",path:"M "+v+","+x+" L 0,"+q+" L "+g+","+x+" L "+v+","+x+" Z"};B=this.getFill();f=this.getStroke();break;case b.STYLE_X:w=
{type:"path",path:"M "+v+","+x+" L "+g+","+q+" M "+v+","+q+" L "+g+","+x+" E"};B=null;f=this.getStroke();break;case b.STYLE_PATH:w={type:"path",path:this.path||""},B=this.getFill(),f=this.getStroke()}return{defaultShape:w,fill:B,stroke:f}},toJson:function(){var f=this.style,k=this.outline,u=A.mixin(this.inherited("toJson",arguments),{type:"esriSMS",style:this._styles[f]||"esriSMSCircle"});k&&(u.outline=k.toJson());"x"===f||"cross"===f?delete u.color:"target"===f&&(u.style="esriSMSSquare",delete u.color,
0<this._targetHeight&&0<this._targetWidth&&(u.size=p.px2pt(Math.max(this._targetHeight,this._targetWidth))));u.path=this.path;return n.fixJson(u)}});A.mixin(G,b);G.defaultProps=e;m("extend-esri")&&(A.setObject("symbol.SimpleMarkerSymbol",G,t),t.symbol.defaultSimpleMarkerSymbol=e);return G})},"esri/symbols/SimpleLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./LineSymbol".split(" "),function(G,A,a,m,p,t,n,h){var c={STYLE_SOLID:"solid",
STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot"},b={color:[0,0,0,1],style:c.STYLE_SOLID,width:1};G=G(h,{declaredClass:"esri.symbol.SimpleLineSymbol",type:"simplelinesymbol",marker:null,_styles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot",dashdot:"esriSLSDashDot",
longdashdotdot:"esriSLSDashDotDot",none:"esriSLSNull",insideframe:"esriSLSInsideFrame",shortdash:"esriSLSShortDash",shortdot:"esriSLSShortDot",shortdashdot:"esriSLSShortDashDot",shortdashdotdot:"esriSLSShortDashDotDot",longdash:"esriSLSLongDash",longdashdot:"esriSLSLongDashDot"},constructor:function(e,f,k){e?A.isString(e)?(this.style=e,f&&(this.color=f),k&&(this.width=k)):(this.style=n.valueOf(this._styles,e.style)||c.STYLE_SOLID,this.marker=e.marker):(A.mixin(this,b),this.color=new a(this.color),
this.width=p.pt2px(this.width))},setStyle:function(e){this.style=e;return this},setMarker:function(e){this.marker=e},getStroke:function(){return this.style===c.STYLE_NULL||0===this.width?null:{color:this.color,style:this.style,width:this.width}},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){return n.fixJson(A.mixin(this.inherited("toJson",arguments),{type:"esriSLS",style:this._styles[this.style],
marker:this.marker?A.clone(this.marker):void 0}))}});A.mixin(G,c);G.defaultProps=b;m("extend-esri")&&(A.setObject("symbol.SimpleLineSymbol",G,t),t.symbol.defaultSimpleLineSymbol=b);return G})},"esri/symbols/LineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ./Symbol".split(" "),function(G,A,a,m,p,t){G=G(t,{declaredClass:"esri.symbol.LineSymbol",constructor:function(n){A.isObject(n)?this.width=m.pt2px(this.width):this.width=12},setWidth:function(n){this.width=
n;return this},toJson:function(){var n=m.px2pt(this.width);n=isNaN(n)?void 0:n;return A.mixin(this.inherited("toJson",arguments),{width:n})}});a("extend-esri")&&A.setObject("symbol.LineSymbol",G,p);return G})},"arcgis3d/layers/GraphicsLayer":function(){define("dojo/_base/declare dojo/on ./_Layer ../Graphic3d ./Canvas3DGraphicsRenderer engine/materials/Material engine/lib/Texture esri/symbols/PictureMarkerSymbol esri/symbols/jsonUtils esri/symbols/Symbol".split(" "),function(G,A,a,m,p,t,n,h,c,b){return G([a],
{constructor:function(e,f){"object"!==typeof e||f||(f=e);this.id=f&&f.id||"graphicsLayer";this.name=f&&f.name||this.id;this.symbol=f&&f.symbol;this.labelingInfo=f&&f.labelingInfo;this._translation=f&&f.translation||[0,0,0];this.renderer=void 0;this.graphics=[];this._initLayer()},_initLayer:function(){this.labelingInfo&&this.setLabelingInfo(this.labelingInfo);this.loaded=!0;this.emit("load",{layer:this})},getCount:function(){return this.graphics.length},addGraphics:function(e){if(null!=e&&e.length&&
0!=e.length){for(var f in e)assert(-1==this.graphics.indexOf(e[f]),"Graphic already exists"),this.graphics.push(e[f]);this.renderer.addGraphics(e)}},addGraphic:function(e){null!=e&&this.addGraphics([e])},removeGraphics:function(e){if(null==e||!e.length||0==e.length)return[];var f=[],k;for(k in e){var u=this.graphics.indexOf(e[k]);0<u&&f.push(this.graphics.splice(u,1))}0<f.length&&this.renderer.removeGraphics(f);return f},removeGraphic:function(e){if(null!=e&&0!=this.removeGraphics([e]).length)return e},
empty:function(){this.renderer&&this.renderer.empty();this.graphics.length=0},_setMap:function(e){this.inherited(arguments);this._map=e;this.renderer=new p(this);this._onSelectionChangeHandle=A(this.renderer,"selection-change",function(f){this.emit("selectionChange",{graphics:f.graphics,unselectedGraphics:f.unselectedGraphics})}.bind(this));0<this.graphics.length&&this.renderer.addGraphics(this.graphics);return this.renderer},_unsetMap:function(){this.inherited(arguments);this._onSelectionChangeHandle&&
this._onSelectionChangeHandle.remove();this.renderer=this._map=null},_setSymbol:function(e){this.symbol=e},_getSymbol:function(){return this.symbol},enableLabels:function(e){},setLabelingInfo:function(e){if(this.labelingInfo=e){e.symbol instanceof b?this.labelSymbol=e.symbol:console.error("invalid labeling symbol "+e.symbol+" "+e.symbol.type);var f=this.labelingInfo.labelExpression.split("[")[1].split("]")[0],k=this.labelSymbol.func;this.labelSymbol.evalLabel=function(u,v){this.text=v&&v[f]?v[f].toString():
void 0;k&&k(this,v,f)}.bind(this.labelSymbol)}else this.labelSymbol=void 0}})})},"arcgis3d/layers/_Layer":function(){define(["dojo/_base/declare","esri/layers/layer","dojo/Deferred","dojo/on"],function(G,A,a,m){return G([A],{minScale:NaN,maxScale:NaN,constructor:function(){this.renderer},_addThisLayerToStage:function(){throw Error("This method must be overriden by child class.");},_removeThisLayerFromStage:function(){throw Error("This method must be overriden by child class.");},setVisibility:function(p){p!=
this.visible&&(this.visible=p,this.renderer&&this.renderer.setVisibility(p),this.emit("visibilityChange",{layer:this,visible:p}))},_setMap:function(p,t,n,h){this._onScaleChangeHandle=m(p.viewport,"scale-change",function(c){var b=isNaN(this.minScale)?Number.MAX_VALUE:this.minScale,e=isNaN(this.maxScale)?.1:this.maxScale;c=c.scale;c>b||c<e?this.renderer&&this.renderer.setVisibility(!1):this.visible&&c<b&&c>e&&this.renderer&&this.renderer.setVisibility(!0)}.bind(this))},_unsetMap:function(p,t){this._onScaleChangeHandle&&
this._onScaleChangeHandle.remove()}})})},"arcgis3d/layers/Canvas3DGraphicsRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/Evented dojo/Deferred esri/symbols/SimpleMarkerSymbol esri/symbols/PictureMarkerSymbol esri/symbols/TextSymbol esri/symbols/LineSymbol esri/symbols/CartographicLineSymbol esri/symbols/SimpleFillSymbol esri/symbols/PictureFillSymbol esri/geometry/Polyline esri/geometry/Polygon arcgis3d/geometry/Point3d engine/lib/Layer engine/lib/Texture engine/Stage engine/materials/Material engine/materials/HUDMaterial engine/materials/NativeLineMaterial engine/materials/RibbonLineMaterial".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C){var y=x.ModelContentType,D=mat4d.identity(),F=function(H,E,I){function J(S,M,N,T,V){for(var ea,P=M instanceof u?"rings":"paths",ba=M.spatialReference,la=0;la<M[P].length;la++){ea=M[P][la];for(var Q=Array(ea.length),Y=0;Y<ea.length;Y++)Q[Y]=vec3d.create(),H.toEnginePosition([ea[Y][0],ea[Y][1],S.zoffset||0],ba,Q[Y]);ea="tube"===S.type3d?new Geometry(createTubeGeometry(Q,.5*S.width),V):new Geometry(createPolylineGeometry(Q),V);T.addGeometry(ea,[N],
D);E._addContentRef(y.GEOMETRY,ea)}return{success:0<la}}var K={},L=void 0!==I,O={};K.picturemarkersymbol=O;O.create=function(S,M){var N={};if(E._symbolTextures[S.url]){var T=E._symbolTextures[S.url];N[y.TEXTURE]=[T]}else T=E._symbolImages[S.url],assert(T),T=new Texture(T,M,{width:T.width,height:T.height}),E._symbolTextures[S.url]=T,N[y.TEXTURE]=[T],delete E._symbolImages[S.url];if(S.width&&S.height)T=[S.width,S.height];else if(T=T.params,S.width)T=[S.width,S.width/T.width*T.height];else if(S.height)T=
[S.height/T.height*T.width,S.height];else{if(S.worldScale)throw"World scale symbol must have either width or height parameter (or both)";T=[T.width,T.height]}S={textureId:N.textures[0].getId(),occlusionTest:!L,size:T,worldScale:S.worldScale,anchorPos:S.anchor,screenOffset:[S.xoffsetSS||0,S.zoffsetSS||0],color:[S.color.r/255,S.color.g/255,S.color.b/255,S.color.a]};N[y.MATERIAL]=[new B(S,M+"_hudmaterial")];return N};O.instantiate=function(S,M,N,T,V){if(M instanceof v){assert(1===N[y.MATERIAL].length);
S=M.normal||[0,1,0];if(L)return T=vec3d.createFrom(M.x,M.y),H.toWebMercator(T,M.spatialReference,T),T[2]=I,M=createPointGeometry(S,T,!0),T=new RenderGeometry(M),T.material=N[y.MATERIAL][0],T.origin={vec3:[0,0,0],id:"0_0"},T.transformation=D,T.name=V,T.uniqueName=V+"#"+M.id,{success:!0,drapedRenderGeometries:[T]};V=new Geometry(createPointGeometry(S),V);T.addGeometry(V,N[y.MATERIAL],D);N=T.getObjectTransformation();H.pointToEngineTransformation(M,N);T.setObjectTransformation(N);E._addContentRef(y.GEOMETRY,
V);return{success:!0}}throw"Geometry of PictureMarkerSymbol must be Point3d";};var U={};K.simplelinesymbol=U;K.cartographiclinesymbol=U;U.create=function(S,M){if("tube"===S.type3d)N=[S.color.r/255,S.color.g/255,S.color.b/255],S=new w({diffuse:N,ambient:N},M+"_3dlinemat");else{var N=[S.color.r/255,S.color.g/255,S.color.b/255,S.color.a],T=S.width||1;if(2>T&&!S.type3d)S=new z(T,N,M+"_nativelinemat");else{N={width:T,color:N};if("cartographiclinesymbol"===S.type){switch(S.join){case c.JOIN_MITER:N.join=
"miter";break;case c.JOIN_BEVEL:N.join="bevel";break;default:throw"Unsupported line join style: "+S.join;}N.miterLimit=S.miterLimit}if("wall"===S.type3d||"strip"===S.type3d)N.type=S.type3d,N.miterLimit=S.miterLimit;N.polygonOffset=!0;S=new C(N,M+"_ribbonlinemat")}}M={};M[y.MATERIAL]=[S];return M};U.instantiate=function(S,M,N,T,V){assert(M instanceof k);assert(1===N[y.MATERIAL].length);N=N[y.MATERIAL][0];if(L)if(1>M.paths.length)M={success:!1};else{S=M.spatialReference;T=Array(M.paths.length);for(var ea=
0;ea<M.paths.length;ea++){for(var P=M.paths[ea],ba=Array(P.length),la=0;la<P.length;la++)ba[la]=vec3d.create(),H.toWebMercator(P[la],S,ba[la]),ba[la][2]=I;P=createPolylineGeometry(ba,!0);ba=new RenderGeometry(P);ba.material=N;ba.origin={vec3:[0,0,0],id:"0_0"};ba.transformation=D;ba.name=V;ba.uniqueName=V+"#"+P.id;T[ea]=ba}M={success:!0,drapedRenderGeometries:T}}else M=J(S,M,N,T,V);return M};O={};K.simplefillsymbol=O;O.create=function(S,M){var N={};S.outline&&(S=U.create(S.outline,M),assert(1===S[y.MATERIAL].length),
N[y.MATERIAL]=S[y.MATERIAL]);return N};O.instantiate=function(S,M,N,T,V){assert(M instanceof u);var ea=!1;S.outline&&(assert(0<N[y.MATERIAL].length),ea=J(S.outline,M,N[y.MATERIAL][0],T,V).success);return{success:ea}};O={};K.textsymbol=O;O.create=function(S,M){return{}};O.instantiate=function(S,M,N,T,V){if(!S.text||""==S.text)return{success:!1};N=parseFloat(S.font.size)||40;N=new TextTexture(S.text,N,V+"__"+S.text,S.style,S.worldScale);if(S.worldScale){if(!S.size)throw"World scale label must have size parameter";
var ea=[N.getTextWidth()/N.getTextHeight()*S.size,S.size]}else ea=[N.getTextWidth(),N.getTextHeight()];var P=vec3d.create(),ba=void 0;if(M instanceof k){var la=Math.floor(M.paths.length/2),Q=Math.floor(M.paths[la].length/2);ba=vec3d.create(M.paths[la][Q-1]);la=vec3d.create(M.paths[la][Q]);vec3.add(la,ba,P);vec3.scale(P,.5);L?(H.toWebMercator(ba,M.spatialReference,ba),H.toWebMercator(la,M.spatialReference,la),ba[2]=I,la[2]=I):(H.toEnginePosition(ba,M.spatialReference,ba),H.toEnginePosition(la,M.spatialReference,
la));vec3d.subtract(la,ba);vec3d.normalize(la);ba=la}else assert(M instanceof v,"Text symbol has invalid geometry"),vec3d.set3(M.x,M.y,M.z,P),(ba=S.dir)&&L&&(ba[2]=I);la=S.worldScale?[S.minSize||12,S.maxSize||N.getTextHeight()]:void 0;ea={textureId:N.getId(),size:ea,worldScale:S.worldScale,direction:ba,texCoordScale:N.getTexcoordScale(),occlusionTest:!L,screenMinMaxSize:la,screenOffset:[S.xoffsetSS||0,S.zoffsetSS||0],anchorPos:S.anchor,polygonOffset:!0};ea=new B(ea,V+"_hudmaterial");ba={success:!0};
L?(H.toWebMercator(P,M.spatialReference,P),P[2]=I,M=createPointGeometry([0,0,1],P,!0),T=new RenderGeometry(M),T.material=ea,T.origin={vec3:[0,0,0],id:"0_0"},T.transformation=D,T.name=V,T.uniqueName=V+"#"+M.id,ba.drapedRenderGeometries=[T]):(la=mat4d.identity(),S.zoffset&&mat4d.translate(la,[0,S.zoffset,0]),V=new Geometry(createPointGeometry([0,1,0]),V),T.addGeometry(V,[ea],la),S=mat4d.identity(),H.toEngineTransformation(P,M.spatialReference,S),T.setObjectTransformation(S),"spherical"===H.getEngineMode()?
(M.normal=vec3d.createFrom(S[12],S[13],S[14]),vec3.normalize(M.normal)):M.normal=[0,1,0],E._addContentRef(y.GEOMETRY,V));E._addContentRef(y.MATERIAL,ea);E._addContentRef(y.TEXTURE,N);return ba};return K};return G([m],{constructor:function(H){this.type="canvas-3d";this.layer=H;this.viewport;this.updating=!1;this.visible=!0;this.opacity=1;this.loaded=!1;this._selectedGraphics=[];this._engineLayer;this._layerSymbolResources={};this._layerSymbolLoaded=new p;this._symbolImages={};this._symbolTextures=
{};this._stageContentRefs={};this._stageContentRefs[y.MATERIAL]={};this._stageContentRefs[y.TEXTURE]={};this._stageContentRefs[y.GEOMETRY]={};this._drapedRenderGeometriesToAdd=[];this._newGraphicsReadyForDisplay=[];this._newDataEventDelayTimerID=void 0;this.id=H.id;this._addReadyGraphic=this._addReadyGraphic.bind(this)},destroy:function(){this._selectedGraphics.length=0;this.empty();this._destroyLayerSymbols();for(var H in this._symbolTextures){var E=this._symbolTextures[H];E instanceof p?E.cancel():
assert(!this._stage.get(y.TEXTURE,this._symbolTextures[H].getId()));delete this._symbolTextures[H]}for(var I in this._symbolImages)delete this._symbolImages[I];this._stage.remove(y.LAYER,this.id);this._stage=null;this._layerSymbolResources={};this._layerSymbolLoaded=void 0;this._symbolImages={};this._stageContentRefs[y.MATERIAL]={};this._stageContentRefs[y.TEXTURE]={};this._stageContentRefs[y.GEOMETRY]={};this.viewport=this.layer=null;this._newGraphicsReadyForDisplay=void 0;this._newDataEventDelayTimerID&&
clearTimeout(this._newDataEventDelayTimerID)},addGraphics:function(H){for(var E in H)this._addGraphic(H[E])},removeGraphics:function(H){for(var E in H){var I=H[E];I.__object3d&&(this._removeObject(I.__object3d,this._engineLayer),delete I.__object3d);I.__labelObject3d&&(this._removeObject(I.__labelObject3d,this._engineLayer),delete I.__labelObject3d);I.__drapedRenderGeometries&&this._removeDrapedResources(I.__drapedRenderGeometries);I.__drapedLabelRenderGeometries&&this._removeDrapedResources(I.__drapedLabelRenderGeometries)}return H},
setViewport:function(H){this.viewport=H;this._stage=H._stage;this._symbolMethods=new F(H.coordinateSystemHelper,this,this.layer.draped?-2:void 0);this._onSelectionChangeHandle=a(H,"selectionChange",function(E){var I=E.object;E=null;if(I&&I.getId())for(var J in this.layer.graphics)if(this.layer.graphics[J].__getId()===I.getId()){E=this.layer.graphics[J];break}null==E?0<this._selectedGraphics.length&&(J=[],J=J.concat(this._selectedGraphics),this._selectedGraphics.length=0,this.emit("selection-change",
{graphics:this._selectedGraphics,unselectedGraphics:J})):0==this._selectedGraphics.length?(this._selectedGraphics.push(E),this.emit("selection-change",{graphics:this._selectedGraphics,unselectedGraphics:[]})):E!=this._selectedGraphics[0]&&(J=[],J=J.concat(this._selectedGraphics),this._selectedGraphics[0]=E,this.emit("selection-change",{graphics:this._selectedGraphics,unselectedGraphics:J}))}.bind(this));this._addThisLayerToStage();this.setVisibility(this.layer.visible);this.layer._getSymbol()&&this._initLayerSymbols(this.layer._getSymbol(),
this.layer.labelSymbol)},unsetViewport:function(H){this._onSelectionChangeHandle&&this._onSelectionChangeHandle.remove();this.destroy()},then:function(H){},otherwise:function(H){},empty:function(){if(0!=this.layer.graphics.length)for(var H in this.layer.graphics)this.layer.graphics[H].__object3d&&(this._removeObject(this.layer.graphics[H].__object3d,this._engineLayer),delete this.layer.graphics[H].__object3d),this.layer.graphics[H].__labelObject3d&&(this._removeObject(this.layer.graphics[H].__labelObject3d,
this._engineLayer),delete this.layer.graphics[H].__labelObject3d)},setVisibility:function(H){if(this._engineLayer&&this._stage){var E=this._stage.getViewContent();H&&0<=E.indexOf(this.id)||!H&&-1==E.indexOf(this.id)||(H?E.push(this.id):E.splice(E.indexOf(this.id),1),this._stage.setViewContent(E))}},getEngineLayer:function(){return this._engineLayer},_initLayerSymbols:function(H,E){if(!H)return!1;if(E){var I=this._createSymbol(E,this.id+"_layerLabelSymbol");this._addBulkContentRefs(I);this._layerSymbolResources["label_"+
E.type]=I}E=function(){var J=this._createSymbol(H,this.id+"_layerSymbol");this._addBulkContentRefs(J);this._layerSymbolResources[H.type]=J;this._layerSymbolLoaded.resolve()}.bind(this);H instanceof n?this._fetchSymbolImage(H.url).then(E):E()},_destroyLayerSymbols:function(){for(var H in this._layerSymbolResources)this._removeBulkContentRefs(this._layerSymbolResources[H]),delete this._layerSymbolResources[H]},_addThisLayerToStage:function(){this._engineLayer=new Layer(this.id,{translation:this._translation},
this.id);0===this.id.indexOf("__GeoComments")&&this._engineLayer.setSpatialAcceleration("none");this.id=this._engineLayer.getId();this._stage.add(y.LAYER,this._engineLayer)},_addGraphic:function(H){H.__object3d?console.warn("Graphic with ID '"+H.__getId()+"' cannot be added because it already exists."):(assert(H.geometry),this._fetchDeferredResourcesForSymbol(H,this._addReadyGraphic))},_addReadyGraphic:function(H){var E=H.name,I=H.attributes;if(H.symbol){var J=H.symbol;var K=this._createSymbol(J,
I,E)}else{J=this.layer._getSymbol();if(!J)throw"Cannot add Graphic without symbol to GraphicsLayer without default symbol";assert(this._layerSymbolResources[J.type],"default symbol resources not present");K=this._layerSymbolResources[J.type]}if(K){var L=this._engineLayer,O={ceLayer:L.getId()},U=new Object3D(E,[],[],[],!1,O,E);J=this._instantiateSymbol(J,H.geometry,I,K,U,E);J.success&&(this.layer.draped?(assert(J.drapedRenderGeometries),this._drapedRenderGeometriesToAdd.push.apply(this._drapedRenderGeometriesToAdd,
J.drapedRenderGeometries),H.__drapedRenderGeometries=J.drapedRenderGeometries):(this._stage.add(y.OBJECT,U),L.addObject(U),H.__object3d=U));this.layer.labelingInfo&&(E+="_label",J=this.layer.labelSymbol,this._createSymbol(J,I,E)&&(J.evalLabel&&I&&J.evalLabel(J,I),U=new Object3D(E,[],[],[],!1,O,E),J=this._instantiateSymbol(J,H.geometry,I,K,U,E),J.success&&(this.layer.draped?(assert(J.drapedRenderGeometries),this._drapedRenderGeometriesToAdd.push.apply(this._drapedRenderGeometriesToAdd,J.drapedRenderGeometries),
H.__drapedLabelRenderGeometries=J.drapedRenderGeometries):(this._stage.add(y.OBJECT,U),L.addObject(U),H.__labelObject3d=U))));H._readyForCanvas3DDisplay=!0;this._newGraphicsReadyForDisplay.push(H);void 0===this._newDataEventDelayTimerID&&(this._newDataEventDelayTimerID=setTimeout(function(){0<this._drapedRenderGeometriesToAdd.length&&(this._stage.getTextureGraphicsRenderer().addRenderGeometries(this._drapedRenderGeometriesToAdd),this._drapedRenderGeometriesToAdd=[]);this.emit("newDataReadyForDisplay",
{layer:this.layer,graphics:this._newGraphicsReadyForDisplay});this._newGraphicsReadyForDisplay=[]}.bind(this),200))}},_addContentRef:function(H,E){var I=this._stageContentRefs[H][E.getId()];I&&0!=I?this._stageContentRefs[H][E.getId()]+=1:(this._stage.add(H,E),this._stageContentRefs[H][E.getId()]=1)},_removeContentRef:function(H,E){var I=this._stageContentRefs[H][E];assert(I);assert(0<I);1==I?(this._stage.remove(H,E),this._stageContentRefs[H][E]=0):--this._stageContentRefs[H][E]},_addBulkContentRefs:function(H){for(var E in H)for(var I=
0;I<H[E].length;I++)this._addContentRef(E,H[E][I])},_removeBulkContentRefs:function(H){for(var E in H)for(var I=0;I<H[E].length;I++)this._removeContentRef(E,H[E][I].getId())},_removeObject:function(H,E){assert(1===H.getNumGeometryRecords());for(var I=H.getGeometryRecords(),J=0;J<I.length;J++){var K=I[J];assert(1===K.geometry.getNumGroups());this._removeContentRef(y.GEOMETRY,K.geometry.getId());var L=K.materials[0].getAllTextureIds()[0];L&&this._removeContentRef(y.TEXTURE,L);this._removeContentRef(y.MATERIAL,
K.materials[0].getId())}E.removeObject(H);this._stage.remove(y.OBJECT,H.getId())},_removeDrapedResources:function(H){this._stage.getTextureGraphicsRenderer().removeRenderGeometries(H);for(var E=0;E<H.length;E++){var I=H[E];this._removeContentRef(y.MATERIAL,I.material.getId());(I=I.material.getAllTextureIds()[0])&&this._removeContentRef(y.TEXTURE,I)}},_fetchDeferredResourcesForSymbol:function(H,E){var I=H.symbol;void 0===I?this._layerSymbolLoaded.isFulfilled()?E(H):this._layerSymbolLoaded.then(A.partial(E,
H)):I instanceof n?this._symbolImages[I.url]instanceof Image?E(H):this._symbolImages[I.url]instanceof p?this._symbolImages[I.url].then(A.partial(E,H)):this._fetchSymbolImage(I.url).then(A.partial(E,H)):E(H)},_fetchSymbolImage:function(H){var E=new Image,I=new p;E.onload=function(){I.isCanceled()||(this._symbolImages[H]=E,I.resolve());E.onload=void 0;E.onerror=void 0}.bind(this);E.onerror=function(){console.log("Unable to download symbol image "+H);E.onload=void 0;E.onerror=void 0};this._symbolImages[H]=
I;E.src=H;return I},_createSymbol:function(H,E,I){H.func&&H.func(H,E);E={};if(this._symbolMethods[H.type])return this._symbolMethods[H.type].create(H,I);if(H instanceof t){if(0==H.size)return;"sphere"==H.typ?E[y.GEOMETRY]=[new Geometry(createSphereGeometry(1),I+"_sphere")]:"cylinder"==H.typ?E[y.GEOMETRY]=[new Geometry(createCylinderGeometry(1,1,8,[0,1,0],[0,.5,0]),I+"_cylinder")]:assert(!1,"SimpleMarkerSymbol type "+H.typ+" not yet supported");E[y.MATERIAL]=[new w({transparent:1>H.color.a,ambient:[.5,
.5,.5],diffuse:[H.color.r/255,H.color.g/255,H.color.b/255],specular:[.5,.5,.5],shininess:100,opacity:H.color.a},I+"_material")]}return E},_instantiateSymbol:function(H,E,I,J,K,L){I={success:!0};var O=this.viewport.coordinateSystemHelper,U=mat4d.identity(),S=mat4d.identity();if(this._symbolMethods[H.type])I=this._symbolMethods[H.type].instantiate(H,E,J,K,L);else if(H instanceof t)if(E instanceof v)assert(1===J[y.MATERIAL].length),assert(1===J[y.GEOMETRY].length),L=H.size||50,"sphere"==H.typ?mat4d.scale(S,
[L,L,L]):"cylinder"==H.typ&&(assert(H.height,"SimpleMarkerSymbol of type 'cylinder' must have height property"),mat4d.scale(S,[L,H.height,L])),H.zoffset&&mat4d.translate(S,[0,H.zoffset,0]),K.addGeometry(J[y.GEOMETRY][0],J[y.MATERIAL],S),O.pointToEngineTransformation(E,U),K.setObjectTransformation(U);else throw"Geometry of SimpleMarkerSymbol must be Point3d";I.success&&this._addBulkContentRefs(J);return I}})})},"esri/symbols/CartographicLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./SimpleLineSymbol".split(" "),
function(G,A,a,m,p,t,n,h){var c={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_INSIDE_FRAME:"insideframe",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"},b={color:[0,
0,0,1],style:c.STYLE_SOLID,width:1,cap:c.CAP_BUTT,join:c.JOIN_MITER,miterLimit:10};G=G(h,{declaredClass:"esri.symbol.CartographicLineSymbol",type:"cartographiclinesymbol",_caps:{butt:"esriLCSButt",round:"esriLCSRound",square:"esriLCSSquare"},_joins:{miter:"esriLJSMiter",round:"esriLJSRound",bevel:"esriLJSBevel"},constructor:function(e,f,k,u,v,g){e?A.isString(e)?(this.style=e,f&&(this.color=f),void 0!==k&&(this.width=k),u&&(this.cap=u),v&&(this.join=v),void 0!==g&&(this.miterLimit=g)):(this.cap=n.valueOf(this._caps,
e.cap),this.join=n.valueOf(this._joins,e.join),this.width=p.pt2px(e.width),this.miterLimit=p.pt2px(e.miterLimit)):(A.mixin(this,b),this.color=new a(this.color),this.width=p.pt2px(this.width),this.miterLimit=p.pt2px(this.miterLimit))},setCap:function(e){this.cap=e;return this},setJoin:function(e){this.join=e;return this},setMiterLimit:function(e){this.miterLimit=e;return this},getStroke:function(){return A.mixin(this.inherited("getStroke",arguments),{cap:this.cap,join:this.join===c.JOIN_MITER?this.miterLimit:
this.join})},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){var e=p.px2pt(this.miterLimit);e=isNaN(e)?void 0:e;return n.fixJson(A.mixin(this.inherited("toJson",arguments),{type:"esriCLS",cap:this._caps[this.cap],join:this._joins[this.join],miterLimit:e}))}});A.mixin(G,c);G.defaultProps=b;m("extend-esri")&&(A.setObject("symbol.CartographicLineSymbol",G,t),t.symbol.defaultCartographicLineSymbol=
b);return G})},"esri/symbols/SimpleFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./FillSymbol ./SimpleLineSymbol require".split(" "),function(G,A,a,m,p,t,n,h,c,b){var e={STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forwarddiagonal",STYLE_BACKWARD_DIAGONAL:"backwarddiagonal",STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonalcross",STYLE_FORWARDDIAGONAL:"forwarddiagonal",
STYLE_BACKWARDDIAGONAL:"backwarddiagonal",STYLE_DIAGONALCROSS:"diagonalcross"},f={style:e.STYLE_SOLID,color:[0,0,0,.25]};G=G(h,{declaredClass:"esri.symbol.SimpleFillSymbol",type:"simplefillsymbol",_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical",forwarddiagonal:"esriSFSForwardDiagonal",backwarddiagonal:"esriSFSBackwardDiagonal",cross:"esriSFSCross",diagonalcross:"esriSFSDiagonalCross"},constructor:function(k,u,v){k?A.isString(k)?(this.style=
k,void 0!==u&&(this.outline=u),void 0!==v&&(this.color=v)):this.style=n.valueOf(this._styles,k.style):(A.mixin(this,f),this.outline=new c(this.outline),this.color=new a(this.color))},setStyle:function(k){this.style=k;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){var k=this.style;return k===e.STYLE_NULL?null:k===e.STYLE_SOLID?this.color:A.mixin({},p.defaultPattern,{src:b.toUrl("../images/symbol/sfs/"+k+".png"),width:10,height:10})},getShapeDescriptors:function(){return{defaultShape:{type:"path",
path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){return n.fixJson(A.mixin(this.inherited("toJson",arguments),{type:"esriSFS",style:this._styles[this.style]}))}});A.mixin(G,e);G.defaultProps=f;m("extend-esri")&&(A.setObject("symbol.SimpleFillSymbol",G,t),t.symbol.defaultSimpleFillSymbol=f);return G})},"esri/symbols/FillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ./Symbol ./SimpleLineSymbol".split(" "),
function(G,A,a,m,p,t){G=G(p,{declaredClass:"esri.symbol.FillSymbol",constructor:function(n){n&&A.isObject(n)&&n.outline&&(this.outline=new t(n.outline))},setOutline:function(n){this.outline=n;return this},toJson:function(){var n=this.inherited("toJson",arguments);this.outline&&(n.outline=this.outline.toJson());return n}});a("extend-esri")&&A.setObject("symbol.FillSymbol",G,m);return G})},"esri/symbols/PictureFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./FillSymbol".split(" "),
function(G,A,a,m,p,t,n,h){var c={xoffset:0,yoffset:0,width:12,height:12};G=G(h,{declaredClass:"esri.symbol.PictureFillSymbol",type:"picturefillsymbol",xscale:1,yscale:1,xoffset:0,yoffset:0,constructor:function(b,e,f,k){b?A.isString(b)?(this.url=b,void 0!==e&&(this.outline=e),void 0!==f&&(this.width=f),void 0!==k&&(this.height=k)):(this.xoffset=m.pt2px(b.xoffset),this.yoffset=m.pt2px(b.yoffset),this.width=m.pt2px(b.width),this.height=m.pt2px(b.height),e=b.imageData,9>a("ie")||!e||(f=this.url,this.url=
"data:"+(b.contentType||"image")+";base64,"+e,this.imageData=f)):(A.mixin(this,c),this.width=m.pt2px(this.width),this.height=m.pt2px(this.height))},setWidth:function(b){this.width=b;return this},setHeight:function(b){this.height=b;return this},setOffset:function(b,e){this.xoffset=b;this.yoffset=e;return this},setUrl:function(b){b!==this.url&&(delete this.imageData,delete this.contentType);this.url=b;return this},setXScale:function(b){this.xscale=b;return this},setYScale:function(b){this.yscale=b;
return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){return A.mixin({},m.defaultPattern,{src:this.url,width:this.width*this.xscale,height:this.height*this.yscale,x:this.xoffset,y:this.yoffset})},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){var b=this.url,e=this.imageData;if(0===b.indexOf("data:")){var f=b;b=e;e=f.indexOf(";base64,")+
8;e=f.substr(e)}!A.isString(b)||0!==b.indexOf("/")&&0!==b.indexOf("//")&&0!==b.indexOf("./")&&0!==b.indexOf("../")||(b=n.getAbsoluteUrl(b));f=m.px2pt(this.width);f=isNaN(f)?void 0:f;var k=m.px2pt(this.height);k=isNaN(k)?void 0:k;var u=m.px2pt(this.xoffset);u=isNaN(u)?void 0:u;var v=m.px2pt(this.yoffset);v=isNaN(v)?void 0:v;b=t.fixJson(A.mixin(this.inherited("toJson",arguments),{type:"esriPFS",url:b,imageData:e,contentType:this.contentType,width:f,height:k,xoffset:u,yoffset:v,xscale:this.xscale,yscale:this.yscale}));
b.imageData||delete b.imageData;return b}});G.defaultProps=c;a("extend-esri")&&(A.setObject("symbol.PictureFillSymbol",G,p),p.symbol.defaultPictureFillSymbol=c);return G})},"engine/lib/Texture":function(){define(["engine/lib/Base64","engine/lib/IdGen","engine/lib/TextureUtil","engine/lib/Util"],function(){var G=function(m,p,t,n,h,c,b){var e=new Image;e.src=m;e.onerror=function(){c();e.onerror=void 0;e.onload=void 0};e.onload=function(){t.isTexture(p)&&glTexImage2D(e,p,t,n,h,!1!==b);c();e.onerror=
void 0;e.onload=void 0}},A=new IdGen;Texture=function(m,p,t){var n=A.gen(p),h=void 0;this.getId=function(){return n};this.params=t||{};this.params.wrapClamp=this.params.wrapClamp||!1;this.params.mipmap=!1!==this.params.mipmap;this.dispose=function(){m=void 0};this.deferredLoading=function(){return"string"===typeof m};this.getWidth=function(){return this.params.width};this.getHeight=function(){return this.params.height};this.loadGl=function(c,b,e,f,k){"string"===typeof m?G(m,b,e,f,k,c,this.params.mipmap):
m instanceof Image||m instanceof ImageData||m instanceof HTMLCanvasElement?(this.params.width=m.width,this.params.height=m.height,glTexImage2D(m,b,e,f,k,this.params.mipmap)):m&&(assert(this.params.width&&this.params.height),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.params.width,this.params.height,0,e.RGBA,e.UNSIGNED_BYTE,m),this.params.mipmap?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR));
e._isTracingEnabled&&(b._debugTracingType="Texture");this.dispose()};this.setUnloadFunc=function(c){h=c};this.unload=function(){void 0!==h&&(h(n),h=void 0)}};Uint8ArrayTexture=function(m,p,t){var n=A.gen(t),h=void 0;this.getId=function(){return n};this.dispose=function(){m=void 0};this.deferredLoading=function(){return!0};this.loadGl=function(c,b,e,f,k){var u=new Blob([m],{type:"application/octet-binary"}),v=window.URL.createObjectURL(u);G(v,b,e,f,k,function(){c();window.URL.revokeObjectURL(v)});
e._isTracingEnabled&&(b._debugTracingType="Uint8ArrayTexture");this.dispose()};this.setUnloadFunc=function(c){h=c};this.unload=function(){void 0!==h&&(h(n),h=void 0)}};DeferredUint8ArrayTexture=function(m,p,t,n,h){var c=A.gen(h),b=void 0;this.getId=function(){return c};this.dispose=function(){};this.deferredLoading=function(){return!0};this.loadGl=function(e,f,k,u,v){m.then(function(g,q){textureArray=new Uint8Array(q,t,n);g=new Blob([textureArray],{type:"application/octet-binary"});var x=window.URL.createObjectURL(g);
G(x,f,k,u,v,function(){e();window.URL.revokeObjectURL(x)});k._isTracingEnabled&&(f._debugTracingType="DeferredUint8ArrayTexture")},function(g){});this.dispose()};this.setUnloadFunc=function(e){b=e};this.unload=function(){void 0!==b&&(b(c),b=void 0)}};var a;create2Dcanvas=function(){void 0===a&&(a=document.createElement("canvas"),a.setAttribute("id","canvas2d"),a.setAttribute("width",1024),a.setAttribute("height",1024),a.setAttribute("style","display:none"))};TextTexture=function(m,p,t,n,h){var c=
this,b=A.gen(t);this.getId=function(){return b};var e=m.split(/\r?\n/);this.renderGl=function(k,u){this._createTextTexture(e,k,u,n);u._isTracingEnabled&&(k._debugTracingType="TextTexture")};this.getTextWidth=function(){create2Dcanvas();var k=a.getContext("2d");this.setTextProperties(k);var u=0,v;for(v in e){var g=k.measureText(e[v]).width;g>u&&(u=g)}return u};this.setTextProperties=function(k){k.fillStyle="white";k.lineWidth=.25;k.strokeStyle="white";k.font=p+"px Arial";k.textAlign="left";k.textBaseline=
"top";mergeObjects(k,n,k)};this.getTextHeight=function(){return this.getLineHeight()*e.length};this.getTexcoordScale=function(){if(h){var k=this.getTextHeight(),u=this.getTextWidth();return[u/nextHighestPowerOfTwo(u),k/nextHighestPowerOfTwo(k)]}return[1,1]};this.getTextSize=function(){return p};this.getLineHeight=function(){return Math.floor(1.2*p)};this._createTextTexture=function(k,u,v,g){create2Dcanvas();g=a.getContext("2d");g.save();var q=this.getTextWidth(),x=this.getTextHeight();h&&(q=nextHighestPowerOfTwo(q),
x=nextHighestPowerOfTwo(x));v.bindTexture(v.TEXTURE_2D,u);f(1,q,x,g,k);v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,a);k=v.LINEAR;if(h)if(v.generateMipmap(v.TEXTURE_2D),TextTexture.MIPMAP_CREATE)TextTexture.MIPMAP_CREATE(a,v),k=v.LINEAR_MIPMAP_LINEAR;else{k=a.getContext("2d");u=a.getAttribute("width")>>1;q=a.getAttribute("height")>>1;x=.5;var w=1;do f(x,u,q,k,e),v.texSubImage2D(v.TEXTURE_2D,w,0,0,v.RGBA,v.UNSIGNED_BYTE,a),x*=.5,u>>=1,q>>=1,w++;while(1<u&&1<q);k=v.LINEAR_MIPMAP_NEAREST}v.texParameteri(v.TEXTURE_2D,
v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.LINEAR);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,k);v.bindTexture(v.TEXTURE_2D,null);g.restore()};this.setUnloadFunc=function(k){unloadFunc=k};this.unload=function(){void 0!==unloadFunc&&(unloadFunc(b),unloadFunc=void 0)};var f=function(k,u,v,g,q){var x=c.getLineHeight()*k;a.setAttribute("width",u);a.setAttribute("height",v);c.setTextProperties(g);
g.font=p*k+"px Arial";k="center"===g.textAlign?.5*u:"right"===g.textAlign?u:0;u=0;for(var w in q)g.fillText(q[w],k,u),u+=x}};TextTexture.MIPMAP_CREATE=void 0})},"engine/lib/Base64":function(){define([],function(){Base64Binary={_char2idx:{A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,
3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"\x3d":64},decode:function(G){var A=this._char2idx[G.charAt(G.length-1)],a=this._char2idx[G.charAt(G.length-2)],m=G.length/4*3;64==A&&m--;64==a&&m--;var p=0,t=0,n=new ArrayBuffer(m),h=new Uint8Array(n);G=G.replace(/[^A-Za-z0-9\+\/=]/g,"");for(p=0;p<m;p+=3){var c=this._char2idx[G.charAt(t++)];var b=this._char2idx[G.charAt(t++)];A=this._char2idx[G.charAt(t++)];a=this._char2idx[G.charAt(t++)];c=c<<2|b>>4;b=(b&15)<<4|A>>2;var e=(A&3)<<6|a;h[p]=c;64!=A&&
(h[p+1]=b);64!=a&&(h[p+2]=e)}return n},decodeFloat32:function(G){return new Float32Array(this.decode(G))},decodeUint32:function(G){return new Uint32Array(this.decode(G))},decodeInt32:function(G){return new Int32Array(this.decode(G))},_lookup:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",encode:function(G){var A=G.length%3,a="",m;var p=0;for(m=G.length-A;p<m;p+=3){var t=(G[p]<<16)+(G[p+1]<<8)+G[p+2];a+=this._lookup[t>>18&63]+this._lookup[t>>12&63]+this._lookup[t>>6&63]+this._lookup[t&
63]}switch(A){case 1:t=G[G.length-1];a+=this._lookup[t>>2];a+=this._lookup[t<<4&63];a+="\x3d\x3d";break;case 2:t=(G[G.length-2]<<8)+G[G.length-1],a+=this._lookup[t>>10],a+=this._lookup[t>>4&63],a+=this._lookup[t<<2&63],a+="\x3d"}return a}}})},"engine/lib/TextureUtil":function(){define([],function(){var G=void 0,A=void 0,a=1/65536;window.createGamma3CPU=function(m,p){if(!G){G=Array(256);for(var t=0;256>t;t++)G[t]=t*t*t;A=Array(256);for(t=0;256>t;t++)A[t]=Math.pow(t/256*16777216,1/3)}t=m.getContext("2d");
var n=m.getAttribute("width"),h=m.getAttribute("height"),c=t.getImageData(0,0,n,h);n>>=1;h>>=1;var b=1;do{m.setAttribute("width",n);m.setAttribute("height",h);for(var e=t.createImageData(n,h),f=0;f<h;f++)for(var k=0;k<n;k++)for(var u=4*(f*n+k),v=4*(2*f*n*2+2*k),g=4*((2*f+1)*n*2+2*k),q=0;4>q;q++){var x=e.data,w=u+q,B=void 0;B=0+G[c.data[v+q]];B+=G[c.data[v+4+q]];B+=G[c.data[g+q]];B+=G[c.data[g+4+q]];x[w]=A[Math.round(B/4*a)]}t.putImageData(e,0,0);p.texSubImage2D(p.TEXTURE_2D,b,0,0,p.RGBA,p.UNSIGNED_BYTE,
m);c=e;n>>=1;h>>=1;b++}while(1<n&&1<h)}})},"engine/materials/NativeLineMaterial":function(){define(["dojo/_base/lang","engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m){var p=function(t,n){A.basicGLMaterialConstructor(this,t);var h=n.get("simple"),c=t.getColor();this.beginSlot=function(b){return 1===b};this.getProgram=function(){return h};this.bind=function(b,e){h.use();h.uniformMatrix4fv("model",A.IDENTITY);h.uniformMatrix4fv("proj",e.proj);
h.uniform4fv("color",c);h.enableVertexAttribArrays();b.enable(b.BLEND)};this.release=function(b){h.disableVertexAttribArrays();b.disable(b.BLEND)};this.bindView=function(b,e){A.bindView(e.origin,e.view,h)};this.bindInstance=function(b,e){h.uniformMatrix4fv("model",e.transformation)};this.getDrawMode=function(b){return b.LINE_STRIP}};return function(t,n,h){A.basicMaterialConstructor(this,h);var c={};c[VertexAttrConstants.POSITION]=0;this.canBeMerged=!1;this.setColor=function(b){n=b};this.getColor=
function(){return n};this.dispose=function(){};this.getOutputAmount=function(b){return 3*(b/2+1)};this.getVertexAttr2offset=function(){return c};this.getStride=function(){return 3};this.fillInterleaved=function(b,e,f,k,u){b=b.vertexAttr[VertexAttrConstants.POSITION].data;if(e){f=b.length/3;for(var v=0;v<f;v++){var g=3*v,q=b[g],x=b[g+1];g=b[g+2];k[u++]=e[0]*q+e[4]*x+e[8]*g+e[12];k[u++]=e[1]*q+e[5]*x+e[9]*g+e[13];k[u++]=e[2]*q+e[6]*x+e[10]*g+e[14]}}else for(v=0;v<b.length;v++)k[u++]=b[v]};this.intersect=
function(){};this.getGLMaterials=function(){return[p,void 0,void 0]};this.getAllTextureIds=function(){return[]}}})},"esri/symbols/jsonUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/has ../kernel ./SimpleMarkerSymbol ./PictureMarkerSymbol ./SimpleLineSymbol ./CartographicLineSymbol ./SimpleFillSymbol ./PictureFillSymbol ./TextSymbol".split(" "),function(G,A,a,m,p,t,n,h,c,b,e){var f={createDefaultSymbol:function(k){switch(k){case "esriGeometryPoint":case "esriGeometryMultipoint":var u=
f.createDefaultMarkerSymbol();break;case "esriGeometryPolyline":u=f.createDefaultLineSymbol();break;case "esriGeometryPolygon":case "esriGeometryEnvelope":case "esriGeometryMultiPatch":u=f.createDefaultFillSymbol()}return u},createDefaultMarkerSymbol:function(){return new p},createDefaultLineSymbol:function(){return new n},createDefaultFillSymbol:function(){return new c},getFirstSupportedSymbol:function(k){var u;A.some(k,function(v){v&&-1<f.supportedSymbolTypes.indexOf(v.type)&&(u=v);return!!u});
return u},isPointSymbol:function(k){return k?-1<f.supportedPointSymbolTypes.indexOf(k.type):!1},supportedPointSymbolTypes:["esriSMS","esriPMS","esriTS"],supportedSymbolTypes:"esriSMS esriPMS esriTS esriSLS esriCLS esriSFS esriPFS".split(" "),fromJson:function(k,u){var v=null;switch(k.type){case "esriSMS":v=new p(k);break;case "esriPMS":v=new t(k);break;case "esriTS":v=new e(k);break;case "esriSLS":v=void 0!==k.cap?new h(k):new n(k);break;case "esriCLS":v=new h(k);break;case "esriSFS":v=new c(k);break;
case "esriPFS":v=new b(k);break;default:v=(k=u&&u.geometryType)?f.createDefaultSymbol(k):null}return v},getShapeDescriptors:function(k){return k&&k.getShapeDescriptors?k.getShapeDescriptors():{defaultShape:null,fill:null,stroke:null}}};a("extend-esri")&&G.mixin(G.getObject("symbol",!0,m),f);return f})},"esri/layers/FeatureLayer":function(){define("require module dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/Deferred dojo/date/locale dojo/io-query dojo/dom-construct dojo/i18n dojo/when dojo/global dojo/promise/all ../sniff ../kernel ../lang ../request ../config ../deferredUtils ../promiseList ../SpatialReference ../urlUtils ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/jsonUtils ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/jsonUtils ../support/expressionUtils ../arcadeProfiles/labelingProfile ../tasks/QueryTask ../tasks/query ../tasks/FeatureSet ../tasks/StatisticDefinition ../geometry/Extent ../geometry/jsonUtils ../geometry/normalizeUtils ../geometry/scaleUtils ./GraphicsLayer ./Field ./TimeInfo ./TimeReference ./FeatureType ./FeatureTemplate ./FeatureSubtype ./FeatureEditResult ./LabelClass ./support/domainUtils ./SnapshotMode ./OnDemandMode ./SelectionMode ./StreamMode ./GridLayout ./TrackManager ./HeatmapManager ./clustering/ClusterManager dojo/i18n!../nls/jsapi dojo/has!extend-esri?./agscommon".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F,H,E,I,J,K,L,O,U,S,M,N,T,V,ea,P,ba,la,Q,Y,ja,pa,ka,va,Aa,da,ca,ma,qa,ta,Ca,ha,fa,ra,wa,Ga){var Na=B.defaults,Ra=!!g("esri-pbf"),Sa=!!g("esri-featurelayer-pbf"),La=a(la,{declaredClass:"esri.layers.FeatureLayer",invalidParams:"query contains one or more unsupported parameters",reSQLCurrentTimestamp:/current_timestamp|current_date|current_time/i,reHostedFS:/(https?:)?\/\/services.*\.arcgis\.com/i,maxPointCountForAuto:4E3,maxRecordCountForAuto:2E3,
maxVertexCountForAuto:25E4,generalizeForScale:4E3,_eventMap:{"add-attachment-complete":["result"],"before-apply-edits":["adds","updates","deletes"],"delete-attachments-complete":["results"],"edits-complete":["adds","updates","deletes"],"query-attachment-infos-complete":["results"],"query-count-complete":["count"],"query-features-complete":["featureSet"],"query-ids-complete":["objectIds"],"query-related-features-complete":["featureSets"],"selection-complete":["features","method"],"update-end":["error",
"info"]},constructor:function(W,ia){this._preventInit||this._initFeatureLayer(W,ia)},_initFeatureLayer:function(W,ia){ia=ia||{};this._tileWidth=ia.tileWidth||512;this._tileHeight=ia.tileHeight||512;this.i18n=Ga;this._featureReduction=this._featureReduction||ia.featureReduction;this._featureReductionEnabled=null!=ia.featureReductionEnabled?ia.featureReductionEnabled:!0;this._featureUpdatesCheckEnabled=null!=ia.featureUpdatesCheckEnabled?ia.featureUpdatesCheckEnabled:!0;this.showLabels=null!=ia.showLabels?
ia.showLabels:!0;this._outFields=ia.outFields;this._defnExpr=ia.definitionExpression;this._loadCallback=ia.loadCallback;this._trackIdField=ia.trackIdField;this.objectIdField=ia.objectIdField;var sa=null!=ia.resolution,X=null!=ia.maxAllowableOffset;this._maxOffset=this._optMaxOffset=sa||X?sa?ia.resolution:ia.maxAllowableOffset:this.maxAllowableOffset;this.quantize=null!=ia.quantize?ia.quantize:!0;this._optEditable=ia.editable;this._optAutoGen=ia.autoGeneralize;this.editSummaryCallback=ia.editSummaryCallback;
this.userId=ia.userId;this.userIsAdmin=ia.userIsAdmin;this.useMapTime=ia.hasOwnProperty("useMapTime")?!!ia.useMapTime:!0;this.source=ia.source;this.gdbVersion=ia.gdbVersion;this.orderByFields=ia.orderByFields;this.maxPointCountForAuto=null!=ia.maxPointCountForAuto?ia.maxPointCountForAuto:this.maxPointCountForAuto;this.maxRecordCountForAuto=null!=ia.maxRecordCountForAuto?ia.maxRecordCountForAuto:this.maxRecordCountForAuto;this.maxVertexCountForAuto=null!=ia.maxVertexCountForAuto?ia.maxVertexCountForAuto:
this.maxVertexCountForAuto;this.generalizeForScale=null!=ia.generalizeForScale?ia.generalizeForScale:this.generalizeForScale;this.queryPagination=this._optQueryPagination=null!=ia.queryPagination?ia.queryPagination:!0;this.multipatchOption=ia.multipatchOption;this.subtypeSublayerInfo=ia.subtypeSublayerInfo;this._selectedFeatures={};this._newFeatures=[];this._deletedFeatures={};this._ulid=this._getUniqueId();sa=x.isDefined(ia.mode)?ia.mode:La.MODE_ONDEMAND;this._isStream&&(sa=La.MODE_STREAM);this.mode=
sa;switch(sa){case La.MODE_SNAPSHOT:this.currentMode=La.MODE_SNAPSHOT;this._mode=new ma(this);break;case La.MODE_ONDEMAND:case La.MODE_AUTO:this.currentMode=La.MODE_ONDEMAND;this._mode=new qa(this);this.latticeTiling=ia.latticeTiling;break;case La.MODE_SELECTION:this.currentMode=La.MODE_SELECTION;this._mode=new ta(this);this._isSelOnly=!0;break;case La.MODE_STREAM:this.currentMode=La.MODE_STREAM,this._mode=new Ca(this),this._isStream=!0}this._initLayer=p.hitch(this,this._initLayer);this._selectHandler=
p.hitch(this,this._selectHandler);this._editable=!1;if(p.isObject(W)&&W.layerDefinition)return this._collection=!0,this.mode=this._isStream?La.MODE_STREAM:La.MODE_SNAPSHOT,this._isStream||this._outFields||(this._outFields=["*"]),this._initLayer(W),this;this.source&&(W={source:this.source.toJson()},this._url.query=p.mixin(this._url.query,{layer:n.toJson(W)}));this.gdbVersion&&(this._url.query=p.mixin(this._url.query,{gdbVersion:this.gdbVersion}));this._task=new S(this.url,{source:this.source,gdbVersion:this.gdbVersion});
W=this._url.path;this._fserver=!1;-1!==W.search(/\/FeatureServer\//i)&&(this._fserver=!0);this._checkFeatureLimit();(ia=ia.resourceInfo)?this._initLayer(ia):w({url:W,content:p.mixin({f:"json"},this._url.query),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler});this.registerConnectEvents()},_initLayer:function(W,ia){if(W||ia){this._json=W;ia=this.subtypeSublayerInfo;this._findCredential();if(this.credential&&this.credential.ssl||W&&W._ssl)this._useSSL(),this._task._useSSL();
this._collection&&(this._isStream||(this.currentMode=La.MODE_SNAPSHOT,this._mode=new ma(this)),this._featureSet=W.featureSet,this._nextId=W.nextObjectId,W=W.layerDefinition);this.version=W.currentVersion;this.version||(this.version="capabilities"in W||"drawingInfo"in W||"hasAttachments"in W||"htmlPopupType"in W||"relationships"in W||"timeInfo"in W||"typeIdField"in W||"types"in W?10:9.3);this.geometryType=W.geometryType;W.bandCount&&W.fields&&1<W.fields.length&&(this.geometryType="esriGeometryPolygon",
this._isImageService=!0);"string"!==typeof this.multipatchOption&&"esriGeometryMultiPatch"===this.geometryType&&(this.multipatchOption="xyFootprint");if(W.hasOwnProperty("capabilities")){var sa=this.capabilities=W.capabilities;sa&&-1!==sa.toLowerCase().indexOf("editing")?this._editable=!0:this._editable=!1}else this._collection||(this._editable=this._fserver);x.isDefined(this._optEditable)?(this._editable=this._optEditable,delete this._optEditable):"esriGeometryMultiPatch"===this.geometryType&&(this._editable=
!1);this._isImageService&&(this._editable=!1);this._json=n.toJson(this._json);this.isEditable()?this._setMaxOffset(null):this._canAutoGeneralize()&&(this._autoGeneralize=x.isDefined(this._optAutoGen)?this._optAutoGen:this.mode===La.MODE_ONDEMAND||this.mode===La.MODE_AUTO,delete this._optAutoGen);sa=W.effectiveMinScale||W.minScale;var X=W.effectiveMaxScale||W.maxScale;!this._hasMin&&sa&&this.setMinScale(sa);!this._hasMax&&X&&this.setMaxScale(X);this.layerId=W.id;this.name=ia&&ia.title||W.name;this.description=
W.description;this.copyright=W.copyrightText;this.type=W.type;this.displayField=W.displayField;this.defaultDefinitionExpression=W.definitionExpression||(W.isView?W.viewDefinitionQuery:W.definitionQuery);this.fullExtent=new V(W.extent);this.initialExtent=new V(this.fullExtent.toJson());this.fullExtent.spatialReference&&(this.spatialReference=new y(this.fullExtent.spatialReference.toJson()));this.defaultVisibility=W.defaultVisibility;this.editingInfo=W.editingInfo;this.supportsLastEditDate=!(!this.editingInfo||
null==this.editingInfo.lastEditDate);if("esriGeometryPoint"===this.geometryType||"esriGeometryMultipoint"===this.geometryType)this.latticeTiling=!1;this.hasM=W.hasM||!1;this.hasZ=W.hasZ||!1;this.indexedFields=W.indexedFields;this.indexes=W.indexes;this.maxRecordCount=W.maxRecordCount;this.canModifyLayer=W.canModifyLayer;this.supportsStatistics=W.supportsStatistics;this.supportsAdvancedQueries=this._collection?!1:W.supportsAdvancedQueries;this.supportsCalculate=W.supportsCalculate;this.supportsASyncCalculate=
W.supportsASyncCalculate;this.supportsAttachmentsByUploadId=W.supportsAttachmentsByUploadId;this.supportsCoordinatesQuantization=W.supportsCoordinatesQuantization;this.supportsQuantizationEditMode=W.supportsQuantizationEditMode;this.supportsFieldDescription=W.supportsFieldDescriptionProperty;this.supportsFormatPBF=W.supportedQueryFormats?-1!==t.map(W.supportedQueryFormats.toLowerCase().split(","),p.trim).indexOf("pbf"):!1;this.quantize=this.quantize&&this.supportsCoordinatesQuantization;this.hasLabels=
W.hasLabels;this.canScaleSymbols=W.canScaleSymbols;this.supportsRollbackOnFailureParameter=this.supportsRollbackOnFailure=W.supportsRollbackOnFailure;this.syncCanReturnChanges=W.syncCanReturnChanges;this.isDataVersioned=W.isDataVersioned;this.editFieldsInfo=W.editFieldsInfo;this.ownershipBasedAccessControlForFeatures=W.ownershipBasedAccessControlForFeatures;this.editFieldsInfo&&this.ownershipBasedAccessControlForFeatures&&(this.creatorField=this.editFieldsInfo.creatorField);this.relationships=W.relationships;
this.allowGeometryUpdates=x.isDefined(W.allowGeometryUpdates)?W.allowGeometryUpdates:!0;this.allowUpdateWithoutMValues=!!W.allowUpdateWithoutMValues;this.enableZDefaults=!!W.enableZDefaults;this.zDefault=x.isDefined(W.zDefault)?W.zDefault:null;this.advancedQueryCapabilities=W.advancedQueryCapabilities||{supportsStatistics:this.supportsStatistics,supportsOrderBy:this.supportsAdvancedQueries,supportsDistinct:this.supportsAdvancedQueries};this.geometryProperties=W.hasGeometryProperties&&W.geometryProperties||
null;this.url&&(this.advancedQueryCapabilities.supportsPagination=this.advancedQueryCapabilities.supportsPagination&&(this.reHostedFS.test(this.url)||10.3<this.version));this.queryPagination=this._optQueryPagination&&this.advancedQueryCapabilities.supportsPagination;this.useStandardizedQueries=W.useStandardizedQueries;this.tileMaxRecordCount=W.tileMaxRecordCount;this.standardMaxRecordCount=W.standardMaxRecordCount;if(sa=W.dateFieldsTimeReference)this.dateFieldsTimeReference=new ja(sa);this._setMaxOffset(this._maxOffset,
!0);this._isTable="Table"===this.type;X=W.fields;this._createFields(X);if(!this.objectIdField){this.objectIdField=W.objectIdField;if(!this.objectIdField)for(X=W.fields,sa=0;sa<X.length;sa++){var na=X[sa];if("esriFieldTypeOID"===na.type){this.objectIdField=na.name;break}}this.objectIdField||this._isStream||console.debug("esri.layers.FeatureLayer: "+x.substitute({url:this.url},"objectIdField is not set [url: ${url}]"))}if(!x.isDefined(this._nextId)){X=this.objectIdField;na=-1;if(this._collection&&X){var ua=
(sa=this._featureSet)&&sa.features,ya=ua?ua.length:0;for(sa=0;sa<ya;sa++){var Ha=(Ha=ua[sa].attributes)&&Ha[X];Ha>na&&(na=Ha)}}this._nextId=na+1}this.globalIdField=W.globalIdField;if(sa=this.typeIdField=W.typeIdField)if(sa=!this._getField(sa)&&this._getField(sa,!0))this.typeIdField=sa.name;this.visibilityField=W.visibilityField;if(X=W.defaultSymbol)this.defaultSymbol=I.fromJson(X);var Oa=this.types=[],Ma=W.types;na=(sa=this.editFieldsInfo)&&sa.creatorField;ua=sa&&sa.editorField;Ha=na||ua;ya=[];if(Ma)for(sa=
0;sa<Ma.length;sa++){var Da=new pa(Ma[sa]);var Ka=Da.templates;Ha&&Ka&&Ka.length&&(ya=ya.concat(Ka));Oa.push(Da)}Ma=W.templates;Da=this.templates=[];if(Ma)for(sa=0;sa<Ma.length;sa++)Oa=new ka(Ma[sa]),Ha&&ya.push(Oa),Da.push(Oa);for(sa=0;sa<ya.length;sa++)if(Ha=p.getObject("prototype.attributes",!1,ya[sa]))na&&delete Ha[na],ua&&delete Ha[ua];if(sa=W.subtypeField)this.subtypeField=(sa=this.getField(sa))?sa.name:null;this.defaultSubtypeCode=W.defaultSubtypeCode;this.subtypes=t.map(W.subtypes,function(hb){return new va(hb)});
this._applySTSublayerInfo(ia);if(ia=W.timeInfo)this.timeInfo=new Y(ia),this._startTimeField=ia.startTimeField,this._endTimeField=ia.endTimeField,this._startTimeField&&this._endTimeField&&(this._twoTimeFields=!0),this._trackIdField?ia.trackIdField=this._trackIdField:this._trackIdField=ia.trackIdField;this.hasAttachments=!this._collection&&W.hasAttachments?!0:!1;this.htmlPopupType=W.htmlPopupType;ia=W.drawingInfo;(sa=ia&&ia.labelingInfo)&&!this.labelingInfo&&(this.labelingInfo=t.map(sa,function(hb){return new da(hb)}),
this._fixLabelExpr());if(!this.renderer)if(ia&&ia.renderer){var Ja=ia.renderer;this.setRenderer(L.fromJson(Ja,{geometryType:this.geometryType}));"classBreaks"===Ja.type&&this.renderer.setMaxInclusive(!0);if(!this._collection){var Va=Ja.type;sa=[];Ja=this.renderer;switch(Va){case "simple":sa.push(Ja.symbol);break;case "uniqueValue":case "classBreaks":sa.push(Ja.defaultSymbol),sa=sa.concat(t.map(Ja.infos,function(hb){return hb.symbol}))}sa=t.filter(sa,x.isDefined);var fb=this._url.path+"/images/",bb=
this._getToken();t.forEach(sa,function(hb){var nb=hb.url;nb&&(-1===nb.search(/https?:/)&&-1===nb.indexOf("data:")&&(hb.url=fb+nb),bb&&-1!==hb.url.search(/https?:/)&&(hb.url+="?token\x3d"+bb))})}}else if(X)Ma=this.types,0<Ma.length?(Ja=new K(this.defaultSymbol,this.typeIdField),t.forEach(Ma,function(hb){Ja.addValue(hb.id,hb.symbol)})):Ja=new J(this.defaultSymbol),this.setRenderer(Ja);else if(!this._isTable){switch(this.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":Va=new F;break;
case "esriGeometryPolyline":Va=new H;break;case "esriGeometryPolygon":Va=new E;break;default:this.hasXYFootprint()&&(Va=new E)}this.setRenderer(Va?new J(Va):null)}Va=ia&&ia.transparency||0;!this.hasOwnProperty("opacity")&&0<Va&&(this.opacity=1-Va/100);(g("ie")||7<=g("trident")||g("safari"))&&this.isEditable()&&10.02>this.version&&(this._ts=!0);this.statistics=W.statistics;this._fixRendererFields();this._updateRequiredFieldsFromLabelingInfo();this._checkFields();this._updateCaps();var kb=function(){null==
this._maxOffset||this._isFractionalOffsetAllowed()||this._setMaxOffset(this._maxOffset);this.loaded=!0;this.setFeatureReduction(this.getFeatureReduction());this.currentMode!==La.MODE_SNAPSHOT&&(this.queryPagination=!1);this.onLoad(this);var hb=this._loadCallback;hb&&(delete this._loadCallback,hb(this))};W=[];this._collection?(Va=this._featureSet,this._featureSet=null,this._mode._drawFeatures(new N(Va)),this._fcAdded=!0):(W.push(this._forceIdentity()),this._limitPromise&&W.push(this._limitPromise));
W.push(this._evalArcadeSupport());W.length?C(W).then(p.hitch(this,function(){kb.call(this)})):kb.call(this)}},_applySTSublayerInfo:function(W){W&&this.subtypeField&&(this.subtypeCode=W.subtypeCode,this._applySTSublayerDefinitionExpression(W),this._filterSubtypes(W),this._applySTTemplates(W),this._applySTFieldOverrides(W))},_applySTSublayerDefinitionExpression:function(W){var ia=[],sa=this.getDefinitionExpression();sa&&ia.push(sa);(W=W.layerDefinition&&W.layerDefinition.definitionExpression)&&ia.push(W);
1<ia.length&&(ia=t.map(ia,function(X){return"("+X+")"}));this.setDefinitionExpression(ia.length?ia.join(" AND "):null)},_applySTTemplates:function(W){if(W=W.layerDefinition&&W.layerDefinition.templates)this.templates=t.map(W,function(ia){return new ka(ia)})},_filterSubtypes:function(){this.subtypes&&(this.subtypes=t.filter(this.subtypes,function(W){return W.code===this.subtypeCode},this))},_applySTFieldOverrides:function(W){var ia=W.layerDefinition&&W.layerDefinition.fieldOverrides;if(ia){this.fields=
t.filter(this.fields,function(X){return t.some(ia,function(na){return na.name===X.name})});var sa=this.getSubtypeByCode(this.subtypeCode).domains;this.fields.forEach(function(X){var na=t.filter(ia,function(ua){return ua.name===X.name})[0];na.alias&&(X.alias=na.alias);if(!1===na.editable||X.name===this.subtypeField)X.editable=!1;sa&&(na=sa[X.name])&&"inherited"!==na.type&&(X.domain=ca.fromJson(na.toJson()))},this)}},setShowLabels:function(W){var ia=this.showLabels;this.showLabels=W;ia!==this.showLabels&&
(this._evalSurfaceType(),this.onShowLabelsChange())},onShowLabelsChange:function(){},onRendererChange:function(W){this.inherited(arguments);var ia=this._map;this._ager=!!(W&&W.observationAger&&W.observationRenderer);W&&"colors"in W&&"blurRadius"in W&&"maxPixelIntensity"in W?(this._evalSurfaceType(!0),"esriGeometryPoint"==this.geometryType&&!this._heatmapManager&&ia&&(this._heatmapManager=new ra(this),this._heatmapManager.initialize(ia))):this.renderer&&this.renderer.getRendererInfo?t.some(this.renderer.rendererInfos,
function(na){return na.renderer&&"colors"in na.renderer&&"blurRadius"in na.renderer})||(this._heatmapManager=null):this._heatmapManager=null;this.timeInfo&&ia&&(W&&(W.latestObservationRenderer||W.trackRenderer)?this._trackManager||(this._trackManager=new fa(this),this._trackManager.initialize(ia),this._childLayer=this._trackManager.container,this._mode._applyTimeFilter()):this._trackManager&&!this._isStream&&(this._trackManager.destroy(),this._trackManager=null));if(W){var sa=[];ia=t.filter([W,W.observationRenderer,
W.latestObservationRenderer,W.trackRenderer],x.isDefined);var X=function(na){return null!=na&&"function"!=typeof na&&na};t.forEach(ia,function(na){var ua=X(na.attributeField),ya=X(na.attributeField2);na=X(na.attributeField3);!1!==ua&&sa.push(ua);!1!==ya&&sa.push(ya);!1!==na&&sa.push(na)});this._requiredFields=sa}else this._requiredFields=[];this.loaded&&(this._fixRendererFields(),this._checkFields(this._requiredFields),this._collection&&(this._typesDirty=!0))},setFeatureReduction:function(W){W&&(W=
p.mixin({},W),null!=W.clusterSize&&null==W.clusterRadius&&(W.clusterRadius=W.clusterSize),delete W.clusterSize);this.loaded?this._isFeatureReductionSupported(W)?this._featureReduction=W:(this._featureReduction=null,W&&console.log("Clustering is not supported for this layer: "+this.url)):this._featureReduction=W;this._evalFeatureReduction(this._featureReduction)},hasFeatureReduction:function(){return!!this._featureReduction},getFeatureReduction:function(){var W=this._featureReduction;if(W){W=p.mixin({},
W);var ia=this._clusterManager;if(ia=ia&&ia.aggregationInfo)W.clusterRadius=ia.clusterRadius,W.infoTemplate=ia.infoTemplate}return W},isFeatureReductionActive:function(){var W=this._clusterManager;return!!(W&&W.isClusteringEnabled()&&W.isClusteringActive())},isFeatureReductionEnabled:function(){return this._featureReductionEnabled},enableFeatureReduction:function(){this._featureReductionEnabled||(this._featureReductionEnabled=!0,this._evalFeatureReduction(this._featureReduction))},disableFeatureReduction:function(){this._featureReductionEnabled&&
(this._featureReductionEnabled=!1,this._evalFeatureReduction(this._featureReduction))},isFeatureReductionApplied:function(){return this.hasFeatureReduction()&&this.isFeatureReductionEnabled()&&this._canCluster(this.getFeatureReduction())},getAggregateGraphics:function(){return this._clusterManager?this._clusterManager.getAggregateGraphics():[]},getChildGraphics:function(W){return this._clusterManager?this._clusterManager.getFeaturesInCluster(W):[]},getSingleGraphics:function(){return this._clusterManager?
this._clusterManager.getSingleGraphics():[]},getFeatureReductionRenderer:function(){return this.isFeatureReductionActive()?this._clusterManager.getClusterRenderer():null},getFeatureReductionLayer:function(){return this._clusterManager?this._clusterManager.container:null},getFeatureReductionField:function(W){var ia,sa=this._clusterManager?this._clusterManager.getClusterFields():null;W=W?W.toLowerCase():"";t.some(sa,function(X){W===X.name.toLowerCase()&&(ia=X);return!!ia});return ia},_isFeatureReductionSupported:function(W){return W&&
"cluster"===W.type&&"esriGeometryPoint"===this.geometryType&&(this._collection||this._isStream||this._optQueryPagination&&this.advancedQueryCapabilities.supportsPagination)},_isReductionCompatibleRenderer:function(W){W=W&&W.declaredClass||"";W=W.toLowerCase();return-1<W.indexOf("simplerenderer")||-1<W.indexOf("classbreaksrenderer")||-1<W.indexOf("uniquevaluerenderer")},_evalFeatureReduction:function(W){this.loaded&&this.getMap()&&(W=W||this.getFeatureReduction(),this._evalModeFromFReduction(W),W&&
this.isFeatureReductionEnabled()?this._canCluster(W)?this._clusterManager?this._updateClusterManager(W):(this._clusterManager=this._createClusterManager(W),this.onFeatureReductionChange()):(console.log("Clustering is supported only for point layers where map spatial reference is WGS84 or Web Mercator"),this._destroyClusterManager()):this._destroyClusterManager())},_canCluster:function(W){var ia=this._map;if(!ia)return!1;ia=ia.spatialReference;return this._isFeatureReductionSupported(W)&&this._isReductionCompatibleRenderer(this.renderer)&&
(ia.isWebMercator()||4326===ia.wkid)},_createClusterManager:function(W){W=new wa({layer:this,aggregationInfo:W});this._clusterHandles=[W.on("renderer-change",p.hitch(this,function(){this.onFeatureReductionRendererChange()}))];W.initialize(this._map);return W},_updateClusterManager:function(W){var ia=this._clusterManager;ia&&ia.setAggregationInfo(W)},_destroyClusterManager:function(W){t.forEach(this._clusterHandles,function(ia){ia.remove()});this._clusterHandles=null;this._clusterManager&&(this._clusterManager.destroy(W),
this._clusterManager=null,this.onFeatureReductionChange())},redraw:function(){this.inherited(arguments);this._clusterManager&&this._clusterManager.redraw();this._trackManager&&this._trackManager.container&&this._trackManager.container.redraw()},_evalSDRenderer:function(W){this.inherited(arguments);var ia=this._getRenderer();this._ager=!!(ia&&ia.observationAger&&ia.observationRenderer);this._trackManager&&this._trackManager.container&&this._trackManager.container.setRenderer(ia&&ia.trackRenderer);
W&&this._evalFeatureReduction()},_graphicVisibilityChanged:function(W){this._clusterManager?this._clusterManager.toggleFeatureVisibility(W):this._heatmapManager&&this._heatmapManager.redraw()},setWebGLFetchOptions:function(W){this._hasOnDemandDrillMode()&&(W=W||{},null!=W.maxDrillLevel&&(this._mode.maxDrillLevel=W.maxDrillLevel),null!=W.maxRecordCountFactor&&(this._mode.maxRecordCountFactor=W.maxRecordCountFactor),null!=W.enablePBFQuery&&(this._mode.enablePBFQuery=W.enablePBFQuery))},_isWebGLCompatible:function(){return this.loaded&&
!this.isEditable()&&!this.isFeatureReductionApplied()&&(!this.labelingInfo||!1===this.showLabels)&&!this._isGeometryOperationsUsed()&&this._isRendererSupportedInWebGL()&&this.supportsCoordinatesQuantization&&("esriGeometryPolygon"!==this.geometryType||this.advancedQueryCapabilities.supportsReturningGeometryCentroid)&&this.currentMode===La.MODE_ONDEMAND&&(!this._preSurfaceChangeState||this._preSurfaceChangeState.currentMode===La.MODE_ONDEMAND)},_isRendererSupportedInWebGL:function(){if(!this.renderer)return!1;
var W=this.renderer,ia=W.declaredClass?W.declaredClass.toLowerCase():"";return(-1<ia.indexOf("simplerenderer")||-1<ia.indexOf("classbreaksrenderer")||-1<ia.indexOf("uniquevaluerenderer"))&&this._hasWebGLCompatibleSymbols(W)&&this._hasWebGLCompatibleVVs(W)},_hasWebGLCompatibleSymbols:function(W){W=this._getAllSymbolsInRenderer(W);return!(this._hasSLSWithMarker(W)||this._hasIncompatibleSMSStyles(W)||this._hasGIFMarker(W))},_hasWebGLCompatibleVVs:function(W){return!t.some(W&&W.visualVariables,function(ia){var sa=
ia.type;return("colorInfo"===sa||"opacityInfo"===sa)&&ia.stops&&8<ia.stops.length||"sizeInfo"===sa&&(ia.field||ia.valueExpression&&"$view.scale"!==ia.valueExpression||ia.expression&&"view.scale"!==ia.expression)&&ia.stops&&6<ia.stops.length?!0:!1})},_hasSLSWithMarker:function(W){return t.some(W,function(ia){return ia&&"simplelinesymbol"===ia.type&&!!ia.marker})},_hasIncompatibleSMSStyles:function(W){var ia=void 0===g("ie")&&7==g("trident");return t.some(W,function(sa){return sa&&"simplemarkersymbol"===
sa.type&&("triangle"===sa.style||"path"===sa.style&&ia)})},_hasGIFMarker:function(W){var ia=/\.gif$/,sa=/^image\/gif$/;return t.some(W,function(X){return X&&"picturemarkersymbol"===X.type?ia.test(X.url)||sa.test(X.contentType):!1})},_getAllSymbolsInRenderer:function(W){var ia=[];W&&(ia.push(W.symbol),ia.push(W.defaultSymbol),t.forEach(W.infos,function(sa){ia.push(sa.symbol)}),ia=t.filter(ia,function(sa){return!!sa}));return ia},_setMap:function(W){var ia=this.inherited(arguments),sa=this._mode,X=
this;sa&&W.loaded&&sa.initialize(W);this.geometryType&&this.attr("data-geometry-type",this.geometryType.replace(/esriGeometry/i,"").toLowerCase());this._addHandle=this.on("graphic-node-add",function(na){na=na.graphic.attributes;(na=X._selectedFeatures[na&&na[X.objectIdField]])&&na.attr("data-selected","")});return ia},_unsetMap:function(W){this._suspendImpl(!0);this._destroyClusterManager(!1);this._trackManager&&(this._trackManager.destroy(),this._trackManager=null);m.disconnect(this._zoomConnect);
m.disconnect(this._addHandle);this._zoomConnect=this._addHandle=null;this.inherited("_unsetMap",arguments)},onAttach:function(){this._evalModeFromSurface()},onRefreshTick:function(){this.isFeatureUpdatesCheckActive()&&this._evalFeatureUpdates()},refresh:function(W){!this._needsRefresh&&W&&W.scheduled&&this.isFeatureUpdatesCheckActive()||(this._needsRefresh=!1,(W=this._mode)&&W.refresh())},setFeatureUpdatesCheckEnabled:function(W){this._featureUpdatesCheckEnabled=W},isFeatureUpdatesCheckEnabled:function(){return!!this._featureUpdatesCheckEnabled},
isFeatureUpdatesCheckActive:function(){return this.supportsLastEditDate&&this.isFeatureUpdatesCheckEnabled()&&!!this.refreshInterval&&!!p.getObject("onFeatureUpdatesResult.after",!1,this)},hasFeatureUpdates:function(){var W=new h;if(!this.supportsLastEditDate)return W.reject(Error("FeatureLayer does not support supportsLastEditDate")),W.promise;if(!this._fetchMetadataPromise||this._fetchMetadataPromise.isFulfilled())this._fetchMetadataPromise=w({url:this._url.path,content:p.mixin({f:"json"},this._url.query),
callbackParamName:"callback"}).then(p.hitch(this,function(ia){ia=ia.editingInfo.lastEditDate;var sa=this.editingInfo.lastEditDate!==ia;this.editingInfo.lastEditDate=ia;return sa}));this._fetchMetadataPromise.then(function(ia){W.isFulfilled()||W.resolve(ia)}).otherwise(function(ia){W.isFulfilled()||W.reject(ia)});return W.promise},hasXYFootprint:function(){return"esriGeometryMultiPatch"===this.geometryType&&"xyFootprint"===this.multipatchOption},getOutFields:function(){return t.filter(this._getOutFields(),
function(W){return"*"===W||!!this._getField(W)},this)},getField:function(W){return this._getField(W,!0)},isOutField:function(W){W=this.getField(W);if(!W)return!1;var ia=this.getOutFields();return-1<t.indexOf(ia,"*")||-1<t.indexOf(ia,W.name)},getFieldLabel:function(W){var ia=this.infoTemplate;ia=ia&&ia.getFieldInfo&&ia.getFieldInfo(W);W=p.isFunction(W)?null:this.getField(W);var sa=ia||W,X="";sa&&(X=ia&&ia.label||W&&W.alias||sa.name||sa.fieldName);return X},getDomain:function(W,ia){var sa,X,na=(ia=
ia&&ia.feature)&&this.typeIdField&&ia.attributes&&ia.attributes[this.typeIdField];null!=na&&t.some(this.types,function(ua){return ua.id==na?((sa=ua.domains&&ua.domains[W])&&"inherited"===sa.type&&(sa=this._getLayerDomain(W),X=!0),!0):!1},this);X||sa||(sa=this._getLayerDomain(W));return sa},_getLayerDomain:function(W){this._createFieldsIndex();var ia=this._fieldsIndex;if(ia)return ia=ia.caseSensitive,(ia=ia.get(W))?ia.domain:null;var sa;t.some(this.fields,function(X){X.name===W&&(sa=X.domain);return!!sa});
return sa},getType:function(W){return this.getTypeById(W&&this.typeIdField&&W.attributes&&W.attributes[this.typeIdField])},getTypeById:function(W){var ia;t.some(this.types,function(sa){sa.id==W&&(ia=sa);return!!ia});return ia},getSubtypeByCode:function(W){var ia;t.some(this.subtypes,function(sa){sa.code==W&&(ia=sa);return!!ia});return ia},setEditable:function(W){if(!this._collection)return console.log("FeatureLayer:setEditable - this functionality is not yet supported for layer in a feature service"),
this;if(this._isImageService)return this;if(!this.loaded)return this._optEditable=W,this;var ia=this._editable;this._editable=W;this._updateCaps();if(ia!==W)this.onCapabilitiesChange();return this},getEditCapabilities:function(W){var ia={canCreate:!1,canUpdate:!1,canDelete:!1,canUpdateGeometry:!1};if(!this.loaded||!this.isEditable())return ia;var sa=W&&W.feature;W=W&&W.userId||this.getUserId();var X=t.map(this.capabilities?this.capabilities.toLowerCase().split(","):[],p.trim),na=(ia=-1<t.indexOf(X,
"editing"))&&-1<t.indexOf(X,"create"),ua=ia&&-1<t.indexOf(X,"update");X=ia&&-1<t.indexOf(X,"delete");var ya=this.ownershipBasedAccessControlForFeatures,Ha=this.editFieldsInfo,Oa=Ha&&Ha.creatorField;Ha=Ha&&Ha.realm;sa=(sa=sa&&sa.attributes)&&Oa?sa[Oa]:void 0;var Ma=!!this.userIsAdmin;Oa=!ya||Ma||!(!ya.allowOthersToUpdate&&!ya.allowUpdateToOthers);var Da=!ya||Ma||!(!ya.allowOthersToDelete&&!ya.allowDeleteToOthers),Ka=!ya||Ma||!ya.hasOwnProperty("allowAnonymousToUpdate")||ya.allowAnonymousToUpdate;ya=
!ya||Ma||!ya.hasOwnProperty("allowAnonymousToDelete")||ya.allowAnonymousToDelete;W&&Ha&&(W=W+"@"+Ha);if(Ma||ia&&!(na||ua||X))na=ua=X=!0;ia={canCreate:na,canUpdate:ua,canDelete:X,canUpdateGeometry:Ma||this.allowGeometryUpdates};W||(ia.canUpdate=ia.canUpdate&&Ka,ia.canDelete=ia.canDelete&&ya);null===sa?(ia.canUpdate=ia.canUpdate&&Oa,ia.canDelete=ia.canDelete&&Da):""!==sa&&sa&&W.toLowerCase()!==sa.toLowerCase()&&(ia.canUpdate=ia.canUpdate&&Oa,ia.canDelete=ia.canDelete&&Da);return ia},getUserId:function(){var W;
this.loaded&&(W=this.credential&&this.credential.userId||this.userId||"");return W},setUserIsAdmin:function(W){this.userIsAdmin=W},setEditSummaryCallback:function(W){this.editSummaryCallback=W},getEditSummary:function(W,ia,sa){sa=x.isDefined(sa)?sa:(new Date).getTime();var X="";sa=this.getEditInfo(W,ia,sa);(ia=ia&&ia.callback||this.editSummaryCallback)&&(sa=ia(W,sa)||"");if(p.isString(sa))X=sa;else{if(sa){W=sa.action;ia=sa.userId;var na=sa.timeValue,ua=0;W&&ua++;ia&&ua++;x.isDefined(na)&&ua++;1<ua&&
(X=("edit"===W?"edit":"create")+(ia?"User":"")+(x.isDefined(na)?sa.displayPattern:""))}X=X&&x.substitute(sa,this.i18n.layers.FeatureLayer[X])}return X},getEditInfo:function(W,ia,sa){if(this.loaded){sa=x.isDefined(sa)?sa:(new Date).getTime();ia=ia&&ia.action||"last";var X=this.editFieldsInfo,na=X&&X.creatorField,ua=X&&X.creationDateField,ya=X&&X.editorField;X=X&&X.editDateField;ya=(W=W&&W.attributes)&&ya?W[ya]:void 0;X=W&&X?W[X]:null;na=this._getEditData(W&&na?W[na]:void 0,W&&ua?W[ua]:null,sa);sa=
this._getEditData(ya,X,sa);switch(ia){case "creation":var Ha=na;break;case "edit":Ha=sa;break;case "last":Ha=sa||na}Ha&&(Ha.action=Ha===sa?"edit":"creation");return Ha}},_getEditData:function(W,ia,sa){if(x.isDefined(ia)){var X=sa-ia;var na=0>X?"Full":6E4>X?"Seconds":12E4>X?"Minute":36E5>X?"Minutes":72E5>X?"Hour":864E5>X?"Hours":6048E5>X?"WeekDay":"Full"}if(void 0!==W||na){var ua=ua||{};ua.userId=W;na&&(W=c.format,sa=new Date(ia),ua.minutes=Math.floor(X/6E4),ua.hours=Math.floor(X/36E5),ua.weekDay=
W(sa,{datePattern:"EEEE",selector:"date"}),ua.formattedDate=W(sa,{selector:"date"}),ua.formattedTime=W(sa,{selector:"time"}),ua.displayPattern=na,ua.timeValue=ia)}return ua},isEditable:function(){return!(!this._editable&&!this.userIsAdmin)},isQueryable:function(){var W=t.map(this.capabilities?this.capabilities.toLowerCase().split(","):[],p.trim);return this._isStream||this.userIsAdmin||this._collection||-1!==t.indexOf(W,"query")||-1!==t.indexOf(W,"catalog")},setResolution:function(W){return this.setMaxAllowableOffset(W)},
setMaxAllowableOffset:function(W){this.isEditable()||(this._optMaxOffset=W,this._setMaxOffset(W,!0));return this},_resetMaxAllowableOffset:function(){this.setMaxAllowableOffset(this._optMaxOffset);this._prevScale=null;this._refreshMaxAllowableOffset()},_refreshMaxAllowableOffset:function(){this._calcMaxOffsetForAutoSnapshot();this._updateMaxOffset();this._needsRefresh=!1},getResolution:function(){return this.getMaxAllowableOffset()},getMaxAllowableOffset:function(){var W=this._quantizationParameters?
this._quantizationParameters.tolerance:void 0;return null!=this._maxOffset?this._maxOffset:W},_setMaxOffset:function(W,ia){if(null==W)return delete this._maxOffset,delete this._quantizationParameters,this;this.quantize&&this.supportsCoordinatesQuantization?("esriGeometryPolyline"===this.geometryType?this._maxOffset=W:delete this._maxOffset,this._quantizationParameters=W?{mode:"view",originPosition:"upperLeft",tolerance:W,extent:this.fullExtent}:null):(this._isFractionalOffsetAllowed()&&ia||(W=Math.floor(W)),
isNaN(W)||0===W?delete this._maxOffset:this._maxOffset=W,delete this._quantizationParameters);return this},_isFractionalOffsetAllowed:function(){return null==this.version||10.1<=this.version||navigator.languages&&this._isLangWithDot(navigator.languages[0])},_isLangWithDot:function(W){W=(W=W&&W.split("-"))&&W[0]&&W[0].toLowerCase();return-1!==t.indexOf(this._langsWithDot,W)},_langsWithDot:"ar en et fr he ja ko th vi zh".split(" "),setAutoGeneralize:function(W){this.loaded?this._canAutoGeneralize()&&
((this._autoGeneralize=W)?(this._isAutoSnapshotMode()&&(this._prevScale=null),this._updateMaxOffset()):this._setMaxOffset(null)):this._optAutoGen=W;return this},_canAutoGeneralize:function(){return!this.isEditable()&&this.mode!==La.MODE_SNAPSHOT},setGDBVersion:function(W){this._collection||W===this.gdbVersion||!W&&!this.gdbVersion||(this.gdbVersion=W,this._task.gdbVersion=W,this._url.query=p.mixin(this._url.query,{gdbVersion:W}),this.loaded&&(this.clearSelection(),this._map&&this.refresh()),this.onGDBVersionChange());
return this},hasAllFeatures:function(){return this._mode?this._mode.hasAllFeatures():!0},hasUpdateError:function(){return this._mode?this._mode.hasUpdateError():!1},setDefinitionExpression:function(W){this._defnExpr=W;this._hasPendingLimitQuery()||((W=this._checkFeatureLimit())?this._evalModeAndApplyDefnExpr(W):this._applyDefnExpr());return this},_applyDefnExpr:function(){var W=this._mode;W&&W.propertyChangeHandler(1)},_evalModeAndApplyDefnExpr:function(W){W.then(p.hitch(this,function(ia){ia&&(ia instanceof
Error||!ia.modeChanged)&&this._applyDefnExpr()}))},getDefinitionExpression:function(){return this._defnExpr},hasDefinitionExpressionWithCurrentTimestamp:function(){return this.reSQLCurrentTimestamp.test(this.getDefinitionExpression())},setTimeDefinition:function(W){this._isSnapshotMode()?(this._timeDefn=W,(W=this._mode)&&W.propertyChangeHandler(2)):console.log("FeatureLayer.setTimeDefinition: layer in on-demand or selection mode does not support time definitions. Layer id \x3d "+this.id+", Layer URL \x3d "+
this.url);return this},getTimeDefinition:function(){return this._timeDefn},setTimeOffset:function(W,ia){this._timeOffset=W;this._timeOffsetUnits=ia;(W=this._mode)&&W.propertyChangeHandler(0);return this},setUseMapTime:function(W){this.useMapTime=W;this._toggleTime(!this.suspended);(W=this._mode)&&W.propertyChangeHandler(0)},selectFeatures:function(W,ia,sa,X){ia=ia||La.SELECTION_NEW;this._hasSelectionError=this._hasPartialSelectedFeatures=!1;W=this._getShallowClone(W);var na=this._map,ua=this,ya=z._fixDfd(new h(z._dfdCanceller));
W.outFields=this.getOutFields();W.returnGeometry=!0;W.multipatchOption=this.multipatchOption;na&&(W.outSpatialReference=new y(na.spatialReference.toJson()));if(!this._applyQueryFilters(W,!0)){var Ha={features:[]};this._selectHandler(Ha,ia,sa,X,ya);return ya}if(na=this._canDoClientSideQuery(W))ya._pendingDfd=k(this._doQuery(W,na)),ya._pendingDfd.then(function(Ma){Ha={features:Ma};ua._selectHandler(Ha,ia,sa,X,ya)});else{if(this._collection)return this._resolve([Error("FeatureLayer::selectFeatures - "+
this.invalidParams)],null,X,ya,!0),ya;if(this.loaded&&!this.isQueryable())return this._resolve([Error("Layer does not support query capability.")],null,X,ya,!0),ya;var Oa=this;this._ts&&(W._ts=(new Date).getTime());na=this._canFetchPBFForQuery(W);this._enableEditModeQuantization(W,na);(ya._pendingDfd=this._task.execute(W,null,null,na?{format:"pbf"}:null)).addCallbacks(function(Ma){Oa._selectHandler(Ma,ia,sa,X,ya)},function(Ma){Oa._hasPartialSelectedFeatures=!0;Oa._hasSelectionError=!0;Oa._resolve([Ma],
null,X,ya,!0)})}return ya},getSelectedFeatures:function(){var W=this._selectedFeatures,ia=[],sa;for(sa in W)W.hasOwnProperty(sa)&&ia.push(W[sa]);return ia},clearSelection:function(W){var ia=this._selectedFeatures,sa=this._mode,X;for(X in ia)ia.hasOwnProperty(X)&&(this._unSelectFeatureIIf(X,sa),sa._removeFeatureIIf(X));this._selectedFeatures={};this._isSelOnly&&sa._applyTimeFilter(!0);if(!W)this.onSelectionClear();return this},setSelectionSymbol:function(W){if(this._selectionSymbol=W){var ia=this._selectedFeatures,
sa;for(sa in ia)ia.hasOwnProperty(sa)&&ia[sa].setSymbol(W)}return this},getSelectionSymbol:function(){return this._selectionSymbol},setLabelingInfo:function(W){W?(this.labelingInfo=W,this._fixLabelExpr()):delete this.labelingInfo;this._collection&&(this._typesDirty=!0);this._evalSurfaceType();this.onLabelingInfoChange()},_fixLabelExpr:function(){var W=/\[([^\[\]]+)\]/ig,ia,sa=this,X=function(na,ua){na=sa._getField(ua,!0);return"["+(na&&na.name||ua)+"]"};t.forEach(this.labelingInfo,function(na){if(ia=
na.labelExpression)na.labelExpression=ia.replace(W,X)})},_updateRequiredFieldsFromLabelingInfo:function(){var W=[];t.forEach(this.labelingInfo,function(ia){var sa=ia.labelExpressionInfo;if(ia.labelExpression){var X=/[\[\]]/ig;ia=ia.labelExpression.match(/\[[^\[\]]+\]/ig);(ia=t.map(ia,function(ua){return ua.replace(X,"")}))&&(W=W.concat(ia))}if(sa){if(sa.value){var na=/[\{\}]/ig;ia=sa.value.match(/\{[^\{\}]+\}/ig);(ia=t.map(ia,function(ua){return ua.replace(na,"")}))&&(W=W.concat(ia))}sa.expression&&
(W=W.concat(O.extractFieldNames(sa.expression)))}});W=t.map(W,function(ia){var sa=this.getField(ia);return sa?sa.name:ia},this);this._requiredFields&&(this._requiredFields=this._requiredFields.concat(W))},__msigns:[{n:"applyEdits",c:5,a:[{i:0},{i:1}],e:4,f:1}],applyEdits:function(W,ia,sa,X,na,ua){var ya=ua.assembly,Ha=ua.dfd;this._applyNormalized(W,ya&&ya[0]);this._applyNormalized(ia,ya&&ya[1]);this.onBeforeApplyEdits(W,ia,sa);var Oa={},Ma=this.objectIdField;ya={f:"json"};var Da=!1;if(this._collection)ua=
{},ua.addResults=W?t.map(W,function(){Da=!0;return{objectId:this._nextId++,success:!0}},this):null,ua.updateResults=ia?t.map(ia,function(Va){Da=!0;var fb=Va.attributes[Ma];Oa[fb]=Va;return{objectId:fb,success:!0}},this):null,ua.deleteResults=sa?t.map(sa,function(Va){Da=!0;return{objectId:Va.attributes[Ma],success:!0}},this):null,Da?this._editHandler(ua,W,Oa,X,na,Ha):this._resolve([ua.addResults,ua.updateResults,ua.deleteResults],null,X,Ha);else{W&&0<W.length&&(ya.adds=this._convertFeaturesToJson(W,
0,1),Da=!0);if(ia&&0<ia.length){for(ua=0;ua<ia.length;ua++){var Ka=ia[ua];Oa[Ka.attributes[Ma]]=Ka}ya.updates=this._convertFeaturesToJson(ia,0,0,1);Da=!0}if(sa&&0<sa.length){ia=[];for(ua=0;ua<sa.length;ua++)ia.push(sa[ua].attributes[Ma]);ya.deletes=ia.join(",");Da=!0}if(Da){var Ja=this;return w({url:this._url.path+"/applyEdits",content:p.mixin(ya,this._url.query),callbackParamName:"callback",load:function(Va){Ja._editHandler(Va,W,Oa,X,na,Ha)},error:function(Va){Ja._resolve([Va],null,na,Ha,!0)}},{usePost:!0})}this._resolve([],
null,X,Ha)}},queryFeatures:function(W,ia,sa,X){return this._query("execute","onQueryFeaturesComplete",W,ia,sa,X)},queryRelatedFeatures:function(W,ia,sa){return this._query("executeRelationshipQuery","onQueryRelatedFeaturesComplete",W,ia,sa)},queryIds:function(W,ia,sa,X){return this._query("executeForIds","onQueryIdsComplete",W,ia,sa,X)},queryCount:function(W,ia,sa,X){return this._query("executeForCount","onQueryCountComplete",W,ia,sa,X)},queryExtent:function(W,ia,sa,X){return this._query("executeForExtent",
"onQueryExtentComplete",W,ia,sa,X)},queryAttachmentInfos:function(W,ia,sa){var X=this._url.path+"/"+W+"/attachments",na=new h(z._dfdCanceller),ua=this;X=D.normalize(X);na._pendingDfd=w({url:X,content:p.mixin({f:"json"},this._url.query),callbackParamName:"callback",load:function(ya){ya=ya.attachmentInfos;var Ha;t.forEach(ya,function(Oa){Ha=b.objectToQuery({gdbVersion:ua._url.query&&ua._url.query.gdbVersion,layer:ua._url.query&&ua._url.query.layer,token:ua._getToken()});Oa.url=X+"/"+Oa.id+(Ha?"?"+Ha:
"");Oa.objectId=W});ua._resolve([ya],"onQueryAttachmentInfosComplete",ia,na)},error:function(ya){ua._resolve([ya],null,sa,na,!0)}});return na},addAttachment:function(W,ia,sa,X){return this._sendAttachment("add",W,ia,sa,X)},updateAttachment:function(W,ia,sa,X,na){sa.appendChild(e.create("input",{type:"hidden",name:"attachmentId",value:ia}));return this._sendAttachment("update",W,sa,X,na)},deleteAttachments:function(W,ia,sa,X){var na=this._url.path+"/"+W+"/deleteAttachments",ua=new h(z._dfdCanceller),
ya=this;ia={f:"json",attachmentIds:ia.join(",")};ua._pendingDfd=w({url:na,content:p.mixin(ia,this._url.query),callbackParamName:"callback",load:p.hitch(this,function(Ha){Ha=Ha.deleteAttachmentResults;Ha=t.map(Ha,function(Oa){Oa=new Aa(Oa);Oa.attachmentId=Oa.objectId;Oa.objectId=W;return Oa});ya._resolve([Ha],"onDeleteAttachmentsComplete",sa,ua)}),error:function(Ha){ya._resolve([Ha],null,X,ua,!0)}},{usePost:!0});return ua},addType:function(W){var ia=this.types;if(ia){if(t.some(ia,function(sa){return sa.id==
W.id?!0:!1}))return!1;ia.push(W)}else this.types=[W];return this._typesDirty=!0},deleteType:function(W){if(this._collection){var ia=this.types;if(ia){var sa=-1;t.some(ia,function(X,na){return X.id==W?(sa=na,!0):!1});if(-1<sa)return this._typesDirty=!0,ia.splice(sa,1)[0]}}},toJson:function(){var W=this._cloneJson();if(W){W=W.layerDefinition?W:{layerDefinition:W};var ia=W.layerDefinition,sa=this._collection;this._updateLayerDefinition(ia);var X=null;if(!sa||this._fcAdded)X={geometryType:ia.geometryType,
features:this._convertFeaturesToJson(this.graphics,!0)};W.featureSet=p.mixin({},W.featureSet||{},X);if(W.featureSet.transform){var na=W.featureSet.transform;delete W.featureSet.transform;X=new N(W.featureSet);X.quantize(na);W.featureSet=X.toJson()}sa&&(W.nextObjectId=this._nextId,ia.capabilities=this.capabilities);return W}},getLayerDefinition:function(){var W=this._cloneJson();(W=W?W.layerDefinition||W:null)&&this._updateLayerDefinition(W);return W},getFeatureCollectionLayer:function(W){var ia=new h,
sa=this.getLayerDefinition();if(!sa)return ia.reject(Error("layerDefinition not available")),ia.promise;W=W||[];var X=new La({layerDefinition:sa,featureSet:{geometryType:sa.geometryType,features:t.map(W,function(ya){return ya.toJson()})}}),na=X.on("load",function(){na.remove();ua.remove();ia.resolve(X)}),ua=X.on("error",function(){X.loaded||(na.remove(),ua.remove(),ia.reject(X.loadError))});return ia.promise},onSelectionComplete:function(){},onSelectionClear:function(){},onBeforeApplyEdits:function(){},
onEditsComplete:function(){},onQueryFeaturesComplete:function(){},onQueryRelatedFeaturesComplete:function(){},onQueryIdsComplete:function(){},onQueryCountComplete:function(){},onQueryExtentComplete:function(){},onQueryAttachmentInfosComplete:function(){},onAddAttachmentComplete:function(){},onUpdateAttachmentComplete:function(){},onDeleteAttachmentsComplete:function(){},onCapabilitiesChange:function(){},onGDBVersionChange:function(){},onQueryLimitExceeded:function(){},onLabelingInfoChange:function(){},
onFeatureReductionRendererChange:function(){},onFeatureReductionChange:function(){},onFeatureUpdatesResult:function(){},_cloneJson:function(){var W=this._json;return p.isString(W)?n.fromJson(W):p.clone(W)},_updateLayerDefinition:function(W){if(this._collection&&this._typesDirty){W.types=t.map(this.types||[],function(na){return na.toJson()});var ia=this.renderer,sa=this.labelingInfo,X=W.drawingInfo;!ia&&!sa||X||(X=W.drawingInfo={});X&&ia&&-1===ia.declaredClass.indexOf("TemporalRenderer")&&(X.renderer=
ia.toJson());sa&&(X.labelingInfo=t.map(sa,function(na){return na.toJson()}))}},_evalFeatureUpdates:function(){if(!this._featureUpdatesPromise||this._featureUpdatesPromise.isFulfilled())this._featureUpdatesPromise=this.hasFeatureUpdates().otherwise(function(W){return!(W&&"cancel"===W.dojoType)}).always(p.hitch(this,function(W){this._featureUpdatesPromise=null;this.onFeatureUpdatesResult({hasUpdates:W})}))},_evalRefresh:function(W){(W.hasUpdates||this.hasDefinitionExpressionWithCurrentTimestamp())&&
this.refresh()},_evalArcadeSupport:function(){var W=new h;setTimeout(p.hitch(this,function(){this._initializeArcadeEngine().always(function(){W.resolve()})}),0);return W.promise},_initializeArcadeEngine:function(){var W=[],ia=this.infoTemplate;ia&&ia.initializeArcadeEngine&&W.push(ia.initializeArcadeEngine());(ia=this.renderer)&&ia.initializeArcadeEngine&&W.push(ia.initializeArcadeEngine());var sa=[];t.forEach(this.labelingInfo,function(X){(X=X.labelExpressionInfo)&&X.expression&&sa.push(X.expression)});
W.push(U.initialize(sa));return C(W)},_isGeometryOperationsUsed:function(){var W=this.infoTemplate,ia=this.renderer,sa=this.labelingInfo;return W&&W.hasGeometryOperations&&W.hasGeometryOperations()||ia&&ia.hasGeometryOperations&&ia.hasGeometryOperations()||t.some(sa,function(X){return O.hasGeometryOperations(X.labelExpressionInfo&&X.labelExpressionInfo.expression)})?!0:!1},_forceIdentity:function(){var W=new h,ia=this,sa=this._url&&this._url.path;var X=sa&&sa.toLowerCase().indexOf("/rest/services");
var na=this.editFieldsInfo;na=na&&(na.creatorField||na.editorField);(this.userIsAdmin||na)&&!this._getToken()&&-1<X&&q.id?(X=sa.substring(0,X)+"/rest/info",w({url:X,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(function(ua){if(ua.owningSystemUrl)return q.id.checkSignInStatus(ua.owningSystemUrl+"/sharing")}).then(function(ua){if(ua)return q.id.getCredential(sa)}).then(function(ua){ua&&ia._findCredential()}).always(function(){W.resolve()})):W.resolve();return W.promise},_isSnapshotMode:function(){return this._mode?
this._mode.isInstanceOf(ma):!1},_isOnDemandMode:function(){return this._mode?this._mode.isInstanceOf(qa):!1},_isAutoSnapshotMode:function(){return this._isAutoModeEnabled()&&this.currentMode===La.MODE_SNAPSHOT},_getMaxFeaturesForAutoSnapshotMode:function(){var W=this.geometryType;if("esriGeometryPolyline"===W||"esriGeometryPolygon"===W||"esriGeometryMultipoint"===W||this.hasXYFootprint())var ia=this.maxRecordCountForAuto;else"esriGeometryPoint"===W&&(ia=this.maxPointCountForAuto);return ia},getLastExceedsLimitResult:function(){return this._lastExceedsLimitResult},
_canUseSnapshotMode:function(W){this._lastExceedsLimitResult=W=(W=W&&W.features&&W.features[0])&&W.attributes&&W.attributes.exceedslimit;return!(this.mode!==La.MODE_AUTO||this.isEditable()||0!==W||!(this._isPaginationAllowed()||this.maxRecordCount>=this._getMaxFeaturesForAutoSnapshotMode()))},_evalModeFromFLimit:function(W){this._canUseSnapshotMode(W)?this._enableAutoSnapshotMode():this._enableAutoOnDemandMode()},_enableAutoSnapshotMode:function(){var W=La.MODE_SNAPSHOT;this.isFeatureReductionApplied()?
this._updatePreFReductionState(W):this._preSurfaceChangeState?(this._updatePreSurfaceChangeState(W),this._evalSurfaceType(!0)):this.currentMode!==W&&this._setFetchMode(La.MODE_AUTO,W)},_enableAutoOnDemandMode:function(){var W=La.MODE_ONDEMAND;this.isFeatureReductionApplied()?this._updatePreFReductionState(W):this._preSurfaceChangeState?this._updatePreSurfaceChangeState(W):this.currentMode!==W&&(this._setFetchMode(La.MODE_AUTO,W),this._evalSurfaceType())},_evalModeFromFReduction:function(W){this.loaded&&
(W&&this.isFeatureReductionEnabled()&&this._canCluster(W)?this._enableFReductionMode():this._disableFReductionMode())},_enableFReductionMode:function(){this._evalSurfaceType(!0);if(!this._preFReductionState){var W=this.currentMode;W!==La.MODE_SNAPSHOT&&W!==La.MODE_STREAM&&W!==La.MODE_SELECTION&&(this._preFReductionState={mode:this.mode,currentMode:this.currentMode},this._setFetchMode(this.mode===La.MODE_AUTO?La.MODE_AUTO:La.MODE_SNAPSHOT,La.MODE_SNAPSHOT))}},_disableFReductionMode:function(){var W=
this._preFReductionState;this._preFReductionState=null;!W||W.mode===this.mode&&W.currentMode===this.currentMode||(this._setFetchMode(W.mode,W.currentMode),this._evalSurfaceType())},_updatePreFReductionState:function(W){this._preFReductionState=this._preFReductionState||{};this._preFReductionState.mode=La.MODE_AUTO;this._preFReductionState.currentMode=W},_evalModeFromSurface:function(){this.hasWebGLSurface()?this._enableWebGLSurfaceMode():this._disableWebGLSurfaceMode()},_enableWebGLSurfaceMode:function(){this._preSurfaceChangeState||
(this._preSurfaceChangeState={mode:this.mode,currentMode:this.currentMode},this._setFetchMode(this.mode===La.MODE_AUTO?La.MODE_AUTO:La.MODE_ONDEMAND,La.MODE_ONDEMAND,this.webglDeps.OnDemandDrillMode))},_disableWebGLSurfaceMode:function(){var W=this._preSurfaceChangeState;W&&(this._preSurfaceChangeState=null,this._setFetchMode(W.mode,W.currentMode))},_updatePreSurfaceChangeState:function(W){this._preSurfaceChangeState=this._preSurfaceChangeState||{};this._preSurfaceChangeState.mode=La.MODE_AUTO;this._preSurfaceChangeState.currentMode=
W},_setFetchMode:function(W,ia,sa){this.clearSelection();this._mode.suspend();this._mode.destroy();this.mode=W;this.currentMode=ia;sa=sa||this._getModeConstructor(ia);this._mode=new sa(this);this.queryPagination=ia===La.MODE_ONDEMAND&&-1===sa.prototype.declaredClass.toLowerCase().indexOf("ondemanddrillmode")?!1:this._isPaginationAllowed();(W=this.getMap())&&W.loaded&&(this._resetMaxAllowableOffset(),this._mode.initialize(W),this._mode.startup())},_isPaginationAllowed:function(){return!(!this._optQueryPagination||
this.loaded&&!this.advancedQueryCapabilities.supportsPagination)},_getModeConstructor:function(W){var ia;W===La.MODE_SNAPSHOT?ia=ma:W===La.MODE_ONDEMAND&&(ia=qa);return ia},_hasOnDemandDrillMode:function(){var W=this._mode;W=W&&W.declaredClass;return!!(W&&-1<W.toLowerCase().indexOf("ondemanddrillmode"))},_checkFeatureLimit:function(){this._limitPromise&&(this._limitPromise.cancel(),this._limitPromise=null);var W=this._queryLimit();W&&(this._lastExceedsLimitResult=null,this._limitPromise=W.then(p.hitch(this,
function(ia){var sa=this.currentMode;this._evalModeFromFLimit(ia);return{modeChanged:this.currentMode!==sa}})).always(p.hitch(this,function(ia){this._limitPromise=null;return ia})));return this._limitPromise},_hasPendingLimitQuery:function(){return!!this._exceedsLimitTimer},_queryLimit:function(){if(this._isAutoModeEnabled()){var W,ia,sa=new h(function(){clearTimeout(W);W=null;ia&&!ia.isFulfilled()&&ia.cancel();ia=null});this._exceedsLimitTimer=W=setTimeout(p.hitch(this,function(){this._exceedsLimitTimer=
null;var X=new M,na=new T;na.statisticType="exceedslimit";na.maxPointCount=this.maxPointCountForAuto;na.maxRecordCount=this.maxRecordCountForAuto;na.maxVertexCount=this.maxVertexCountForAuto;na.outStatisticFieldName="exceedslimit";X.outStatistics=[na];ia=this.queryFeatures(X).promise.then(function(ua){sa.resolve(ua)}).otherwise(function(ua){sa.reject(ua)})}),0);return sa.promise}},_isAutoModeEnabled:function(){return this.mode===La.MODE_AUTO&&this.reHostedFS.test(this.url)},_updateCaps:function(){var W=
this._editable,ia=p.trim(this.capabilities||""),sa=t.map(ia?ia.split(","):[],p.trim),X=t.map(ia?ia.toLowerCase().split(","):[],p.trim);ia=t.indexOf(X,"editing");var na;X={Create:t.indexOf(X,"create"),Update:t.indexOf(X,"update"),Delete:t.indexOf(X,"delete")};if(W&&-1===ia)sa.push("Editing");else if(!W&&-1<ia){W=[ia];for(na in X)-1<X[na]&&W.push(X[na]);W.sort();for(na=W.length-1;0<=na;na--)sa.splice(W[na],1)}this.capabilities=sa.join(",")},_counter:{value:0},_getUniqueId:function(){return this._counter.value++},
onSuspend:function(){this.inherited(arguments);this._suspendImpl()},_suspendImpl:function(W){this._toggleTime(!1);this._refreshHandle&&(this._refreshHandle.remove(),this._refreshHandle=null);var ia=this._mode;ia&&(ia.suspend(),W&&ia.destroy())},onResume:function(W){this.inherited(arguments);this._toggleTime(!0);this._refreshHandle=this.on("feature-updates-result",p.hitch(this,this._evalRefresh));var ia=this._map,sa=this._getRenderer();if(W.firstOccurrence){if(this._fixRendererFields(),this._updateRequiredFieldsFromLabelingInfo(),
this._checkFields(),this.clearSelection(),this._evalFeatureReduction(),this.timeInfo&&!this._trackManager&&(this._trackIdField||sa&&(sa.latestObservationRenderer||sa.trackRenderer))&&(this._trackManager=new fa(this),this._trackManager.initialize(ia),this._childLayer=this._trackManager.container),sa&&"colors"in sa&&"blurRadius"in sa&&"maxPixelIntensity"in sa&&"esriGeometryPoint"==this.geometryType&&!this._heatmapManager&&(this._heatmapManager=new ra(this),this._heatmapManager.initialize(ia)),this._zoomConnect=
m.connect(ia,"onZoomEnd",this,this._zoomEndHandler),this._refreshMaxAllowableOffset(),sa=this._mode)sa._init||sa.initialize(ia),sa.startup()}else this._zoomEndHandler(),this._mode&&this._mode.resume()},_zoomEndHandler:function(){var W=this._map;this._updateMaxOffset();this._prevScale=W.getScale();!this.suspended&&this._needsRefresh&&this.refresh()},_updateMaxOffset:function(){var W=this._map;W&&W.loaded&&this._autoGeneralize&&(this._isAutoSnapshotMode()?(W=this.getMaxAllowableOffset(),this._setMaxOffset(this._getMaxOffsetForScale(),
!0),this._needsRefresh||(this._needsRefresh=W!=this.getMaxAllowableOffset())):this._setMaxOffset(W.extent.getWidth()/W.width,!W.extent.spatialReference.isWebMercator()))},_getMaxOffsetForScale:function(){if(this._map){var W=this._map.getScale(),ia=this._calculatedScale,sa=this._calcMaxOffset,X=this._prevScale;return W>=ia&&(null==X||X<ia)?sa:W<ia&&(null==X||X>=ia)?null:this.getMaxAllowableOffset()}},_calcMaxOffsetForAutoSnapshot:function(){var W=this._map;if(W&&this._canAutoGeneralize()&&this._isAutoSnapshotMode()&&
this._autoGeneralize&&null==this.getMaxAllowableOffset()){var ia=this.generalizeForScale;this._calculatedScale=ia=this.maxScale?this.maxScale:this.minScale?Math.min(ia,this.minScale):Math.min(ia,ba.getScale(W,this.initialExtent));this._calcMaxOffset=W.extent.getWidth()/W.width/W.getScale()*ia}else this._calculatedScale=this._calcMaxOffset=void 0},_toggleTime:function(W){var ia=this._map;W&&this.timeInfo&&this.useMapTime&&ia?(this._mapTimeExtent=ia.timeExtent,this._timeConnect||(this._timeConnect=
m.connect(ia,"onTimeExtentChange",this,this._timeChangeHandler))):(this._mapTimeExtent=null,m.disconnect(this._timeConnect),this._timeConnect=null)},_timeChangeHandler:function(W){this._mapTimeExtent=W;(W=this._mode)&&W.propertyChangeHandler(0)},_getOffsettedTE:function(W){var ia=this._timeOffset,sa=this._timeOffsetUnits;return W&&ia&&sa?W.offset(-1*ia,sa):W},_getTimeOverlap:function(W,ia){return W&&ia?W.intersection(ia):W||ia},_getTimeFilter:function(W){var ia=this.getTimeDefinition();if(ia){var sa=
this._getTimeOverlap(ia,null);if(!sa)return[!1]}if(W){if(W=sa?this._getTimeOverlap(W,sa):W,!W)return[!1]}else W=sa;return[!0,W]},_getAttributeFilter:function(W){var ia=[],sa=this.getDefinitionExpression();sa&&ia.push(sa);W&&ia.push(W);this.subtypeField&&this.subtypeCode&&ia.push(this.subtypeField+" \x3d "+this.subtypeCode);1<ia.length&&(ia=t.map(ia,function(X){return"("+X+")"}));return ia.length?ia.join(" AND "):null},_applyQueryFilters:function(W,ia){W.where=this._getAttributeFilter(W.where);W.returnGeometry&&
null==W.maxAllowableOffset&&!W.quantizationParameters&&(W.maxAllowableOffset=this._maxOffset,W.quantizationParameters=this._quantizationParameters);ia&&this.supportsAdvancedQueries&&(W.orderByFields=W.orderByFields||this.getOrderByFields());if(this.timeInfo)if(ia=this._getTimeFilter(W.timeExtent),ia[0])W.timeExtent=ia[1];else return!1;return!0},_add:function(W){var ia=this._selectionSymbol,sa=W.attributes,X=this.visibilityField;ia&&this._isSelOnly&&W.setSymbol(ia);if(X&&sa&&sa.hasOwnProperty(X))W[sa[X]?
"show":"hide"]();return this.add.apply(this,arguments)},_remove:function(){return this.remove.apply(this,arguments)},_canDoClientSideQuery:function(W,ia){var sa=[],X=this._map,na;if((this._collection||!this._isTable&&X)&&!(W.text||W.where&&W.where!==this.getDefinitionExpression()||W.orderByFields&&W.orderByFields.length&&(na=this.getOrderByFields()||[])&&W.orderByFields.join()!==na.join()||W.outStatistics||W.returnDistinctValues)){na=this._isSnapshotMode();var ua=this._isSelOnly;ia=na?null:ia?this._getExtentOfTiles(X.extent):
X.extent;if(X=W.geometry){if(ua||W.spatialRelationship!==M.SPATIAL_REL_INTERSECTS||"extent"!==X.type||!na&&!ia.contains(X))return;sa.push(1)}if(ia=W.objectIds)if(na)sa.push(2);else{X=ia.length;var ya=this._mode,Ha=0,Oa;for(Oa=0;Oa<X;Oa++)ya._getFeature(ia[Oa])&&Ha++;if(Ha===X)sa.push(2);else return}if(this.timeInfo)if(W=W.timeExtent,ia=this._mapTimeExtent,na)W&&sa.push(3);else if(ua){if(W)return}else if(ia)if(-1!==t.indexOf(sa,2))W&&sa.push(3);else if(-1!==t.indexOf(sa,1))W==ia&&sa.push(3);else return;
else if(0<sa.length)W&&sa.push(3);else if(W)return;return 0<sa.length?sa:null}},_getAbsMid:function(W){return G.toAbsMid?G.toAbsMid(W):A.id.replace(/\/[^\/]*$/ig,"/")+W},_doQuery:function(W,ia,sa){var X=[],na=this.objectIdField,ua=this,ya=new h,Ha=new h,Oa=this.graphics;if(-1!==t.indexOf(ia,1)){var Ma=this.spatialIndex||this._map&&this._map.spatialIndex,Da,Ka=W.geometry._normalize(null,!0);null==Ma&&Na.autoSpatialIndexing?Da=(this._map||this).addPlugin(this._getAbsMid("../plugins/spatialIndex")).then(p.hitch(this,
p.partial(this._getFromIndex,Ka,Ma)),function(Ja){Ha.resolve(p.hitch(this,p.partial(this._filterByExtent,Oa,Ka)))}):Ma&&(Da=this._getFromIndex(Ka,Ma));Da?Da.then(function(Ja){for(var Va=0;Va<Ja.length;Va++)Ja[Va].results&&(X=X.concat(Ja[Va].results));Ha.resolve(X)}).otherwise(function(Ja){Ha.reject(Ja)}):Ha.resolve(this._filterByExtent(Oa,Ka))}else Ha.resolve(Oa);Ha.then(function(Ja){X=Ja;if(-1!==t.indexOf(ia,2)){var Va=W.objectIds;X=t.filter(X,function(fb){return-1<t.indexOf(Va,fb.attributes[na])})}-1!==
t.indexOf(ia,3)&&ua.timeInfo&&(Ja=W.timeExtent,X=ua._filterByTime(X,Ja.startTime,Ja.endTime).match);sa&&(X=t.map(X,function(fb){return fb.attributes[na]},this));ya.resolve(X)});return ya},_getFromIndex:function(W,ia){ia=ia||this.spatialIndex||this._map.spatialIndex;W instanceof Array||(W=[W]);var sa=this.id;return v(t.map(W,function(X){return ia.intersects(X,sa)}))},_filterByExtent:function(W,ia){for(var sa=[],X=0,na=W.length;X<na;X++){var ua=W[X],ya=ua.geometry;ya&&(this.normalization&&ia.length?
(ia[0].intersects(ya)||ia[1].intersects(ya))&&sa.push(ua):ia.intersects(ya)&&sa.push(ua))}return sa},_filterByTime:function(W,ia,sa){var X=this._startTimeField,na=this._endTimeField,ua;this._twoTimeFields||(ua=X||na);var ya=x.isDefined,Ha=[],Oa=[],Ma,Da=W.length;ia=ia?ia.getTime():-Infinity;sa=sa?sa.getTime():Infinity;if(ua)for(Ma=0;Ma<Da;Ma++){var Ka=W[Ma];var Ja=Ka.attributes;X=Ja[ua];X>=ia&&X<=sa?Ha.push(Ka):Oa.push(Ka)}else for(Ma=0;Ma<Da;Ma++)Ka=W[Ma],Ja=Ka.attributes,ua=Ja[X],Ja=Ja[na],ua=ya(ua)?
ua:-Infinity,Ja=ya(Ja)?Ja:Infinity,ua>=ia&&ua<=sa||Ja>=ia&&Ja<=sa||ia>=ua&&sa<=Ja?Ha.push(Ka):Oa.push(Ka);return{match:Ha,noMatch:Oa}},_getSizeVariables:function(W){return W&&t.filter(W.getVisualVariablesForType("sizeInfo",!1),function(ia){return!(!ia.field&&!ia.valueExpression)})},_needClientSideSorting:function(W){return this._collection?!(!W||!W.length):t.some(W,function(ia){return!!ia.valueExpression})},_sortFeatures:function(W){var ia=this.renderer,sa=this._getSizeVariables(ia);if(W&&1<W.length&&
this._needClientSideSorting(sa)){var X=sa[0],na=this;W.sort(function(ua,ya){ua._layer||(ua._layer=na);ya._layer||(ya._layer=na);ua=ia._getDataValue(ua,X,"sizeInfo");ya=ia._getDataValue(ya,X,"sizeInfo");return null==ua?-1:null==ya?1:ya-ua})}return W},_resolve:function(W,ia,sa,X,na){ia&&this[ia].apply(this,W);sa&&sa.apply(null,W);X&&z._resDfd(X,W,na)},_getShallowClone:function(W){var ia=new M,sa;for(sa in W)W.hasOwnProperty(sa)&&(ia[sa]=W[sa]);return ia},_canFetchPBF:function(){return!!(Ra&&Sa&&this.supportsFormatPBF)},
_canFetchPBFForQuery:function(W){return!(!this._canFetchPBF()||!this._isCacheHintEnabled(W)&&this._isAutoSnapshotMode()||!(W.quantizationParameters||!this.isEditable()&&this.supportsQuantizationEditMode)||W.outStatistics)},_enableEditModeQuantization:function(W,ia){W&&ia&&!W.quantizationParameters&&(W.quantizationParameters={mode:"edit"})},_enableCacheHint:function(W,ia){var sa=this.advancedQueryCapabilities;sa&&sa.supportsQueryWithCacheHint?null==W.cacheHint&&(W.cacheHint=!0):sa&&sa.supportsQueryWithResultType&&
this.reHostedFS.test(this.url)&&!W.resultType&&(W.resultType=ia||"coherent")},_isCacheHintSupported:function(){var W=this.advancedQueryCapabilities;return W?!!(W.supportsQueryWithCacheHint||W.supportsQueryWithResultType&&this.reHostedFS.test(this.url)):!1},_isCacheHintEnabled:function(W){var ia=this.advancedQueryCapabilities;return W&&ia?!!(ia.supportsQueryWithCacheHint&&W.cacheHint||ia.supportsQueryWithResultType&&this.reHostedFS.test(this.url)&&("coherent"===W.resultType||"tile"===W.resultType)):
!1},_query:function(W,ia,sa,X,na,ua){var ya=this,Ha=this._map;ua=ua&&ua.snapToTiles;var Oa=new h(z._dfdCanceller),Ma=sa,Da,Ka,Ja;if("executeRelationshipQuery"!==W){Ma=this._getShallowClone(sa);var Va=this.getOutFields();Ma.outFields||(Ma.outFields=Va);Ma.outFields&&Ma.outFields.length&&(Ka=-1<t.indexOf(Va,"*")?!1:!t.every(Ma.outFields,function(bb){return-1<t.indexOf(Va,bb)}));Ma.returnGeometry=sa.hasOwnProperty("returnGeometry")?sa.returnGeometry:!sa.outStatistics;Ma.returnGeometry&&(Ma.multipatchOption=
this.multipatchOption,null!=Ma.maxAllowableOffset||Ma.quantizationParameters)&&(sa=null!=Ma.maxAllowableOffset?Ma.maxAllowableOffset:Ma.quantizationParameters.tolerance,null!=sa&&sa!==this.getMaxAllowableOffset()&&(Ja=!0));Ha&&(Ha=Ha&&Ha.spatialReference,(sa=Ma.outSpatialReference)?Da=!sa.equals(Ha):Ma.outSpatialReference=new y(Ha.toJson()));ua&&(Ha=Ma.geometry)&&"extent"===Ha.type&&(Ma.geometry=this._getExtentOfTiles(Ha),Ha!==Ma.geometry&&this._enableCacheHint(Ma));if(!this._applyQueryFilters(Ma,
"execute"===W&&!Ma.outStatistics)){switch(W){case "execute":var fb=new N({features:[]});break;case "executeForIds":fb=[];break;case "executeForCount":fb=0;break;case "executeForExtent":fb={}}this._resolve([fb],ia,X,Oa);return Oa}if(ua="executeForExtent"!==W&&!Da&&!Ka&&!Ja&&this._canDoClientSideQuery(Ma,ua))return Oa._pendingDfd=k(this._doQuery(Ma,ua,"executeForIds"===W||"executeForCount"===W)),Oa._pendingDfd.then(function(bb){switch(W){case "execute":fb=new N;fb.features=bb;break;case "executeForIds":fb=
bb;break;case "executeForCount":fb=bb.length}ya._resolve([fb],ia,X,Oa)}),Oa}if(this._collection)return this._resolve([Error("FeatureLayer::_query - "+this.invalidParams)],null,na,Oa,!0),Oa;if(this.loaded&&!this.isQueryable())return this._resolve([Error("Layer does not support query capability.")],null,na,Oa,!0),Oa;this._ts&&(Ma._ts=(new Date).getTime());ua="execute"===W&&this._canFetchPBFForQuery(Ma);this._enableEditModeQuantization(Ma,ua);(Oa._pendingDfd=this._task[W](Ma,null,null,ua?{format:"pbf"}:
null)).addCallbacks(function(bb){var kb=!!Ma.outStatistics||Da||Ka||Ja;if("execute"===W||"executeRelationshipQuery"===W)if("execute"===W){var hb=bb.features;var nb=hb.length;for(--nb;0<=nb;nb--)if(hb[nb]._layer=ya,!kb&&!ya._isTable){var tb=ya._mode._getFeature(hb[nb].attributes[ya.objectIdField]);tb&&hb.splice(nb,1,tb)}}else for(tb in bb)if(bb.hasOwnProperty(tb))for(hb=bb[tb].features,nb=hb.length,--nb;0<=nb;nb--)hb[nb]._layer=ya;ya._resolve([bb],ia,X,Oa)},function(bb){ya._resolve([bb],null,na,Oa,
!0)});return Oa},_getExtentOfTiles:function(W){var ia=this._isOnDemandMode()&&this._mode._gridLayer||ha.createFromFeatureLayer({layer:this}),sa=this.getMap();sa=sa&&sa.getTargetExtent(W);return ia&&sa&&ia.getExtentOfIntersectingCells(sa)||W},_convertFeaturesToJson:function(W,ia,sa,X){var na=[],ua=this._selectionSymbol,ya=this.visibilityField,Ha,Oa=this.objectIdField;this.loaded&&(sa||X)&&(Ha=t.filter(this.fields,function(fb){return!1===fb.editable&&(!X||fb.name!==Oa)}));for(sa=0;sa<W.length;sa++){var Ma=
W[sa],Da={},Ka=Ma.geometry,Ja=Ma.attributes,Va=Ma.symbol;!Ka||X&&this.loaded&&!this.allowGeometryUpdates||(Da.geometry=Ka.toJson());ya?(Da.attributes=Ja=p.mixin({},Ja),Ja[ya]=Ma.visible?1:0):Ja&&(Da.attributes=p.mixin({},Ja));Da.attributes&&Ha&&Ha.length&&t.forEach(Ha,function(fb){delete Da.attributes[fb.name]});Va&&Va!==ua&&(Da.symbol=Va.toJson());na.push(Da)}return ia?na:n.toJson(na)},_selectHandler:function(W,ia,sa,X,na){switch(ia){case La.SELECTION_NEW:this.clearSelection(!0);var ua=!0;break;
case La.SELECTION_ADD:ua=!0;break;case La.SELECTION_SUBTRACT:ua=!1}X=W.features;var ya=this._mode,Ha=[],Oa=this.objectIdField;if(ua)for(ua=0;ua<X.length;ua++){var Ma=X[ua];var Da=Ma.attributes[Oa];Ma=ya._addFeatureIIf(Da,Ma);Ha.push(Ma);this._selectFeatureIIf(Da,Ma,ya)}else for(ua=0;ua<X.length;ua++)Ma=X[ua],Da=Ma.attributes[Oa],this._unSelectFeatureIIf(Da,ya),Da=ya._removeFeatureIIf(Da),Ha.push(Da||Ma);this._isSelOnly&&ya._applyTimeFilter(!0);this._isImageService&&10.7>this.version&&void 0===W.exceededTransferLimit&&
(W.exceededTransferLimit=X.length===this.maxRecordCount);this._hasPartialSelectedFeatures=!!W.exceededTransferLimit;this._resolve([Ha,ia,W.exceededTransferLimit?{queryLimitExceeded:!0}:null],"onSelectionComplete",sa,na);if(W.exceededTransferLimit)this.onQueryLimitExceeded()},_selectFeatureIIf:function(W,ia,sa){var X=this._selectedFeatures,na=X[W];na||(sa._incRefCount(W),X[W]=ia,this._isTable||(this._setSelectSymbol(ia),ia.attr("data-selected","")));return na||ia},_unSelectFeatureIIf:function(W,ia){var sa=
this._selectedFeatures[W];sa&&(ia._decRefCount(W),delete this._selectedFeatures[W],this._isTable||(this._setUnSelectSymbol(sa),sa.attr("data-selected")));return sa},_setSelectSymbol:function(W){var ia=this._selectionSymbol;ia&&!this._isSelOnly&&W.setSymbol(ia)},_setUnSelectSymbol:function(W){var ia=this._selectionSymbol;ia&&!this._isSelOnly&&ia===W.symbol&&W.setSymbol(null,!0)},_getOutFields:function(){var W=[this.objectIdField,this.typeIdField,this.creatorField,this._startTimeField,this._endTimeField,
this._trackIdField].concat(this._requiredFields).concat(this.dataAttributes);W=t.filter(W,function(sa,X,na){return!!sa&&t.indexOf(na,sa)===X});var ia=p.clone(this._outFields);if(ia){if(-1!==t.indexOf(ia,"*"))return ia;t.forEach(W,function(sa){-1===t.indexOf(ia,sa)&&ia.push(sa)});return ia}return W},_checkFields:function(W){var ia=W||this._getOutFields();t.forEach(ia,function(sa){"*"!==sa&&(this._getField(sa)||console.debug("esri.layers.FeatureLayer: "+x.substitute({url:this.url,field:sa},"unable to find '${field}' field in the layer 'fields' information [url: ${url}]")))},
this);W||this._isTable||this._fserver||this._collection||this._isStream||t.some(this.fields,function(sa){return sa&&"esriFieldTypeGeometry"===sa.type?!0:!1})||console.debug("esri.layers.FeatureLayer: "+x.substitute({url:this.url},"unable to find a field of type 'esriFieldTypeGeometry' in the layer 'fields' information. If you are using a map service layer, features will not have geometry [url: ${url}]"))},_fixFieldCase:function(W,ia,sa){var X=W&&W[ia],na;if(X&&!p.isFunction(X)){if(na=!this._getField(X)&&
this._getField(X,!0))X=W[ia]=na.name;sa&&sa.push(X)}return X},_fixRendererFields:function(){var W=this.renderer;this._orderBy=null;this._requiredFields=[];if(W&&0<this.fields.length){var ia=[],sa;W=t.filter([W,W.observationRenderer,W.latestObservationRenderer,W.trackRenderer],x.isDefined);var X=[].concat(W);t.forEach(W,function(na){t.forEach(na.rendererInfos,function(ua){ua.renderer&&X.push(ua.renderer)})});t.forEach(X,function(na){this._fixFieldCase(na,"attributeField",ia);this._fixFieldCase(na,
"attributeField2",ia);this._fixFieldCase(na,"attributeField3",ia);this._fixFieldCase(na.rotationInfo,"field",ia);(sa=this._fixFieldCase(na.sizeInfo,"field",ia))&&!this._orderBy&&(this._orderBy=[sa+" DESC"]);this._fixFieldCase(na.sizeInfo,"normalizationField",ia);this._fixFieldCase(na.colorInfo,"field",ia);this._fixFieldCase(na.colorInfo,"normalizationField",ia);this._fixFieldCase(na.field,"field",ia);this._fixFieldCase(na.opacityInfo,"field",ia);this._fixFieldCase(na.opacityInfo,"normalizationField",
ia);t.forEach(na.visualVariables,function(ya){sa=this._fixFieldCase(ya,"field",ia);"sizeInfo"===ya.type&&sa&&!this._orderBy&&(this._orderBy=[sa+" DESC"]);this._fixFieldCase(ya,"normalizationField",ia)},this);var ua=t.map(na.getFieldsUsedInExpressions(),function(ya){var Ha=this.getField(ya);return Ha?Ha.name:ya},this);ia=ia.concat(ua);this._orderBy||!na.addBreak||p.isFunction(na.attributeField)||!na.backgroundFillSymbol&&!this._hasSizeDiff(na)||(this._orderBy=[na.attributeField+" DESC"])},this);this._requiredFields=
t.filter(ia,x.isDefined)}},_hasSizeDiff:function(W){var ia=Number.MAX_VALUE,sa=-Number.MAX_VALUE,X,na;t.forEach(W.infos,function(ua){if(na=ua.symbol){X=0;switch(na.type){case "simplemarkersymbol":X=na.size;break;case "picturemarkersymbol":X=(na.width+na.height)/2;break;case "simplelinesymbol":case "cartographiclinesymbol":X=na.width;break;case "simplefillsymbol":case "picturefillsymbol":X=na.outline&&na.outline.width}X&&(ia=Math.min(ia,X),sa=Math.max(sa,X))}});return ia!==Number.MAX_VALUE&&sa!==-Number.MAX_VALUE&&
1<Math.abs(sa-ia)},getOrderByFields:function(){var W=this.orderByFields||this._orderBy;return this.supportsAdvancedQueries&&W?t.filter(W,function(ia){ia=ia.split(" ")[0];return!!this._getField(ia,!0)},this):null},_createFields:function(W){var ia=W?W.length:0,sa,X=[];for(sa=0;sa<ia;sa++)X.push(new Q(W[sa]));this.fields=X},_createFieldsIndex:function(){if(this._fieldsIndexDirty){var W=this.fields,ia=W?W.length:0;if(50<ia&&this._canUseFieldsIndex()){var sa=new Map;for(var X=new Map,na=0;na<ia;na++){var ua=
W[na];sa.set(ua.name,ua);X.set(ua.name.toLowerCase(),ua)}sa={caseSensitive:sa,caseInsensitive:X}}this._fieldsIndex=sa;this._fieldsIndexDirty=!1}},_canUseFieldsIndex:function(){var W=u.Map;return!("function"!==typeof u.Proxy||"function"!==typeof u.Proxy.revocable||"function"!==typeof W||!W.prototype||"function"!==typeof W.prototype.set)},_getField:function(W,ia){var sa=this.fields;if(!sa||0===sa.length)return null;ia&&(W=W.toLowerCase());this._createFieldsIndex();var X=this._fieldsIndex;if(X)return X=
ia?X.caseInsensitive:X.caseSensitive,X.get(W);var na;t.some(sa,function(ua){var ya=!1;(ya=ia?ua&&ua.name.toLowerCase()===W?!0:!1:ua&&ua.name===W?!0:!1)&&(na=ua);return ya});return na},_getDateOpts:function(){this._dtOpts||(this._dtOpts={properties:t.map(t.filter(this.fields,function(W){return!(!W||"esriFieldTypeDate"!==W.type)}),function(W){return W.name})});return this._dtOpts},_applyNormalized:function(W,ia){W&&ia&&t.forEach(W,function(sa,X){sa&&ia[X]&&sa.setGeometry(ia[X])})},_editHandler:function(W,
ia,sa,X,na,ua){na=W.addResults;var ya=W.updateResults;W=W.deleteResults;var Ha,Oa=this.objectIdField,Ma=this._mode,Da=this._isTable;var Ka=this.editFieldsInfo;var Ja=this.getOutFields()||[];var Va=Ka&&Ka.creatorField,fb=Ka&&Ka.creationDateField,bb=Ka&&Ka.editorField,kb=Ka&&Ka.editDateField;Ka=Ka&&Ka.realm;-1===t.indexOf(Ja,"*")&&(Va&&-1===t.indexOf(Ja,Va)&&(Va=null),fb&&-1===t.indexOf(Ja,fb)&&(fb=null),bb&&-1===t.indexOf(Ja,bb)&&(bb=null),kb&&-1===t.indexOf(Ja,kb)&&(kb=null));var hb=fb||kb?(new Date).getTime():
null,nb=Va||bb?this.getUserId():void 0;nb&&Ka&&(nb=nb+"@"+Ka);if(na){var tb=this.globalIdField;for(Ka=0;Ka<na.length;Ka++)if(na[Ka]=new Aa(na[Ka]),!Da){var ob=na[Ka];if(ob.success){var ib=ob.objectId;Ja=ia[Ka];(Ha=Ja._graphicsLayer)&&Ha!==this&&Ha.remove(Ja);Ha=Ja.attributes||{};Ha[Oa]=ib;ib=ob.globalId;tb&&ib&&(Ha[tb]=ib);Va&&(Ha[Va]=nb);bb&&(Ha[bb]=nb);fb&&(Ha[fb]=hb);kb&&(Ha[kb]=hb);Ja.setAttributes(Ha);Ma._init&&Ma.drawFeature(Ja)}}}if(ya)for(Ka=0;Ka<ya.length;Ka++)if(ya[Ka]=new Aa(ya[Ka]),!Da&&
(ob=ya[Ka],ob.success)){ib=ob.objectId;Ja=sa[ib];if(ia=Ma._getFeature(ib))ia.geometry!==Ja.geometry&&Ja.geometry&&ia.setGeometry(ea.fromJson(Ja.geometry.toJson())),ia.attributes!==Ja.attributes&&Ja.attributes&&ia.setAttributes(p.mixin(ia.attributes,Ja.attributes)),this._repaint(ia,ib);Ja=ia||Ja;Ha=Ja.attributes||{};bb&&(Ha[bb]=nb);kb&&(Ha[kb]=hb);Ja.setAttributes(Ha)}if(W){sa=[];for(Ka=0;Ka<W.length;Ka++)if(W[Ka]=new Aa(W[Ka]),!Da&&(ob=W[Ka],ob.success&&(ib=ob.objectId,Ja=Ma._getFeature(ib))))this._unSelectFeatureIIf(ib,
Ma)&&sa.push(Ja),Ja._count=0,Ma._removeFeatureIIf(ib);if(0<sa.length)this.onSelectionComplete(sa,La.SELECTION_SUBTRACT)}this._resolve([na,ya,W],"onEditsComplete",X,ua)},_sendAttachment:function(W,ia,sa,X,na){var ua=this;return w({url:this._url.path+"/"+ia+"/"+("add"===W?"addAttachment":"updateAttachment"),form:sa,content:p.mixin(this._url.query,{f:"json",token:this._getToken()||void 0}),callbackParamName:"callback.html",handleAs:"json"}).addCallback(function(ya){var Ha="add"===W?"onAddAttachmentComplete":
"onUpdateAttachmentComplete";ya=new Aa(ya["add"===W?"addAttachmentResult":"updateAttachmentResult"]);ya.attachmentId=ya.objectId;ya.objectId=ia;ua._resolve([ya],Ha,X);return ya}).addErrback(function(ya){ua._resolve([ya],null,na,null,!0)})},_repaint:function(W,ia,sa){ia=x.isDefined(ia)?ia:W.attributes[this.objectIdField];ia in this._selectedFeatures&&this._selectionSymbol||W.setSymbol(W.symbol,sa)},_getKind:function(W){var ia=this._trackManager;return ia?ia.isLatestObservation(W)?1:0:0}});p.mixin(La,
{MODE_SNAPSHOT:0,MODE_ONDEMAND:1,MODE_SELECTION:2,SELECTION_NEW:3,SELECTION_ADD:4,SELECTION_SUBTRACT:5,MODE_AUTO:6,MODE_STREAM:7,POPUP_NONE:"esriServerHTMLPopupTypeNone",POPUP_HTML_TEXT:"esriServerHTMLPopupTypeAsHTMLText",POPUP_URL:"esriServerHTMLPopupTypeAsURL"});P._createWrappers(La);Object.defineProperty(La.prototype,"graphics",{get:function(){return this._hasOnDemandDrillMode()?this._mode.graphics:this._graphicsVal},set:function(W){this._graphicsVal=W}});Object.defineProperty(La.prototype,"name",
{get:function(){return this.arcgisProps&&this.arcgisProps.title?this.arcgisProps.title:this._name},set:function(W){this._name=W;this.loaded&&this.arcgisProps&&(this.arcgisProps.title=null)}});Object.defineProperty(La.prototype,"fields",{get:function(){return this._fields},set:function(W){W&&this._canUseFieldsIndex()&&(W=new Proxy(W,{set:p.hitch(this,function(ia,sa,X){if(sa)if("length"===sa)this._fieldsIndexDirty=!0;else{var na=Number(sa);"number"!==typeof na||isNaN(na)||(this._fieldsIndexDirty=!0)}ia[sa]=
X;return!0})}));this._fields=W;this._fieldsIndexDirty=!0}});g("extend-esri")&&p.setObject("layers.FeatureLayer",La,q);return La})},"esri/promiseList":function(){define(["dojo/_base/array","dojo/Deferred","dojo/when"],function(G,A,a){var m=G.forEach;return function(p){function t(u,v){e[v]=u;f.progress([u,v]);0===--k&&f.resolve(e)}var n,h;p instanceof Array?h=p:p&&"object"===typeof p&&(n=p);var c=[];if(n){h=[];for(var b in n)Object.hasOwnProperty.call(n,b)&&(c.push(b),h.push(n[b]));var e={}}else h&&
(e=[]);if(!h||!h.length)return(new A).resolve(e);var f=new A;f.promise.always(function(){e=c=null});var k=h.length;m(h,function(u,v){n||c.push(v);a(u,function(g){f.isFulfilled()||t(g,c[v])},function(g){f.isFulfilled()||t(g,c[v])})});return f.promise}})},"esri/renderers/SimpleRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer".split(" "),function(G,A,a,m,p,t,n){G=G(n,{declaredClass:"esri.renderer.SimpleRenderer",constructor:function(h,
c){if(h&&!h.declaredClass){var b=h;this.symbol=(h=b.symbol)&&(h.declaredClass?h:t.fromJson(h,c));this.label=b.label;this.description=b.description}else this.symbol=h},getSymbol:function(h){return this.symbol},toJson:function(){var h=A.mixin(this.inherited(arguments),{type:"simple",label:this.label,description:this.description,symbol:this.symbol&&this.symbol.toJson()});return p.fixJson(h)}});a("extend-esri")&&A.setObject("renderer.SimpleRenderer",G,m);return G})},"esri/renderers/Renderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojox/gfx/_base ../kernel ../Color ../layers/support/attributeUtils ../support/expressionUtils ../arcadeProfiles/visualizationProfile".split(" "),
function(G,A,a,m,p,t,n,h,c,b){var e=Math.PI;G=G(null,{declaredClass:"esri.renderer.Renderer",constructor:function(f){this._cache={};if(f&&!f.declaredClass){this.rotationInfo=f.rotationInfo;if(!this.rotationInfo){var k=f.rotationType,u=f.rotationExpression;if(k||u)this.rotationInfo={type:k,expression:u}}this.setRotationInfo(this.rotationInfo);this.setSizeInfo(this._readSizeInfo(f.sizeInfo));this.setColorInfo(this._readColorInfo(f.colorInfo));this.setOpacityInfo(this._readOpacityInfo(f.transparencyInfo));
this.setVisualVariables(this._readVariables(f.visualVariables));this.setAuthoringInfo(f.authoringInfo)}this.getSymbol=A.hitch(this,this.getSymbol)},getSymbol:function(f){},_readSizeInfo:function(f){if(f){var k=f.minSize,u=f.maxSize;k&&(f.minSize="number"===typeof k?p.pt2px(k):this._readSizeInfo(k));u&&(f.maxSize="number"===typeof u?p.pt2px(u):this._readSizeInfo(u));f.stops&&a.forEach(f.stops,function(v){v.size&&"number"===typeof v.size&&(v.size=p.pt2px(v.size))})}return f},_readColorInfo:function(f){f&&
(a.forEach(f.colors,function(k,u){A.isArray(k)&&(f.colors[u]=n.toDojoColor(k))}),a.forEach(f.stops,function(k,u){k.color&&A.isArray(k.color)&&(f.stops[u].color=n.toDojoColor(k.color))}));return f},_readOpacityInfo:function(f){if(f){var k=A.mixin({},f);k.transparencyValues&&(k.opacityValues=a.map(k.transparencyValues,function(u){return 1-u/100}),delete k.transparencyValues);k.stops&&(k.stops=a.map(k.stops,function(u){u=A.mixin({},u);u.opacity=1-u.transparency/100;delete u.transparency;return u}))}return k},
_readVariables:function(f){f&&(f=a.map(f,function(k){"sizeInfo"===k.type?k=this._readSizeInfo(k):"colorInfo"===k.type?k=this._readColorInfo(k):"transparencyInfo"===k.type&&(k=this._readOpacityInfo(k),k.type="opacityInfo");return k},this));return f},setAuthoringInfo:function(f){this.authoringInfo=f},setRotationInfo:function(f){if(f=this.rotationInfo="string"===typeof f?{field:f}:f){if(f.expression&&!A.isFunction(f.expression)&&!f.field){var k=f.expression.match(this.rotationRE);k&&k[1]&&(f.field=k[1])}f.rotationType=
f.type}this._cache.rotationInfo=this._processRotationInfo(f);return this},rotationRE:/^\[([^\]]+)\]$/i,_processRotationInfo:function(f){f&&!f.rotationType&&(f.rotationType="geographic");return this._createCache(f)},getRotationAngle:function(f,k){var u=this._getVarInfo(k&&k.rotationInfo,"rotationInfo");k=u.variable;u=this._cache[u.cacheKey];var v="arithmetic"===this._getRotationType(k),g=u&&u.hasExpr,q=null;if(k.field||g)q=this._getDataValue(f,k,null,u),null!=q&&(q=(q+(v?-90:0))*(v?-1:1));return q},
_getRotationType:function(f){return f&&("rotationInfo"===f.type?f.rotationType:f.type)},_getDataValue:function(f,k,u,v,g){v||(v=this._getVarInfo(k,u),k=v.variable,v=this._cache[v.cacheKey],"sizeInfo"===u&&(v=v.root));return f._getDataValue(k,v,c,g)},setVisualVariables:function(f){var k=this._cache;a.forEach(this.visualVariables,function(u,v){k.hasOwnProperty(v)&&(k[v]=null)},this);this.visualVariables=f;a.some(f,function(u){return!!u.target})&&f.sort(function(u,v){return u.target===v.target?0:u.target?
1:-1});a.forEach(f,function(u,v){"colorInfo"===u.type?k[v]=this._processColorInfo(u):"opacityInfo"===u.type?k[v]=this._processOpacityInfo(u):"sizeInfo"===u.type?k[v]=this._processSizeInfo(u):"rotationInfo"===u.type&&(k[v]=this._processRotationInfo(u))},this);return this},getVisualVariableValues:function(f){var k=this.visualVariables,u;k&&(u=a.map(k,function(v){switch(v.type){case "sizeInfo":var g=this.getSize(f,{sizeInfo:v});break;case "colorInfo":g=this.getColor(f,{colorInfo:v});break;case "opacityInfo":g=
this.getOpacity(f,{opacityInfo:v});break;case "rotationInfo":g=this.getRotationAngle(f,{rotationInfo:v})}return{variable:v,value:g}},this));return u},getFieldsUsedInExpressions:function(){var f=[];a.forEach(this._getCacheObjects(),function(k){k.syntaxTree&&(f=f.concat(c.extractFieldNames(k.syntaxTree)))});f.sort();return a.filter(f,function(k,u){return 0===u||f[u-1]!==k})},hasGeometryOperations:function(){return a.some(this._getCacheObjects(),function(f){return f.syntaxTree?c.hasGeometryOperations(f.syntaxTree):
!1})},initializeArcadeEngine:function(){var f=[];a.forEach(this._getCacheObjects(),function(k){k.syntaxTree&&f.push(k.syntaxTree)});return b.initialize(f)},hasVisualVariables:function(f,k){return f?!!this.getVisualVariablesForType(f,k):!!(this.getVisualVariablesForType("sizeInfo",k)||this.getVisualVariablesForType("colorInfo",k)||this.getVisualVariablesForType("opacityInfo",k)||this.getVisualVariablesForType("rotationInfo",k))},getVisualVariablesForType:function(f,k){var u=this.visualVariables;if(!k&&
this[f]){"rotationInfo"===f&&(this[f].rotationType=this[f].type);var v=[this[f]]}else u&&(v=a.filter(u,function(g){return g.type===f&&("string"===typeof k?g.target===k:!1===k?!g.target:!0)}))&&0===v.length&&(v=void 0);return v},setSizeInfo:function(f){this.sizeInfo=this.proportionalSymbolInfo=f;this._cache.sizeInfo=this._processSizeInfo(f);return this},_processSizeInfo:function(f){return f&&{root:this._createCache(f),minSize:this._createCache(f.minSize),maxSize:this._createCache(f.maxSize)}},_convertExpressionToArcade:function(f){f&&
f.expression&&(f.valueExpression="$view.scale")},_getVarInfo:function(f,k){if(f&&f.type===k){var u=a.indexOf(this.visualVariables,f);f=this.visualVariables[u]}else u=k,f=this[k];return{variable:f,cacheKey:u}},setProportionalSymbolInfo:function(f){this.setSizeInfo(f);return this},getSize:function(f,k){var u=this._getVarInfo(k&&k.sizeInfo,"sizeInfo"),v=u.variable;u=this._cache[u.cacheKey];var g=null;if(v){var q=v.minSize;g=v.maxSize;q="object"===typeof q&&q?this._getSize(f,q,u&&u.minSize,k):q;g="object"===
typeof g&&g?this._getSize(f,g,u&&u.maxSize,k):g;g=this._getSize(f,v,u&&u.root,k,[q,g])}return g},_getSize:function(f,k,u,v,g){var q=k.stops,x=0,w=u&&u.hasExpr,B=u&&u.ipData,z=u&&u.isScaleDriven,C="object"===typeof f&&!!f,y="number"===typeof f?f:null;if(k.field||z||w){var D=v&&v.scale;w=g?g[0]:k.minSize;g=g?g[1]:k.maxSize;var F=k.minDataValue,H=k.maxDataValue,E=k.valueUnit||"unknown",I=k.valueRepresentation,J=k.scaleBy,K=v&&v.shape;z?y=D:"number"!==typeof y&&C&&(y=this._getDataValue(f,k,null,u));if(!this._isValidNumber(y))return null;
if(q)w=this._lookupData(y,B),y=w[0],g=w[1],y===g?x=q[y].size:(y=q[y].size,q=q[g].size,x=y+(q-y)*w[2]);else if(null!=w&&null!=g&&null!=F&&null!=H)y<=F?x=w:y>=H?x=g:(q=(y-F)/(H-F),"area"===J&&K?(w=(y="circle"===K)?e*Math.pow(w/2,2):w*w,q=w+q*((y?e*Math.pow(g/2,2):g*g)-w),x=y?2*Math.sqrt(q/e):Math.sqrt(q)):x=w+q*(g-w));else if("unknown"===E)null!=w&&null!=F&&(w&&F?(q=y/F,x="circle"===K?2*Math.sqrt(q*Math.pow(w/2,2)):"square"===K||"diamond"===K||"image"===K?Math.sqrt(q*Math.pow(w,2)):q*w):x=y+(w||F),
x=x<w?w:x,null!=g&&x>g&&(x=g));else{q=(v&&v.resolution?v.resolution:1)*this._meterIn[E];if("area"===I)x=Math.sqrt(y/e)/q,x*=2;else if(x=y/q,"radius"===I||"distance"===I)x*=2;null!=w&&x<w&&(x=w);null!=g&&x>g&&(x=g)}}else x=q&&q[0]&&q[0].size,null==x&&(x=k.minSize);return x=isNaN(x)?0:x},getSizeRangeAtScale:function(f,k){f=this._getVarInfo(f,"sizeInfo");var u=this._cache[f.cacheKey],v={scale:k};if((f=f.variable)&&k){var g=f.minSize;k=f.maxSize;var q=f.stops;q&&q.length?(f=q[0].size,u=q[q.length-1].size):
(f="object"===typeof g&&g?this._getSize({},g,u&&u.minSize,v):g,u="object"===typeof k&&k?this._getSize({},k,u&&u.maxSize,v):k);if(null!=f||null!=u){if(f>u){var x=u;u=f;f=x}x={minSize:f,maxSize:u}}}return x},setColorInfo:function(f){this.colorInfo=f;this._cache.colorInfo=this._processColorInfo(f);return this},_createCache:function(f,k){if(k=h.createAttributeCache(f,k))k.ipData=this._interpolateData(f);return k},_getCacheObjects:function(f){var k;f=f||this._cache;var u=[];for(k in f){var v=f[k];f.hasOwnProperty(k)&&
v&&"object"===typeof v&&(v.hasOwnProperty("idSource")?u.push(v):u=u.concat(this._getCacheObjects(v)))}return u},_processColorInfo:function(f){f&&(a.forEach(f.colors,function(k,u){A.isArray(k)&&(f.colors[u]=new n(k))}),a.forEach(f.stops,function(k,u){k.color&&A.isArray(k.color)&&(f.stops[u].color=new n(k.color))}));return this._createCache(f)},getColor:function(f,k){k=this._getVarInfo(k&&k.colorInfo,"colorInfo");return this._getColorComponent(f,k.variable,this._cache[k.cacheKey])},setOpacityInfo:function(f){this.opacityInfo=
f;this._cache.opacityInfo=this._processOpacityInfo(f);return this},_processOpacityInfo:function(f){return this._createCache(f)},getOpacity:function(f,k){k=this._getVarInfo(k&&k.opacityInfo,"opacityInfo");return this._getColorComponent(f,k.variable,this._cache[k.cacheKey],!0)},_getColorComponent:function(f,k,u,v,g){var q="number"===typeof f?f:null,x=u&&u.hasExpr,w=u&&u.ipData,B;k&&k.field||x?("number"!==typeof q&&"object"===typeof f&&f&&(q=this._getDataValue(f,k,null,u)),this._isValidNumber(q)||(q=
null),null!=q&&(B=v?this._getOpacity(q,k,w):this._getColor(q,k,w))):k&&(f=k.stops,v?(B=f&&f[0]&&f[0].opacity,null==B&&(B=k.opacityValues&&k.opacityValues[0])):B=f&&f[0]&&f[0].color||k.colors&&k.colors[0]);g&&(g.data=q,g.value=B);return g||B},_isValidNumber:function(f){return"number"===typeof f&&!isNaN(f)&&Infinity!==f&&-Infinity!==f},_interpolateData:function(f){if(f)if(f.colors||f.opacityValues){var k=(f.colors||f.opacityValues).length,u=f.minDataValue,v=(f.maxDataValue-u)/(k-1);var g=[];for(f=0;f<
k;f++)g[f]=u+f*v}else f.stops&&(g=a.map(f.stops,function(q){return q.value}));return g},_getOpacity:function(f,k,u){f=this._lookupData(f,u);k=k||this.opacityInfo;if(f){u=f[0];var v=f[1];u===v?v=this._getOpacValue(k,u):(u=this._getOpacValue(k,u),k=this._getOpacValue(k,v),v=u+(k-u)*f[2])}return v},_getOpacValue:function(f,k){return f.opacityValues?f.opacityValues[k]:f.stops[k].opacity},_getColor:function(f,k,u){f=this._lookupData(f,u);k=k||this.colorInfo;if(f){var v=f[0];u=f[1];v=v===u?this._getColorObj(k,
v):n.blendColors(this._getColorObj(k,v),this._getColorObj(k,u),f[2])}return v},_getColorObj:function(f,k){return f.colors?f.colors[k]:f.stops[k].color},_lookupData:function(f,k){if(k){var u=0,v=k.length-1;a.some(k,function(q,x){if(f<q)return v=x,!0;u=x;return!1});var g=[u,v,(f-k[u])/(k[v]-k[u])]}return g},_meterIn:{inches:1/.0254,feet:1/.3048,yards:1/.9144,miles:1/1609.344,"nautical-miles":1/1852,millimeters:1E3,centimeters:100,decimeters:10,meters:1,kilometers:.001,"decimal-degrees":180/20015077},
_writeSizeInfo:function(f){if(f){f=A.mixin({},f);this._convertExpressionToArcade(f);var k=f.minSize,u=f.maxSize;k&&(f.minSize="number"===typeof k?p.px2pt(k):this._writeSizeInfo(k));u&&(f.maxSize="number"===typeof u?p.px2pt(u):this._writeSizeInfo(u));if(k=f.legendOptions)if(f.legendOptions=A.mixin({},k),k=k.customValues)f.legendOptions.customValues=k.slice(0);f.stops&&(f.stops=a.map(f.stops,function(v){v=A.mixin({},v);v.size&&"number"===typeof v.size&&(v.size=p.px2pt(v.size));return v}))}return f},
_writeColorInfo:function(f){f&&(f=A.mixin({},f),f.colors&&(f.colors=a.map(f.colors,function(k){return n.toJsonColor(k)})),f.stops&&(f.stops=a.map(f.stops,function(k){k=A.mixin({},k);k.color&&(k.color=n.toJsonColor(k.color));return k})),f.legendOptions&&(f.legendOptions=A.mixin({},f.legendOptions)));return f},_writeOpacityInfo:function(f){if(f){var k=A.mixin({},f);k.opacityValues&&(k.transparencyValues=a.map(k.opacityValues,function(u){return 100*(1-u)}),delete k.opacityValues);k.stops&&(k.stops=a.map(k.stops,
function(u){u=A.mixin({},u);u.transparency=100*(1-u.opacity);delete u.opacity;return u}));k.legendOptions&&(k.legendOptions=A.mixin({},k.legendOptions))}return k},toJson:function(f){var k=this.visualVariables,u=A.clone(this.authoringInfo),v=f&&f.useLegacyRotationProperties,g=(f=(f=this.getVisualVariablesForType("rotationInfo",!1))&&f[0])&&f.field,q;f&&(f===this.rotationInfo||v)&&(q=f.expression||g&&(A.isFunction(g)?g:"["+g+"]"));k&&(k=a.map(k,function(x){"sizeInfo"===x.type?x=this._writeSizeInfo(x):
"colorInfo"===x.type?x=this._writeColorInfo(x):"opacityInfo"===x.type?(x=this._writeOpacityInfo(x),x.type="transparencyInfo"):"rotationInfo"===x.type&&(x=v?null:A.mixin({},x));return x},this),k=a.filter(k,function(x){return null!=x}));u&&a.forEach(u.visualVariables,function(x){"opacityInfo"===x.type&&(x.type="transparencyInfo")});return{rotationType:q&&(this._getRotationType(f)||"geographic"),rotationExpression:q,colorInfo:this._writeColorInfo(this.colorInfo),transparencyInfo:this._writeOpacityInfo(this.opacityInfo),
sizeInfo:this._writeSizeInfo(this.sizeInfo),visualVariables:k,authoringInfo:u}}});m("extend-esri")&&A.setObject("renderer.Renderer",G,t);return G})},"esri/layers/support/attributeUtils":function(){define("dojo/_base/lang dojo/has dojox/encoding/digests/_base dojox/encoding/digests/MD5 ../../kernel ../../support/expressionUtils".split(" "),function(G,A,a,m,p,t){var n={viewScaleRE:/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,getAttributeId:function(h){return"string"===typeof h?m(h,a.outputTypes.Hex):
null},getAttributeIdSource:function(h){if(!h)return null;var c=h.field,b=h.valueExpression,e=null;if(b)e=b;else if(G.isFunction(c))e=c.toString();else if(c){var f=(b=h.normalizationField)?"field":h.normalizationType;h=parseFloat(h.normalizationTotal);f&&(f=f.toLowerCase(),e=c.toLowerCase()+",norm:"+f,b?e+=","+b.toLowerCase():"percent-of-total"===f&&(c=h,"number"===typeof c&&!isNaN(c)&&Infinity!==c&&-Infinity!==c&&0!==h||(h=null),e+=","+h))}return e},createAttributeCache:function(h,c){if(!h)return null;
var b=h.valueExpression,e=t.createSyntaxTree(b),f=n.getAttributeIdSource(h);return{attributeInfo:h,isNumeric:!c,idSource:f,id:n.getAttributeId(f),hasExpr:!!b,compiledFunc:t.createFunction(e),syntaxTree:e,isScaleDriven:!!h.expression||n.viewScaleRE.test(b),dependsOnView:e?t.dependsOnView(e):!1,dependsOnGeometry:e?t.hasGeometryOperations(e):!1,isJSFunc:G.isFunction(h.field)}}};A("extend-esri")&&G.setObject("layers.support.attributeUtils",n,p);return n})},"dojox/encoding/digests/_base":function(){define(["dojo/_base/lang"],
function(G){G=G.getObject("dojox.encoding.digests",!0);G.outputTypes={Base64:0,Hex:1,String:2,Raw:3};G.addWords=function(A,a){var m=(A&65535)+(a&65535);return(A>>16)+(a>>16)+(m>>16)<<16|m&65535};G.stringToWord=function(A){for(var a=[],m=0,p=8*A.length;m<p;m+=8)a[m>>5]|=(A.charCodeAt(m/8)&255)<<m%32;return a};G.wordToString=function(A){for(var a=[],m=0,p=32*A.length;m<p;m+=8)a.push(String.fromCharCode(A[m>>5]>>>m%32&255));return a.join("")};G.wordToHex=function(A){for(var a=[],m=0,p=4*A.length;m<p;m++)a.push("0123456789abcdef".charAt(A[m>>
2]>>m%4*8+4&15)+"0123456789abcdef".charAt(A[m>>2]>>m%4*8&15));return a.join("")};G.wordToBase64=function(A){for(var a=[],m=0,p=4*A.length;m<p;m+=3)for(var t=(A[m>>2]>>m%4*8&255)<<16|(A[m+1>>2]>>(m+1)%4*8&255)<<8|A[m+2>>2]>>(m+2)%4*8&255,n=0;4>n;n++)8*m+6*n>32*A.length?a.push("\x3d"):a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>6*(3-n)&63));return a.join("")};G.stringToUtf8=function(A){for(var a="",m=-1,p,t;++m<A.length;)p=A.charCodeAt(m),t=m+1<A.length?A.charCodeAt(m+
1):0,55296<=p&&56319>=p&&56320<=t&&57343>=t&&(p=65536+((p&1023)<<10)+(t&1023),m++),127>=p?a+=String.fromCharCode(p):2047>=p?a+=String.fromCharCode(192|p>>>6&31,128|p&63):65535>=p?a+=String.fromCharCode(224|p>>>12&15,128|p>>>6&63,128|p&63):2097151>=p&&(a+=String.fromCharCode(240|p>>>18&7,128|p>>>12&63,128|p>>>6&63,128|p&63));return a};return G})},"dojox/encoding/digests/MD5":function(){define(["./_base"],function(G){function A(h,c){return h<<c|h>>>32-c}function a(h,c,b,e,f,k){return G.addWords(A(G.addWords(G.addWords(c,
h),G.addWords(e,k)),f),b)}function m(h,c,b,e,f,k,u){return a(c&b|~c&e,h,c,f,k,u)}function p(h,c,b,e,f,k,u){return a(c&e|b&~e,h,c,f,k,u)}function t(h,c,b,e,f,k,u){return a(b^(c|~e),h,c,f,k,u)}function n(h,c){h[c>>5]|=128<<c%32;h[(c+64>>>9<<4)+14]=c;c=1732584193;for(var b=-271733879,e=-1732584194,f=271733878,k=0;k<h.length;k+=16){var u=c,v=b,g=e,q=f;c=m(c,b,e,f,h[k+0],7,-680876936);f=m(f,c,b,e,h[k+1],12,-389564586);e=m(e,f,c,b,h[k+2],17,606105819);b=m(b,e,f,c,h[k+3],22,-1044525330);c=m(c,b,e,f,h[k+
4],7,-176418897);f=m(f,c,b,e,h[k+5],12,1200080426);e=m(e,f,c,b,h[k+6],17,-1473231341);b=m(b,e,f,c,h[k+7],22,-45705983);c=m(c,b,e,f,h[k+8],7,1770035416);f=m(f,c,b,e,h[k+9],12,-1958414417);e=m(e,f,c,b,h[k+10],17,-42063);b=m(b,e,f,c,h[k+11],22,-1990404162);c=m(c,b,e,f,h[k+12],7,1804603682);f=m(f,c,b,e,h[k+13],12,-40341101);e=m(e,f,c,b,h[k+14],17,-1502002290);b=m(b,e,f,c,h[k+15],22,1236535329);c=p(c,b,e,f,h[k+1],5,-165796510);f=p(f,c,b,e,h[k+6],9,-1069501632);e=p(e,f,c,b,h[k+11],14,643717713);b=p(b,e,
f,c,h[k+0],20,-373897302);c=p(c,b,e,f,h[k+5],5,-701558691);f=p(f,c,b,e,h[k+10],9,38016083);e=p(e,f,c,b,h[k+15],14,-660478335);b=p(b,e,f,c,h[k+4],20,-405537848);c=p(c,b,e,f,h[k+9],5,568446438);f=p(f,c,b,e,h[k+14],9,-1019803690);e=p(e,f,c,b,h[k+3],14,-187363961);b=p(b,e,f,c,h[k+8],20,1163531501);c=p(c,b,e,f,h[k+13],5,-1444681467);f=p(f,c,b,e,h[k+2],9,-51403784);e=p(e,f,c,b,h[k+7],14,1735328473);b=p(b,e,f,c,h[k+12],20,-1926607734);c=a(b^e^f,c,b,h[k+5],4,-378558);f=a(c^b^e,f,c,h[k+8],11,-2022574463);
e=a(f^c^b,e,f,h[k+11],16,1839030562);b=a(e^f^c,b,e,h[k+14],23,-35309556);c=a(b^e^f,c,b,h[k+1],4,-1530992060);f=a(c^b^e,f,c,h[k+4],11,1272893353);e=a(f^c^b,e,f,h[k+7],16,-155497632);b=a(e^f^c,b,e,h[k+10],23,-1094730640);c=a(b^e^f,c,b,h[k+13],4,681279174);f=a(c^b^e,f,c,h[k+0],11,-358537222);e=a(f^c^b,e,f,h[k+3],16,-722521979);b=a(e^f^c,b,e,h[k+6],23,76029189);c=a(b^e^f,c,b,h[k+9],4,-640364487);f=a(c^b^e,f,c,h[k+12],11,-421815835);e=a(f^c^b,e,f,h[k+15],16,530742520);b=a(e^f^c,b,e,h[k+2],23,-995338651);
c=t(c,b,e,f,h[k+0],6,-198630844);f=t(f,c,b,e,h[k+7],10,1126891415);e=t(e,f,c,b,h[k+14],15,-1416354905);b=t(b,e,f,c,h[k+5],21,-57434055);c=t(c,b,e,f,h[k+12],6,1700485571);f=t(f,c,b,e,h[k+3],10,-1894986606);e=t(e,f,c,b,h[k+10],15,-1051523);b=t(b,e,f,c,h[k+1],21,-2054922799);c=t(c,b,e,f,h[k+8],6,1873313359);f=t(f,c,b,e,h[k+15],10,-30611744);e=t(e,f,c,b,h[k+6],15,-1560198380);b=t(b,e,f,c,h[k+13],21,1309151649);c=t(c,b,e,f,h[k+4],6,-145523070);f=t(f,c,b,e,h[k+11],10,-1120210379);e=t(e,f,c,b,h[k+2],15,
718787259);b=t(b,e,f,c,h[k+9],21,-343485551);c=G.addWords(c,u);b=G.addWords(b,v);e=G.addWords(e,g);f=G.addWords(f,q)}return[c,b,e,f]}G.MD5=function(h,c){c=c||G.outputTypes.Base64;h=n(G.stringToWord(h),8*h.length);switch(c){case G.outputTypes.Raw:return h;case G.outputTypes.Hex:return G.wordToHex(h);case G.outputTypes.String:return G.wordToString(h);default:return G.wordToBase64(h)}};G.MD5._hmac=function(h,c,b){b=b||G.outputTypes.Base64;var e=G.stringToWord(c);16<e.length&&(e=n(e,8*c.length));var f=
[];c=[];for(var k=0;16>k;k++)f[k]=e[k]^909522486,c[k]=e[k]^1549556828;h=n(f.concat(G.stringToWord(h)),512+8*h.length);h=n(c.concat(h),640);switch(b){case G.outputTypes.Raw:return h;case G.outputTypes.Hex:return G.wordToHex(h);case G.outputTypes.String:return G.wordToString(h);default:return G.wordToBase64(h)}};return G.MD5})},"esri/arcadeProfiles/visualizationProfile":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../promiseList ../support/expressionUtils ./utils".split(" "),
function(G,A,a,m,p,t,n){G=new (G(null,{declaredClass:"esri.arcadeProfiles.VisualizationProfile",initialize:function(h){var c=[];n.hasGeometryOperations(h)&&c.push(t.enableGeometryOperations());return p(c)}}));a("extend-esri")&&A.setObject("arcadeProfiles.visualizationProfile",G,m);return G})},"esri/arcadeProfiles/utils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has","../kernel","../support/expressionUtils"],function(G,A,a,m,p){var t=/(\/(MapServer|FeatureServer)).*/ig,n={hasGeometryOperations:function(h){return A.some(h,
function(c){return c.hasGeometryOperations?c.hasGeometryOperations():p.hasGeometryOperations(c)})},hasFeatureSetOperations:function(h){return A.some(h,function(c){return c.hasFeatureSetOperations?c.hasFeatureSetOperations():p.hasFeatureSetOperations(c)})},hasVariables:function(h,c){return A.some(h,function(b){return A.some(c,function(e){return b.hasVariable?b.hasVariable(e):p.hasVariable(b,e)})})},isAsync:function(h){return A.some(h,function(c){return c.async})},getServiceUrl:function(h){return t.test(h)?
h.replace(t,"$1"):null}};a("extend-esri")&&G.setObject("arcadeProfiles.utils",n,m);return n})},"esri/renderers/UniqueValueRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ../support/expressionUtils".split(" "),function(G,A,a,m,p,t,n,h,c){G=G(h,{declaredClass:"esri.renderer.UniqueValueRenderer",constructor:function(b,e,f,k,u,v){this.values=[];this._symbols={};this.infos=[];b&&!b.declaredClass?(e=b,f=v&&v.geometryType,
this.defaultSymbol=(b=e.defaultSymbol)&&(b.declaredClass?b:n.fromJson(b,v)),this.attributeField=e.field1,this.attributeField2=e.field2,this.attributeField3=e.field3,this.fieldDelimiter=e.fieldDelimiter,this.defaultLabel=e.defaultLabel,this.setValueExpression(e.valueExpression),this.valueExpressionTitle=e.valueExpressionTitle,this.legendOptions=e.legendOptions,e.backgroundFillSymbol&&(this.backgroundFillSymbol=n.fromJson(e.backgroundFillSymbol,f?{geometryType:"esriGeometryPolygon"}:null)),"esriGeometryPolygon"===
f&&this.hasVisualVariables("sizeInfo",!1)&&(v={geometryType:"esriGeometryPoint"}),A.forEach(e.uniqueValueInfos,function(g){this._addValueInfo(g,v)},this)):(this.defaultSymbol=b,this.attributeField=e,this.attributeField2=f,this.attributeField3=k,this.fieldDelimiter=u);this._multiple=!!this.attributeField2},addValue:function(b,e){b=a.isObject(b)?b:{value:b,symbol:e};this._addValueInfo(b)},removeValue:function(b){var e=A.indexOf(this.values,b);-1!==e&&(this.values.splice(e,1),this._hasNullKeyword=this._evalNullKeyword(this.values),
delete this._symbols[b],this.infos.splice(e,1))},getUniqueValueInfo:function(b){var e=this.attributeField,f=b.attributes;if(this.valueExpression)e=this._getDataValue(b,this._uvInfo,null,this._cache.uvInfo),e=this._normalizeNullValue(e);else if(this._multiple){b=this.attributeField2;var k=this.attributeField3,u=[];e&&u.push(this._normalizeNullValue(f[e]));b&&u.push(this._normalizeNullValue(f[b]));k&&u.push(this._normalizeNullValue(f[k]));e=u.join(this.fieldDelimiter||"")}else e=a.isFunction(e)?e(b):
f[e],e=this._normalizeNullValue(e);return this._symbols[e]},setValueExpression:function(b){this.valueExpression=b;this._uvInfo={valueExpression:b};this._cache.uvInfo=this._createCache(this._uvInfo,!0)},getFieldsUsedInExpressions:function(){var b=this.inherited(arguments);this.valueExpression&&(b=b.concat(c.extractFieldNames(this.valueExpression)));b.sort();return A.filter(b,function(e,f){return 0===f||b[f-1]!==e})},getSymbol:function(b){return(b=this.getUniqueValueInfo(b))&&b.symbol||this.defaultSymbol},
_addValueInfo:function(b,e){var f=b.value;this.values.push(f);this._hasNullKeyword=this._evalNullKeyword(this.values);this.infos.push(b);var k=b.symbol;k&&!k.declaredClass&&(b.symbol=n.fromJson(k,e));this._symbols[f]=b},_nullCode:"\x3cNull\x3e",_normalizeNullValue:function(b){return this._hasNullKeyword&&null==b?this._nullCode:b},_evalNullKeyword:function(b){var e=this.fieldDelimiter||"",f=new RegExp("(^|"+e+")("+this._nullCode+")("+e+"|$)");return A.some(b,function(k){return f.test(k)})},toJson:function(){var b=
t.fixJson;var e={type:"uniqueValue",field1:this.attributeField,field2:this.attributeField2,field3:this.attributeField3,fieldDelimiter:this.fieldDelimiter,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:a.clone(this.legendOptions),defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),defaultLabel:this.defaultLabel,uniqueValueInfos:A.map(this.infos||[],function(f){f=a.mixin({},f);f.symbol=f.symbol&&f.symbol.toJson();f.value+="";return b(f)})};
this.backgroundFillSymbol&&(e.backgroundFillSymbol=this.backgroundFillSymbol.toJson());e=a.mixin(this.inherited(arguments),e);return b(e)}});m("extend-esri")&&a.setObject("renderer.UniqueValueRenderer",G,p);return G})},"esri/renderers/jsonUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../Color ../symbols/jsonUtils ./SimpleRenderer ./UniqueValueRenderer ./ClassBreaksRenderer ./VectorFieldRenderer ./DotDensityRenderer ./ScaleDependentRenderer ./TimeClassBreaksAger ./TimeRampAger ./TemporalRenderer ./HeatmapRenderer ./StretchRenderer ./ShadedReliefRenderer ./ColormapRenderer".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B){var z={createDefaultRenderer:function(C){C=n.createDefaultSymbol(C);return new h(C)},fromJson:function(C,y){switch(C.type||""){case "simple":C=new h(C,y);break;case "uniqueValue":C=new c(C,null,null,null,null,y);break;case "classBreaks":C=new b(C,null,y);break;case "vectorField":C=new e(C);break;case "scaleDependent":C=this._scaleDependentFromJson(C);break;case "dotDensity":C=C.attributes?z.createDefaultRenderer("esriGeometryPolygon"):this._dotDensityFromJson(C);
break;case "temporal":C=this._temporalFromJson(C,y);break;case "heatmap":C=this._heatmapFromJson(C);break;case "rasterStretch":C=new x(C);break;case "rasterShadedRelief":C=new w(C);break;case "rasterColormap":C=new B(C);break;default:C=(C=y&&y.geometryType)?z.createDefaultRenderer(C):null}return C},_scaleDependentFromJson:function(C){var y={},D=C.minScale;y.rendererInfos=G.map(C.rendererInfos,function(F){var H=F.maxScale;F={minScale:D,maxScale:H,renderer:F.renderer&&this.fromJson(F.renderer)};D=H;
return F},this);return new k(y)},_dotDensityFromJson:function(C){C.backgroundColor&&A.isArray(C.backgroundColor)&&(C.backgroundColor=t.toDojoColor(C.backgroundColor));0<C.dotSize&&(C.dotSize=m.pt2px(C.dotSize));C.fields&&G.forEach(C.fields,function(y){y&&A.isArray(y.color)&&(y.color=t.toDojoColor(y.color))});C.legendOptions&&(C.legendOptions.backgroundColor&&A.isArray(C.legendOptions.backgroundColor)&&(C.legendOptions.backgroundColor=t.toDojoColor(C.legendOptions.backgroundColor)),C.legendOptions.outline&&
(C.legendOptions.outline=n.fromJson(C.legendOptions.outline)));C.outline&&(C.outline=n.fromJson(C.outline));return new f(C)},_temporalFromJson:function(C,y){var D=y&&y.geometryType;C=C||{};var F=this.fromJson(C.observationRenderer,y);y=C.latestObservationRenderer?this.fromJson(C.latestObservationRenderer,y):null;D=C.trackRenderer?this.fromJson(C.trackRenderer,D?{geometryType:"esriGeometryPolyline"}:null):null;C=this._agerFromJson(C.observationAger);return new g(F,y,D,C)},_agerFromJson:function(C){var y;
C=C||{};C.colorRange||C.sizeRange||C.alphaRange?y=this._timeRampFromJson(C):C.agerClassBreakInfos&&(y=this._timeClassBreaksFromJson(C));return y},_timeRampFromJson:function(C){var y,D,F;C.colorRange&&1<C.colorRange.length&&(y=[t.toDojoColor(C.colorRange[0]),t.toDojoColor(C.colorRange[1])]);C.sizeRange&&1<C.sizeRange.length&&(D=[C.sizeRange[0],C.sizeRange[1]]);C.alphaRange&&1<C.alphaRange.length&&(F=[C.alphaRange[0]/255,C.alphaRange[1]/255]);return new v(y,D,F)},_timeClassBreaksFromJson:function(C){var y=
C.agerClassBreakInfos,D=[],F;var H=u.UNIT_DAYS;switch(C.timeUnits){case "esriTimeUnitsSeconds":H=u.UNIT_SECONDS;break;case "esriTimeUnitsMilliseconds":H=u.UNIT_MILLISECONDS;break;case "esriTimeUnitsHours":H=u.UNIT_HOURS;break;case "esriTimeUnitsMinutes":H=u.UNIT_MINUTES;break;case "esriTimeUnitsMonths":H=u.UNIT_MONTHS;break;case "esriTimeUnitsWeeks":H=u.UNIT_WEEKS;break;case "esriTimeUnitsYears":H=u.UNIT_YEARS}for(F=0;F<y.length;F+=1){C=y[F];var E={minAge:0,maxAge:C.oldestAge||Infinity};C.color&&
(E.color=t.toDojoColor(C.color));C.alpha&&(E.alpha=C.alpha/255);E.size=C.size;D[F]=E}return new u(D,H)},_heatmapFromJson:function(C){var y=C.colorStops;y&&y instanceof Array&&G.forEach(y,function(D){D.color=t.toDojoColor(D.color)});return new q(C)}};a("extend-esri")&&A.mixin(A.getObject("renderer",!0,p),z);return z})},"esri/renderers/ClassBreaksRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ../support/expressionUtils".split(" "),
function(G,A,a,m,p,t,n,h,c){G=G(h,{declaredClass:"esri.renderer.ClassBreaksRenderer",constructor:function(b,e,f){this.breaks=[];this._symbols={};this.infos=[];this.isMaxInclusive=!0;if(b&&!b.declaredClass){var k=b;e=f&&f.geometryType;this.attributeField=k.field;this.setValueExpression(k.valueExpression);this.valueExpressionTitle=k.valueExpressionTitle;this.legendOptions=k.legendOptions;this.defaultSymbol=(b=k.defaultSymbol)&&(b.declaredClass?b:n.fromJson(b,f));this.backgroundFillSymbol=(b=k.backgroundFillSymbol)&&
(b.declaredClass?b:n.fromJson(b,e?{geometryType:"esriGeometryPolygon"}:null));this._copy(["defaultLabel","classificationMethod:rest","normalizationType:rest","normalizationField","normalizationTotal"],k,this);var u=k.minValue;(b=k.classBreakInfos)&&b[0]&&t.isDefined(b[0].classMaxValue)&&A.forEach(b,function(v){var g=v.classMaxValue;v.minValue=u;u=v.maxValue=g},this);"esriGeometryPolygon"===e&&(this.hasVisualVariables("sizeInfo",!1)||n.isPointSymbol(n.getFirstSupportedSymbol(A.map(b,function(v){return v.symbol}))))&&
(f={geometryType:"esriGeometryPoint"});A.forEach(b,function(v){this._addBreakInfo(v,f)},this)}else this.defaultSymbol=b,this.attributeField=e},addBreak:function(b,e,f){b=a.isObject(b)?b:{minValue:b,maxValue:e,symbol:f};this._addBreakInfo(b)},removeBreak:function(b,e){var f=this.breaks,k,u=f.length,v=this._symbols;for(k=0;k<u;k++){var g=f[k];if(g[0]==b&&g[1]==e){f.splice(k,1);delete v[b+"-"+e];this.infos.splice(k,1);break}}},clearBreaks:function(){this.breaks=[];this._symbols={};this.infos=[]},getBreakIndex:function(b){var e=
this.attributeField,f=b.attributes,k=this.breaks,u=k.length,v=this.isMaxInclusive;if(this.valueExpression)b=this._getDataValue(b,this._cbInfo,null,this._cache.cbInfo);else if(a.isFunction(e))b=e(b);else if(b=parseFloat(f[e]),e=this.normalizationType,e){var g=parseFloat(this.normalizationTotal);f=parseFloat(f[this.normalizationField]);if("log"===e)b=Math.log(b)*Math.LOG10E;else if("percent-of-total"===e&&!isNaN(g))b=b/g*100;else if("field"===e){if(isNaN(b)||isNaN(f))return-1;b/=f}}if(null!=b&&!isNaN(b)&&
"number"===typeof b)for(f=0;f<u;f++)if(e=k[f],e[0]<=b&&(v?b<=e[1]:b<e[1]))return f;return-1},getBreakInfo:function(b){b=this.getBreakIndex(b);return-1!==b?this.infos[b]:null},getSymbol:function(b){return(b=this.breaks[this.getBreakIndex(b)])?this._symbols[b[0]+"-"+b[1]]:this.defaultSymbol},setMaxInclusive:function(b){this.isMaxInclusive=b},setValueExpression:function(b){this.valueExpression=b;this._cbInfo={valueExpression:b};this._cache.cbInfo=this._createCache(this._cbInfo)},getFieldsUsedInExpressions:function(){var b=
this.inherited(arguments);this.valueExpression&&(b=b.concat(c.extractFieldNames(this.valueExpression)));b.sort();return A.filter(b,function(e,f){return 0===f||b[f-1]!==e})},isContinuousRenderer:function(){var b=!1;if(this.infos&&1===this.infos.length){var e=this.attributeField,f=this.normalizationField,k=this.valueExpression;b=this.getVisualVariablesForType("colorInfo",!1)||[];var u=this.getVisualVariablesForType("sizeInfo",!1)||[],v=this.getVisualVariablesForType("opacityInfo",!1)||[];b=b.concat(u).concat(v);
b=A.some(b,function(g){return(g.field===e||g.valueExpression===k)&&g.normalizationField==f})}return b},_normalizationTypeEnums:[["field","esriNormalizeByField"],["log","esriNormalizeByLog"],["percent-of-total","esriNormalizeByPercentOfTotal"]],_classificationMethodEnums:[["natural-breaks","esriClassifyNaturalBreaks"],["equal-interval","esriClassifyEqualInterval"],["quantile","esriClassifyQuantile"],["standard-deviation","esriClassifyStandardDeviation"],["geometrical-interval","esriClassifyGeometricalInterval"],
["defined-interval","esriClassifyDefinedInterval"]],_copy:function(b,e,f){A.forEach(b,function(k){var u=k.split(":");if(1<u.length){k=u[0];var v=this["_"+k+"Enums"];if("rest"===u[1]){var g="1";var q="0"}else"sdk"===u[1]&&(g="0",q="1")}u=e[k];if(void 0!==u&&(f[k]=u,v&&g)){var x,w=v.length;for(x=0;x<w;x++)if(v[x][g]===u){f[k]=v[x][q];break}}},this)},_addBreakInfo:function(b,e){var f=b.minValue,k=b.maxValue;this.breaks.push([f,k]);this.infos.push(b);var u=b.symbol;u&&!u.declaredClass&&(b.symbol=n.fromJson(u,
e));this._symbols[f+"-"+k]=b.symbol},toJson:function(){var b=this.infos||[],e=t.fixJson,f=b[0]&&b[0].minValue,k=this.backgroundFillSymbol;b=a.mixin(this.inherited(arguments),{type:"classBreaks",field:this.attributeField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:a.clone(this.legendOptions),defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),backgroundFillSymbol:k&&k.toJson(),minValue:-Infinity===f?-Number.MAX_VALUE:f,classBreakInfos:A.map(b,
function(u){u=a.mixin({},u);u.symbol=u.symbol&&u.symbol.toJson();u.classMaxValue=Infinity===u.maxValue?Number.MAX_VALUE:u.maxValue;delete u.minValue;delete u.maxValue;return e(u)})});this._copy(["defaultLabel","classificationMethod:sdk","normalizationType:sdk","normalizationField","normalizationTotal"],this,b);b.hasOwnProperty("normalizationType")&&!b.normalizationType&&delete b.normalizationType;b.hasOwnProperty("classificationMethod")&&!b.classificationMethod&&delete b.classificationMethod;return e(b)}});
m("extend-esri")&&a.setObject("renderer.ClassBreaksRenderer",G,p);return G})},"esri/renderers/VectorFieldRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/_base/array ../kernel ../lang ../Color ./Renderer ./ClassBreaksRenderer ../symbols/SimpleMarkerSymbol ../symbols/PictureMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/jsonUtils require".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u){var v=G(h,{declaredClass:"esri.renderer.VectorFieldRenderer",iconFolderPath:"../images/symbol/sfs/",
constructor:function(g){t.isDefined(g)||(g={});g.attributeField=g.attributeField||"Magnitude";g.rotationInfo=g.rotationInfo||this._getRotationInfo(g);G.safeMixin(this,g);this.setRotationInfo(this.rotationInfo);this.style=this.style||v.STYLE_SINGLE_ARROW;this.singleArrowSymbol&&(this.singleArrowSymbol=this.singleArrowSymbol.declaredClass?this.singleArrowSymbol:k.fromJson(this.singleArrowSymbol));this.renderer=new c(this._getDefaultSymbol(),g.attributeField);this._updateRenderer(this.style);this.flowRepresentation=
this.flowRepresentation||this.FLOW_FROM},getSymbol:function(g){return this.renderer&&this.renderer.getSymbol(g)},setVisualVariables:function(g){g=m.filter(g,function(q){if("sizeInfo"===q.type)return t.isDefined(this._updateSizeInfo(q))},this);this.inherited(arguments);return this},setSizeInfo:function(g){this._updateSizeInfo(g);this.inherited(arguments);return this},setProportionalSymbolInfo:function(g){this.setSizeInfo(g);return this},setColorInfo:function(g){return this},_updateRenderer:function(g){return t.isDefined(this.renderer)?
g===v.STYLE_SINGLE_ARROW?this._createSingleArrowRenderer():g===v.STYLE_BEAUFORT_KN?this._createBeaufortKnotsRenderer():g===v.STYLE_BEAUFORT_METER?this._createBeaufortMeterRenderer():g===v.STYLE_BEAUFORT_FEET?this._createBeaufortFeetRenderer():g===v.STYLE_BEAUFORT_MILE?this._createBeaufortMilesRenderer():g===v.STYLE_BEAUFORT_KM?this._createBeaufortKilometersRenderer():g===v.STYLE_OCEAN_CURRENT_M?this._createCurrentMeterRenderer():g===v.STYLE_OCEAN_CURRENT_KN?this._createCurrentKnotsRenderer():g===
v.STYLE_SCALAR?this._createSimpleScalarRenderer():g===v.STYLE_WIND_BARBS?this._createWindBarbsRenderer():this._createClassifiedArrowRenderer():Error("Invalid Renderer!")},_updateSizeInfo:function(g){return g&&t.isDefined(g.minSize)&&t.isDefined(g.maxSize)&&t.isDefined(g.minDataValue)&&t.isDefined(g.maxDataValue)?(this.style===v.STYLE_WIND_BARBS&&(g.minSize=g.maxSize),g.field=g.field||"Magnitude",g.type="sizeInfo",this.minDataValue=g.minDataValue,this.maxDataValue=g.maxDataValue,g):null},_createClassifiedArrowRenderer:function(){this.renderer.defaultSymbol=
this._getDefaultSymbol(new n([56,168,0]));var g=[0,1E-6,3.5,7,10.5,14];if(t.isDefined(this.minDataValue)&&t.isDefined(this.maxDataValue)){var q=(this.maxDataValue-this.minDataValue)/5;g=[];var x;var w=this.minDataValue;for(x=0;6>x;x++)g[x]=w,w+=q}this._addBreaks(g,[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]])},_createSingleArrowRenderer:function(){this.renderer.defaultSymbol=this.singleArrowSymbol||this._getDefaultSymbol()},_createBeaufortMeterRenderer:function(){this.renderer.defaultSymbol=
this._getDefaultSymbol(new n([214,47,39]));this._addBreaks([0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortKnotsRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new n([214,47,39]));this._addBreaks([0,1,3,6,10,16,21,27,33,40,47,55,63],[[40,146,199],[89,162,186],[129,179,171],[160,194,155],
[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]])},_createBeaufortFeetRenderer:function(){var g=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];m.forEach(g,function(q,x){g[x]*=3.28084});this.renderer.defaultSymbol=this._getDefaultSymbol(new n([214,47,39]));this._addBreaks(g,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,
21]])},_createBeaufortMilesRenderer:function(){var g=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];m.forEach(g,function(q,x){g[x]*=2.23694});this.renderer.defaultSymbol=this._getDefaultSymbol(new n([214,47,39]));this._addBreaks(g,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortKilometersRenderer:function(){var g=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,
28.6,32.7];m.forEach(g,function(q,x){g[x]*=3.6});this.renderer.defaultSymbol=this._getDefaultSymbol(new n([214,47,39]));this._addBreaks(g,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createCurrentMeterRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new n([177,177,177]));this._addBreaks([0,.5,1,1.5,2],[[78,26,153],[179,27,26],[202,128,26],[177,177,177]])},
_createCurrentKnotsRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new n([177,177,177]));this._addBreaks([0,.25,.5,1,1.5,2,2.5,3,3.5,4],[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]])},_createSimpleScalarRenderer:function(){this.renderer.defaultSymbol=new e({url:u.toUrl(this.iconFolderPath+"scalar.png"),height:20,width:20,type:"esriPMS",angle:0})},_createWindBarbsRenderer:function(){var g=[],q;for(q=0;150>=q;q+=5)g.push(q);
var x="M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20;M25 0 L25 40 M25 35 L17.5 37.5;M25 0 L25 40 L10 45 L25 40;M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35;M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L10 15;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L10 15 M25 10 M25 5 L17.5 7.5".split(";");
var w=new e({url:u.toUrl(this.iconFolderPath+"windbarb.png"),height:20,width:20,type:"esriPMS",angle:0});this.renderer.defaultSymbol=w;for(q=0;q<g.length-1;q++)0===q?this.renderer.addBreak({minValue:g[q],maxValue:g[q+1],symbol:w}):this.renderer.addBreak({minValue:g[q],maxValue:g[q+1],symbol:(new b).setPath(x[q]).setOutline((new f).setWidth(1.5)).setSize(20).setColor(new n([0,0,0,255]))})},_getDefaultSymbol:function(g){return(new b).setPath("M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z").setOutline((new f).setWidth(0)).setSize(20).setColor(g||
new n([0,92,230]))},_getRotationInfo:function(g){var q=g&&g.flowRepresentation||v.FLOW_FROM,x=g&&g.rotationField||"Direction",w=v.FLOW_FROM;return{field:function(B){B=B.attributes[x];return q===w?B:B+180},type:"geographic"}},_addBreaks:function(g,q){if(!t.isDefined(this.renderer))return Error("Invalid Renderer!");if(!(g&&q&&g.length&&q.length&&g.length>=q.length))return Error("AddBreaks: Input arguments break values and colors not valid");var x;for(x=0;x<q.length;x++)this.renderer.addBreak({minValue:g[x],
maxValue:g[x+1],symbol:this._getDefaultSymbol(new n(q[x]))})},toJson:function(){var g=A.mixin(this.inherited(arguments),{type:"vectorField",style:this.style,attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,inputUnit:this.inputUnit,outputUnit:this.outputUnit});this.renderer&&this.renderer.defaultSymbol&&this.style===v.STYLE_SINGLE_ARROW&&(g.singleArrowSymbol=this.renderer.defaultSymbol.toJson());return t.fixJson(g)}});A.mixin(v,{STYLE_WIND_BARBS:"wind_speed",STYLE_SINGLE_ARROW:"single_arrow",
STYLE_CLASSIFIED_ARROW:"classified_arrow",STYLE_BEAUFORT_KN:"beaufort_kn",STYLE_BEAUFORT_METER:"beaufort_m",STYLE_BEAUFORT_MILE:"beaufort_mi",STYLE_BEAUFORT_FEET:"beaufort_ft",STYLE_BEAUFORT_KM:"beaufort_km",STYLE_OCEAN_CURRENT_M:"ocean_current_m",STYLE_OCEAN_CURRENT_KN:"ocean_current_kn",STYLE_SCALAR:"simple_scalar"},{FLOW_FROM:"flow_from",FLOW_TO:"flow_to"});a("extend-esri")&&A.setObject("renderer.VectorFieldRenderer",v,p);return v})},"esri/renderers/DotDensityRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/has dojox/gfx/_base ../kernel ../lang ../Color ./Renderer ../symbols/PictureFillSymbol ../geometry/ScreenPoint ../geometry/Point".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k){G=G(b,{declaredClass:"esri.renderer.DotDensityRenderer",constructor:function(u){this.dotSize=u.dotSize||3;this.dotValue=u.dotValue;this.fields=u.fields;this.outline=u.outline;this.backgroundColor=u.backgroundColor;this.exactCount=u.exactCount||!0;this.dotShape=u.dotShape||"square";this.legendOptions=u.legendOptions;this._exactCountMinArea=1E4;this._currentMapScale=this._map=this._canvas=null;this._symbolMap={};this._currentGraphic=this._currentResolution=this._objectIdField=
null;this._supportsCanvas=window.CanvasRenderingContext2D?!0:!1;window.CanvasRenderingContext2D||console.log("The DotDensityRenderer requires a Canvas enabled Browser.  IE8 and less does not support Canvas.")},getSymbol:function(u){this._currentGraphic=u;if(!this._supportsCanvas)return null;this._map||(this._map=u.getLayer()._map,this._objectIdField=u.getLayer().objectIdField,this._currentMapScale=this._map.getScale(),this._currentResolution=this._map.extent.getWidth()/this._map.width,this._map.on("zoom-end",
A.hitch(this,function(q){this._currentMapScale=this._map.getScale();this._currentResolution=q.extent.getWidth()/this._map.width;this._symbolMap[this._currentMapScale]={}})));if(this._symbolMap[this._currentMapScale]&&this._symbolMap[this._currentMapScale][u.attributes[this._objectIdField]]){var v=this._symbolMap[this._currentMapScale][u.attributes[this._objectIdField]];var g=this._getShapeProperties(u);v.setOffset(g.dx,g.dy);return v}v=this._generateFieldsCount(this.fields,u.attributes,this.dotValue);
g=this._getShapeProperties(u);if(!g.width||!g.height)return null;v=new e(this._generateImageSrc(g.width,g.height,v,g.minXY,g.maxXY),this.outline,g.width,g.height);v.setOffset(g.dx,g.dy);this._symbolMap[this._currentMapScale]||(this._symbolMap[this._currentMapScale]={});return this._symbolMap[this._currentMapScale][u.attributes[this._objectIdField]]=v},_generateFieldsCount:function(u,v,g){var q;for(q=u.length-1;0<=q;q--){var x=v[u[q].name]/g;u[q].numPoints=Math.round(x)}return u},_getShapeProperties:function(u){var v=
u.geometry.getExtent();v.contains(this._map.extent)&&(v=this._map.extent);var g=Math.ceil(v.getWidth()/this._currentResolution);var q=Math.ceil(v.getHeight()/this._currentResolution);var x=this._map.toScreen(new k(v.xmin,v.ymin,v.spatialReference));v=this._map.toScreen(new k(v.xmax,v.ymax,v.spatialReference));u=u.getLayer().getNavigationTransform();return{minXY:x,maxXY:v,dx:(x.x-u.dx)%g,dy:(v.y-u.dy)%q,width:g,height:q}},_generateImageSrc:function(u,v,g,q,x,w){var B=this.dotSize,z;this._canvas?(this._canvas.width=
u,this._canvas.height=v):this._canvas=this._initCanvas(u,v);var C=this._canvas.getContext("2d");if(w=w||this.backgroundColor)C.fillStyle=w.toCss(!0),C.fillRect(0,0,u,v),C.fill();for(w=g.length-1;0<=w;w--)for(C.fillStyle=g[w].color.toCss(!0),z=g[w].numPoints-1;0<=z;z--){var y=this._getRandomPoint(u,v,q,x);"square"===this.dotShape?C.fillRect(y.x,y.y,B,B):"circle"===this.dotShape&&(C.beginPath(),C.arc(y.x,y.y,B/2,0,2*Math.PI,!0));C.fill()}return this._canvas.toDataURL()},_initCanvas:function(u,v){u=
m.create("canvas",{id:"canvas",width:u+"px",height:v+"px",style:"position: absolute; left: -10000px; top: 0px;"},null);document.body.appendChild(u);return u},_getRandomInt:function(u,v){return Math.floor(Math.random()*(v-u+1)+u)},_getRandomPoint:function(u,v,g,q){var x={},w=this.outline&&this.outline.width?this.outline.width:0;if(!0===this.exactCount&&u*v>this._exactCountMinArea){u=!1;do x.x=this._getRandomInt(g.x,q.x),x.y=this._getRandomInt(q.y,g.y),u=new f(x.x,x.y),u=this._checkPointShapeBounds(u,
this.dotSize+w,this._currentGraphic.geometry),!0===u&&(x.x-=g.x,x.y-=q.y);while(!1===u)}else x.x=this._getRandomInt(0,u),x.y=this._getRandomInt(0,v);return x},_checkPointShapeBounds:function(u,v,g){var q=null;q=!1;var x=!0,w=0;do{switch(w){case 1:u.x+=v;break;case 2:u.y+=v;break;case 3:u.x-=v}q=this._map.toMap(u);q=g.contains(q);!1===q&&(x=!1);w+=1}while(3>=w&&!0===x);return q},setDotSize:function(u){0<u&&(this.dotSize=u)},setDotValue:function(u){0<u&&(this.dotValue=u)},setOutline:function(u){this.outline=
u},setBackgroundColor:function(u){this.backgroundColor=u},toJson:function(){var u=A.mixin(this.inherited(arguments),{type:"dotDensity",backgroundColor:c.toJsonColor(this.backgroundColor),dotShape:this.dotShape,dotSize:0<this.dotSize?t.px2pt(this.dotSize):0,dotValue:this.dotValue,fields:a.map(this.fields,function(v){return h.fixJson({color:c.toJsonColor(v.color),name:v.name})}),legendOptions:this.legendOptions&&h.fixJson({backgroundColor:c.toJsonColor(this.legendOptions.backgroundColor),dotCoverage:this.legendOptions.dotCoverage,
outline:this.legendOptions.outline&&this.legendOptions.outline.toJson(),valueUnit:this.legendOptions.valueUnit}),outline:this.outline&&this.outline.toJson()});return h.fixJson(u)}});p("extend-esri")&&A.setObject("renderer.DotDensityRenderer",G,n);return G})},"esri/renderers/ScaleDependentRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ./Renderer".split(" "),function(G,A,a,m,p,t,n){G=G(n,{declaredClass:"esri.renderer.ScaleDependentRenderer",
constructor:function(h){this.setRendererInfos(h&&h.rendererInfos||[])},setRendererInfos:function(h){this.rendererInfos=h;this._setRangeType();return this},getSymbol:function(h){var c=this.getRendererInfo(h);return c&&c.renderer&&c.renderer.getSymbol(h)},getRendererInfo:function(h){h=h.getLayer().getMap();return"zoom"===this.rangeType?this.getRendererInfoByZoom(h.getZoom()):this.getRendererInfoByScale(h.getScale())},getRendererInfoByZoom:function(h){var c=this.rendererInfos,b,e=0;do{var f=c[e];h>=
f.minZoom&&h<=f.maxZoom&&(b=f);e++}while(!b&&e<c.length);return b},getRendererInfoByScale:function(h){var c=this.rendererInfos,b,e=0;do{var f=c[e];var k=f.minScale;var u=f.maxScale;var v=!k;var g=!u;!v&&h<=k&&(v=!0);!g&&h>=u&&(g=!0);v&&g&&(b=f);e++}while(!b&&e<c.length);return b},addRendererInfo:function(h){var c=0,b=this.rendererInfos,e=h.hasOwnProperty("minZoom")?"minZoom":"minScale",f=b.length;do{var k=b[c];if(f===c||h[e]<k[e]){b.splice(c,0,h);this._setRangeType();var u=!0}c++}while(!u&&c<f);return this},
_setRangeType:function(){var h=this.rendererInfos;if(h=h&&h[0])this.rangeType=h.hasOwnProperty("minZoom")?"zoom":h.hasOwnProperty("minScale")?"scale":""},toJson:function(){if("zoom"===this.rangeType)return null;var h=this.rendererInfos||[],c=h[0]&&h[0].minScale;h=a.mixin(this.inherited(arguments),{type:"scaleDependent",minScale:0<c?c:0,rendererInfos:A.map(h,function(b){return t.fixJson({maxScale:0<b.maxScale?b.maxScale:0,renderer:b.renderer&&b.renderer.toJson()})})});return t.fixJson(h)}});m("extend-esri")&&
a.setObject("renderer.ScaleDependentRenderer",G,p);return G})},"esri/renderers/TimeClassBreaksAger":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has dojo/date ../kernel ../lang ../symbols/jsonUtils ../Color ./SymbolAger".split(" "),function(G,A,a,m,p,t,n,h,c,b){var e=G(b,{declaredClass:"esri.renderer.TimeClassBreaksAger",constructor:function(f,k){this.infos=f;this.timeUnits=k||"day";f.sort(function(u,v){return u.minAge<v.minAge?-1:u.minAge>v.minAge?1:0})},getAgedSymbol:function(f,
k){var u=k.getLayer();k=k.attributes;var v=n.isDefined;f=h.fromJson(f.toJson());var g=u._map.timeExtent.endTime;if(!g)return f;var q=p.difference(new Date(k[u._startTimeField]),g,this.timeUnits);A.some(this.infos,function(x){if(q>=x.minAge&&q<=x.maxAge){var w=x.color,B=x.size;x=x.alpha;w&&f.setColor(w);v(B)&&this._setSymbolSize(f,B);v(x)&&f.color&&(f.color.a=x);return!0}},this);return f},toJson:function(){var f={agerClassBreakInfos:[]},k;f.timeUnits=this._getRestUnits(this.timeUnits);for(k=0;k<this.infos.length;k+=
1){var u=this.infos[k];var v={};v.oldestAge=Infinity===u.maxAge?null:u.maxAge;v.size=u.size;u.color&&(v.color=c.toJsonColor(u.color));u.alpha&&(v.alpha=Math.round(255*u.alpha));f.agerClassBreakInfos[k]=v}return f},_getRestUnits:function(f){var k="esriTimeUnitsDays";switch(f){case e.UNIT_SECONDS:k="esriTimeUnitsSeconds";break;case e.UNIT_MILLISECONDS:k="esriTimeUnitsMilliseconds";break;case e.UNIT_HOURS:k="esriTimeUnitsHours";break;case e.UNIT_MINUTES:k="esriTimeUnitsMinutes";break;case e.UNIT_MONTHS:k=
"esriTimeUnitsMonths";break;case e.UNIT_WEEKS:k="esriTimeUnitsWeeks";break;case e.UNIT_YEARS:k="esriTimeUnitsYears"}return k}});a.mixin(e,{UNIT_DAYS:"day",UNIT_HOURS:"hour",UNIT_MILLISECONDS:"millisecond",UNIT_MINUTES:"minute",UNIT_MONTHS:"month",UNIT_SECONDS:"second",UNIT_WEEKS:"week",UNIT_YEARS:"year"});m("extend-esri")&&a.setObject("renderer.TimeClassBreaksAger",e,t);return e})},"esri/renderers/SymbolAger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(G,
A,a,m){G=G(null,{declaredClass:"esri.renderer.SymbolAger",getAgedSymbol:function(p,t){},_setSymbolSize:function(p,t){switch(p.type){case "simplemarkersymbol":p.setSize(t);break;case "picturemarkersymbol":p.setWidth(t);p.setHeight(t);break;case "simplelinesymbol":case "cartographiclinesymbol":p.setWidth(t);break;case "simplefillsymbol":case "picturefillsymbol":p.outline&&p.outline.setWidth(t)}}});a("extend-esri")&&A.setObject("renderer.SymbolAger",G,m);return G})},"esri/renderers/TimeRampAger":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has ../kernel ../symbols/jsonUtils ../Color ./SymbolAger".split(" "),
function(G,A,a,m,p,t,n,h){G=G(h,{declaredClass:"esri.renderer.TimeRampAger",constructor:function(c,b,e){this.colorRange=c;this.sizeRange=b;this.alphaRange=e},getAgedSymbol:function(c,b){var e=b.getLayer(),f=b.attributes;c=t.fromJson(c.toJson());var k=e._map.timeExtent;b=k.startTime;k=k.endTime;if(!b||!k)return c;b=b.getTime();k=k.getTime();e=new Date(f[e._startTimeField]);e=e.getTime();e<b&&(e=b);e=k===b?1:(e-b)/(k-b);if(b=this.sizeRange)f=b[0],k=b[1],b=Math.abs(k-f)*e,this._setSymbolSize(c,f<k?f+
b:f-b);if(b=this.colorRange){k=b[0];var u=b[1],v=Math.round;f=new a;var g=k.r,q=u.r;b=Math.abs(q-g)*e;f.r=v(g<q?g+b:g-b);g=k.g;q=u.g;b=Math.abs(q-g)*e;f.g=v(g<q?g+b:g-b);g=k.b;q=u.b;b=Math.abs(q-g)*e;f.b=v(g<q?g+b:g-b);k=k.a;u=u.a;b=Math.abs(u-k)*e;f.a=k<u?k+b:k-b;c.setColor(f)}f=c.color;(b=this.alphaRange)&&f&&(k=b[0],u=b[1],b=Math.abs(u-k)*e,f.a=k<u?k+b:k-b);return c},toJson:function(){var c={};this.sizeRange&&(c.sizeRange=this.sizeRange);this.colorRange&&(c.colorRange=[n.toJsonColor(this.colorRange[0]),
n.toJsonColor(this.colorRange[1])]);this.alphaRange&&(c.alphaRange=[Math.round(255*this.alphaRange[0]),Math.round(255*this.alphaRange[1])]);return c}});m("extend-esri")&&A.setObject("renderer.TimeRampAger",G,p);return G})},"esri/renderers/TemporalRenderer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./Renderer"],function(G,A,a,m,p){G=G(p,{declaredClass:"esri.renderer.TemporalRenderer",constructor:function(t,n,h,c){this.observationRenderer=t;this.latestObservationRenderer=
n;this.trackRenderer=h;this.observationAger=c},getSymbol:function(t){var n=t.getLayer(),h=this.getObservationRenderer(t),c=h&&h.getSymbol(t),b=this.observationAger;n.timeInfo&&n._map.timeExtent&&h===this.observationRenderer&&b&&c&&(c=b.getAgedSymbol(c,t));return c},getObservationRenderer:function(t){return 0===t.getLayer()._getKind(t)?this.observationRenderer:this.latestObservationRenderer||this.observationRenderer},toJson:function(){var t={type:"temporal"};t.observationRenderer=this.observationRenderer.toJson();
this.latestObservationRenderer&&(t.latestObservationRenderer=this.latestObservationRenderer.toJson());this.trackRenderer&&(t.trackRenderer=this.trackRenderer.toJson());this.observationAger&&(t.observationAger=this.observationAger.toJson());return t}});a("extend-esri")&&A.setObject("renderer.TemporalRenderer",G,m);return G})},"esri/renderers/HeatmapRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct ../sniff ../kernel ../lang ../symbols/PictureMarkerSymbol ../Color ./Renderer".split(" "),
function(G,A,a,m,p,t,n,h,c,b){G=G([b],{declaredClass:"esri.renderer.HeatmapRenderer",colors:null,blurRadius:10,maxPixelIntensity:100,minPixelIntensity:0,field:null,fieldOffset:null,colorStops:null,constructor:function(e){(this._supportsCanvas=window.CanvasRenderingContext2D?!0:!1)?("string"==typeof e&&(e=JSON.parse(e)),A.mixin(this,e),this._canvas=null,this.colors||this.colorStops||(this.colorStops=[{ratio:0,color:"rgba(255, 140, 0, 0)"},{ratio:.75,color:"rgba(255, 140, 0, 1)"},{ratio:.9,color:"rgba(255, 0,   0, 1)"}]),
this.gradient=this._generateGradient(this.colorStops||this.colors)):console.log("The HeatmapRenderer requires a Canvas enabled Browser.  IE8 and less does not support Canvas.")},getSymbol:function(e){if(!this._supportsCanvas)return!1;var f=e.attributes.imageData;e=e.attributes.size;if(!e)return null;var k=this._getContext(e[0],e[1]),u=k.getImageData(0,0,e[0],e[1]);window.ArrayBuffer&&f instanceof ArrayBuffer?f=window.Uint8ClampedArray?new Uint8ClampedArray(f):new Uint8Array(f):f.BYTES_PER_ELEMENT&&
1!==f.BYTES_PER_ELEMENT&&(f=window.Uint8ClampedArray?new Uint8ClampedArray(f.buffer):new Uint8Array(f.buffer));if(window.CanvasPixelArray&&u.data instanceof window.CanvasPixelArray)for(var v=u.data,g=v.length;g--;)v[g]=f[g];else u.data.set(f);k.putImageData(u,0,0);return new h(k.canvas.toDataURL(),e[0],e[1])},setColors:function(e){e&&(e instanceof Array||e.colors)&&(this.gradient=this._generateGradient(e.colors||e),this.colors=e);return this},setColorStops:function(e){e&&(e instanceof Array||e.colorStops)&&
(this.gradient=this._generateGradient(e.colorStops||e),this.colorStops=e);return this},setMaxPixelIntensity:function(e){this.maxPixelIntensity=e;return this},setMinPixelIntensity:function(e){this.minPixelIntensity=e;return this},setField:function(e){this.field=e;return this},setFieldOffset:function(e){this.fieldOffset=e;return this},setBlurRadius:function(e){this.blurRadius=e;return this},getStats:function(){},getHistogramData:function(){},toJson:function(){var e=A.mixin(this.inherited(arguments),
{type:"heatmap",blurRadius:this.blurRadius,colorStops:this._colorsToStops(this.colorStops||this.colors),maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity,field:this.field});null!=this.fieldOffset&&(e.fieldOffset=this.fieldOffset);a.forEach(e.colorStops,function(f){f.color=c.toJsonColor(f.color)});return n.fixJson(e)},_getContext:function(e,f){this._canvas?(this._canvas.width=e,this._canvas.height=f):this._canvas=this._initCanvas(e,f);return this._canvas.getContext("2d")},
_initCanvas:function(e,f){var k=m.create("canvas",{id:"hm_canvas-"+Math.floor(1E3*Math.random()),style:"position: absolute; left: 0px; top: -10000px;"},null);k.width=e;k.height=f;document.body.appendChild(k);return k},_generateGradient:function(e,f){f||(f=512);e=this._colorsToStops(e);for(var k=this._getContext(1,f||512),u=k.createLinearGradient(0,0,0,f),v=0,g;v<e.length;v++)g=e[v],u.addColorStop(g.ratio,g.color.toCss(!0));k.fillStyle=u;k.fillRect(0,0,1,f);return k.getImageData(0,0,1,f).data},_colorsToStops:function(e){var f=
[];if(!e[0])return f;if(null!=e[0].ratio)f=a.map(e,function(x){return{ratio:x.ratio,color:this._toColor(x.color)}},this);else if(null!=e[0].value){var k=Infinity;f=-Infinity;var u=0,v;for(v=0;v<e.length;v++){var g=e[v].value;g<k&&(k=g);g>f&&(f=g)}u=f-k;this.maxPixelIntensity=f;this.minPixelIntensity=k;f=a.map(e,function(x){var w=x.value;x=this._toColor(x.color);return{value:w,ratio:(w-k)/u,color:x}},this)}else{var q=e.length-1;f=a.map(e,function(x,w){return{color:this._toColor(x),ratio:w/q}},this)}return f},
_toColor:function(e){e.toRgba||e.declaredClass||(e=new c(e));return e}});p("extend-esri")&&A.setObject("renderer.HeatmapRenderer",G,t);return G})},"esri/renderers/StretchRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../layers/RasterFunction ./colorRampUtils".split(" "),function(G,A,a,m,p,t,n,h){var c={TYPE_NONE:"none",TYPE_STANDARDDEVIATION:"standardDeviation",TYPE_HISTOGRAMEQUALIZATION:"histogramEqualization",TYPE_MINMAX:"minMax",TYPE_PERCENTCLIP:"percentClip",
TYPE_SIGMOID:"sigmoid"};G=G(null,{declaredClass:"esri.renderer.StretchRenderer",constructor:function(b){b=b||{};this.stretchType=c.TYPE_NONE;this.dra=!0;this.statistics=[];this.gamma=[];this.computeGamma=this.useGamma=!1;this.sigmoidStrengthLevel=this.numberOfStandardDeviations=this.minPercent=this.maxPercent=this.min=this.max=null;a.mixin(this,b);this.colorRamp=h.fromJson(b.colorRamp)},toJson:function(){var b={type:"rasterStretch",stretchType:this.stretchType,colorRamp:this.colorRamp&&this.colorRamp.toJson(),
min:this.min,max:this.max,numberOfStandardDeviations:this.numberOfStandardDeviations,statistics:a.clone(this.statistics),dra:this.dra,minPercent:this.minPercent,maxPercent:this.maxPercent,useGamma:this.useGamma,gamma:a.clone(this.gamma),computeGamma:this.computeGamma,sigmoidStrengthLevel:this.sigmoidStrengthLevel};return t.fixJson(b)},toRenderingRule:function(b){b=b||{};var e=new n;e.functionName="Stretch";var f=this._convertStretchTypeEnumToIndex(this.stretchType),k={StretchType:f,Statistics:this.statistics,
DRA:this.dra,UseGamma:this.useGamma,Gamma:this.gamma,ComputeGamma:this.computeGamma};t.isDefined(this.min)&&(k.Min=this.min);t.isDefined(this.min)&&(k.Max=this.max);3===f?(k.NumberOfStandardDeviations=this.numberOfStandardDeviations,e.outputPixelType="U8"):6===f?(k.MinPercent=parseFloat(this.minPercent),k.MaxPercent=parseFloat(this.maxPercent),e.outputPixelType="U8"):5===f?e.outputPixelType="U8":9===f&&(k.SigmoidStrengthLevel=this.sigmoidStrengthLevel);e.functionArguments=k;e.variableName="Raster";
return this.colorRamp?(f=new n,f.functionArguments=b.convertToColormap?{Colormap:h.convertColorRampToColormap(this.colorRamp,256)}:{colorRamp:this.colorRamp.toJson()},f.variableName="Raster",f.functionName="Colormap",f.functionArguments.Raster=e,f):e},_convertStretchTypeEnumToIndex:function(b){var e=0;b===c.TYPE_STANDARDDEVIATION?e=3:b===c.TYPE_HISTOGRAMEQUALIZATION?e=4:b===c.TYPE_MINMAX?e=5:b===c.TYPE_PERCENTCLIP?e=6:b===c.TYPE_SIGMOID&&(e=9);return e},_convertStretchTypeIndexToEnum:function(b){var e=
c.TYPE_NONE;3===b?e=c.TYPE_STANDARDDEVIATION:4===b?e=c.TYPE_HISTOGRAMEQUALIZATION:5===b?e=c.TYPE_MINMAX:6===b?e=c.TYPE_PERCENTCLIP:9===b&&(e=c.TYPE_SIGMOID);return e}});a.mixin(G,c);m("extend-esri")&&a.setObject("renderer.StretchRenderer",G,p);return G})},"esri/layers/RasterFunction":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(G,A,a,m,p){var t=G(null,{declaredClass:"esri.layers.RasterFunction",functionName:null,arguments:null,functionArguments:null,
variableName:null,outputPixelType:null,_isTemplate:null,_templateJson:null,constructor:function(n){if(A.isObject(n)){this._isRFTJson(n)&&(this._isTemplate=!0,this._templateJson=n);var h=0;this.functionName=n.rasterFunction||n.name;this.functionArguments=A.clone(n.rasterFunctionArguments||n.arguments);A.mixin(this,n);if(n=this.functionArguments)if(n.Raster=this._toRasterFunction(n.Raster),n.Raster2=this._toRasterFunction(n.Raster2),n.DEM=this._toRasterFunction(n.DEM),n.FillRaster=this._toRasterFunction(n.FillRaster),
n.Rasters&&n.Rasters.length)for(h=0;h<n.Rasters.length;h++)n.Rasters[h]=this._toRasterFunction(n.Rasters[h])}},_isRFTJson:function(n){return n.name&&n.arguments&&n.function&&n.hasOwnProperty("functionType")},_toRasterFunction:function(n){return n&&(n.rasterFunction||n.functionName)?new t(n):n},_rfToJson:function(n){n&&"esri.layers.RasterFunction"===n.declaredClass&&(n=n.toJson());return n},toJson:function(){if(this._isTemplate)return this._templateJson;var n=A.clone(this.functionArguments||this.arguments);
if(n&&(n.Raster=this._rfToJson(n.Raster),n.Raster2=this._rfToJson(n.Raster2),n.DEM=this._rfToJson(n.DEM),n.FillRaster=this._rfToJson(n.FillRaster),n.Rasters&&n.Rasters.length)){var h,c=[];for(h=0;h<n.Rasters.length;h++)c.push(this._rfToJson(n.Rasters[h]));n.Rasters=c}return p.filter({rasterFunction:this.functionName,rasterFunctionArguments:n,variableName:this.variableName,outputPixelType:this.outputPixelType?this.outputPixelType:null},function(b){if(null!==b&&void 0!==b)return!0})}});a("extend-esri")&&
A.setObject("layers.RasterFunction",t,m);return t})},"esri/renderers/colorRampUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/store/Memory ../tasks/AlgorithmicColorRamp ../tasks/MultipartColorRamp ../Color ./colorUtils".split(" "),function(G,A,a,m,p,t,n){function h(g,q,x){if(g){q=q||k;x=x||u;var w=null,B=g.declaredClass,z,C;if((z="string"===typeof g?g:g.name)&&A.some(x,function(y){if(y.name===z)return w=y.id,!0})&&w)return w;"esri.tasks.AlgorithmicColorRamp"===B?A.some(q,function(y){if(b(g.fromColor.toRgb(),
y.fromColor)&&b(g.toColor.toRgb(),y.toColor))return w=y.id,!0},this):"esri.tasks.MultipartColorRamp"===B&&A.some(q,function(y){if(g.colorRamps&&y.colorRamps&&g.colorRamps.length===y.colorRamps.length&&(C=g.colorRamps,!A.some(y.colorRamps,function(D,F){if(!b(C[F].fromColor.toRgb(),D.fromColor)||!b(C[F].toColor.toRgb(),D.toColor))return!0},this))){if(w)return!0;w=y.id}},this);return w}}function c(g){var q=new m,x=g.algorithm;q.fromColor=t.toDojoColor(g.fromColor);q.toColor=t.toDojoColor(g.toColor);
x?"esriCIELabAlgorithm"===x?q.algorithm="cie-lab":"esriHSVAlgorithm"===x?q.algorithm="hsv":"esriLabLChAlgorithm"===x&&(q.algorithm="lab-lch"):q.algorithm="hsv";return q}function b(g,q){return g&&q&&g.length&&q.length&&g.length===q.length?!A.some(g,function(x,w){if(x>q[w]+2||x<q[w]-2)return!0}):!1}function e(g,q,x){g=n.toLAB(g);q=n.toLAB(q);return n.toRGB({l:g.l*(1-x)+x*q.l,a:g.a*(1-x)+x*q.a,b:g.b*(1-x)+x*q.b})}var f={},k=[{id:"none",selected:!0},{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,
190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,
255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,
130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],
toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,
240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},
{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",
type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,
173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,
13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},
{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],
toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,
17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",
type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,
168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",
colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,
0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",
type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}],u=[{name:"Aspect",id:"aspect_predefined"},{name:"Black to White",id:"blackToWhite_predefined"},{name:"Blue Bright",
id:"blueBright_predefined"},{name:"Blue Light to Dark",id:"blueLightToDark_predefined"},{name:"Blue-Green Bright",id:"blueGreenBright_predefined"},{name:"Blue-Green Light to Dark",id:"blueGreenLightToDark_predefined"},{name:"Brown Light to Dark",id:"brownLightToDark_predefined"},{name:"Brown to Blue Green Diverging, Bright",id:"brownToBlueGreenDivergingBright_predefined"},{name:"Brown to Blue Green Diverging, Dark",id:"brownToBlueGreenDivergingDark_predefined"},{name:"Coefficient Bias",id:"coefficientBias_predefined"},
{name:"Cold to Hot Diverging",id:"coldToHotDiverging_predefined"},{name:"Condition Number",id:"conditionNumber_predefined"},{name:"Cyan to Purple",id:"cyanToPurple_predefined"},{name:"Cyan-Light to Blue-Dark",id:"cyanLightToBlueDark_predefined"},{name:"Distance",id:"distance_predefined"},{id:"elevation1_predefined",name:"Elevation #1"},{id:"elevation2_predefined",name:"Elevation #2"},{id:"errors_predefined",name:"Errors"},{id:"grayLightToDark_predefined",name:"Gray Light to Dark"},{id:"greenBright_predefined",
name:"Green Bright"},{id:"greenLightToDark_predefined",name:"Green Light to Dark"},{name:"Green to Blue",id:"greenToBlue_predefined"},{name:"Orange Bright",id:"orangeBright_predefined"},{name:"Orange Light to Dark",id:"orangeLightToDark_predefined"},{id:"partialSpectrum_predefined",name:"Partial Spectrum"},{id:"partialSpectrum1Diverging_predefined",name:"Partial Spectrum 1 Diverging",type:"multipart"},{id:"partialSpectrum2Diverging_predefined",name:"Partial Spectrum 2 Diverging"},{name:"Pink to YellowGreen Diverging, Bright",
id:"pinkToYellowGreenDivergingBright_predefined"},{name:"Pink to YellowGreen Diverging, Dark",id:"pinkToYellowGreenDivergingDark_predefined"},{id:"precipitation_predefined",name:"Precipitation"},{id:"prediction_predefined",name:"Prediction"},{name:"Purple Bright",id:"purpleBright_predefined"},{id:"purpleToGreenDivergingBright_predefined",name:"Purple to Green Diverging, Bright"},{id:"purpleToGreenDivergingDark_predefined",name:"Purple to Green Diverging, Dark"},{name:"Purple-Blue Bright",id:"purpleBlueBright_predefined"},
{name:"Purple-Blue Light to Dark",id:"purpleBlueLightToDark_predefined"},{name:"Purple-Red Bright",id:"purpleRedBright_predefined"},{name:"Purple-Red Light to Dark",id:"purpleRedLightToDark_predefined"},{name:"Red Bright",id:"redBright_predefined"},{name:"Red Light to Dark",id:"redLightToDark_predefined"},{id:"redToBlueDivergingBright_predefined",name:"Red to Blue Diverging, Bright"},{id:"redToBlueDivergingDark_predefined",name:"Red to Blue Diverging, Dark"},{id:"redToGreen_predefined",name:"Red to Green"},
{id:"redToGreenDivergingBright_predefined",name:"Red to Green Diverging, Bright"},{id:"redToGreenDivergingDark_predefined",name:"Red to Green Diverging, Dark"},{name:"Slope",id:"slope_predefined"},{id:"spectrumFullBright_predefined",name:"Spectrum-Full Bright"},{id:"spectrumFullDark_predefined",name:"Spectrum-Full Dark"},{id:"spectrumFullLight_predefined",name:"Spectrum-Full Light"},{id:"surface_predefined",name:"Surface"},{id:"temperature_predefined",name:"Temperature"},{name:"White to Black",id:"whiteToBlack_predefined"},
{id:"yellowToDarkRed_predefined",name:"Yellow to Dark Red"},{id:"yellowToGreenToDarkBlue_predefined",name:"Yellow to Green to Dark Blue"},{name:"Yellow to Red",id:"yellowToRed_predefined"},{name:"Yellow-Green Bright",id:"yellowGreenBright_predefined"},{name:"Yellow-Green Light to Dark",id:"yellowGreenLightToDark_predefined"}],v=new a({data:u});G.mixin(f,{predefinedColorRamps:k,predefinedColorRampNameMap:u,getColorRampName:function(g){return(g=h(g))?(g=v.query({id:g}),g[0]?g[0].name:null):null},fromJson:function(g){var q=
null;if(!g)return q;"multipart"===g.type?(q=new p,q.colorRamps=A.map(g.colorRamps,function(x){return c(x)},this)):"algorithmic"===g.type&&(q=c(g));return q},colorsEqual:b,getColorRampId:h,convertColorRampToColormap:function(g,q){if(g&&q){var x=g.colorRamps?g.colorRamps.length:1,w=[],B=[],z,C,y,D,F=0,H=0;for(F=0;F<x;F++)w[F]={},w[F].start=H,w[F].end=H+1/x,H=w[F].end;for(F=0;F<q;F++){var E=(F+.5)/q;A.forEach(w,function(I,J){E>=I.start&&E<I.end&&(D=(E-I.start)/(I.end-I.start),1<w.length?(z=n.getDojoColor(g.colorRamps[J].fromColor),
C=n.getDojoColor(g.colorRamps[J].toColor)):(z=n.getDojoColor(g.fromColor),C=n.getDojoColor(g.toColor)),y=e(z,C,D),B.push([F,y.r,y.g,y.b]))},this)}return B}},interpolateLabColor:e});return f})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(G,A,a){return G("dojo.store.Memory",null,{constructor:function(m){for(var p in m)this[p]=m[p];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:a,get:function(m){return this.data[this.index[m]]},
getIdentity:function(m){return m[this.idProperty]},put:function(m,p){var t=this.data,n=this.index,h=this.idProperty;h=m[h]=p&&"id"in p?p.id:h in m?m[h]:Math.random();if(h in n){if(p&&!1===p.overwrite)throw Error("Object already exists");t[n[h]]=m}else n[h]=t.push(m)-1;return h},add:function(m,p){(p=p||{}).overwrite=!1;return this.put(m,p)},remove:function(m){var p=this.index,t=this.data;if(m in p)return t.splice(p[m],1),this.setData(t),!0},query:function(m,p){return A(this.queryEngine(m,p)(this.data))},
setData:function(m){m.items?(this.idProperty=m.identifier||this.idProperty,m=this.data=m.items):this.data=m;this.index={};for(var p=0,t=m.length;p<t;p++)this.index[m[p][this.idProperty]]=p}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(G,A,a){var m=function(p){function t(h){p[h]=function(){var c=arguments,b=a(p,function(e){Array.prototype.unshift.call(c,e);return m(G[h].apply(G,c))});if("forEach"!==h||n)return b}}if(!p)return p;
var n=!!p.then;n&&(p=A.delegate(p));t("forEach");t("filter");t("map");null==p.total&&(p.total=a(p,function(h){return h.length}));return p};A.setObject("dojo.store.util.QueryResults",m);return m})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(G){return function(A,a){function m(t){t=G.filter(t,A);var n=a&&a.sort;n&&t.sort("function"==typeof n?n:function(c,b){for(var e,f=0;e=n[f];f++){var k=c[e.attribute],u=b[e.attribute];k=null!=k?k.valueOf():k;u=null!=u?u.valueOf():
u;if(k!=u)return!!e.descending==(null==k||k>u)?-1:1}return 0});if(a&&(a.start||a.count)){var h=t.length;t=t.slice(a.start||0,(a.start||0)+(a.count||Infinity));t.total=h}return t}switch(typeof A){default:throw Error("Can not query with a "+typeof A);case "object":case "undefined":var p=A;A=function(t){for(var n in p){var h=p[n];if(h&&h.test){if(!h.test(t[n],t))return!1}else if(h!=t[n])return!1}return!0};break;case "string":if(!this[A])throw Error("No filter function "+A+" was found in store");A=this[A];
case "function":}m.matches=A;return m}})},"esri/tasks/AlgorithmicColorRamp":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../Color ./ColorRamp".split(" "),function(G,A,a,m,p,t){G=G(t,{declaredClass:"esri.tasks.AlgorithmicColorRamp",type:"algorithmic",fromColor:null,toColor:null,algorithm:null,toJson:function(){switch(this.algorithm&&this.algorithm.toLowerCase()){case "cie-lab":var n="esriCIELabAlgorithm";break;case "hsv":n="esriHSVAlgorithm";break;case "lab-lch":n="esriLabLChAlgorithm"}n=
{type:"algorithmic",algorithm:n};n.fromColor=p.toJsonColor(this.fromColor);n.toColor=p.toJsonColor(this.toColor);return n}});a("extend-esri")&&A.setObject("tasks.AlgorithmicColorRamp",G,m);return G})},"esri/tasks/ColorRamp":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(G,A,a,m){G=G(null,{declaredClass:"esri.tasks.ColorRamp",type:null});a("extend-esri")&&A.setObject("tasks.ColorRamp",G,m);return G})},"esri/tasks/MultipartColorRamp":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../symbols/Symbol ./ColorRamp".split(" "),
function(G,A,a,m,p,t){G=G(t,{declaredClass:"esri.tasks.MultipartColorRamp",type:"multipart",constructor:function(){this.colorRamps=[]},addColorRamp:function(n){this.colorRamps.push(n)},toJson:function(){return{type:"multipart",colorRamps:a.map(this.colorRamps,function(n){return n.toJson()})}}});m("extend-esri")&&A.setObject("tasks.MultipartColorRamp",G,p);return G})},"esri/renderers/colorUtils":function(){define(["dojo/_base/Color","dojo/_base/array"],function(G,A){var a={COEF_RGB2XYZ:[[.4124,.3576,
.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],COEF_XYZ2RGB:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],matrixProduct:function(p,t){var n=[],h,c;if(p[0].length!==t.length)throw"dimensions do not match";var b=p.length,e=p[0].length,f=0;for(h=0;h<b;h++){for(c=f=0;c<e;c++)f+=p[h][c]*t[c];n.push(f)}return n},rgb2xyz:function(p){p=[p.r/255,p.g/255,p.b/255].map(function(t){return.04045>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)});p=this.matrixProduct(this.COEF_RGB2XYZ,p);return{x:100*
p[0],y:100*p[1],z:100*p[2]}},xyz2rgb:function(p){p=this.matrixProduct(this.COEF_XYZ2RGB,[p.x/100,p.y/100,p.z/100]).map(function(t){return Math.min(1,Math.max(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055,0))});return{r:Math.round(255*p[0]),g:Math.round(255*p[1]),b:Math.round(255*p[2])}},xyz2lab:function(p){p=[p.x/95.047,p.y/100,p.z/108.883].map(function(t){return t>Math.pow(6/29,3)?Math.pow(t,1/3):1/3*Math.pow(29/6,2)*t+4/29});return{l:116*p[1]-16,a:500*(p[0]-p[1]),b:200*(p[1]-p[2])}},lab2xyz:function(p){var t=
p.l;p=[(t+16)/116+p.a/500,(t+16)/116,(t+16)/116-p.b/200].map(function(n){return n>6/29?Math.pow(n,3):3*Math.pow(6/29,2)*(n-4/29)});return{x:95.047*p[0],y:100*p[1],z:108.883*p[2]}},lab2lch:function(p){var t=p.l,n=p.a,h=p.b;p=Math.sqrt(n*n+h*h);n=Math.atan2(h,n);n=0<n?n:n+2*Math.PI;return{l:t,c:p,h:n}},lch2lab:function(p){var t=p.c,n=p.h;return{l:p.l,a:t*Math.cos(n),b:t*Math.sin(n)}},rgb2lab:function(p){return this.xyz2lab(this.rgb2xyz(p))},lab2rgb:function(p){return this.xyz2rgb(this.lab2xyz(p))},
rgb2lch:function(p){return this.lab2lch(this.xyz2lab(this.rgb2xyz(p)))},lch2rgb:function(p){return this.xyz2rgb(this.lab2xyz(this.lch2lab(p)))}},m={rgb2hsv:function(p){var t=p.r,n=p.g;p=p.b;var h=Math.max(t,n,p),c=h-Math.min(t,n,p),b;0===c?b=0:h===t?b=(n-p)/c%6:h===n?b=(p-t)/c+2:h===p&&(b=(t-n)/c+4);0>b&&(b+=6);return{h:60*b,s:100*(0===c?0:c/h),v:100/255*h}},hsv2rgb:function(p){var t=(p.h+360)%360/60,n=p.v/100*255;p=p.s/100*n;var h=p*(1-Math.abs(t%2-1));switch(Math.floor(t)){case 0:t={r:p,g:h,b:0};
break;case 1:t={r:h,g:p,b:0};break;case 2:t={r:0,g:p,b:h};break;case 3:t={r:0,g:h,b:p};break;case 4:t={r:h,g:0,b:p};break;case 5:case 6:t={r:p,g:0,b:h};break;default:t={r:0,g:0,b:0}}t.r=Math.round(t.r+n-p);t.g=Math.round(t.g+n-p);t.b=Math.round(t.b+n-p);return t}};return{toRGB:function(p){var t;void 0!==p.r&&void 0!==p.g&&void 0!==p.b?t=p:void 0!==p.l&&void 0!==p.c&&void 0!==p.h?t=a.lch2rgb(p):void 0!==p.l&&void 0!==p.a&&void 0!==p.b?t=a.lab2rgb(p):void 0!==p.x&&void 0!==p.y&&void 0!==p.z?t=a.xyz2rgb(p):
void 0!==p.h&&void 0!==p.s&&void 0!==p.v&&(t=m.hsv2rgb(p));return t},toHSV:function(p){if(void 0!==p.h&&void 0!==p.s&&void 0!==p.v)return p;p=this.toRGB(p);return m.rgb2hsv(p)},toLAB:function(p){return void 0!==p.l&&void 0!==p.a&&void 0!==p.b?p:a.rgb2lab(this.toRGB(p))},toLCH:function(p){return void 0!==p.l&&void 0!==p.c&&void 0!==p.h?p:a.rgb2lch(this.toRGB(p))},toXYZ:function(p){return void 0!==p.x&&void 0!==p.y&&void 0!==p.z?p:a.rgb2xyz(this.toRGB(p))},getDojoColor:function(p){if(p){if(Array.isArray(p))return G.fromArray(p);
if(void 0!==p.r&&void 0!==p.g&&void 0!==p.b)return p}},correctRGBLimits:function(p){var t=[p.r,p.g,p.b];A.forEach(t,function(n,h){0>t[h]?t[h]=0:255<t[h]&&(t[h]=255);t[h]=Math.floor(t[h])});return{r:t[0],g:t[1],b:t[2],a:1}}}})},"esri/renderers/ShadedReliefRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../layers/RasterFunction ./colorRampUtils".split(" "),function(G,A,a,m,p,t,n,h){G=G(null,{declaredClass:"esri.renderer.ShadedReliefRenderer",
constructor:function(c){c=c||{};this.hillshadeType=c.hillshadeType||"traditional";this.azimuth=null!=c.azimuth?c.azimuth:315;this.altitude=null!=c.altitude?c.altitude:45;this.zFactor=c.zFactor||1;this.scalingType=c.scalingType||"none";this.pixelSizePower=null!=c.pixelSizePower?c.pixelSizePower:.664;this.pixelSizeFactor=null!=c.pixelSizeFactor?c.pixelSizeFactor:.024;this.removeEdgeEffect=c.removeEdgeEffect||!1;this.colorRamp=h.fromJson(c.colorRamp)},toJson:function(){var c={type:"rasterShadedRelief",
hillshadeType:this.hillshadeType,azimuth:this.azimuth,altitude:this.altitude,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizePower:this.pixelSizePower,pixelSizeFactor:this.pixelSizeFactor,colorRamp:this.colorRamp&&this.colorRamp.toJson()};return t.fixJson(c)},toRenderingRule:function(c){}});m("extend-esri")&&a.setObject("renderer.ShadedReliefRenderer",G,p);return G})},"esri/renderers/ColormapRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ./arcadeUtils".split(" "),
function(G,A,a,m,p,t,n,h,c){G=G(h,{declaredClass:"esri.renderer.ColormapRenderer",constructor:function(b){this.colormapInfos=b&&b.colormapInfos},toJson:function(){var b=t.fixJson;var e={type:"rasterColormap",colormapInfos:A.map(this.colormapInfos||[],function(f,k){var u={};f.color&&null!==f.color&&3<=f.color.length&&(u.color=f.color,u.value=f.value||k,u.label=(f.label||k)+"");return b(u)})};e=a.mixin(this.inherited(arguments),e);return b(e)}});m("extend-esri")&&a.setObject("renderer.ColormapRenderer",
G,p);return G})},"esri/arcadeProfiles/labelingProfile":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../promiseList ../arcade/Feature ../support/expressionUtils ./utils".split(" "),function(G,A,a,m,p,t,n,h){G=new (G(null,{declaredClass:"esri.arcadeProfiles.LabelingProfile",defaults:{context:{vars:{$feature:"any"}}},initialize:function(c){var b=[];h.hasGeometryOperations(c)&&b.push(n.enableGeometryOperations());return p(b)},isAsync:function(c){return!1},parse:function(c){return n.createSyntaxTree(c.expression)},
compile:function(c){var b=A.clone(this.defaults.context);return c.syntaxTree?n.createFunction(c.syntaxTree,b):null},getEvalOptions:function(c){var b=c.feature;return{context:{vars:{$feature:b&&c.expression.hasVariable("$feature")?t.createFromGraphicLikeObject(b.geometry,b.attributes,c.layer):null},spatialReference:c.spatialReference}}}}));a("extend-esri")&&A.setObject("arcadeProfiles.labelingProfile",G,m);return G})},"esri/tasks/QueryTask":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/DeferredList ../kernel ../sniff ../request ../deferredUtils ../geometry/Extent ../geometry/normalizeUtils ./Task ./FeatureSet".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v){var g=c("esri-pbf"),q=A(null,{url:null,query:null,requestOptions:null,pagination:null,pageSize:null,_fetchDfd:null,_startPage:null,_result:null,constructor:function(w){this._handleSuccess=a.hitch(this,this._handleSuccess);this._handleError=a.hitch(this,this._handleError);a.mixin(this,w);null==this.pagination&&(this.pagination=!1);null==this.pageSize&&(this.pageSize=1E3)},execute:function(){var w=new p(this._canceler);this._fetchDfd=w;this._result=null;this._sendRequest();
return w.promise},_canceler:function(w){var B=w._pendingRequest;if(!w.isFulfilled()&&B&&!B.isFulfilled()){B.cancel();var z=B.results&&B.results[1]}w._pendingRequest=null;return z},_sendRequest:function(w){var B=this.query;this.pagination&&(this._startPage=B.resultOffset=null==w?0:w,B.resultRecordCount=this.pageSize);w=this.requestOptions;this._fetchDfd._pendingRequest=b({url:this.url,content:B,handleAs:"pbf"===B.f?"arraybuffer":"json",callbackParamName:"callback",timeout:w&&w.timeout},w);this._fetchDfd._pendingRequest.then(this._handleSuccess).otherwise(this._handleError)},
_handleSuccess:function(w){this.pagination?(w.exceededTransferLimit&&this._sendRequest(this._startPage+this.pageSize),this._result?this._result.features=this._result.features.concat(w.features):this._result=w,this._fetchDfd.progress(w),w.exceededTransferLimit||this._fetchDfd.resolve(this._result)):(this._fetchDfd.progress(w),this._fetchDfd.resolve(w))},_handleError:function(w){this._fetchDfd.reject(w)}}),x=A(u,{declaredClass:"esri.tasks.QueryTask",_eventMap:{complete:["featureSet"],"execute-for-count-complete":["count"],
"execute-for-ids-complete":["objectIds"],"execute-relationship-query-complete":["featureSets"]},constructor:function(w,B){this._handler=a.hitch(this,this._handler);this._relationshipQueryHandler=a.hitch(this,this._relationshipQueryHandler);this._executeForIdsHandler=a.hitch(this,this._executeForIdsHandler);this._countHandler=a.hitch(this,this._countHandler);this._extentHandler=a.hitch(this,this._extentHandler);this.source=B&&B.source;this.gdbVersion=B&&B.gdbVersion;this.registerConnectEvents()},__msigns:[{n:"execute",
c:4,a:[{i:0,p:["geometry"]}],e:2},{n:"rawExecute",c:2,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForIds",c:3,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForCount",c:3,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForExtent",c:3,a:[{i:0,p:["geometry"]}],e:2}],onComplete:function(){},onRawExecuteComplete:function(){},onExecuteRelationshipQueryComplete:function(){},onExecuteForIdsComplete:function(){},onExecuteForCountComplete:function(){},onExecuteForExtentComplete:function(){},execute:function(w,B,z,C,y){var D=
y.assembly;w=this._encode(a.mixin({},this._url.query,{f:C&&C.format||"json"},w.toJson(D&&D[0])));var F=this._handler,H=this._errorHandler;this.source&&(C={source:this.source.toJson()},w.layer=t.toJson(C));this.gdbVersion&&(w.gdbVersion=this.gdbVersion);var E="pbf"===w.f;if(E){var I;g||(I="QueryTask.execute: 'pbf' format is not supported in your browser.");if(I)return w=new p,w.addErrback(function(J){H(J,z,y.dfd)}),w.reject(Error(I)),w}I=this.requestOptions;I=b({url:this._url.path+"/query",content:w,
callbackParamName:"callback",handleAs:E?"arraybuffer":"json",timeout:I&&I.timeout},I);w=[I];E&&w.push(x.loadPBFReader());(new n(w)).then(function(J){y.dfd.isFulfilled()||(J=J[0],J[0]?F(J[1],E,B,z,y.dfd):H(J[1],z,y.dfd))});return I},rawExecute:function(w,B,z){B=B||{};w=this._encode(a.mixin({},this._url.query,{f:B.format||"json"},w.toJson(z.assembly&&z.assembly[0])));this.source&&(w.layer=t.toJson({source:this.source.toJson()}));this.gdbVersion&&(w.gdbVersion=this.gdbVersion);return(new q({url:this._url.path+
"/query",query:w,requestOptions:this.requestOptions,pagination:B.pagination,pageSize:B.pageSize})).execute().then(null,null,function(C){z.dfd.progress(C)}).then(a.hitch(this,function(C){this._successHandler([C],"onRawExecuteComplete",null,z.dfd)})).otherwise(a.hitch(this,function(C){this._errorHandler(C,null,z.dfd)}))},executeRelationshipQuery:function(w,B,z){w=this._encode(a.mixin({},this._url.query,{f:"json"},w.toJson()));var C=this._relationshipQueryHandler,y=this._errorHandler;this.gdbVersion&&
(w.gdbVersion=this.gdbVersion);var D=new p(e._dfdCanceller),F=this.requestOptions,H=this._url.path;this.source&&void 0!==this.source.mapLayerId&&null!==this.source.mapLayerId&&H.endsWith("/dynamicLayer")&&(H=H.slice(0,-13),H=H+"/"+this.source.mapLayerId);D._pendingDfd=b({url:H+"/queryRelatedRecords",content:w,callbackParamName:"callback",timeout:F&&F.timeout,load:function(E,I){C(E,I,B,z,D)},error:function(E){y(E,z,D)}},F);return D},executeForIds:function(w,B,z,C){var y=C.assembly;w=this._encode(a.mixin({},
this._url.query,{f:"json",returnIdsOnly:!0},w.toJson(y&&y[0])));var D=this._executeForIdsHandler,F=this._errorHandler;this.source&&(y={source:this.source.toJson()},w.layer=t.toJson(y));this.gdbVersion&&(w.gdbVersion=this.gdbVersion);y=this.requestOptions;return b({url:this._url.path+"/query",content:w,callbackParamName:"callback",timeout:y&&y.timeout,load:function(H,E){D(H,E,B,z,C.dfd)},error:function(H){F(H,z,C.dfd)}},y)},executeForCount:function(w,B,z,C){var y=C.assembly;w=this._encode(a.mixin({},
this._url.query,{f:"json",returnIdsOnly:!0,returnCountOnly:!0},w.toJson(y&&y[0])));var D=this._countHandler,F=this._errorHandler;this.source&&(y={source:this.source.toJson()},w.layer=t.toJson(y));this.gdbVersion&&(w.gdbVersion=this.gdbVersion);y=this.requestOptions;return b({url:this._url.path+"/query",content:w,callbackParamName:"callback",timeout:y&&y.timeout,load:function(H,E){D(H,E,B,z,C.dfd)},error:function(H){F(H,z,C.dfd)}},y)},executeForExtent:function(w,B,z,C){var y=C.assembly;w=this._encode(a.mixin({},
this._url.query,{f:"json",returnExtentOnly:!0,returnCountOnly:!0},w.toJson(y&&y[0])));var D=this._extentHandler,F=this._errorHandler;this.source&&(y={source:this.source.toJson()},w.layer=t.toJson(y));this.gdbVersion&&(w.gdbVersion=this.gdbVersion);y=this.requestOptions;return b({url:this._url.path+"/query",content:w,callbackParamName:"callback",timeout:y&&y.timeout,load:function(H,E){D(H,E,B,z,C.dfd)},error:function(H){F(H,z,C.dfd)}},y)},_handler:function(w,B,z,C,y){try{w&&B&&(w=x.pbfDeps.optimizedFeatures.convertToFeatureSet(x.pbfDeps.pbfQueryUtils.parsePBFFeatureQuery(w)));
var D=new v(w);this._successHandler([D],"onComplete",z,y)}catch(F){this._errorHandler(F,C,y)}},_relationshipQueryHandler:function(w,B,z,C,y){try{var D=w.geometryType,F=w.spatialReference,H={};m.forEach(w.relatedRecordGroups,function(E){var I={};I.geometryType=D;I.spatialReference=F;I.features=E.relatedRecords;I=new v(I);if(null!=E.objectId)H[E.objectId]=I;else for(var J in E)E.hasOwnProperty(J)&&"relatedRecords"!==J&&(H[E[J]]=I)});this._successHandler([H],"onExecuteRelationshipQueryComplete",z,y)}catch(E){this._errorHandler(E,
C,y)}},_executeForIdsHandler:function(w,B,z,C,y){try{this._successHandler([w.objectIds],"onExecuteForIdsComplete",z,y)}catch(D){this._errorHandler(D,C,y)}},_countHandler:function(w,B,z,C,y){try{var D=w.features,F=w.objectIds;if(F)var H=F.length;else{if(D)throw Error("Unable to perform query. Please check your parameters.");H=w.count}this._successHandler([H],"onExecuteForCountComplete",z,y)}catch(E){this._errorHandler(E,C,y)}},_extentHandler:function(w,B,z,C,y){try{w.extent&&(w.extent=new f(w.extent)),
this._successHandler([w],"onExecuteForExtentComplete",z,y)}catch(D){this._errorHandler(D,C,y)}}});x.loadPBFReader=function(){var w=new p;x.pbfDeps?w.resolve():G(["./support/pbfDeps"],function(B){x.pbfDeps=B;w.isFulfilled()||w.resolve()});return w.promise};k._createWrappers(x);c("extend-esri")&&a.setObject("tasks.QueryTask",x,h);return x})},"dojo/DeferredList":function(){define(["./_base/kernel","./_base/Deferred","./_base/array"],function(G,A,a){G.DeferredList=function(m,p,t,n,h){var c=[];A.call(this);
var b=this;0!==m.length||p||this.resolve([0,[]]);var e=0;a.forEach(m,function(f,k){function u(v,g){c[k]=[v,g];e++;e===m.length&&b.resolve(c)}f.then(function(v){p?b.resolve([k,v]):u(!0,v)},function(v){t?b.reject(v):u(!1,v);if(n)return null;throw v;})})};G.DeferredList.prototype=new A;G.DeferredList.prototype.gatherResults=function(m){m=new G.DeferredList(m,!1,!0,!1);m.addCallback(function(p){var t=[];a.forEach(p,function(n){t.push(n[1])});return t});return m};return G.DeferredList})},"esri/geometry/normalizeUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/has ../kernel ../config ../deferredUtils ./Extent ./Polyline ./Polygon ./webMercatorUtils ./jsonUtils".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f){function k(F,H){return Math.ceil((F-H)/(2*H))}function u(F,H){var E=F.paths||F.rings,I,J,K=E.length;for(I=0;I<K;I++){var L=E[I].length;for(J=0;J<L;J++){var O=F.getPoint(I,J);F.setPoint(I,J,O.offset(H,0))}}return F}function v(F,H){if(!(F instanceof c||F instanceof b))throw console.error("_straightLineDensify: the input geometry is neither polyline nor polygon"),Error("_straightLineDensify: the input geometry is neither polyline nor polygon");var E=F instanceof c,I=
[],J;G.forEach(E?F.paths:F.rings,function(K){I.push(J=[]);J.push([K[0][0],K[0][1]]);var L,O;for(L=0;L<K.length-1;L++){var U=K[L][0];var S=K[L][1];var M=K[L+1][0];var N=K[L+1][1];var T=Math.sqrt((M-U)*(M-U)+(N-S)*(N-S));var V=(N-S)/T;var ea=(M-U)/T;var P=T/H;if(1<P){for(O=1;O<=P-1;O++){var ba=O*H;var la=ea*ba+U;ba=V*ba+S;J.push([la,ba])}O=(T+Math.floor(P-1)*H)/2;la=ea*O+U;ba=V*O+S;J.push([la,ba])}J.push([M,N])}});return E?new c({paths:I,spatialReference:F.spatialReference}):new b({rings:I,spatialReference:F.spatialReference})}
function g(F,H,E){H&&(F=v(F,1E6),F=e.webMercatorToGeographic(F,!0));E&&(F=u(F,E));return F}function q(F,H,E){var I=F.x||F[0];if(I>H){var J=k(I,H);F.x?F=F.offset(-2*J*H,0):F[0]=I+-2*J*H}else I<E&&(J=k(I,E),F.x?F=F.offset(-2*J*E,0):F[0]=I+-2*J*E);return F}function x(F,H){var E=-1;G.forEach(H.cutIndexes,function(I,J){var K=H.geometries[J];G.forEach(K.rings||K.paths,function(L,O){G.some(L,function(U){if(!(180>U[0])){U=0;var S,M=L.length;for(S=0;S<M;S++){var N=L[S][0];U=N>U?N:U}U=Number(U.toFixed(9));
U=-360*k(U,180);M=L.length;for(S=0;S<M;S++)N=K.getPoint(O,S),K.setPoint(O,S,N.offset(U,0))}return!0})});I===E?K.rings?G.forEach(K.rings,function(L){F[I]=F[I].addRing(L)}):G.forEach(K.paths,function(L){F[I]=F[I].addPath(L)}):(E=I,F[I]=K)});return F}function w(F,H,E,I){var J=new a;J.addCallbacks(E,I);H=H||t.defaults.geometryService;var K=[],L=[],O,U,S,M,N,T,V,ea,P=0;G.forEach(F,function(Y){if(Y)if(O||(O=Y.spatialReference,U=O._getInfo(),M=(S=O._isWebMercator())?2.0037508342788905E7:180,N=S?-2.0037508342788905E7:
-180,T=S?102100:4326,V=new c({paths:[[[M,N],[M,M]]],spatialReference:{wkid:T}}),ea=new c({paths:[[[N,N],[N,M]]],spatialReference:{wkid:T}})),U){var ja=f.fromJson(Y.toJson()),pa=Y.getExtent();"point"===Y.type?K.push(q(ja,M,N)):"multipoint"===Y.type?(ja.points=G.map(ja.points,function(ka){return q(ka,M,N)}),K.push(ja)):"extent"===Y.type?(ja=pa._normalize(null,null,U),K.push(ja.rings?new b(ja):ja)):pa?(Y=2*k(pa.xmin,N)*M,ja=0===Y?ja:u(ja,Y),pa=pa.offset(Y,0),pa.intersects(V)&&pa.xmax!==M?(P=pa.xmax>
P?pa.xmax:P,ja=g(ja,S),L.push(ja),K.push("cut")):pa.intersects(ea)&&pa.xmin!==N?(P=2*pa.xmax*M>P?2*pa.xmax*M:P,ja=g(ja,S,360),L.push(ja),K.push("cut")):K.push(ja)):K.push(ja)}else K.push(Y);else K.push(Y)});E=new c;I=k(P,M);for(var ba=-90,la=I;0<I;){var Q=-180+360*I;E.addPath([[Q,ba],[Q,-1*ba]]);ba*=-1;I--}0<L.length&&0<la?H?H.cut(L,E,function(Y){L=x(L,Y);var ja=[];G.forEach(K,function(pa,ka){"cut"===pa&&(pa=L.shift(),F[ka].rings&&1<F[ka].rings.length&&pa.rings.length>=F[ka].rings.length?(K[ka]="simplify",
ja.push(pa)):K[ka]=!0===S?e.geographicToWebMercator(pa):pa)});0<ja.length?H.simplify(ja,function(pa){G.forEach(K,function(ka,va){"simplify"===ka&&(K[va]=!0===S?e.geographicToWebMercator(pa.shift()):pa.shift())});J.callback(K)},function(pa){J.errback(pa)}):J.callback(K)},function(Y){J.errback(Y)}):J.errback(Error("esri.geometry.normalizeCentralMeridian: 'geometryService' argument is missing.")):(G.forEach(K,function(Y,ja){"cut"===Y&&(Y=L.shift(),K[ja]=!0===S?e.geographicToWebMercator(Y):Y)}),J.callback(K));
return J}function B(F,H,E,I){var J=!1,K;A.isObject(F)&&F&&(A.isArray(F)?F.length&&((K=F[0]&&F[0].declaredClass)&&-1!==K.indexOf("Graphic")?(F=G.map(F,function(L){return L.geometry}),J=F.length?!0:!1):K&&-1!==K.indexOf("esri.geometry.")&&(J=!0)):(K=F.declaredClass)&&-1!==K.indexOf("FeatureSet")?(F=G.map(F.features||[],function(L){return L.geometry}),J=F.length?!0:!1):K&&-1!==K.indexOf("esri.geometry.")&&(J=!0));J&&H.push({index:E,property:I,value:F})}function z(F,H){var E=[];G.forEach(H,function(I){var J=
I.i,K=F[J];I=I.p;var L;if(A.isObject(K)&&K)if(I)if("*"===I[0])for(L in K)K.hasOwnProperty(L)&&B(K[L],E,J,L);else G.forEach(I,function(O){B(A.getObject(O,!1,K),E,J,O)});else B(K,E,J)});return E}function C(F,H){var E=0,I={};G.forEach(H,function(J){var K=J.index,L=J.property,O=J.value,U=O.length||1,S=F.slice(E,E+U);A.isArray(O)||(S=S[0]);E+=U;delete J.value;L?(I[K]=I[K]||{},I[K][L]=S):I[K]=S});return I}function y(F){for(var H=[],E=0,I=0,J=Math.min,K=Math.max,L=0;L<F.length;L++){for(var O=F[L],U=null,
S=0;S<O.length;S++)U=O[S],H.push(U),0===S?I=E=U[0]:(E=J(E,U[0]),I=K(I,U[0]));U&&H.push([(E+I)/2,0])}return H}var D={normalizeCentralMeridian:w,_foldCutResults:x,_prepareGeometryForCut:g,_offsetMagnitude:k,_pointNormalization:q,_updatePolyGeometry:u,_straightLineDensify:v,_createWrappers:function(F){var H=A.isObject(F)?F.prototype:A.getObject(F+".prototype");G.forEach(H.__msigns,function(E){var I=H[E.n];H[E.n]=function(){var J=this,K=[],L,O=new a(n._dfdCanceller);E.f&&n._fixDfd(O);for(L=0;L<E.c;L++)K[L]=
arguments[L];var U={dfd:O};K.push(U);var S=[],M;if(J.normalization&&!J._isTable){var N=z(K,E.a);G.forEach(N,function(T){S=S.concat(T.value)});S.length&&(M=w(S))}M?(O._pendingDfd=M,M.addCallbacks(function(T){O.canceled||(U.assembly=C(T,N),O._pendingDfd=I.apply(J,K))},function(T){var V=J.declaredClass;V&&-1!==V.indexOf("FeatureLayer")?J._resolve([T],null,K[E.e],O,!0):J._errorHandler(T,K[E.e],O)})):O._pendingDfd=I.apply(J,K);return O}})},_disassemble:z,_addToBucket:B,_reassemble:C,getDenormalizedExtent:function(F){if(!F)return null;
var H=F.getExtent();if(!H)return null;var E=F.spatialReference&&F.spatialReference._getInfo();if(!E)return H;var I=E.valid[0];E=E.valid[1];var J=2*E,K=H.getWidth(),L=H.xmax,O=H.xmin;if("extent"===F.type||0===K||K<=E||K>J||L<I||O>E)return H;switch(F.type){case "polygon":if(1<F.rings.length)var U=y(F.rings);else return H;break;case "polyline":if(1<F.paths.length)U=y(F.paths);else return H;break;case "multipoint":U=F.points}F=Math.min;I=Math.max;J=new h(H.toJson());for(var S=0;S<U.length;S++){var M=
U[S][0];0>M?(M+=E,O=I(M,O)):(M-=E,L=F(M,L))}J.xmin=L;J.xmax=O;return J.getWidth()<K?(J.xmin-=E,J.xmax-=E,J):H}};m("extend-esri")&&A.mixin(A.getObject("geometry",!0,p),D);return D})},"esri/tasks/Task":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../deferredUtils ../urlUtils ../Evented".split(" "),function(G,A,a,m,p,t,n,h){G=G(h,{declaredClass:"esri.tasks._Task",_eventMap:{error:["error"],complete:["result"]},constructor:function(c,b){c&&A.isString(c)&&(this._url=
n.urlToObject(this.url=c));b&&b.requestOptions&&(this.requestOptions=b.requestOptions);this.normalization=!0;this._errorHandler=A.hitch(this,this._errorHandler);this.registerConnectEvents()},_useSSL:function(){var c=this._url,b=/^http:/i;this.url&&(this.url=this.url.replace(b,"https:"));c&&c.path&&(c.path=c.path.replace(b,"https:"))},_encode:function(c,b,e){var f={},k;for(k in c)if("declaredClass"!==k){var u=c[k];var v=typeof u;if(null!==u&&void 0!==u&&"function"!==v)if(A.isArray(u)){f[k]=[];var g=
u.length;for(v=0;v<g;v++)f[k][v]=this._encode(u[v])}else"object"===v?u.toJson&&(v=u.toJson(e&&e[k]),"esri.tasks.FeatureSet"===u.declaredClass&&v.spatialReference&&(v.sr=v.spatialReference,delete v.spatialReference),f[k]=b?v:a.toJson(v)):f[k]=u}return f},_successHandler:function(c,b,e,f){b&&this[b].apply(this,c);e&&e.apply(null,c);f&&t._resDfd(f,c)},_errorHandler:function(c,b,e){this.onError(c);b&&b(c);e&&e.errback(c)},setNormalization:function(c){this.normalization=c},onError:function(){}});m("extend-esri")&&
(p.Task=G);return G})},"esri/tasks/FeatureSet":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../graphic ../SpatialReference ../graphicsUtils ../geometry/Polygon ../geometry/jsonUtils ../symbols/jsonUtils".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f){G=G(null,{declaredClass:"esri.tasks.FeatureSet",constructor:function(k,u){if(k){A.mixin(this,k);var v=this.features=this.features||[],g=k.spatialReference;g=this.spatialReference=e.createInstance(h.simpleConstructor,
g);var q=e.getGeometryType(k.geometryType);this.geometryType=k.geometryType;k.fields&&(this.fields=k.fields);k=e.supportsLazyUnquantization(this.geometryType);var x=e.unquantizeFunction(this.geometryType,this.transform),w=!!(u&&k&&x),B=q&&(w?q.accessorConstructor:q.simpleConstructor);a.forEach(v,function(z,C){var y=e.createInstance(n.simpleConstructor),D=z.geometry;if(q&&D){var F=y.geometry=e.createInstance(B,w?null:D);F.setSpatialReference(D.spatialReference?e.createInstance(h.simpleConstructor,
D.spatialReference):g);w&&F.setupLazyUnquantization(x,D)}y.symbol=z.symbol?f.fromJson(z.symbol):null;y.attributes=z.attributes;v[C]=y});w||this._hydrate()}else this.features=[]},displayFieldName:null,geometryType:null,spatialReference:null,fieldAliases:null,toJson:function(k){var u={};this.displayFieldName&&(u.displayFieldName=this.displayFieldName);this.fields&&(u.fields=this.fields);this.spatialReference?u.spatialReference=this.spatialReference.toJson():this.features[0]&&this.features[0].geometry&&
(u.spatialReference=this.features[0].geometry.spatialReference.toJson());this.features[0]&&(this.features[0].geometry&&(u.geometryType=e.getJsonType(this.features[0].geometry)),u.features=c._encodeGraphics(this.features,k));u.geometryType=u.geometryType||this.geometryType;u.exceededTransferLimit=this.exceededTransferLimit;u.transform=this.transform;return t.fixJson(u)},_hydrate:function(){e.unquantize(this.features,this.geometryType,this.transform);this.transform=null},quantize:function(k){if(!this.geometryType)return this.transform=
null,this;var u=k.translate[0],v=k.translate[1],g=k.scale[0],q=k.scale[1],x=this.features,w=function(y,D,F){var H,E=[];var I=0;for(H=y.length;I<H;I++){var J=y[I];if(0<I){var K=D(J[0]);J=F(J[1]);if(K!==L||J!==O){E.push([K-L,J-O]);var L=K;var O=J}}else L=D(J[0]),O=F(J[1]),E.push([L,O])}return 0<E.length?E:null},B=function(y,D,F){if("esriGeometryPoint"===y)return function(H){H.x=D(H.x);H.y=F(H.y);return H};if("esriGeometryPolyline"===y||"esriGeometryPolygon"===y)return function(H){var E;var I=H.rings||
H.paths;var J=[];var K=0;for(E=I.length;K<E;K++){var L=I[K];(L=w(L,D,F))&&J.push(L)}return 0<J.length?(H.rings?H.rings=J:H.paths=J,H):null};if("esriGeometryMultipoint"===y)return function(H){var E=w(H.points,D,F);return 0<E.length?(H.points=E,H):null};if("esriGeometryEnvelope"===y)return function(H){return H}}(this.geometryType,function(y){return Math.round((y-u)/g)},function(y){return Math.round((v-y)/q)}),z;var C=0;for(z=x.length;C<z;C++)x[C].geometry&&(B(x[C].geometry)||x[C].setGeometry(null));
this.transform=k;return this}});G.createGraphics=function(k){var u=k.geometryType,v=e.createInstance(h.simpleConstructor,k.spatialReference),g=e.getGeometryType(u).accessorConstructor,q=e.unquantizeFunction(u,k.transform);return a.map(k.features,function(x,w){w=e.createInstance(n.simpleConstructor);var B=x.geometry;if(B){var z=w.geometry=e.createInstance(g);z.setSpatialReference(v);z.setupLazyUnquantization(q,B)}w.attributes=x.attributes;return w})};G.createPolygon=function(k,u,v){if(k){var g=e.createInstance(b.accessorConstructor);
g.setSpatialReference(u);u=e.unquantizeFunction("esriGeometryPolygon",v);g.setupLazyUnquantization(u,k)}return g};m("extend-esri")&&A.setObject("tasks.FeatureSet",G,p);return G})},"esri/graphic":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ./kernel ./domUtils ./lang ./InfoTemplate ./geometry/jsonUtils ./symbols/jsonUtils".split(" "),function(G,A,a,m,p,t,n,h,c){function b(){}G=G(null,{declaredClass:"esri.Graphic",constructor:function(e,f,k,u){this._construct();e&&!e.declaredClass?
(this.geometry=e.geometry?h.fromJson(e.geometry):null,this.symbol=e.symbol?c.fromJson(e.symbol):null,this.attributes=e.attributes||null,this.infoTemplate=e.infoTemplate?new n(e.infoTemplate):null):(this.geometry=e,this.symbol=f,this.attributes=k,this.infoTemplate=u)},_geomVersion:0,_resolution:null,_shape:null,_bgShape:null,_dataAttrs:null,_layer:null,_sourceLayer:null,_graphicsLayer:null,_parentGraphic:null,_suspended:!1,size:null,visible:!0,_aggregationSourceLayer:null,_aggregationInfo:null,_computedAttributes:null,
_computedVersion:null,_computedGeomVersion:null,getParentGraphic:function(){return this._parentGraphic},setParentGraphic:function(e){this._parentGraphic=e},setSize:function(e){this.size=e;return this},getAggregationSourceLayer:function(){return this._aggregationSourceLayer},setAggregationSourceLayer:function(e){this._aggregationSourceLayer=e;return this},isAggregate:function(){return!!this._aggregationInfo},getAggregationInfo:function(){return this._aggregationInfo},setAggregationInfo:function(e){this._aggregationInfo=
e;return this},getChildGraphics:function(){var e=this.getAggregationSourceLayer();return e?e.getChildGraphics(this):[]},getDojoShape:function(){return this._shape},getShapes:function(){var e=[];this._shape&&e.push(this._shape);this._bgShape&&e.push(this._bgShape);return e},getNode:function(){var e=this._shape&&this._shape.getNode();return e&&e.nodeType?e:null},getNodes:function(){var e=this.getShapes(),f,k,u=e.length,v=[];for(k=0;k<u;k++)(f=e[k]&&e[k].getNode())&&f.nodeType&&v.push(f);return v},getLayer:function(){return this._layer},
getSourceLayer:function(){return this._sourceLayer||this._layer},clone:function(){var e=new this.constructor(this.toJson());e.visible=this.visible;e._layer=this._layer;e._sourceLayer=this._sourceLayer;e._aggregationSourceLayer=this._aggregationSourceLayer;e._aggregationInfo=this._aggregationInfo;e._resolution=this._resolution;return e},draw:function(){var e=this._graphicsLayer;e&&e._draw(this,!0);return this},setGeometry:function(e){this.geometry=e;this._geomVersion++;var f=this._graphicsLayer;f&&
(f._updateExtent(this),this.draw(),e&&"polyline"===e.type&&f._updateSVGMarkers());return this},setResolution:function(e){this._resolution=e;return this},getResolution:function(){return this._resolution},setSymbol:function(e,f){var k=this._graphicsLayer,u=this._shape;this.symbol=e;k&&(f&&u&&k._removeShape(this),this.draw());return this},setAttributes:function(e){this.attributes=e;this.clearCache();return this},setInfoTemplate:function(e){this.infoTemplate=e;return this},getInfoTemplate:function(){return this._getEffInfoTemplate()},
_getEffInfoTemplate:function(){var e=this.getLayer();return this.infoTemplate||e&&e.infoTemplate},getTitle:function(){var e=this.getInfoTemplate(),f=e&&e.title;if(A.isFunction(f))f=f.call(e,this);else if(A.isString(f)){var k=(e=this.getLayer())&&e._getDateOpts;f=t.substitute(this.attributes,f,{first:!0,dateFormat:k&&k.call(e)})}return f},getContent:function(){var e=this.getInfoTemplate(),f=e&&e.content;if(A.isFunction(f))f=f.call(e,this);else if(A.isString(f)){var k=(e=this.getLayer())&&e._getDateOpts;
f=t.substitute(this.attributes,f,{dateFormat:k&&k.call(e)})}return f},attr:function(e,f){null==f||this._dataAttrs||(this._dataAttrs={});this._dataAttrs&&(this._dataAttrs[e]=f,this._setDataAttr(e,f));return this},_isSuspended:function(){return this._suspended},_suspend:function(){this._suspended=!0;this.draw()},_resume:function(){this._suspended=!1;this.draw()},show:function(){this.visible=!0;this.attr("data-hidden");var e;if(this.getShapes().length){var f=this.getNodes();var k=f.length;for(e=0;e<
k;e++)p.show(f[e])}else this.draw();(f=this._graphicsLayer)&&f._graphicVisibilityChanged(this);return this},hide:function(){this.visible=!1;this.attr("data-hidden","");var e=this._graphicsLayer,f,k;if(e){if("canvas-2d"===e.surfaceType)e._removeShape(this);else{var u=this.getNodes();if(k=u.length)for(f=0;f<k;f++)p.hide(u[f])}e._graphicVisibilityChanged(this)}return this},toJson:function(){var e={};this.geometry&&(e.geometry=this.geometry.toJson());this.attributes&&(e.attributes=A.mixin({},this.attributes));
this.symbol&&(e.symbol=this.symbol.toJson());this.infoTemplate&&(e.infoTemplate=this.infoTemplate.toJson());return e},_setDataAttr:function(e,f){var k=this.getNodes(),u,v=k.length;for(u=0;u<v;u++)this._setDOMDataAttr(k[u],e,f)},_setDOMDataAttr:function(e,f,k){null==k?e.removeAttribute(f):e.setAttribute(f,k)},_applyDataAttrs:function(){var e=this._dataAttrs;if(e){var f=this.getNodes(),k,u=f.length;for(k=0;k<u;k++)for(var v in e)this._setDOMDataAttr(f[k],v,e[v])}},_getViewInfo:function(e){return(e=
(e=e||this.getLayer())&&e.getMap())&&e.getViewInfo()},evaluateExpression:function(e,f){return this._getDataValue(e._attributeDef,e._attributeCache,null,null,e,f)},_getDataValue:function(e,f,k,u,v,g){var q=f.id,x=this.attributes,w=e.field,B=f.isNumeric,z=null;if(q){var C=this._computedAttributes,y=this._computedVersion,D=this._computedGeomVersion;u=this._getViewInfo(u);var F=!(!v||!v.async),H=g&&g.skipCache||F,E=!g||!1!==g.strictReturnType,I=f.dependsOnView||f.isJSFunc,J=f.dependsOnGeometry;C||(C=
this._computedAttributes={});I&&!y&&(y=this._computedVersion={});J&&!D&&(D=this._computedGeomVersion={});var K=I&&y[q]!==u.version||J&&D[q]!==this._geomVersion;z=C[q];if(void 0===z||K||H)z=null,f.hasExpr?z=v?v.evaluate(g&&g.context):k.executeFunction(f.compiledFunc,k.createExecContext(this,u)):f.isJSFunc?z=w(this,e):x&&(z=x[w],B&&this._isValidNumber(z)&&(f=e.normalizationType||"field",k=z,z=null,v=e.normalizationTotal,e=x[e.normalizationField],"log"===f&&0!==k?z=Math.log(k)*Math.LOG10E:"percent-of-total"===
f&&this._isValidNumber(v)&&0!==v?z=k/v*100:"field"===f&&this._isValidNumber(e)&&0!==e&&(z=k/e))),E&&(F?B&&(this._construct(),z=z.then(this._sanitizeNumericValue)):z=this._sanitizeValue(z,B)),H||(C[q]=z,I&&(y[q]=u.version),J&&(D[q]=this._geomVersion))}else x&&(z=this._sanitizeValue(x[w],B));return z},_sanitizeValue:function(e,f){f&&!this._isValidNumber(e)&&(e=null);return e},_sanitizeNumericValue:function(e){return this._sanitizeValue(e,!0)},_construct:function(){this._constructed||(this._sanitizeNumericValue=
A.hitch(this,this._sanitizeNumericValue),this._constructed=!0)},_isValidNumber:function(e){return"number"===typeof e&&!isNaN(e)&&Infinity!==e&&-Infinity!==e},clearCache:function(e){if(null!=e){var f=this._computedAttributes,k=this._computedVersion,u=this._computedGeomVersion;f&&(f[e]=void 0);k&&(k[e]=void 0);u&&(u[e]=void 0)}else this._computedAttributes=this._computedVersion=this._computedGeomVersion=null}});G.prototype.getShape=G.prototype.getDojoShape;b.prototype=G.prototype;G.simpleConstructor=
b;a("extend-esri")&&(m.Graphic=G);return G})},"esri/InfoTemplate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","./kernel","./lang"],function(G,A,a,m,p){G=G(null,{declaredClass:"esri.InfoTemplate",constructor:function(t,n){t&&A.isObject(t)&&!A.isFunction(t)?A.mixin(this,t):(this.title=t||"${*}",this.content=n||"${*}")},setTitle:function(t){this.title=t;return this},setContent:function(t){this.content=t;return this},toJson:function(){return p.fixJson({title:this.title,content:this.content})}});
a("extend-esri")&&(m.InfoTemplate=G);return G})},"esri/graphicsUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has","./kernel","./geometry/Extent"],function(G,A,a,m,p){var t={graphicsExtent:function(n){if(!n||!n.length)return null;var h=null,c,b=n.length;for(c=0;c<b;c++){var e=n[c].geometry;if(e){var f=e.getExtent();f||"point"!==e.type||null==e.x||null==e.y||(f=new p(e.x,e.y,e.x,e.y,e.spatialReference));f&&(h=h?h.union(f):f)}}return 0>h.getWidth()&&0>h.getHeight()?null:h},getGeometries:function(n){return A.map(n,
function(h){return h.geometry})},_encodeGraphics:function(n,h){return A.map(n,function(c,b){c=c.toJson();var e={};c.geometry&&(b=h&&h[b],e.geometry=b&&b.toJson()||c.geometry);c.attributes&&(e.attributes=c.attributes);return e})}};a("extend-esri")&&G.mixin(m,t);return t})},"esri/tasks/query":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../geometry/jsonUtils ./SpatialRelationship dojo/has!extend-esri?./QueryTask dojo/has!extend-esri?./RelationshipQuery dojo/has!extend-esri?./StatisticDefinition".split(" "),
function(G,A,a,m,p,t,n,h){var c=G(null,{declaredClass:"esri.tasks.Query",constructor:function(){this.spatialRelationship=c.SPATIAL_REL_INTERSECTS},text:null,where:"",geometry:null,groupByFieldsForStatistics:null,objectIds:null,returnGeometry:!1,returnCentroid:null,returnDistinctValues:!1,returnExceededLimitFeatures:null,maxRecordCountFactor:null,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,timeExtent:null,relationParam:null,pixelSize:null,distance:null,units:null,
resultOffset:null,resultRecordCount:null,resultType:null,cacheHint:null,sqlFormat:null,quantizationParameters:null,_units:{meters:"esriSRUnit_Meter",kilometers:"esriSRUnit_Kilometer",feet:"esriSRUnit_Foot",miles:"esriSRUnit_StatuteMile","nautical-miles":"esriSRUnit_NauticalMile","us-nautical-miles":"esriSRUnit_USNauticalMile"},toJson:function(b){var e={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:this.spatialRelationship,maxAllowableOffset:this.maxAllowableOffset,
geometryPrecision:this.geometryPrecision,sqlFormat:this.sqlFormat},f=b&&b.geometry||this.geometry,k=this.objectIds,u=this.outFields,v=this.outSpatialReference,g=this.groupByFieldsForStatistics,q=this.orderByFields,x=this.outStatistics;b=this.distance;f&&(e.geometry=f,e.geometryType=n.getJsonType(f),e.inSR=f.spatialReference.wkid||m.toJson(f.spatialReference.toJson()));k&&(e.objectIds=k.join(","));u&&(e.outFields=u.join(","));null!=this.returnCentroid&&(e.returnCentroid=this.returnCentroid);this.returnDistinctValues&&
(e.returnDistinctValues=!0);null!=this.returnExceededLimitFeatures&&(e.returnExceededLimitFeatures=this.returnExceededLimitFeatures);null!=this.maxRecordCountFactor&&(e.maxRecordCountFactor=this.maxRecordCountFactor);g&&(e.groupByFieldsForStatistics=g.join(","));q&&(e.orderByFields=q.join(","));if(x){var w=[];a.forEach(x,function(B){w.push(B.toJson())});e.outStatistics=m.toJson(w)}v?e.outSR=v.wkid||m.toJson(v.toJson()):f&&(e.outSR=f.spatialReference.wkid||m.toJson(f.spatialReference.toJson()));f=
this.timeExtent;e.time=f?f.toJson().join(","):null;(f=this.relationParam)&&this.spatialRelationship===c.SPATIAL_REL_RELATION&&(e.relationParam=f);b&&(e.distance=this.distance,this.hasOwnProperty("units")?e.units=this._units[this.units]||this._units.meters:(console.warn("esri/tasks/query::no distance unit provided, defaulting to meters"),e.units=this._units.meters));this.hasOwnProperty("start")&&(e.resultOffset=this.start,e.resultRecordCount=10,""===e.where&&(e.where="1\x3d1"));this.hasOwnProperty("num")&&
(e.resultRecordCount=this.num);e.resultType=this.resultType;null!=this.cacheHint&&(e.cacheHint=this.cacheHint);e.pixelSize=this.pixelSize?m.toJson(this.pixelSize.toJson()):null;e.multipatchOption=this.multipatchOption;this.quantizationParameters&&(e.quantizationParameters=m.toJson(this.quantizationParameters));e._ts=this._ts;return e}});A.mixin(c,h);p("extend-esri")&&A.setObject("tasks.Query",c,t);return c})},"esri/tasks/SpatialRelationship":function(){define(["dojo/_base/lang","dojo/has","../kernel"],
function(G,A,a){var m={SPATIAL_REL_INTERSECTS:"esriSpatialRelIntersects",SPATIAL_REL_CONTAINS:"esriSpatialRelContains",SPATIAL_REL_CROSSES:"esriSpatialRelCrosses",SPATIAL_REL_ENVELOPEINTERSECTS:"esriSpatialRelEnvelopeIntersects",SPATIAL_REL_INDEXINTERSECTS:"esriSpatialRelIndexIntersects",SPATIAL_REL_OVERLAPS:"esriSpatialRelOverlaps",SPATIAL_REL_TOUCHES:"esriSpatialRelTouches",SPATIAL_REL_WITHIN:"esriSpatialRelWithin",SPATIAL_REL_RELATION:"esriSpatialRelRelation"};A("extend-esri")&&G.setObject("tasks._SpatialRelationship",
m,a);return m})},"esri/tasks/StatisticDefinition":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(G,A,a,m){G=G(null,{declaredClass:"esri.tasks.StatisticDefinition",toJson:function(){return{statisticType:this.statisticType,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount}}});a("extend-esri")&&A.setObject("tasks.StatisticDefinition",
G,m);return G})},"esri/layers/GraphicsLayer":function(){define("require dojo/_base/declare dojo/_base/Deferred dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom dojox/gfx dojox/gfx/matrix ./gfxSniff!esri-svg?dojox/gfx/filters ./layer ./support/webglUtils ./support/WebGLSurface ../kernel ../lang ../sniff ../Color ../domUtils ../symbols/MarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/utils ../geometry/Point ../geometry/ScreenPoint ../geometry/Extent ../geometry/mathUtils ../geometry/screenUtils ../PluginTarget ./gfxSniff!esri-svg?dojox/gfx/svgext".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F,H,E,I,J,K,L){var O=-1!==f.renderer.toLowerCase().indexOf("svg"),U=-1!==f.renderer.toLowerCase().indexOf("canvas"),S=U?"canvas-2d":f.renderer,M=9>B("ie");n=10===B("ie");var N=void 0===B("ie")&&7==B("trident"),T=n||N,V=B("esri-touch"),ea=!!B("chrome"),P=g.isWebGLEnabled(),ba=O&&B("esri-will-change"),la=P||U;g=A(null,{declaredClass:"esri.layers._GraphicsContainer",_setMap:function(Q,Y){var ja=this._connects=[];this._map=Q;this._useWillChange=
this._useGlobalTransform="css-transforms"===Q.navigationMode&&ba;if(la){var pa=c.create("div",{style:{position:"absolute",overflow:"visible"}},Y);this._surface={getEventSource:function(){return pa}};U&&(ja.push(m.connect(pa,"onmousedown",this,this._canvasDownHandler)),ja.push(m.connect(pa,"onmouseup",this,this._canvasUpHandler)),ja.push(m.connect(pa,"onclick",this,this._canvasClickHandler)));P&&(this._webglSurface=new q({map:Q,node:pa}))}else pa=(this._surface=f.createSurface(Y,Q.width,Q.height)).getEventSource(),
this._useWillChange&&b.set(pa,"will-change","transform"),b.set(pa=M?pa.parentNode:pa,{overflow:"visible",position:"absolute"});ja.push(m.connect(Q,"onResize",this,"_onResizeHandler"));this._useGlobalTransform&&(ja.push(m.connect(Q,"onPan",this,"_onPanHandler")),ja.push(m.connect(Q,"onPanEnd",this,"_onPanEndHandler")),ja.push(m.connect(Q,"onExtentChange",this,"_onExtentChangeHandler")));return pa},_reorderLayer:function(Q,Y,ja){Y=Y.getEventSource();la&&"svg"===Q.surfaceType&&(Y=Y.parentNode);c.place(Y,
this._surface.getEventSource(),ja)},_onPanHandler:function(Q,Y){var ja=this._map.__visibleRect;Q=ja.x+Y.x;Y=ja.y+Y.y;this._panDx=Q;this._panDy=Y;la||b.set(this._surface.getEventSource(),x._css.names.transform,x._css.translate(Q,Y))},_onPanEndHandler:function(Q,Y){Y=this._map.__visibleRect;Q=Y.x;Y=Y.y;this._panDx=Q;this._panDy=Y;la||b.set(this._surface.getEventSource(),x._css.names.transform,x._css.translate(Q,Y))},_onExtentChangeHandler:function(Q,Y,ja,pa){ja&&(this._panDy=this._panDx=0,la||b.set(this._surface.getEventSource(),
x._css.names.transform,x._css.translate(0,0)))},_getTransform:function(){return{dx:this._panDx||0,dy:this._panDy||0}},_onResizeHandler:function(Q,Y,ja){Q=this._surface.getEventSource();var pa=this._map,ka;M&&b.set(Q=Q.parentNode,{width:Y+"px",height:ja+"px",clip:"rect(0px "+Y+"px "+ja+"px 0px)"});h.set(Q,"width",Y);h.set(Q,"height",ja);this._surface.declaredClass||t.forEach(Q.childNodes,function(va){h.set(va,"width",Y);h.set(va,"height",ja)});pa.loaded&&(pa.graphics.suspended||(pa.graphics._resized=
!0),t.forEach(pa.graphicsLayerIds,function(va){ka=pa.getLayer(va);ka.suspended||(ka._resized=!0,ka._childLayer&&(ka._childLayer._resized=!0));ka._updateSVGFilters(null,null,Y,ja)}),pa.graphics._updateSVGFilters(null,null,Y,ja),pa._labels&&pa._labels._updateSVGFilters(null,null,Y,ja))},_cleanUp:function(){t.forEach(this._connects,m.disconnect,m);this._map=this._surface=null},_processEvent:function(Q){var Y=this._map;Q.screenPoint=new E(Q.pageX-Y.position.x,Q.pageY-Y.position.y);Q.mapPoint=Y.toMap(Q.screenPoint)},
_canvasDownHandler:function(Q){this._processEvent(Q);this._downPt=Q.screenPoint.x+","+Q.screenPoint.y},_canvasUpHandler:function(Q){this._processEvent(Q);this._upPt=Q.screenPoint.x+","+Q.screenPoint.y},_tolerance:15,_isPrimaryMatch:function(Q,Y,ja,pa){if(!Q.visible||!Y)return!1;var ka=Y.getTransformedBoundingBox();if(ka){var va=new I(ka[0].x,ka[0].y,ka[2].x,ka[2].y);delete va.spatialReference;return V?va.intersects(ja):va.contains(pa)}return t.some(Y.children||[],function(Aa){ka=Aa.getTransformedBoundingBox();
va=new I(ka[0].x,ka[0].y,ka[2].x,ka[2].y);delete va.spatialReference;return V?va.intersects(ja):va.contains(pa)})},_canvasClickHandler:function(Q){if(this._downPt&&this._upPt&&this._downPt===this._upPt){this._processEvent(Q);var Y=this._map,ja=t.map(Y.graphicsLayerIds,function(ta){return Y.getLayer(ta)});ja.push(Y.graphics);ja.reverse();ja=t.filter(ja,function(ta){return ta.loaded&&!ta.hasWebGLSurface()&&ta._mouseEvents&&!ta.suspended&&(!w.isDefined(ta.opacity)||0<ta.opacity)});var pa=Q.screenPoint,
ka=this._tolerance,va=pa.x-ka,Aa=pa.y+ka,da=pa.x+ka;ka=pa.y-ka;var ca=new I(va,ka,da,Aa);va=Y.toMap(new E(va,Aa));da=Y.toMap(new E(da,ka));Aa=va.spatialReference._getInfo();var ma=new I(I.prototype._normalizeX(va.x,Aa).x,va.y,I.prototype._normalizeX(da.x,Aa).x,da.y,va.spatialReference),qa;delete ca.spatialReference;t.some(ja,function(ta){ta=t.filter(ta.graphics,function(ha){return this._isPrimaryMatch(ha,ha.getDojoShape(),ca,pa)||!(!ha._bgShape||!this._isPrimaryMatch(ha,ha._bgShape,ca,pa))},this);
ta.reverse();if(0<ta.length){var Ca;t.some(ta,function(ha){return ha.geometry&&ma.intersects(ha.geometry)?(Ca=ha,!0):!1});if(Ca)return qa=Ca,!0}return!1},this);qa&&(ja=qa.getLayer())&&(Q.graphic=qa,ja.onClick(Q))}}});v=A(v,{declaredClass:"esri.layers._GraphicsLayer",managedSuspension:!0,surfaceType:S,webglEnabled:P,renderer:null,_eventMap:{"graphic-add":["graphic"],"graphic-remove":["graphic"],"renderer-change":["renderer"]},_suspendGraphics:!1,constructor:function(Q,Y){Q=Q||{};if(p.isString(Q)||
p.isObject(Q)&&(Q.layerDefinition||Q.query))Q=Y;this._params=p.mixin({displayOnPan:!0,drawMode:!0,styling:!0},Q);Y=this._params.dataAttributes;"string"===typeof Y&&(Y=[Y]);this.styling=O?this._params.styling:!0;this.dataAttributes=Y;this.infoTemplate=Q&&Q.infoTemplate;this.graphics=[];this._draw=p.hitch(this,this._draw);this._refresh=p.hitch(this,this._refresh);this._acquireSVGMarker=p.hitch(this,this._acquireSVGMarker);this._evalSurfaceType=p.hitch(this,this._evalSurfaceType);this._setSurfaceType=
p.hitch(this,this._setSurfaceType);this.setWebGLEnabled(null!=this._params.webglEnabled?this._params.webglEnabled:this.webglEnabled);this.registerConnectEvents()},getNode:function(){return this._div&&this._div.getEventSource()},setDrawMode:function(Q){this._params.drawMode=Q},suspendGraphics:function(Q){this._suspendGraphics=Q;t.forEach(this.graphics,function(Y){Y._suspended=Q})},setWebGLEnabled:function(Q){var Y=this.webglEnabled;this.webglEnabled=(Q||!1)&&P;Y!==this.webglEnabled&&(this._evalSurfaceType(),
this.onWebGLEnabledChange())},hasWebGLSurface:function(){return"webgl"===this.surfaceType},_getSurfaceType:function(Q){return Q&&"webgl"===Q.surfaceType?"webgl":S},_evalSurfaceType:function(Q){P&&(Q?this._setSurfaceType():null==this._evalSurfaceTimerHandle&&(this._evalSurfaceTimerHandle=setTimeout(this._setSurfaceType,0)))},_hasPendingSurfaceEval:function(){return!!this._evalSurfaceTimerHandle},_setSurfaceType:function(){clearTimeout(this._evalSurfaceTimerHandle);this._evalSurfaceTimerHandle=null;
var Q=this._canUseWebGLSurface()?"webgl":S;this.surfaceType!==Q?(this.surfaceType=Q,this._handleSurfaceChange(),this.onSurfaceChange()):this._pendingRedraw&&this._redraw()},_handleSurfaceChange:function(){this._cancelWebGLDepsLoad();this._webglDepsPromise=this._prepareToAttach(this._map);this._webglDepsPromise.always(p.hitch(this,function(Q){this._webglDepsPromise=null;Q&&"cancel"===Q.dojoType||this._evalSurface()}))},_cancelWebGLDepsLoad:function(){this._webglDepsPromise&&!this._webglDepsPromise.isFulfilled()&&
this._webglDepsPromise.cancel();this._webglDepsPromise=null},_evalSurface:function(){var Q=this._map,Y=this._div;Q&&Y&&this._getSurfaceType(Y)!==this.surfaceType&&(Q._detachGraphicsLayer(this),Q._attachGraphicsLayer(this))},_canUseWebGLSurface:function(Q){Q=Q||this._map;return this.webglEnabled&&(!Q||Q.webglEnabled&&(Q.ownsWebGLContext(this)||Q.isWebGLContextAvailable()))&&this._params.drawMode&&this._isWebGLCompatible()},_isWebGLCompatible:function(){return!1},_prepareToAttach:function(Q){var Y=
new a;!this.webglDeps&&this._canUseWebGLSurface(Q)?G(["./support/webglDeps"],p.hitch(this,function(ja){this.webglDeps=ja;Y.isFulfilled()||Y.resolve()})):Y.resolve();return Y.promise},_setMap:function(Q,Y){this.inherited(arguments);this._map=Q;this._evalSurfaceType(!0);this._webglChangeMapHandle=Q.on("webgl-enabled-change",p.hitch(this,function(){this._evalSurfaceType()}));this._wrap=Q.wrapAround180;this._srInfo=Q.spatialReference._getInfo();this._svgFilters={};this._lineMarkers={};if(this.hasWebGLSurface())Q.acquireWebGLContext(this),
this._div=Q._gc._webglSurface.createRenderer(this.webglDeps.WebGLRenderer,Q.width,Q.height,this);else{if("svg"===this.surfaceType)if(la){Y=f.createSurface(Y.getEventSource(),Q.width,Q.height);var ja=Y.getEventSource();b.set(ja,{position:"absolute",overflow:"visible",pointerEvents:"none"});Q._gc._useWillChange&&b.set(ja,"will-change","transform");this._div=Y.createGroup();b.set(this._div.getEventSource(),"pointer-events","auto")}else this._div=Y.createGroup();else Y=f.createSurface(Y.getEventSource(),
Q.width,Q.height),b.set(Y.rawNode,"position","absolute"),this._div=Y.createGroup(),this._renderProto=this._div.constructor.prototype._render,this._div._render=p.hitch(this,this._canvasRender);this._bgGroup=this._div.createGroup()}this._div.getEventSource().id=this.id+"_layer";this._initOpacity();return this._div},_unsetMap:function(Q,Y){Q.releaseWebGLContext(this);"webgl"===this._div.surfaceType?Q._gc._webglSurface.destroyRenderer(this._div):(t.forEach(this.graphics,function(ja){ja._shape=null}),
"svg"===this.surfaceType?la?(Y=this._div.parent,this._div.clear(),Y.remove(this._div),c.destroy(this._div.getEventSource()),c.destroy(Y.getEventSource())):(this._div.clear(),Y.remove(this._div),c.destroy(this._div.getEventSource())):(Y=this._div.getParent(),Y._parent={},c.destroy(Y.rawNode),Y.destroy()));this._map=this._div=this._svgFilters=this._lineMarkers=null;this._pendingRedraw=!1;clearTimeout(this._wakeTimer);this._wakeTimer=null;clearTimeout(this._evalSurfaceTimerHandle);this._evalSurfaceTimerHandle=
null;this._webglChangeMapHandle&&this._webglChangeMapHandle.remove();this._cancelWebGLDepsLoad();this._disableDrawConnectors();this.inherited(arguments)},_initOpacity:function(){var Q=this.opacity;w.isDefined(Q)&&1>Q&&this.setOpacity(Q,!0)},_onZoomStartHandler:function(){this.hasWebGLSurface()||C.hide(this._div.getEventSource())},_onExtentChangeHandler:function(Q,Y,ja,pa){clearTimeout(this._wakeTimer);this._wakeTimer=null;ja?(Q=this._map.__visibleRect,Y=this._div,this._evalSDRenderer(),this._refresh(!0),
this._params._child||this._updateTransform(Y,Q.x,Q.y,!0),this._renderProto&&Y.surface.pendingRender?this._dirty=!0:this.suspended||C.show(Y.getEventSource())):this._resized&&(this._resized=!1,this._refresh(!1));if(0<this.graphics.length)this.onUpdate()},_canvasRender:function(){var Q=this._div;this._dirty&&(delete this._dirty,this.suspended||C.show(Q.getEventSource()));return this._renderProto.apply(Q,arguments)},_refresh:function(Q){if(!this.hasWebGLSurface()){var Y=this.graphics,ja=Y.length,pa,
ka=this._draw;for(pa=0;pa<ja;pa++)ka(Y[pa],Q)}},refresh:function(){this._refresh(!0)},_redraw:function(){this._pendingRedraw=!1;this.hasWebGLSurface()?this._div&&this._div.redraw():this._refresh(!0)},redraw:function(){this._hasPendingSurfaceEval()?this._pendingRedraw=!0:this._redraw()},hasLocalNavigationTransform:function(){return!(this._map&&this._map._gc._useGlobalTransform)},getNavigationTransform:function(){var Q={dx:0,dy:0};this._map&&(this.hasLocalNavigationTransform()?this._div&&!this.hasWebGLSurface()&&
(Q=this._div.getTransform()):Q=this._map._gc._getTransform());return Q},_onPanHandler:function(Q,Y){this._panDx=Y.x;this._panDy=Y.y;Q=this._map.__visibleRect;this._updateTransform(this._div,Q.x+Y.x,Q.y+Y.y);N&&this._updateSVGMarkers()},_onPanEndUpdateHandler:function(Q,Y){Q=this._map.__visibleRect;this._params._child||Y.x===this._panDx&&Y.y===this._panDy?(this._updateSVGFilters(-Q.x,-Q.y),this._updateSVGMarkers()):this._updateTransform(this._div,Q.x,Q.y,!0);this._refresh(!1);if(this.graphics.length)this.onUpdate()},
_onPanStartHandler:function(){C.hide(this._div.getEventSource())},_onPanEndHandler:function(){var Q=this._map.__visibleRect,Y=this._div;this._updateTransform(Y,Q.x,Q.y,!0);this._refresh(!1);this._renderProto&&Y.surface.pendingRender?this._dirty=!0:C.show(Y.getEventSource());if(this.graphics.length)this.onUpdate()},_updateTransform:function(Q,Y,ja,pa){this.hasWebGLSurface()||(this.hasLocalNavigationTransform()?Q.setTransform(k.translate({x:Y,y:ja})):la&&b.set(this._div.parent.getEventSource(),x._css.names.transform,
x._css.translate(Y,ja)),pa&&(this._updateSVGFilters(-Y,-ja),this._updateSVGMarkers()))},onSuspend:function(){this.inherited(arguments);C.hide(this._div.getEventSource());clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors()},onResume:function(Q){this.inherited(arguments);Q.firstOccurrence&&this._evalSDRenderer();this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(p.hitch(this,function(){this.suspended||this._map.__zooming||this._onExtentChangeHandler(null,
null,!0)}),0)},_enableDrawConnectors:function(){var Q=this._map,Y=m.connect;this._disableDrawConnectors();this._params.displayOnPan?(this._params._child||(this._onPanHandler_connect=Y(Q,"onPan",this,"_onPanHandler")),this._onPanEndHandler_connect=Y(Q,"onPanEnd",this,"_onPanEndUpdateHandler")):(this._onPanStartHandler_connect=Y(Q,"onPanStart",this,"_onPanStartHandler"),this._onPanEndHandler_connect=Y(Q,"onPanEnd",this,"_onPanEndHandler"));this._onZoomStartHandler_connect=Y(Q,"onZoomStart",this,"_onZoomStartHandler");
this._onExtentChangeHandler_connect=Y(Q,"onExtentChange",this,"_onExtentChangeHandler")},_disableDrawConnectors:function(){var Q=m.disconnect;Q(this._onExtentChangeHandler_connect);Q(this._onZoomStartHandler_connect);Q(this._onPanHandler_connect);Q(this._onPanStartHandler_connect);Q(this._onPanEndHandler_connect);this._onExtentChangeHandler_connect=this._onZoomStartHandler_connect=this._onPanHandler_connect=this._onPanStartHandler_connect=this._onPanEndHandler_connect=null},_updateExtent:function(Q){var Y=
Q.geometry;if(!Y)Q._extent=null;else if(!(Q._extent=Y.getExtent())){if("esri.geometry.Point"===Y.declaredClass){var ja=Y.x;var pa=Y.y}else if("esri.geometry.Multipoint"===Y.declaredClass)ja=Y.points[0][0],pa=Y.points[0][1];else{Q._extent=null;return}Q._extent=new I(ja,pa,ja,pa,Y.spatialReference)}},_intersects:function(Q,Y,ja){var pa=Q.spatialReference,ka=Y.spatialReference,va=pa&&ka&&!pa.equals(ka)&&pa._canProject(ka)&&4326===ka.wkid;if(this._wrap&&!ja){ja=[];pa=Q._getFrameWidth();var Aa=this._srInfo,
da=Q._clip?Q._getAvailExtent():Q.extent,ca,ma=[];var qa=Y._partwise;va&&(da=Q.geographicExtent,Aa=ka._getInfo());Q=da._getParts(Aa);if(qa&&qa.length)for(Y=[],ka=0,va=qa.length;ka<va;ka++)Y=Y.concat(qa[ka]._getParts(Aa));else Y=Y._getParts(Aa);ka=0;for(va=Y.length;ka<va;ka++){var ta=Y[ka];Aa=0;for(da=Q.length;Aa<da;Aa++){var Ca=Q[Aa];if(Ca.extent.intersects(ta.extent))for(qa=0,ca=ta.frameIds.length;qa<ca;qa++)ja.push((Ca.frameIds[0]-ta.frameIds[qa])*pa)}}ka=0;for(va=ja.length;ka<va;ka++)qa=ja[ka],
t.indexOf(ja,qa)===ka&&ma.push(qa);return ma.length?ma:null}return(va?Q.geographicExtent:Q.extent).intersects(Y)?[0]:null},_defaultMarker:{type:"simplemarkersymbol",style:"square",size:1,xoffset:0,yoffset:0,angle:0},_draw:function(Q,Y){if(!this.hasWebGLSurface()&&this._params.drawMode&&this._map&&!this.suspended&&!this._map.__zooming&&!this._resized)try{var ja=Q._extent,pa,ka,va=!O||this.styling,Aa=O&&this.dataAttributes,da=Q.getDojoShape(),ca;if(!Q._suspended&&Q.visible&&ja&&(pa=this._intersects(this._map,
ja,Q.geometry._originOnly))&&(ka=va?this._getSymbol(Q):this._defaultMarker)){if(Q._offsets&&Q._offsets.join(",")===pa.join(",")?ca=!0:Q._offsets=pa,!da||Y||!ca){var ma=Q.geometry.type;Y={graphic:Q};var qa=Q._bgShape,ta=va&&!Q.symbol?this._getRenderer(Q):null,Ca=ta&&ta.backgroundFillSymbol;if("point"===ma)this._isInvalidShape(ka,da)&&this._removeShape(Q),Q._shape=this._drawPoint(this._div,Q.geometry,ka,Q.getDojoShape(),pa,ta,Q),va&&this._symbolizePoint(Q.getDojoShape(),ka,ta,Q);else if("multipoint"===
ma)this._drawMarkers(Q,ka,pa,ta),va&&this._symbolizeMarkers(Q,ka,ta);else{var ha;ma=ka;var fa;va&&(ma=(ha="simplemarkersymbol"===ka.type||"picturemarkersymbol"===ka.type||"textsymbol"===ka.type?ka:null)?Ca:ka);if(va&&ma&&-1<ma.type.indexOf("fillsymbol")){var ra=this._bgGroup;var wa=!(!ra||!ha)}qa&&!wa&&this._removeBgShape(Q);if(ma){!wa&&(this._isInvalidShape(ma,Q._shape)||Q._shape&&Q._shape._isCentroidMarker)&&this._removeShape(Q,!1);if(fa=this._drawShape(Q,pa,ra||this._div,wa?qa:Q.getDojoShape()))fa._isCentroidMarker=
!1;va&&this._symbolizeShape(fa,ma,ta,ma===Ca,Q);Q[wa?"_bgShape":"_shape"]=fa}if(ha){(this._isInvalidShape(ha,Q._shape)||Q._shape&&!Q._shape._isCentroidMarker)&&this._removeShape(Q,!1);var Ga=Q.geometry.getCentroid();if(fa=Ga&&this._drawPoint(this._div,Ga,ha,Q._shape,pa,ta,Q))fa._isCentroidMarker=!0,this._symbolizePoint(fa,ha,ta,Q);Q._shape=fa}}U||(Q._bgShape&&this._initNode(Q,Q._bgShape,Q._bgShape!==qa,Y,Aa),Q._shape&&this._initNode(Q,Q._shape,Q._shape!==da,Y,Aa));Q._applyDataAttrs();Y.node=Q.getNode();
this.onGraphicDraw(Y)}}else da&&this._removeShape(Q)}catch(Na){this._errorHandler(Na,Q)}},_initNode:function(Q,Y,ja,pa,ka){if(Y=Y&&Y.getNode())Y.e_graphic=Q,this._addDataAttrs(Q,ka,Y),ja&&(pa.node=Y,this.onGraphicNodeAdd(pa))},_removeShape:function(Q,Y,ja){var pa=Q.getDojoShape(),ka=pa&&pa.getNode();pa&&!ja&&(pa.removeShape(),pa.destroy());Q._shape=Q._offsets=null;!1!==Y&&this._removeBgShape(Q,ja);if(ka&&(ka.e_graphic=null,!U))this.onGraphicNodeRemove({graphic:Q,node:ka})},_removeBgShape:function(Q,
Y){var ja=Q._bgShape,pa=ja&&ja.getNode();ja&&!Y&&(ja.removeShape(),ja.destroy());Q._bgShape=null;if(pa&&(pa.e_graphic=null,!U))this.onGraphicNodeRemove({graphic:Q,node:pa})},_addDataAttrs:function(Q,Y,ja){var pa=Q.attributes,ka,va=Y?Y.length:0,Aa=this._getRenderer(Q);if(ja&&pa){for(ka=0;ka<va;ka++)(ja=Y[ka])&&Q.attr("data-"+ja,pa[ja]);!this.styling&&Aa&&(Aa.getBreakIndex?(Y=Aa.getBreakIndex(Q),Q.attr("data-class-break",-1!==Y?Y:null)):Aa.getUniqueValueInfo&&(Y=Aa.getUniqueValueInfo(Q),Q.attr("data-unique-value",
Y?Y.value:null)))}},_drawShape:function(Q,Y,ja,pa){Q=Q.geometry;var ka=Q.type,va=this._map,Aa=va.extent,da=va.width,ca=va.height;va=va.__visibleRect;var ma=[],qa;var ta="extent"===ka;if("rect"===ka||ta)ma={x:0,y:0,spatialReference:Q.spatialReference},ma.x=ta?Q.xmin:Q.x,ma.y=ta?Q.ymax:Q.y,ka=K.toScreenPoint(Aa,da,ca,ma),ma.x=ta?Q.xmax:Q.x+Q.width,ma.y=ta?Q.ymin:Q.y+Q.height,Q=K.toScreenPoint(Aa,da,ca,ma),Y={x:ka.x-va.x+Y[0],y:ka.y-va.y,width:Math.abs(Q.x-ka.x),height:Math.abs(Q.y-ka.y)},0===Y.width&&
(Y.width=1),0===Y.height&&(Y.height=1),pa=this._drawRect(ja,pa,Y);else if("polyline"===ka||"polygon"===ka){ta=0;for(qa=Y.length;ta<qa;ta++)ma=ma.concat(K._toScreenPath(Aa,da,ca,Q,-va.x+Y[ta],-va.y));pa=this._drawPath(ja,pa,ma);this._rendererLimits&&("polyline"===ka?this._clipPolyline(pa,Q):this._clipPolygon(pa,Q))}return pa},_drawRect:function(Q,Y,ja){return Y?Y.setShape(ja):Q.createRect(ja)},_drawImage:function(Q,Y,ja){return Y?Y.setShape(ja):Q.createImage(ja)},_drawCircle:function(Q,Y,ja){return Y?
Y.setShape(ja):Q.createCircle(ja)},_drawPath:function(){return M?function(Q,Y,ja,pa){ja=pa?ja:ja.join(" ");if(Y)return Y.setShape(ja);Y=Q.createObject(pa?f.Path:f.EsriPath,ja);Q._overrideSize(Y.getEventSource());return Y}:function(Q,Y,ja,pa){ja=pa?ja:ja.join(" ");return Y?Y.setShape(ja):Q.createPath(ja)}}(),_drawText:function(Q,Y,ja){return Y?Y.setShape(ja):Q.createText(ja)},_evalSDRenderer:function(Q){var Y=this._map,ja=this.renderer,pa,ka=this._rndForScale;Y&&Y.loaded&&ja&&ja.getRendererInfo&&(pa=
"zoom"===ja.rangeType?ja.getRendererInfoByZoom(Y.getZoom()):ja.getRendererInfoByScale(Y.getScale()));this._rndForScale=pa&&pa.renderer;Q||this._rndForScale==ka||this.emit("renderer-change",{renderer:this._rndForScale})},_getRenderer:function(Q){var Y=this._rndForScale||this.renderer;Q&&Y&&Y.getObservationRenderer&&(Y=Y.getObservationRenderer(Q));return Y},_getSymbol:function(Q){var Y=this._getRenderer();return Q.symbol||Y&&Y.getSymbol(Q)},_getVariable:function(Q,Y,ja){if(Q)var pa=(Q=Q.getVisualVariablesForType(Y,
ja))&&Q[0];return pa},_applyOpacity:function(Q,Y,ja,pa){Y=Y.getOpacity(pa,{opacityInfo:ja});null!=Y&&(Q=new z(Q),Q.a=Y);return Q},_symbolizeShape:function(Q,Y,ja,pa,ka){var va=Y.getStroke(),Aa=Y.getFill(),da=Y.type,ca=-1!==da.indexOf("linesymbol"),ma=-1!==da.indexOf("fillsymbol")?null:this._getVariable(ja,"sizeInfo",!1),qa=this._getVariable(ja,"colorInfo",!1),ta=this._getVariable(ja,"opacityInfo",!1),Ca=ca?"none"!==Y.style:Y.outline&&"none"!==Y.outline.style,ha=ca?null:this._getVariable(ja,"sizeInfo",
"outline");ma=(ma=pa?ha:ha||ma)?ja.getSize(ka,{sizeInfo:ma,resolution:this._map.getResolutionInMeters(),scale:this._map.getScale()}):null;pa&&(qa=ta=null);if((qa||ta)&&"picturefillsymbol"!==da)if(ca){var fa=va&&va.color;qa&&(fa=ja.getColor(ka,{colorInfo:qa})||fa);fa&&ta&&(fa=this._applyOpacity(fa,ja,ta,ka))}else if(Aa&&Aa.toCss){var ra=Aa;qa&&(ra=ja.getColor(ka,{colorInfo:qa})||ra);ra&&ta&&(ra=this._applyOpacity(ra,ja,ta,ka))}Q.setStroke(!Ca||null==ma&&!fa?va:p.mixin({},va,null!=ma?{width:ma}:null,
fa&&{color:fa})).setFill(ra||Aa);ca&&F.applyLineMarker(Q,Y,fa,this._acquireSVGMarker)},_smsToPath:function(){return M?function(Q,Y,ja,pa,ka,va,Aa,da,ca){switch(Y){case Q.STYLE_SQUARE:return["M",ka+","+Aa,"L",va+","+Aa,va+","+da,ka+","+da,"X","E"];case Q.STYLE_CROSS:return["M",ja+","+Aa,"L",ja+","+da,"M",ka+","+pa,"L",va+","+pa,"E"];case Q.STYLE_X:return["M",ka+","+Aa,"L",va+","+da,"M",ka+","+da,"L",va+","+Aa,"E"];case Q.STYLE_DIAMOND:return["M",ja+","+Aa,"L",va+","+pa,ja+","+da,ka+","+pa,"X","E"];
case Q.STYLE_TARGET:return["M",ka+","+Aa,"L",va+","+Aa,va+","+da,ka+","+da,ka+","+Aa,"M",ka-ca+","+pa,"L",ka+","+pa,"M",ja+","+(Aa-ca),"L",ja+","+Aa,"M",va+ca+","+pa,"L",va+","+pa,"M",ja+","+(da+ca),"L",ja+","+da,"E"]}}:function(Q,Y,ja,pa,ka,va,Aa,da,ca){switch(Y){case Q.STYLE_SQUARE:return["M",ka+","+Aa,va+","+Aa,va+","+da,ka+","+da,"Z"];case Q.STYLE_TRIANGLE:return["M",ja+","+Aa,va+","+da,ka+","+da,"Z"];case Q.STYLE_CROSS:return["M",ja+","+Aa,ja+","+da,"M",ka+","+pa,va+","+pa];case Q.STYLE_X:return["M",
ka+","+Aa,va+","+da,"M",ka+","+da,va+","+Aa];case Q.STYLE_DIAMOND:return["M",ja+","+Aa,va+","+pa,ja+","+da,ka+","+pa,"Z"];case Q.STYLE_TARGET:return Q=["M",ka+","+Aa,va+","+Aa,va+","+da,ka+","+da,ka+","+Aa],ca&&Q.push("M",ka-ca+","+pa,ka+","+pa,"M",ja+","+(Aa-ca),ja+","+Aa,"M",va+ca+","+pa,va+","+pa,"M",ja+","+(da+ca),ja+","+da),Q}}}(),_pathStyles:{square:1,cross:1,x:1,diamond:1,target:1},_typeMaps:{picturemarkersymbol:"image",picturefillsymbol:"path",simplefillsymbol:"path",simplelinesymbol:"path",
cartographiclinesymbol:"path",textsymbol:"text"},_isInvalidShape:function(Q,Y){Y=Y&&Y.shape&&Y.shape.type;var ja=Q&&Q.type;Q=Q&&Q.style;"rect"===Y&&(Y="path");ja&&(Q=this._typeMaps[ja]||Q);this._pathStyles[Q]&&(Q="path");return"shieldlabelsymbol"===ja?!0:!(!Y||!Q||Y===Q)},_reArialFont:/\s*(^|,)\s*arial\s*(,|$)\s*/i,_fallbackFont:"Arial",_drawPoint:function(Q,Y,ja,pa,ka,va,Aa){var da=ja.type,ca=this._map,ma=ca.__visibleRect,qa=K.toScreenPoint(ca.extent,ca.width,ca.height,Y).offset(-ma.x+ka[0],-ma.y);
ma=qa.x;var ta=qa.y;Y=[];var Ca=this._getVariable(va,"rotationInfo",!1);Ca=Ca?va.getRotationAngle(Aa,{rotationInfo:Ca}):null;var ha=this._getVariable(va,"sizeInfo",!1);ca=null!=Aa.size?Aa.size:ha&&va.getSize(Aa,{sizeInfo:ha,shape:ja.style,resolution:ca.getResolutionInMeters(),scale:ca.getScale()});Ca&&Y.push(k.rotategAt(Ca,qa));if(0!==ja.xoffset||0!==ja.yoffset){var fa=k.translate(ja.xoffset,-ja.yoffset);Y.push(fa)}0!==ja.angle&&Y.push(k.rotategAt(ja.angle,qa));if("simplemarkersymbol"===da){var ra=
ja.style;va=Math.round;null!=ca?fa&&(null!=fa.dx&&(fa.dx=fa.dx/ja.size*ca),null!=fa.dy&&(fa.dy=fa.dy/ja.size*ca)):ca=ja.size;switch(ra){case D.STYLE_SQUARE:case D.STYLE_TRIANGLE:case D.STYLE_CROSS:case D.STYLE_X:case D.STYLE_DIAMOND:ja=isNaN(ca)?16:ca/2;ra=this._drawPath(Q,pa,this._smsToPath(D,ra,ma,ta,va(ma-ja),va(ma+ja),va(ta-ja),va(ta+ja)));break;case D.STYLE_TARGET:Aa=ja._targetWidth/2;fa=ja._targetHeight/2;ra=this._drawPath(Q,pa,this._smsToPath(D,ra,ma,ta,va(ma-Aa),va(ma+Aa),va(ta-fa),va(ta+
fa),ja._spikeSize));break;case D.STYLE_PATH:ra=this._drawPath(Q,pa,ja.path,!0);ja=ra.getBoundingBox();Q=this._getScaleMatrix(ja,ca);1===Q.xx&&1===Q.yy||Y.push(k.scaleAt(Q.xx,Q.yy,qa));Y.push(k.translate(-(ja.x+ja.width/2)+ma,-(ja.y+ja.height/2)+ta));break;default:ja=isNaN(ca)?16:ca/2,ra=this._drawCircle(Q,pa,{cx:ma,cy:ta,r:ja})}}else if("shieldlabelsymbol"===da)ra=ja.width,qa=ja.height,pa=Q.createGroup(),ra=Q.createImage({x:ma-ra/2,y:ta-qa/2,width:ra,height:qa,src:ja.url}),pa.add(ra),null!=ja.font&&
(ta+=.2*ja.getHeight(),Q=Q.createText({type:"text",text:ja.text,x:ma,y:ta,align:"middle",decoration:ja.decoration,rotated:ja.rotated,kerning:ja.kerning}),Q.setFont(ja.font),Q.setFill(ja.color),pa.add(Q)),ra=pa;else if("picturemarkersymbol"===da){if(null==ca?(ra=ja.width,qa=ja.height):(qa=ca,ra=ja.width/ja.height*qa,fa&&(null!=fa.dx&&(fa.dx=fa.dx/ja.width*ra),null!=fa.dy&&(fa.dy=fa.dy/ja.height*qa))),ra=this._drawImage(Q,pa,{x:ma-ra/2,y:ta-qa/2,width:ra,height:qa,src:ja.url}),O&&(Q=ra.getNode()))ja=
(ja=this._getVariable(va,"opacityInfo",!1))?va.getOpacity(Aa,{opacityInfo:ja}):null,null!=ja?Q.setAttribute("opacity",ja):Q.setAttribute("opacity",1)}else if("textsymbol"===da){if(va=ja.font){ra=null!=ca;Aa=va.family&&!this._reArialFont.test(va.family);if(ra||Aa||U)va=new va.constructor(va.toJson());ra&&va.setSize(ca);U&&(va.size+="px");Aa&&va.setFamily(va.family+","+this._fallbackFont)}ra=this._drawText(Q,pa,{type:"text",text:ja.text,x:ma,y:ta,align:ja.getSVGAlign(),decoration:ja.decoration||va&&
va.decoration,rotated:ja.rotated,kerning:ja.kerning});va&&ra.setFont(va);O&&(Q=ra.getNode(),ma=ja.getSVGBaseline(),ta=ja.getSVGBaselineShift(),Q&&(Q.setAttribute("dominant-baseline",ma),ta&&Q.setAttribute("baseline-shift",ta),this._applyHalo(ra,ja.haloColor,ja.haloSize)))}ra.setTransform(k.multiply(Y));ra._wrapOffsets=ka;return ra},_acquireSVGMarker:function(Q,Y,ja,pa){Q=this._getSVGMarkerId(Y,pa);var ka=this._getSVGMarker(Q);ka||(ka=F.createSVGMarker(Y,Q,ja,pa),this._div.getParent().defNode.appendChild(ka),
this._lineMarkers[Q]=ka);return ka},_getSVGMarkerId:function(Q,Y){return"marker_"+this._map.id+"_"+Q.r+"_"+Q.g+"_"+Q.b+"_"+Y},_getSVGMarker:function(Q){return this._lineMarkers[Q]},_updateSVGMarkers:function(){if(O&&T){var Q=this._lineMarkers,Y;for(Y in Q){var ja=Q[Y];ja.setAttribute("id",Y+"_temp");ja.setAttribute("id",Y)}}},_applyHalo:function(Q,Y,ja){var pa=Y&&ja?this._getHaloId(Y,ja):null;Q.setFilter(Y&&ja?B("webkit")||B("ff")?this._getDilateFilter(Y,ja,pa):this._getOffsetFilter(Y,ja,pa):null)},
_getDilateFilter:function(Q,Y,ja){var pa=this._getSVGFilter(ja);pa||(pa=this._createSVGFilter({id:ja},[u.feMorphology({operator:"dilate",radius:Y,result:"dilated"}),u.feFlood({"flood-color":Q.toCss(!0)}),u.feComposite({in2:"dilated",operator:"in",result:"composite"}),u.feMerge("composite","SourceGraphic")]));return pa},_getOffsetFilter:function(Q,Y,ja){var pa=this._getSVGFilter(ja);if(!pa){Q=Q.toCss(!0);pa=this._offsetPrimitives;var ka,va=pa.length,Aa=[],da=[];for(ka=0;ka<va;ka++){var ca=pa[ka],ma=
"offset"+ca.dir,qa="composite"+ca.dir;da.push(qa);Aa.push(u.feOffset({dx:ca.dx*Y,dy:ca.dy*Y,"in":"SourceAlpha",result:ma}),u.feFlood({"flood-color":Q}),u.feComposite({in2:ma,operator:"in",result:qa}))}da.push("SourceGraphic");Aa.push(u.feMerge.apply(u.feMerge,da));pa=this._createSVGFilter({id:ja},Aa)}return pa},_offsetPrimitives:[{dir:"L",dx:-1,dy:0},{dir:"TL",dx:-1,dy:-1},{dir:"T",dx:0,dy:-1},{dir:"TR",dx:1,dy:-1},{dir:"R",dx:1,dy:0},{dir:"BR",dx:1,dy:1},{dir:"B",dx:0,dy:1},{dir:"BL",dx:-1,dy:1}],
_getHaloId:function(Q,Y){return"halo_"+this._map.id+"_"+this.id+"_"+Q.r+"_"+Q.g+"_"+Q.b+"_"+Q.a+"_"+Y},_getSVGFilter:function(Q){return this._svgFilters[Q]},_createSVGFilter:function(Q,Y){Y=u.createFilter(Q,Y);var ja=this._map,pa=ja.__visibleRect;Y.x=-pa.x;Y.y=-pa.y;Y.width=ja.width;Y.height=ja.height;return this._svgFilters[Q.id]=Y},_updateSVGFilters:function(Q,Y,ja,pa){var ka=this._svgFilters,va,Aa,da;for(Aa in ka)if(va=ka[Aa]){if(da=e.byId(Aa))null!=Q&&da.setAttribute("x",Q),null!=Y&&da.setAttribute("y",
Y),null!=ja&&da.setAttribute("width",ja),null!=pa&&da.setAttribute("height",pa);null!=Q&&(va.x=Q);null!=Y&&(va.y=Y);null!=ja&&(va.width=ja);null!=pa&&(va.height=pa)}},_getScaleMatrix:function(Q,Y){var ja=Q.width/Q.height,pa=1,ka=1;isNaN(Y)||(1<ja?(pa=Y/Q.width,ka=Y/ja/Q.height):(ka=Y/Q.height,pa=Y*ja/Q.width));return{xx:pa,yy:ka}},_symbolizePoint:function(Q,Y,ja,pa){var ka=Y.type,va=Y.style;if("shieldlabelsymbol"!==ka&&"picturemarkersymbol"!==ka){var Aa=Y.getStroke();Y=Y.getFill();va=va===D.STYLE_X||
va===D.STYLE_CROSS;var da=Aa&&Aa.color,ca=va?da:Y;if(ja){var ma=this._getVariable(ja,"colorInfo",!1),qa=this._getVariable(ja,"opacityInfo",!1);ma&&(ca=ja.getColor(pa,{colorInfo:ma})||ca);ca&&qa&&(ca=this._applyOpacity(ca,ja,qa,pa));ca&&(va?ca!==da&&(Aa=Aa?p.mixin({},Aa):{},Aa.color=ca):ca!==Y&&(Y=ca))}"textsymbol"===ka?Q.setFill(Y):"simplemarkersymbol"===ka&&Q.setFill(Y).setStroke(Aa)}},_drawMarkers:function(Q,Y,ja,pa){var ka=Q.geometry,va=ka.points,Aa=Q.getDojoShape()||this._div.createGroup(),da,
ca=va.length,ma=[],qa=0,ta,Ca=ja?ja.length:0;Aa.children[0]&&this._isInvalidShape(Y,Aa.children[0])&&Aa.clear();for(da=0;da<ca;da++){var ha=va[da];for(ta=0;ta<Ca;ta++)ma[0]=ja[ta],this._drawPoint(Aa,{x:ha[0],y:ha[1],spatialReference:ka.spatialReference},Y,Aa.children[qa++],ma,pa,Q)}Y=Aa.children.length;if(ca*ja.length<Y)for(da=Y-1;da>=ca*ja.length;da--)Aa.children[da].removeShape();Q._shape=Aa},_symbolizeMarkers:function(Q,Y,ja){var pa=Q.getDojoShape().children,ka,va=pa.length;for(ka=0;ka<va;ka++)this._symbolizePoint(pa[ka],
Y,ja,Q)},_errorHandler:function(Q,Y){Y&&(Q.message="Unable to draw graphic (geometry:"+(Y.geometry?Y.geometry.declaredClass:null)+", symbol:"+(Y.symbol?Y.symbol.declaredClass:null)+"): "+Q.message);this.inherited(arguments)},_rendererLimits:function(){if(M){var Q=1E5;var Y=-1E5;var ja=1E5}else B("chrome")&&6>B("chrome")&&(Q=8150,Y=-1E4,ja=1E4);if(Q)return{clipLimit:Q,rangeMin:Y,rangeMax:ja,clipBBox:[-Q,-Q,Q,Q],clipSegments:[[[-Q,-Q],[Q,-Q]],[[Q,-Q],[Q,Q]],[[Q,Q],[-Q,Q]],[[-Q,Q],[-Q,-Q]]]}}(),_clipPolyline:function(Q,
Y){Y=this._getCorners(Q,Y);var ja=Y.br,pa=this._rendererLimits,ka=pa.rangeMin,va=pa.rangeMax,Aa=pa.clipBBox,da=pa.clipSegments;pa=this._isPointWithinRange;var ca=this._isPointWithinBBox,ma=this._getClipperIntersection,qa=this._getPlaneIndex;if(!pa(Y.tl,ka,va)||!pa(ja,ka,va)){M&&this._createSegments(Q);var ta=[];t.forEach(Q.segments,function(Ca){Ca=Ca.args;var ha=Ca.length,fa=[],ra;for(ra=0;ra<ha;ra+=2){var wa=[Ca[ra],Ca[ra+1]],Ga=[Ca[ra+2],Ca[ra+3]],Na=ca(wa,Aa),Ra=ca(Ga,Aa);if(Na^Ra){if(Ra=ma([wa,
Ga],da))Na?(ra?fa.push(Ra[1]):fa.push(wa,Ra[1]),ta.push(fa),fa=[]):fa.push(Ra[1],Ga)}else Na?ra?fa.push(Ga):fa.push(wa,Ga):(Ra=qa(wa,Aa),Na=qa(Ga,Aa),-1!==Ra&&-1!==Na&&Ra!==Na&&(wa=ma([wa,Ga],da,!0),0<wa.length&&(wa[Ra]||(Ra=wa[Ra[0]]?Ra[0]:Ra[1]),wa[Na]||(Na=wa[Na[0]]?Na[0]:Na[1]),Ga=wa[Ra],wa=wa[Na],Ga&&fa.push(Ga),wa&&(fa.push(wa),ta.push(fa),fa=[]))))}ta.push(fa)});Q.setShape(this._getPathStringFromPaths(ta))}},_clipPolygon:function(Q,Y){Y=this._getCorners(Q,Y);var ja=Y.br,pa=this._rendererLimits,
ka=pa.clipLimit,va=pa.rangeMin,Aa=pa.rangeMax,da=pa.clipBBox,ca=pa.clipSegments;pa=this._isPointWithinRange;var ma=this._isPointWithinBBox,qa=this._getClipperIntersection,ta=this._getPlaneIndex,Ca=J._pointLineDistance;pa(Y.tl,va,Aa)&&pa(ja,va,Aa)||(M&&this._createSegments(Q),Y=t.filter(Q.segments,function(ha){return ha.args&&ha.args.length}),Y=t.map(Y,function(ha){var fa=ha.args,ra=fa.length,wa=[];ha=[];var Ga;for(Ga=0;Ga<ra;Ga+=2){var Na=[fa[Ga],fa[Ga+1]],Ra=[fa[Ga+2],fa[Ga+3]];if(Ga===ra-2){wa.push(Na);
break}var Sa=ma(Na,da),La=ma(Ra,da);wa.push(Na);if(Sa^La){if(La=qa([Na,Ra],ca))Na=La[1],Na[Sa?"inOut":"outIn"]=!0,wa.push(Na),ha.push([Sa?"INOUT":"OUTIN",wa.length-1,La[0]])}else if(!Sa){Sa=ta(Na,da);var W=ta(Ra,da);-1!==Sa&&-1!==W&&Sa!==W&&(La=qa([Na,Ra],ca,!0),0<La.length?(La[Sa]||(Sa=La[Sa[0]]?Sa[0]:Sa[1]),La[W]||(W=La[W[0]]?W[0]:W[1]),Na=La[Sa],Ra=La[W],Na&&(Na.outIn=!0,wa.push(Na),ha.push(["OUTIN",wa.length-1,Sa])),Ra&&(Ra.inOut=!0,wa.push(Ra),ha.push(["INOUT",wa.length-1,W]))):p.isArray(Sa)&&
p.isArray(W)&&(La=Sa.concat(W),La.sort(),"0123"===La.join("")&&(La=[],3===Sa[0]+Sa[1]?La.push([ka,-ka],[-ka,ka]):La.push([-ka,-ka],[ka,ka]),Sa=Ca(La[0],[Na,Ra]),Na=Ca(La[1],[Na,Ra]),wa.push(Sa<Na?La[0]:La[1]))))}}var ia=da[0],sa=da[1],X=da[2],na=da[3];t.forEach(wa,function(Ha){Ha[0]<ia&&(Ha[1]>=sa&&Ha[1]<=na?Ha[0]=ia:(Ha[0]=ia,Ha[1]=Ha[1]<sa?sa:na))});t.forEach(wa,function(Ha){Ha[1]<sa&&(Ha[0]>=ia&&Ha[0]<=X?Ha[1]=sa:(Ha[1]=sa,Ha[0]=Ha[0]<ia?ia:X))});t.forEach(wa,function(Ha){Ha[0]>X&&(Ha[1]>=sa&&
Ha[1]<=na?Ha[0]=X:(Ha[0]=X,Ha[1]=Ha[1]<sa?sa:na))});t.forEach(wa,function(Ha){Ha[1]>na&&(Ha[0]>=ia&&Ha[0]<=X?Ha[1]=na:(Ha[1]=na,Ha[0]=Ha[0]<ia?ia:X))});fa=0;ra=ha.length;if(0<ra){do{Ra=ha[fa];Ga=ha[(fa+1)%ra];if(Ra[2]===Ga[2]&&"INOUT"===Ra[0]&&"OUTIN"===Ga[0])if(Na=Ra[1],Ga=Ga[1],Na<Ga)for(Na+=1;Na<Ga;Na++)wa[Na][2]=!0;else if(Na>Ga){for(Na+=1;Na<wa.length;Na++)wa[Na][2]=!0;for(Na=0;Na<Ga;Na++)wa[Na][2]=!0}fa=(fa+1)%ra}while(0!==fa)}ra=wa[0];fa=wa[wa.length-1];ra[2]&&(fa[2]=!0,t.some(ha,function(Ha){return 1===
Ha[1]?(wa.splice(wa.length-1,0,p.clone(wa[1])),!0):!1}));wa=t.filter(wa,function(Ha){return Ha[2]?!1:!0});for(fa=0;fa<wa.length-1;fa++)ra=wa[fa],(Ga=wa[fa+1])&&ra[0]===Ga[0]&&ra[1]===Ga[1]&&(Ga.outIn?ra.outIn=!0:Ga.inOut&&(ra.inOut=!0),wa.splice(fa+1,1));ra=Math.abs;ha=[];for(fa=0;fa<wa.length-1;fa++){Ra=wa[fa];Na=Ra[0];Ra=Ra[1];Sa=ra(Na)===ka;La=ra(Ra)===ka;Ga=wa[fa+1];W=Ga[0];Ga=Ga[1];var ua=ra(W)===ka,ya=ra(Ga)===ka;Sa&&ya?ha.push([fa+1,[Na,Ga]]):La&&ua&&ha.push([fa+1,[W,Ra]])}for(fa=ha.length-
1;0<=fa;fa--)Ga=ha[fa],Na=wa[Ga[0]-1],ra=wa[Ga[0]],Na.outIn||Na.inOut||ra.outIn||ra.inOut||wa.splice(Ga[0],0,Ga[1]);ra=wa[0];fa=wa[wa.length-1];ra[0]===fa[0]&&ra[1]===fa[1]||wa.push(ra);return wa}),Q.setShape(this._getPathStringFromPaths(Y)))},_getCorners:function(Q,Y){if(M){Q=this._map;var ja=Y.getExtent(),pa=ja.spatialReference;Y=Q.toScreen(new H(ja.xmin,ja.ymax,pa));Q=Q.toScreen(new H(ja.xmax,ja.ymin,pa));return{tl:Y,br:Q}}Q=Q.getTransformedBoundingBox();return{tl:Q[0],br:Q[2]}},_createSegments:function(Q){Q.shape.path=
Q.vmlPath;Q.segmented=!1;Q._confirmSegmented();var Y=Q.segments;1<Y.length&&(Q.segments=t.filter(Y,function(ja,pa,ka){pa=ka[pa+1];return"M"===ja.action&&pa&&"L"===pa.action?(ja.args=ja.args.concat(pa.args),!0):!1}))},_getPathStringFromPaths:function(Q){M?(Q=t.map(Q,function(Y){return"m "+t.map(Y,function(ja,pa){return(1===pa?"l ":"")+ja.join(",")}).join(" ")}),Q.push("e")):Q=t.map(Q,function(Y){return"M "+t.map(Y,function(ja){return ja.join(",")}).join(" ")});return Q.join(" ")},_isPointWithinBBox:function(Q,
Y){var ja=Y[1],pa=Y[2],ka=Y[3],va=Q[0];Q=Q[1];return va>Y[0]&&va<pa&&Q>ja&&Q<ka?!0:!1},_isPointWithinRange:function(Q,Y,ja){var pa=Q.x;Q=Q.y;return pa<Y||Q<Y||pa>ja||Q>ja?!1:!0},_getClipperIntersection:function(Q,Y,ja){var pa,ka=J._getLineIntersection2,va=Math.round,Aa={length:0};for(pa=0;4>pa;pa++){var da=ka(Q,Y[pa]);if(da)if(da[0]=va(da[0]),da[1]=va(da[1]),ja)Aa[pa]=da,Aa.length++;else return[pa,da]}return ja?Aa:null},_getPlaneIndex:function(Q,Y){var ja=Q[0];Q=Q[1];var pa=Y[0],ka=Y[1],va=Y[2];Y=
Y[3];return ja<=pa?Q>=ka&&Q<=Y?3:Q<ka?[0,3]:[2,3]:Q<=ka?ja>=pa&&ja<=va?0:ja<pa?[3,0]:[1,0]:ja>=va?Q>=ka&&Q<=Y?1:Q<ka?[0,1]:[2,1]:Q>=Y?ja>=pa&&ja<=va?2:ja<pa?[3,2]:[1,2]:-1},onGraphicAdd:function(){},onGraphicRemove:function(){},onGraphicNodeAdd:function(){},onGraphicNodeRemove:function(){},onGraphicDraw:function(){},onGraphicsClear:function(){},onRendererChange:function(){},onOpacityChange:function(){},onInfoTemplateChange:function(){},onSurfaceChange:function(){},onWebGLEnabledChange:function(){},
setInfoTemplate:function(Q){this.infoTemplate=Q;this._evalSurfaceType();this.onInfoTemplateChange()},add:function(Q,Y){if(Q._graphicsLayer===this)return Q;Q._suspended=this._suspendGraphics;Y||this.graphics.push(Q);Q._graphicsLayer=this;Q._sourceLayer||(Q._layer&&"esri.layers.GraphicsLayer"!==Q._layer.declaredClass?Q._sourceLayer=Q._layer:"esri.layers.GraphicsLayer"!==this.declaredClass&&(Q._sourceLayer=this));Q._layer=this;this.hasWebGLSurface()||(this._updateExtent(Q),this._draw(Q));if(!Y)this.onGraphicAdd(Q);
return Q},remove:function(Q,Y,ja){if(!Y&&!ja){Y=this.graphics;var pa;if(-1===(pa=t.indexOf(Y,Q)))return null;if(!ea||64<=ea)Y.splice(pa,1);else{var ka=Y.length;if(ka){for(;pa<ka;)Y[pa]=Y[pa+1],pa++;Y.length--}}}this.hasWebGLSurface()||Q.getDojoShape()&&this._removeShape(Q,null,ja);Q._shape=Q._graphicsLayer=null;this.onGraphicRemove(Q);return Q},clear:function(Q,Y){Q=this.graphics;var ja,pa=!M;for(ja=Q.length-1;0<=ja;ja--)this.remove(Q[ja],null,pa);this.graphics=[];this.hasWebGLSurface()||this._destroyAllNodes();
if(!Y)this.onGraphicsClear()},_destroyAllNodes:function(){if(!M&&this._div){var Q;this._childLayer&&(Q=this._childLayer.getNode())&&Q.parentNode&&Q.parentNode.removeChild(Q);this._bgGroup.clear();this._div.clear();this._bgGroup=this._div.createGroup();Q&&this._div.getEventSource().appendChild(Q);this._initOpacity()}},clearNodes:function(){if(!this.hasWebGLSurface()){var Q=this.graphics,Y=Q.length,ja;for(ja=0;ja<Y;ja++)this._removeShape(Q[ja],!0,!0);this._destroyAllNodes()}},_graphicVisibilityChanged:function(Q){},
_setIEOpacity:function(Q,Y){var ja=Q&&Q.getNode();if(ja){var pa=Q.strokeStyle,ka=ja.stroke;pa&&ka&&(ka.opacity=pa.color.a*Y);Q=Q.fillStyle;pa=ja.fill;Q&&pa&&("tile"===pa.type?b.set(ja,"opacity",Y):pa.opacity=Q.a*Y)}},setOpacity:function(Q,Y){if(Y||this.opacity!=Q){var ja=this._div;ja&&!this.hasWebGLSurface()&&(M?(t.forEach(this.graphics,function(pa){this._setIEOpacity(pa._shape,Q);this._setIEOpacity(pa._bgShape,Q)},this),ja._esriIeOpacity=Q,this._bgGroup._esriIeOpacity=Q):"canvas-2d"===this.surfaceType?
b.set(ja.getEventSource(),"opacity",Q):ja.getEventSource().setAttribute("opacity",Q));this.opacity=Q;if(!Y)this.onOpacityChange(Q)}},setRenderer:function(Q){this.renderer=Q;this._evalSDRenderer(!0);this._evalSurfaceType();this.emit("renderer-change",{renderer:this._rndForScale||Q})}});A=A([v,L],{declaredClass:"esri.layers.GraphicsLayer",constructor:function(){this._processEvent=p.hitch(this,this._processEvent);this._initLayer()},_initLayer:function(){this.loaded=!0;this.onLoad(this)},_setMap:function(){var Q=
this.inherited("_setMap",arguments);this.enableMouseEvents();return Q},_unsetMap:function(){this.disableMouseEvents();this.inherited("_unsetMap",arguments)},_processEvent:function(Q){var Y=this._map,ja=Q.target,pa;Q.screenPoint=new E(Q.pageX-Y.position.x,Q.pageY-Y.position.y);for(Q.mapPoint=Y.toMap(Q.screenPoint);ja&&!(pa=ja.e_graphic);)ja=ja.parentNode;if(pa)return Q.graphic=pa,Q},_onMouseOverHandler:function(Q){if(this._processEvent(Q))this.onMouseOver(Q)},_onMouseMoveHandler:function(Q){if(this._processEvent(Q))this.onMouseMove(Q)},
_onMouseDragHandler:function(Q){if(this._processEvent(Q))this.onMouseDrag(Q)},_onMouseOutHandler:function(Q){if(this._processEvent(Q))this.onMouseOut(Q)},_onMouseDownHandler:function(Q){this._downGr=this._downPt=null;this._processEvent(Q)&&(m.disconnect(this._onmousemove_connect),m.disconnect(this._onmousedrag_connect),this._onmousedrag_connect=m.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseDragHandler"),this._downGr=Q.graphic,this._downPt=Q.screenPoint.x+","+Q.screenPoint.y,this.onMouseDown(Q))},
_onMouseUpHandler:function(Q){this._upGr=this._upPt=null;this._processEvent(Q)&&(m.disconnect(this._onmousedrag_connect),m.disconnect(this._onmousemove_connect),this._onmousemove_connect=m.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseMoveHandler"),this._upGr=Q.graphic,this._upPt=Q.screenPoint.x+","+Q.screenPoint.y,this.onMouseUp(Q))},_onClickHandler:function(Q){if(this._processEvent(Q)){var Y=this._downGr,ja=this._upGr;Y&&ja&&Y===ja&&this._downPt===this._upPt&&(M&&(x._ieGraphic=
Q.graphic),this.onClick(Q))}},_onDblClickHandler:function(Q){if(this._processEvent(Q))this.onDblClick(Q)},onMouseOver:function(){},onMouseMove:function(){},onMouseDrag:function(){},onMouseOut:function(){},onMouseDown:function(){},onMouseUp:function(){},onClick:function(){},onDblClick:function(){},enableMouseEvents:function(){if(!this._mouseEvents){var Q=m.connect,Y=this._div.getEventSource();U||(this._onmouseover_connect=Q(Y,"onmouseover",this,"_onMouseOverHandler"),this._onmousemove_connect=Q(Y,
"onmousemove",this,"_onMouseMoveHandler"),this._onmouseout_connect=Q(Y,"onmouseout",this,"_onMouseOutHandler"),this._onmousedown_connect=Q(Y,"onmousedown",this,"_onMouseDownHandler"),this._onmouseup_connect=Q(Y,"onmouseup",this,"_onMouseUpHandler"),this._onclick_connect=Q(Y,"onclick",this,"_onClickHandler"),this._ondblclick_connect=Q(Y,"ondblclick",this,"_onDblClickHandler"));this._mouseEvents=!0}},disableMouseEvents:function(){if(this._mouseEvents){var Q=m.disconnect;Q(this._onmouseover_connect);
Q(this._onmousemove_connect);Q(this._onmousedrag_connect);Q(this._onmouseout_connect);Q(this._onmousedown_connect);Q(this._onmouseup_connect);Q(this._onclick_connect);Q(this._ondblclick_connect);this._mouseEvents=!1}}});A._GraphicsContainer=g;A._GraphicsLayer=v;B("extend-esri")&&(p.setObject("layers.GraphicsLayer",A,x),p.setObject("layers._GraphicsContainer",g,x),p.setObject("layers._GraphicsLayer",v,x));return A})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],
function(G,A,a){A.switchTo(a);return A})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(G,A,a,m,p){var t=null;a.add("vml",function(n,h,c){c.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';n="adj"in c.firstChild;c.innerHTML="";return n});return{load:function(n,h,c){function b(){h(["dojox/gfx/"+e],function(u){G.renderer=e;t=u;c(u)})}if(t&&"force"!=n)c(t);else{var e=p.forceGfxRenderer;n=!e&&(A.isString(p.gfxRenderer)?
p.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var f,k;!e&&n.length;)switch(n.shift()){case "svg":"SVGAngle"in m.global&&(e="svg");break;case "vml":a("vml")&&(e="vml");break;case "silverlight":try{a("ie")?(f=new ActiveXObject("AgControl.AgControl"),f.IsVersionSupported("1.0"))&&(k=!0):navigator.plugins["Silverlight Plug-In"]&&(k=!0)}catch(u){k=!1}finally{f=null}k&&(e="silverlight");break;case "canvas":m.global.CanvasRenderingContext2D&&(e="canvas")}"canvas"===e&&!1!==p.canvasEvents&&(e=
"canvasWithEvents");p.isDebug&&console.log("gfx renderer \x3d "+e);"svg"==e&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(b):b()}}}})},"esri/layers/gfxSniff":function(){define(["dojo/has","dojox/gfx"],function(G,A){G.add("esri-svg",function(){return-1!==A.renderer.toLowerCase().indexOf("svg")});return G})},"esri/layers/support/webglUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has","../../kernel"],function(G,A,a,m){var p=!1,t=a("esri-webgl-max-contexts");t=null!=
t?t:a("esri-mobile")?8:16;var n={isWebGLSupported:function(){return!!p},isWebGLEnabled:function(){return this.isWebGLSupported()&&!!a("esri-featurelayer-webgl")},createCanvas:function(h,c){var b=document.createElement("canvas");b.style.width=h+"px";b.style.height=c+"px";return b},createWebGLContext:function(h){var c;A.some(["webgl","experimental-webgl","webkit-3d","moz-webgl"],function(b){try{c=h.getContext?h.getContext(b):null}catch(e){c=null}return!!c});return c},_contextOwners:[],isContextAvailable:function(){return-1===
t||0<t&&n._contextOwners.length<t},acquireContext:function(h){return-1!==A.indexOf(n._contextOwners,h)?!0:n.isContextAvailable()?(n._contextOwners.push(h),!0):!1},releaseContext:function(h){h=A.indexOf(n._contextOwners,h);-1!==h&&n._contextOwners.splice(h,1)}};p=n.createWebGLContext(n.createCanvas());a("extend-esri")&&G.setObject("layers.support.webglUtils",n,m);return n})},"esri/layers/support/WebGLSurface":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","../../kernel"],
function(G,A,a,m,p){G=G(null,{map:null,node:null,renderers:null,constructor:function(t){A.mixin(this,t);this.renderers=[]},destroy:function(){a.forEach(this.renderers,function(t){t.destroy()});this.renderers=null},getEventSource:function(){return this.node},createRenderer:function(t,n,h,c){t=new t({surface:this,width:n,height:h,map:this.map,layer:c});this.renderers.push(t);return t},destroyRenderer:function(t){var n=a.indexOf(this.renderers,t);-1<n&&(t.destroy(),this.renderers.splice(n,1))},_createNode:function(){var t=
document.createElement("div");t.style.pointerEvents="auto";t.style.position="absolute";return t}});m("extend-esri")&&A.setObject("layers.support.WebGLSurface",G,p);return G})},"esri/symbols/utils":function(){define("dojo/_base/lang dojo/_base/window dojo/has dojox/gfx ../kernel ../Color".split(" "),function(G,A,a,m,p,t){function n(k){k.removeAttribute("marker-start");k.removeAttribute("marker-end");k.removeAttribute("opacity")}function h(k,u){for(var v in u)k.setAttribute(v,u[v])}function c(k,u,v){u=
"url(#"+u.getAttribute("id")+")";k.rawNode.setAttribute("marker-"+v,u)}var b=-1!==m.renderer.toLowerCase().indexOf("svg"),e=9===a("ie"),f={marker:{markerWidth:"6",markerHeight:"6",markerUnits:"strokeWidth",orient:"auto"},spear:{marker:{end:{viewBox:"0 0 25.4 23.43",refX:"20",refY:"12.76"},start:{viewBox:"-25.4 0 25.4 23.43",refX:"-20",refY:"12.76"}},path:{common:{d:"M1.63 23.43 L5.37 16.6 L5.37 8.93 L1.63 2.09 L25.4 12.76 L1.63 23.43 Z","stroke-width":"0","fill-opacity":"1"},start:{transform:"matrix(-1, 0, 0, 1, 0, 0)"}}}};
m={applyLineMarker:function(k,u,v,g){if(b&&!e){var q=k&&k.rawNode,x=u.marker;v=v||u.color;q&&"none"!==u.style&&v&&x&&"arrow"===x.style&&x.placement?q.getTotalLength&&0===q.getTotalLength()?n(q):(u=-1!==x.placement.indexOf("begin"),x=-1!==x.placement.indexOf("end"),u||x?(q.removeAttribute("stroke-opacity"),q.setAttribute("opacity",v.a),u?(u=g(k,v,"spear","start"),c(k,u,"start")):q.removeAttribute("marker-start"),x?(v=g(k,v,"spear","end"),c(k,v,"end")):q.removeAttribute("marker-end")):n(q)):q&&n(q)}},
createSVGMarker:function(k,u,v,g){v=f[v];var q=A.doc.createElementNS("http://www.w3.org/2000/svg","marker");q.setAttribute("id",u);h(q,f.marker);h(q,v.marker[g]);u=A.doc.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("fill",k.toCss());h(u,v.path.common);h(u,v.path[g]);q.appendChild(u);return q},create2DColorRamp:function(k){var u=k.surface.createGroup(),v=k.colors,g=k.numClasses;k=(k.size||75)/g;for(var q=0;q<g;q++)for(var x=q*k,w=0;w<g;w++){var B=v[q][w];u.createRect({x:w*k,
y:x,width:k,height:k}).setFill(B).setStroke(null)}return u},setSymbolFillColor:function(k,u){if(k)switch(u=u?new t(u):null,k.type){case "simplemarkersymbol":"cross"===k.style||"x"===k.style?k.outline&&k.outline.setColor(u):k.setColor(u);break;case "simplelinesymbol":case "cartographiclinesymbol":case "simplefillsymbol":case "shieldlabelsymbol":case "textsymbol":k.setColor(u)}}};a("extend-esri")&&G.setObject("renderer.utils",m,p);return m})},"esri/PluginTarget":function(){define("require dojo/aspect dojo/_base/array dojo/_base/lang dojo/Deferred dojo/when".split(" "),
function(G,A,a,m,p,t){function n(){A.after(this.constructor._meta,"ctor",this._pluginsHandler,!0);this._plugins={}}n.prototype={addPlugin:function(h,c){var b=this,e=this._plugins,f=new p;try{G([h],function(k){h in e?f.resolve({id:e[h].declaredId||h.replace(/\//g,".")}):(e[h]=k,t(k.add(b,c),function(){var u={id:k.declaredId||h.replace(/\//g,".")};b.emit("plugin-add",u);f.resolve(u)},function(u){f.reject(u)}))})}catch(k){f.reject(k)}return f.promise},removePlugin:function(h){if(h in this._plugins){var c=
this._plugins[h];c.remove(this);delete this._plugins[h];this.emit("plugin-remove",{id:c.declaredId||h.replace(/\//g,".")})}},_pluginsHandler:function(){var h=this;a.some(arguments,function(c){if(c&&c.plugins&&c.plugins instanceof Array){c=c.plugins;var b;for(b=0;b<c.length;b++){var e=c[b];var f=e instanceof Object?e.id:e;h.addPlugin(f,e.options)}return!0}})}};return n})},"esri/layers/TimeInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../TimeExtent ./TimeReference ./LayerTimeOptions".split(" "),
function(G,A,a,m,p,t,n){G=G(null,{declaredClass:"esri.layers.TimeInfo",constructor:function(h){null!==h&&(A.mixin(this,h),h.exportOptions&&(this.exportOptions=new n(h.exportOptions)),this.timeExtent=null,h.timeExtent&&2===h.timeExtent.length&&(this.timeExtent=new p(h.timeExtent)),this.timeReference=new t(h.timeReference))}});A.mixin(G,{UNIT_CENTURIES:"esriTimeUnitsCenturies",UNIT_DAYS:"esriTimeUnitsDays",UNIT_DECADES:"esriTimeUnitsDecades",UNIT_HOURS:"esriTimeUnitsHours",UNIT_MILLISECONDS:"esriTimeUnitsMilliseconds",
UNIT_MINUTES:"esriTimeUnitsMinutes",UNIT_MONTHS:"esriTimeUnitsMonths",UNIT_SECONDS:"esriTimeUnitsSeconds",UNIT_UNKNOWN:"esriTimeUnitsUnknown",UNIT_WEEKS:"esriTimeUnitsWeeks",UNIT_YEARS:"esriTimeUnitsYears"});a("extend-esri")&&A.setObject("layers.TimeInfo",G,m);return G})},"esri/TimeExtent":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","./kernel"],function(G,A,a,m){var p=G(null,{declaredClass:"esri.TimeExtent",constructor:function(t){if(1<arguments.length)this._create(arguments[0],
arguments[1]);else if(t)if(A.isArray(t)){var n=t[0],h=t[1];this.startTime=null===n||"null"===n?null:new Date(n);this.endTime=null===h||"null"===h?null:new Date(h)}else t instanceof Date&&this._create(t,null)},offset:function(t,n){var h=new p,c=this.startTime,b=this.endTime;c&&(h.startTime=this._getOffsettedDate(c,t,n));b&&(h.endTime=this._getOffsettedDate(b,t,n));return h},intersection:function(t){return this._intersection(this,t)},toJson:function(){var t=[],n=this.startTime;t.push(n?n.getTime():
"null");n=this.endTime;t.push(n?n.getTime():"null");return t},_create:function(t,n){this.startTime=t?new Date(t.getTime()):null;this.endTime=n?new Date(n.getTime()):null},_refData:{esriTimeUnitsMilliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},esriTimeUnitsSeconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},esriTimeUnitsMinutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},esriTimeUnitsHours:{getter:"getUTCHours",setter:"setUTCHours",
multiplier:1},esriTimeUnitsDays:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},esriTimeUnitsWeeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},esriTimeUnitsMonths:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},esriTimeUnitsYears:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},esriTimeUnitsDecades:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},esriTimeUnitsCenturies:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}},_intersection:function(t,
n){if(t&&n){var h=t.startTime;t=t.endTime;var c=n.startTime;n=n.endTime;h=h?h.getTime():-Infinity;c=c?c.getTime():-Infinity;t=t?t.getTime():Infinity;n=n?n.getTime():Infinity;var b,e;c>=h&&c<=t?b=c:h>=c&&h<=n&&(b=h);t>=c&&t<=n?e=t:n>=h&&n<=t&&(e=n);if(isNaN(b)||isNaN(e))return null;h=new p;h.startTime=-Infinity===b?null:new Date(b);h.endTime=Infinity===e?null:new Date(e);return h}return null},_getOffsettedDate:function(t,n,h){var c=this._refData;t=new Date(t.getTime());n&&h&&(c=c[h],t[c.setter](t[c.getter]()+
n*c.multiplier));return t}});a("extend-esri")&&(m.TimeExtent=p);return p})},"esri/layers/TimeReference":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(G,A,a,m){G=G(null,{declaredClass:"esri.layers.TimeReference",constructor:function(p){p&&A.mixin(this,p)}});a("extend-esri")&&A.setObject("layers.TimeReference",G,m);return G})},"esri/layers/LayerTimeOptions":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(G,
A,a,m,p){G=G(null,{declaredClass:"esri.layers.LayerTimeOptions",constructor:function(t){t&&A.mixin(this,t)},toJson:function(){return p.fixJson({timeDataCumulative:this.timeDataCumulative,timeOffset:this.timeOffset,timeOffsetUnits:this.timeOffsetUnits,useTime:this.useTime})}});a("extend-esri")&&A.setObject("layers.LayerTimeOptions",G,m);return G})},"esri/layers/FeatureType":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../symbols/jsonUtils ./FeatureTemplate ./support/domainUtils".split(" "),
function(G,A,a,m,p,t,n,h,c){G=G(null,{declaredClass:"esri.layers.FeatureType",constructor:function(b){if(b&&A.isObject(b)){this.id=b.id;this.name=b.name;var e=b.symbol;e&&(this.symbol=n.fromJson(e));e=b.domains;var f=this.domains={};for(k in e)e.hasOwnProperty(k)&&(f[k]=c.fromJson(e[k]));if(b=b.templates){var k=this.templates=[];for(e=0;e<b.length;e++)k.push(new h(b[e]))}}},toJson:function(){var b={id:this.id,name:this.name,symbol:this.symbol&&this.symbol.toJson()},e,f=this.domains,k=this.templates,
u=t.fixJson;if(f){var v=b.domains={};for(e in f)f.hasOwnProperty(e)&&(v[e]=f[e]&&f[e].toJson());u(v)}k&&(b.templates=a.map(k,function(g){return g.toJson()}));return u(b)}});m("extend-esri")&&A.setObject("layers.FeatureType",G,p);return G})},"esri/layers/FeatureTemplate":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../graphic".split(" "),function(G,A,a,m,p,t){G=G(null,{declaredClass:"esri.layers.FeatureTemplate",constructor:function(n){n&&A.isObject(n)&&(this.name=
n.name,this.description=n.description,this.drawingTool=n.drawingTool,this.thumbnail=n.thumbnail,n=n.prototype,this.prototype=new t(n.geometry,null,n.attributes))},toJson:function(){return p.fixJson({name:this.name,description:this.description,drawingTool:this.drawingTool,thumbnail:p.fixJson(A.clone(this.thumbnail)),prototype:this.prototype&&this.prototype.toJson()})}});A.mixin(G,{TOOL_AUTO_COMPLETE_POLYGON:"esriFeatureEditToolAutoCompletePolygon",TOOL_CIRCLE:"esriFeatureEditToolCircle",TOOL_ELLIPSE:"esriFeatureEditToolEllipse",
TOOL_FREEHAND:"esriFeatureEditToolFreehand",TOOL_LINE:"esriFeatureEditToolLine",TOOL_NONE:"esriFeatureEditToolNone",TOOL_POINT:"esriFeatureEditToolPoint",TOOL_POLYGON:"esriFeatureEditToolPolygon",TOOL_RECTANGLE:"esriFeatureEditToolRectangle",TOOL_ARROW:"esriFeatureEditToolArrow",TOOL_TRIANGLE:"esriFeatureEditToolTriangle",TOOL_LEFT_ARROW:"esriFeatureEditToolLeftArrow",TOOL_RIGHT_ARROW:"esriFeatureEditToolRightArrow",TOOL_UP_ARROW:"esriFeatureEditToolUpArrow",TOOL_DOWN_ARROW:"esriFeatureEditToolDownArrow"});
a("extend-esri")&&A.setObject("layers.FeatureTemplate",G,m);return G})},"esri/layers/support/domainUtils":function(){define("dojo/_base/lang dojo/has ../../kernel ../RangeDomain ../CodedValueDomain ../InheritedDomain".split(" "),function(G,A,a,m,p,t){var n={fromJson:function(h){if(h)switch(h.type){case "range":var c=new m(h);break;case "codedValue":c=new p(h);break;case "inherited":c=new t(h)}return c}};A("extend-esri")&&G.setObject("layers.support.domainUtils",n,a);return n})},"esri/layers/InheritedDomain":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","../kernel","./Domain"],function(G,A,a,m,p){G=G([p],{declaredClass:"esri.layers.InheritedDomain"});a("extend-esri")&&A.setObject("layers.InheritedDomain",G,m);return G})},"esri/layers/FeatureSubtype":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./support/domainUtils".split(" "),function(G,A,a,m,p,t){G=G(null,{declaredClass:"esri.layers.FeatureSubtype",constructor:function(n){if(n&&A.isObject(n)){this.code=n.code;this.name=n.name;this.defaultValues=
n.defaultValues;n=n.domains;var h=this.domains={},c;for(c in n)n.hasOwnProperty(c)&&(h[c]=t.fromJson(n[c]))}},toJson:function(){var n=p.fixJson,h={code:this.code,name:this.name,defaultValues:n(A.clone(this.defaultValues))},c=this.domains;if(c){var b=h.domains={},e;for(e in c)c.hasOwnProperty(e)&&(b[e]=c[e]&&c[e].toJson());n(b)}return n(h)}});a("extend-esri")&&A.setObject("layers.FeatureSubtype",G,m);return G})},"esri/layers/FeatureEditResult":function(){define(["dojo/_base/declare","dojo/_base/lang",
"dojo/has","../kernel"],function(G,A,a,m){G=G(null,{declaredClass:"esri.layers.FeatureEditResult",constructor:function(p){p&&A.isObject(p)&&(this.objectId=p.objectId,this.globalId=p.globalId,this.success=p.success,p.success||(p=p.error,this.error=Error(),this.error.code=p.code,this.error.message=p.description))}});a("extend-esri")&&A.setObject("layers.FeatureEditResult",G,m);return G})},"esri/layers/LabelClass":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../lang ../symbols/TextSymbol ../symbols/ShieldLabelSymbol".split(" "),
function(G,A,a,m,p,t,n,h){var c=/__begin__/ig,b=/__end__/ig,e=/^__begin__/i,f=/__end__$/i;G=G(null,{declaredClass:"esri.layers.LabelClass",labelPlacement:null,labelExpression:null,format:null,fieldInfos:null,useCodedValues:null,symbol:null,maxScale:0,minScale:0,where:null,sizeInfo:null,_labelPlacementLookup:{"above-center":"esriServerPointLabelPlacementAboveCenter","above-left":"esriServerPointLabelPlacementAboveLeft","above-right":"esriServerPointLabelPlacementAboveRight","below-center":"esriServerPointLabelPlacementBelowCenter",
"below-left":"esriServerPointLabelPlacementBelowLeft","below-right":"esriServerPointLabelPlacementBelowRight","center-center":"esriServerPointLabelPlacementCenterCenter","center-left":"esriServerPointLabelPlacementCenterLeft","center-right":"esriServerPointLabelPlacementCenterRight","above-after":"esriServerLinePlacementAboveAfter","above-along":"esriServerLinePlacementAboveAlong","above-before":"esriServerLinePlacementAboveBefore","above-start":"esriServerLinePlacementAboveStart","above-end":"esriServerLinePlacementAboveEnd",
"below-after":"esriServerLinePlacementBelowAfter","below-along":"esriServerLinePlacementBelowAlong","below-before":"esriServerLinePlacementBelowBefore","below-start":"esriServerLinePlacementBelowStart","below-end":"esriServerLinePlacementBelowEnd","center-after":"esriServerLinePlacementCenterAfter","center-along":"esriServerLinePlacementCenterAlong","center-before":"esriServerLinePlacementCenterBefore","center-start":"esriServerLinePlacementCenterStart","center-end":"esriServerLinePlacementCenterEnd",
"always-horizontal":"esriServerPolygonPlacementAlwaysHorizontal"},constructor:function(k){k&&(A.mixin(this,k),this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)||(this.labelPlacement=t.valueOf(this._labelPlacementLookup,k.labelPlacement)),k.format&&(this.format=k.format),k.fieldInfos&&(this.fieldInfos=k.fieldInfos),k.symbol&&(this.symbol="esriSHD"===k.symbol.type?new h(k.symbol):new n(k.symbol)),k=this.sizeInfo)&&(k.minSize&&(k.minSize=m.pt2px(k.minSize)),k.maxSize&&(k.maxSize=m.pt2px(k.maxSize)))},
getSymbol:function(){return this.symbol},toJson:function(){var k=this.sizeInfo;k&&(k=A.mixin({},k),k.minSize&&(k.minSize=m.px2pt(k.minSize)),k.maxSize&&(k.maxSize=m.px2pt(k.maxSize)));var u=t.fixJson(this.labelExpressionInfo&&A.clone(this.labelExpressionInfo));this._processLabelExpressionInfo(u);k={name:this.name,labelExpression:this.labelExpression,labelExpressionInfo:u,format:this.format||void 0,fieldInfos:this.fieldInfos||void 0,useCodedValues:this.useCodedValues,maxScale:this.maxScale,minScale:this.minScale,
where:this.where,sizeInfo:k||void 0,labelPlacement:this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)?this._labelPlacementLookup[this.labelPlacement]:this.labelPlacement,symbol:this.symbol&&this.symbol.toJson()};return t.fixJson(k)},_processLabelExpressionInfo:function(k){k&&k.value&&(k.expression=this._convertTemplatedStringToArcade(k.value))},_convertTemplatedStringToArcade:function(k){if(k){var u=A.replace(k,function(v,g){return'__begin__$feature["'+g+'"]__end__'});u=e.test(u)?u.replace(e,
""):'"'+u;u=f.test(u)?u.replace(f,""):u+'"';u=u.replace(c,'" + ').replace(b,' + "')}return u}});a("extend-esri")&&A.setObject("layers.LabelClass",G,p);return G})},"esri/symbols/ShieldLabelSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./MarkerSymbol ./Font".split(" "),function(G,A,a,m,p,t,n,h,c){var b={url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};G=G(h,{declaredClass:"esri.symbol.ShieldLabelSymbol",type:"shieldlabelsymbol",
color:[255,255,255,1],width:32,height:32,font:m.defaultFont,constructor:function(e,f,k,u,v){e?A.isString(e)?(this.url=e,f&&(this.color=f),k&&(this.width=k),u&&(this.height=u),void 0!==v&&(this.font=v)):(this.width=m.pt2px(e.width),this.height=m.pt2px(e.height),f=e.imageData,9>a("ie")||!f||(k=this.url,this.url="data:"+(e.contentType||"image")+";base64,"+f,this.imageData=k)):A.mixin(this,b)},getStroke:function(){return null},getFill:function(){return this.color},setWidth:function(e){this.width=e;return this},
setHeight:function(e){this.height=e;return this},setUrl:function(e){e!==this.url&&(delete this.imageData,delete this.contentType);this.url=e;return this},setFont:function(e){this.font=e;return this},setText:function(e){this.text=e;return this},getWidth:function(){return this.width},getHeight:function(){return this.height},getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,
stroke:null}},toJson:function(){var e=this.url,f=this.imageData;if(0===e.indexOf("data:")){var k=e;e=f;f=k.indexOf(";base64,")+8;f=k.substr(f)}e=n.getAbsoluteUrl(e);k=m.px2pt(this.width);k=isNaN(k)?void 0:k;var u=m.px2pt(this.height);u=isNaN(u)?void 0:u;e=t.fixJson(A.mixin(this.inherited("toJson",arguments),{type:"esriSHD",url:e,imageData:f,contentType:this.contentType,width:k,height:u}));this.font?(f=new c(this.font),e.font=f.toJson()):e.font=null;delete e.size;e.imageData||delete e.imageData;return e}});
G.defaultProps=b;a("extend-esri")&&(A.setObject("symbol.ShieldLabelSymbol",G,p),p.symbol.defaultShieldLabelSymbol=b);return G})},"esri/layers/SnapshotMode":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../SpatialReference ../srUtils ../tasks/query ./RenderMode ./support/ParallelSnapshot".split(" "),function(G,A,a,m,p,t,n,h,c){G=G([h],{declaredClass:"esri.layers._SnapshotMode",maxFeatures:5E4,maxRecordCountFactor:1,scaleToTileFactor:1,_isSuspendedAtStartup:!1,_pendingRefresh:!1,
constructor:function(b){this.featureLayer=b;this._featureMap={};this._hasUpdateError=this._hasPartialFeatures=!1;this._drawFeatures=A.hitch(this,this._drawFeatures);this._queryErrorHandler=A.hitch(this,this._queryErrorHandler);this._handleSuccess=A.hitch(this,this._handleSuccess);this._handleError=A.hitch(this,this._handleError);this._handleProgress=A.hitch(this,this._handleProgress)},startup:function(){if(!this._started||this._isSuspendedAtStartup){this.inherited(arguments);var b=this.featureLayer,
e=b.reHostedFS.test(b.url);this.pagination=b.queryPagination&&null!=b.maxRecordCount;this._cacheHintSupported=b._isCacheHintSupported();this.scaleToTileFactor=this._getScaleToTileFactor();e&&this.pagination&&(this._parallelSnapshot=new c({layer:b,mode:this,queryTask:b._task}));this._isSuspendedAtStartup=b.suspended;this._startup()}},propertyChangeHandler:function(b){this._init&&(b?this.featureLayer._collection?console.log("FeatureLayer: layer created by value (from a feature collection) does not support definition expressions and time definitions. Layer id \x3d "+
this.featureLayer.id):this._fetchAll():this._applyTimeFilter())},destroy:function(){this._isSuspendedAtStartup=this._pendingRefresh=!1;this._cancelPendingRequest(this._pendingRequest);this._parallelSnapshot&&this._parallelSnapshot.destroy();this.inherited(arguments)},drawFeature:function(b){var e=b.attributes[this.featureLayer.objectIdField];this._addFeatureIIf(e,b);this._incRefCount(e)},resume:function(){this._isSuspendedAtStartup||this._pendingRefresh?(this._isSuspendedAtStartup=!1,this._startup()):
this.propertyChangeHandler(0)},refresh:function(){var b=this.featureLayer;b._collection?(b._fireUpdateStart(),b._refresh(!0),b._fireUpdateEnd()):this._fetchAll()},hasAllFeatures:function(){return!this._hasPartialFeatures},hasUpdateError:function(){return this._hasUpdateError},canFetchPBF:function(b){return this.inherited(arguments)&&this.featureLayer._canFetchPBFForQuery(b)},_startup:function(){this.featureLayer._collection?this._applyTimeFilter():this._fetchAll()},_fetchAll:function(){var b=this.featureLayer;
b._collection||b.suspended||!b.isQueryable()?this._pendingRefresh=b.suspended:(this._pendingRefresh=!1,b._fireUpdateStart(),this._clearIIf(),this._hasUpdateError=this._hasPartialFeatures=!1,this._parallelSnapshot?this._parallelSnapshot.fetch().then(this._handleSuccess,this._handleError,this._handleProgress):this._sendRequest())},_handleSuccess:function(b){this._hasPartialFeatures=b.hasPartialFeatures;this._hasUpdateError=b.hasUpdateError;this.featureLayer._fireUpdateEnd(null)},_handleError:function(b){this._queryErrorHandler(b)},
_handleProgress:function(b){b.isError?this.featureLayer._errorHandler(b.error):this._addFeatures(b.features)},_getScaleToTileFactor:function(){var b=this.featureLayer.tileMaxRecordCount,e=this.featureLayer.maxRecordCount,f=1;null!=b&&null!=e&&(f=Number((b/e).toFixed(2)));return f},_getPageSize:function(b){var e=this.featureLayer.tileMaxRecordCount;e="tile"===b.resultType&&e?e:this.featureLayer.maxRecordCount;b.maxRecordCountFactor&&(e=Math.floor(e*b.maxRecordCountFactor));return e},_sendRequest:function(b){var e=
this.featureLayer,f=this._createQueryInfo(),k=f.query;this.pagination&&(this._pageSize=this._getPageSize(k),this._start=k.start=null==b?0:b,k.num=this._pageSize);this._pendingRequest&&this._cancelPendingRequest(this._pendingRequest);this._pendingRequest=e._task.execute(k,this._drawFeatures,this._queryErrorHandler,f.pbf?{format:"pbf"}:null)},_drawFeatures:function(b){this._pendingRequest=null;this.featureLayer._isImageService&&10.7>this.featureLayer.version&&void 0===b.exceededTransferLimit&&(b.exceededTransferLimit=
b.features.length===this.featureLayer.maxRecordCount);var e=this.featureLayer,f=b.exceededTransferLimit,k=f&&!e._collection;b=this._checkMaxLimit(b.features);var u=b.maxLimitReached;this._addFeatures(b.features);this.pagination&&k&&!u||(this._hasPartialFeatures=!!f,e._fireUpdateEnd(null,f?{queryLimitExceeded:!0}:null));k&&(this.pagination&&!u&&this._sendRequest(this._start+this._pageSize),e.onQueryLimitExceeded())},_queryErrorHandler:function(b){this._pendingRequest=null;this._hasUpdateError=this._hasPartialFeatures=
!0;var e=this.featureLayer;e._errorHandler(b);e._fireUpdateEnd(b)},_checkMaxLimit:function(b){var e=b?b.length:0,f=this.featureLayer.graphics.length+e,k=f>=this.maxFeatures;if(k){var u=f-this.maxFeatures;u&&b.splice(e-u,u)}return{maxLimitReached:k,featuresDiscarded:f>this.maxFeatures,features:b}},_createQueryInfo:function(){var b=this.featureLayer,e=new n;e.outFields=b.getOutFields();e.where=b._getAttributeFilter()||"1\x3d1";e.returnGeometry=!0;e.outSpatialReference=t.createSpatialReference(this.map.spatialReference.toJson());
e.timeExtent=b.getTimeDefinition();e.maxAllowableOffset=b._maxOffset;e.quantizationParameters=b._quantizationParameters;e.orderByFields=b.supportsAdvancedQueries?b.getOrderByFields():null;e.multipatchOption=b.multipatchOption;b._ts&&(e._ts=(new Date).getTime());this._cacheHintSupported&&b._enableCacheHint(e);var f=this.canFetchPBF(e);b._enableEditModeQuantization(e,f);this._applyMaxRecordCountFactor(e,f);return{query:e,pbf:f}},_applyMaxRecordCountFactor:function(b,e){var f=this.featureLayer.advancedQueryCapabilities;
this.featureLayer._isCacheHintEnabled(b)&&f&&f.supportsMaxRecordCountFactor&&("tile"!==b.resultType&&1<this.scaleToTileFactor&&(b.maxRecordCountFactor=this.scaleToTileFactor),e&&1<this.maxRecordCountFactor&&(b.maxRecordCountFactor=this.maxRecordCountFactor),5<b.maxRecordCountFactor&&(b.maxRecordCountFactor=5))},_addFeatures:function(b){var e=this.featureLayer,f=e.objectIdField,k=b.length,u=e._selectedFeatures,v=e.mode===e.constructor.MODE_AUTO;e._fireUpdateStart();e._sortFeatures(b);for(e=0;e<k;e++){var g=
b[e];var q=g.attributes[f];var x=this._addFeatureIIf(q,g);this._incRefCount(q);v&&x!==g&&u[q]&&(x.setGeometry(g.geometry),x.setAttributes(g.attributes))}this._applyTimeFilter(!0)}});a("extend-esri")&&A.setObject("layers._SnapshotMode",G,m);return G})},"esri/layers/RenderMode":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","../sniff","../kernel"],function(G,A,a,m,p){var t=!!m("esri-pbf"),n=!!m("esri-featurelayer-pbf");G=G(null,{declaredClass:"esri.layers._RenderMode",
enablePBFQuery:t&&n,initialize:function(h){this.map=h;this._init=!0},startup:function(){this._started=!0},propertyChangeHandler:function(h){},destroy:function(){this._init=this._started=!1},drawFeature:function(h){},suspend:function(){},resume:function(){},refresh:function(){},hasAllFeatures:function(){return!0},hasUpdateError:function(){return!1},canFetchPBF:function(h){return!(!this.featureLayer._canFetchPBF()||!this.enablePBFQuery)},_incRefCount:function(h){(h=this._featureMap[h])&&h._count++},
_decRefCount:function(h){(h=this._featureMap[h])&&h._count--},_getFeature:function(h){return this._featureMap[h]},_addFeatureIIf:function(h,c){var b=this._featureMap,e=b[h],f=this.featureLayer;e||(b[h]=c,f._add(c),c._count=0);return e||c},_removeFeatureIIf:function(h){var c=this._featureMap[h],b=this.featureLayer;if(c){if(c._count)return;delete this._featureMap[h];b._remove(c)}return c},_registerFeature:function(h,c){var b=this._featureMap,e=b[h];e?(e.attributes=c.attributes,e.geometry=c.geometry):
(b[h]=c,c._count=0,c._layer=c._graphicsLayer=c._sourceLayer=this.featureLayer);return e||c},_unregisterFeature:function(h){var c=this._featureMap,b=c[h];b&&!b._count&&(delete c[h],b._graphicsLayer=null)},_clearIIf:function(){var h=this.featureLayer;var c=h.graphics,b=h._selectedFeatures,e=h.getSelectedFeatures().length,f=h.objectIdField;if(e)for(h=c.length-1;0<=h;h--){e=c[h];var k=e.attributes[f];k in b?e._count=1:(e._count=0,this._removeFeatureIIf(k))}else h.clear(),this._featureMap={}},_cancelPendingRequest:function(h){if(h)try{h.cancel()}catch(c){}},
_toggleVisibility:function(h){var c=this.featureLayer,b=c.graphics,e=h?"show":"hide",f,k=b.length;h=h&&c._ager;for(f=0;f<k;f++){var u=b[f];u[e]();h&&c._repaint(u)}},_applyTimeFilter:function(h){var c=this.featureLayer;if(c.timeInfo&&!c.suspended){h||c._fireUpdateStart();var b=c._trackManager;b&&b.clearTracks();var e=c.getTimeDefinition(),f=c._getOffsettedTE(c._mapTimeExtent);f?(f=c._getTimeOverlap(e,f))?(e=c._filterByTime(c.graphics,f.startTime,f.endTime),b&&b.addFeatures(e.match),a.forEach(e.match,
function(k){var u=k._shape;k.visible||(k.show(),(u=k._shape)&&u._moveToFront());c._ager&&u&&c._repaint(k)}),a.forEach(e.noMatch,function(k){k.visible&&k.hide()})):this._toggleVisibility(!1):(b&&b.addFeatures(c.graphics),this._toggleVisibility(!0));b&&(b.moveLatestToFront(),b.drawTracks());h||c._fireUpdateEnd()}}});m("extend-esri")&&A.setObject("layers._RenderMode",G,p);return G})},"esri/layers/support/ParallelSnapshot":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojo/Deferred ../../kernel".split(" "),
function(G,A,a,m,p,t){G=G(null,{declaredClass:"esri.layers.support.ParallelSnapshot",layer:null,mode:null,queryTask:null,batchSize:5,_queryInfo:null,_fetchDfd:null,_startPage:null,_lastPage:null,_pageSize:null,_maxPages:null,_requests:null,constructor:function(n){A.mixin(this,n);this._requests={}},destroy:function(){this.cancel()},fetch:function(){var n=new p;this.cancel(!0);this._queryInfo=this.mode._createQueryInfo();this._pageSize=this.mode._getPageSize(this._queryInfo.query);this._maxPages=Math.ceil(this._getFeatureCount()/
this._pageSize);this._fetchDfd=n;this._sendRequests();return n.promise},cancel:function(n){this._cancelPendingRequests(n);this._reset()},_reset:function(){this._startPage=this._lastPage=null;this._requests={}},_getFeatureCount:function(){return this.layer.mode===this.layer.constructor.MODE_AUTO&&0===this.layer.getLastExceedsLimitResult()?this.layer._getMaxFeaturesForAutoSnapshotMode():this.mode.maxFeatures},_sendRequests:function(n){var h=this._queryInfo.query,c=this.queryTask,b=this._requests;n=
null==n?1:n;var e=n+this.batchSize-1;e>this._maxPages&&(e=this._maxPages);if(!(n>e))for(this._startPage=n,this._lastPage=e;n<=e;n++)h.start=(n-1)*this._pageSize,h.num=this._pageSize,b[n]=c.execute(h,null,null,this._queryInfo.pbf?{format:"pbf"}:null),b[n].then(A.hitch(this,this._handleSuccess,n)).otherwise(A.hitch(this,this._handleError,n))},_evalNextBatch:function(n){n===this._lastPage&&this._sendRequests(this._lastPage+1)},_handleSuccess:function(n,h){h.exceededTransferLimit||this._cancelLaterRequests(n,
!0);var c=this.mode._checkMaxLimit(h.features);this._fetchDfd.progress({features:c.features,isError:!1});c.maxLimitReached?((n=c.featuresDiscarded||this._hasRejectedRequests())||(n=!!this._getResult(this._getLastSuccessfulRequest()).exceededTransferLimit),this._resolveFetch(n)):(h.exceededTransferLimit&&this._evalNextBatch(n),this._evalResolution())},_handleError:function(n,h){var c=this._requests;c&&c[n]&&(1===n?this._rejectFetch(h):(this._evalNextBatch(n),this._fetchDfd.progress({error:h,isError:!0}),
this._evalResolution()))},_evalResolution:function(){this._hasPendingRequests()||this._resolveFetch(this._hasRejectedRequests())},_resolveFetch:function(n){var h=this._hasRejectedRequests();this.cancel(!0);this._fetchDfd.resolve({hasPartialFeatures:n,hasUpdateError:h})},_rejectFetch:function(n){this.cancel(!0);this._fetchDfd.reject(n)},_getResult:function(n){return n&&n.dfd.results[0]},_hasPendingRequests:function(){return!!this._getPendingRequests().length},_getPendingRequests:function(){var n=this._requests,
h,c=[];for(h in n){var b=n[h];b.isFulfilled()||c.push({pageId:Number(h),dfd:b})}return c},_getLastSuccessfulRequest:function(){var n=this._getResolvedRequests(),h=-Infinity,c;n=a.filter(n,function(b){return!!this._getResult(b).features.length||1===b.pageId},this);a.forEach(n,function(b){b.pageId>h&&(h=b.pageId,c=b)});return c},_getResolvedRequests:function(){var n=this._requests,h,c=[];for(h in n){var b=n[h];b.isResolved()&&c.push({pageId:Number(h),dfd:b})}return c},_hasRejectedRequests:function(){var n=
this._getRejectedRequests(),h=this._getLastSuccessfulRequest(),c=this._getResult(h);c&&!c.exceededTransferLimit&&(n=a.filter(n,function(b){return b.pageId<=h.pageId}));return!!n.length},_getRejectedRequests:function(){var n=this._requests,h,c=[];for(h in n){var b=n[h];b.isRejected()&&c.push({pageId:Number(h),dfd:b})}return c},_cancelPendingRequests:function(n){this._cancelRequests(this._getPendingRequests(),n)},_cancelLaterRequests:function(n,h){var c=a.filter(this._getPendingRequests(),function(b){return b.pageId>
n});this._cancelRequests(c,h)},_cancelRequests:function(n,h){var c=this.mode,b=this._requests;a.forEach(n,function(e){h&&delete b[e.pageId];c._cancelPendingRequest(e.dfd)})}});m("extend-esri")&&A.setObject("layers.support.ParallelSnapshot",G,t);return G})},"esri/layers/OnDemandMode":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/has ../kernel ../geometry/Point ../tasks/query ./RenderMode ./GridLayout".split(" "),function(G,A,a,m,p,t,n,h,c,b){G=G([c],
{declaredClass:"esri.layers._OnDemandMode",constructor:function(e){this.featureLayer=e;this._featureMap={}},initialize:function(e){this.inherited(arguments);this._cellMap={};this._gridLayer=b.createFromFeatureLayer({layer:this.featureLayer,map:e})},startup:function(){if(!this._started||this._isSuspendedAtStartup)this.inherited(arguments),this._ioQueue=[],this._isSuspendedAtStartup=this.featureLayer.suspended,this.featureLayer.suspended||(this._zoomHandler(),this._enableConnectors())},propertyChangeHandler:function(e){this._init&&
(2>e?this._zoomHandler():console.log("FeatureLayer: layer in on-demand mode does not support time definitions. Layer id \x3d "+this.featureLayer.id+", Layer URL \x3d "+this.featureLayer.url))},destroy:function(){this._disableConnectors();this._processIOQueue(!0);this.inherited(arguments)},drawFeature:function(e){var f=e.geometry,k=[];if(f){k=this._gridLayer.getCellsInExtent("point"===f.type?{xmin:f.x,ymin:f.y,xmax:f.x,ymax:f.y}:f.getExtent(),!1).cells;f=this._cellMap;var u,v=e.attributes[this.featureLayer.objectIdField];
for(u=0;u<k.length;u++){var g=k[u];var q=g.latticeID;var x=g.row;var w=g.col;q?g=f[q]=f[q]||g:(f[x]=f[x]||{},g=f[x][w]=f[x][w]||g);g.features=g.features||[];g.features.push(e);this._addFeatureIIf(v,e);this._incRefCount(v)}}},suspend:function(){this._init&&this._disableConnectors()},resume:function(){this._init&&(this._enableConnectors(),this._zoomHandler())},refresh:function(){this._zoomHandler()},hasAllFeatures:function(){var e=!1,f=this._getCurrentCells(),k;for(k=0;k<f.length;k++)if(f[k].hasPartialFeatures){e=
!0;break}return!e},hasUpdateError:function(){var e=!1,f=this._getCurrentCells(),k;for(k=0;k<f.length;k++)if(f[k].hasUpdateError){e=!0;break}return e},canFetchPBF:function(e){return this.inherited(arguments)&&this.featureLayer._canFetchPBFForQuery(e)},_enableConnectors:function(){var e=this.map;this._zoomConnect=A.connect(e,"onZoomEnd",this,this._zoomHandler);this._panConnect=A.connect(e,"onPanEnd",this,this._panHandler);this._resizeConnect=A.connect(e,"onResize",this,this._panHandler)},_disableConnectors:function(){A.disconnect(this._zoomConnect);
A.disconnect(this._panConnect);A.disconnect(this._resizeConnect)},_zoomHandler:function(){this._processIOQueue(!0);var e=this.featureLayer,f=this.map;!e.suspended&&e.isQueryable()&&(e._fireUpdateStart(),this._clearIIf(),(e=e._trackManager)&&e.clearTracks(),this._cellMap={},this._gridLayer.setResolution(f.extent),this._sendRequest())},_panHandler:function(e){if(this.featureLayer.isQueryable()){this.featureLayer._fireUpdateStart();var f=this.featureLayer._resized;e=f?e:null;f&&this._gridLayer.setMapState(e,
this.map.width,this.map.height);this._sendRequest(e)}},_sendRequest:function(e){this._exceeds=!1;var f=this.featureLayer,k=this.map;e=e||k.extent;k=this._gridLayer.getCellsInExtent(e,f.latticeTiling).cells;if(!f.isEditable()){var u=this._cellMap;k=m.filter(k,function(x){if(x.lattice){if(u[x.latticeID])return!1}else if(u[x.row]&&u[x.row][x.col])return!1;return!0})}this._pending=this._pending||0;var v;for(v=0;v<k.length;v++){var g=k[v],q=this._createQueryInfo(g);this._pending++;this._ioQueue.push(f._task.execute(q.query,
a.hitch(this,this._drawFeatures,g),a.hitch(this,this._queryErrorHandler,g),q.pbf?{format:"pbf"}:null))}this._removeOldCells(e);this._endCheck()},_drawFeatures:function(e,f){this.featureLayer._isImageService&&10.7>this.featureLayer.version&&void 0===f.exceededTransferLimit&&(f.exceededTransferLimit=f.features.length===this.featureLayer.maxRecordCount);e.hasPartialFeatures=!!f.exceededTransferLimit;e.hasUpdateError=!1;this._exceeds=this._exceeds||f.exceededTransferLimit;this._finalizeIO();var k=this.featureLayer,
u=this.map.extent,v=e.extent,g=e.row,q=e.col,x=k.objectIdField;f=f.features;var w=this._gridLayer,B=this._cellMap,z=e.latticeID;B=z?B[z]:B[g]&&B[g][q];if(e.resolution==w.resolution&&(z?z===w.getLatticeID(u):w.intersects(v,u)))if(B)k._sortFeatures(f),this._updateCell(B,f);else for(k._sortFeatures(f),e.features=f,this._addCellToCellMap(e),k=f.length,e=0;e<k;e++)u=f[e],v=u.attributes[x],this._addFeatureIIf(v,u),this._incRefCount(v);else B&&this._removeCell(g,q,z);this._endCheck()},_queryErrorHandler:function(e,
f){this._finalizeIO();e.hasPartialFeatures=!0;e.hasUpdateError=!0;this._addCellToCellMap(e);this.featureLayer._errorHandler(f);this._endCheck(f)},_finalizeIO:function(){this._pending--},_endCheck:function(e){if(0===this._pending){this._processIOQueue();var f=this.featureLayer,k=f._trackManager;k&&(k.clearTracks(),k.addFeatures(f.graphics),f._ager&&m.forEach(f.graphics,function(u){u._shape&&f._repaint(u)}),k.moveLatestToFront(),k.drawTracks());this.featureLayer._fireUpdateEnd(!!e&&Error("FeatureLayer: "+
(e.message||"an error occurred while updating the layer.")),this._exceeds?{queryLimitExceeded:!0}:null);if(this._exceeds)f.onQueryLimitExceeded()}},_processIOQueue:function(e){this._ioQueue=m.filter(this._ioQueue,function(f){return-1<f.fired?!1:!0});e&&m.forEach(this._ioQueue,this._cancelPendingRequest)},_createQueryInfo:function(e){var f=this.featureLayer,k=new h;k.outFields=f.getOutFields();k.where=f._getAttributeFilter();k.returnGeometry=!0;k.geometry=e.extent||e.lattice;f.latticeTiling&&e.extent&&
(k.spatialRelationship=h.SPATIAL_REL_CONTAINS);k.timeExtent=f._getOffsettedTE(f._mapTimeExtent);k.maxAllowableOffset=f._maxOffset;k.quantizationParameters=f._quantizationParameters;k.orderByFields=f.supportsAdvancedQueries?f.getOrderByFields():null;k.multipatchOption=f.multipatchOption;f._ts&&(k._ts=(new Date).getTime());(e=f.advancedQueryCapabilities)&&e.supportsQueryWithResultType&&(k.resultType="tile");e=this.canFetchPBF(k);f._enableEditModeQuantization(k,e);return{query:k,pbf:e}},_getCurrentCells:function(e){var f=
[];e=e||this._cellMap;for(var k in e)if(e.hasOwnProperty(k)){var u=e[k];u&&(u.hasOwnProperty("row")||u.hasOwnProperty("latticeID")?f.push(u):"object"===typeof u&&f.push.apply(f,this._getCurrentCells(u)))}return f},_addCellToCellMap:function(e){var f=this._cellMap;if(e.latticeID)f[e.latticeID]=e;else{var k=e.row,u=e.col;f[k]=f[k]||{};f[k][u]=e}},_removeOldCells:function(e){var f=this._cellMap,k=this._gridLayer,u,v;for(u in f)if(f[u]){var g=f[u],q=g.latticeID,x=0,w=0;if(q)x++,q!==k.getLatticeID(e)&&
(this._removeCell(null,null,q),w++);else for(v in g)g[v]&&(x++,k.intersects(g[v].extent,e)||(this._removeCell(u,v),w++));w===x&&delete f[u]}},_updateCell:function(e,f){var k=this.featureLayer,u=k.objectIdField;k=k._selectedFeatures;var v,g=f.length;e.features=e.features||[];for(v=0;v<g;v++){var q=f[v],x=q.attributes[u],w=this._addFeatureIIf(x,q);w===q?(this._incRefCount(x),e.features.push(w)):x in k||(w.setGeometry(q.geometry),w.setAttributes(q.attributes))}},_removeCell:function(e,f,k){var u=this._cellMap,
v=this.featureLayer,g=v.objectIdField,q=k?u[k]:u[e]&&u[e][f];if(q&&(k?delete u[k]:delete u[e][f],e=q.features))for(f=0;f<e.length;f++)k=e[f].attributes[g],this._decRefCount(k),k in v._selectedFeatures||this._removeFeatureIIf(k)}});p("extend-esri")&&a.setObject("layers._OnDemandMode",G,t);return G})},"esri/layers/GridLayout":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../geometry/Point ../geometry/Extent ../geometry/Polyline ../geometry/Polygon ../geometry/normalizeUtils ../srUtils".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e){var f=G(null,{declaredClass:"esri.layers._GridLayout",constructor:function(k,u,v,g){this.origin=k;this.cellWidth=u.width;this.cellHeight=u.height;this.mapWidth=v.width;this.mapHeight=v.height;this.srInfo=g},setResolution:function(k){this.resolution=(k.xmax-k.xmin)/this.mapWidth;this.srInfo&&(k=Math.round(Math.round(2*this.srInfo.valid[1]/this.resolution)/this.cellWidth),this._frameStats=[k,0,k-1])},setMapState:function(k,u,v){this.mapWidth=u;this.mapHeight=v;this.setResolution(k)},
getCellCoordinates:function(k){var u=this.resolution,v=this.origin;return{row:Math.floor((v.y-k.y)/(this.cellHeight*u)),col:Math.floor((k.x-v.x)/(this.cellWidth*u))}},normalize:function(k){var u=this._frameStats;if(u){var v=u[0],g=u[1];u=u[2];k<g?(k%=v,k=k<g?k+v:k):k>u&&(k%=v)}return k},intersects:function(k,u){var v=this.srInfo;return v?a.some(u._getParts(v),function(g){return k.intersects(g.extent)}):k.intersects(u)},getCellExtent:function(k,u){var v=this.resolution,g=this.origin,q=this.cellWidth,
x=this.cellHeight;return new n(u*q*v+g.x,g.y-(k+1)*x*v,(u+1)*q*v+g.x,g.y-k*x*v,e.createSpatialReference(g.spatialReference.toJson()))},getLatticeID:function(k){var u=this.getCellCoordinates({x:k.xmin,y:k.ymax}),v=this.getCellCoordinates({x:k.xmax,y:k.ymin});k=u.row;var g=v.row;u=this.normalize(u.col);v=this.normalize(v.col);return k+"_"+g+"_"+u+"_"+v},sorter:function(k,u){return k<u?-1:1},getCellsInExtent:function(k,u){var v=this.getCellCoordinates({x:k.xmin,y:k.ymax}),g=this.getCellCoordinates({x:k.xmax,
y:k.ymin}),q=v.row,x=g.row;v=v.col;g=g.col;var w=[],B,z,C=[],y=[],D=[];for(B=q;B<=x;B++)for(z=v;z<=g;z++){var F=this.normalize(z);k=this.getCellExtent(B,F);a.some(w,function(I){return I.row===B&&I.col===F})||w.push({row:B,col:F,extent:k,resolution:this.resolution});u&&(C.push(k.xmin,k.xmax),y.push(k.ymin,k.ymax))}v=this.normalize(v);g=this.normalize(g);C.sort(this.sorter);y.sort(this.sorter);u=C.length;for(B=u-1;0<=B;B--)B<u-1&&C[B]===C[B+1]&&C.splice(B,1);u=y.length;for(B=u-1;0<=B;B--)B<u-1&&y[B]===
y[B+1]&&y.splice(B,1);if(C.length&&y.length){k=C[0];z=C[C.length-1];var H=y[0];var E=y[y.length-1];u=C.length;for(B=0;B<u;B++)D.push([[C[B],E],[C[B],H]]);u=y.length;for(B=0;B<u;B++)D.push([[k,y[B]],[z,y[B]]]);C=new h({paths:D,spatialReference:this.origin.spatialReference.toJson()});w.push({latticeID:q+"_"+x+"_"+v+"_"+g,lattice:C,resolution:this.resolution})}return{minRow:q,maxRow:x,minCol:v,maxCol:g,topRow:q,bottomRow:x,leftCol:v,rightCol:g,cells:w}},_findCell:function(k,u,v){var g;a.some(k,function(q){q.row===
u&&q.col===v&&(g=q);return!!g});return g},getExtentOfIntersectingCells:function(k){var u=this.getCellsInExtent(k),v=u&&u.cells;if(v&&v.length){var g=u.topRow,q=u.leftCol,x=0;a.forEach(v,function(C){C.row===g&&x++});var w=this._findCell(v,g,q).extent,B=this.srInfo;if(!B||x!==this._frameStats[0]&&q!==u.rightCol){var z=w.xmin;B=z+x*w.getWidth()}else z=B.valid[0],B=B.valid[1];u=this._findCell(v,u.bottomRow,q).extent.ymin;(k=(new n(z,u,B,w.ymax,k.spatialReference))._normalize(!1,!1))&&k.rings&&(k=new c(k),
k=b.getDenormalizedExtent(k));return k}}});f.createFromFeatureLayer=function(k){var u=k.layer;k=u.getMap()||k.map;var v=u._srInfo;(u=k&&k.loaded?new f(new t(v?v.valid[0]:k.extent.xmin,v?v.valid[1]:k.extent.ymax,k.spatialReference),{width:u._tileWidth,height:u._tileHeight},{width:k.width,height:k.height},v):null)&&u.setResolution(k.extent);return u};m("extend-esri")&&A.setObject("layers._GridLayout",f,p);return f})},"esri/layers/SelectionMode":function(){define(["dojo/_base/declare","dojo/_base/lang",
"dojo/has","../kernel","./RenderMode"],function(G,A,a,m,p){G=G([p],{declaredClass:"esri.layers._SelectionMode",constructor:function(t){this.featureLayer=t;this._featureMap={}},propertyChangeHandler:function(t){this._init&&0===t&&this._applyTimeFilter()},resume:function(){this.propertyChangeHandler(0)},hasAllFeatures:function(){return!this.featureLayer._hasPartialSelectedFeatures},hasUpdateError:function(){return this.featureLayer._hasSelectionError}});a("extend-esri")&&A.setObject("layers._SelectionMode",
G,m);return G})},"esri/layers/StreamMode":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/has ../kernel ../SpatialReference ../tasks/query ../tasks/QueryTask ../geometry/jsonUtils ./RenderMode".split(" "),function(G,A,a,m,p,t,n,h,c,b,e){G=G([e],{declaredClass:"esri.layers._StreamMode",constructor:function(f,k){this.featureLayer=f;this._featureMap={};this._setRefreshRate();this._drawBuffer={adds:[],updates:[]};this._timeoutId=null;this._flushDrawBuffer=A.hitch(this,
this._flushDrawBuffer);this._featuresByTime={};this._lastEndTimeCheck=null;this._maxFeatureAge=0;f.purgeOptions&&f.purgeOptions.age&&"number"===typeof f.purgeOptions.age&&(this._maxFeatureAge=1E3*Math.ceil(60*f.purgeOptions.age));this._drawFeatures=A.hitch(this,this._drawFeatures);this._queryErrorHandler=A.hitch(this,this._queryErrorHandler)},startup:function(){this._started||this.inherited(arguments)},propertyChangeHandler:function(f){this._init&&(0===f?this._applyTimeFilter():3===f?this._redrawAllTracks():
console.debug("StreamLayer: Stream Layer only supports changing map time or maximumTrackPoints. Layer id \x3d "+this.featureLayer.id))},destroy:function(){this.inherited(arguments);clearTimeout(this._timeoutId);this._featuresByTime=this._drawBuffer=this._featureMap=null},drawFeature:function(f){var k=this.featureLayer,u=k.objectIdField;this._timeoutId||(this._timeoutId=setTimeout(this._flushDrawBuffer,this._refreshRate));k._joinField&&this._getFeature(f.attributes[u])?this._drawBuffer.updates.push({oid:f.attributes[u],
updates:f}):this._drawBuffer.adds.push(f)},resume:function(){this.propertyChangeHandler(0)},refresh:function(){this._pendingRequest&&this._cancelPendingRequest(this._pendingRequest);var f=this.featureLayer;f&&(f._relatedUrl||f._keepLatestUrl?(f._fireUpdateStart(),f._refreshing=!0,f.disconnect(),f.clear(),f._relatedQueried=!1,f._keepLatestQueried=!1,f.connect()):(f._fireUpdateStart(),f.clear(),f._fireUpdateEnd()))},_drawFeatures:function(f,k){var u=this.featureLayer;u._create(f.features||[]);u._fireUpdateEnd(null,
k)},_applyTimeFilter:function(f){this.inherited(arguments);this._redrawAllTracks()},_removeFeatures:function(f){var k=this.featureLayer,u=k.objectIdField;f&&a.forEach(f,function(v){v=v.attributes[u];k._unSelectFeatureIIf(v,this);this._decRefCount(v);this._removeFeatureIIf(v)},this)},_addFeatures:function(f){var k=this.featureLayer,u=k._endTimeField,v=k._startTimeField,g,q=[],x=[],w=[];var B=k._trackManager;var z=k.objectIdField;if(B)for(g in f=B.addFeatures(f),f)f.hasOwnProperty(g)&&(q.push(g),f[g].adds&&
(x=x.concat(f[g].adds)),f[g].deletes&&(w=w.concat(f[g].deletes)));else x=f;a.forEach(x,function(C){var y=C.attributes[z];var D=u&&C.attributes[u];!D&&this._maxFeatureAge&&(D=v&&C.attributes[v]?C.attributes[v]+this._maxFeatureAge:Date.now()+this._maxFeatureAge);D&&(D=1E3*Math.ceil(D/1E3),this._featuresByTime[D]?this._featuresByTime[D].push(y):this._featuresByTime[D]=[y]);this._addFeatureIIf(y,C);this._incRefCount(y)},this);w.length&&this._removeFeatures(w);B&&B.refreshTracks(q)},_updateFeatures:function(f){var k=
this.featureLayer,u=[];var v=k._trackManager;var g=k._trackIdField;a.forEach(f,function(q){var x=q.updates;q=this._getFeature(q.oid);var w;if(q){x.geometry&&q.setGeometry(x.geometry);x=x.attributes||{};for(w in x)x.hasOwnProperty(w)&&(q.attributes[w]=x[w]);q.setAttributes(q.attributes);q.visible=this._checkFeatureTimeIntersects(q);v&&q.attributes[g]?u.push(q.attributes[g]):k._repaint(q,null,!0)}},this);u.length&&v.refreshTracks(u)},_redrawAllTracks:function(){var f=this.featureLayer._trackManager,
k;f&&(k=f.trimTracks())&&0<k.length&&(this._removeFeatures(k),f.refreshTracks())},_flushDrawBuffer:function(){clearTimeout(this._timeoutId);var f=this._drawBuffer,k=f.adds.splice(0,f.adds.length),u=f.updates.splice(0,f.updates.length);f=this.featureLayer;if(!f)return!1;f.updating||f._fireUpdateStart();this._addFeatures(k);this._updateFeatures(u);(k=this._getExpiredFeatures())&&k.length&&(this._removeFeatures(k),f._trackManager&&f._trackManager.removeFeatures(k));f._purge();f._fireUpdateEnd();this._timeoutId=
null},_clearDrawBuffer:function(){var f=this._timeoutId,k=this._drawBuffer,u=k.adds;k=k.updates;f&&clearTimeout(f);u.splice(0,u.length);k.splice(0,k.length);this._timeoutId=null},_clearTimeBin:function(){this._featuresByTime={};this._lastEndTimeCheck=1E3*Math.ceil(Date.now()/1E3)},_clearFeatureMap:function(){this._featureMap={}},_setRefreshRate:function(f){f=f||0===f?f:200;0>f&&(f=200);this._refreshRate=f},_checkFeatureTimeIntersects:function(f){var k=this.featureLayer,u=k.getMap();return(u=u?u.timeExtent:
null)&&k.timeInfo&&(k.timeInfo.startTimeField||k.timeInfo.endTimeField)?0<k._filterByTime([f],u.startTime,u.endTime).match.length:!0},_fetchArchive:function(f){var k=new m,u=this.featureLayer;this._pendingRequest&&this._cancelPendingRequest(this._pendingRequest);u._fireUpdateStart();if(f&&this.map){f=new c(f);var v=new h;var g=this.map;var q=u.getFilter()||{};var x=q.where||"1\x3d1";var w=q.geometry?b.fromJson(q.geometry):null;q=q.outFields?q.outFields.split(","):["*"];v.geometry=w;v.where=x;v.outFields=
q;v.returnGeometry=!0;v.outSpatialReference=new n(g.spatialReference.toJson());this._pendingRequest=f.execute(v).then(function(B){this._pendingRequest=null;var z=this._fixFieldNameCasing(u,B);B.features=z;this._drawFeatures(B);u._fireUpdateEnd();k.resolve()}.bind(this)).otherwise(function(B){this._pendingRequest=null;u._errorHandler(B);u._fireUpdateEnd(B);k.reject(B)}.bind(this))}else k.resolve();return k.promise},_queryErrorHandler:function(f){var k=this.featureLayer;k._errorHandler(f);k._fireUpdateEnd(f)},
_fixFieldNameCasing:function(f,k){var u=k.features||[],v=k.fields;if(!v||!u.length)return u;f=this._mapFieldNameDifferences(f.fields,v);v=[];for(var g,q=0,x=k.features.length;q<x;q++)k=u[q],g=this._swizzleResponseAttributes(k.attributes,f),v.push({geometry:k.geometry,attributes:g});return v},_mapFieldNameDifferences:function(f,k){var u=[],v={},g;var q=0;for(g=k.length;q<g;q++)u.push(k[q].name);q=0;for(g=f.length;q<g;q++){k=f[q].name;var x=this._checkForStreamFieldName(k,u);x&&(v[x]=k)}return v},_checkForStreamFieldName:function(f,
k){f=f.toLowerCase();for(var u,v=0,g=k.length;v<g;v++)if(k[v].toLowerCase()===f){u=k[v];break}return u},_swizzleResponseAttributes:function(f,k){var u={},v;for(v in f)if(f.hasOwnProperty(v)){var g=f[v];k.hasOwnProperty(v)?u[k[v]]=g:u[v]=g}return u},_getExpiredFeatures:function(){var f,k,u=[],v=[];if(!this.featureLayer._endTimeField&&!this._maxFeatureAge)return v;var g=1E3*Math.floor(this._lastEndTimeCheck/1E3);this._lastEndTimeCheck=f=1E3*Math.ceil(Date.now()/1E3);if(g&&g!==f)for(k=this._featuresByTime;g<=
f;g+=1E3)k[g]&&(u=u.concat(k[g]),delete k[g]);a.forEach(u,function(q){(q=this._getFeature(q))&&v.push(q)},this);return v}});p("extend-esri")&&A.setObject("layers._StreamMode",G,t);return G})},"esri/layers/TrackManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojo/dom-construct dojox/gfx ../kernel ../graphic ../geometry/Polyline ./GraphicsLayer".split(" "),function(G,A,a,m,p,t,n,h,c,b){var e=-1!==t.renderer.toLowerCase().indexOf("canvas");G=G(null,{declaredClass:"esri.layers._TrackManager",
constructor:function(f){this.layer=f;this.trackMap={};this.trackLineMap={}},initialize:function(f){this.map=f;f=this.layer;this.createTracklineContainer()&&(this._handles=[f.on("visibility-change",A.hitch(this,function(k){this.container.setVisibility(k.visible);this.container.evaluateSuspension()})),f.on("scale-range-change",A.hitch(this,function(){this.container.setScaleRange(this.layer.minScale,this.layer.maxScale)}))])},createTracklineContainer:function(){var f=this.layer;if("esriGeometryPoint"!==
f.geometryType)return null;var k=this.map,u=f._getRenderer();u=u&&u.trackRenderer;var v=this.container=new b._GraphicsLayer({id:f.id+"_tracks",_child:!0,visible:f.visible,minScale:f.minScale,maxScale:f.maxScale});v.loaded=!0;v.onLoad(v);v._setMap(k,f._div);e||(k=v._div.getNode(),f=f._div.getNode(),k&&f&&p.place(k,f,"first"));v.setRenderer(u);return v},addFeatures:function(f){var k=this.trackMap,u=this.layer,v=u._trackIdField,g=[];a.forEach(f,function(B){var z=B.attributes[v];(k[z]=k[z]||[]).push(B);
-1===a.indexOf(g,z)&&g.push(z)});var q=u._startTimeField,x=u.objectIdField,w=function(B,z){var C=B.attributes[q],y=z.attributes[q];return C===y?B.attributes[x]<z.attributes[x]?-1:1:C<y?-1:1};a.forEach(g,function(B){k[B].sort(w)})},trimTracks:function(f){function k(x){for(x=u[x]||[];x.length>v;)g.push(x.shift())}var u=this.trackMap,v=this.layer.maximumTrackPoints||0,g=[],q;if(!v)return g;if(f)a.forEach(f,function(x){k(x)});else for(q in u)u.hasOwnProperty(q)&&k(q);return g},drawTracks:function(f){function k(B){var z=
q[B],C,y;var D=u.trackLineMap[B];v.remove(D);delete u.trackLineMap[B];D=null;if(!z||2>z.length)return!1;D=[];for(C=z.length-1;0<=C;C--)(y=z[C].geometry)&&D.push([y.x,y.y]);z={};z[w]=B;1<D.length&&(D=new h(new c({paths:[D],spatialReference:x}),null,z),v.add(D),u.trackLineMap[B]=D)}var u=this,v=this.container,g;if(v){var q=this.trackMap;var x=this.map.spatialReference;var w=this.layer._trackIdField;if(f)a.forEach(f,function(B){k(B)});else for(g in q)q.hasOwnProperty(g)&&k(g)}},refreshTracks:function(f){function k(w){var B;
u.drawTracks([w]);if(q&&q.latestObservationRenderer){w=v[w]||[];var z=w.length;for(B=0;B<z;B++)g._repaint(w[B],null,!0)}}var u=this,v=this.trackMap,g=this.layer,q=g._getRenderer(),x;if(f)a.forEach(f,function(w){k(w)});else for(x in v)v.hasOwnProperty(x)&&k(x);this.moveLatestToFront()},moveLatestToFront:function(f){a.forEach(this.getLatestObservations(f),function(k){var u=k._shape;u&&u._moveToFront();this._repaint(k,null,!0)},this.layer)},getLatestObservations:function(f){function k(x){x=g[x];return x[x.length-
1]}var u=[],v=this.layer._getRenderer(),g=this.trackMap,q;if(!v.latestObservationRenderer)return u;if(f)a.forEach(f,function(x){u.push(k(x))});else for(q in g)g.hasOwnProperty(q)&&u.push(k(q));return u},clearTracks:function(f){var k=this.getLatestObservations(f),u=this.container,v=this.trackMap,g;if(f)a.forEach(f,function(x){delete this.trackMap[x];u&&(q=this.trackLineMap[x],u.remove(q),delete this.trackLineMap[x])},this);else{if(u)for(g in v){var q=this.trackLineMap[g];u.remove(q)}this.trackMap=
{};this.trackLineMap={}}a.forEach(k,function(x){this._repaint(x,null,!0)},this.layer)},isLatestObservation:function(f){var k=this.trackMap[f.attributes[this.layer._trackIdField]];return k?k[k.length-1]===f:!1},destroy:function(){a.forEach(this._handles,function(k){k.remove()});var f=this.container;f&&(f.clear(),f._unsetMap(this.map,this.layer._div));this.map=this.layer=this.trackMap=this.container=null}});m("extend-esri")&&A.setObject("layers._TrackManager",G,n);return G})},"esri/layers/HeatmapManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/_base/array require ../kernel ../sniff ../geometry/Point ../geometry/webMercatorUtils ./MapImage ../renderers/HeatmapRenderer ../tasks/query dojo/_base/fx".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k){function u(){}function v(g){var q=g.layer;return{geometry:g.geometry,attributes:g.attributes,getLayer:function(){return q}}}G=G(null,{declaredClass:"esri.layers.HeatmapManager",heatmapRenderer:null,sourceLayer:null,imageLayer:null,useTiles:!0,useWorker:!1,map:null,constructor:function(g){this.sourceLayer=g;this._hndls=[]},initialize:function(g){this.map=g;var q=this.sourceLayer,x=q.renderer;q.setDrawMode(!1);this.imageLayer=g._getMapImageLyr();var w=this;this.heatmapRenderer=
x instanceof e?x:(x.getRendererInfoByZoom(g.getZoom())||x.getRendererInfoByScale(g.getScale())).renderer;this.redraw=this.redraw.bind(this);this.recalculateHeatmap=this.recalculateHeatmap.bind(this);this._removeRenderer=this._removeRenderer.bind(this);this._handleRendererChange=this._handleRendererChange.bind(this);this._rendererChangeHandle=this.sourceLayer.on("renderer-change",this._handleRendererChange);this._handleOpacityChange=this._handleOpacityChange.bind(this);this._reprojectFeature=this._reprojectFeature.bind(this);
p(["../workers/heatmapCalculator"],function(B){w._calculator=new B(A.mixin({width:w.map.width,height:w.map.height},w._getOptions()));w._setupRenderer();w.heatmapRenderer.getStats=B.calculateStats;w.heatmapRenderer.getHistogramData=B.getHistogramData})},destroy:function(){this._removeHandlers();this._rendererChangeHandle&&this._rendererChangeHandle.remove();this._rendererChangeHandle=this.sourceLayer=this.imageLayer=this.map=this.heatmapRenderer=this._hndls=null},_handleRendererChange:function(g){var q=
g.renderer,x=q instanceof e;this.heatmapRenderer?x?this.heatmapRenderer=q:this._removeRenderer(g):x&&(this.heatmapRenderer=q,this.sourceLayer&&this.map&&this._setupRenderer())},_handleOpacityChange:function(g){g=g.opacity;var q=this._getImageBySourceId(this.sourceLayer.id);q&&q.setOpacity(g)},_setupRenderer:function(){var g=this._hndls,q=this.sourceLayer,x=this.map,w=this;q._originalDraw=q._draw;q._draw=u;q._div.clear();clearTimeout(this._resetTimer);this._resetTimer=setTimeout(this._resetGraphics.bind(this),
250);g.push(q.on("update-end",this.redraw));g.push(q.on("suspend",function(B){(B=w._getImageBySourceId(w.sourceLayer.id))&&B.hide()}));g.push(q.on("resume",function(B){(B=w._getImageBySourceId(w.sourceLayer.id))&&B.show()}));g.push(a.after(q,"redraw",this.redraw));g.push(x.on("layer-remove",function(B){B.layer==q&&((B=w._getImageBySourceId(w.sourceLayer.id))&&w.imageLayer.removeImage(B),w._removeRenderer({target:q}))}));q._collection&&g.push(q.on("graphic-add",function(B){w._reprojectFeature(B.graphic);
w.redraw()}));1!==q.mode&&(g.push(x.on("resize, pan-end",this.redraw)),g.push(x.on("zoom-end",this.redraw)));g.push(q.on("opacity-change",this._handleOpacityChange));this.imageLayer.suspended&&this.imageLayer.resume();q.graphics&&q.graphics.length&&(q.graphics[0].geometry&&!x.spatialReference.equals(q.graphics[0].geometry.spatialReference)&&m.forEach(q.graphics,function(B){this._reprojectFeature(B)}.bind(this)),this.redraw())},redraw:function(){if(!this._drawTimer){var g=this;this._drawTimer=setTimeout(function(){clearTimeout(g._drawTimer);
g._drawTimer=null;g.sourceLayer._getRenderer().isInstanceOf(e)&&g.recalculateHeatmap()},16)}},_removeRenderer:function(g){var q=g.target;q._draw=q._originalDraw;delete q._originalDraw;q.setDrawMode(!0);this._removeHandlers();this._hndls=[];var x=this._getImageBySourceId(this.sourceLayer.id);x&&this.imageLayer.removeImage(x);clearTimeout(this._drawTimer);clearTimeout(this._resetTimer);this._drawTimer=this._resetTimer=null;q.renderer!=g.renderer&&q.renderer.getRendererInfo?this.heatmapRenderer=null:
(this.destroy(),q.renderer&&q.renderer.getRendererInfo&&q.redraw())},recalculateHeatmap:function(){this._calculator?this._doMainCalculation():this._calculatorClient&&this._doWorkerCalculation()},_reprojectFeature:function(g){if(g&&g.geometry){var q=g.geometry,x=this.map.spatialReference;x.equals(q.spatialReference)||(q=c.project(q,x),null==q?console.log("Unable to reproject features to map's spatial reference. Please convert feature geometry before adding to layer"):g.geometry=q)}},_doWorkerCalculation:function(){},
_doMainCalculation:function(){var g=this.sourceLayer,q=this.map,x=this.heatmapRenderer,w=this.map.extent,B=this.map.width,z=this.map.height,C=this._calculator,y=this,D=function(H){H=y._getScreenPoints(H.features,q,g);H=C.calculateImageData(A.mixin({screenPoints:H,mapinfo:{extent:[w.xmin,w.ymin,w.xmax,w.ymax],resolution:q.getResolution()},width:B,height:z},y._getOptions()));H=x.getSymbol(v({geometry:q.extent,attributes:{size:[B,z],imageData:H},layer:g}));H=new b({extent:q.extent,href:H.url,opacity:0,
sourceId:g.id});y._swapMapImages(H,y._getImageBySourceId(g.id));g.suspended&&H.hide()},F={geometry:q.extent,timeExtent:g.useMapTime?q.timeExtent:void 0,spatialRelationship:f.SPATIAL_REL_INTERSECTS};null!=g._canDoClientSideQuery(F)?g.queryFeatures(F,D):D({features:g.graphics})},_getScreenPoints:function(g,q,x){var w=[],B=g.length,z=0,C=0,y=new h(q.extent.xmin,q.extent.ymax,q.spatialReference),D=q.toScreen(y),F=D.x;D=D.y;var H=q.getResolution(),E;for((C=q.extent.getCacheValue("_parts"))&&(E=m.map(C,
function(J){return x._intersects(q,J.extent)[0]}));B--;)if(C=g[B],C.geometry&&C.visible){var I={x:Math.ceil((C.geometry.x-y.x)/H+F),y:Math.floor((y.y-C.geometry.y)/H-D),attributes:C.attributes};E&&(C=1<E.length&&I.x<-E[0]?E[1]:E[0],I.x+=C);w[z++]=I}return w},_getImageBySourceId:function(g){var q=this.imageLayer.getImages();q=m.filter(q,function(x){return x.sourceId==g});if(q.length)return q[q.length-1]},_swapMapImages:function(g,q){function x(){w.removeImage(q)}var w=this.imageLayer,B=this.sourceLayer.opacity;
w.addImage(g);k.anim(g._node,{opacity:B},null,null,function(){g.opacity=B});null!=q&&k.anim(q._node,{opacity:0},null,null,x)},_removeHandlers:function(){if(null!=this._hndls)for(var g=this._hndls.length;g--;)this._hndls[g].remove()},_getOptions:function(){var g=this.heatmapRenderer;return{blurRadius:g.blurRadius,gradient:g.gradient,maxPixelIntensity:g.maxPixelIntensity,minPixelIntensity:g.minPixelIntensity,field:g.field,fieldOffset:g.fieldOffset}},_resetGraphics:function(){clearTimeout(this._resetTimer);
this._resetTimer=null;for(var g=this.sourceLayer.graphics,q=g.length,x;q--;)x=g[q],x._shape=x._offsets=void 0}});n("extend-esri")&&A.setObject("layers.HeatmapManager",G,t);return G})},"esri/layers/MapImage":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/has ../kernel ../domUtils ../geometry/Extent".split(" "),function(G,A,a,m,p,t,n){G=G(null,{declaredClass:"esri.layers.MapImage",constructor:function(h){A.mixin(this,h);this.extent=new n(this.extent)},visible:!0,opacity:1,
getLayer:function(){return this._layer},getNode:function(){return this._node},show:function(){if(!this.visible){this.visible=!0;var h=this._node,c=this._layer,b;if(h){if(b=c&&c._div)c.suspended||c._setPos(h,b._left,b._top),(c._active||b).appendChild(h);t.show(h)}}},hide:function(){if(this.visible){this.visible=!1;var h=this._node;h&&(t.hide(h),h.parentNode&&h.parentNode.removeChild(h))}},setOpacity:function(h){var c=this._node;this.opacity=h;c&&a.set(c,"opacity",h)}});m("extend-esri")&&A.setObject("layers.MapImage",
G,p);return G})},"esri/layers/clustering/ClusterManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../../kernel ../../Evented ../../graphic ../../lang ../../Color ../../graphicsUtils ../../dijit/PopupTemplate ../../dijit/Legend/utils ../../renderers/ClassBreaksRenderer ../../symbols/SimpleMarkerSymbol ../support/attributeUtils ../GraphicsLayer ../Field ./GeohashAggregation ./statUtils dojo/i18n!../../nls/jsapi".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,
v,g,q,x,w,B){var z=B.layers.clusters,C=B.widgets.popup,y=z.numFeatures,D=Math.pow(2,53)-1;G=G(t,{declaredClass:"esri.layers.clustering.ClusterManager",layer:null,aggregationInfo:null,container:null,defaults:{clusterRadius:80,markerSymbol:{color:[77,77,77,255],size:6,angle:0,xoffset:0,yoffset:0,type:"esriSMS",style:"esriSMSCircle",outline:{color:[255,255,255,255],width:.75,type:"esriSLS",style:"esriSLSSolid"}}},_initialized:!1,_map:null,_eventHandles:null,_clusterRadius:null,_renderer:null,_statisticInfos:null,
_fields:null,_infoTemplate:null,_clusterGenerator:null,_singleGraphics:null,constructor:function(F){this._eventHandles=[];this.layer=F.layer;this.setAggregationInfo(F.aggregationInfo)},initialize:function(F){this._initialized=!0;this._map=F;this._removeFromPopup(this.layer);this.container=this._createContainer();this._clusterGenerator=this._createClusterGenerator();this._initClusterGenerator();this._createLayerEventListeners();this._createMapEventListeners();this._createPopupEventListeners()},destroy:function(F){this._clearSingleGraphics();
this._removeClusterBoundary();this._destroyEventListeners();this._removeFromPopup(this.container);this._removeFromPopup(this.layer);this._resetClusterNav();this._destroyClusterGenerator(F);this._destroyContainer();this.layer=this.aggregationInfo=this._map=null},setAggregationInfo:function(F){this.aggregationInfo=F?A.mixin({},F):null;this._applyAggregationInfo()},getClusterRenderer:function(){return this._renderer},getClusterFields:function(){return this._fields||[]},getFeaturesInCluster:function(F){F=
F&&F.getAggregationInfo();return this._clusterGenerator?this._clusterGenerator.getFeaturesInCluster(F):[]},getAggregateGraphics:function(){return this.container?this.container.graphics.slice(0):[]},getSingleGraphics:function(){return this._singleGraphics?this._singleGraphics.slice(0):[]},redraw:function(){this.container&&this.container.redraw()},isClusteringEnabled:function(){return!(!this._clusterGenerator||!this._clusterGenerator.clustersEnabled)},isClusteringActive:function(){return!!(this._clusterGenerator&&
0<this._clusterGenerator.getNumFeatures())},toggleFeatureVisibility:function(F){this._clusterGenerator&&this._clusterGenerator.toggleFeatureVisibility(F)},_createContainer:function(){var F=this.layer,H=new g._GraphicsLayer({_child:!0,id:F.id+"_clusters",visible:F.visible,minScale:F.minScale,maxScale:F.maxScale,infoTemplate:this._infoTemplate});H.fields=this._fields;H.setRenderer(this._renderer);H.loaded=!0;H.onLoad(H);H._setMap(this._map,F._div);return F._childLayer=H},_destroyContainer:function(){var F=
this.container;F&&(F.clear(),F._unsetMap(this._map,this.layer._div),this.layer._childLayer=null);this.container=null},_createClusterGenerator:function(){return new x({map:this._map,layer:this.layer,clusterRadius:this._clusterRadius,statisticInfos:this._statisticInfos})},_initClusterGenerator:function(){var F=this._clusterGenerator;F.loaded?this._awaitClusterGenerator():this._eventHandles.push(F.on("load",A.hitch(this,function(){this._awaitClusterGenerator()})),F.on("load-error",A.hitch(this,function(H){console.log(H.error)})))},
_destroyClusterGenerator:function(F){this._clusterGenerator&&this._clusterGenerator.destroy(F);this._clusterGenerator=null},_awaitClusterGenerator:function(){var F=this._clusterGenerator;F.started?(this._applyRenderer(),this._initClusterUpdates()):this._eventHandles.push(F.on("start",A.hitch(this,function(){this._applyRenderer();this._initClusterUpdates()})))},_applyAggregationInfo:function(){this._applyClusterRadius();this._applyRenderer();this._clusterGenerator&&!this._clusterGenerator.isUpdateScheduled()&&
this.redraw()},_applyClusterRadius:function(){var F=this.aggregationInfo;this._clusterRadius=F&&F.clusterRadius||this.defaults.clusterRadius;this._clusterGenerator&&this._clusterGenerator.setClusterRadius(this._clusterRadius);this._computeClusterRadius()},_computeClusterRadius:function(){var F=this.aggregationInfo||{};F.clusterRadius=this._clusterRadius;this.aggregationInfo=F},_applyRenderer:function(){var F=this.container,H=this._getClusterRendererInfo(),E=this._compareStatInfos(this._statisticInfos,
H.statisticInfos);E&&(this._statisticInfos=H.statisticInfos,this._clusterGenerator&&(this._clusterGenerator.setStatisticInfos(a.map(this._statisticInfos,function(I){return{attributeInfo:I.attributeInfo,statisticType:I.statisticType}})),F&&a.forEach(F.graphics,function(I){this._applyClusterAttributes(I,I.getAggregationInfo())},this)));this._renderer=H.renderer;this._applyFields();this._applyInfoTemplate(!!E&&this._initialized);F&&(F.setRenderer(this._renderer),this.emit("renderer-change"))},_applyFields:function(){this._fields=
this._getFields(this._statisticInfos);this.container&&(this.container.fields=this._fields)},_applyInfoTemplate:function(F){var H=this.aggregationInfo,E=H&&H.disablePopup;this.layer.infoTemplate&&!E?(H=H&&H.infoTemplate||this._infoTemplate,F=F||!H?this._createInfoTemplate():this._updateInfoTemplate(H)):F=null;this._infoTemplate=F;this.container&&this.container.setInfoTemplate(this._infoTemplate);this._computeInfoTemplate()},_computeInfoTemplate:function(){var F=this.aggregationInfo||{};F.infoTemplate=
this._infoTemplate;this.aggregationInfo=F},_getClusterRendererInfo:function(){var F=this.layer&&this.layer.renderer;return F?this._createClusterRenderer(F):this._getDefaultClusterRenderer()},_getDefaultClusterRenderer:function(){var F=this._createContinuousCountRenderer();this._addSizeByCountVariable(F);return{renderer:F,statisticInfos:[]}},_createContinuousCountRenderer:function(F){var H=new k(null,"cluster_count");H.addBreak({minValue:-D,maxValue:D,symbol:F?new F.constructor(F.toJson()):new u(A.clone(this.defaults.markerSymbol))});
return H},_createClusterRenderer:function(F){if(!this._isSupportedRenderer(F))return this._getDefaultClusterRenderer();var H=[];if(this._isSimpleRenderer(F))var E=this._createContinuousCountRenderer(F.symbol);else{E=new F.constructor(F.toJson());var I=this._getRendererAttributeInfo(F);if(this._isCBRenderer(E)){var J=w.getClusterField(I,"avg");H.push(this._getStatInfo(I,"avg"));E.normalizationType=null;E.normalizationField=null;E.normalizationTotal=null}else this._isUVRenderer(E)&&(J=w.getClusterField(I,
"type"),H.push(this._getStatInfo(I,"type")));E.attributeField=J;E.setValueExpression(null);E.valueExpressionTitle=null;E.setVisualVariables(null);this._setRendererTitle(E,F)}F=this._getSupportedVariables(F);I=this._createClusterVariables(F.allVars,H);E.setVisualVariables(I);F.sizeVars.length||this._isCBSizeRenderer(E)||this._addSizeByCountVariable(E);return{renderer:E,statisticInfos:H}},_isSupportedRenderer:function(F){if(this._isSimpleRenderer(F))return!0;if(this._isCBRenderer(F)){var H=F.normalizationType;
return"function"===typeof F.attributeField||H&&"field"!==H?!1:!0}return this._isUVRenderer(F)?"function"===typeof F.attributeField||F.attributeField2?!1:!0:!1},_isSimpleRenderer:function(F){return-1<F.declaredClass.toLowerCase().indexOf("simplerenderer")},_isCBRenderer:function(F){return-1<F.declaredClass.toLowerCase().indexOf("classbreaksrenderer")},_isUVRenderer:function(F){return-1<F.declaredClass.toLowerCase().indexOf("uniquevaluerenderer")},_isCBSizeRenderer:function(F){var H=F.infos;if(!this._isCBRenderer(F)||
!H||2>H.length)return!1;var E=Infinity,I=-Infinity;a.forEach(H,function(J){if(J=J.symbol){var K=0;switch(J.type){case "simplemarkersymbol":K=J.size;break;case "picturemarkersymbol":K=(J.width+J.height)/2}E=Math.min(E,K);I=Math.max(I,K)}});return Infinity!==E&&-Infinity!==I&&E!==I},_getRendererAttributeInfo:function(F){var H=F.attributeField,E=H?this.layer.getField(H):null;return{field:H,attributeType:E&&"esriFieldTypeDate"===E.type?"date":null,rotationType:null,valueExpression:F.valueExpression,valueExpressionTitle:F.valueExpressionTitle,
normalizationField:F.normalizationField}},_setRendererTitle:function(F,H){F.legendOptions=A.clone(H.legendOptions);F.legendOptions&&F.legendOptions.title||(F.legendOptions=F.legendOptions||{},F.legendOptions.title=f.getRendererTitle(H,this.layer))},_getSupportedVariables:function(F){var H=F.getVisualVariablesForType("colorInfo",!1)||[],E=F.getVisualVariablesForType("sizeInfo",!1)||[],I=F.getVisualVariablesForType("opacityInfo",!1)||[];F=F.getVisualVariablesForType("rotationInfo",!1)||[];H=a.filter(H,
this._variableFilter);E=a.filter(E,this._variableFilter);I=a.filter(I,this._variableFilter);F=a.filter(F,this._variableFilter);return{sizeVars:E,allVars:H.concat(E).concat(I).concat(F)}},_variableFilter:function(F){return"function"!==typeof F.field&&!v.viewScaleRE.test(F.valueExpression)},_createClusterVariables:function(F,H){return a.map(F,function(E){return this._createVarForAvg(E,H)},this)},_createVarForAvg:function(F,H){var E=A.clone(F),I=this._getVariableAttributeInfo(F);E.field=w.getClusterField(I,
"avg");E.normalizationField=null;E.valueExpression=null;E.valueExpressionTitle=null;I=this._getStatInfo(I,"avg");this._addStatInfo(H,I);this._setVariableTitle(E,F);return E},_getVariableAttributeInfo:function(F){var H="rotationInfo"===F.type,E=H?"angle":null;H=H?F.rotationType:null;var I=F.legendOptions&&F.legendOptions.title,J=F.field,K=J?this.layer.getField(J):null;K&&"esriFieldTypeDate"===K.type&&(E="date");return{field:J,attributeType:E,rotationType:H,valueExpression:F.valueExpression,valueExpressionTitle:F.valueExpressionTitle||
F.valueExpression&&I,normalizationField:F.normalizationField}},_setVariableTitle:function(F,H){F.legendOptions&&F.legendOptions.title||(F.legendOptions=F.legendOptions||{},F.legendOptions.title=f.getVisualVariableTitle(H,this.layer))},_getStatInfo:function(F,H){return{statisticHash:w.getStatisticHash(F,H),attributeInfo:F,statisticType:H}},_addStatInfo:function(F,H){var E=this._findStatInfo(F,H);E?E.attributeInfo.valueExpressionTitle||(E.attributeInfo.valueExpressionTitle=H.attributeInfo.valueExpressionTitle):
F.push(H)},_findStatInfo:function(F,H){var E;a.some(F,function(I){I.statisticHash===H.statisticHash&&(E=I);return!!E});return E},_compareStatInfos:function(F,H){var E=a.filter(F,function(J){return!this._findStatInfo(H,J)},this),I=a.filter(H,function(J){return!this._findStatInfo(F,J)},this);return I.length||E.length?{added:I,removed:E}:null},_addSizeByCountVariable:function(F){var H=this._createSizeByCountVariable();H&&this._addVariable(F,H)},_getSizeByCountVariable:function(F){F=F.getVisualVariablesForType("sizeInfo",
!1)||[];return a.filter(F,function(H){return"cluster_count"===H.field})[0]},_updateSizeByCountVariable:function(){var F=this._renderer,H=this._getSizeByCountVariable(F);if(H){var E=this._createSizeByCountVariable();E&&this._replaceVariable(F,H,E)}},_createSizeByCountVariable:function(){var F=this._clusterGenerator;if(F){var H=F.getCurrentLodStats();if(H){var E=F.getNumFeatures();F=F.clusters;var I=H.min,J=H.max;1===H.count&&I===E||1===F.length&&F[0].count===E?(I=1,J=E):I&&I===J&&(J=2*I);E={type:"sizeInfo",
field:"cluster_count",valueUnit:"unknown",minSize:12,maxSize:50,minDataValue:I,maxDataValue:J,legendOptions:{title:y}}}}return E},_addVariable:function(F,H){var E=F.visualVariables||[];E.push(H);F.setVisualVariables(E)},_replaceVariable:function(F,H,E){var I=F.visualVariables;H=a.indexOf(I,H);-1<H&&I.splice(H,1);I.push(E);F.setVisualVariables(I)},_getFields:function(F){var H=[new q({name:"cluster_count",type:"esriFieldTypeInteger"})];a.forEach(F,function(E){var I=E.statisticType;E=E.attributeInfo;
var J;"avg"===I?J="date"===E.attributeType?"esriFieldTypeDate":"esriFieldTypeDouble":"type"===I&&(J=E.field?this.layer.getField(E.field).type:"esriFieldTypeString");H.push(new q({name:w.getClusterField(E,I),type:J}))},this);return H},_createInfoTemplate:function(){var F=this._statisticInfos,H=this._renderer,E=[{fieldName:"cluster_count",label:y,visible:!0,format:{digitSeparator:!0,places:0}}],I=[],J=[h.substitute({count:"{cluster_count}"},z.countSummary)],K=this._isUVRenderer(H)?H.infos:[];a.forEach(F,
function(L){var O=L.statisticType,U=L.attributeInfo,S=w.getClusterField(U,O),M=this._getFieldLabel(L);if("avg"===O){var N={fieldName:S,label:M,visible:!0,format:"date"===U.attributeType?{dateFormat:"shortDateShortTime"}:{digitSeparator:!0,places:1}};var T=this._getFieldSummary(L,S)}else"type"===O&&(T="expression/"+S,N={fieldName:T,visible:!0},I.push({name:S,title:M,returnType:"string",expression:this._getExpression(K,S)}),T=this._getFieldSummary(L,T));N&&E.push(N);T&&J.push(T)},this);return new e({fieldInfos:E,
expressionInfos:I,description:J.join("\x3cbr/\x3e\x3cbr/\x3e")})},_updateInfoTemplate:function(F){var H=F.toJson(),E=this._isUVRenderer(this._renderer)?this._renderer.infos:[];a.forEach(this._statisticInfos,function(I){var J=I.statisticType;I=w.getClusterField(I.attributeInfo,J);"type"===J&&(J=this._findExpressionInfo(I,H))&&(J.expression=this._getExpression(E,I))},this);return new e(H)},_findExpressionInfo:function(F,H){var E;a.some(H.expressionInfos,function(I){I.name===F&&(E=I);return!!E});return E},
_escapeDoubleQuotes:function(F){return F?F.replace(/"/g,'\\"'):""},_getExpression:function(F,H){return["var uvInfos \x3d ["+this._getObjects(F).join(", ")+"];",'var predominantType \x3d Text($feature["'+H+'"]);','var label \x3d "'+this._escapeDoubleQuotes(z.predominantNoneValue)+'";',"for (var i \x3d 0; i \x3c Count(uvInfos); i++) {\nif (uvInfos[i].value \x3d\x3d predominantType) {\nlabel \x3d uvInfos[i].label;\nbreak;\n}\n}\nreturn label;"].join("\n")},_getObjects:function(F){return a.map(F,function(H){return'{"value": "'+
String(H.value)+'","label": "'+this._escapeDoubleQuotes(String(H.label))+'"}'},this)},_getFieldLabel:function(F){var H=F.statisticType,E=F.attributeInfo,I=E.field;F=E.normalizationField;var J="";if("avg"===H)var K=F?z.avgNormFieldLabel:z.avgFieldLabel;else"type"===H&&(K=z.predominantFieldLabel);K&&(H=E.valueExpression?E.valueExpressionTitle:this.layer.getFieldLabel(I),F=F&&this.layer.getFieldLabel(F),J=h.substitute({fieldLabel:H||"",normFieldLabel:F||""},K));return J},_getFieldSummary:function(F,
H){var E=F.statisticType,I=F.attributeInfo,J=I.field;F=I.normalizationField;var K="";if("avg"===E)var L=F?z.avgNormFieldSummary:z.avgFieldSummary;else"type"===E&&(L=z.predominantFieldSummary);L&&(E=I.valueExpression?I.valueExpressionTitle:this.layer.getFieldLabel(J),F=F&&this.layer.getFieldLabel(F),K=h.substitute({fieldLabel:E||"",normFieldLabel:F||"",fieldValue:"{"+H+"}"},L));return K},_removeFromPopup:function(F){var H=this._map.infoWindow,E=H.features;if(E&&E.length){var I=a.filter(E,function(J){return J.getLayer()!==
F});I.length<E.length&&(I.length?H.setFeatures(I):(H.clearFeatures(),H.hide()))}},_resetClusterNav:function(){this._resetClusterNavPartial();this._popupClusterGraphic=null},_resetClusterNavPartial:function(){this._map.infoWindow.removeActions(this._popupActions);this._hideSingleGraphic(this._popupSingleGraphic);this._popupSingleGraphic=null},_addClusterBoundary:function(F,H){(H=H.clusterFillSymbol)&&(H=new H.constructor(H.toJson()));F=new n(F,H);this._map.graphics.add(F);this._clusterBoundary=F},
_removeClusterBoundary:function(){this._map.graphics.remove(this._clusterBoundary);this._clusterBoundary=null},_createBrowseFeaturesAction:function(){return this._map.infoWindow.addActions([{title:C.NLS_browseFeatures,className:"browseFeatures",callback:A.hitch(this,function(F){F.preventDefault();F=this._map.infoWindow;var H=F.getSelectedFeature(),E=H.getChildGraphics(),I=F.getCurrentAnchor();F.setFeatures(E,{anchor:I});if(E=b.graphicsExtent(E))this._addClusterBoundary(E,F),F.show(this._getPopupLocation(E,
I));this._popupClusterGraphic=H})}])[0]},_getPopupLocation:function(F,H){var E=F.getCenter();H=H.toLowerCase();-1<H.indexOf("top")?E.update(E.x,F.ymax):-1<H.indexOf("bottom")?E.update(E.x,F.ymin):-1<H.indexOf("left")?E.update(F.xmin,E.y):E.update(F.xmax,E.y);return E},_createViewSummaryAction:function(){return this._map.infoWindow.addActions([{title:C.NLS_viewSummary,className:"viewSummary",callback:A.hitch(this,function(F){F.preventDefault();F=this._popupClusterGraphic;var H=this._map.infoWindow;
H.setFeatures([F]);H.show(F.geometry);this._popupClusterGraphic=null})}])[0]},_initClusterUpdates:function(){this._updateSizeVariable();this._updateClusterGraphics();this._eventHandles.push(this._clusterGenerator.on("update-end",A.hitch(this,function(F){(F.mapLevelChange||F.indexChange)&&this._updateSizeVariable();this._updateClusterGraphics()})),this._clusterGenerator.on("index-complete",A.hitch(this,function(){this._updateSizeVariable()})))},_updateClusterGraphics:function(){this._hideSingleGraphics();
var F=[],H=[];a.forEach(this._clusterGenerator.clusters,function(E){var I=new n(E.centroid);I.setAggregationSourceLayer(this.layer);I.setAggregationInfo(E);this._applyClusterAttributes(I,E);1===E.count?(E=this._getSingleGraphic(I),H.push(E)):F.push(I)},this);this._showSingleGraphics(H);this._addGraphics(F)},_addGraphics:function(F){var H=this.container;H.clear();a.forEach(F,function(E){H.add(E)})},_getSingleGraphic:function(F){var H=this._clusterGenerator.getCell(F.getAggregationInfo().primary).features[0],
E=this.layer.renderer;E=E&&E.getSymbol(H);var I=this._getSizeByCountVariable(this._renderer);E&&I&&(F=I?this._renderer.getSize(F,{sizeInfo:I,shape:E.style,resolution:this._map.getResolutionInMeters(),scale:this._map.getScale()}):null,H.setSize(F));return H},_showSingleGraphics:function(F){a.forEach(F,this._showSingleGraphic);this._singleGraphics=F},_hideSingleGraphics:function(){a.forEach(this._singleGraphics,function(F){F.setSize(null);this._hideSingleGraphic(F)},this);this._singleGraphics=null},
_clearSingleGraphics:function(){a.forEach(this._singleGraphics,function(F){F.setSize(null)});this._singleGraphics=null},_showSingleGraphic:function(F){F&&F._resume()},_hideSingleGraphic:function(F){F&&F._suspend()},_updateSizeVariable:function(){this.isClusteringEnabled()&&(this._updateSizeByCountVariable(),this.emit("renderer-change"))},_applyClusterAttributes:function(F,H){F.setAttributes(H.attributes)},_createLayerEventListeners:function(){var F=this.layer;this._eventHandles.push(F.on("visibility-change",
A.hitch(this,function(H){this.container.setVisibility(H.visible)})),F.on("scale-range-change",A.hitch(this,function(){this.container.setScaleRange(this.layer.minScale,this.layer.maxScale)})),F.on("renderer-change",A.hitch(this,function(){this._applyRenderer()})),F.on("info-template-change",A.hitch(this,function(){this._applyInfoTemplate()})))},_createMapEventListeners:function(){this._eventHandles.push(this._map.on("zoom-start",A.hitch(this,function(){this._removeClusterBoundary();this._removeFromPopup(this.container);
this._removeFromPopup(this.layer);this._resetClusterNav();this.container.clear();this._hideSingleGraphics()})))},_createPopupEventListeners:function(){var F=this._map.infoWindow;this._eventHandles.push(F.on("selection-change",A.hitch(this,function(){this._resetClusterNavPartial();var H=this._map.infoWindow.getSelectedFeature(),E=H&&H.getLayer();if(E){if(E===this.container){this._removeClusterBoundary();var I=this._createBrowseFeaturesAction()}else E===this.layer&&H._isSuspended()?(I=this._createViewSummaryAction(),
this._popupSingleGraphic=H,this._showSingleGraphic(this._popupSingleGraphic)):this._removeClusterBoundary();this._popupActions=I?[I]:null}})),F.on("clear-features",A.hitch(this,function(H){this._resetClusterNav();H.isIntermediate||this._removeClusterBoundary()})),F.on("hide",A.hitch(this,function(){this._popupSingleGraphic&&this._popupSingleGraphic._suspend();this._clusterBoundary&&this._clusterBoundary.hide()})),F.on("show",A.hitch(this,function(){this._popupSingleGraphic&&this._popupSingleGraphic._resume();
this._clusterBoundary&&this._clusterBoundary.show()})))},_destroyEventListeners:function(){a.forEach(this._eventHandles,function(F){F.remove()})}});m("extend-esri")&&A.setObject("layers.clustering.ClusterManager",G,p);return G})},"esri/dijit/PopupTemplate":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/dom-construct ../kernel ../InfoTemplate ../PopupInfo ./PopupRenderer".split(" "),function(G,A,a,m,p,t,n,h){G=G([t,n],{declaredClass:"esri.dijit.PopupTemplate","-chains-":{constructor:"manual"},
chartTheme:null,constructor:function(c,b){A.mixin(this,b);this.initialize(c,b)},getTitle:function(c){var b;this.info&&(b=this.titleHasRelatedFields||this.titleHasAsyncExpressions?"":this._getPopupValues(c,this._fetchAttributes(c,null,this.getExpressionFieldsInTitle()),!0).title);return b||""},getContent:function(c){return this.info?(new h({template:this,graphic:c,chartTheme:this.chartTheme},m.create("div"))).domNode:""}});a("extend-esri")&&A.setObject("dijit.PopupTemplate",G,p);return G})},"esri/PopupInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/i18n dojo/has dojo/Deferred dojo/sniff dojo/promise/all dojox/html/entities ./lang ./kernel ./request ./promiseList ./ArcadeExpression ./tasks/query ./tasks/QueryTask ./tasks/RelationshipQuery ./tasks/StatisticDefinition ./arcadeProfiles/popupProfile ./layers/support/attributeUtils dojo/i18n!dojo/cldr/nls/number".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C){G=G(null,{declaredClass:"esri.PopupInfo",_reNewline:/(\n)/ig,_reExprField:/^\s*expression\//i,_reExprFieldPattern:/\{expression\/([^\}]+)\}/ig,_exprPrefix:"expression/",_relatedFieldPrefix:"relationships/",_aggregatedFeaturesVariable:"$aggregatedfeatures",initialize:function(y,D){if(y){A.mixin(this,D);this.info=y;this.title=this.getTitle;this.content=this.getContent;this._exprCache=this._compileExpressions(this.info.expressionInfos);var F=this._fieldLabels=
{},H=this._fieldsMap={};this.info.fieldInfos&&a.forEach(this.info.fieldInfos,function(E){var I=E.fieldName.toLowerCase(),J=this._isExpressionField(I)?this.getExpressionInfo(I):null;F[I]=J?J.title:E.label;H[I]=E},this);this.titleHasRelatedFields=!(!this.info.title||-1===this.info.title.indexOf("{"+this._relatedFieldPrefix));this.titleHasAsyncExpressions=this._titleHasAsyncExpressions();this.contentHasAsyncExpressions=this._contentHasAyncExpressions()}},toJson:function(){return m.fromJson(m.toJson(this.info))},
getTitle:function(){},getContent:function(){},getFieldInfo:function(y){var D;a.some(this.info&&this.info.fieldInfos,function(F){F.fieldName===y&&(D=F);return!!D});return D},getExpressionInfo:function(y){if(y=this._getExprField(y)){y=y.toLowerCase();var D;a.some(this.info.expressionInfos,function(F){F.name.toLowerCase()===y&&(D=F);return!!D});return D}},getExpressionFieldsInTitle:function(){return this._getExprFieldsFromTemplatedString(this.info.title)},getExpressionFieldsInContent:function(){var y=
this._collectExprFieldsFromTemplatedString(this.info.description,[]);this.info.description||a.forEach(this.info.fieldInfos,function(D){D.visible&&this._collectExprField(D.fieldName,y)},this);a.forEach(this.info.mediaInfos,function(D){this._collectExprFieldsFromTemplatedString(D.title,y);this._collectExprFieldsFromTemplatedString(D.caption,y);if(D=D.value)this._collectExprFieldsFromTemplatedString(D.linkURL,y),this._collectExprFieldsFromTemplatedString(D.sourceURL,y),a.forEach(D.fields,function(F){this._collectExprField(F,
y)},this),this._collectExprField(D.normalizeField,y),this._collectExprField(D.tooltipField,y)},this);return y},getRequiredExpressionFields:function(){return this.getExpressionFieldsInTitle().concat(this.getExpressionFieldsInContent())},hasGeometryOperations:function(){return a.some(this._getArcadeExpressions(),function(y){return y.hasGeometryOperations()})},hasAsyncExpressions:function(){return a.some(this._getArcadeExpressions(),function(y){return y.async})},initializeArcadeEngine:function(){return B.initialize(this._getArcadeExpressions())},
getComponents:function(y,D){var F=this.info,H={initArcadeEngine:this.initializeArcadeEngine()};F.fieldInfos&&(F=a.filter(F.fieldInfos,function(E){return-1!==E.fieldName.indexOf(this._relatedFieldPrefix)},this))&&0<F.length&&(H.relatedInfo=this._getRelatedRecords({graphic:y,fieldsInfo:F}));this._needFullResolutionFeature(y)&&(H.fullResolutionFeature=this._getFullResolutionFeature(y));this._needAggregatedFeaturesLayer(y)&&(H.aggregatedFeaturesLayer=this._getAggregatedFeaturesLayer(y));return u(H).then(A.hitch(this,
function(E){var I=E.fullResolutionFeature,J=D&&D.evaluateAllExpressions,K=J?null:this.getRequiredExpressionFields();E=(J?this.hasAsyncExpressions():this._hasAsyncExpressions(K))?this._fetchAttributesAsync(y,I,K,E.aggregatedFeaturesLayer):this._fetchAttributes(y,I,K);return u([E]).then(A.hitch(this,function(L){return this._getPopupValues(y,L[0])}))}))},getAttachments:function(y){var D=y.getSourceLayer();y=y.attributes;if(this.info.showAttachments&&D&&D.hasAttachments&&D.objectIdField&&(y=y&&y[D.objectIdField]))return D.queryAttachmentInfos(y)},
_needAggregatedFeaturesLayer:function(y){return y.isAggregate()?a.some(this._getArcadeExpressions(),function(D){return D.hasVariable(this._aggregatedFeaturesVariable)},this):!1},_getAggregatedFeaturesLayer:function(y){return y.getAggregationSourceLayer().getFeatureCollectionLayer(y.getChildGraphics()).always(function(D){return D instanceof Error?null:D})},_needFullResolutionFeature:function(y){return(y=y.getSourceLayer())?"function"===typeof y.getMaxAllowableOffset&&0<y.getMaxAllowableOffset()&&this.hasGeometryOperations():
!1},_getFullResolutionFeature:function(y){var D=y.getSourceLayer(),F=D.objectIdField;y=(y=y.attributes)&&F&&y[F];if(null==y)return null;var H=new g;H.where=F+"\x3d"+y;H.maxAllowableOffset=0;H.outFields=[F];D._enableCacheHint(H);return D.queryFeatures(H).then(function(E){return E.features&&E.features[0]})},_isExpressionField:function(y){return this._reExprField.test(y)},_getExprField:function(y){return this._isExpressionField(y)?y.replace(this._reExprField,""):null},_collectExprField:function(y,D){(y=
this._getExprField(y))&&D.push(y);return D},_collectExprFieldsFromTemplatedString:function(y,D){y=this._getExprFieldsFromTemplatedString(y);y.length&&Array.prototype.push.apply(D,y);return D},_getExprFieldsFromTemplatedString:function(y){y=y?y.match(this._reExprFieldPattern):null;return a.map(y,function(D){return D.replace(this._reExprFieldPattern,"$1")},this)},_titleHasAsyncExpressions:function(){return this._hasAsyncExpressions(this.getExpressionFieldsInTitle())},_contentHasAyncExpressions:function(){return this._hasAsyncExpressions(this.getExpressionFieldsInContent())},
_hasAsyncExpressions:function(y){return a.some(y,function(D){D=this._exprCache[D];return!(!D||!D.async)},this)},_compileExpressions:function(y){var D={};a.forEach(y,function(F){var H=F.returnType&&F.returnType.toLowerCase();D[F.name]=new v({expression:F.expression,returnType:"number"===H?"number":"string",profile:B})});return D},_getArcadeExpressions:function(){var y=[],D;for(D in this._exprCache)y.push(this._exprCache[D]);return y},_fetchAttributesAsync:function(y,D,F,H){var E=this._fetchAttributes(y,
D,F,H);y={};for(var I in E)(D=E[I])&&D.then&&(y[I]=D);return u(y).then(A.hitch(this,function(J){for(var K in J){var L=J[K];E[K]=L instanceof Error?null:this._processArcadeResult(L)}return E}))},_processArcadeResult:function(y){"string"===typeof y&&(y=b.encode(y));return y},_fetchAttributes:function(y,D,F,H){var E=A.clone(y.attributes)||{},I=D&&D.geometry,J=this._exprPrefix,K=this._exprCache;F=F||a.map(this.info.expressionInfos,function(L){return L.name});a.forEach(F,function(L){var O=J+L;L=(L=K[L])?
y.evaluateExpression(L,this._getEvalOptions(L,y,I,H)):null;E[O]=this._processArcadeResult(L)},this);return E},_getEvalOptions:function(y,D,F,H){var E=y.hasGeometryOperations(),I=D.getSourceLayer(),J=I&&(I.getMap()||I.parentLayer&&I.parentLayer.getMap());H&&(H._map=J);y=B.getEvalOptions({expression:y,feature:D,layer:I,aggregatedFeaturesLayer:H,map:J,spatialReference:J&&J.spatialReference});D=y.context.vars.$feature;E=!(!E||!F);D&&E&&(D._geometry=F);y.skipCache=E;return y},_getPopupValues:function(y,
D,F){D=D||this._fetchAttributes(y);var H=this.info,E=y.getSourceLayer(),I=A.clone(D),J="",K="",L,O,U=E&&E._getDateOpts&&E._getDateOpts().properties;U=U&&U.slice(0);var S={dateFormat:{properties:U,formatter:"DateFormat"+this._insertOffset(this._dateFormats.shortDateShortTime)},format:null};if(this._relatedInfo)for(T in this._relatedInfo)if(this._relatedInfo.hasOwnProperty(T)){var M=this._relatedInfo[T],N=this._relatedLayersInfo[T];M&&(a.forEach(M.relatedFeatures,function(la){for(O in la.attributes)if(la.attributes.hasOwnProperty(O)&&
"esriRelCardinalityOneToOne"===N.relation.cardinality){var Q=this._toRelatedFieldName([N.relation.id,O]);D[Q]=I[Q]=la.attributes[O]}},this),a.forEach(M.relatedStatsFeatures,function(la){for(O in la.attributes)if(la.attributes.hasOwnProperty(O)){var Q=this._toRelatedFieldName([N.relation.id,O]);D[Q]=I[Q]=la.attributes[O]}},this))}for(L in I){var T=this._fieldsMap[L.toLowerCase()];M=this._getLayerFieldInfo(E,L);T&&M&&(T.fieldName=M.name);I[L]=this._formatValue(I[L],L,S);U&&T&&T.format&&T.format.dateFormat&&
(T=a.indexOf(U,L),-1<T&&U.splice(T,1))}if(E)for(L in U=E.typeIdField,D)if(D.hasOwnProperty(L)&&-1===L.indexOf(this._relatedFieldPrefix)){var V=D[L];e.isDefined(V)&&(T=this._getDomainName(E,y,L,V),e.isDefined(T)?I[L]=T:L===U&&(T=this._getTypeName(E,y,V),e.isDefined(T)&&(I[L]=T)))}H.title&&(J=this._processFieldsInLinks(this._fixTokens(H.title,E),D),J=A.trim(this._removeEmptyHref(e.substitute(I,J,S)||"")));if(F)return{title:J};H.description&&(K=this._processFieldsInLinks(this._fixTokens(H.description,
E),D),K=A.trim(this._removeEmptyHref(e.substitute(I,K,S)||"")));if(H.fieldInfos){var ea=[];a.forEach(H.fieldInfos,function(la){(L=la.fieldName)&&la.visible&&ea.push([this._fieldLabels[L.toLowerCase()]||L,e.substitute(I,"${"+L+"}",S)||""])},this)}var P;if(H.mediaInfos){var ba=[];a.forEach(H.mediaInfos,function(la){P=0;V=la.value;switch(la.type){case "image":var Q=V.sourceURL;Q=Q&&A.trim(this._removeEmptyHref(e.substitute(D,this._fixTokens(Q,E))));P=!!Q;break;case "piechart":case "linechart":case "columnchart":case "barchart":Q=
V.normalizeField;V.fields=a.map(V.fields,function(va){return(Y=this._getLayerFieldInfo(E,va))?Y.name:va},this);if(Q){var Y=this._getLayerFieldInfo(E,Q);V.normalizeField=Y?Y.name:Q}P=a.some(V.fields,function(va){return e.isDefined(D[va])||-1!==va.indexOf(this._relatedFieldPrefix)&&this._relatedInfo},this);break;default:return}if(P){la=A.clone(la);V=la.value;Q=la.title?this._processFieldsInLinks(this._fixTokens(la.title,E),D):"";var ja=la.caption?this._processFieldsInLinks(this._fixTokens(la.caption,
E),D):"";la.title=Q?A.trim(this._removeEmptyHref(e.substitute(I,Q,S)||"")):"";la.caption=ja?A.trim(this._removeEmptyHref(e.substitute(I,ja,S)||"")):"";if("image"===la.type)V.sourceURL=e.substitute(D,this._fixTokens(V.sourceURL,E)),V.linkURL&&(V.linkURL=A.trim(e.substitute(D,this._fixTokens(V.linkURL,E))||""));else{var pa,ka;a.forEach(V.fields,function(va,Aa){if(-1!==va.indexOf(this._relatedFieldPrefix))ka=this._getRelatedChartInfos(va,V,D,S),ka instanceof Array?V.fields=ka:V.fields[Aa]=ka;else{var da=
D[va];da=void 0===da?null:da;pa=D[V.normalizeField]||0;da&&pa&&(da/=pa);V.fields[Aa]={y:da,tooltip:(this._fieldLabels[va.toLowerCase()]||va)+":\x3cbr/\x3e"+this._formatValue(da,va,S,!!pa)}}},this)}ba.push(la)}},this)}return{title:J,description:K,hasDescription:!!H.description,fields:ea&&ea.length?ea:null,mediaInfos:ba&&ba.length?ba:null,formatted:I,editSummary:!1!==H.showLastEditInfo&&E&&E.getEditSummary?E.getEditSummary(y):""}},_getRelatedChartInfos:function(y,D,F,H){var E,I;var J=[];var K=this._fromRelatedFieldName(y);
var L=K[0];var O=this._relatedInfo[L];L=this._relatedLayersInfo[L];O&&a.forEach(O.relatedFeatures,function(U){U=U.attributes;var S;for(S in U)if(U.hasOwnProperty(S)&&S===K[1]){var M={};I=U[S];D.normalizeField&&(E=-1!==D.normalizeField.indexOf(this._relatedFieldPrefix)?U[this._fromRelatedFieldName(D.normalizeField)[1]]:F[D.normalizeField]);I&&E&&(I/=E);if(D.tooltipField)if(-1!==D.tooltipField.indexOf(this._relatedFieldPrefix)){var N=this._fromRelatedFieldName(D.tooltipField)[1],T=e.isDefined(U[N])?
this._formatValue(U[N],D.tooltipField,H,!!E):N;M.tooltip=T+":\x3cbr/\x3e"+this._formatValue(I,N,H,!!E)}else M.tooltip=(this._fieldLabels[y.toLowerCase()]||y)+":\x3cbr/\x3e"+this._formatValue(I,D.tooltipField,H,!!E);else M.tooltip=I;M.y=I;J.push(M)}},this);return"esriRelCardinalityOneToMany"===L.relation.cardinality||"esriRelCardinalityManyToMany"===L.relation.cardinality?J:J[0]},_dateFormats:{shortDate:"(datePattern: 'M/d/y', selector: 'date')",shortDateShortTime:"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
shortDateShortTime24:"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')",shortDateLongTime:"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')",shortDateLongTime24:"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')",shortDateLE:"(datePattern: 'd/M/y', selector: 'date')",shortDateLEShortTime:"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')",shortDateLEShortTime24:"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
shortDateLELongTime:"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')",shortDateLELongTime24:"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')",longMonthDayYear:"(datePattern: 'MMMM d, y', selector: 'date')",longMonthDayYearShortTime:"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')",longMonthDayYearShortTime24:"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",longMonthDayYearLongTime:"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",
longMonthDayYearLongTime24:"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')",dayShortMonthYear:"(datePattern: 'd MMM y', selector: 'date')",dayShortMonthYearShortTime:"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')",dayShortMonthYearShortTime24:"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",dayShortMonthYearLongTime:"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')",dayShortMonthYearLongTime24:"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')",
longDate:"(datePattern: 'EEEE, MMMM d, y', selector: 'date')",longDateShortTime:"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')",longDateShortTime24:"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",longDateLongTime:"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",longDateLongTime24:"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')",longMonthYear:"(datePattern: 'MMMM y', selector: 'date')",
shortMonthYear:"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"},_dateFormatsJson:{shortDate:{datePattern:"M/d/y",selector:"date"},shortDateShortTime:{datePattern:"M/d/y",timePattern:"h:mm a",selector:"date and time"},shortDateShortTime24:{datePattern:"M/d/y",timePattern:"H:mm",selector:"date and time"},shortDateLongTime:{datePattern:"M/d/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLongTime24:{datePattern:"M/d/y",timePattern:"H:mm:ss",selector:"date and time"},
shortDateLE:{datePattern:"d/M/y",selector:"date"},shortDateLEShortTime:{datePattern:"d/M/y",timePattern:"h:mm a",selector:"date and time"},shortDateLEShortTime24:{datePattern:"d/M/y",timePattern:"H:mm",selector:"date and time"},shortDateLELongTime:{datePattern:"d/M/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLELongTime24:{datePattern:"d/M/y",timePattern:"H:mm:ss",selector:"date and time"},longMonthDayYear:{datePattern:"MMMM d, y",selector:"date"},longMonthDayYearShortTime:{datePattern:"MMMM d, y",
timePattern:"h:mm a",selector:"date and time"},longMonthDayYearShortTime24:{datePattern:"MMMM d, y",timePattern:"H:mm",selector:"date and time"},longMonthDayYearLongTime:{datePattern:"MMMM d, y",timePattern:"h:mm:ss a",selector:"date and time"},longMonthDayYearLongTime24:{datePattern:"MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},dayShortMonthYear:{datePattern:"d MMM y",selector:"date"},dayShortMonthYearShortTime:{datePattern:"d MMM y",timePattern:"h:mm a",selector:"date and time"},dayShortMonthYearShortTime24:{datePattern:"d MMM y",
timePattern:"H:mm",selector:"date and time"},dayShortMonthYearLongTime:{datePattern:"d MMM y",timePattern:"h:mm:ss a",selector:"date and time"},dayShortMonthYearLongTime24:{datePattern:"d MMM y",timePattern:"H:mm:ss",selector:"date and time"},longDate:{datePattern:"EEEE, MMMM d, y",selector:"date"},longDateShortTime:{datePattern:"EEEE, MMMM d, y",timePattern:"h:mm a",selector:"date and time"},longDateShortTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm",selector:"date and time"},longDateLongTime:{datePattern:"EEEE, MMMM d, y",
timePattern:"h:mm:ss a",selector:"date and time"},longDateLongTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},longMonthYear:{datePattern:"MMMM y",selector:"date"},shortMonthYear:{datePattern:"MMM y",selector:"date"},year:{datePattern:"y",selector:"date"}},_reHref:/href\s*=\s*(")([^"]+)"/ig,_reHrefApos:/href\s*=\s*(')([^']+)'/ig,_fixTokens:function(y,D){var F=this;return y.replace(/(\{([^\{\r\n]+)\})/g,function(H,E,I){H=F._getLayerFieldInfo(D,I);return"$"+(H?"{"+
H.name+"}":E)})},_encodeAttributes:function(y,D){y=A.clone(y)||{};var F,H;for(F in y)(H=y[F])&&"string"===typeof H&&(H=D?H:encodeURIComponent(H),H=H.replace(/'/g,"\x26apos;"),y[F]=H);return y},_processFieldsInLinks:function(y,D){var F=this._encodeAttributes(D),H=this._encodeAttributes(D,!0);D=A.hitch(this,this._addValuesToHref,D,F,H);y&&(y=y.replace(this._reHref,D).replace(this._reHrefApos,D));return y},_addValuesToHref:function(y,D,F,H,E,I){I=I&&A.trim(I);return H=e.substitute(I&&0===I.indexOf("${")?
"'"===E?F:y:D,H)},_getLayerFieldInfo:function(y,D){return y&&y.getField?y.getField(D):null},_formatValue:function(y,D,F,H){var E=this._fieldsMap[D.toLowerCase()],I=E&&E.format;D=-1!==a.indexOf(F.dateFormat.properties,D);var J="number"===typeof y&&!D&&(!I||!I.dateFormat);if(!e.isDefined(y)||!E||!e.isDefined(I))return this._applyFormatting(y,J);E=I.hasOwnProperty("places")||I.hasOwnProperty("digitSeparator");var K=I.hasOwnProperty("digitSeparator")?I.digitSeparator:!0;if(E&&!D)var L={formatType:"NumberFormat",
places:e.isDefined(I.places)&&(!H||0<I.places)?Number(I.places):Infinity};else if(I.dateFormat)L=A.mixin({formatType:"DateFormat",utcOffset:this.utcOffset},this._dateFormatsJson[I.dateFormat]||this._dateFormatsJson.shortDateShortTime);else return this._applyFormatting(y,J);var O=this._applyFormatFunctions(y,L,F);E&&-1<y.constructor.toString().indexOf("Array")&&(O="",a.forEach(y,A.hitch(this,function(U,S){S&&(O+=" ");O+=this._applyFormatFunctions(U,L,F)})));E&&!K&&C.group&&(O=O.replace(new RegExp("\\"+
C.group,"g"),""));D&&(O='\x3cspan class\x3d"esriDateValue"\x3e'+O+"\x3c/span\x3e");return this._applyFormatting(O,J)},_applyFormatFunctions:function(y,D,F){D&&F&&(F.format={myKey:D});y=e.substitute({myKey:y},"${myKey}",F)||"";D&&F&&(F.format=null);return y},_applyFormatting:function(y,D){return D?this._forceLTR(y):this._applyPreWrap(y)},_forceLTR:function(y){var D=h("ie");return D&&10>=D?y:"\x3cspan class\x3d'esriNumericValue'\x3e"+y+"\x3c/span\x3e"},_applyPreWrap:function(y){return"string"===typeof y?
y.replace(this._reNewline,"\x3cspan class\x3d'charNewLine'\x3e$1\x3c/span\x3e"):y},_insertOffset:function(y){y&&(y=e.isDefined(this.utcOffset)?y.replace(/\)\s*$/,", utcOffset:"+this.utcOffset+")"):y);return y},_getDomainName:function(y,D,F,H){return(y=y.getDomain&&y.getDomain(F,{feature:D}))&&y.codedValues?y.getName(H):null},_getTypeName:function(y,D,F){return(y=y.getType&&y.getType(D))&&y.name},_getRelatedRecords:function(y){var D=y.graphic,F;this._relatedLayersInfoPromise||(this._relatedLayersInfoPromise=
this._getRelatedLayersInfo(y).then(A.hitch(this,function(H){for(F in H)H.hasOwnProperty(F)&&H[F]&&(this._relatedLayersInfo[F].relatedLayerInfo=H[F])})));return this._relatedLayersInfoPromise.then(A.hitch(this,function(){return this._queryRelatedLayers(D)})).then(A.hitch(this,function(H){this._setRelatedRecords(D,H);return H}))},_getRelatedLayersInfo:function(y){var D=y.fieldsInfo,F,H={};var E=y.graphic.getSourceLayer();this._relatedLayersInfo||(this._relatedLayersInfo={});a.forEach(D,function(I){var J;
var K=this._fromRelatedFieldName(I.fieldName);var L=K[0];K=K[1];if(L&&(!this._relatedLayersInfo[L]&&E&&E.relationships&&(a.some(E.relationships,function(U){if(U.id==L)return J=U,!0}),J&&(this._relatedLayersInfo[L]={relation:J,relatedFields:[],outStatistics:[]})),this._relatedLayersInfo[L]&&(this._relatedLayersInfo[L].relatedFields.push(K),I.statisticType))){var O=new w;O.statisticType=I.statisticType;O.onStatisticField=K;O.outStatisticFieldName=K;this._relatedLayersInfo[L].outStatistics.push(O)}},
this);for(F in this._relatedLayersInfo)this._relatedLayersInfo.hasOwnProperty(F)&&this._relatedLayersInfo[F]&&(y=this._relatedLayersInfo[F].relation,y=E.url.replace(/[0-9]+$/,y.relatedTableId),this._relatedLayersInfo[F].relatedLayerUrl=y,H[F]=k({url:y,content:{f:"json"},callbackParamName:"callback"}));return c(H)},_queryRelatedLayers:function(y){var D={},F;for(F in this._relatedLayersInfo)this._relatedLayersInfo.hasOwnProperty(F)&&(D[F]=this._queryRelatedLayer({graphic:y,relatedInfo:this._relatedLayersInfo[F]}));
return c(D)},_queryRelatedLayer:function(y){var D,F;var H=y.graphic;var E=H.getSourceLayer();var I=E.url.match(/[0-9]+$/g)[0];var J=y.relatedInfo;var K=J.relatedLayerInfo;var L=J.relatedLayerUrl;var O=J.relation;y=a.filter(K.relationships,function(V){return V.relatedTableId===parseInt(I,10)});1===y.length?D=y[0]:1<y.length&&a.some(y,function(V){V.id===O.id&&(D=V);return!!D});if(D){var U=new g;a.some(K.fields,function(V){if(V.name===D.keyField)return F=-1!==a.indexOf(["esriFieldTypeSmallInteger","esriFieldTypeInteger",
"esriFieldTypeSingle","esriFieldTypeDouble"],V.type)?"number":"string",!0});if(D.relationshipTableId&&D.keyFieldInRelationshipTable){var S=new n;this._queryRelatedRecords(H,D).then(A.hitch(this,function(V){var ea;(ea=V[H.attributes[E.objectIdField]])?(V=a.map(ea.features,function(P){return P.attributes[K.objectIdField]},this),J.outStatistics&&0<J.outStatistics.length&&K.supportsStatistics&&(N=new g,N.where=this._chunkWhereInClause(K.objectIdField,V,1E3),N.outFields=U.outFields,N.outStatistics=J.outStatistics),
N&&(T=new q(L),T.execute(N).then(A.hitch(this,function(P){var ba=[];ba.push(ea);ba.push(P);S.resolve(ba)})))):S.resolve()}))}else{var M="string"===F?D.keyField+"\x3d'"+H.attributes[O.keyField]+"'":D.keyField+"\x3d"+H.attributes[O.keyField];U.where=M;U.outFields=J.relatedFields;if(J.outStatistics&&0<J.outStatistics.length&&K.supportsStatistics){var N=new g;N.where=U.where;N.outFields=U.outFields;N.outStatistics=J.outStatistics}var T=new q(L);M=[];M.push(T.execute(U));N&&M.push(T.execute(N))}}return M?
c(M):S?S.promise:void 0},_setRelatedRecords:function(y,D){this._relatedInfo=[];for(var F in D)D.hasOwnProperty(F)&&D[F]&&(y=D[F],this._relatedInfo[F]={},this._relatedInfo[F].relatedFeatures=y[0].features,e.isDefined(y[1])&&(this._relatedInfo[F].relatedStatsFeatures=y[1].features))},_handlerErrorResponse:function(y,D){y.reject(D)},_fromRelatedFieldName:function(y){var D=[];-1!==y.indexOf(this._relatedFieldPrefix)&&(y=y.split("/"),D=y.slice(1));return D},_toRelatedFieldName:function(y){var D="";y&&
0<y.length&&(D=this._relatedFieldPrefix+y[0]+"/"+y[1]);return D},_queryRelatedRecords:function(y,D){var F=y.getSourceLayer(),H=new x;H.outFields=["*"];H.relationshipId=D.id;H.objectIds=[y.attributes[F.objectIdField]];return F.queryRelatedFeatures(H)},_removeEmptyHref:function(y){return y.replace(/href=(""|'')/gi,"")},_chunkWhereInClause:function(y,D,F){for(var H=0,E=[];H<D.length;)E.push(y+" IN ("+D.slice(H,F+H)+")"),H+=F;return E.join(" OR ")}});t("extend-esri")&&(f.PopupInfo=f.PopupInfoTemplate=
G);return G})},"dojox/html/entities":function(){define(["dojo/_base/lang"],function(G){var A=G.getObject("dojox.html.entities",!0),a=function(p,t){if(t._encCache&&t._encCache.regexp&&t._encCache.mapper&&t.length==t._encCache.length){var n=t._encCache.mapper;var h=t._encCache.regexp}else{n={};h=["["];var c;for(c=0;c<t.length;c++)n[t[c][0]]="\x26"+t[c][1]+";",h.push(t[c][0]);h.push("]");h=new RegExp(h.join(""),"g");t._encCache={mapper:n,regexp:h,length:t.length}}return p=p.replace(h,function(b){return n[b]})},
m=function(p,t){if(t._decCache&&t._decCache.regexp&&t._decCache.mapper&&t.length==t._decCache.length){var n=t._decCache.mapper;var h=t._decCache.regexp}else{n={};h=["("];var c;for(c=0;c<t.length;c++){var b="\x26"+t[c][1]+";";c&&h.push("|");n[b]=t[c][0];h.push(b)}h.push(")");h=new RegExp(h.join(""),"g");t._decCache={mapper:n,regexp:h,length:t.length}}return p=p.replace(h,function(e){return n[e]})};A.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];A.latin=[["\u00a1",
"iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],
["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],
["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],
["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a",
"Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be",
"xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191",
"uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229",
"cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663",
"clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030",
"permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];A.encode=function(p,t){p&&(t?p=a(p,t):(p=a(p,A.html),p=a(p,A.latin)));return p};A.decode=function(p,t){p&&(t?p=m(p,t):(p=m(p,A.html),p=m(p,A.latin)));return p};return A})},"esri/ArcadeExpression":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ./kernel ./layers/support/attributeUtils ./support/expressionUtils".split(" "),function(G,A,a,m,p,t){G=G(null,{declaredClass:"esri.ArcadeExpression",expression:null,profile:null,returnType:null,
async:null,id:null,syntaxTree:null,_traits:null,_attributeDef:null,_attributeCache:null,_compiled:!1,constructor:function(n){A.mixin(this,n);this.returnType=this.returnType||"string";this.id=p.getAttributeId(this.expression);this._setSyntaxTree(this.profile.parse(this));this.async=this.async||this.profile.isAsync(this)},hasGeometryOperations:function(){var n=this._traits.geometryOperations;void 0===n&&(n=this._traits.geometryOperations=t.hasGeometryOperations(this.syntaxTree));return n},hasFeatureSetOperations:function(){var n=
this._traits.featureSetOperations;void 0===n&&(n=this._traits.featureSetOperations=t.hasFeatureSetOperations(this.syntaxTree));return n},hasVariable:function(n){var h=this._traits.variables;void 0===h[n]&&(h[n]=t.hasVariable(this.syntaxTree,n));return h[n]},hasFunction:function(n){var h=this._traits.functions;void 0===h[n]&&(h[n]=t.hasFunction(this.syntaxTree,n));return h[n]},evaluate:function(n){this._compile();var h=this._attributeCache.compiledFunc;return this.async?t.executeAsyncFunction(h,n):
t.executeFunction(h,n)},_setSyntaxTree:function(n){this.syntaxTree=n;this._compiled=!1;this._traits={variables:{},functions:{}};this._createLegacyValueObjects()},_createLegacyValueObjects:function(){this._attributeDef={valueExpression:this.expression};this._attributeCache={attributeInfo:this._attributeDef,isNumeric:"number"===this.returnType,idSource:this.expression,id:this.id,hasExpr:!0,compiledFunc:null,syntaxTree:this.syntaxTree,isScaleDriven:!1,dependsOnView:this.hasVariable("$view"),dependsOnGeometry:this.hasGeometryOperations(),
isJSFunc:!1}},_compile:function(){this._compiled||(this._attributeCache.compiledFunc=this.profile.compile(this),this._compiled=!0)}});a("extend-esri")&&(m.ArcadeExpression=G);return G})},"esri/tasks/RelationshipQuery":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/json","dojo/has","../kernel"],function(G,A,a,m,p){G=G(null,{declaredClass:"esri.tasks.RelationshipQuery",definitionExpression:"",relationshipId:null,returnGeometry:!1,objectIds:null,outSpatialReference:null,outFields:null,
orderByFields:null,toJson:function(){var t={definitionExpression:this.definitionExpression,relationshipId:this.relationshipId,returnGeometry:this.returnGeometry,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision},n=this.objectIds,h=this.outFields,c=this.outSpatialReference,b=this.orderByFields;n&&(t.objectIds=n.join(","));h&&(t.outFields=h.join(","));c&&(t.outSR=c.wkid||a.toJson(c.toJson()));b&&(t.orderByFields=b.join(","));t._ts=this._ts;return t}});m("extend-esri")&&
A.setObject("tasks.RelationshipQuery",G,p);return G})},"esri/arcadeProfiles/popupProfile":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../promiseList ../arcade/Feature ../support/expressionUtils ./utils".split(" "),function(G,A,a,m,p,t,n,h){G=new (G(null,{declaredClass:"esri.arcadeProfiles.PopupProfile",defaults:{globals:{featureSet:["$layer","$datastore","$map","$aggregatedfeatures"],async:["$layer","$datastore","$map","$aggregatedfeatures"]},context:{vars:{$feature:"any",
$layer:"any",$datastore:"any",$map:"any",$aggregatedfeatures:"any"}}},initialize:function(c){var b=[];h.hasGeometryOperations(c)&&b.push(n.enableGeometryOperations());(h.hasFeatureSetOperations(c)||h.hasVariables(c,this.defaults.globals.featureSet))&&b.push(n.enableFeatureSetOperations());h.isAsync(c)&&b.push(n.enableAsyncOperations());return p(b)},isAsync:function(c){c=[c];return h.hasFeatureSetOperations(c)||h.hasVariables(c,this.defaults.globals.async)},parse:function(c){return n.createSyntaxTree(c.expression)},
compile:function(c){var b=A.clone(this.defaults.context);b.useAsync=c.async;return c.syntaxTree?n.createFunction(c.syntaxTree,b):null},getEvalOptions:function(c){var b=c.expression,e=c.feature,f=c.layer,k=c.aggregatedFeaturesLayer,u=c.map;c=c.spatialReference;e=e&&b.hasVariable("$feature")?t.createFromGraphicLikeObject(e.geometry,e.attributes,f):null;var v,g;if(f){var q={spatialReference:c};b.hasVariable("$layer")&&(v=f.getMap()?n.createFeatureSetFromLayer(f,q):n.createFeatureSetFromLayerUrl(f.url,
q));if(b.hasVariable("$datastore"))var x=(x=h.getServiceUrl(f.url))?n.createFeatureSetCollectionFromServiceUrl(x,q):null;b.hasVariable("$aggregatedfeatures")&&k&&(g=k.getMap()?n.createFeatureSetFromLayer(k,q):null)}b=u&&b.hasVariable("$map")?n.createFeatureSetCollectionFromMap(u):null;return{context:{vars:{$feature:e,$layer:v,$datastore:x,$map:b,$aggregatedfeatures:g},spatialReference:c}}}}));a("extend-esri")&&A.setObject("arcadeProfiles.popupProfile",G,m);return G})},"esri/dijit/PopupRenderer":function(){define("require dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/kernel dojo/sniff dojo/query dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojox/html/entities dijit/_Widget dijit/_Templated ../kernel ../lang ../urlUtils ./_EventedWidget dojo/i18n!../nls/jsapi dojo/NodeList-dom".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z){var C=0,y=z.widgets.popup,D=z.widgets.templatePicker;A=A([B,v,g],{declaredClass:"esri.dijit._PopupRenderer",constructor:function(){this._nls=m.mixin({},y)},templateString:"\x3cdiv class\x3d'esriViewPopup'\x3e\x3cdiv class\x3d'statusSection hidden' dojoAttachPoint\x3d'_status'\x3e\x3c/div\x3e\x3cdiv class\x3d'mainSection'\x3e\x3cdiv class\x3d'header' dojoAttachPoint\x3d'_title'\x3e\x3c/div\x3e\x3cdiv class\x3d'hzLine'\x3e\x3c/div\x3e\x3cdiv dojoAttachPoint\x3d'_description'\x3e\x3c/div\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'attachmentsSection hidden'\x3e\x3cdiv\x3e${_nls.NLS_attach}:\x3c/div\x3e\x3cul dojoAttachPoint\x3d'_attachmentsList'\x3e\x3c/ul\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'mediaSection hidden'\x3e\x3cdiv class\x3d'header' dojoAttachPoint\x3d'_mediaTitle'\x3e\x3c/div\x3e\x3cdiv class\x3d'hzLine'\x3e\x3c/div\x3e\x3cdiv class\x3d'caption' dojoAttachPoint\x3d'_mediaCaption'\x3e\x3c/div\x3e\x3cdiv class\x3d'gallery' dojoAttachPoint\x3d'_gallery'\x3e\x3cdiv class\x3d'mediaHandle prev' dojoAttachPoint\x3d'_prevMedia' dojoAttachEvent\x3d'onclick: _goToPrevMedia'\x3e\x3c/div\x3e\x3cdiv class\x3d'mediaHandle next' dojoAttachPoint\x3d'_nextMedia' dojoAttachEvent\x3d'onclick: _goToNextMedia'\x3e\x3c/div\x3e\x3cul class\x3d'summary'\x3e\x3cli class\x3d'image mediaCount hidden' dojoAttachPoint\x3d'_imageCount'\x3e0\x3c/li\x3e\x3cli class\x3d'image mediaIcon hidden'\x3e\x3c/li\x3e\x3cli class\x3d'chart mediaCount hidden' dojoAttachPoint\x3d'_chartCount'\x3e0\x3c/li\x3e\x3cli class\x3d'chart mediaIcon hidden'\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'frame' dojoAttachPoint\x3d'_mediaFrame'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'editSummarySection hidden' dojoAttachPoint\x3d'_editSummarySection'\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3cdiv class\x3d'break hidden' dojoAttachPoint\x3d'_mediaBreak'\x3e\x3c/div\x3e\x3cdiv class\x3d'editSummary' dojoAttachPoint\x3d'_editSummary'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",
showTitle:!0,startup:function(){this.inherited(arguments);this._showStatus(D.loading);this._contentDfd=this.template.getComponents(this.graphic).then(m.hitch(this,this._handleComponentsSuccess)).otherwise(m.hitch(this,this._handleComponentsError))},destroy:function(){this._contentDfd&&this._contentDfd.cancel();this._attachmentsDfd&&this._attachmentsDfd.cancel();this._destroyFrame();this.template=this.graphic=this._nls=this._mediaInfos=this._mediaPtr=this._contentDfd=this._attachmentsDfd=null;this.inherited(arguments)},
_goToPrevMedia:function(){0>this._mediaPtr-1||(this._mediaPtr--,this._updateUI(),this._displayMedia())},_goToNextMedia:function(){this._mediaPtr+1!==this._mediaInfos.length&&(this._mediaPtr++,this._updateUI(),this._displayMedia())},_updateUI:function(){var F=this._mediaInfos,H=F.length,E=this.domNode,I=this._prevMedia,J=this._nextMedia;if(1<H){var K=0,L=0;p.forEach(F,function(O){"image"===O.type?K++:-1!==O.type.indexOf("chart")&&L++});K&&(b.set(this._imageCount,"innerHTML",K),t.query(".summary .image",
E).removeClass("hidden"));L&&(b.set(this._chartCount,"innerHTML",L),t.query(".summary .chart",E).removeClass("hidden"))}else t.query(".summary",E).addClass("hidden"),e.add(I,"hidden"),e.add(J,"hidden");F=this._mediaPtr;0===F?e.add(I,"hidden"):e.remove(I,"hidden");F===H-1?e.add(J,"hidden"):e.remove(J,"hidden");this._destroyFrame()},_displayMedia:function(){var F=this._mediaInfos[this._mediaPtr],H=F.title,E=F.caption,I=t.query(".mediaSection .hzLine",this.domNode)[0];b.set(this._mediaTitle,"innerHTML",
H);e[H?"remove":"add"](this._mediaTitle,"hidden");b.set(this._mediaCaption,"innerHTML",E);e[E?"remove":"add"](this._mediaCaption,"hidden");e[H&&E?"remove":"add"](I,"hidden");this._rid=null;if("image"===F.type)this._showImage(F);else{var J=this;H=["dojox/charting/Chart2D","dojox/charting/action2d/Tooltip"];E=F.value.theme||this.chartTheme;m.isString(E)&&(E=E.replace(/\./gi,"/"),-1===E.indexOf("/")&&(E="dojox/charting/themes/"+E));E||(E="./Rainbow");H.push(E);try{var K=this._rid=C++;G(H,function(L,
O,U){K===J._rid&&(J._rid=null,J._showChart(F.type,F.value,L,O,U))})}catch(L){console.log("PopupRenderer: error loading modules")}}},_preventNewTab:function(F){return(F=F&&m.trim(F).toLowerCase())&&(0===F.indexOf("mailto:")||0===F.indexOf("tel:"))},_showImage:function(F){e.add(this._mediaFrame,"image");var H=k.get(this._gallery,"height"),E=F.value,I=u.decode(E.linkURL);E=u.decode(E.sourceURL);var J;I&&(J=f.create("a",{href:I,target:this._preventNewTab(I)?"":"_blank"},this._mediaFrame));I=F.refreshInterval?
this._addURLParameter(E,"timestamp",Date.now()):E;f.create("img",{className:"esriPopupMediaImage",src:I},J||this._mediaFrame);var K=t.query(".esriPopupMediaImage",this._mediaFrame)[0];this._imageLoadHandle=a.connect(K,"onload",this,function(){this._clearImageHandles();this._imageLoaded(K,H);this._initImageRefresh(F)})},_addURLParameter:function(F,H,E){var I=-1===F.indexOf("?")?"?":"\x26";return F+I+H+"\x3d"+E},_initImageRefresh:function(F){if(F.refreshInterval){var H=6E4*F.refreshInterval;this._imageRefreshHandle=
setTimeout(m.hitch(this,function(){this._destroyFrame();this._showImage(F)}),H)}},_clearImageHandles:function(){a.disconnect(this._imageLoadHandle);this._imageLoadHandle=null;clearTimeout(this._imageRefreshHandle);this._imageRefreshHandle=null},_showChart:function(F,H,E,I,J){e.remove(this._mediaFrame,"image");E=this._chart=new E(f.create("div",{"class":"chart"},this._mediaFrame),{margins:{l:4,t:4,r:4,b:4}});J&&E.setTheme(J);switch(F){case "piechart":E.addPlot("default",{type:"Pie",labels:!1});E.addSeries("Series A",
H.fields);break;case "linechart":E.addPlot("default",{type:"Markers"});E.addAxis("x",{min:0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1});E.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});p.forEach(H.fields,function(K,L){K.x=L+1});E.addSeries("Series A",H.fields);break;case "columnchart":E.addPlot("default",{type:"Columns",gap:3});E.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});E.addSeries("Series A",H.fields);break;case "barchart":E.addPlot("default",{type:"Bars",
gap:3}),E.addAxis("x",{includeZero:!0,fixUpper:"minor",minorLabels:!1}),E.addAxis("y",{vertical:!0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1}),E.addSeries("Series A",H.fields)}this._action=new I(E);E.render()},_destroyFrame:function(){this._rid=null;this._clearImageHandles();this._chart&&(this._chart.destroy(),this._chart=null);this._action&&(this._action.destroy(),this._action=null);b.set(this._mediaFrame,"innerHTML","")},_imageLoaded:function(F,H){var E=F.height;E<H&&k.set(F,"marginTop",
Math.round((H-E)/2)+"px")},_attListHandler:function(F,H){if(F===this._attachmentsDfd){this._attachmentsDfd=null;var E="";H instanceof Error||!H||!H.length||p.forEach(H,function(I){E+="\x3cli\x3e";E+="\x3ca href\x3d'"+w.addProxy(I.url)+"' target\x3d'_blank'\x3e"+(I.name||"[No name]")+"\x3c/a\x3e";E+="\x3c/li\x3e"});b.set(this._attachmentsList,"innerHTML",E||"\x3cli\x3e"+this._nls.NLS_noAttach+"\x3c/li\x3e")}},_createLinkIfURI:function(F,H){var E=w.getURIInfo(F);if(E){var I=F.match(E.pattern);F=I&&
I[2];I=u.decode(I[1]);f.create("a",{target:"_blank",href:I,title:I,innerHTML:x.substitute({appName:E.appName,hierPart:F},E.label)},H)}else b.set(H,"innerHTML",F)},_showStatus:function(F){b.set(this._status,"innerHTML",F);e.remove(this._status,"hidden");t.query(".mainSection",this.domNode).addClass("hidden")},_hideStatus:function(){b.set(this._status,"innerHTML","");e.add(this._status,"hidden");t.query(".mainSection",this.domNode).removeClass("hidden")},_handleComponentsSuccess:function(F){if(F){this._hideStatus();
var H=this.showTitle?F.title:"",E=F.description,I=F.fields,J=F.mediaInfos,K=this.domNode,L=this._nls,O=this,U=this.template,S=this.graphic;this._prevMedia.title=L.NLS_prevMedia;this._nextMedia.title=L.NLS_nextMedia;b.set(this._title,"innerHTML",H);H||e.add(this._title,"hidden");if(!F.hasDescription&&I&&(E="",I=p.map(I,function(N){var T=f.create("tr",{vAlign:"top"});f.create("td",{className:"attrName",innerHTML:u.encode(N[0])},T);var V=f.create("td",{className:"attrValue"},T);this._createLinkIfURI(N[1],
V);return T},this),I.length)){var M=f.create("table",{className:"attrTable",cellPadding:"0px",cellSpacing:"0px"});p.forEach(I,function(N){M.appendChild(N)})}M?(this._description.appendChild(M),E=!0):b.set(this._description,"innerHTML",E);E||e.add(this._description,"hidden");t.query("a",this._description).forEach(function(N){O._preventNewTab(N.href)?"_blank"===N.target&&b.remove(N,"target"):b.set(N,"target","_blank")});H&&E?t.query(".mainSection .hzLine",K).removeClass("hidden"):H||E?t.query(".mainSection .hzLine",
K).addClass("hidden"):t.query(".mainSection",K).addClass("hidden");if(H=this._attachmentsDfd=U.getAttachments(S))H.addBoth(m.hitch(this,this._attListHandler,H)),b.set(this._attachmentsList,"innerHTML","\x3cli\x3e"+L.NLS_searching+"...\x3c/li\x3e"),t.query(".attachmentsSection",K).removeClass("hidden");J&&J.length&&(t.query(".mediaSection",K).removeClass("hidden"),c.setSelectable(this._mediaFrame,!1),this._mediaInfos=J,this._mediaPtr=0,this._updateUI(),this._displayMedia());F.editSummary&&(b.set(this._editSummary,
"innerHTML",F.editSummary),J&&J.length&&e.remove(this._mediaBreak,"hidden"),e.remove(this._editSummarySection,"hidden"));this.emit("content-update")}else this._showStatus(y.NLS_noInfo)},_handleComponentsError:function(F){F&&"cancel"===F.dojoType||(console.log("PopupRenderer: error loading template",F),this._showStatus(y.NLS_noInfo))}});n("extend-esri")&&m.setObject("dijit._PopupRenderer",A,q);return A})},"dijit/_Templated":function(){define("./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/kernel".split(" "),
function(G,A,a,m,p,t,n){t.extend(G,{waiRole:"",waiState:""});return p("dijit._Templated",[A,a],{constructor:function(){n.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")},_processNode:function(h,c){var b=this.inherited(arguments),e=c(h,"waiRole");e&&h.setAttribute("role",e);(e=c(h,"waiState"))&&m.forEach(e.split(/\s*,\s*/),function(f){-1!=f.indexOf("-")&&(f=f.split("-"),h.setAttribute("aria-"+f[0],f[1]))});
return b}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(G,A,a,m,p){return a("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var t=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);p.parse(t,{noStart:!this._earlyTemplatedStartup,
template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(m.hitch(this,function(n){this._startupWidgets=n;for(var h=0;h<n.length;h++)this._processTemplateNode(n[h],function(c,b){return c[b]},function(c,b,e){return b in c?c.connect(c,b,e):c.on(b,e,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}},_processTemplateNode:function(t,n,h){return n(t,"dojoType")||n(t,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){G.forEach(this._startupWidgets,function(t){t&&!t._started&&t.startup&&t.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"esri/dijit/_EventedWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on ../Evented dijit/_WidgetBase".split(" "),function(G,A,a,m,p,t){return G([t,p],{_onMap:function(n){var h=this.constructor._onMap;
h&&h.FINAL||(delete this.constructor._onMap,h=this.registerConnectEvents(),h.FINAL=!0);n=n.toLowerCase();if(h[n])var c=this[h[n].method];else n=this._onCamelCase(n),this[n]&&(c=n);return c},on:function(n,h){var c=this._onMap(n),b=n.replace(/\-/g,""),e="on"+b in this.domNode;return c||!e?this.inherited(arguments):this.own(m(this.domNode,b,h))[0]},emit:function(n,h,c){var b,e=n.toLowerCase(),f=this.constructor._onMap||this.registerConnectEvents();var k=this[this._onMap(e)];h=h||{};h.target||(h.target=
this);if(k&&f&&f[e]){this._onObj2Arr(function(){b=Array.prototype.slice.call(arguments)},f[e].argKeys)(h);var u=A.mixin({},arguments);u[2]=b;u[0]=f[e].name.replace(/^on/,"")}return this.inherited(u||arguments)}})})},"esri/dijit/Legend/utils":function(){define(["dojo/_base/lang","../../lang","dojo/i18n!../../nls/jsapi"],function(G,A,a){var m=a.widgets.legend;return{getVisualVariableTitle:function(p,t){var n=p.field,h=p.normalizationField,c=!1,b=!1,e=!1;n=G.isFunction(n)?null:n;h=G.isFunction(h)?null:
h;if(p.legendOptions&&p.legendOptions.title)var f=p.legendOptions.title;else if(p.valueExpressionTitle)f=p.valueExpressionTitle;else{if(t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){var k=t.renderer.authoringInfo.visualVariables;for(p=0;p<k.length;p++){var u=k[p];if("colorInfo"===u.type&&"ratio"===u.style){c=!0;break}else if("colorInfo"===u.type&&"percent"===u.style){b=!0;break}else if("colorInfo"===u.type&&"percentTotal"===u.style){e=!0;break}}}(c=e&&"showRatioPercentTotal"||
b&&"showRatioPercent"||c&&"showRatio"||h&&"showNormField"||n&&"showField"||null)&&(f=A.substitute({field:n&&t.getFieldLabel(n),normField:h&&t.getFieldLabel(h)},"showField"===c?"${field}":m[c]))}return f},getRendererTitle:function(p,t){if(p){if("esri.renderer.ClassBreaksRenderer"===p.declaredClass){var n=p.attributeField;var h=p.normalizationField;var c="percent-of-total"===p.normalizationType}n=G.isFunction(n)?null:n;h=G.isFunction(h)?null:h;if(p.legendOptions&&p.legendOptions.title)var b=p.legendOptions.title;
else p.valueExpressionTitle?b=p.valueExpressionTitle:(p=h&&"showNormField"||(c?"showNormPct":null)||n&&"showField"||null)&&(b=A.substitute({field:n&&t.getFieldLabel(n),normField:h&&t.getFieldLabel(h)},"showField"===p?"${field}":m[p]))}return b}}})},"esri/layers/clustering/GeohashAggregation":function(){define("dojo/has dojo/_base/declare dojo/_base/lang dojo/_base/array ../../kernel ../../Evented ../../geometry/Point ../../geometry/Extent ../../geometry/mathUtils ../../support/expressionUtils ../../core/timerUtils ../support/attributeUtils ./geohashUtils ./statUtils".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u){A=A(t,{loaded:!1,started:!1,map:null,layer:null,lod:null,tolerance:null,clusterMode:null,clusterRadius:null,sortEnabled:!0,filterEnabled:!0,bufferEnabled:!0,updateEnabled:!0,clusters:null,clustersEnabled:!0,statisticInfos:null,defaults:{lod:1,tolerance:0,clusterMode:"auto",clusterRadius:80,sortEnabled:!0,filterEnabled:!0,bufferEnabled:!0,updateEnabled:!0},_eventHandles:null,_updateHandle:null,_indexHandle:null,_cellIndex:null,_globalIndex:null,_perfProfile:null,
_indexUpdated:!1,_cellSizeScaleFactor:1.5,_extentScaleFactor:1.25,_maxGeohashLength:12,_minClusterRadius:15,_levelChange:!0,_clusterFieldPrefix:"cluster_",_mapLevelChange:!1,constructor:function(v){this._update=a.hitch(this,this._update);this._indexFeatures=a.hitch(this,this._indexFeatures);this._eventHandles=[];this._globalIndex={numFeatures:null,fullExtent:null,lodStats:null};this._perfProfile={lastIndex:{total:null,numFeatures:0},lastUpdate:{cells:null,clusters:null,total:null}};this.clusters=
[];this.map=v.map;this.layer=v.layer;this.setLod(v.lod);this.setTolerance(v.tolerance);this.setClusterMode(v.clusterMode);this.setClusterRadius(v.clusterRadius);this.setSortEnabled(v.sortEnabled);this.setFilterEnabled(v.filterEnabled);this.setBufferEnabled(v.bufferEnabled);this.setUpdateEnabled(v.updateEnabled);this.setStatisticInfos(v.statisticInfos);this._load();this.loaded?this._startup():this._eventHandles.push(this.on("load",a.hitch(this,this._startup)))},destroy:function(v){this._displayFeatures(!0,
v);m.forEach(this._eventHandles,function(g){g.remove()});e.clearTimeout(this._updateHandle);e.clearTimeout(this._indexHandle);this._cellIndex=this._globalIndex=this._eventHandles=this._updateHandle=this._indexHandle=this.map=this.layer=this.clusters=null},setLod:function(v){var g=this.lod;this.lod=v||this.defaults.lod;g!==this.lod&&this.update()},setTolerance:function(v){var g=this.tolerance;this.tolerance=v||this.defaults.tolerance;g!==this.tolerance&&this.update()},setClusterMode:function(v){var g=
this.clusterMode;this.clusterMode=v||this.defaults.clusterMode;this._evalClusterParams();g!==this.clusterMode&&this.update()},setClusterRadius:function(v){var g=this.clusterRadius;this.clusterRadius=null!=v?v:this.defaults.clusterRadius;this._evalClusterParams();g!==this.clusterRadius&&this.update()},setSortEnabled:function(v){var g=this.sortEnabled;this.sortEnabled=null!=v?!!v:this.defaults.sortEnabled;g!==this.sortEnabled&&this.update()},setFilterEnabled:function(v){var g=this.filterEnabled;this.filterEnabled=
null!=v?!!v:this.defaults.filterEnabled;g!==this.filterEnabled&&this.update()},setBufferEnabled:function(v){var g=this.bufferEnabled;this.bufferEnabled=null!=v?!!v:this.defaults.bufferEnabled;g!==this.bufferEnabled&&this.update()},setUpdateEnabled:function(v){var g=this.updateEnabled;(this.updateEnabled=null!=v?!!v:this.defaults.updateEnabled)&&g!==this.updateEnabled&&(this._mapLevelChange=!0,this.update())},setStatisticInfos:function(v){this.statisticInfos=v||[];this.loaded&&this._applyStatInfos(this.statisticInfos)},
update:function(){this.loaded&&null==this._updateHandle&&(this._updateHandle=e.setTimeout(this._update,e.priority.HIGH))},isUpdateScheduled:function(){return null!=this._updateHandle},index:function(){this.loaded&&null==this._indexHandle&&(this._indexHandle=e.setTimeout(this._indexFeatures,e.priority.HIGH))},getCell:function(v){return this._cellIndex[v.length][v]},getCluster:function(v){var g;m.some(this.clusters,function(q){-1<m.indexOf(q.geohashes,v)&&(g=q);return!!g});return g},getCellsInCluster:function(v){var g=
[];m.forEach(v&&v.geohashes,function(q){(q=this.getCell(q))&&g.push(q)},this);return g},getFeaturesInCluster:function(v){var g=[];v=this.getCellsInCluster(v);m.forEach(v,function(q){Array.prototype.push.apply(g,q.features)});return g},toggleFeatureVisibility:function(v){this.index()},getCurrentLodStats:function(){var v=this._globalIndex.lodStats;return v&&v[this.lod]},getNumFeatures:function(){return this._globalIndex.numFeatures},getFullExtent:function(){var v=this._globalIndex.fullExtent;return v&&
Infinity!==v.xmin?new h(v):null},_load:function(){this._displayFeatures(!1);this._checkLoadStatus();this.map.loaded||this._eventHandles.push(this.map.on("load",a.hitch(this,this._checkLoadStatus)));this.layer.loaded||this._eventHandles.push(this.layer.on("load",a.hitch(this,this._checkLoadStatus)))},_checkLoadStatus:function(){if(this.map.loaded&&this.layer.loaded){if("esriGeometryPoint"!==this.layer.geometryType)var v=Error("GeohashAggregation is supported only for points");else{var g=this.map.spatialReference;
g.isWebMercator()||4326===g.wkid||(v=Error("GeohashAggregation is supported only when map spatial reference is WGS84 or WebMercator"))}v?(this.loadError=v,this.emit("load-error",{error:v})):(this.loaded=!0,this.emit("load"))}},_startup:function(){this._evalUpdateStatus();this.index();this._processExtentChange();this._eventHandles.push(this.layer.on("update-end",a.hitch(this,this.index)),this.layer.on("edits-complete",a.hitch(this,this.index)),this.layer.on("graphics-clear",a.hitch(this,this.index)),
this.layer.on("suspend",a.hitch(this,this._evalUpdateStatus)),this.layer.on("resume",a.hitch(this,this._evalUpdateStatus)),this.map.on("extent-change",a.hitch(this,this._processExtentChange)))},_evalUpdateStatus:function(){this.setUpdateEnabled(!this.layer.suspended)},_processExtentChange:function(v){this._mapLevelChange=!(!v||!v.levelChange);this._evalClusterParams();this.update()},_update:function(){this._updateHandle=null;if(this.updateEnabled){this.emit("update-start");if(this.clustersEnabled){var v=
this.map.geographicExtent;if(v){var g=this._getIntersectingCells(v);v=this._getClusters(g.cells,v);this.clusters=v.clusters;this._applyStatInfosToClusters();g=g.profile;v=v.profile;var q=g.total+v.total;g.total=this._getElapsedTime(g.total);v.total=this._getElapsedTime(v.total);var x=this._perfProfile.lastUpdate={};x.cells=g;x.clusters=v;x.total=this._getElapsedTime(q)}}else this.clusters=[],this._perfProfile.lastUpdate=null;g=this._indexUpdated;this._indexUpdated=!1;v=this._mapLevelChange;this._mapLevelChange=
!1;this.emit("update-end",{levelChange:this._levelChange,mapLevelChange:v,indexChange:g})}},_displayFeatures:function(v,g){var q=this.layer;v=!v;q.suspendGraphics(v);!1!==g&&(v?q.clearNodes():q.redraw())},_indexFeatures:function(){this._indexHandle=null;var v=this._getTime();this._initializeIndexing();var g=0,q=this._globalIndex.fullExtent;m.forEach(this.layer.graphics,function(B){if(B.visible){var z=B.geometry,C=this._getLngLat(z);if(C){var y=z.getCacheValue("_geohash");void 0===y&&(y=k.pointToGeohash(C),
z.setCacheValue("_geohash",y||null))}y&&(this._addGeohashToIndex(y,B,C),g++,this._updateExtent(q,C))}},this);this._applyStatInfosToIndex();this._globalIndex.numFeatures=g;for(var x=this._globalIndex.lodStats,w=1;w<=this._maxGeohashLength;w++)x[w]=this._getLODStats(w,g);this._perfProfile.lastIndex.total=this._getElapsedTime(v,this._getTime());this._perfProfile.lastIndex.numFeatures=g;this._indexUpdated=!0;this.emit("index-complete");this.started||(this.started=!0,this.emit("start"));this.update()},
_initializeIndexing:function(){this._globalIndex={numFeatures:0,fullExtent:{xmin:Infinity,ymin:Infinity,xmax:-Infinity,ymax:-Infinity},lodStats:{}};for(var v=this._cellIndex=[],g=1;g<=this._maxGeohashLength;g++)v[g]={}},_getLngLat:function(v){if(v){var g=v.getLongitude();v=v.getLatitude();v=null!=g&&null!=v?{x:g,y:v}:null}return v},_addGeohashToIndex:function(v,g,q){for(var x=this._cellIndex,w="",B=0;B<this._maxGeohashLength;B++){w+=v[B];var z=x[w.length],C=z[w];C||(C=z[w]={count:0,centroid:{x:null,
y:null},extent:{xmin:Infinity,ymin:Infinity,xmax:-Infinity,ymax:-Infinity},features:[],geohash:w,statistics:null});this._updateItem(C,1,q,!0);C.features.push(g)}},_getLODStats:function(v,g){var q=this._cellIndex[v],x=0,w=Infinity,B=-Infinity,z=null,C;for(C in q){var y=q[C];x++;y.count<w&&(w=y.count);y.count>B&&(B=y.count)}0<x&&(z=Number((g/x).toFixed(2)));return{lod:v,count:x,min:Infinity===w?null:w,max:-Infinity===B?null:B,avg:z}},_evalClusterParams:function(){if(this.loaded&&"auto"===this.clusterMode){var v=
this._getClusterParams(this.map.getResolutionInMeters(),this.clusterRadius,this._minClusterRadius);this._levelChange=this.lod!==v.lod;this.lod=v.lod;this.tolerance=v.tolerance}},_getClusterParams:function(v,g,q){g<q&&(g=q);v=Math.ceil(v*g);g=this._getClosestLODRange(v).max;do q=this._getCellSize(g),(q=v>=this._cellSizeScaleFactor*q||1===q)||(g+=1);while(!q);q=v/this._getCellSize(g);return{lod:g,tolerance:v,multiplier:Number(q.toFixed(2))}},_getClosestLODRange:function(v){for(var g,q=this._maxGeohashLength;1<=
q;q--)if(this._getCellSize(q)>=v){g=q;break}null==g&&(g=1);v=g+1;v>this._maxGeohashLength&&(v=this._maxGeohashLength);return{min:g,max:v}},_getCellSize:function(v){v=k.getCellSizeInMeters(v);return Math.ceil(Math.min(v.width,v.height))},_sorter:function(v,g){var q=v.centroid,x=g.centroid;return v.count>g.count?-1:v.count<g.count?1:q.x>x.x?-1:q.x<x.x?1:0},_getIntersectingCells:function(v){var g=this._getTime();this.bufferEnabled&&(v=v.expand(this._extentScaleFactor));var q=k.getIntersecting(v,this.lod,
this.bufferEnabled?this.tolerance:0);v=this._getTime();var x=[],w=this.tolerance,B=this.sortEnabled;m.forEach(q,function(z){(z=this.getCell(z))&&x.push(z)},this);w&&B&&x.sort(this._sorter);q=this._getTime();return{cells:x,profile:{findCells:this._getElapsedTime(g,v),scanAndSortCells:this._getElapsedTime(v,q),total:q-g}}},_getClusters:function(v,g){var q=this._getTime(),x=[],w={},B={findCells:0};m.forEach(v,function(z,C){(z=this._createCluster(z,w,B))&&x.push(z)},this);this._markIntersecting(x,g);
this.filterEnabled&&(x=this._getIntersectingClusters(x));v=this._getTime();return{clusters:x,profile:{findCellsInCluster:this._getElapsedTime(B.findCells),total:v-q}}},_markIntersecting:function(v,g){var q=g.normalize();m.forEach(v,function(x){var w=x.centroid.x,B=x.centroid.y;x.isIntersecting=m.some(q,function(z){return w>=z.xmin&&w<=z.xmax&&B>=z.ymin&&B<=z.ymax})})},_getIntersectingClusters:function(v){return m.filter(v,function(g){return g.isIntersecting})},_createCluster:function(v,g,q){if(!g[v.geohash]){var x=
[{cell:v,distance:0}];if(this.tolerance){var w=this._getTime(),B=k.getNeighborsWithinDistance(v.centroid,this.lod,this.tolerance);q.findCells+=this._getTime()-w;m.forEach(B,function(z){if(z!==v.geohash&&(z=this.getCell(z))){var C=this._calculateDistance(v.centroid,z.centroid);C<=this.tolerance&&x.push({cell:z,distance:C})}},this)}return this._mergeCells(x,g)}},_calculateDistance:function(v,g){return c.getLength(k.geographicToWebMercator(v),k.geographicToWebMercator(g))},_mergeCells:function(v,g){var q=
this._initializeCluster({},v[0].cell.geohash);m.forEach(v,function(x){var w=x.cell,B=w.geohash;x=x.distance;var z=g[B];if(z)if(x<z.distance)this._removeCellFromCluster(B,g);else return;g[B]={cluster:q,distance:x};this._updateItem(q,w.count,w.centroid);q.geohashes.push(B)},this);return q},_removeCellFromCluster:function(v,g){var q=g[v].cluster;delete g[v];v=m.indexOf(q.geohashes,v);-1<v&&q.geohashes.splice(v,1);this._reevaluateCluster(q)},_reevaluateCluster:function(v){var g=v.geohashes;v=this._initializeCluster(v,
v.primary);m.forEach(g,function(q){var x=this.getCell(q);x&&(this._updateItem(v,x.count,x.centroid),v.geohashes.push(q))},this)},_initializeCluster:function(v,g){v.count=0;v.centroid=new n(null,null);v.geohashes=[];v.primary=g;v.statistics=null;return v},_applyStatInfos:function(v){v=this._getValidStatInfos(v);this._applyStatInfosToIndex(v);this._applyStatInfosToClusters(v)},_getValidStatInfos:function(v){var g=[];m.forEach(v,function(q){var x=q.attributeInfo;q=q.statisticType;var w="angle"===x.attributeType;
if(u.isSupportedStatisticType(q)&&(!w||"avg"===q)){var B="arithmetic"===x.rotationType;g.push({attributeCache:f.createAttributeCache(x,"type"===q),identifier:u.getStatisticId(x,q),statFunctions:u.getStatisticFunctions(q),isAngular:w,isDate:"date"===x.attributeType,isArithmetic:B})}});return g},_applyStatInfosToIndex:function(v){v=v||this._getValidStatInfos(this.statisticInfos);var g=this._cellIndex;if(g)for(var q=1;q<=this._maxGeohashLength;q++){var x=g[q],w;for(w in x)this._applyStatInfosToCell(x[w],
v)}},_applyStatInfosToCell:function(v,g){var q=this._initializeStats(v,g);m.forEach(v.features,function(x){this._calcFeatureStats(x,g,q)},this);this._summarizeStats(v,q,g)},_calcFeatureStats:function(v,g,q){v.attributes&&m.forEach(g,function(x){var w=q[x.identifier],B=x.attributeCache;B=B?v._getDataValue(B.attributeInfo,B,b):null;x.statFunctions.updateCellStat(w,B,x)})},_applyStatInfosToClusters:function(v){v=v||this._getValidStatInfos(this.statisticInfos);var g=this._clusterFieldPrefix;m.forEach(this.clusters,
function(q){var x=this._initializeStats(q,v);m.forEach(this.getCellsInCluster(q),function(w){this._calcCellStats(w,v,x)},this);this._summarizeStats(q,x,v,g);q.attributes[g+"id"]=q.primary},this)},_calcCellStats:function(v,g,q){var x=v.statistics;m.forEach(g,function(w){var B=w.identifier;w.statFunctions.updateClusterStat(q[B],x[B],w)})},_initializeStats:function(v,g){var q=v.statistics={};m.forEach(g,function(x){q[x.identifier]=x.statFunctions.initialize(x)});return q},_summarizeStats:function(v,
g,q,x){var w=v.attributes={};x=x||"";w[x+"count"]=v.count;m.forEach(q,function(B){var z=this._getStatFieldName(B,x);w[z]=B.statFunctions.summarize(g[B.identifier],B)},this)},_getStatFieldName:function(v,g){return(g||"")+v.identifier},_updateItem:function(v,g,q,x){var w=q.y,B=v.centroid,z=v.count;B.x=(z*B.x+g*q.x)/(z+g);B.y=(z*B.y+g*w)/(z+g);v.count+=g;x&&this._updateExtent(v.extent,q)},_updateExtent:function(v,g){var q=g.x;g=g.y;q<v.xmin&&(v.xmin=q);q>v.xmax&&(v.xmax=q);g<v.ymin&&(v.ymin=g);g>v.ymax&&
(v.ymax=g)},_getTime:function(){return window.performance?window.performance.now():(new Date).getTime()},_getElapsedTime:function(v,g){v=null!=v&&null!=g?g-v:v;if(null!=v){var q="millisecond";1E3<=v&&(v/=1E3,q="second",60<=v&&(v/=60,q="minute"));q={value:Number(v.toFixed(2)),unit:q}}return q}});G("extend-esri")&&a.setObject("layers.clustering.GeohashAggregation",A,p);return A})},"esri/core/timerUtils":function(){define([],function(){function G(t){var n,h=t.length;for(n=0;n<h;n++)t[n]()}var A={LOW:1,
HIGH:2},a,m={};m[A.LOW]=[];m[A.HIGH]=[];var p=function(){clearTimeout(a);a=null;var t=m[A.HIGH];m[A.HIGH]=[];G(t);t=m[A.LOW];m[A.LOW]=[];G(t)};return{priority:A,callbackQueue:m,setTimeout:function(t,n){t=[n,m[n].push(t)-1];a||(a=setTimeout(p,0));return t},clearTimeout:function(t){t&&m[t[0]].splice(t[1],1)}}})},"esri/layers/clustering/geohashUtils":function(){define("dojo/has dojo/string dojo/_base/lang dojo/_base/array ../../kernel ../../geometry/Point ../../geometry/Extent ../../SpatialReference ../../geometry/webMercatorUtils".split(" "),
function(G,A,a,m,p,t,n,h,c){function b(K){var L=K.spatialReference;if(!L)return{x:K.x,y:K.y};var O=L.isWebMercator(),U;4326===L.wkid?U={x:K.x,y:K.y}:O&&(U={x:K.getLongitude(),y:K.getLatitude()});return U}function e(K){var L=K.spatialReference,O=!(!L||!L.isWebMercator()),U;L&&4326===L.wkid?U=new n(K.toJson()):O&&(U=c.webMercatorToGeographic(K,!0));return U}function f(K,L){L.x=t.prototype._normalizeX(K.x,h.prototype._info[4326]);L.y=K.y;return L}function k(K){K=I.decimals[K].toString(2);return A.pad(K,
I.bitsPerBase32Char,"0")}function u(K,L){L=L.slice();L.splice(1,0,0);for(var O=L[0],U=L[2],S=0;S<K.length;S++){Number(K[S])?L[0]=L[1]:L[2]=L[1];var M=L[1]=(L[0]+L[2])/2;O=L[0];U=L[2]}return{value:M,min:O,max:U}}function v(K,L,O){var U=[];L=L.slice();L.splice(1,0,0);for(var S=L[0],M=L[2],N=0;N<O;N++)K>=L[1]?(L[0]=L[1],S=1):(L[2]=L[1],S=0),L[1]=(L[0]+L[2])/2,U.push(S),S=L[0],M=L[2];return{value:U.join(""),min:S,max:M}}function g(K){var L=K*I.bitsPerBase32Char;0===L%2?K=L/=2:(K=(L+1)/2,L-=K);return{lon:K,
lat:L}}function q(K){var L=0;K=K.split("").reverse().join("");for(var O=0;O<K.length;O++)L+=Number(K[O])*Math.pow(2,O);return I.base32[L]}function x(K,L){var O={x:K.xmin,y:K.ymax},U={x:K.xmax,y:K.ymin},S={x:K.xmax,y:K.ymax};return{sw:J.pointToGeohash({x:K.xmin,y:K.ymin},L),nw:J.pointToGeohash(O,L),se:J.pointToGeohash(U,L),ne:J.pointToGeohash(S,L)}}function w(K,L,O,U,S){var M=K;do S[M]||(S[M]=!0,U.push(M)),(K=M===L)||(M=E(M,O));while(!K)}function B(K,L,O,U){var S=x(K,L);K=[];w(S.sw,S.nw,"n",K,{});
L=[];w(S.se,S.ne,"n",L,{});for(S=0;S<K.length;S++)w(K[S],L[S],"e",O,U)}function z(K){return m.filter(K,function(L){return 180===L.xmax?!0:!1})[0]}function C(K){return m.filter(K,function(L){return-180===L.xmin?!0:!1})[0]}function y(K,L,O,U){var S=J.geographicToWebMercator(K);K={x:S.x-L,y:S.y-L};L=J.webMercatorToGeographic({x:S.x+L,y:S.y+L},!0);K=J.webMercatorToGeographic(K,!0);return new n(null!=O?O:K.x,K.y,null!=U?U:L.x,L.y)}function D(K,L,O,U){K=x(K,L);var S,M;"min"===U?M=180:"max"===U&&(S=-180);
var N=S;U=M;var T=J.geohashToCell(K.sw).extent;L=J.geohashToCell(K.ne).extent;K=null!=N?N:T.xmin;T=T.ymin;U=null!=U?U:L.xmax;L=L.ymax;K=y({x:K,y:T},O,S,M);O=y({x:U,y:L},O,S,M);return new n(K.xmin,K.ymin,O.xmax,O.ymax)}function F(K,L,O){var U=K,S=0;do S++,(K=U===L)||(U=E(U,O));while(!K);return S}function H(K,L){K=x(K,L);L=F(K.nw,K.ne,"e");return{rows:F(K.nw,K.sw,"s"),cols:L}}function E(K,L){var O=K.length%2,U=K.slice(-1),S=I.decimals[U];K=K.slice(0,-1);-1!=I.borders[L][O].indexOf(U)&&K&&(K=E(K,L));
return K+I.neighbors[L][O][S]}var I={base32:"0123456789bcdefghjkmnpqrstuvwxyz",decimals:function(){for(var K={},L=0;32>L;L++)K["0123456789bcdefghjkmnpqrstuvwxyz"[L]]=L;return K}(),neighbors:{n:[null,"238967debc01fg45kmstqrwxuvhjyznp"],s:[null,"bc01fg45238967deuvhjyznpkmstqrwx"],e:[null,"14365h7k9dcfesgujnmqp0r2twvyx8zb"],w:[null,"p0r21436x8zb9dcf5h7kjnmqesgutwvy"]},borders:{n:[null,"bcfguvyz"],s:[null,"0145hjnp"],e:[null,"prxz"],w:[null,"028b"]},bitsPerBase32Char:5,maxGeohashLength:12,longitudeRange:[-180,
180],latitudeRange:[-90,90]};I.neighbors.n[0]="14365h7k9dcfesgujnmqp0r2twvyx8zb";I.neighbors.s[0]="p0r21436x8zb9dcf5h7kjnmqesgutwvy";I.neighbors.e[0]="238967debc01fg45kmstqrwxuvhjyznp";I.neighbors.w[0]="bc01fg45238967deuvhjyznpkmstqrwx";I.borders.n[0]="prxz";I.borders.s[0]="028b";I.borders.e[0]="bcfguvyz";I.borders.w[0]="0145hjnp";var J={geographicToWebMercator:function(K){K=t.lngLatToXY(K.x,K.y);return{x:K[0],y:K[1]}},webMercatorToGeographic:function(K,L){K=t.xyToLngLat(K.x,K.y,L);return{x:K[0],
y:K[1]}},geohashToCell:function(K){var L;var O=[];for(L=0;L<K.length;L++)O.push(k(K[L]));O=O.join("");L=[];for(var U=[],S=0;S<O.length;S++)0===S%2?L.push(O[S]):U.push(O[S]);L=L.join("");U=U.join("");L=[L,U];O=u(L[0],I.longitudeRange);U=u(L[1],I.latitudeRange);L=O.value;return{point:{x:L,y:U.value},extent:{xmin:O.min,xmax:O.max,ymin:U.min,ymax:U.max},geohash:K}},pointToCell:function(K,L){L=L||I.maxGeohashLength;if(K=b(K)){K=f(K,K);var O=g(L);L=v(K.x,I.longitudeRange,O.lon);var U=v(K.y,I.latitudeRange,
O.lat);O=L.value;var S=U.value;L={xmin:L.min,xmax:L.max,ymin:U.min,ymax:U.max};U=[];for(var M=Math.ceil((O.length+S.length)/I.bitsPerBase32Char),N=0,T=0,V=0;V<M*I.bitsPerBase32Char;V++){var ea=0===V%2?O[N++]:S[T++];null==ea&&(ea=0);U.push(ea)}O=U.join("");S=I.bitsPerBase32Char;U=O.length/S;M=[];for(N=0;N<U;N++)T=O.substr(N*S,S),M.push(q(T));O=M.join("");return{point:K,extent:L,geohash:O}}},geohashToPoint:function(K){return J.geohashToCell(K).point},pointToGeohash:function(K,L){return(K=J.pointToCell(K,
L))&&K.geohash},getCells:function(K){return m.map(K,function(L){return J.geohashToCell(L)})},getCellSize:function(K){var L=I.longitudeRange,O=I.latitudeRange;L=Math.abs(L[1]-L[0]);O=Math.abs(O[1]-O[0]);K=g(K||1);return{width:L/Math.pow(2,K.lon),height:O/Math.pow(2,K.lat)}},getCellSizeInMeters:function(K){K=J.getCellSize(K);var L=c.metersPerDegree;K.width*=L;K.height*=L;return K},getIntersecting:function(K,L,O){L=L||1;O=O||0;var U=[],S=e(K);if(S){O&&(S=J.expandExtent(K,L,O));K=S.normalize();var M=
{};m.forEach(K,function(N){B(N,L,U,M)})}return U},countIntersecting:function(K,L,O){L=L||1;O=O||0;var U=0,S=e(K);if(S){O&&(S=J.expandExtent(K,L,O));K=S.normalize();if(2===K.length){U=z(K);S=C(K);O=H(U,L);var M=H(S,L);K=O.rows;O=O.cols+M.cols;U={x:U.xmin,y:U.ymax};S={x:S.xmax,y:S.ymax};U=f(U,{});S=f(S,{});U=J.pointToGeohash(U,L);L=J.pointToGeohash(S,L);U===L&&O--;L={rows:K,cols:O}}else L=H(K[0],L);U=L.cols*L.rows}return U},getChildren:function(K){K=K||"";var L=[],O;for(O in I.decimals)L.push(K+O);
return L},getNeighbors:function(K){var L=E(K,"n"),O=E(K,"s");return[L,E(L,"e"),E(L,"w"),O,E(O,"e"),E(O,"w"),E(K,"e"),E(K,"w")]},getExtentFromDistance:function(K,L){L=L||1E3;var O;(K=b(K))&&(O=y(K,L));return O},expandExtent:function(K,L,O){L=L||1;O=O||0;if(K=e(K)){if(O){K=K.normalize();if(2===K.length){var U=O;O=z(K);K=C(K);O=D(O,L,U,"min");K=D(K,L,U,"max");360<=O.getWidth()+K.getWidth()?(L=-180,K=180):(L=O.xmin,K=K.xmax);return new n(L,O.ymin,K,O.ymax)}return D(K[0],L,O)}return K}},getNeighborsWithinDistance:function(K,
L,O){O=O||1E3;L=L||1;var U=[];if(K=b(K)){O=y(K,O).normalize();var S={};m.forEach(O,function(M){B(M,L,U,S)})}return U}};G("extend-esri")&&a.setObject("layers.clustering.geohashUtils",J,p);return J})},"esri/layers/clustering/statUtils":function(){define(["dojo/_base/lang","../support/attributeUtils"],function(G,A){function a(t){return"number"===typeof t&&!isNaN(t)&&Infinity!==t&&-Infinity!==t}var m={sum:{initialize:function(){return{count:0,sum:null}},updateCellStat:function(t,n){a(n)&&(t.count++,t.sum+=
n)},updateClusterStat:function(t,n){n.count&&(t.count+=n.count,t.sum+=n.sum)},summarize:function(t){return t.sum}},avg:{initialize:function(t){return{count:0,sum:null,avg:null,sum_cosine:null,sum_sine:null}},updateCellStat:function(t,n,h){a(n)&&(t.count++,h.isAngular?(h.isArithmetic||(n=-1*n+90),t.sum_cosine+=Math.cos(n*Math.PI/180),t.sum_sine+=Math.sin(n*Math.PI/180)):t.sum+=n)},updateClusterStat:function(t,n,h){n.count&&(t.count+=n.count,h.isAngular?(t.sum_cosine+=n.sum_cosine,t.sum_sine+=n.sum_sine):
t.sum+=n.sum)},summarize:function(t,n){if(0<t.count){var h=t.count;n.isAngular?(h=180*Math.atan2(t.sum_sine/h,t.sum_cosine/h)/Math.PI,n.isArithmetic||(h=-1*(h-90)),t.avg=0>h?h+360:h):(t.avg=t.sum/h,n.isDate&&(t.avg=Math.ceil(t.avg)))}return t.avg}},type:{initialize:function(){return{uvInfos:{}}},updateCellStat:function(t,n){if(null==n||""===n||"string"===typeof n&&""===G.trim(n))n=null;t=t.uvInfos;null==t[n]?t[n]={count:1,value:n}:t[n].count++},updateClusterStat:function(t,n){t=t.uvInfos;n=n.uvInfos;
for(var h in n){var c=n[h];null==t[h]?t[h]={count:c.count,value:c.value}:t[h].count+=c.count}},summarize:function(t){t=t.uvInfos;var n,h=-Infinity;for(n in t){var c=t[n];if(c.count>h){h=c.count;var b=c.value}else c.count===h&&(b=null)}return b}}},p={isSupportedStatisticType:function(t){return m.hasOwnProperty(t)},getStatisticFunctions:function(t){return m[t]},getStatisticId:function(t,n){var h=A.getAttributeIdSource(t);t=h&&A.getAttributeId(h)||t.field;return n+"_"+t},getClusterField:function(t,n){return"cluster_"+
p.getStatisticId(t,n)},getStatisticHash:function(t,n){n=[p.getStatisticId(t,n)];t.attributeType&&n.push(t.attributeType.toLowerCase());t.rotationType&&n.push(t.rotationType.toLowerCase());return n.join("_")}};return p})},"arcgis3d/layers/SceneServiceLayer":function(){define("dojo/_base/declare dojo/on ./_Layer ./Canvas3DSceneRenderer esri/SpatialReference esri/geometry/Point esri/geometry/Extent esri/request".split(" "),function(G,A,a,m,p,t,n,h){return G([a],{constructor:function(c,b){this.url=c;
this.fullExtent=void 0;if(b&&b.name)this.name=b.name;else{c=[/.*\/([^\/]+)\/SceneServer\/.*/,/\/([^\/]*)[\/]$/];for(var e=0;e<c.length;e++){var f=this.url.match(c[e]);if(f){this.name=f[1];break}}}this.id=b&&b.id||this.name+"_sceneServiceLayer";this.loaded=!1;b&&"undefined"!==typeof b.dbg&&(this.dbg=b.dbg);this._initLayer()},_initLayer:function(){var c=this.url+(this.url.endsWith("/")?"":"/")+"nodes/0";h({url:c,handleAs:"json"}).then(function(b){var e=new p(3857),f=new t(0,0,e);f.setLongitude(b.mbs[0]);
f.setLatitude(b.mbs[1]);var k=b.mbs[3];b=f.offset(-k,-k);f=f.offset(k,k);this.fullExtent=new n(b.x,b.y,f.x,f.y,e);this.loaded=!0;this.emit("load",{layer:this})}.bind(this),function(b){})},_setMap:function(){this.inherited(arguments);this._map=map;return this.renderer=new m(this)},_unsetMap:function(){this.inherited(arguments);this.renderer=this._map=null}})})},"arcgis3d/layers/Canvas3DSceneRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojox/color/_base engine/Stage engine/lib/Layer engine/lib/Util engine/materials/Material ./_Layer arcgis3d/utils/ResourceController arcgis3d/layers/dataloader/lib/PromiseLightweight arcgis3d/layers/dataloader/I3SNodeLoader arcgis3d/layers/dataloader/I3SIndexLoader arcgis3d/layers/dataloader/lib/I3SUtil".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v){var g=mat4d.create([1,0,0,0,0,0,-1,0,0,1,0,0,0,0,0,1]),q=t.ModelContentType,x=[.8,.8,.8],w=[.5,.5,.5],B={},z=function(C,y,D,F){for(var H=[],E=0;8>E;++E)H[E]=vec4d.create();matrix2frustumPlanes(y.viewMatrix,y.projectionMatrix,H);var I=vec4d.create(),J={wkid:4326};this.coordinateSystemHelper=C;this.isNodeVisible=function(L){if(F){for(var O=!1,U=0;U<F.length&&!O;U++)0===F[U].indexOf(L.id.toString())&&(O=!0);if(!O)return!1}C.toEnginePosition(L.mbs,J,I);I[3]=L.mbs[3];
return K(I)};var K=function(L){var O=L[0],U=L[1],S=L[2];L=L[3];if(H[0][0]*O+H[0][1]*U+H[0][2]*S+H[0][3]>L||H[1][0]*O+H[1][1]*U+H[1][2]*S+H[1][3]>L||H[2][0]*O+H[2][1]*U+H[2][2]*S+H[2][3]>L||H[3][0]*O+H[3][1]*U+H[3][2]*S+H[3][3]>L)return!1;O=H[4][0]*O+H[4][1]*U+H[4][2]*S+H[4][3];return O<L&&-O-L<D};this.isMBSVisible=K;this.isBelowLOD=function(L){return!1}};return G(null,{constructor:function(C){this.type="canvas-3d";this.layer=C;this.viewport;this.updating=!1;this.visible=!0;this.opacity=1;this.loaded=
!1;this.cameraEventSignals=Array(2);this.camMoveTime=0;this.cameraMoved=this.cameraMoving=!1;this.maxDistance=7E3;this.dbg=!0;this.url=C.url;"/"!==this.url.charAt(this.url.length-1)&&(this.url+="/");this.id=C.id;this._nodeLoader=this._streamDataSupplier=void 0;this._nodeIndex={};this._matId2Meta={};this._texId2Meta={};this._requestedTexImageIds={};this.updatesDisabled=this.debugLODVis=this.debugNodeVis=!1},setViewport:function(C){this.viewport=C;this._streamDataSupplier=C.resourceController.registerClient(this.layer,
e.ClientType.SCENE);this._stage=C._stage;this._addThisLayerToStage();this.setVisibility(this.layer.visible)},unsetViewport:function(C){this._removeThisLayerFromStage();this.viewport=null;this.destroy()},then:function(C){},otherwise:function(C){},destroy:function(){this.layer=this._stage=null},setVisibility:function(C){if(this._stage){var y=this._stage.getViewContent();C&&0<=y.indexOf(this.id)||!C&&-1==y.indexOf(this.id)||(y=[this.id],this._nodeDebugVisualizer&&y.push(this._nodeDebugVisualizer.engineLayer.getId()),
C?this._stage.addToViewContent(y):this._stage.removeFromViewContent(y))}},setRemoveEnabled:function(C){this.removeEnabled=C},getEngineLayer:function(){return this._engineLayer},setNodeFilter:function(C){this._nodeFilter=C;this.cameraMoved=!0},getStats:function(){var C={nodesInIndex:0,knownFeatures:0,displayedFeatures:0,displayedGeometries:0,displayedComponents:0,geometryDataSize:0},y;for(y in this._nodeIndex){C.nodesInIndex++;var D=this._nodeIndex[y];if(D.features)for(var F=0;F<D.features.length;F++){var H=
D.features[F];C.knownFeatures++;if(H.engineObject){C.displayedFeatures++;H=H.engineObject.getGeometryRecords();C.displayedGeometries+=H.length;for(var E=0;E<H.length;E++){var I=H[E].geometry.getData(),J=I.getFaces();C.displayedComponents+=J.length;for(var K=0;K<J.length;K++){var L=J[K].indices,O;for(O in L)C.geometryDataSize+=L[O].byteLength}I=I.getVertexAttr();for(O in I)C.geometryDataSize+=I[O].data.byteLength}}}}C.activeMaterials=Object.keys(this._matId2Meta).length;return C},animFrameFunctionQueue:[[],
[]],animFrameBudget:0,_queueAnimationFrameFunctionCall:function(C,y,D,F,H){0<this.animFrameBudget?(F=window.performance.now(),C.apply(y,D),C=window.performance.now(),this.animFrameBudget-=C-F):this.animFrameFunctionQueue[H||0].push({fct:C,that:y,args:D,cancelFunc:F})},_addThisLayerToStage:function(){var C=this._stage;this._initTexture=new Texture(null,"i3sInitTexture");C.add(q.TEXTURE,this._initTexture);this.cameraEventSignals[0]=m(this.viewport,"cameraChangeStart",function(){this.camMoveTime=window.performance.now();
this.cameraMoving=this.cameraMoved=!0}.bind(this));this.cameraEventSignals[1]=m(this.viewport,"cameraChangeEnd",function(){this.cameraMoving=!1}.bind(this));var y=new Layer(this.id,{},this.id);this._engineLayer=y;this.id=this._engineLayer.getId();C.add(q.LAYER,y);this._nodeDebugVisualizer&&this._nodeDebugVisualizer.dispose();this._nodeDebugVisualizer=v.makeNodeDebugVisualizer(C,this.viewport.coordinateSystemHelper,this.id);this.animationFrameListener={animFrame:this._animationFrameHandler.bind(this)};
C.addAnimationFrameListener(this.animationFrameListener)},_removeThisLayerFromStage:function(){this._cancelNodeLoading();if(void 0!==this._engineLayer){this.cameraEventSignals[0].remove();this.cameraEventSignals[1].remove();var C=this._stage;C.remove(q.TEXTURE,this._initTexture.getId());for(var y in this._nodeIndex)this._removeNodeDataFromStage(this._nodeIndex[y],!1),delete this._nodeIndex[y];assert(objectEmpty(this._matId2Meta));assert(objectEmpty(this._texId2Meta));C.removeAnimationFrameListener(this.animationFrameListener);
C.remove(q.LAYER,this._engineLayer.getId());this._nodeDebugVisualizer&&this._nodeDebugVisualizer.dispose();this._nodeDebugVisualizer=void 0;this._updateCacheUsed();if(void 0!==this.currentDocs)for(var D in this.currentDocs)this._streamDataSupplier.unuse(D);this.viewport.resourceController.deregisterClient(this.layer);this._matId2Meta={};this._texId2Meta={};this._nodeIndex={};this._requestedTexImageIds={};B={};this._engineLayer=void 0;this.oldUsedDocs={};this.currentDocs={}}},_startNodeLoading:function(){var C=
this._stage.getViewParams({eye:!0,center:!0,viewMatrix:!0,projectionMatrix:!0,fovX:!0,viewport:!0},!0);this._camPos=C.eye;this._screenSizeFactor=(C.viewport[2]-C.viewport[0])/Math.tan(C.fovX/2);var y=vec3d.create(),D=vec3d.create();vec3d.subtract(C.center,C.eye,D);vec3d.normalize(D);D=Math.acos(vec3d.dot(C.center,D)/vec3d.length(C.center))-.5*Math.PI;vec3.lerp(C.eye,C.center,clamp(D/(.5*Math.PI),0,1),y);this._updateAllTextureLOD();this._updateCacheUsed();this._nodeLoader=new k(!0,this._streamDataSupplier,
this._addNodeDataToStage.bind(this),this._nodeIndex,B,this.url,this._nodeDebugVisualizer,this._queueAnimationFrameFunctionCall.bind(this));this._viewportQueries=new z(this.viewport.coordinateSystemHelper,C,this.maxDistance,this._nodeFilter);this._removeInvisibleNodes();this._indexLoadingThreads=1;this._indexLoader=new u(this.url,y,this._nodeIndex,this._streamDataSupplier,this._viewportQueries,this._processNode.bind(this),this._nodeDebugVisualizer);this._indexLoader.start().then(function(){for(;2>
this._indexLoadingThreads;)this._indexLoadingThreads++,this._queueAnimationFrameFunctionCall(this._indexLoader.traverseNext,this._indexLoader)}.bind(this))},_cancelNodeLoading:function(){this._nodeDebugVisualizer&&this._nodeDebugVisualizer.clear();this._indexLoader&&(this._indexLoader.cancel(),this._indexLoadingThreads=0);void 0!==this._nodeLoader&&(this._nodeLoader.cancel(),this.currentDocs=this._nodeLoader.getUsedDocs(),this._streamDataSupplier.cancelRequestsBulk(this.currentDocs),this._nodeLoader=
void 0,this._requestedTexImageIds={});for(var C=0;C<this.animFrameFunctionQueue.length;C++)for(var y=0;y<this.animFrameFunctionQueue[C].length;y++)void 0!==this.animFrameFunctionQueue[C][y].cancelFunc&&this.animFrameFunctionQueue[C][y].cancelFunc();this.animFrameFunctionQueue=[[],[]]},_animationFrameHandler:function(){if(!this.updatesDisabled){this.externalCallback&&setTimeout(function(D){this.externalCallback(this.animFrameFunctionQueue.length)}.bind(this),0);var C=window.performance.now();this.cameraMoved&&
(this._cancelNodeLoading(),!this.cameraMoving&&300<C-this.camMoveTime&&(this.cameraMoved=!1,this._startNodeLoading()));for(this.animFrameBudget=30;0<this.animFrameFunctionQueue[0].length&&0<this.animFrameBudget;){var y=this.animFrameFunctionQueue[0].shift();C=window.performance.now();y.fct.apply(y.that,y.args);y=window.performance.now();this.animFrameBudget-=y-C}for(;0<this.animFrameFunctionQueue[1].length&&0<this.animFrameBudget;)y=this.animFrameFunctionQueue[1].shift(),C=window.performance.now(),
y.fct.apply(y.that,y.args),y=window.performance.now(),this.animFrameBudget-=y-C}},_updateCacheUsed:function(){if(void 0!==this.oldUsedDocs&&void 0!==this.currentDocs)for(var C in this.oldUsedDocs)void 0===this.currentDocs[C]&&this._streamDataSupplier.unuse(C);this.oldUsedDocs=this.currentDocs},_processNode:function(C){if(C.features&&0<C.features.length)if(void 0===C.allFeaturesLoaded&&(C.allFeaturesLoaded=!1),C.allFeaturesLoaded)this.debugNodeVis&&this._nodeDebugVisualizer.show(C,"grey");else{this.debugNodeVis&&
this._nodeDebugVisualizer.show(C,"yellow");var y=new f.Promise;y.then(function(){this._indexLoader.traverseNext()},void 0,this);this._queueAnimationFrameFunctionCall(this._nodeLoader.loadNodeData,this._nodeLoader,[C,y]);return!1}else this.debugNodeVis&&this._nodeDebugVisualizer.show(C,"blue");return!0},_addNodeDataToStage:function(C,y,D){assert(0<C.features.length);this.debugNodeVis&&this._nodeDebugVisualizer.show(C,"green");var F=this._stage,H=this.viewport.coordinateSystemHelper,E=this.layer._map.spatialReference,
I={};I[q.OBJECT]={};I[q.GEOMETRY]={};I[q.MATERIAL]={};I[q.TEXTURE]={};var J=this._engineLayer,K=J.getId(),L=mat4d.create();vec3d.create();for(var O=y[C.sharedResource.hrefConcat],U=this._viewportQueries.isMBSVisible,S=this.viewport.coordinateSystemHelper,M=0;M<C.features.length;++M){var N=C.features[M];if(!N.engineMBS){var T=vec4d.create();S.toEnginePosition(N.mbs,E,T);T[3]=N.mbs[3];N.engineMBS=T}if(!N.engineObject&&U(N.engineMBS)){var V=N.block,ea=y[C.featureData[V].hrefConcat].featureData;T=void 0;
for(var P=0;P<ea.length;P++)if(ea[P].id===N.id){T=ea[P];break}assert(T,"I3S: unable to find feature data in specified block");var ba=y[C.geometryData[V].hrefConcat];assert(ba instanceof ArrayBuffer,"I3S: geometry data is not an ArrayBuffer");var la=T.geometries;V=[];ea=[];P=[];mat4.identity(L);H.toEngineTransformation(C.mbs,E,L);for(var Q=0;Q<la.length;++Q){var Y=la[Q],ja=Y.params.faces,pa=Y.params.vertexAttributes,ka=ja.position.componentIndices,va=Y.params.components.length,Aa={},da;for(da in pa)if("classification"!==
da){var ca=pa[da];assert("Float32"===ca.valueType||"Float64"===ca.valueType);Aa[da]={data:new ("Float32"===ca.valueType?Float32Array:Float64Array)(ba,ca.byteOffset,ca.count*ca.valuesPerElement),size:ca.valuesPerElement,axisOrder:void 0}}assert(Aa.normal);ca=Array(va);pa=Array(va);var ma={};for(da in ja){var qa=ja[da];assert(0===qa.count%3);assert(qa.count===ja.position.count);assert("UInt32"===qa.valueType);ma[da]=qa.byteOffset}for(qa=0;qa<va;qa++){var ta=Y.params.components[qa],Ca=qa<va-1?ka[qa+
1]-ka[qa]:ja.position.count-ka[qa],ha={type:"triangle",positionKey:"position",indices:{},texCoordW:ta.regionID};for(da in ja)ha.indices[da]=new Uint32Array(ba,ma[da],Ca),ma[da]+=4*Ca;ca[qa]=ha;Ca=ta.materialID;var fa=O.materialDefinitions[Ca];void 0!==fa.href&&(fa=y[fa.hrefConcat].materialDefinitions[Ca]);assert(void 0!==fa,"geometry "+Q+" of featureData "+T.id+" wants unknown material "+Ca);fa=fa.params;ta=ta.textureID;ha=void 0;"0"!==ta&&(ha=O.textureDefinitions[ta],assert(void 0!==ha,"geometry "+
Q+" of featureData "+T.id+" wants unknown texture "+ta));var ra=void 0;if(this._matId2Meta[Ca]&&this._matId2Meta[Ca][ta])Ca=this._matId2Meta[Ca][ta],ra=Ca.engineMat,Ca.refCount++;else{var wa=ra=void 0;if(ha){assert(Aa.uv0);var Ga=this._texId2Meta[ta];ra=Ga&&Ga.engineTex?Ga.engineTex.getId():this._initTexture.getId();if(!0===ha.atlas){assert(0<ha.regions.length,"texture marked as atlas carries no region definition");wa=new Float32Array(4*ha.regions.length);for(var Na=0;Na<ha.regions.length;Na++){var Ra=
ha.regions[Na];assert(Ra.id===Na);for(var Sa=0;4>Sa;Sa++)wa[(Na<<2)+Sa]=Ra.subimageRegion[Sa]}}}Na=fallbackIfUndefined(fa.diffuse,x);fa={ambient:Na,diffuse:Na,specular:fallbackIfUndefined(fa.specular,w),shininess:fallbackIfUndefined(fa.shininess,64),opacity:1-clamp(fallbackIfUndefined(fa.transparency,0),0,1),atlasRegions:wa,textureId:ra};fa.transparent=1>fa.opacity;fa.inverseBackfaceCulling=!0;ra=new c(fa);ra.metadata={i3sMatId:Ca,i3sTexId:ta};fa=ra.getId();I[q.MATERIAL][fa]=ra;ha&&(Ga?Ga.usedByEngineMats.push(ra):
(Ga={id:ta,featureMBS:{},usedByEngineMats:[ra],images:ha.images,encoding:ha.encoding.substr(5),atlas:!0===ha.atlas},this._texId2Meta[ta]=Ga),Ga.featureMBS[T.id]=N.engineMBS,this._updateTextureLOD(Ga));this._matId2Meta[Ca]||(this._matId2Meta[Ca]={});this._matId2Meta[Ca][ta]={engineMat:ra,refCount:1}}pa[qa]=ra}ja=new Geometry(new GeometryData(ca,Aa),N.id.toString()+"_"+Q);Y=mat4d.create(Y.transformation);mat4d.multiply(g,Y,Y);V[Q]=ja;ea[Q]=Y;P[Q]=pa;I[q.GEOMETRY][ja.getId()]=ja}ba={attributes:{}};for(da=
0;da<T.attributes.length;da++)ba.attributes[T.attributes[da].name]=T.attributes[da].value;ba.i3sNode=C.id;ba.ceLayer=K;da=N.id;T=new Object3D(da,V,P,ea,!0,ba);T.setObjectTransformation(L);N.engineObject=T;I[q.OBJECT][T.getId()]=T}}F.beginMod();C=I[q.OBJECT];for(da in C)J.addObject(C[da]);for(var La in I)for(da in J=I[La],J)void 0===F.get(La,da)&&F.add(La,J[da]);F.endMod();D.done()},_removeInvisibleNodes:function(){var C=this._viewportQueries.isNodeVisible,y;for(y in this._nodeIndex){var D=this._nodeIndex[y];
C(D)||(this._removeNodeDataFromStage(D,!1),delete this._nodeIndex[y])}},_removeNodeDataFromStage:function(C,y){if(C.features)for(var D=this._stage,F=this._engineLayer,H=this._viewportQueries.isMBSVisible,E=0;E<C.features.length;++E){var I=C.features[E],J=I.engineObject;if(J&&(!y||!H(I.engineMBS))){F.removeObject(J);for(var K=J.getGeometryRecords(),L=0;L<K.length;L++){D.remove(q.GEOMETRY,K[L].geometry.getId());for(var O=0;O<K[L].materials.length;O++){var U=K[L].materials[O],S=U.getId(),M=U.metadata.i3sMatId,
N=U.metadata.i3sTexId,T=this._matId2Meta[M][N];assert(0<T.refCount);T.refCount--;0===T.refCount&&(D.remove(q.MATERIAL,S),"0"!==N&&(S=this._texId2Meta[N],T=S.usedByEngineMats,U=T.indexOf(U),assert(-1<U),T[U]=T[T.length-1],T.pop(),1>T.length&&(S.engineTex&&S.engineTex!==this._initTexture&&D.remove(q.TEXTURE,S.engineTex.getId()),S.engineTex=void 0,S.desiredLOD=-1,S.curLOD=-1,delete this._texId2Meta[N])),delete this._matId2Meta[M][N],objectEmpty(this._matId2Meta[M])&&delete this._matId2Meta[M])}}D.remove(q.OBJECT,
J.getId());I.engineObject=void 0}}},_updateAllTextureLOD:function(){for(var C in this._texId2Meta)this._updateTextureLOD(this._texId2Meta[C])},_updateTextureLOD:function(C){var y=0;for(F in C.featureMBS){var D=C.featureMBS[F];D=2*D[3]/vec3.dist(D,this._camPos)*this._screenSizeFactor;D>y&&(y=D)}y/=3;var F=C.images.length;for(D=F-1;0<D&&C.images[D].size<y;)D--;C.desiredLOD=D;if(C.curLOD!==C.desiredLOD&&(0>C.curLOD||!C.curLOD||0===C.desiredLOD||C.desiredLOD>C.curLOD||C.desiredLOD<C.curLOD-1))if(y=C.images[D],
D=y.hrefConcat,this._streamDataSupplier.has(D))F=this._streamDataSupplier.use(D),this._queueAnimationFrameFunctionCall(this._extractTextureImageFromBlob,this,[D,F,"binary",{texMeta:C,image:y}],void 0,1);else{var H=C.images[F-1],E=H.hrefConcat;this._streamDataSupplier.has(E)?(F=this._streamDataSupplier.use(E),this._queueAnimationFrameFunctionCall(this._extractTextureImageFromBlob,this,[E,F,"binary",{texMeta:C,image:H}],void 0,1)):(y=H,D=E);this._requestedTexImageIds[y.id]||(this._streamDataSupplier.request(D,
"binary",{metadata:{texMeta:C,image:y}}).then(this._extractTextureImageFromBlob,null,this),this._requestedTexImageIds[y.id]=!0)}C.engineTex||(C.engineTex=this._initTexture,C.curLOD=-1);if(this.debugLODVis)for(F=dojox.color.fromHsv(C.desiredLOD/C.images.length*270,100,100),F=F.toRgb(),F=F.map(function(I){return I/255}),y=0;y<C.usedByEngineMats.length;y++)C.usedByEngineMats[y].setParameterValues({ambient:F,diffuse:F})},_extractTextureImageFromBlob:function(C,y,D,F){var H=F.texMeta;if(!(0>H.desiredLOD||
F.image.size>H.images[H.desiredLOD].size)){this._streamDataSupplier.isInUse(C)&&this._streamDataSupplier.unuse(C);var E=this;assert("binary"===D);y=new Uint8Array(y,F.image.byteOffset,F.image.count);H=new Blob([y],{type:H.encoding});var I=window.URL.createObjectURL(H),J=new Image;J.src=I;J.onerror=function(){window.URL.revokeObjectURL(I);J.url="";J.onerror=void 0;J.onload=void 0};J.onload=function(){E._queueAnimationFrameFunctionCall(E._textureImageLoaded,E,[C,J,F.image,F.texMeta,I],void 0,1);window.URL.revokeObjectURL(I);
J.url="";J.onerror=void 0;J.onload=void 0}}},_textureImageLoaded:function(C,y,D,F,H){if(!(0>F.desiredLOD)){C=F.images[F.desiredLOD];H=F.images[F.curLOD];if(!H||D.size>H.size&&D.size<=C.size||D.size<H.size&&D.size>=C.size){F.engineTex&&F.engineTex!==this._initTexture&&this._stage.remove(q.TEXTURE,F.engineTex.getId());F.engineTex=new Texture(y,F.id,F.atlas?{mipmap:!1}:void 0);this._stage.add(q.TEXTURE,F.engineTex);y=F.engineTex.getId();for(H=0;H<F.usedByEngineMats.length;H++)F.usedByEngineMats[H].setParameterValues({textureId:y});
D===C?F.curLOD=F.desiredLOD:(F.curLOD=F.images.indexOf(D),assert(-1<F.curLOD),this._requestedTexImageIds[C.id]||(this._streamDataSupplier.request(C.hrefConcat,"binary",{metadata:{texMeta:F,image:C}}).then(this._extractTextureImageFromBlob,null,this),this._requestedTexImageIds[C.id]=!0))}delete this._requestedTexImageIds[D.id]}}})})},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(G,A,a,m){G=A.getObject("color",!0,G);G.Color=a;G.blend=a.blendColors;
G.fromRgb=a.fromRgb;G.fromHex=a.fromHex;G.fromArray=a.fromArray;G.fromString=a.fromString;G.greyscale=m.makeGrey;A.mixin(G,{fromCmy:function(p,t,n){A.isArray(p)?(t=p[1],n=p[2],p=p[0]):A.isObject(p)&&(t=p.m,n=p.y,p=p.c);return new a({r:Math.round(255*(1-p/100)),g:Math.round(255*(1-t/100)),b:Math.round(255*(1-n/100))})},fromCmyk:function(p,t,n,h){A.isArray(p)?(t=p[1],n=p[2],h=p[3],p=p[0]):A.isObject(p)&&(t=p.m,n=p.y,h=p.b,p=p.c);h/=100;return new a({r:Math.round(255*(1-Math.min(1,p/100*(1-h)+h))),g:Math.round(255*
(1-Math.min(1,t/100*(1-h)+h))),b:Math.round(255*(1-Math.min(1,n/100*(1-h)+h)))})},fromHsl:function(p,t,n){A.isArray(p)?(t=p[1],n=p[2],p=p[0]):A.isObject(p)&&(t=p.s,n=p.l,p=p.h);t/=100;for(n/=100;0>p;)p+=360;for(;360<=p;)p-=360;if(120>p){var h=(120-p)/60;var c=p/60;p=0}else 240>p?(h=0,c=(240-p)/60,p=(p-120)/60):(h=(p-240)/60,c=0,p=(360-p)/60);h=2*t*Math.min(h,1)+(1-t);c=2*t*Math.min(c,1)+(1-t);p=2*t*Math.min(p,1)+(1-t);.5>n?(h*=n,c*=n,p*=n):(h=(1-n)*h+2*n-1,c=(1-n)*c+2*n-1,p=(1-n)*p+2*n-1);return new a({r:Math.round(255*
h),g:Math.round(255*c),b:Math.round(255*p)})}});G.fromHsv=function(p,t,n){A.isArray(p)?(t=p[1],n=p[2],p=p[0]):A.isObject(p)&&(t=p.s,n=p.v,p=p.h);360==p&&(p=0);t/=100;n/=100;var h,c;if(0==t)var b=c=h=n;else{var e=p/60;p=Math.floor(e);var f=e-p;e=n*(1-t);var k=n*(1-t*f);t=n*(1-t*(1-f));switch(p){case 0:h=n;b=t;c=e;break;case 1:h=k;b=n;c=e;break;case 2:h=e;b=n;c=t;break;case 3:h=e;b=k;c=n;break;case 4:h=t;b=e;c=n;break;case 5:h=n,b=e,c=k}}return new a({r:Math.round(255*h),g:Math.round(255*b),b:Math.round(255*
c)})};A.extend(a,{toCmy:function(){return{c:Math.round(100*(1-this.r/255)),m:Math.round(100*(1-this.g/255)),y:Math.round(100*(1-this.b/255))}},toCmyk:function(){var p=this.r/255,t=this.g/255,n=this.b/255;var h=Math.min(1-p,1-t,1-n);return{c:Math.round((1-p-h)/(1-h)*100),m:Math.round((1-t-h)/(1-h)*100),y:Math.round((1-n-h)/(1-h)*100),b:Math.round(100*h)}},toHsl:function(){var p=this.r/255,t=this.g/255,n=this.b/255,h=Math.min(p,n,t),c=Math.max(p,t,n),b=c-h,e=0,f=0;h=(h+c)/2;0<h&&1>h&&(f=b/(.5>h?2*h:
2-2*h));0<b&&(c==p&&c!=t&&(e+=(t-n)/b),c==t&&c!=n&&(e+=2+(n-p)/b),c==n&&c!=p&&(e+=4+(p-t)/b),e*=60);return{h:e,s:Math.round(100*f),l:Math.round(100*h)}},toHsv:function(){var p=this.r/255,t=this.g/255,n=this.b/255,h=Math.max(p,t,n),c=h-Math.min(p,n,t),b=null,e=0==h?0:c/h;0==e?b=0:(b=p==h?60*(t-n)/c:t==h?120+60*(n-p)/c:240+60*(p-t)/c,0>b&&(b+=360));return{h:b,s:Math.round(100*e),v:Math.round(100*h)}}});return G})},"dojox/main":function(){define(["dojo/_base/kernel"],function(G){return G.dojox})},"arcgis3d/layers/dataloader/I3SNodeLoader":function(){define(["dojo/_base/declare",
"engine/lib/Util","arcgis3d/layers/dataloader/lib/I3SUtil","arcgis3d/layers/dataloader/lib/PromiseLightweight"],function(G,A,a,m){return G(null,{constructor:function(p,t,n,h,c,b,e,f,k){function u(z,C,y,D){if(!B){void 0!==k&&k.show(z,"green");if(void 0!==D)for(var F=0;F<D.length;F++)y[D[F][0]]=D[F][1];D=y[z.sharedResource.hrefConcat].textureDefinitions;for(var H in D){F=D[H];var E=z.sharedResource.hrefConcat;F.href&&(E=a.concatUrl(E,F.href),F=y[E].textureDefinitions,assert(F));for(var I=0;I<F.images.length;I++){var J=
F.images[I];J.hrefConcat=a.concatUrl(E,J.href);p&&(J.id=J.hrefConcat+"_"+J.byteOffset)}}f(g,void 0,[z,y,C])}}function v(z,C,y){var D=[],F=y[z.sharedResource.hrefConcat];assert(F);for(var H in F.materialDefinitions){var E=F.materialDefinitions[H];if(E.href){var I=a.concatUrl(C,E.href);E.hrefConcat=I;x.has(I)?y[I]=x.use(I):D.push(x.request(I,"json"));w[I]=!0;q[z.id][I]=!0}}return D}var g=n,q=c,x=t,w={},B=!1;this.cancel=function(){B=!0};this.getUsedDocs=function(){return w};this.loadNodeData=function(z,
C){var y=a.getNodeURL(b,z.id),D=[],F={};q[z.id]={};if(null!=z.sharedResource){var H=a.concatUrl(y,z.sharedResource.href);z.sharedResource.hrefConcat=H;F[H]="json";D.push(H)}if(null!=z.featureData)for(var E=0;E<z.featureData.length;E++)H=a.concatUrl(y,z.featureData[E].href),z.featureData[E].hrefConcat=H,F[H]="json",D.push(H);if(null!=z.geometryData)for(E=0;E<z.geometryData.length;E++)H=a.concatUrl(y,z.geometryData[E].href),z.geometryData[E].hrefConcat=H,F[H]="binary",D.push(H);H=[];for(var I in D)E=
D[I],H.push(x.request(E,F[E])),w[E]=!0,q[z.id][E]=!0;var J={};m.join(H).then(function(K){if(B)return C.done(),C;if(void 0!==K)for(var L=0;L<K.length;L++)J[K[L][0]]=K[L][1];z.sharedResource&&z.featureData?(K=v(z,y,J),0<K.length?m.join(K).then(lang.partial(u,z,C,J),function(O){C.done()},this):u(z,C,J)):C.done()},function(K){C.done()},this);return C}}})})},"arcgis3d/layers/dataloader/lib/I3SUtil":function(){define(["engine/Stage","engine/materials/Material","engine/lib/Geometry"],function(G,A,a){return{getNodeURL:function(m,
p){return m+"nodes/"+p},concatUrl:function(m,p){m=m.split("/");p=p.split("/");for(var t=[],n=0,h=m.length;n<h;n++)".."==m[n]?t.pop():"."!=m[n]&&""!=p[n]&&t.push(m[n]);n=0;for(h=p.length;n<h;n++)".."==p[n]?t.pop():"."!=p[n]&&""!=p[n]&&t.push(p[n]);return t.join("/")},makeNodeDebugVisualizer:function(m,p,t){function n(e){return{ambient:e,diffuse:[0,0,0],transparent:!0,opacity:.5,blendModeOneOne:!0}}var h=new Geometry(createCylinderGeometry(1,1,16,[0,1,0],[0,0,0],!1),"debugSphere"),c={};c.red=new A(n([.8,
0,0]),"debugMaterialRed");c.grey=new A(n([.4,.4,.4]),"debugMaterialGrey");c.brown=new A(n([.2,.1,0]),"debugMaterialBrown");c.green=new A(n([0,.8,0]),"debugMaterialGreen");c.blue=new A(n([0,0,.8]),"debugMaterialBlue");c.yellow=new A(n([.8,.8,0]),"debugMaterialYellow");c.magenta=new A(n([.8,0,.8]),"debugMaterialMagenta");for(var b in c)m.add(G.ModelContentType.MATERIAL,c[b]);m.add(G.ModelContentType.GEOMETRY,h);t=new Layer(t+"_debug",{interaction:"IGNORED"},t+"_debug");m.add(G.ModelContentType.LAYER,
t);m.addToViewContent([t.getId()]);return{engineLayer:t,added:{},show:function(e,f){var k=e.mbs,u=mat4d.identity(),v=k[3];mat4d.scale(u,[v,.1*v,v]);f=c[f];assert(f);v="node"+e.id+"dbg";f=new Object3D(v,[h],[[f]],[u],!1,null,v);p.toEngineTransformation(k,{wkid:4326},u);f.setObjectTransformation(u);m.add(G.ModelContentType.OBJECT,f);this.engineLayer.addObject(f);k=this.added[e.id];void 0!==k&&(m.remove(G.ModelContentType.OBJECT,k.getId()),this.engineLayer.removeObject(k));this.added[e.id]=f},clear:function(){for(var e in this.added){var f=
this.added[e];m.remove(G.ModelContentType.OBJECT,f.getId());this.engineLayer.removeObject(f)}this.added={}},dispose:function(){this.clear();for(var e in c)m.remove(G.ModelContentType.MATERIAL,c[e].getId());m.remove(G.ModelContentType.GEOMETRY,h.getId());m.remove(G.ModelContentType.LAYER,this.engineLayer.getId())}}}}})},"arcgis3d/layers/dataloader/I3SIndexLoader":function(){define("dojo/_base/lang arcgis3d/layers/dataloader/lib/I3SUtil arcgis3d/layers/dataloader/lib/PromiseLightweight engine/lib/Util engine/lib/es6-shim engine/lib/GoogPriorityQueue".split(" "),
function(G,A,a,m){return function(p,t,n,h,c,b,e){function f(J){F.toEnginePosition(J,E,H);return vec3.dist(H,t)-J[3]}function k(J,K){var L=A.getNodeURL(p,J);n[J]?K(L,n[J]):h.has(L)?K(L,h.use(L)):h.request(L,"json").then(K,x,this)}function u(J,K){h.unuse(J);if(C)I.done();else{q(J,K);a:{if(K.children)for(J=0;J<K.children.length;J++)if(!D(K.children[J].mbs)){J=!1;break a}J=!0}if(J)I.done();else{J=1E9;for(var L=void 0,O=0;O<K.children.length;++O){var U=K.children[O];if(y(U)){var S=f(U.mbs);S<J&&(J=S,L=
U)}}L?k(L.id,u):I.done()}}}function v(){if(!B.isEmpty()){var J=B.dequeue();k(J.id,q)}}function g(J,K){w.add(K.id);B.enqueue(J,K)}function q(J,K){if(!C){n[K.id]=K;0===K.id||w.has(K.parentNode.id)||g(f(K.parentNode.mbs),K.parentNode);for(var L in K.children)J=K.children[L],w.has(J.id)||D(J.mbs)||!y(J)||g(f(J.mbs),J);for(var O in K.neighbors)J=K.neighbors[O],w.has(J.id)||D(J.mbs)||!y(J)||g(f(J.mbs),J);K=b(K);z&&K&&v()}}function x(J){console.log("Error loading "+J)}var w=new Set,B=new goog.structs.PriorityQueue,
z=!1,C=!1,y=c.isNodeVisible,D=c.isBelowLOD,F=c.coordinateSystemHelper,H=vec3d.create(),E={wkid:4326};this.start=function(){I=new a.Promise;k(0,u);var J=I;J.then(function(){z=!0});return J};this.traverseNext=function(){v()};this.cancel=function(){z=!1;B.clear();C=!0};var I}})},"engine/lib/es6-shim":function(){(function(G){var A=function(){var a="undefined"===typeof global?window:global,m=a.isFinite,p;if(p=!!Object.defineProperty)try{Object.defineProperty({},"x",{}),p=!0}catch(g){p=!1}var t=p,n=Array.prototype.slice,
h=String.prototype.indexOf,c=Object.prototype.toString,b=Object.prototype.hasOwnProperty,e=function(g,q){Object.keys(q).forEach(function(x){var w=q[x];x in g||(t?Object.defineProperty(g,x,{configurable:!0,enumerable:!1,writable:!0,value:w}):g[x]=w)})},f={ToInt32:function(g){return g>>0},ToUint32:function(g){return g>>>0},toInteger:function(g){g=+g;return Number.isNaN(g)?0:0!==g&&Number.isFinite(g)?Math.sign(g)*Math.floor(Math.abs(g)):g}};e(String,{fromCodePoint:function(){for(var g=n.call(arguments,
0),q=[],x,w=0,B=g.length;w<B;w++){x=Number(g[w]);if(!Object.is(x,f.toInteger(x))||0>x||1114111<x)throw new RangeError("Invalid code point "+x);65536>x?q.push(String.fromCharCode(x)):(x-=65536,q.push(String.fromCharCode((x>>10)+55296)),q.push(String.fromCharCode(x%1024+56320)))}return q.join("")},raw:function(){var g=arguments[0],q=n.call(arguments,1);g=Object(Object(g).raw);var x=Object.keys(g).length;x=f.ToUint32(x);if(0===x)return"";for(var w=[],B=0,z,C;B<x;){z=String(B);C=g[z];C=String(C);w.push(C);
if(B+1>=x)break;C=q[z];if(C===G)break;z=String(C);w.push(z);B++}return w.join("")}});e(String.prototype,{repeat:function(){var g=function(q,x){if(1>x)return"";if(x%2)return g(q,x-1)+q;q=g(q,x/2);return q+q};return function(q){q=f.toInteger(q);if(0>q||Infinity===q)throw new RangeError;return g(String(this),q)}}(),startsWith:function(g,q){if(null==this)throw new TypeError("Cannot call method 'startsWith' of "+this);var x=String(this);g=String(g);q=Math.max(f.toInteger(q),0);return x.slice(q,q+g.length)===
g},endsWith:function(g,q){if(null==this)throw new TypeError("Cannot call method 'endsWith' of "+this);var x=String(this);g=String(g);var w=x.length;q=q===G?w:f.toInteger(q);w=Math.min(q,w);return x.slice(w-g.length,w)===g},contains:function(g,q){return-1!==h.call(this,g,q)},codePointAt:function(g){var q=String(this),x=f.toInteger(g),w=q.length;if(0>x||x>=w)return G;g=q.charCodeAt(x);if(55296>g||56319<g||x+1===w)return g;q=q.charCodeAt(x+1);return 56320>q||57343<q?g:1024*(g-55296)+(q-56320)+65536}});
e(Array,{from:function(g,q,x){if(q!==G&&"[object Function]"!==c.call(q))throw new TypeError("when provided, the second argument must be a function");g=Object(g);for(var w=f.ToUint32(g.length),B="function"===typeof this?Object(new this(w)):Array(w),z=0;z<w;z++){var C=g[z];B[z]=q!==G?x?q.call(x,C):q(C):C}B.length=w;return B},of:function(){return Array.from(arguments)}});e(a,{ArrayIterator:function(g,q){this.i=0;this.array=g;this.kind=q}});e(ArrayIterator.prototype,{next:function(){var g=this.i;this.i=
g+1;var q=this.array;if(g>=q.length)throw Error();if(q.hasOwnProperty(g)){var x=this.kind,w;"key"===x&&(w=g);"value"===x&&(w=q[g]);"entry"===x&&(w=[g,q[g]])}else w=this.next();return w}});e(Array.prototype,{copyWithin:function(g,q){var x=Object(this),w=Math.max(f.toInteger(x.length),0),B=0>g?Math.max(w+g,0):Math.min(g,w),z=0>q?Math.max(w+q,0):Math.min(q,w),C=2<arguments.length?arguments[2]:w;w=Math.min((0>C?Math.max(w+C,0):Math.min(C,w))-z,w-B);C=1;z<B&&B<z+w&&(C=-1,z+=w-1,B+=w-1);for(;0<w;)b.call(x,
z)?x[B]=x[z]:delete x[z],z+=C,B+=C,--w;return x},fill:function(g){var q=this.length,x=1<arguments.length?f.toInteger(arguments[1]):0,w=2<arguments.length?f.toInteger(arguments[2]):q;for(x=0>x?Math.max(q+x,0):Math.min(x,q);x<q&&x<w;++x)this[x]=g;return this},find:function(g,q){var x=Object(this),w=f.ToUint32(x.length);if(0===w)return G;if("function"!==typeof g)throw new TypeError("Array#find: predicate must be a function");for(var B=0,z;B<w&&B in x;B++)if(z=x[B],g.call(q,z,B,x))return z;return G},
findIndex:function(g,q){var x=Object(this),w=f.ToUint32(x.length);if(0===w)return-1;if("function"!==typeof g)throw new TypeError("Array#findIndex: predicate must be a function");for(var B=0,z;B<w&&B in x;B++)if(z=x[B],g.call(q,z,B,x))return B;return-1},keys:function(){return new ArrayIterator(this,"key")},values:function(){return new ArrayIterator(this,"value")},entries:function(){return new ArrayIterator(this,"entry")}});p=Math.pow(2,53)-1;e(Number,{MAX_SAFE_INTEGER:p,MIN_SAFE_INTEGER:-p,EPSILON:2.220446049250313E-16,
parseInt:a.parseInt,parseFloat:a.parseFloat,isFinite:function(g){return"number"===typeof g&&m(g)},isSafeInteger:function(g){return"number"===typeof g&&!Number.isNaN(g)&&Number.isFinite(g)&&parseInt(g,10)===g&&Math.abs(g)<=Number.MAX_SAFE_INTEGER},isNaN:function(g){return g!==g}});e(Number.prototype,{clz:function(){var g=+this;if(!g||!Number.isFinite(g))return 32;g=0>g?Math.ceil(g):Math.floor(g);g-=4294967296*Math.floor(g/4294967296);return 32-g.toString(2).length}});t&&e(Object,{getOwnPropertyDescriptors:function(g){var q=
{};Object.getOwnPropertyNames(g).forEach(function(x){q[x]=Object.getOwnPropertyDescriptor(g,x)});return q},getPropertyDescriptor:function(g,q){var x=Object.getOwnPropertyDescriptor(g,q);for(g=Object.getPrototypeOf(g);x===G&&null!==g;)x=Object.getOwnPropertyDescriptor(g,q),g=Object.getPrototypeOf(g);return x},getPropertyNames:function(g){var q=Object.getOwnPropertyNames(g);g=Object.getPrototypeOf(g);for(var x=function(w){-1===q.indexOf(w)&&q.push(w)};null!==g;)Object.getOwnPropertyNames(g).forEach(x),
g=Object.getPrototypeOf(g);return q},assign:function(g,q){return Object.keys(q).reduce(function(x,w){x[w]=q[w];return x},g)},mixin:function(g,q){return Object.getOwnPropertyNames(q).reduce(function(x,w){var B=Object.getOwnPropertyDescriptor(q,w);return Object.defineProperty(x,w,B)},g)}});e(Object,{getOwnPropertyKeys:function(g){return Object.keys(g)},is:function(g,q){return g===q?0===g?1/g===1/q:!0:Number.isNaN(g)&&Number.isNaN(q)}});e(Math,{acosh:function(g){g=Number(g);return Number.isNaN(g)||1>
g?NaN:1===g?0:Infinity===g?g:Math.log(g+Math.sqrt(g*g-1))},asinh:function(g){g=Number(g);return 0!==g&&m(g)?Math.log(g+Math.sqrt(g*g+1)):g},atanh:function(g){g=Number(g);return Number.isNaN(g)||-1>g||1<g?NaN:-1===g?-Infinity:1===g?Infinity:0===g?g:.5*Math.log((1+g)/(1-g))},cbrt:function(g){g=Number(g);if(0===g)return g;var q=0>g;q&&(g=-g);g=Math.pow(g,1/3);return q?-g:g},cosh:function(g){g=Number(g);if(0===g)return 1;if(!m(g))return g;0>g&&(g=-g);return 21<g?Math.exp(g)/2:(Math.exp(g)+Math.exp(-g))/
2},expm1:function(g){g=Number(g);if(-Infinity===g)return-1;if(!m(g)||0===g)return g;for(var q=0,x=1;50>x;x++){for(var w=2,B=1;w<=x;w++)B*=w;q+=Math.pow(g,x)/B}return q},hypot:function(g,q){var x=!1,w=!0,B=!1,z=[];Array.prototype.every.call(arguments,function(D){D=Number(D);Number.isNaN(D)?x=!0:Infinity===D||-Infinity===D?B=!0:0!==D&&(w=!1);if(B)return!1;x||z.push(Math.abs(D));return!0});if(B)return Infinity;if(x)return NaN;if(w)return 0;z.sort(function(D,F){return F-D});var C=z[0],y=z.map(function(D){return D/
C}).reduce(function(D,F){return D+=F*F},0);return C*Math.sqrt(y)},log2:function(g){return Math.log(g)*Math.LOG2E},log10:function(g){return Math.log(g)*Math.LOG10E},log1p:function(g){g=Number(g);if(-1>g||Number.isNaN(g))return NaN;if(0===g||Infinity===g)return g;if(-1===g)return-Infinity;var q=0;if(0>g||1<g)return Math.log(1+g);for(var x=1;50>x;x++)q=0===x%2?q-Math.pow(g,x)/x:q+Math.pow(g,x)/x;return q},sign:function(g){g=+g;return 0===g||Number.isNaN(g)?g:0>g?-1:1},sinh:function(g){g=Number(g);return m(g)&&
0!==g?(Math.exp(g)-Math.exp(-g))/2:g},tanh:function(g){g=Number(g);return Number.isNaN(g)||0===g?g:Infinity===g?1:-Infinity===g?-1:(Math.exp(g)-Math.exp(-g))/(Math.exp(g)+Math.exp(-g))},trunc:function(g){g=Number(g);return 0>g?-Math.floor(-g):Math.floor(g)},imul:function(g,q){var x=g&65535,w=q&65535;return x*w+((g>>>16&65535)*w+x*(q>>>16&65535)<<16>>>0)|0}});if(t){var k=function(g){var q=typeof g;return"string"===q?"$"+g:"number"!==q||Object.is(g,-0)?null:g},u=function(){return Object.create?Object.create(null):
{}},v={Map:function(){function g(B,z){this.key=B;this.value=z;this.prev=this.next=null}function q(B,z){this.head=B._head;this.i=this.head.next;this.kind=z}function x(){if(!(this instanceof x))throw new TypeError('Map must be called with "new"');var B=new g(null,null);B.next=B.prev=B;e(this,{_head:B,_storage:u(),_size:0})}var w={};g.prototype.isRemoved=function(){return this.key===w};q.prototype={next:function(){for(var B=this.i,z=this.kind,C=this.head;B!==C;){this.i=B.next;if(!B.isRemoved())return B=
"key"===z?B.key:"value"===z?B.value:[B.key,B.value],{value:B,done:!1};B=this.i}return{value:G,done:!0}}};Object.defineProperty(x.prototype,"size",{configurable:!0,enumerable:!1,get:function(){return this._size}});e(x.prototype,{get:function(B){var z=k(B);if(null!==z)return(B=this._storage[z])?B.value:G;for(var C=z=this._head;(C=C.next)!==z;)if(Object.is(C.key,B))return C.value;return G},has:function(B){var z=k(B);if(null!==z)return z in this._storage;for(var C=z=this._head;(C=C.next)!==z;)if(Object.is(C.key,
B))return!0;return!1},set:function(B,z){var C=this._head,y=C,D=k(B);if(null!==D){if(D in this._storage){this._storage[D].value=z;return}var F=this._storage[D]=new g(B,z);y=C.prev}for(;(y=y.next)!==C;)if(Object.is(y.key,B)){y.value=z;return}F=F?F:new g(B,z);F.next=this._head;F.prev=this._head.prev;F.prev.next=F;F.next.prev=F;this._size+=1},"delete":function(B){var z=this._head,C=z,y=k(B);if(null!==y){if(!(y in this._storage))return!1;C=this._storage[y].prev;delete this._storage[y]}for(;(C=C.next)!==
z;)if(Object.is(C.key,B))return C.key=C.value=w,C.prev.next=C.next,C.next.prev=C.prev,--this._size,!0;return!1},clear:function(){this._size=0;this._storage=u();for(var B=this._head,z,C=B.next;(z=C)!==B;)z.key=z.value=w,C=z.next,z.next=z.prev=B;B.next=B.prev=B},keys:function(){return new q(this,"key")},values:function(){return new q(this,"value")},entries:function(){return new q(this,"key+value")},forEach:function(B){for(var z=1<arguments.length?arguments[1]:null,C=this._head,y=C;(y=y.next)!==C;)y.isRemoved()||
B.call(z,y.value,y.key,this)}});return x}(),Set:function(){var g=function(){if(!(this instanceof g))throw new TypeError('Set must be called with "new"');e(this,{"[[SetData]]":null,_storage:u()})},q=function(x){if(!x["[[SetData]]"]){var w=x["[[SetData]]"]=new v.Map;Object.keys(x._storage).forEach(function(B){B=36===B.charCodeAt(0)?B.substring(1):+B;w.set(B,B)});x._storage=null}};Object.defineProperty(g.prototype,"size",{configurable:!0,enumerable:!1,get:function(){q(this);return this["[[SetData]]"].size}});
e(g.prototype,{has:function(x){var w;if(this._storage&&null!==(w=k(x)))return!!this._storage[w];q(this);return this["[[SetData]]"].has(x)},add:function(x){var w;if(this._storage&&null!==(w=k(x)))this._storage[w]=!0;else return q(this),this["[[SetData]]"].set(x,x)},"delete":function(x){var w;if(this._storage&&null!==(w=k(x)))delete this._storage[w];else return q(this),this["[[SetData]]"]["delete"](x)},clear:function(){if(this._storage)this._storage=u();else return this["[[SetData]]"].clear()},keys:function(){q(this);
return this["[[SetData]]"].keys()},values:function(){q(this);return this["[[SetData]]"].values()},entries:function(){q(this);return this["[[SetData]]"].entries()},forEach:function(x){var w=1<arguments.length?arguments[1]:null,B=this;q(this);this["[[SetData]]"].forEach(function(z,C){x.call(w,C,C,B)})}});return g}()};e(a,v);if(a.Map||a.Set)if("function"!==typeof a.Map.prototype.clear||0!==(new a.Set).size||0!==(new a.Map).size||"function"!==typeof a.Set.prototype.keys||"function"!==typeof a.Map.prototype.forEach||
"function"!==typeof a.Set.prototype.forEach)a.Map=v.Map,a.Set=v.Set}};"function"===typeof define&&"object"===typeof define.amd&&define.amd?define(A):A()})()},"engine/lib/GoogPriorityQueue":function(){function G(c){var b=typeof c;if("object"==b)if(c){if(c instanceof Array)return"array";if(c instanceof Object)return b;var e=Object.prototype.toString.call(c);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof c.length&&"undefined"!=typeof c.splice&&"undefined"!=typeof c.propertyIsEnumerable&&
!c.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||"undefined"!=typeof c.call&&"undefined"!=typeof c.propertyIsEnumerable&&!c.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof c.call)return"object";return b}function A(c,b){c=c.split(".");var e=h;c[0]in e||!e.execScript||e.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)c.length||void 0===b?e=e[f]?e[f]:e[f]={}:e[f]=b}function a(c,b){this.d=c;this.b=b}function m(c){if("array"!=
G(c))for(var b=c.length-1;0<=b;b--)delete c[b];c.length=0}function p(c){this.a=[];if(c)a:{if(c instanceof p){var b=c.a;var e=[];for(var f=b.length,k=0;k<f;k++)e.push(b[k].getKey());b=e;e=c.a;f=[];k=e.length;for(var u=0;u<k;u++)f.push(e[u].b);e=f;if(0>=c.a.length){c=this.a;for(f=0;f<b.length;f++)c.push(new a(b[f],e[f]));break a}}else{b=[];f=0;for(k in c)b[f++]=k;f=[];k=0;for(e in c)f[k++]=c[e];e=f}for(f=0;f<b.length;f++)t(this,b[f],e[f])}}function t(c,b,e){var f=c.a;f.push(new a(b,e));b=f.length-1;
c=c.a;for(e=c[b];0<b;)if(f=b-1>>1,c[f].getKey()>e.getKey())c[b]=c[f],b=f;else break;c[b]=e}function n(){p.call(this)}var h=this;a.prototype.getKey=function(){return this.d};a.prototype.c=function(){return new a(this.d,this.b)};p.prototype.remove=function(){var c=this.a,b=c.length,e=c[0];if(!(0>=b)){if(1==b)m(c);else{c[0]=c.pop();c=0;b=this.a;for(var f=b.length,k=b[c];c<f>>1;){var u=2*c+1,v=2*c+2;u=v<f&&b[v].getKey()<b[u].getKey()?v:u;if(b[u].getKey()>k.getKey())break;b[c]=b[u];c=u}b[c]=k}return e.b}};
p.prototype.c=function(){return new p(this)};p.prototype.g=function(){return 0==this.a.length};p.prototype.clear=function(){m(this.a)};(function(){function c(){}c.prototype=p.prototype;n.h=p.prototype;n.prototype=new c})();n.prototype.f=function(c,b){t(this,c,b)};n.prototype.e=function(){return this.remove()};A("goog.structs.PriorityQueue",n);A("goog.structs.PriorityQueue.prototype.enqueue",n.prototype.f);A("goog.structs.PriorityQueue.prototype.dequeue",n.prototype.e);A("goog.structs.PriorityQueue.prototype.isEmpty",
n.prototype.g);A("goog.structs.PriorityQueue.prototype.clear",n.prototype.clear);A("goog.structs.PriorityQueue.prototype.clone",n.prototype.c)},"esri/layers/LayerDrawingOptions":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../renderers/jsonUtils ./LabelClass".split(" "),function(G,A,a,m,p,t,n,h){G=G(null,{declaredClass:"esri.layers.LayerDrawingOptions",constructor:function(c){if(c&&(A.mixin(this,c),c.renderer&&(this.renderer=n.fromJson(c.renderer)),
c.labelingInfo&&0<c.labelingInfo.length)){this.labelingInfo=[];var b;a.forEach(c.labelingInfo,function(e){b=new h(e);this.labelingInfo.push(b)},this)}},toJson:function(){var c={renderer:this.renderer&&this.renderer.toJson(),transparency:this.transparency,scaleSymbols:this.scaleSymbols,showLabels:this.showLabels};this.labelingInfo&&0<this.labelingInfo.length&&(c.labelingInfo=[],a.forEach(this.labelingInfo,function(b){c.labelingInfo.push(b.toJson())}));return t.fixJson(c)}});m("extend-esri")&&A.setObject("layers.LayerDrawingOptions",
G,p);return G})},"arcgis3d/layers/TerrainLayer":function(){define("dojo/_base/declare dojo/on esri/arcgis/utils esri/request esri/SpatialReference esri/geometry/Extent ./_Layer ./TerrainRendererTopDown".split(" "),function(G,A,a,m,p,t,n,h){return G([n],{globeMode:"spherical",constructor:function(c,b){this.url=c;this.id=this.name=b&&b.name?b.name:this.url.match(/.*\/([^\/]+)\/MapServer\/.*/)[1];this.loaded=!1;this._initLayer()},_initLayer:function(){this.loaded=!0;this.emit("load",{layer:this});this._maxLODLevel=
19;m({url:this.url.substring(0,this.url.indexOf("MapServer")+9)+"/?f\x3djson",handleAs:"json"}).then(function(c){if(c){this._maxLODLevel=0;c=c.tileInfo.lods;for(var b=0;b<c.length;b++)this._maxLODLevel=Math.max(c[b].level,this._maxLODLevel)}}.bind(this));this.fullExtent=new t(-90,0,90,0,new p(4326))},_setMap:function(){this.inherited(arguments);this._map=map;return this.renderer=new h(this)},_unsetMap:function(){this.inherited(arguments);this.renderer=this._map=null},setGlobeMode:function(c){this.globeMode=
c},setElevationEnabled:function(){},setImageryUrl:function(c){this.renderer.setImageryUrl(c)}})})},"esri/arcgis/utils":function(){define("require dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Deferred dojo/_base/json dojo/_base/url dojo/on dojo/DeferredList dojo/dom-construct dojo/sniff dojox/gfx/_base ../kernel ../config ../Color ../lang ../request ../SpatialReference ../map ../urlUtils ../geometry/Point ../geometry/ScreenPoint ../geometry/Extent ../geometry/webMercatorUtils ../symbols/jsonUtils ../renderers/jsonUtils ../dijit/PopupTemplate ../dijit/Popup ../tasks/query ../tasks/GeometryService ../layers/ArcGISTiledMapServiceLayer ../layers/FeatureLayer dojo/i18n!../nls/jsapi".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F,H,E,I,J,K,L,O,U){function S(Z){return!(!Z||"BingMapsAerial"!==Z.layerType&&"BingMapsAerial"!==Z.type)}function M(Z){return!(!Z||"BingMapsRoad"!==Z.layerType&&"BingMapsRoad"!==Z.type)}function N(Z){return S(Z)||M(Z)||!(!Z||"BingMapsHybrid"!==Z.layerType&&"BingMapsHybrid"!==Z.type)}function T(Z){return!(!Z||"OpenStreetMap"!==Z.layerType&&"OpenStreetMap"!==Z.type)}function V(Z){return!!(Z&&Z.url&&(-1<"ArcGISFeatureLayer ArcGISImageServiceLayer ArcGISImageServiceVectorLayer ArcGISMapServiceLayer ArcGISStreamLayer ArcGISTiledImageServiceLayer ArcGISTiledMapServiceLayer".split(" ").indexOf(Z.layerType)||
!Z.layerType&&!Z.type))}function ea(Z){return q({url:za.arcgisUrl+"/"+Z.itemId+"/data",content:{f:"json"},callbackParamName:"callback"},{disableIdentityLookup:!0,_preLookup:!0})}function P(Z,Fa){var Ea={f:"json"};Fa&&(Ea.token=Fa);return q({url:Z,content:Ea,callbackParamName:"callback"},{disableIdentityLookup:!0})}function ba(Z){!Z.layerDefinition||Z.layerDefinition.drawingInfo&&Z.layerDefinition.drawingInfo.labelingInfo||(Z.showLabels=!1);Z.itemProperties.layerDefinition&&(Z.layerDefinition?(Z.layerDefinition.drawingInfo||
(Z.layerDefinition.drawingInfo=Z.itemProperties.layerDefinition.drawingInfo),g.isDefined(Z.layerDefinition.definitionExpression)||(Z.layerDefinition.definitionExpression=Z.itemProperties.layerDefinition.definitionExpression),g.isDefined(Z.layerDefinition.minScale)||(Z.layerDefinition.minScale=Z.itemProperties.layerDefinition.minScale),g.isDefined(Z.layerDefinition.maxScale)||(Z.layerDefinition.maxScale=Z.itemProperties.layerDefinition.maxScale)):Z.layerDefinition=Z.itemProperties.layerDefinition);
!Z.itemProperties.popupInfo||Z.popupInfo||Z.disablePopup||(Z.popupInfo=Z.itemProperties.popupInfo);g.isDefined(Z.itemProperties.showLabels)&&!g.isDefined(Z.showLabels)&&(Z.showLabels=Z.itemProperties.showLabels);g.isDefined(Z.itemProperties.showLegend)&&!g.isDefined(Z.showLegend)&&(Z.showLegend=Z.itemProperties.showLegend);g.isDefined(Z.itemProperties.refreshInterval)&&!g.isDefined(Z.refreshInterval)&&(Z.refreshInterval=Z.itemProperties.refreshInterval)}function la(Z){ba(Z);Z.itemProperties.layerDefinition&&
Z.layerDefinition&&(!g.isDefined(Z.layerDefinition.maximumTrackPoints)&&g.isDefined(Z.itemProperties.layerDefinition.maximumTrackPoints)&&(Z.layerDefinition.maximumTrackPoints=Z.itemProperties.layerDefinition.maximumTrackPoints),!Z.layerDefinition.definitionGeometry&&Z.itemProperties.layerDefinition.definitionGeometry&&(Z.layerDefinition.definitionGeometry=Z.itemProperties.layerDefinition.definitionGeometry));Z.itemProperties.purgeOptions&&!Z.purgeOptions&&(Z.purgeOptions=Z.itemProperties.purgeOptions)}
function Q(Z,Fa){var Ea=new p;Fa=Z.itemData;var Ba=[],Ia=[];a.forEach(Fa.operationalLayers,function(Ua){if(Ua.itemId&&V(Ua)){var Qa=Ua.url.toLowerCase();-1<Qa.indexOf("/featureserver")||-1<Qa.indexOf("/mapserver/")?(Ia.push(Ua),Ba.push(ea(Ua))):-1<Qa.indexOf("/mapserver")&&-1===Qa.indexOf("/mapserver/")&&(!Ua.layers||!g.isDefined(Ua.minScale)&&!g.isDefined(Ua.maxScale))?(Ia.push(Ua),Ba.push(ea(Ua))):-1<Qa.indexOf("/imageserver")&&!g.isDefined(Ua.minScale)&&!g.isDefined(Ua.maxScale)?(Ia.push(Ua),Ba.push(ea(Ua))):
-1<Qa.indexOf("/streamserver")&&(Ia.push(Ua),Ba.push(ea(Ua)))}});Fa.baseMap&&Fa.baseMap.baseMapLayers&&a.forEach(Fa.baseMap.baseMapLayers,function(Ua){Ua.itemId&&"VectorTileLayer"!==Ua.layerType&&(Ia.push(Ua),Ba.push(ea(Ua)))});if(0<Ba.length){var Pa={};(new c(Ba)).addCallback(function(Ua){a.forEach(Ia,function(Qa,Wa){if((Wa=Ua[Wa][1])&&!(Wa instanceof Error)&&(Pa[Qa.itemId]=Wa,V(Qa))){var Xa=Qa.url.toLowerCase();(-1<Xa.indexOf("/featureserver")||-1<Xa.indexOf("/mapserver/"))&&Wa.layers?a.forEach(Wa.layers,
function(ab){var eb="/featureserver/"+ab.id;(eb=Xa.match(eb+"$")==eb)||(eb="/mapserver/"+ab.id,eb=Xa.match(eb+"$")==eb);eb&&(Qa.itemProperties=ab,ba(Qa))}):-1<Xa.indexOf("/streamserver")?(Qa.itemProperties=Wa,la(Qa)):-1<Xa.indexOf("/mapserver")?(Wa.layers&&!Qa.layers&&(Qa.layers=Wa.layers),g.isDefined(Wa.minScale)&&!g.isDefined(Qa.minScale)&&(Qa.minScale=Wa.minScale),g.isDefined(Wa.maxScale)&&!g.isDefined(Qa.maxScale)&&(Qa.maxScale=Wa.maxScale),g.isDefined(Wa.refreshInterval)&&!g.isDefined(Qa.refreshInterval)&&
(Qa.refreshInterval=Wa.refreshInterval),Wa.visibleLayers&&!Qa.visibleLayers&&(Qa.visibleLayers=Wa.visibleLayers)):-1<Xa.indexOf("/imageserver")&&(g.isDefined(Wa.minScale)&&!g.isDefined(Qa.minScale)&&(Qa.minScale=Wa.minScale),g.isDefined(Wa.maxScale)&&!g.isDefined(Qa.maxScale)&&(Qa.maxScale=Wa.maxScale),g.isDefined(Wa.refreshInterval)&&!g.isDefined(Qa.refreshInterval)&&(Qa.refreshInterval=Wa.refreshInterval),!Wa.popupInfo||Qa.popupInfo||Qa.disablePopup||(Qa.popupInfo=Wa.popupInfo),Wa.renderingRule&&
!Qa.renderingRule&&(Qa.renderingRule=Wa.renderingRule,Wa.renderingRule.functionName&&(Qa.renderingRule.rasterFunction=Wa.renderingRule.functionName)),Wa.bandIds&&!Qa.bandIds&&(Qa.bandIds=Wa.bandIds),Wa.mosaicRule&&!Qa.mosaicRule&&(Qa.mosaicRule=Wa.mosaicRule),Wa.format&&!Qa.format&&(Qa.format=Wa.format),g.isDefined(Wa.compressionQuality)&&!g.isDefined(Qa.compressionQuality)&&(Qa.compressionQuality=Wa.compressionQuality),!Wa.layerDefinition||!Wa.layerDefinition.definitionExpression||g.isDefined(Qa.layerDefinition)&&
g.isDefined(Qa.layerDefinition.definitionExpression)||(Qa.layerDefinition=Qa.layerDefinition||{},Qa.layerDefinition.definitionExpression=Wa.layerDefinition.definitionExpression))}});Z.relatedItemsData=Pa;Ea.callback(Z)})}else Ea.callback(Z);return Ea}function Y(Z,Fa){var Ea=new p,Ba=Z.itemData,Ia=Ba.baseMap.baseMapLayers[0];if(N(Ia))if(Ia.portalUrl&&k.id)delete Fa.bingMapsKey,k.id.checkSignInStatus(B.urlToObject(za.arcgisUrl).path).then(A.hitch(null,function(Ua,Qa,Wa,Xa,ab){P(Ia.portalUrl,ab.token).then(A.hitch(null,
pa,Ua,Qa,Wa,Xa),A.hitch(null,ka,Ua,Qa,Wa,Xa))},Z,Fa,Ba,Ea),A.hitch(null,function(Ua,Qa,Wa,Xa,ab){P(Ia.portalUrl).then(A.hitch(null,pa,Ua,Qa,Wa,Xa),A.hitch(null,ka,Ua,Qa,Wa,Xa))},Z,Fa,Ba,Ea));else if(Fa.bingMapsKey){var Pa=new Gb({bingMapsKey:Fa.bingMapsKey,mapStyle:Gb.MAP_STYLE_AERIAL});m.connect(Pa,"onLoad",A.hitch(this,function(){Ea.callback([Z,Fa])}));m.connect(Pa,"onError",function(Ua){delete Fa.bingMapsKey;Z.itemData=va(Ba);Ia=Z.itemData.baseMap.baseMapLayers[0];Ia.errors=[];Ia.errors.push({message:"The owner of the application has not provided a valid Bing Key for the Bing Map it includes. Switching to Esri layers."});
Ea.callback([Z,Fa])})}else Z.itemData=va(Ba),Ia=Z.itemData.baseMap.baseMapLayers[0],Ia.errors=[],Ia.errors.push({message:"The owner of the application has not provided a Bing Key for the Bing Map it includes. Switching to Esri layers."}),Ea.callback([Z,Fa]);else Ea.callback([Z,Fa]);return Ea}function ja(Z){var Fa=new p;Z=Z.itemData;var Ea=Z.baseMap&&Z.baseMap.baseMapLayers;if(Tb&&!Tb.supported())for(Z=0;Z<Ea.length;Z++){var Ba=Ea[Z];if(!Ba.isReference){if("VectorTileLayer"===Ba.layerType){var Ia=
Ba.itemId;var Pa=Z}break}}Ia?ib(Ia,!1).addBoth(function(Ua){var Qa=/^https?:\/\/basemaps(dev)?\.arcgis\.com\/arcgis\/rest\/services\/World_Basemap\/VectorTileServer/i;Ua&&Ua.item&&Qa.test(Ua.item.url)&&(Ea[Pa]={id:"FB_"+Ba.id,layerType:"ArcGISTiledMapServiceLayer",opacity:"opacity"in Ba?Ba.opacity:1,visibility:"visibility"in Ba?Ba.visibility:!0,url:"https://services.arcgisonline.com/arcgis/rest/services/World_Street_Map/MapServer"});Fa.resolve()}):Fa.resolve();return Fa}function pa(Z,Fa,Ea,Ba,Ia){Ia.bingKey?
(Fa.bingMapsKey=Ia.bingKey,Ia=new Gb({bingMapsKey:Fa.bingMapsKey,mapStyle:Gb.MAP_STYLE_AERIAL}),m.connect(Ia,"onLoad",A.hitch(this,function(){Ba.callback([Z,Fa])})),m.connect(Ia,"onError",function(Pa){delete Fa.bingMapsKey;Z.itemData=va(Ea);Pa=Z.itemData.baseMap.baseMapLayers[0];Pa.errors=[];Pa.errors.push({message:"The owner of the map has not provided a valid Bing Key for the Bing Map it includes. Switching to Esri layers."});Ba.callback([Z,Fa])})):ka(Z,Fa,Ea,Ba)}function ka(Z,Fa,Ea,Ba){delete Fa.bingMapsKey;
Z.itemData=va(Ea);Ea=Z.itemData.baseMap.baseMapLayers[0];Ea.errors=[];Ea.errors.push({message:"The owner of the map has not provided a Bing Key for the Bing Map it includes. Switching to Esri layers."});Ba.callback([Z,Fa])}function va(Z){S(Z.baseMap.baseMapLayers[0])?Z.baseMap={title:"Imagery",baseMapLayers:[{id:"World_Imagery_2017",visibility:!0,opacity:1,url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}]}:M(Z.baseMap.baseMapLayers[0])?Z.baseMap={title:"Streets",
baseMapLayers:[{id:"World_Street_Map_8421",opacity:1,visibility:!0,url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer"}]}:Z.baseMap={title:"Imagery with Labels",baseMapLayers:[{id:"World_Imagery_6611",opacity:1,visibility:!0,url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},{id:"World_Boundaries_and_Places_1145",isReference:!0,opacity:1,visibility:!0,url:"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer"}]};
return Z}function Aa(Z,Fa,Ea,Ba){var Ia=Z.dynamicLayerInfos||Z.layerInfos,Pa=Fa.layers;if(Pa&&Ia)if(Ba.usePopupManager){var Ua;a.forEach(Ia,function(db){var gb=db.id;if(!db.subLayerIds)for(db=0;db<Pa.length;db++){var jb=Pa[db];if(jb.id===gb&&jb.popupInfo&&!jb.disablePopup){Ua||(Ua={});Ua[gb]={infoTemplate:new Ea(jb.popupInfo),layerUrl:jb.layerUrl};break}}});Ua&&Z.setInfoTemplates(Ua)}else{var Qa=[],Wa=[],Xa=[],ab=[],eb=[],Za=[];a.forEach(Ia,function(db){var gb=db.id;if(!db.subLayerIds&&-1!==a.indexOf(Z.visibleLayers,
gb))for(db=0;db<Pa.length;db++){var jb=Pa[db];if(jb.id===gb){Wa.push(gb);Qa.push(jb.popupInfo);Xa.push(jb.layerUrl||"");jb.layerDefinition&&jb.layerDefinition.definitionExpression?ab.push(jb.layerDefinition.definitionExpression):ab.push("");eb.push(g.isDefined(jb.minScale)?jb.minScale:null);Za.push(g.isDefined(jb.maxScale)?jb.maxScale:null);break}}});Qa.length&&(Z.__popups=Qa,Z.__popupIds=Wa,Z.__popupUrls=Xa,Z.__popupWhereClauses=ab,Z.__popupMinScales=eb,Z.__popupMaxScales=Za,Z.__resourceInfo=Fa.resourceInfo)}}
function da(Z){if(!Z)return!1;var Fa=(new n(za.arcgisUrl)).authority;return-1!==Z.indexOf(".arcgis.com/")||-1!==Z.indexOf(Fa)}function ca(Z){return Z?-1!==Z.indexOf("/services.arcgisonline.com/")||-1!==Z.indexOf("/server.arcgisonline.com/"):!1}function ma(Z){"https:"===location.protocol&&(da(Z)||ca(Z))&&(Z=Z.replace("http:","https:"));return Z}function qa(Z,Fa,Ea){var Ba=[];Z.displayLevels||(Ba=a.map(Z.resourceInfo.tileInfo.lods,function(Pa){return Pa.level}));if(Z.exclusionAreas){var Ia=A.clone(Z.exclusionAreas);
Ia=a.map(Ia,function(Pa){Pa.geometry=new y(Pa.geometry);return Pa})}Z.resourceInfo&&"Raster"===Z.resourceInfo.cacheType?(Ba=Z.layerDefinition&&Z.layerDefinition.drawingInfo&&Z.layerDefinition.drawingInfo.renderer,Ba=new Pb(ma(Z.url),{resourceInfo:Z.resourceInfo,opacity:Z.opacity,visible:Z.visibility,id:Z.id,minScale:Z.minScale,maxScale:Z.maxScale,refreshInterval:Z.refreshInterval,multidimensionalDefinition:Z.multidimensionalDefinition,bandIds:Z.bandIds,renderer:Ba||null})):Ba=new L(ma(Z.url),{resourceInfo:Z.resourceInfo,
opacity:Z.opacity,visible:Z.visibility,displayLevels:Z.displayLevels||Ba,id:Z.id,minScale:Z.minScale,maxScale:Z.maxScale,refreshInterval:Z.refreshInterval,exclusionAreas:Ia});Ea.ignorePopups||Aa(Ba,Z,Fa,Ea);return Ba}function ta(Z,Fa){if(!Z||!Fa||0===Fa.length)return[];Fa=","+Fa+",";var Ea=[],Ba,Ia=",";for(Ba=0;Ba<Z.length;Ba++)if(null!==Z[Ba].subLayerIds){if(-1===Fa.indexOf(","+Z[Ba].id+",")||-1<Ia.indexOf(","+Z[Ba].id+","))Ia+=Z[Ba].subLayerIds.toString()+","}else-1<Fa.indexOf(","+Z[Ba].id+",")&&
-1===Ia.indexOf(","+Z[Ba].id+",")&&Ea.push(Z[Ba].id);return Ea}function Ca(Z,Fa,Ea){var Ba=new xb;Ba.format="png24";Z.resourceInfo&&Z.resourceInfo.supportedImageFormatTypes&&-1<Z.resourceInfo.supportedImageFormatTypes.indexOf("PNG32")&&(Ba.format="png32");Ba=new mb(ma(Z.url),{resourceInfo:Z.resourceInfo,opacity:Z.opacity,visible:Z.visibility,id:Z.id,imageParameters:Ba,minScale:Z.minScale,maxScale:Z.maxScale,refreshInterval:Z.refreshInterval});var Ia=Z.visibleLayers;if(!Z.visibleLayers){var Pa="";
a.forEach(Ba.layerInfos,function(Za){Za.defaultVisibility&&(Pa+=(0<Pa.length?",":"")+Za.id)});Ia=Pa}if(Z.layers&&0<Z.layers.length){var Ua=[],Qa=[],Wa,Xa=[],ab,eb;a.forEach(Z.layers,function(Za){var db=Za.layerDefinition;db&&db.definitionExpression&&(Ua[Za.id]=db.definitionExpression);if(db&&db.source){Wa=null;eb=db.source;if("mapLayer"===eb.type){var gb=a.filter(Z.resourceInfo.layers,function(jb){return jb.id===eb.mapLayerId});gb.length&&(Wa=A.mixin(gb[0],Za))}else Wa=A.mixin({},Za);Wa&&(Wa.source=
eb,delete Wa.popupInfo,Wa=new wb(Wa),Z.visibleLayers&&(gb="string"==typeof Z.visibleLayers?Z.visibleLayers.split(","):Z.visibleLayers,-1<a.indexOf(gb,Za.id)?Wa.defaultVisibility=!0:Wa.defaultVisibility=!1),Qa.push(Wa))}db&&null!=db.transparency&&(gb=db.drawingInfo||{},null==gb.transparency&&(gb.transparency=db.transparency,db.drawingInfo=gb));db&&db.source&&db.drawingInfo&&(ab=new Fb(db.drawingInfo),Xa[Za.id]=ab)},this);0<Ua.length&&Ba.setLayerDefinitions(Ua);0<Qa.length?(Ba.setDynamicLayerInfos(Qa,
!0),0<Xa.length&&Ba.setLayerDrawingOptions(Xa,!0)):(Ia=ta(Ba.layerInfos,Ia),Ba.setVisibleLayers(Ia))}else Ia=ta(Ba.layerInfos,Ia),Ba.setVisibleLayers(Ia);Ea.ignorePopups||Aa(Ba,Z,Fa,Ea);return Ba}function ha(Z,Fa,Ea){var Ba=new Ab;Ba.bandIds=Z.bandIds;null!=Z.format&&(Ba.format=Z.format,null!=Z.compressionQuality&&(Ba.compressionQuality=Z.compressionQuality));if(Z.renderingRule&&Z.renderingRule.rasterFunction){var Ia=new Qb(Z.renderingRule);Ba.renderingRule=Ia}Z.mosaicRule&&(Ia=new Lb(Z.mosaicRule),
Ba.mosaicRule=Ia);g.isDefined(Z.noData)&&(Ba.noData=Z.noData);g.isDefined(Z.noDataInterpretation)&&(Ba.noDataInterpretation=Z.noDataInterpretation);g.isDefined(Z.interpolation)&&(Ba.interpolation=Z.interpolation);Ia=Z.layerType?"ArcGISImageServiceVectorLayer"===Z.layerType:!1;g.isDefined(Z.layerType)||(Ia=Z.resourceInfo.hasMultidimensions&&("esriImageServiceDataTypeVector-UV"===Z.resourceInfo.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===Z.resourceInfo.serviceDataType));Ba={resourceInfo:Z.resourceInfo,
opacity:Z.opacity,visible:Z.visibility,id:Z.id,imageServiceParameters:Ba,minScale:Z.minScale,maxScale:Z.maxScale,refreshInterval:Z.refreshInterval};Ba=Ia?new Hb(ma(Z.url),Ba):new rb(ma(Z.url),Ba);Z.layerDefinition&&(Z.layerDefinition.drawingInfo&&Z.layerDefinition.drawingInfo.renderer&&(Ia=H.fromJson(Z.layerDefinition.drawingInfo.renderer),Ba.setRenderer(Ia)),Z.layerDefinition.definitionExpression&&Ba.setDefinitionExpression(Z.layerDefinition.definitionExpression,!0));Ea.ignorePopups||!Z.popupInfo||
Z.disablePopup||Ba.setInfoTemplate(new Fa(Z.popupInfo));return Ba}function fa(Z,Fa,Ea){var Ba=[102113,102100,3857],Ia=Ea||new x(Fa[0].layerObject.fullExtent.spatialReference),Pa=new x(Z.resourceInfo.fullExtent.spatialReference);return Ia.wkt==Pa.wkt&&(Ia.wkid==Pa.wkid||g.isDefined(Ia.latestWkid)&&Ia.latestWkid==Pa.wkid||g.isDefined(Pa.latestWkid)&&Ia.wkid==Pa.latestWkid||g.isDefined(Ia.latestWkid)&&Ia.latestWkid==Pa.latestWkid)||Ia.wkid&&Pa.wkid&&a.some(Ba,function(Ua){return Ua===Pa.wkid})&&a.some(Ba,
function(Ua){return Ua===Ia.wkid})?!0:!1}function ra(Z,Fa,Ea){if(!Fa[0].layerObject.tileInfo)return!1;Z=Z.resourceInfo.tileInfo;Fa=Fa[0].layerObject.tileInfo;Ea=Ea.width>Ea.height?Ea.width:Ea.height;for(var Ba=!1,Ia=!1,Pa=0;Pa<Z.lods.length;Pa++){for(var Ua=Z.lods[Pa].scale/Z.dpi,Qa=0;Qa<Fa.lods.length;Qa++){var Wa=Fa.lods[Qa].scale/Fa.dpi;if(Math.abs(Wa-Ua)/Wa<1/Ea)if(Ba){Ia=!0;break}else Ba=!0}if(Ia)break}return Ia||Ba&&(1===Z.lods.length||1===Fa.lods.length)?!0:!1}function wa(Z,Fa,Ea,Ba,Ia,Pa){var Ua=
Ea._clazz;if(T(Z))var Qa=new Yb({id:Z.id,opacity:Z.opacity,visible:null!==Z.visibility&&void 0!==Z.visibility?Z.visibility:!0});else if(Z&&("WFS"===Z.layerType||"WFS"===Z.type)){var Wa={customParameters:Z.wfsInfo.customParameters,geometryType:Z.layerDefinition.geometryType,id:Z.id,labelingInfo:Z.layerDefinition.drawingInfo.labelingInfo,maxFeatures:Z.wfsInfo.maxFeatures,mode:Z.mode,name:Z.wfsInfo.name,showLabels:!0,swapXY:Z.wfsInfo.swapXY,title:Z.title,url:Z.url,version:Z.wfsInfo.version,visible:Z.visibility,
wkid:Z.layerDefinition.spatialReference.wkid};Qa=new Zb;Qa.fromJson(Wa,function(){g.isDefined(Z.opacity)&&Qa.setOpacity(Z.opacity);g.isDefined(Z.visibility)&&Qa.setVisibility(Z.visibility);(Z.minScale||Z.maxScale)&&Qa.setScaleRange(Z.minScale,Z.maxScale);Qa.renderer=H.fromJson(Z.layerDefinition.drawingInfo.renderer,{geometryType:Wa.geometryType});!Ea.ignorePopups&&Z.popupInfo&&Qa.setInfoTemplate(new Ua(Z.popupInfo));Qa.emit("fromJsonComplete")})}else if(Z&&("WMS"===Z.layerType||"WMS"===Z.type)){var Xa=
[],ab=[];a.forEach(Z.layers,function(gb){ab.push(new Wb({name:gb.name,title:gb.title,legendURL:gb.legendURL||gb.legendUrl,queryable:gb.queryable,showPopup:gb.showPopup}));Xa.push(gb.name)},this);Z.visibleLayers&&(Xa=Z.visibleLayers);Ba=new y(Z.extent[0][0],Z.extent[0][1],Z.extent[1][0],Z.extent[1][1],new x({wkid:4326}));Ba={customLayerParameters:Z.customLayerParameters,customParameters:Z.customParameters,extent:Ba,layerInfos:ab,version:Z.version,maxWidth:Z.maxWidth,maxHeight:Z.maxHeight,featureInfoFormat:Z.featureInfoFormat,
getFeatureInfoURL:Z.featureInfoUrl,getMapURL:Z.mapUrl,spatialReferences:Z.spatialReferences,title:Z.title,copyright:Z.copyright,minScale:Z.minScale||0,maxScale:Z.maxScale||0,format:Z.format};Qa=new ec(Z.url,{id:Z.id,visibleLayers:Xa,format:"png",transparent:Z.firstLayer?!1:!0,opacity:Z.opacity,visible:null!==Z.visibility?Z.visibility:!0,resourceInfo:Ba,refreshInterval:Z.refreshInterval});Qa.spatialReference.wkid=Ba.spatialReferences[0]}else if(Z&&("KML"===Z.layerType||"KML"===Z.type)){var eb=Z.url;
if(k.id){var Za=k.id.findCredential(B.urlToObject(za.arcgisUrl).path);Za&&(Fa=za.arcgisUrl.substring(za.arcgisUrl.indexOf("//")+2,za.arcgisUrl.indexOf("/",za.arcgisUrl.indexOf("//")+3)),Ia=Fa.split("."),Ia=Ia[Ia.length-2]+"."+Ia[Ia.length-1],Pa=eb.indexOf(Ia),-1<Pa&&(eb="https://"+Fa+eb.substring(Pa+Ia.length),eb+="?token\x3d"+Za.token))}Qa=new Jb(eb,{id:Z.id,visible:null!==Z.visibility?Z.visibility:!0,outSR:Ba,refreshInterval:Z.refreshInterval});m.connect(Qa,"onLoad",function(){(Z.opacity||0===Z.opacity)&&
Qa.setOpacity(Z.opacity);g.isDefined(Z.minScale)&&g.isDefined(Z.maxScale)&&Qa.setScaleRange(Z.minScale,Z.maxScale);Z.visibleFolders&&a.forEach(Qa.folders,function(gb){-1<a.indexOf(Z.visibleFolders,gb.id)?Qa.setFolderVisibility(gb,!0):Qa.setFolderVisibility(gb,!1)},this)})}else if(!Z||"WebTiledLayer"!==Z.layerType&&"WebTiledLayer"!==Z.type)if(!Z||"GeoRSS"!==Z.layerType&&"GeoRSS"!==Z.type)if(Z&&("CSV"===Z.layerType||"CSV"===Z.type)&&Z.url)Ba={layerDefinition:Z.layerDefinition,columnDelimiter:Z.columnDelimiter,
id:Z.id?Z.id:null,visible:null!==Z.visibility?Z.visibility:!0,opacity:Z.opacity,refreshInterval:Z.refreshInterval},Z.locationInfo&&(Ba.latitudeFieldName=Z.locationInfo.latitudeFieldName,Ba.longitudeFieldName=Z.locationInfo.longitudeFieldName),!Ea.ignorePopups&&Z.popupInfo&&(Ba.infoTemplate=new Ua(Z.popupInfo)),Qa=new Bb(Z.url,Ba);else if("VectorTileLayer"===Z.layerType&&Z.styleUrl)Qa=new Tb(Z.styleUrl,{id:Z.id,minScale:Z.minScale,maxScale:Z.maxScale,opacity:Z.opacity,visible:Z.visibility});else if(Z.layerDefinition&&
!Z.url)Ba=t.fromJson(t.toJson(Z)),delete Ba.id,delete Ba.opacity,delete Ba.visibility,Qa=new O(Ba,{id:Z.id,opacity:Z.opacity,visible:Z.visibility,outFields:["*"],autoGeneralize:!0}),Ea.ignorePopups||!Ba.popupInfo||Ba.disablePopup||Qa.setInfoTemplate(new Ua(Ba.popupInfo)),Sa(Qa);else if(N(Z))Ea.bingMapsKey?(Ba=Gb.MAP_STYLE_AERIAL_WITH_LABELS,S(Z)?Ba=Gb.MAP_STYLE_AERIAL:M(Z)&&(Ba=Gb.MAP_STYLE_ROAD),Qa=new Gb({bingMapsKey:Ea.bingMapsKey,mapStyle:Ba,opacity:Z.opacity,id:Z.id}),m.connect(Qa,"onError",
A.hitch(this,function(gb){gb.errors=gb.errors||[];gb.errors.push({message:"This application does not have a valid Bing Key for the Bing layer that is included in this map. [type:"+(gb?gb.layerType||gb.type:"")+"]"})},Z))):(Z.errors=Z.errors||[],Z.errors.push({message:"This application does not provide a Bing Key for the Bing layer that is included in this map. [type:"+(Z?Z.layerType||Z.type:"")+"]"}));else if(Z.resourceInfo&&(Z.resourceInfo.mapName||""===Z.resourceInfo.mapName))Qa=!0===Z.resourceInfo.singleFusedMapCache&&
(Z.baseMapLayer||fa(Z,Fa,Ba)&&ra(Z,Ia,Pa))?qa(Z,Ua,Ea):Ca(Z,Ua,Ea);else if(Z.resourceInfo&&Z.resourceInfo.pixelSizeX)Qa=!0===Z.resourceInfo.singleFusedMapCache&&"ArcGISImageServiceLayer"!==Z.layerType&&(Z.baseMapLayer||"Raster"===Z.resourceInfo.cacheType||fa(Z,Fa,Ba)&&ra(Z,Ia,Pa))?qa(Z,Ua,Ea):ha(Z,Ua,Ea);else if(Z.resourceInfo&&"Feature Layer"===Z.resourceInfo.type){Z.capabilities&&(Z.resourceInfo.capabilities=Z.capabilities);var db;!1===Ea.editable?db=!1:Ea.privileges&&-1===a.indexOf(Ea.privileges,
"features:user:edit")&&k.id&&k.id.findCredential(Z.url)&&(db=!1);Qa=new O(ma(Z.url),{resourceInfo:Z.resourceInfo,opacity:Z.opacity,visible:Z.visibility,id:Z.id,mode:Z.mode===O.MODE_SELECTION?O.MODE_SELECTION:O.MODE_AUTO,editable:db,outFields:["*"],autoGeneralize:!0,refreshInterval:Z.refreshInterval});Ea.ignorePopups||!Z.popupInfo||Z.disablePopup||Qa.setInfoTemplate(new Ua(Z.popupInfo));Z.layerDefinition&&(Z.layerDefinition.drawingInfo&&Z.layerDefinition.drawingInfo.renderer&&(Ba=H.fromJson(Z.layerDefinition.drawingInfo.renderer,
{geometryType:Qa.geometryType}),Ba.isMaxInclusive=!0,Qa.setRenderer(Ba)),Z.layerDefinition.drawingInfo&&Z.layerDefinition.drawingInfo.labelingInfo&&(Ba=a.map(Z.layerDefinition.drawingInfo.labelingInfo,function(gb){return new Rb(gb)}),Qa.setLabelingInfo(Ba)),Z.layerDefinition.definitionExpression&&Qa.setDefinitionExpression(Z.layerDefinition.definitionExpression),g.isDefined(Z.layerDefinition.minScale)&&Qa.setMinScale(Z.layerDefinition.minScale),g.isDefined(Z.layerDefinition.maxScale)&&Qa.setMaxScale(Z.layerDefinition.maxScale));
Sa(Qa)}else Z.resourceInfo&&Z.resourceInfo.streamUrls&&(Ba={resourceInfo:Z.resourceInfo,opacity:Z.opacity,visible:Z.visibility,id:Z.id},Z.layerDefinition&&(eb=Z.layerDefinition.drawingInfo,Z.layerDefinition.definitionGeometry&&(Za=Za||{},Za.geometry=Z.layerDefinition.definitionGeometry),g.isDefined(Z.layerDefinition.definitionExpression)&&(Za=Za||{},Za.where=Z.layerDefinition.definitionExpression),g.isDefined(Z.layerDefinition.maximumTrackPoints)&&(Ba.maximumTrackPoints=Z.layerDefinition.maximumTrackPoints)),
Za&&(Ba.filter=Za),Z.purgeOptions&&(Ba.purgeOptions=Z.purgeOptions),Qa=new Sb(ma(Z.url),Ba),eb&&eb.renderer&&(Ba=eb.renderer,Qa.setRenderer(H.fromJson(Ba,{geometryType:Z.resourceInfo.geometryType}))),eb&&eb.labelingInfo&&(Ba=a.map(eb.labelingInfo,function(gb){return new Rb(gb)}),Qa.setLabelingInfo(Ba)),Ea.ignorePopups||!Z.popupInfo||Z.disablePopup||Qa.setInfoTemplate(new Ua(Z.popupInfo)),Z.layerDefinition&&(g.isDefined(Z.layerDefinition.minScale)&&Qa.setMinScale(Z.layerDefinition.minScale),g.isDefined(Z.layerDefinition.maxScale)&&
Qa.setMaxScale(Z.layerDefinition.maxScale)),h.once(Qa,"error",function(gb){Z.errors.push({message:"Error loading stream layer. Check websocket url"})}));else Qa=new Nb(Z.url,{id:Z.id,opacity:Z.opacity,outSpatialReference:Ba,refreshInterval:Z.refreshInterval}),m.connect(Qa,"onLoad",function(){!1===Z.visibility&&Qa.hide();g.isDefined(Z.minScale)&&g.isDefined(Z.maxScale)&&Qa.setScaleRange(Z.minScale,Z.maxScale);var gb=Qa.getFeatureLayers();a.forEach(gb,function(jb){Z.pointSymbol&&"esriGeometryPoint"===
jb.geometryType?(jb.renderer.symbol=F.fromJson(Z.pointSymbol),1===gb.length&&(Qa.pointSymbol=F.fromJson(Z.pointSymbol))):Z.lineSymbol&&"esriGeometryPolyline"===jb.geometryType?(jb.renderer.symbol=F.fromJson(Z.lineSymbol),1===gb.length&&(Qa.polylineSymbol=F.fromJson(Z.lineSymbol))):Z.polygonSymbol&&"esriGeometryPolygon"===jb.geometryType&&(jb.renderer.symbol=F.fromJson(Z.polygonSymbol),1===gb.length&&(Qa.polygonSymbol=F.fromJson(Z.polygonSymbol)))})});else if(Qa=new Vb(Z.templateUrl,{id:Z.id,visible:null!==
Z.visibility?Z.visibility:!0,opacity:Z.opacity,copyright:Z.copyright,fullExtent:Z.fullExtent&&new y(Z.fullExtent),initialExtent:Z.fullExtent&&new y(Z.fullExtent),subDomains:Z.subDomains,tileInfo:Z.tileInfo?new dc(Z.tileInfo):null,refreshInterval:Z.refreshInterval,wmtsInfo:Z.wmtsInfo}),g.isDefined(Z.minScale)||g.isDefined(Z.maxScale))Qa.loaded?Qa.setScaleRange(Z.minScale,Z.maxScale):m.connect(Qa,"onLoad",function(){Qa.setScaleRange(Z.minScale,Z.maxScale)});Qa&&(Qa.arcgisProps={title:Z.title},Z.baseMapLayer&&
(Z.isReference?(Qa.attr("data-reference",!0),Qa._basemapGalleryLayerType="reference"):Qa._basemapGalleryLayerType="basemap"),Qa instanceof O&&Z.layerDefinition&&Z.layerDefinition.featureReduction&&"cluster"===Z.layerDefinition.featureReduction.type&&(Ba=Z.layerDefinition.featureReduction,Ba.clusterSize&&(Ba.clusterSize=f.pt2px(Ba.clusterSize)),Ba.clusterRadius&&(Ba.clusterRadius=f.pt2px(Ba.clusterRadius)),Ba.popupInfo&&(Ba.infoTemplate=new E(Ba.popupInfo),delete Ba.popupInfo),Qa.setFeatureReduction(Ba)));
return Qa}function Ga(Z,Fa,Ea,Ba,Ia){a.forEach(Z,function(Qa){Qa.layerObject=wa(Qa,Z,Fa,Ea,Ba,Ia)});var Pa=a.filter(Z,function(Qa){return!Qa.isReference}),Ua=a.filter(Z,function(Qa){return!!Qa.isReference});return Z=Pa.concat(Ua)}function Na(Z){var Fa=null;Z=Z[0];Z.url&&V(Z)&&Z.resourceInfo.spatialReference&&(Fa=new x,Z.resourceInfo.spatialReference.wkid&&(Fa.wkid=Z.resourceInfo.spatialReference.wkid),Z.resourceInfo.spatialReference.wkt&&(Fa.wkt=Z.resourceInfo.spatialReference.wkt));N(Z)||T(Z)?Fa=
new x({wkid:102100}):Z&&("WMS"===Z.layerType||"WMS"===Z.type)&&(Fa=new x({wkid:Z.spatialReferences[0]}));return Fa}function Ra(Z,Fa,Ea,Ba,Ia,Pa,Ua,Qa){a.forEach(Fa,function(Wa){Wa.url&&V(Wa)&&(Wa.resourceInfo=Z[Wa.deferredsPos][1],delete Wa.deferredsPos)});Pa=Pa||Na(Fa);Fa=Ga(Fa,Ea,Pa,Ua,Qa);Ia.callback(Fa);return Ia}function Sa(Z){!window.CanvasRenderingContext2D&&Z.renderer&&"esri.renderer.HeatmapRenderer"===Z.renderer.declaredClass&&Z.setRenderer(H.fromJson({type:"simple",symbol:{color:[77,77,
77,255],size:6,angle:0,xoffset:0,yoffset:0,type:"esriSMS",style:"esriSMSCircle",outline:{color:[255,255,255,255],width:.75,type:"esriSLS",style:"esriSLSSolid"}}}))}function La(Z,Fa){var Ea=ma(Z);return q({url:Ea,content:{f:"json"},callbackParamName:"callback",error:function(Ba,Ia){Ba.message=Ba.message?Ba.message+(" [url:"+Ea+"]"):"[url:"+Ea+"]";Fa.push(Ba);u.defaults.io.errorHandler(Ba,Ia)}})}function W(Z){var Fa=za.arcgisUrl+"/"+Z.itemId+"/data";return q({url:Fa,content:{f:"json"},callbackParamName:"callback",
error:function(Ea,Ba){Ea.message=Ea.message?Ea.message+(" [url:"+Fa+"]"):"[url:"+Fa+"]";Z.errors=Z.errors||[];Z.errors.push(Ea);u.defaults.io.errorHandler(Ea,Ba)}})}function ia(Z,Fa,Ea){var Ba=new p;if(!(Ea.featureCollection&&Ea.featureCollection.layers||Ea.layers))return console.log("Invalid Feature Collection item data [item id: "+Z.itemId+"]: ",Ea),Z.errors=Z.errors||[],Z.errors.push({message:"Invalid Feature Collection item data. [item id: "+Z.itemId+"]"}),Ba.errback(),Ba;Ea.layers&&(Ea.featureCollection=
{layers:Ea.layers},delete Ea.layers,g.isDefined(Ea.showLegend)&&(Ea.featureCollection.showLegend=Ea.showLegend,delete Ea.showLegend));sa(Z,Ea.featureCollection,Fa).then(function(Ia){Ea.featureCollection=Ia;Z.featureCollection&&Z.featureCollection.layers?a.forEach(Ea.featureCollection.layers,function(Pa,Ua){Ua=Z.featureCollection.layers[Ua];Ua.popupInfo||Ua.layerDefinition?Ua.layerDefinition?(g.isDefined(Ua.layerDefinition.minScale)&&g.isDefined(Ua.layerDefinition.maxScale)&&(Ua.layerDefinition.minScale!==
Pa.layerDefinition.minScale||Ua.layerDefinition.maxScale!==Pa.layerDefinition.maxScale)&&(delete Pa.layerDefinition.minScale,delete Pa.layerDefinition.maxScale),Ua.layerDefinition.drawingInfo&&t.toJson(Ua.layerDefinition.drawingInfo)!==t.toJson(Pa.layerDefinition.drawingInfo)&&delete Pa.layerDefinition.drawingInfo,Ua.layerDefinition.showLegend!==Pa.layerDefinition.showLegend&&delete Pa.layerDefinition.showLegend,Ua.layerDefinition=A.mixin(Ua.layerDefinition,Pa.layerDefinition)):Ua.layerDefinition=
Pa.layerDefinition:(Ua.popupInfo=Pa.popupInfo,Ua.layerDefinition=Pa.layerDefinition);Ua.featureSet=Pa.featureSet;Ua.nextObjectId=Pa.nextObjectId}):(Z.featureCollection=Z.featureCollection||{},Z.featureCollection=A.mixin(Z.featureCollection,Ea.featureCollection));Ba.callback(Z)});return Ba}function sa(Z,Fa,Ea){var Ba=new p;G(["./csv"],function(Ia){var Pa=[];a.forEach(Fa.layers,function(Ua){Ua.featureSet&&Ua.featureSet.features&&Ua.featureSet.features.length&&Ua.featureSet.features[0].geometry&&Ua.featureSet.features[0].geometry.spatialReference&&
(Ua.deferredsPos=Pa.length,Pa.push(Ia.projectFeatureCollection(Ua,Ea,Ua.featureSet.features[0].geometry.spatialReference)))});(new c(Pa)).addCallback(function(){a.forEach(Fa.layers,function(Ua){g.isDefined(Ua.deferredsPos)&&(Pa[Ua.deferredsPos].results&&Pa[Ua.deferredsPos].results.length?Ua=Pa[Ua.deferredsPos].results[0]:(console.log("Errors projecting feature collection. ["+Z.title+" - "+Ua.layerDefinition.name+"]"),Ua.errors=Ua.errors||[],Ua.errors.push({message:"Errors projecting feature collection. ["+
Z.title+" - "+Ua.layerDefinition.name+"]"})),delete Ua.deferredsPos)});Ba.callback(Fa)})});return Ba}function X(Z,Fa,Ea,Ba,Ia){var Pa=new p,Ua=new p,Qa=[];a.forEach(Z.operationalLayers,function(Xa){Xa.itemId&&"Feature Collection"==Xa.type&&Qa.push(W(Xa).then(A.hitch(null,ia,Xa,Ea)))});if(0===Qa.length)na(Z,Fa,Ea,Ba,Ua,Ia);else{var Wa=new c(Qa);Wa.addCallback(function(Xa){na(Z,Fa,Ea,Ba,Ua,Ia)})}Ua.then(function(Xa){Qa=[];a.forEach(Xa,function(eb){eb=eb.layerObject;if(eb instanceof O&&!eb.loaded&&!eb.loadError){var Za=
new p;h.once(eb,"load, error",function(){Za.callback(eb)});Qa.push(Za)}else eb&&"esri.layers.WFSLayer"===eb.declaredClass&&!eb.loadError&&(Za=new p,h.once(eb,"fromJsonComplete, error",function(db){Za.callback(eb)}),Qa.push(Za))});if(Qa.length){var ab=new p;Wa=new c(Qa);Wa.addCallback(function(){ab.callback(Xa)});return ab.promise}return Xa}).then(function(Xa){var ab=[];a.forEach(Xa,function(eb){var Za=eb.layerObject;Za&&(Za instanceof O||"esri.layers.StreamLayer"===Za.declaredClass)?Za.loaded&&Za.labelingInfo&&
(eb.showLabels||Za._collection?ab.push(Za):Za.setShowLabels&&Za.setShowLabels(!1)):Za&&"esri.layers.WFSLayer"===Za.declaredClass&&Za.loaded&&Za.labelingInfo&&ab.push(Za)});ab.length?G(["../layers/LabelLayer"],function(eb){var Za=new eb;a.forEach(ab,function(db){Za.addFeatureLayer(db)});Xa.push({layerObject:Za});Pa.callback(Xa)}):Pa.callback(Xa)});return Pa}function na(Z,Fa,Ea,Ba,Ia,Pa){var Ua=[],Qa=[],Wa=[];a.forEach(Z.operationalLayers,function(Xa,ab){if(Xa.featureCollection&&Xa.featureCollection.layers){var eb=
Xa.featureCollection.layers.length;a.forEach(Xa.featureCollection.layers,function(Za,db){var gb=!0;Xa.visibleLayers&&-1==a.indexOf(Xa.visibleLayers,db)&&(gb=!1);Za.visibility=(null!=Xa.visibility?!!Xa.visibility:!0)&&gb;Za.opacity=Xa.opacity;Za.id=(Xa.id||"operational"+ab)+"_"+db;Xa.title&&(Za.title=1!==eb&&Za.layerDefinition.name&&Xa.title!==Za.layerDefinition.name?Xa.title+" - "+Za.layerDefinition.name:Xa.title);null==Za.disablePopup&&(Za.disablePopup=Xa.disablePopup);Wa.push(Za)},this)}else Wa.push(Xa)});
a.forEach(Z.baseMap.baseMapLayers,function(Xa,ab){Xa.baseMapLayer=!0;Xa.id=Xa.id||"base"+ab;Ua.push(Xa)});a.forEach(Wa,function(Xa,ab){Xa.id=Xa.id||"operational"+ab;Ua.push(Xa)});a.forEach(Ua,function(Xa){Xa.url&&V(Xa)&&(Xa.deferredsPos=Qa.length,Xa.errors=Xa.errors||[],Qa.push(La(Xa.url,Xa.errors)))});0===Qa.length?(Ea=Ea||Na(Ua),Ua=Ga(Ua,Fa,Ea,Ba,Pa),Ia.callback(Ua)):(new c(Qa)).addCallback(function(Xa){Ra(Xa,Ua,Fa,Qa,Ia,Ea,Ba,Pa)});return Ia}function ua(Z,Fa,Ea,Ba){var Ia=Z.minScale,Pa=Z.maxScale;
if(10.1>=Ea.version&&Fa)for(Z=Fa.length-1;0<=Z;Z--){if(Fa[Z].id==Ba)if(0==Ia&&0<Fa[Z].minScale?Ia=Fa[Z].minScale:0<Ia&&0==Fa[Z].minScale?Ia=Ea.minScale:0<Ia&&0<Fa[Z].minScale&&(Ia=Math.min(Ia,Fa[Z].minScale)),Pa=Math.max(Ea.maxScale||0,Fa[Z].maxScale||0),Ea.setScaleRange(Ia,Pa),-1<Fa[Z].parentLayerId)Ba=Fa[Z].parentLayerId;else break}else 10.1<Ea.version&&(a.forEach(Z.layerInfos,function(Ua){Ua.id==Ba&&(0==Ia&&0<Ua.minScale?Ia=Ua.minScale:0<Ia&&0==Ua.minScale||0<Ia&&0<Ua.minScale&&(Ia=Math.min(Ia,
Ua.minScale)),Pa=Math.max(Pa||0,Ua.maxScale||0))}),Ea.setScaleRange(Ia,Pa))}function ya(Z,Fa,Ea,Ba){var Ia=Z.url,Pa=Z.__popupIds,Ua=Z.__popupUrls,Qa=Z.__popupWhereClauses,Wa=Z.__popupMinScales,Xa=Z.__popupMaxScales,ab=Z.__resourceInfo,eb=[];a.forEach(Z.__popups,function(Za,db){if(Za){var gb=[];a.forEach(Za.fieldInfos,function(zb){"shape"!==zb.fieldName.toLowerCase()&&gb.push(zb.fieldName)});if(Z.dynamicLayerInfos&&0<Z.dynamicLayerInfos.length){var jb=a.filter(Z.dynamicLayerInfos,function(zb){return Pa[db]==
zb.id})[0].source;var Ib=new O(Ia+"/dynamicLayer",{parentLayer:Z,id:Z.id+"_"+Pa[db],source:jb,outFields:gb,mode:O.MODE_SELECTION,infoTemplate:Za&&new Ea(Za),drawMode:!1,visible:Z.visible,autoGeneralize:!0});var lc=function(zb,jc){0<Qa[zb].length&&jc.setDefinitionExpression(Qa[zb]);if(g.isDefined(Wa[zb])||g.isDefined(Xa[zb]))if(g.isDefined(Z.minScale)||g.isDefined(Z.maxScale)){var Ob=Z.minScale,kc=Z.maxScale;0==Ob&&0<Wa[zb]?Ob=Wa[zb]:0<Ob&&0==Wa[zb]||0<Ob&&0<Wa[zb]&&(Ob=Math.min(Ob,Wa[zb]));kc=Math.max(kc||
0,Xa[zb]||0);jc.setScaleRange(Ob,kc)}else jc.setScaleRange(Wa[zb],Xa[zb]);else ua(Z,Fa||ab.layers,jc,Pa[zb])};Ib.loaded?lc(db,Ib):m.connect(Ib,"onLoad",function(zb){lc(db,Ib)})}else{var ic=null,vb=Ia+"/"+Pa[db];if(Ua[db].length)vb=Ua[db];else if(Fa)for(jb=0;jb<Fa.length;jb++)if(Fa[jb].id===Pa[db]){ic=Fa[jb];break}Ib=new O(ma(vb),{parentLayer:Z,id:Z.id+"_"+Pa[db],outFields:gb,mode:O.MODE_SELECTION,infoTemplate:Za&&new Ea(Za),drawMode:!1,visible:Z.visible,resourceInfo:ic,autoGeneralize:!0});Ib.loaded?
(0<Qa[db].length&&Ib.setDefinitionExpression(Qa[db]),ua(Z,Fa||ab.layers,Ib,Pa[db])):m.connect(Ib,"onLoad",function(zb){0<Qa[db].length&&Ib.setDefinitionExpression(Qa[db]);ua(Z,Fa||ab.layers,zb,Pa[db])})}eb.push(Ib)}});0<eb.length&&(m.connect(Z,"onVisibilityChange",A.hitch(this,function(Za,db){a.forEach(Za,function(gb){db?gb.show():gb.hide()})},eb)),m.connect(Ba,"onLayerRemove",A.hitch(this,function(Za,db,gb){Za.id===gb.id&&a.forEach(db,function(jb){Ba.removeLayer(jb)})},Z,eb)));delete Z.__popups;
delete Z.__popupIds;delete Z.__popupUrls;delete Z.__popupWhereClauses;delete Z.__popupMinScales;delete Z.__popupMaxScales;delete Z.__resourceInfo;return eb}function Ha(Z){return q({url:ma(Z.url+"/layers"),content:{f:"json"},callbackParamName:"callback",error:function(){}})}function Oa(Z,Fa,Ea){var Ba=[];a.forEach(Z,function(Pa){var Ua=Pa.__popups;Ua&&1<Ua.length&&10<=Pa.version&&(Pa.__deferredsPos=Ba.length,Ba.push(Ha(Pa)))});var Ia=[];0<Ba.length?(new c(Ba)).addCallback(function(Pa){a.forEach(Z,
function(Ua){Ua.__popups&&0<Ua.__popups.length&&(Ua.__deferredsPos||0===Ua.__deferredsPos?(Ia=Ia.concat(ya(Ua,Pa[Ua.__deferredsPos][1].layers,Ea,Fa)),delete Ua.__deferredsPos):Ia=Ia.concat(ya(Ua,null,Ea,Fa)))});Fa.addLayers(Ia)}):(a.forEach(Z,function(Pa){Pa.__popups&&0<Pa.__popups.length&&(Ia=Ia.concat(ya(Pa,null,Ea,Fa)))}),Fa.addLayers(Ia))}function Ma(Z){a.forEach(Z,function(Fa){var Ea=Fa.layer;Ea.toJson&&(Fa=Ea.toJson(),Fa.featureSet&&Ea.name&&-1<Ea.name.indexOf("Text")&&a.forEach(Fa.featureSet.features,
function(Ba,Ia){Ba.attributes.TEXT&&(Ia=Ea.graphics[Ia],Ia.symbol.setText(Ba.attributes.TEXT),Ba.symbol.horizontalAlignment&&(Ia.symbol.align=Ba.symbol.horizontalAlignment),Ia.setSymbol(Ia.symbol),Ia.setAttributes(Ba.attributes))},this))})}function Da(Z){var Fa=6;a.forEach(Z,function(Ea){if(Ea=Ea.renderer)"esri.renderer.SimpleRenderer"===Ea.declaredClass?((Ea=Ea.symbol)&&Ea.xoffset&&(Fa=Math.max(Fa,Math.abs(Ea.xoffset))),Ea&&Ea.yoffset&&(Fa=Math.max(Fa,Math.abs(Ea.yoffset)))):"esri.renderer.UniqueValueRenderer"!==
Ea.declaredClass&&"esri.renderer.ClassBreaksRenderer"!==Ea.declaredClass||a.forEach(Ea.infos,function(Ba){(Ba=Ba.symbol)&&Ba.xoffset&&(Fa=Math.max(Fa,Math.abs(Ba.xoffset)));Ba&&Ba.yoffset&&(Fa=Math.max(Fa,Math.abs(Ba.yoffset)))})});return Fa}function Ka(Z){var Fa=this,Ea=Fa.infoWindow,Ba=Z.graphic;if(Fa.loaded){Ea.hide();Ea.clearFeatures();var Ia=[];a.forEach(Fa.graphicsLayerIds,function(Za){(Za=Fa.getLayer(Za))&&Za instanceof O&&Za.loaded&&Za.visible&&(Za.clearSelection(),Za.infoTemplate&&!Za.suspended&&
Ia.push(Za))});a.forEach(Fa.layerIds,function(Za){(Za=Fa.getLayer(Za))&&-1!==Za.declaredClass.indexOf("ArcGISImageServiceLayer")&&Za.loaded&&Za.visible&&Za.infoTemplate&&Ia.push(Za)});Ba=Ba&&Ba.getInfoTemplate()?Ba:null;if(Ia.length||Ba){var Pa=Da(Ia),Ua=Z.screenPoint,Qa=Fa.toMap(new C(Ua.x-Pa,Ua.y+Pa));Pa=Fa.toMap(new C(Ua.x+Pa,Ua.y-Pa));var Wa=new y(Qa.x,Qa.y,Pa.x,Pa.y,Fa.spatialReference),Xa=new J;Xa.geometry=Wa;Xa.timeExtent=Fa.timeExtent;var ab=!0;Qa=a.map(Ia,function(Za){Za=Za&&Za.isFeatureReductionActive&&
Za.isFeatureReductionActive()?Za.getFeatureReductionLayer():Za;if(-1!==Za.declaredClass.indexOf("ArcGISImageServiceLayer")){Xa.geometry=Z.mapPoint;ab=!1;var db=Za.queryVisibleRasters(Xa,{rasterAttributeTableFieldPrefix:"Raster.",returnDomainValues:!0});db.addCallback(function(){return Za.getVisibleRasters()})}else if("function"===typeof Za.selectFeatures)db=Za.selectFeatures(Xa),db.addCallback(function(){return Za.getSelectedFeatures()});else{db=new p;var gb=a.filter(Za.graphics,function(jb){return jb&&
jb.visible&&Wa.intersects(jb.geometry)});db.resolve(gb)}return db});Ba&&(Pa=new p,Pa.callback([Ba]),Qa.splice(0,0,Pa));if(!a.some(Qa,function(Za){return-1===Za.fired})){var eb=Ba?1:0;a.forEach(Ia,function(Za){eb=-1!==Za.declaredClass.indexOf("ArcGISImageServiceLayer")?eb+Za.getVisibleRasters().length:eb+Za.getSelectedFeatures().length});if(!eb)return}Ea.setFeatures(Qa);Ea.show(Z.mapPoint,{closestFirst:ab})}}}function Ja(Z,Fa){var Ea=Fa.mapOptions||{};if(!Ea.infoWindow){var Ba=new I({visibleWhenEmpty:!1},
b.create("div"));Ea.infoWindow=Ba}g.isDefined(Ea.showInfoWindowOnClick)||Fa.usePopupManager||(Ea.showInfoWindowOnClick=!1);Z=new w(Z,Ea);m.connect(Z,"onLayersAddResult",Ma);return Z}function Va(Z,Fa,Ea,Ba,Ia,Pa){if(Ba.map){var Ua=Ba.map;var Qa=Ba.clickEventHandle;var Wa=Ba.clickEventListener;var Xa=Ba.errors}else{var ab=Ea.itemData;!Ia.mapOptions.backgroundColor&&ab.background&&ab.background.color&&null!=ab.background.color[0]&&(Ia.mapOptions.backgroundColor=v.toDojoColor(ab.background.color));Ua=
Ja(Ba,Ia);Ia.ignorePopups||Ia.disableClickBehavior||Ia.usePopupManager||(Qa=m.connect(Ua,"onClick",Ka),Wa=Ka)}Ua.addLayers(Z);Ia.ignorePopups||Ia.usePopupManager||Oa(Z,Ua,Ia._clazz);var eb=Xa||[];a.forEach(Fa,function(Za){Za.errors&&(eb=eb.concat(Za.errors))},this);Ua.loaded?Pa.callback({map:Ua,itemInfo:Ea,errors:eb,clickEventHandle:Qa,clickEventListener:Wa}):m.connect(Ua,"onLoad",function(){Pa.callback({map:Ua,itemInfo:Ea,errors:eb,clickEventHandle:Qa,clickEventListener:Wa})})}function fb(Z,Fa,Ea,
Ba,Ia){var Pa=[];a.forEach(Ia,function(Wa){A.isArray(Wa.layerObject)?a.forEach(Wa.layerObject,function(Xa){Pa.push(Xa)}):Pa.push(Wa.layerObject)});if(N(Ia[0]))var Ua=setInterval(function(){if(Ia[0].layerObject&&Ia[0].layerObject.loaded)clearInterval(Ua),bb(Z,Fa,Ea,Ba,Ia,Pa);else if(Ia[0].errors){clearInterval(Ua);var Wa="";Ia[0].errors&&Ia[0].errors.length&&(Wa=" ("+Ia[0].errors[0].message+")");Ba.errback(Error(U.arcgis.utils.baseLayerError+Wa))}},10);else if(!Pa[0]&&Ia[0].baseMapLayer){var Qa="";
Ia[0].errors&&Ia[0].errors.length&&(Qa=" ("+Ia[0].errors[0].message+")");Ba.errback(Error(U.arcgis.utils.baseLayerError+Qa))}else bb(Z,Fa,Ea,Ba,Ia,Pa)}function bb(Z,Fa,Ea,Ba,Ia,Pa){try{var Ua=Ea.mapOptions||{};Ea.mapOptions=Ua;Pa=a.filter(Pa,g.isDefined);if(Fa.map||Ua.extent)Va(Pa,Ia,Z,Fa,Ea,Ba);else{var Qa=Pa[0].spatialReference;if(Ua.center&&(null!=Ua.zoom||Ua.scale)&&(A.isArray(Ua.center)&&(Ua.center=new z(Ua.center)),D.canProject(Ua.center,Qa))){Va(Pa,Ia,Z,Fa,Ea,Ba);return}var Wa=Z.item;if(Wa&&
Wa.extent&&Wa.extent.length){var Xa=new y(Wa.extent[0][0],Wa.extent[0][1],Wa.extent[1][0],Wa.extent[1][1],new x({wkid:4326}));4326===Qa.wkid?(Ua.extent=Xa,Va(Pa,Ia,Z,Fa,Ea,Ba)):900913===Qa.wkid||102100===Qa.wkid||102113===Qa.wkid||3857===Qa.wkid?(Xa.xmin=Math.max(Xa.xmin,-180),Xa.xmax=Math.min(Xa.xmax,180),Xa.ymin=Math.max(Xa.ymin,-89.99),Xa.ymax=Math.min(Xa.ymax,89.99),Ua.extent=D.geographicToWebMercator(Xa),Va(Pa,Ia,Z,Fa,Ea,Ba)):Ea.geometryServiceURL||u.defaults.geometryService?(Ea.geometryServiceURL?
new K(Ea.geometryServiceURL):u.defaults.geometryService).project([Xa],Qa,function(ab){ab=ab[0];Ua.extent=Ua.extent||ab;Va(Pa,Ia,Z,Fa,Ea,Ba)},function(){Va(Pa,Ia,Z,Fa,Ea,Ba)}):Ba.errback(Error(U.arcgis.utils.geometryServiceError))}else Va(Pa,Ia,Z,Fa,Ea,Ba)}}catch(ab){Ba.errback(ab)}}function kb(Z){var Fa=[];a.forEach(Z.operationalLayers,function(Ea){Ea.featureCollection?Fa.push({featureCollection:Ea.featureCollection,visibility:null!=Ea.visibility?!!Ea.visibility:!0,title:Ea.title}):Ea.layerObject&&
Fa.push({layer:Ea.layerObject,visibility:null!=Ea.visibility?!!Ea.visibility:!0,title:Ea.title})});return Fa}function hb(Z){var Fa=[],Ea=Z.baseMap.baseMapLayers;Z.operationalLayers&&(Ea=Ea.concat(Z.operationalLayers));a.forEach(Ea,function(Ba){var Ia={};if(Ba.featureCollection&&(!Ba||"CSV"!==Ba.layerType&&"CSV"!==Ba.type))!0===Ba.featureCollection.showLegend&&a.forEach(Ba.featureCollection.layers,function(Qa){if(!1!==Qa.showLegend){var Wa=Qa.layerObject.renderer;Ia={layer:Qa.layerObject,title:Ba.title,
defaultSymbol:Wa&&Wa.defaultSymbol&&Wa.defaultLabel?!0:!1};1<Ba.featureCollection.layers.length&&(Ia.title+=" - "+Qa.layerDefinition.name);Fa.push(Ia)}});else if(Ba.baseMapLayer&&!0===Ba.showLegend&&Ba.layerObject||!Ba.baseMapLayer&&!1!==Ba.showLegend&&Ba.layerObject&&!(Ba.layerObject instanceof O&&Ba.layerObject.mode===O.MODE_SELECTION)){var Pa=Ba.layerObject.renderer,Ua=Ba.layerObject.declaredClass;Pa=!Pa||Pa&&Pa.defaultSymbol&&Pa.defaultLabel?!0:!1;if(10.1>Ba.layerObject.version&&("esri.layers.ArcGISDynamicMapServiceLayer"===
Ua||"esri.layers.ArcGISTiledMapServiceLayer"===Ua)||"esri.layers.ArcGISImageServiceLayer"===Ua)Pa=!0;Ia={layer:Ba.layerObject,title:Ba.title,defaultSymbol:Pa};Ba.layers&&(Ua=a.map(a.filter(Ba.layers,function(Qa){return!1===Qa.showLegend}),function(Qa){return Qa.id}),Ua.length&&(Ia.hideLayers=Ua));Fa.push(Ia)}});return Fa}function nb(Z,Fa){function Ea(Qa,Wa){a.forEach(Qa,function(Xa,ab){switch(Xa){case "../layers/ArcGISDynamicMapServiceLayer":mb=Wa[ab];break;case "../layers/ArcGISImageServiceLayer":rb=
Wa[ab];break;case "../layers/ArcGISImageServiceVectorLayer":Hb=Wa[ab];break;case "../layers/CSVLayer":Bb=Wa[ab];break;case "../layers/DynamicLayerInfo":wb=Wa[ab];break;case "../layers/GeoRSSLayer":Nb=Wa[ab];break;case "../layers/ImageParameters":xb=Wa[ab];break;case "../layers/ImageServiceParameters":Ab=Wa[ab];break;case "../layers/KMLLayer":Jb=Wa[ab];break;case "../layers/LabelClass":Rb=Wa[ab];break;case "../layers/LayerDrawingOptions":Fb=Wa[ab];break;case "../layers/MosaicRule":Lb=Wa[ab];break;
case "../layers/OpenStreetMapLayer":Yb=Wa[ab];break;case "../layers/RasterFunction":Qb=Wa[ab];break;case "../layers/RasterXLayer":Pb=Wa[ab];break;case "../layers/StreamLayer":Sb=Wa[ab];break;case "../layers/TileInfo":dc=Wa[ab];break;case "../layers/VectorTileLayer":Tb=Wa[ab];break;case "../virtualearth/VETiledLayer":Gb=Wa[ab];break;case "../layers/WebTiledLayer":Vb=Wa[ab];break;case "../layers/WFSLayer":Zb=Wa[ab];break;case "../layers/WMSLayer":ec=Wa[ab];break;case "../layers/WMSLayerInfo":Wb=Wa[ab]}})}
var Ba=new p;Z=Z.itemData;Fa=[];Z.baseMap&&Z.baseMap.baseMapLayers&&(Fa=Fa.concat(Z.baseMap.baseMapLayers));Z.operationalLayers&&(Fa=Fa.concat(Z.operationalLayers));Z=a.map(Fa,function(Qa){return Qa&&Qa.layerType});var Ia=[],Pa=[];Fa=!1;for(var Ua=0;Ua<Z.length;Ua++){switch(Z[Ua]){case "ArcGISFeatureLayer":-1===a.indexOf(Ia,"../layers/LabelClass")&&Ia.push("../layers/LabelClass");break;case "ArcGISImageServiceLayer":case "ArcGISTiledImageServiceLayer":-1===a.indexOf(Ia,"../layers/ArcGISImageServiceLayer")&&
(Ia.push("../layers/ArcGISImageServiceLayer"),Pa.push("../layers/ImageServiceParameters"),Pa.push("../layers/MosaicRule"),Pa.push("../layers/RasterFunction"),Ia.push("../layers/RasterXLayer"));break;case "ArcGISImageServiceVectorLayer":-1===a.indexOf(Ia,"../layers/ArcGISImageServiceVectorLayer")&&(Ia.push("../layers/ArcGISImageServiceVectorLayer"),Pa.push("../layers/ImageServiceParameters"),Pa.push("../layers/MosaicRule"),Pa.push("../layers/RasterFunction"));break;case "ArcGISMapServiceLayer":case "ArcGISTiledMapServiceLayer":-1===
a.indexOf(Ia,"../layers/ArcGISDynamicMapServiceLayer")&&(Ia.push("../layers/ArcGISDynamicMapServiceLayer"),Pa.push("../layers/DynamicLayerInfo"),Pa.push("../layers/ImageParameters"),Pa.push("../layers/LayerDrawingOptions"));break;case "ArcGISStreamLayer":-1===a.indexOf(Ia,"../layers/StreamLayer")&&Ia.push("../layers/StreamLayer");-1===a.indexOf(Ia,"../layers/LabelClass")&&Ia.push("../layers/LabelClass");break;case "BingMapsAerial":case "BingMapsHybrid":case "BingMapsRoad":-1===a.indexOf(Ia,"../virtualearth/VETiledLayer")&&
Ia.push("../virtualearth/VETiledLayer");break;case "CSV":-1===a.indexOf(Ia,"../layers/CSVLayer")&&(Ia.push("../layers/CSVLayer"),Pa.push("./csv"));break;case "GeoRSS":-1===a.indexOf(Ia,"../layers/GeoRSSLayer")&&Ia.push("../layers/GeoRSSLayer");break;case "KML":-1===a.indexOf(Ia,"../layers/KMLLayer")&&Ia.push("../layers/KMLLayer");break;case "OpenStreetMap":-1===a.indexOf(Ia,"../layers/OpenStreetMapLayer")&&Ia.push("../layers/OpenStreetMapLayer");break;case "VectorTileLayer":-1===a.indexOf(Ia,"../layers/VectorTileLayer")&&
Ia.push("../layers/VectorTileLayer");break;case "WebTiledLayer":-1===a.indexOf(Ia,"../layers/WebTiledLayer")&&(Ia.push("../layers/WebTiledLayer"),Pa.push("../layers/TileInfo"));break;case "WFS":-1===a.indexOf(Ia,"../layers/WFSLayer")&&Ia.push("../layers/WFSLayer");break;case "WMS":-1===a.indexOf(Ia,"../layers/WMSLayer")&&(Ia.push("../layers/WMSLayer"),Pa.push("../layers/WMSLayerInfo"));break;default:Fa=!0}if(Fa)break}Fa&&(Ia=gc,Pa=Mb);Ia.length?G(Ia,function(){Ea(Ia,arguments);Pa.length?G(Pa,function(){Ea(Pa,
arguments);Ba.resolve()}):Ba.resolve()}):Ba.resolve();return Ba}function tb(Z){Z=Z.itemData;var Fa=function(Ba,Ia){"GroupLayer"===Ba.layerType?a.forEach(Ba.layers,function(Pa){Pa.visibility=!1===Ba.visibility?!1:Pa.visibility;Pa.opacity=g.isDefined(Ba.opacity)?g.isDefined(Pa.opacity)?Pa.opacity*Ba.opacity:Ba.opacity:Pa.opacity;Fa(Pa,Ia)}):Ia.push(Ba)},Ea=[];a.forEach(Z.operationalLayers,function(Ba){Fa(Ba,Ea)});Z.operationalLayers=Ea}function ob(Z,Fa,Ea,Ba){tb(Ba);var Ia=Ba.itemData;Ia.baseMap&&Ia.baseMap.baseMapLayers&&
Ia.baseMap.baseMapLayers.length&&(Ia.baseMap.baseMapLayers[0].firstLayer=!0);var Pa=Fa.layerMixins,Ua=Pa&&Pa.length;if(Ua){var Qa=function(Wa){for(var Xa=0;Xa<Ua;Xa++){var ab=Pa[Xa];if(ab.mixin)if(ab.hasOwnProperty("id")){if(Wa.id===ab.id){A.mixin(Wa,ab.mixin);break}}else if(Wa.url===ab.url){A.mixin(Wa,ab.mixin);break}}};a.forEach(Ia.baseMap&&Ia.baseMap.baseMapLayers,Qa);a.forEach(Ia.operationalLayers,Qa)}nb(Ba,Fa).then(function(){return ja(Ba,Fa)}).then(function(){return Y(Ba,Fa)}).then(function(Wa){var Xa=
Wa[0],ab=Wa[1];if(Xa.itemData.operationalLayers&&0!==Xa.itemData.operationalLayers.length){var eb=new p,Za=Xa.itemData.baseMap.baseMapLayers.slice(),db=a.filter(Xa.itemData.baseMap.baseMapLayers,function(gb){return!gb.isReference});Wa={item:Xa.item,itemData:{baseMap:{baseMapLayers:db},background:A.clone(Xa.itemData.background)}};Xa.itemData.baseMap.baseMapLayers=a.filter(Xa.itemData.baseMap.baseMapLayers,function(gb){return gb.isReference});Q(Wa,ab).addCallback(function(gb){X(gb.itemData,ab).addCallback(A.hitch(null,
fb,gb,Z,ab,eb))});eb.then(function(gb){Q(Xa,ab).addCallback(function(jb){X(jb.itemData,ab,gb.map.spatialReference,db,gb.map).addCallback(function(Ib){jb.itemData.baseMap.baseMapLayers=Za;fb(jb,gb,ab,Ea,Ib)})})},A.hitch(Ea,Ea.errback))}else Q(Xa,ab).addCallback(function(gb){X(gb.itemData,ab).addCallback(A.hitch(null,fb,gb,Z,ab,Ea))})})}function ib(Z,Fa){"undefined"===typeof Fa&&(Fa=!0);za._arcgisUrl&&0<za._arcgisUrl.length&&(za.arcgisUrl=za._arcgisUrl);var Ea={},Ba=new p;q({url:za.arcgisUrl+"/"+Z,
content:{f:"json"},callbackParamName:"callback",load:function(Ia){Ea.item=Ia;Fa?q({url:za.arcgisUrl+"/"+Z+"/data",content:{f:"json"},callbackParamName:"callback",load:function(Pa){Ea.itemData=Pa;Ba.callback(Ea)},error:function(Pa){Ba.errback(Pa)}}):Ba.callback(Ea)},error:function(Ia){Ba.errback(Ia)}});return Ba}var mb,rb,Hb,Bb,wb,Nb,xb,Ab,Jb,Rb,Fb,Lb,Yb,Qb,Pb,Sb,dc,Tb,Gb,Vb,Zb,ec,Wb,gc="../layers/ArcGISDynamicMapServiceLayer ../layers/ArcGISImageServiceLayer ../layers/ArcGISImageServiceVectorLayer ../layers/CSVLayer ../layers/GeoRSSLayer ../layers/KMLLayer ../layers/LabelClass ../layers/OpenStreetMapLayer ../layers/RasterXLayer ../layers/StreamLayer ../layers/VectorTileLayer ../virtualearth/VETiledLayer ../layers/WebTiledLayer ../layers/WFSLayer ../layers/WMSLayer".split(" "),
Mb="./csv ../layers/DynamicLayerInfo ../layers/ImageParameters ../layers/ImageServiceParameters ../layers/LayerDrawingOptions ../layers/MosaicRule ../layers/RasterFunction ../layers/TileInfo ../layers/WMSLayerInfo".split(" ");var za={arcgisUrl:B.getProtocolForWebResource()+"//www.arcgis.com/sharing/rest/content/items",getItem:ib,createMap:function(Z,Fa,Ea){var Ba=new p;Ea=Ea||{};var Ia=Ea.infoTemplateClass;Ea._clazz=Ia&&(A.isObject(Ia)?Ia:A.getObject(Ia))||E;A.isString(Z)?ib(Z).addCallback(A.hitch(null,
ob,Fa,Ea,Ba)).addErrback(A.hitch(Ba,Ba.errback)):ob(Fa,Ea,Ba,Z);Ba.addCallback(function(Pa){var Ua=Pa.map;Ua&&(Ua.tables=A.getObject("itemInfo.itemData.tables",!1,Pa)||[])});return Ba},getLayerList:function(Z){return Z&&Z.itemInfo&&Z.itemInfo.itemData?kb(Z.itemInfo.itemData):[]},getLegendLayers:function(Z){return Z&&Z.itemInfo&&Z.itemInfo.itemData?hb(Z.itemInfo.itemData):[]},_arcgisUrl:null,_getItemProps:Q,_getItemData:ea,_getBingKey:P,_portalUrlResponse:pa,_portalUrlFailure:ka,_processFSItemProperties:ba,
_processSSItemProperties:la,_getLayers:X,_preBuildLayerObjects:Ra,_buildLayerObjects:Ga,_preCreateMap:fb,_getMapSR:Na,_createMap:Va,_addSelectionLayers:Oa,_createSelectionFeatureLayers:ya,_getServiceInfo:La,_getFeatureCollectionItem:W,_mergeFeatureCollectionItem:ia,_projectFeatureCollection:sa,_getLayersInfo:Ha,_initLayer:wa,_loadAsCached:qa,_loadAsDynamic:Ca,_processPopups:Aa,_onLayersAddResult:Ma,_sameSpatialReferenceAsBasemap:fa,_sameTilingSchemeAsBasemap:ra,_showPopup:Ka,_calculateClickTolerance:Da,
_getVisibleFeatureLayers:ta,_updateLayerScaleInfo:ua,_checkUrl:ma,_isHostedService:da,_isAgolService:ca,_getLegendLayers:hb};A.setObject("arcgis.utils",za,k);return za})},"esri/map":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/event dojo/on dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/a11yclick dijit/registry ./kernel ./config ./sniff ./lang ./_coremap ./MapNavigationManager dojo/i18n!./nls/jsapi".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D){var F={up:"panUp",right:"panRight",down:"panDown",left:"panLeft"},H={upperRight:"panUpperRight",lowerRight:"panLowerRight",lowerLeft:"panLowerLeft",upperLeft:"panUpperLeft"},E=m.connect,I=m.disconnect,J=k.create,K=v.set,L=p.hitch,O=u.getMarginBox,U=A.deprecated,S=p.mixin,M=0;A=a(C,{declaredClass:"esri.Map",constructor:function(N,T){T=T||{};S(this,{_slider:null,_navDiv:null,_mapParams:S({attributionWidth:.45,slider:!0,nav:!1,logo:!0,sliderStyle:"small",
sliderPosition:"top-left",sliderOrientation:"vertical",autoResize:!0},T)});S(this,{isMapNavigation:null!=T.isMapNavigation?T.isMapNavigation:!0,isDoubleClickZoom:null!=T.isDoubleClickZoom?T.isDoubleClickZoom:!0,isClickRecenter:null!=T.isClickRecenter?T.isClickRecenter:!0,isPan:null!=T.isPan?T.isPan:!0,isRubberBandZoom:null!=T.isRubberBandZoom?T.isRubberBandZoom:!0,isPinchZoom:null!=T.isPinchZoom?T.isPinchZoom:!0,isKeyboardNavigation:null!=T.isKeyboardNavigation?T.isKeyboardNavigation:!0,isScrollWheel:null!=
T.isScrollWheel?T.isScrollWheel:!0,isShiftDoubleClickZoom:!1,isScrollWheelZoom:!1,isPanArrows:!1,isZoomSlider:!1});p.isFunction(x._css)&&(x._css=x._css(this._mapParams.force3DTransforms),this.force3DTransforms=this._mapParams.force3DTransforms);N=B("esri-transforms")&&B("esri-transitions");this.navigationMode=this._mapParams.navigationMode||N&&"css-transforms"||"classic";"css-transforms"!==this.navigationMode||N||(this.navigationMode="classic");this.fadeOnZoom=z.isDefined(this._mapParams.fadeOnZoom)?
this._mapParams.fadeOnZoom:"css-transforms"===this.navigationMode;"css-transforms"!==this.navigationMode&&(this.fadeOnZoom=!1);this.setMapCursor("default");this.smartNavigation=T&&T.smartNavigation;if(!(z.isDefined(this.smartNavigation)||!B("mac")||B("esri-touch")||B("esri-pointer")||3.5>=B("ff"))){var V=navigator.userAgent.match(/Mac\s+OS\s+X\s+([\d]+)(\.|_)([\d]+)\D/i);V&&z.isDefined(V[1])&&z.isDefined(V[3])&&(N=parseInt(V[1],10),V=parseInt(V[3],10),this.smartNavigation=10<N||10===N&&6<=V)}this.showAttribution=
z.isDefined(this._mapParams.showAttribution)?this._mapParams.showAttribution:!0;this._onLoadHandler_connect=E(this,"onLoad",this,"_onLoadInitNavsHandler");var ea=J("div",{class:"esriControlsBR"+(this._mapParams.nav?" withPanArrows":"")},this.root);if(this.showAttribution)if(N=p.getObject("esri.dijit.Attribution",!1))this._initAttribution(N,ea);else{var P=M++,ba=this;this._rids&&this._rids.push(P);G(["./dijit/Attribution"],function(la){var Q=ba._rids?t.indexOf(ba._rids,P):-1;-1!==Q&&(ba._rids.splice(Q,
1),ba._initAttribution(la,ea))})}this._mapParams.logo&&(N={},6===B("ie")&&(N.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled\x3d'true', sizingMethod\x3d'crop', src\x3d'"+G.toUrl("./images/map/logo-med.png")+"')"),this._ogol=J("div",{style:N,tabIndex:"0",title:"Esri"},ea),this._setLogoSize(),this._onMapResizeLogo_connect=E(this,"onResize",this,"_setLogoSize"),this._ogol_connect=E(this._ogol,g,this,"_openLogoLink"));this.navigationManager=new y(this);T&&T.basemap&&(this._onLoadFix=
!0,this.setBasemap(T.basemap),this._onLoadFix=!1);if(this.autoResize=this._mapParams.autoResize)T=this._getEnclosingResizableWidget(this.container)||window,N=this.resize,this._rszSignal=h.pausable(T,"resize",N),this._oriSignal=h.pausable(window,"orientationchange",N),c.after(T,"resize",N,!0),this._startResizeTimer()},_startResizeTimer:function(){clearTimeout(this._persistentTimer);this._persistentTimer=setTimeout(this._timedResize,2*this.resizeDelay)},_getEnclosingResizableWidget:function(N){var T=
q.getEnclosingWidget(N);return T?T.resize?T:this._getEnclosingResizableWidget(N.parentNode):T},_setLogoSize:function(){this._ogol&&(25E4>this.root.clientWidth*this.root.clientHeight?(f.remove(this._ogol,"logo-med"),f.add(this._ogol,"logo-sm")):(f.remove(this._ogol,"logo-sm"),f.add(this._ogol,"logo-med")))},_initAttribution:function(N,T){T=J("span",{class:"esriAttribution"},T,"first");K(T,"maxWidth",Math.floor(this.width*this._mapParams.attributionWidth)+"px");this._connects.push(E(T,g,function(){f.contains(this,
"esriAttributionOpen")?f.remove(this,"esriAttributionOpen"):this.scrollWidth>this.clientWidth&&f.add(this,"esriAttributionOpen")}));this.attribution=new N({map:this},T)},_cleanUp:function(){this.disableMapNavigation();this.navigationManager.destroy();var N=this._slider;N&&N.destroy&&!N._destroyed&&N.destroy();N=this._navDiv;var T=this.attribution;N&&k.destroy(N);T&&T.destroy();this._connects.push(this._slider_connect,this._ogol_connect,this._rszSignal,this._oriSignal);t.forEach(this._connects,I);
clearInterval(this._persistentTimer);this.attribution=this.navigationManager=this._rids=this._connects=this._slider_connect=this._ogol_connect=this._rszSignal=this._oriSignal=this._persistentTimer=null;this.inherited("_cleanUp",arguments)},_isPanningOrZooming:function(){return this.__panning||this.__zooming},_canZoom:function(N){var T=this.getLevel();return!this.__tileInfo||!(T===this.getMinZoom()&&0>N||T===this.getMaxZoom()&&0<N)},_onLoadInitNavsHandler:function(){this._evalMapNavigation();this._createNav();
if("small"===this._mapParams.sliderStyle||!this._createSlider)this._createSimpleSlider();else if(this._mapParams.slider){var N=-1!==this._getSliderClass(!0).indexOf("Horizontal");N=[N?"dijit.form.HorizontalSlider":"dijit.form.VerticalSlider",N?"dijit.form.HorizontalRule":"dijit.form.VerticalRule",N?"dijit.form.HorizontalRuleLabels":"dijit.form.VerticalRuleLabels"];if(t.some(N,function(ea){return!p.getObject(ea,!1)})){N=t.map(N,function(ea){return ea.replace(/\./g,"/")});var T=M++,V=this;this._rids&&
this._rids.push(T);G(N,function(){var ea=V._rids?t.indexOf(V._rids,T):-1;-1!==ea&&(V._rids.splice(ea,1),V._createSlider.apply(V,arguments))})}else N=t.map(N,function(ea){return p.getObject(ea,!1)}),this._createSlider.apply(this,N)}I(this._onLoadHandler_connect)},_createNav:function(){if(this._mapParams.nav){var N,T=f.add,V=this.id;this._navDiv=J("div",{id:V+"_navdiv"},this.root);T(this._navDiv,"navDiv");var ea=this.width/2,P=this.height/2;for(N in F){var ba=F[N];var la=J("div",{id:V+"_pan_"+N},this._navDiv);
T(la,"fixedPan "+ba);if("up"===N||"down"===N){var Q=parseInt(O(la).w,10)/2;K(la,{left:ea-Q+"px",zIndex:30})}else Q=parseInt(O(la).h,10)/2,K(la,{top:P-Q+"px",zIndex:30});this._connects.push(E(la,"onclick",L(this,this[ba])))}this._onMapResizeNavHandler_connect=E(this,"onResize",this,"_onMapResizeNavHandler");for(N in H)ba=H[N],la=J("div",{id:V+"_pan_"+N,style:{zIndex:30}},this._navDiv),T(la,"fixedPan "+ba),this._connects.push(E(la,"onclick",L(this,this[ba])));this.isPanArrows=!0}},_onMapResizeNavHandler:function(N,
T,V){N=this.id;T/=2;V/=2;var ea=b.byId,P;for(P in F){var ba=ea(N+"_pan_"+P);if("up"===P||"down"===P){var la=parseInt(O(ba).w,10)/2;K(ba,"left",T-la+"px")}else la=parseInt(O(ba).h,10)/2,K(ba,"top",V-la+"px")}},_createSimpleSlider:function(){if(this._mapParams.slider){var N=this._slider=J("div",{id:this.id+"_zoom_slider",class:this._getSliderClass(),style:{zIndex:30}}),T=J("div",{class:"esriSimpleSliderIncrementButton",tabIndex:"0",role:"button"},N),V=J("div",{class:"esriSimpleSliderDecrementButton",
tabIndex:"0",role:"button"},N);this._addZoomButtonTooltips(T,V);this._incButton=T;this._decButton=V;this._simpleSliderZoomHandler(null,null,null,this.getLevel());var ea=D.widgets.zoomSlider;this._addZoomButtonIcon(T,"+",ea.zoomIn);this._addZoomButtonIcon(V,"\x26minus;",ea.zoomOut);8>B("ie")&&f.add(V,"dj_ie67Fix");this._connects.push(E(T,g,this,this._simpleSliderChangeHandler));this._connects.push(E(V,g,this,this._simpleSliderChangeHandler));(-1<this.getMaxZoom()||-1<this.getMinZoom())&&this._connects.push(E(this,
"onZoomEnd",this,this._simpleSliderZoomHandler));10>B("ie")&&b.setSelectable(N,!1);this.root.appendChild(N);this.isZoomSlider=!0}},_simpleSliderChangeHandler:function(N){n.stop(N);N=-1!==N.currentTarget.className.indexOf("IncrementButton")?!0:!1;this._extentUtil({numLevels:N?1:-1})},_simpleSliderZoomHandler:function(N,T,V,ea){var P;N=this._incButton;T=this._decButton;-1<ea&&ea===this.getMaxZoom()?P=N:-1<ea&&ea===this.getMinZoom()&&(P=T);P?(f.add(P,"esriSimpleSliderDisabledButton"),f.remove(P===N?
T:N,"esriSimpleSliderDisabledButton")):(f.remove(N,"esriSimpleSliderDisabledButton"),f.remove(T,"esriSimpleSliderDisabledButton"))},_getSliderClass:function(N){N=N?"Large":"Simple";var T=this._mapParams.sliderOrientation,V=this._mapParams.sliderPosition||"";T=T&&"horizontal"===T.toLowerCase()?"esri"+N+"SliderHorizontal":"esri"+N+"SliderVertical";if(V)switch(V.toLowerCase()){case "top-left":V="esri"+N+"SliderTL";break;case "top-right":V="esri"+N+"SliderTR";break;case "bottom-left":V="esri"+N+"SliderBL";
break;case "bottom-right":V="esri"+N+"SliderBR"}return"esri"+N+"Slider "+T+" "+V},_addZoomButtonIcon:function(N,T,V){k.create("span",{"aria-hidden":"true",role:"presentation",innerHTML:T},N);k.create("span",{class:"esriIconFallbackText",innerHTML:V},N)},_addZoomButtonTooltips:function(N,T){var V=D.widgets.zoomSlider;e.set(N,"title",V.zoomIn);e.set(T,"title",V.zoomOut)},_createSlider:function(N,T,V){if(this._mapParams.slider){var ea=J("div",{id:this.id+"_zoom_slider"},this.root),P=w.defaults.map,ba=
this._getSliderClass(!0),la=-1!==ba.indexOf("Horizontal"),Q=this.getNumLevels();if(0<Q){var Y,ja,pa=this._mapParams.sliderLabels,ka=!!pa,va=!1!==pa;if(va){var Aa=la?"bottomDecoration":"rightDecoration";if(!pa)for(pa=[],P=0;P<Q;P++)pa[P]="";t.forEach([{class:"esriLargeSliderTicks",container:Aa,count:Q,dijitClass:T},{class:ka&&"esriLargeSliderLabels",container:Aa,count:Q,labels:pa,dijitClass:V}],function(ca){var ma=J("div"),qa=ca.dijitClass;delete ca.dijitClass;ea.appendChild(ma);qa===T?Y=new qa(ca,
ma):ja=new qa(ca,ma)})}N=this._slider=new N({id:ea.id,class:ba,minimum:this.getMinZoom(),maximum:this.getMaxZoom(),discreteValues:Q,value:this.getLevel(),clickSelect:!0,intermediateChanges:!0,style:"z-index:30;"},ea);N.startup();va&&(Y.startup(),ja.startup());this._slider_connect=E(N,"onChange",this,"_onSliderChangeHandler");this._connects.push(E(this,"onExtentChange",this,"_onExtentChangeSliderHandler"));this._connects.push(E(N._movable,"onFirstMove",this,"_onSliderMoveStartHandler"))}else{N=this._slider=
new N({id:ea.id,class:ba,minimum:0,maximum:2,discreteValues:3,value:1,clickSelect:!0,intermediateChanges:P.sliderChangeImmediate,style:"height:50px; z-index:30;"},ea);V=N.domNode.firstChild.childNodes;for(P=1;3>=P;P++)K(V[P],"visibility","hidden");N.startup();this._slider_connect=E(N,"onChange",this,"_onDynSliderChangeHandler");this._connects.push(E(this,"onExtentChange",this,"_onExtentChangeDynSliderHandler"))}P=N.incrementButton;V=N.decrementButton;la?this._addZoomButtonTooltips(P,V):this._addZoomButtonTooltips(V,
P);P.style.outline="none";V.style.outline="none";N.sliderHandle.style.outline="none";N._onKeyPress=function(){};if(la=N._movable){var da=la.onMouseDown;la.onMouseDown=function(ca){9>B("ie")&&1!==ca.button||da.apply(this,arguments)}}this.isZoomSlider=!0}},_onSliderMoveStartHandler:function(){I(this._slider_connect);I(this._slidermovestop_connect);this._slider_connect=E(this._slider,"onChange",this,"_onSliderChangeDragHandler");this._slidermovestop_connect=E(this._slider._movable,"onMoveStop",this,
"_onSliderMoveEndHandler")},_onSliderChangeDragHandler:function(N){this._extentUtil({targetLevel:N})},_onSliderMoveEndHandler:function(){I(this._slider_connect);I(this._slidermovestop_connect)},_onSliderChangeHandler:function(N){this.setLevel(N)},_updateSliderValue:function(N,T){I(this._slider_connect);var V=this._slider,ea=V._onChangeActive;V._onChangeActive=!1;V.set("value",N);V._onChangeActive=ea;this._slider_connect=E(V,"onChange",this,T)},_onExtentChangeSliderHandler:function(N,T,V,ea){I(this._slidermovestop_connect);
this._updateSliderValue(ea.level,"_onSliderChangeHandler")},_onDynSliderChangeHandler:function(N){this._extentUtil({numLevels:0<N?1:-1})},_onExtentChangeDynSliderHandler:function(){this._updateSliderValue(1,"_onDynSliderChangeHandler")},_openLogoLink:function(N){window.open(w.defaults.map.logoLink,"_blank");n.stop(N)},enableMapNavigation:function(){this.isMapNavigation||(this.isMapNavigation=!0,this._evalMapNavigation())},disableMapNavigation:function(){this.isMapNavigation&&(this.isMapNavigation=
!1,this._evalMapNavigation())},_evalMapNavigation:function(){this.isMapNavigation?this.navigationManager.enableNavigation():this.navigationManager.disableNavigation()},_evalNavigationFeature:function(N){if(this.isMapNavigation&&this["is"+N])this.navigationManager["enable"+N]();else this.navigationManager["disable"+N]()},enableDoubleClickZoom:function(){this.isDoubleClickZoom||(this.isDoubleClickZoom=!0,this._evalNavigationFeature("DoubleClickZoom"))},disableDoubleClickZoom:function(){this.isDoubleClickZoom&&
(this.isDoubleClickZoom=!1,this._evalNavigationFeature("DoubleClickZoom"))},enableShiftDoubleClickZoom:function(){this.isShiftDoubleClickZoom||(U(this.declaredClass+": Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",null,"v2.0"),this.navigationManager.enableShiftDoubleClickZoom(),this.isShiftDoubleClickZoom=!0)},disableShiftDoubleClickZoom:function(){this.isShiftDoubleClickZoom&&(U(this.declaredClass+": Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",
null,"v2.0"),this.navigationManager.disableShiftDoubleClickZoom(),this.isShiftDoubleClickZoom=!1)},enableClickRecenter:function(){this.isClickRecenter||(this.isClickRecenter=!0,this._evalNavigationFeature("ClickRecenter"))},disableClickRecenter:function(){this.isClickRecenter&&(this.isClickRecenter=!1,this._evalNavigationFeature("ClickRecenter"))},enablePan:function(){this.isPan||(this.isPan=!0,this._evalNavigationFeature("Pan"))},disablePan:function(){this.isPan&&(this.isPan=!1,this._evalNavigationFeature("Pan"))},
enableRubberBandZoom:function(){this.isRubberBandZoom||(this.isRubberBandZoom=!0,this._evalNavigationFeature("RubberBandZoom"))},disableRubberBandZoom:function(){this.isRubberBandZoom&&(this.isRubberBandZoom=!1,this._evalNavigationFeature("RubberBandZoom"))},enablePinchZoom:function(){this.isPinchZoom||(this.isPinchZoom=!0,this._evalNavigationFeature("PinchZoom"))},disablePinchZoom:function(){this.isPinchZoom&&(this.isPinchZoom=!1,this._evalNavigationFeature("PinchZoom"))},enableKeyboardNavigation:function(){this.isKeyboardNavigation||
(this.isKeyboardNavigation=!0,this._evalNavigationFeature("KeyboardNavigation"))},disableKeyboardNavigation:function(){this.isKeyboardNavigation&&(this.isKeyboardNavigation=!1,this._evalNavigationFeature("KeyboardNavigation"))},enableScrollWheel:function(){this.isScrollWheel||(this.isScrollWheel=!0,this._evalNavigationFeature("ScrollWheel"))},disableScrollWheel:function(){this.isScrollWheel&&(this.isScrollWheel=!1,this._evalNavigationFeature("ScrollWheel"))},enableScrollWheelZoom:function(){this.isScrollWheelZoom||
(this.navigationManager.enableScrollWheelZoom(),this.isScrollWheelZoom=!0)},disableScrollWheelZoom:function(){this.isScrollWheelZoom&&(this.navigationManager.disableScrollWheelZoom(),this.isScrollWheelZoom=!1)},enableScrollWheelPan:function(){this.isScrollWheelPan||this.navigationManager.enableScrollWheelPan()},disableScrollWheelPan:function(){this.isScrollWheelPan&&this.navigationManager.disableScrollWheelPan()},showPanArrows:function(){this._navDiv&&(this._navDiv.style.display="block",this.isPanArrows=
!0)},hidePanArrows:function(){this._navDiv&&(this._navDiv.style.display="none",this.isPanArrows=!1)},showZoomSlider:function(){this._slider&&(K(this._slider.domNode||this._slider,"visibility","inherit"),this.isZoomSlider=!0)},hideZoomSlider:function(){this._slider&&(K(this._slider.domNode||this._slider,"visibility","hidden"),this.isZoomSlider=!1)},onClick:function(N){N.graphic||(N.graphic=this.syncHitTestForWebGL(N))}});B("extend-esri")&&(x.Map=A);return A})},"esri/_coremap":function(){define("require module dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/Deferred dojo/_base/lang dojo/_base/array dojo/_base/event dojo/_base/unload dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/sniff dijit/registry dojox/gfx/matrix ./kernel ./config ./basemaps ./lang ./Evented ./fx ./deferredUtils ./tileUtils ./urlUtils ./PluginTarget ./Color ./promiseList ./arcade/Dictionary ./geometry/Point ./geometry/ScreenPoint ./geometry/Extent ./geometry/Rect ./geometry/mathUtils ./geometry/scaleUtils ./geometry/screenUtils ./geometry/webMercatorUtils ./layers/GraphicsLayer ./layers/TileInfo ./layers/LOD ./layers/ArcGISTiledMapServiceLayer ./layers/MapImageLayer ./layers/OpenStreetMapLayer ./layers/support/webglUtils ./dijit/Popup ./plugins/popupManager dojo/uacss".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F,H,E,I,J,K,L,O,U,S,M,N,T,V,ea,P,ba,la,Q,Y,ja,pa,ka,va){function Aa(X,na){var ua=X.lods;ua.sort(function(Ma,Da){return Ma.scale>Da.scale?-1:Ma.scale<Da.scale?1:0});var ya=[];ua=h.filter(ua,function(Ma){if(-1===fa(ya,Ma.scale))return ya.push(Ma.scale),!0});var Ha=na.lods=[],Oa;h.forEach(ua,function(Ma,Da){Oa=Ha[Da]=new Q(Ma);Oa.level=Da});na.tileInfo=new la(ra(X,{lods:Ha}))}var da,ca=ea.toMapPoint,ma=ea.toScreenPoint,qa=p.connect,ta=p.disconnect,
Ca=n.hitch,ha=g.set,fa=h.indexOf,ra=n.mixin,wa=0,Ga=z.defaults.map,Na=Ga.layerNamePrefix,Ra=Ga.graphicsLayerNamePrefix,Sa=new RegExp("^"+Na+"(\\d+)$"),La=new RegExp("^"+Ra+"(\\d+)$"),W=function(){},ia=0,sa=ka.isWebGLEnabled();m=m([D,J],{declaredClass:"esri._CoreMap",tables:null,resizeDelay:300,invalidExtent:"Map does not have a valid extent.",invalidGeometry:"Geometry (wkid: ${geometry}) cannot be converted to spatial reference of the map (wkid: ${map})",unknownBasemap:'Unable to find basemap definition for: "${basemapName}". Try one of these: ${list}',
invalidBasemap:'Unable to add basemap: "${basemapName}".',unknownLayerType:'Unknown basemap layer type: "${type}" found in basemap definition for: "${basemapName}".',visible:!0,webglEnabled:sa,_eventMap:{"basemap-change":!0,"extent-change":["extent","delta","levelChange","lod"],"layer-add":["layer"],"layer-add-result":["layer","error"],"layer-remove":["layer"],"layer-reorder":["layer","index"],"layer-resume":["layer"],"layer-suspend":["layer"],"layers-add-result":["layers"],"layers-removed":!0,"layers-reordered":["layerIds"],
load:["map"],pan:["extent","delta"],"pan-end":["extent","delta"],"pan-start":["extent","screenPoint"],reposition:["x","y"],resize:["extent","width","height"],scale:["matrix","immediate"],"time-extent-change":["timeExtent"],"before-unload":["map"],unload:["map"],"update-end":["error"],"update-start":!0,zoom:["extent","zoomFactor","anchor"],"zoom-end":["extent","zoomFactor","anchor","level"],"zoom-start":["extent","zoomFactor","anchor","level"],click:!0,"dbl-click":!0,"key-down":!0,"key-up":!0,"mouse-down":!0,
"mouse-drag":!0,"mouse-drag-end":!0,"mouse-drag-start":!0,"mouse-move":!0,"mouse-out":!0,"mouse-over":!0,"mouse-up":!0,"mouse-wheel":!0,"basic-tap":!0,"double-tap":!0,"pinch-end":!0,"pinch-move":!0,"pinch-start":!0,"processed-double-tap":!0,"processed-tap":!0,"swipe-end":!0,"swipe-move":!0,"swipe-start":!0,tap:!0,"two-finger-tap":!0},constructor:function(X,na){na=na||{};this.registerConnectEvents();ra(this,{_internalLayerIds:[],_layers:[],_layerDivs:[],_basemapPending:!1,_connects:[],_layerAddPromises:{},
_zoomAnimDiv:null,_zoomAnim:null,_layersDiv:null,_firstLayerId:null,_delta:null,_cursor:null,_ratioW:1,_ratioH:1,_params:null,_minResolution:0,_maxResolution:0,cursor:null,layerIds:[],graphicsLayerIds:[],graphics:null,_labels:null,loaded:!1,__panning:!1,__zooming:!1,__container:null,root:null,__LOD:null,__tileInfo:null,__visibleRect:null,__visibleDelta:null,_rids:[],_webglContextOwners:[]});var ua=this.container=e.byId(X),ya=this.id=f.get(ua,"id")||x.getUniqueId(this.declaredClass);k.add(ua,"map");
var Ha=v.getContentBox(ua);X=k.add;var Oa=u.create;this.position=new S(0,0);this._reposition();var Ma=this.width=0<Ha.w?Ha.w:Ga.width,Da=this.height=0<Ha.h?Ha.h:Ga.height,Ka=this.root=Oa("div",{id:ya+"_root",style:{width:Ma+"px",height:Da+"px",direction:"ltr"}});X(Ka,"esriMapContainer");Ha=this.__container=Oa("div",{id:ya+"_container"},Ka);ha(Ha,"position","absolute");X(Ha,"esriMapContainer");ua.appendChild(Ka);na=this._params=ra({slider:!0,nav:!1,zoom:-1,minZoom:-1,maxZoom:-1,scale:-1,minScale:0,
maxScale:0,showInfoWindowOnClick:!0,displayGraphicsOnPan:!0,wrapAround180:!0,fitExtent:!1,optimizePanAnimation:!0},na);this.setWebGLEnabled(null!=na.webglEnabled?na.webglEnabled:this.webglEnabled);this.maxWebGLContexts=null!=na.maxWebGLContexts?na.maxWebGLContexts:-1;this.wrapAround180=na.wrapAround180;this.optimizePanAnimation=na.optimizePanAnimation;this.setBackgroundColor(na.backgroundColor);y.isDefined(na.resizeDelay)&&(this.resizeDelay=na.resizeDelay);na.lods&&(Aa({rows:512,cols:512,dpi:96,format:"JPEG",
compressionQuality:75,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:na.lods},na),this.__tileInfo=na.tileInfo);this.extent=na.extent;this._extentUtil({mapCenter:na.center,targetLevel:na.zoom,targetScale:na.scale});this.__visibleRect=new N(0,0,Ma,Da);this.__visibleDelta=new N(0,0,Ma,Da);ya=this._layersDiv=Oa("div",{id:ya+"_layers"});X(ya,"esriMapLayers");Ha.appendChild(ya);this._zoomAnimDiv=Oa("div",{style:{position:"absolute"}});na.infoWindow?this.infoWindow=na.infoWindow:(X=this.infoWindow=
new va(na.popupOptions,Oa("div")),X.startup(),X._ootb=!0,ha(X.domNode,"zIndex",40));if(na.showLabels){var Ja=this;G(["./layers/LabelLayer"],function(Va){da=Va;Ja._createLabelLayer()});this.on("load",function(){Ja._createLabelLayer()})}this.addPlugin(this._getAbsMid("./plugins/popupManager"),{enabled:na.showInfoWindowOnClick});this._zoomStartHandler=Ca(this,this._zoomStartHandler);this._zoomingHandler=Ca(this,this._zoomingHandler);this._zoomEndHandler=Ca(this,this._zoomEndHandler);this._panningHandler=
Ca(this,this._panningHandler);this._panEndHandler=Ca(this,this._panEndHandler);this._endTranslate=Ca(this,this._endTranslate);this._timedResize=Ca(this,this._timedResize);this._execResize=Ca(this,this._execResize);this._processLabelLayers=Ca(this,this._processLabelLayers);this._updateLabelLayers=Ca(this,this._updateLabelLayers);this.resize=Ca(this,this.resize);b.addOnWindowUnload(this,this.destroy)},_getAbsMid:function(X){return G.toAbsMid?G.toAbsMid(X):A.id.replace(/\/[^\/]*$/ig,"/")+X},_cleanUp:function(){var X=
this.infoWindow;X&&(X._ootb&&X.destroy?X.destroy():X.unsetMap(this),delete this.infoWindow);ta(this._tsTimeExtentChange_connect);this.removePlugin("./plugins/popupManager");u.destroy(this.root);this.root=null},_addLayer:function(X,na,ua){if(X.id){var ya=X.id.match(X instanceof ba?La:Sa);ya&&ya[1]&&(ya=Number(ya[1]),wa<=ya&&(wa=ya+1))}var Ha=X.id||(X instanceof ba?Ra:Na)+wa++;X.id=Ha;this._layers[Ha]=X;X._isRefLayer="top"===ua;ua=!y.isDefined(ua)||0>ua||ua>na.length||"top"===ua?na.length:ua;var Oa;
if(!X._isRefLayer)for(;(Oa=this.getLayer(na[ua-1]))&&Oa._isRefLayer;)ua--;if(ya=!this._firstLayerId&&!this.loaded&&!this._basemapPending&&0===ua&&(na===this.layerIds||na===this.graphicsLayerIds))this._firstLayerId=Ha;na.splice(ua,0,Ha);var Ma=Ca(this,this._addLayerHandler),Da=this;ua=this._connects;Oa=function(){X.loaded?Da._onLoadFix?(Da._onLoadFix=!1,setTimeout(function(){Ma(X)},0)):Ma(X):(Da["_"+Ha+"_addtoken_load"]=qa(X,"onLoad",Da,"_addLayerHandler"),Da["_"+Ha+"_addtoken_err"]=qa(X,"onError",
Da,function(Ka){Ma(X,Ka,na)}))};this.loaded||ya||X.loaded&&-1===fa(this.graphicsLayerIds,Ha)?Oa():ua.push(qa(this,"onLoad",Oa));return X},_forgetLayer:function(X){X=X.id;ta(this["_"+X+"_addtoken_load"]);ta(this["_"+X+"_addtoken_err"]);var na=this._layerAddPromises[X];na&&(delete this._layerAddPromises[X],na.cancel())},_addLayerHandler:function(X,na,ua){na?this._attachLayerToMap(X,na,ua):X._prepareToAttach?(this._layerAddPromises[X.id]=X._prepareToAttach(this)).always(n.hitch(this,function(ya){ya&&
"cancel"===ya.dojoType||this._attachLayerToMap(X,null,ua)})):X.declaredClass&&-1<X.declaredClass.toLowerCase().indexOf("vectortilelayer")&&!this.isWebGLContextAvailable()?(na=Error("Too many WebGL contexts. Unable to add the layer: ",X.url),this._attachLayerToMap(X,na,this.layerIds)):this._attachLayerToMap(X,na,ua)},_attachLayerToMap:function(X,na,ua){var ya=this.id,Ha=X.id,Oa=fa(X instanceof ba?this.graphicsLayerIds:this.layerIds,Ha),Ma=Oa,Da=!1,Ka=this._params;this._forgetLayer(X);if(na)delete this._layers[Ha],
-1!==Oa&&(ua.splice(Oa,1),this.onLayerAddResult(X,na));else{-1===Oa&&(Oa=fa(this._internalLayerIds,Ha),Ma=20+Oa,Da=!0);if(Ha===this._firstLayerId){na=X.spatialReference;ua=this.extent&&this.extent.spatialReference;!ua||ua.equals(na)||!X.tileInfo&&X.url||(ua=null);ua=this.spatialReference=ua||na;this.wrapAround180=this.wrapAround180&&ua&&ua._isWrappable()?!0:!1;X.tileInfo&&(this.__tileInfo?(na=this.__tileInfo.lods,this.__tileInfo=ra({},X.tileInfo),this.__tileInfo.lods=na):(Aa(ra({},X.tileInfo),Ka),
this.__tileInfo=Ka.tileInfo));if(this.wrapAround180){na=this.__tileInfo;ua=ua._getInfo();if(!na||Math.abs(ua.origin[0]-na.origin.x)>ua.dx)this.wrapAround180=!1;this.wrapAround180&&na&&E._addFrameInfo(na,ua)}Ka.units=X.units;if((na=this.__tileInfo&&this.__tileInfo.lods)&&na.length){ua=Ka.minScale;Oa=Ka.maxScale;var Ja=-1,Va=-1,fb=!1,bb=!1,kb;for(kb=0;kb<na.length;kb++)0<ua&&!fb&&ua>=na[kb].scale&&(Ja=na[kb].level,fb=!0),0<Oa&&!bb&&Oa>=na[kb].scale&&(Va=0<kb?na[kb-1].level:-1,bb=!0);-1===Ka.minZoom&&
(Ka.minZoom=0===ua?na[0].level:Ja);-1===Ka.maxZoom&&(Ka.maxZoom=0===Oa?na[na.length-1].level:Va);for(kb=0;kb<na.length;kb++)Ka.minZoom===na[kb].level&&(Ka.minScale=na[kb].scale,this._minResolution=na[kb].resolution),Ka.maxZoom===na[kb].level&&(Ka.maxScale=na[kb].scale,this._maxResolution=na[kb].resolution)}else Ka.minZoom=Ka.maxZoom=Ka.zoom=-1}X instanceof ba?(this._gc||(this._gc=new ba._GraphicsContainer,this._gc._setMap(this,this._layersDiv).id=ya+"_gc"),this._attachGraphicsLayer(X).id=ya+"_"+Ha):
(Ma=X._setMap(this,this._layersDiv,Ma,this.__LOD),Ma.id=ya+"_"+Ha,this._layerDivs[Ha]=Ma,this._reorderLayers(this.layerIds),Da||-1===X.declaredClass.indexOf("VETiledLayer")||this._onBingLayerAdd(X));Ha===this._firstLayerId&&(this.graphics=new ba({id:ya+"_graphics",displayOnPan:Ka.displayGraphicsOnPan}),this._addLayer(this.graphics,this._internalLayerIds,20));if(X===this.graphics){ua=this._layers[this._firstLayerId];ya=Ka.zoom;Ma=Ka.scale;na=Ka.center;ua=ua.initialExtent||ua.fullExtent;this._firstLayerId=
null;this.extent&&(this.extent=this._convertGeometry(this,this.extent));!this.extent&&ua&&(na&&(na=this._convertGeometry(ua,na)),na&&(ua=ua.centerAt(na),na=null));if(na=this.extent||ua&&new M(ua.toJson()))-1<ya?na=this.__getExtentForLevel(ya,null,na).extent:0<Ma&&(na=V.getExtentForScale(this,Ma,na));if(!na){console.log("Map: "+this.invalidExtent);return}Ka=this._fixExtent(na,Ka.fitExtent);this.extent=Ka.extent;this.__LOD=Ka.lod;this.__setExtent(this.extent);this.loaded=!0;this.attr("data-loaded",
"");this.infoWindow.setMap(this);this.onLoad(this)}Da||(this.onLayerAdd(X),this.onLayerAddResult(X));ta(this[Ha+"_addLayerHandler_connect"])}},_convertGeometry:function(X,na){X=X&&X.spatialReference;var ua=na&&na.spatialReference;X&&ua&&!X.equals(ua)&&(X._canProject(ua)?X.isWebMercator()?na=P.geographicToWebMercator(na):4326===X.wkid&&(na=P.webMercatorToGeographic(na,!0)):(console.log("Map: "+y.substitute({geometry:ua.wkid||ua.wkt,map:X.wkid||X.wkt},this.invalidGeometry)),na=null));return na},_attachGraphicsLayer:function(X){var na=
X.id;X=X._setMap(this,this._gc._surface);this._layerDivs[na]=X;this._reorderLayers(this.graphicsLayerIds);return X},_detachGraphicsLayer:function(X){X.loaded&&X.getMap()&&X._unsetMap(this,this._gc._surface)},_reorderLayers:function(X){var na=this.onLayerReorder,ua=u.place,ya=this._layerDivs,Ha=this._layers,Oa=this._gc?this._gc._surface.getEventSource():null;if(X===this.graphicsLayerIds)h.forEach(X,function(Va,fb){var bb=ya[Va];Va=Ha[Va];bb&&(this._gc._reorderLayer(Va,bb,fb),na(Va,fb))},this);else{var Ma=
this.graphics,Da=Ma?Ma.id:null,Ka=this._layersDiv,Ja;h.forEach(X,function(Va,fb){Ja=ya[Va];Va!==Da&&Ja&&(ua(Ja,Ka,fb),na(Ha[Va],fb))});this._mapImageLyr&&this._placeMapImageLyr();Oa&&(Oa=9>q("ie")?Oa.parentNode:Oa,ua(Oa,Oa.parentNode,"last"))}this.onLayersReordered([].concat(X))},_zoomStartHandler:function(){this.__zoomStart(this._zoomAnimDiv.startingExtent,this._zoomAnimDiv.anchor)},_zoomingHandler:function(X){var na=parseFloat(X.left),ua=parseFloat(X.top);X=new M(na,ua-parseFloat(X.height),na+parseFloat(X.width),
ua,this.spatialReference);na=this.extent.getWidth()/X.getWidth();this.__zoom(X,na,this._zoomAnimDiv.anchor)},_zoomEndHandler:function(){var X=this._zoomAnimDiv,na=X.extent,ua=this.extent.getWidth()/na.getWidth(),ya=X.anchor,Ha=X.newLod,Oa=X.levelChange;X.extent=X.anchor=X.levelChange=X.startingExtent=X.newLod=this._delta=this._zoomAnim=null;this.__zoomEnd(na,ua,ya,Ha,Oa)},_panningHandler:function(X){if(isNaN(parseFloat(X.left))||isNaN(parseFloat(X.top))){var na=Math.round,ua=this._panAnim.node;X.left=
-1*(this._delta.x-na(this.width/2))+"px";X.top=-1*(this._delta.y-na(this.height/2))+"px";g.set(ua,"left",X.left);g.set(ua,"top",X.top)}X=new S(parseFloat(X.left),parseFloat(X.top));na=this.toMap(X);this.onPan(this.extent.offset(this.extent.xmin-na.x,this.extent.ymax-na.y),X)},_panEndHandler:function(X){this.__panning=!1;var na=Math.round;X=new S(-na(parseFloat(X.style.left)),-na(parseFloat(X.style.top)));na=X.x;var ua=X.y,ya=this.__visibleRect,Ha=this.__visibleDelta;ya.x+=-na;ya.y+=-ua;Ha.x+=-na;
Ha.y+=-ua;ha(this._zoomAnimDiv,{left:"0px",top:"0px"});ya=this.extent;Ha=this._ratioW;var Oa=this._ratioH;ya=new M(ya.xmin+na/Ha,ya.ymin-ua/Oa,ya.xmax+na/Ha,ya.ymax-ua/Oa,this.spatialReference);X.setX(-X.x);X.setY(-X.y);this._delta=this._panAnim=null;this._updateExtent(ya);this.onPanEnd(ya,X);this._fireExtChg([ya,X,!1,this.__LOD])},_fixExtent:function(X,na){for(var ua=this._reshapeExtent(X),ya=1.25;!0===na&&(ua.extent.getWidth()<X.getWidth()||ua.extent.getHeight()<X.getHeight())&&0<ua.lod.level&&
3>=ya;)ua=this._reshapeExtent(X.expand(ya)),ya+=.25;return ua},_getFrameWidth:function(){var X=-1,na=this.spatialReference._getInfo();this.__LOD?(na=this.__LOD._frameInfo)&&(X=na[3]):na&&(X=Math.round(2*na.valid[1]/(this.extent.getWidth()/this.width)));return X},_fixAspectRatio:function(X){var na=X.getWidth(),ua=X.getHeight(),ya=na/ua,Ha=this.width/this.height,Oa=0,Ma=0;this.width>this.height?na>ua?Ha>ya?Oa=ua*Ha-na:Ma=na/Ha-ua:Oa=ua*Ha-na:this.width<this.height?na<ua?Ha>ya?Oa=ua*Ha-na:Ma=na/Ha-ua:
Ma=na/Ha-ua:na<ua?Oa=ua-na:na>ua&&(Ma=na/Ha-ua);Oa&&(X.xmin-=Oa/2,X.xmax+=Oa/2);Ma&&(X.ymin-=Ma/2,X.ymax+=Ma/2);return X},_reshapeExtent:function(X){X=this._fixAspectRatio(X);return this._getAdjustedExtent(X)},_getAdjustedExtent:function(X){if(this.__tileInfo)return E.getCandidateTileInfo(this,this.__tileInfo,X);var na=V.getScale(this,X),ua=this.getMinScale(),ya=this.getMaxScale();!ua||na<=ua?!ya||na>=ya||(X=V.getExtentForScale(this,ya,X)):X=V.getExtentForScale(this,ua,X);return{extent:X}},_onBingLayerAdd:function(X){this["__"+
X.id+"_vis_connect"]=p.connect(X,"onVisibilityChange",this,"_toggleBingLogo");this._toggleBingLogo(X.visible)},_onBingLayerRemove:function(X){p.disconnect(this["__"+X.id+"_vis_connect"]);delete this["__"+X.id+"_vis_connect"];var na=h.some(this.layerIds,function(ua){return(X=this._layers[ua])&&X.visible&&-1!==X.declaredClass.indexOf("VETiledLayer")},this);this._toggleBingLogo(na)},_toggleBingLogo:function(X){X&&!this._bingLogo?(X={left:this._mapParams&&this._mapParams.nav?"25px":""},6===q("ie")&&(X.filter=
"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled\x3d'true', sizingMethod\x3d'crop', src\x3d'"+G.toUrl("./images/map/bing-logo-lg.png")+"')"),X=this._bingLogo=u.create("div",{style:X},this.root),k.add(X,"bingLogo-lg")):!X&&this._bingLogo&&(u.destroy(this._bingLogo),delete this._bingLogo)},__panStart:function(X,na){var ua=this._zoomAnim,ya=this._panAnim;if(ua&&ua._active)ua.stop(),ua._fire("onEnd",[ua.node]);else if(ya&&ya._active){ya.stop();this._panAnim=null;na=ya.curve.getValue(ya._getStep());
X=Math.round(parseFloat(na.left));na=Math.round(parseFloat(na.top));ua=this.navigationManager._dragOrigin;this.__pan(X,na);ua&&(ua.x-=X,ua.y-=na);return}this.__panning=!0;this.onPanStart(this.extent,new S(X,na))},__pan:function(X,na){var ua=this.extent,ya=this._ratioW,Ha=this._ratioH;this.onPan(new M(ua.xmin-X/ya,ua.ymin+na/Ha,ua.xmax-X/ya,ua.ymax+na/Ha,this.spatialReference),new S(X,na))},__panEnd:function(X,na){var ua=this.__visibleRect,ya=this.__visibleDelta;ua.x+=X;ua.y+=na;ya.x+=X;ya.y+=na;ua=
new S(X,na);ya=this.extent;var Ha=this._ratioW,Oa=this._ratioH;ya=new M(ya.xmin-X/Ha,ya.ymin+na/Oa,ya.xmax-X/Ha,ya.ymax+na/Oa,this.spatialReference);this.__panning=!1;this._updateExtent(ya);this.onPanEnd(ya,ua);this._fireExtChg([ya,ua,!1,this.__LOD])},__zoomStart:function(X,na){this.__zooming=!0;this.onZoomStart(X,1,na,this.__LOD?this.__LOD.level:null)},__zoom:function(X,na,ua){this.onZoom(X,na,ua)},__zoomEnd:function(X,na,ua,ya,Ha){ha(this._layersDiv,{left:"0px",top:"0px"});this._delta=new S(0,0);
this.__visibleRect.x=this.__visibleRect.y=0;X=new M(X);this.__LOD=ya;this._ratioW=this.width/X.getWidth();this._ratioH=this.height/X.getHeight();var Oa=this._delta;this._delta=null;this.__zooming=!1;this._updateExtent(X,Ha);this.onZoomEnd(X,na,ua,ya?ya.level:null);this._fireExtChg([X,Oa,Ha,ya])},_extentUtil:function(X,na,ua,ya,Ha){var Oa=new t,Ma=this.width,Da=this.height;if(X){var Ka=X.numLevels;var Ja=X.targetLevel;var Va=y.isDefined(Ja);var fb=X.factor;var bb=X.mapAnchor;var kb=X.screenAnchor;
var hb=X.mapCenter;var nb=X.levelOrFactor;var tb=X.targetScale;var ob=y.isDefined(tb)&&0<tb}if(na){var ib=na.dx;var mb=na.dy;hb=na.mapCenter}n.isArray(hb)&&(hb=new U(hb));var rb=this._panAnim;na=(X=this._stopAnim())?X.divExtent:this.extent;var Hb=this.__tileInfo,Bb=this._params;if(!this.loaded){if(ua)na&&(ua=this._convertGeometry(na,ua)),ua&&(this.extent=ua,Bb.zoom=Bb.scale=-1,Bb.center=null);else if(hb||Va||ob){if(hb)if(na){if(hb=this._convertGeometry(na,hb))this.extent=na.centerAt(hb),Bb.center=
null}else Bb.center=hb;Va&&-1<Ja?(Bb.zoom=Ja,Bb.scale=-1):ob&&(Bb.scale=tb,Bb.zoom=-1)}Oa.resolve();return Oa}if(hb&&(hb=this._convertGeometry(this,hb),!hb)||bb&&(bb=this._convertGeometry(this,bb),!bb)||ua&&(ua=this._convertGeometry(this,ua),!ua))return Oa.reject(),Oa;rb&&bb&&kb&&(bb=ca(this.extent,Ma,Da,kb));X&&bb&&kb&&(bb=ca(X.divExtent,Ma,Da,kb));if(Va)if(Hb)Ka=this.getMinZoom(),Va=this.getMaxZoom(),Ja<Ka?Ja=Ka:Ja>Va&&(Ja=Va),Ka=Ja-(X?X.level:this.getLevel());else{Ka=0<Ja?-1:1;var wb=nb?Ja:null}if(!ua)if(y.isDefined(Ka))Hb?
(Ma=X?X.level:this.getLevel(),Ma=this.__getExtentForLevel(Ma+Ka,hb,na).extent):(Ma=(X?X.end:this.extent).expand(wb||(0<Ka?.5*Ka:2*-Ka)),wb&&hb&&(Ma=Ma.centerAt(hb))),Ma&&(hb?ua=Ma:(ib=bb||na.getCenter(),Da=Ma.getWidth(),mb=Ma.getHeight(),Ma=ib.x>=na.xmin&&ib.x<=na.xmax?(ib.x-na.xmin)/na.getWidth():.5,ua=ib.y>=na.ymin&&ib.y<=na.ymax?(ib.y-na.ymin)/na.getHeight():.5,Ma=ib.x-Ma*Da,ib=ib.y-ua*mb,ua=new M(Ma,ib,Ma+Da,ib+mb,this.spatialReference)));else if(ob)ua=V.getExtentForScale(this,tb,na);else if(y.isDefined(fb))ua=
na.expand(fb);else if(ib||mb)X?(ua=X.end,bb=ua.getCenter(),wb=ma(ua,Ma,Da,bb),wb.x+=ib,wb.y+=mb,wb=ca(ua,Ma,Da,wb),ua=ua.offset(wb.x-bb.x,wb.y-bb.y)):(ib=new S(Ma/2+ib,Da/2+mb),ib=ca(na,Ma,Da,ib),Da=na.getWidth(),mb=na.getHeight(),Ma=ib.x-Da/2,ib=ib.y-mb/2,ua=new M(Ma,ib,Ma+Da,ib+mb,this.spatialReference));ua||(hb?(na=X?X.end:na,Da=na.getWidth(),mb=na.getHeight(),Ma=hb.x-Da/2,ib=hb.y-mb/2,ua=new M(Ma,ib,Ma+Da,ib+mb,this.spatialReference)):X&&(ua=X.end));ua?(this._extentDfd&&-1===this._extentDfd.fired&&
(this._extentDfd.then(null,W),this._extentDfd.reject()),this._extentDfd=Oa,this.__setExtent(ua,null,kb,ya,X,Ha)):Oa.reject();return Oa},__setExtent:function(X,na,ua,ya,Ha,Oa){try{if(this._firstLayerId)this.extent=X;else{var Ma=!0,Da=this.spatialReference,Ka=Ha?Ha.divExtent:this.extent,Ja=this._fixExtent(X,ya||!1);X=Ja.extent;var Va=X.getWidth(),fb=X.getHeight(),bb=Math.round;if(Ka){var kb=bb(1E6*Ka.getWidth()),hb=bb(1E6*Va),nb=bb(1E6*Ka.getHeight()),tb=bb(1E6*fb);Ma=kb!==hb||nb!==tb}var ob,ib=Ha&&
Ha.rect,mb=Ha&&Ha.divExtent;if(Ga.zoomDuration&&Ma&&Ka){mb=mb||new M(Ka);ib=ib||{left:Ka.xmin,top:Ka.ymax,width:Ka.getWidth(),height:Ka.getHeight()};var rb={left:X.xmin,top:X.ymax,width:Va,height:fb};var Hb=new U(X.xmin,X.ymax,Da),Bb=new U(X.xmin,X.ymin,Da),wb=new U(this.extent.xmin,this.extent.ymax,Da),Nb=new U(this.extent.xmin,this.extent.ymin,Da);(ob=T.getLineIntersection(wb,Hb,Nb,Bb,Da))||Ha||(Ma=!1)}this._ratioW=this.width/Va;this._ratioH=this.height/fb;var xb=this._zoomAnimDiv;if(Ma)if(ha(this._layersDiv,
{left:"0px",top:"0px"}),na=new S(0,0),this.__visibleRect.x=this.__visibleRect.y=0,ib&&rb){this._delta=na;xb.id="_zAD";xb.startingExtent=mb;xb.extent=X;xb.levelChange=Ma;xb.newLod=Ja.lod;xb.anchor=ua?ua:!ob&&Ha?Ha.anchor:ma(this.extent,this.width,this.height,ob);var Ab=this.extent.getWidth()/X.getWidth();Ga.zoomAnimationThrottled&&1024<(1>Ab?1/Ab:Ab)?(this.__zoomStart(mb,xb.anchor),this.__zoom(mb,1,xb.anchor),this._fireOnScale(1,xb.anchor,!0),this.__zoomEnd(X,Ab,xb.anchor,Ja.lod,Ma)):(this._zoomAnim=
F.resize({node:xb,start:ib,end:rb,duration:Ga.zoomDuration,rate:Ga.zoomRate,beforeBegin:Ha?null:this._zoomStartHandler,onAnimate:this._zoomingHandler,onEnd:this._zoomEndHandler}).play(),this._fireOnScale(Ab,xb.anchor,Oa))}else this._updateExtent(X,Ma,Oa),this._fireExtChg([this.extent,na,Ma,this.__LOD=Ja.lod]);else if(!this.__panning)if(!1===this.loaded||Oa)this._updateExtent(X,Ma,Oa),this._fireExtChg([this.extent,na,Ma,this.__LOD=Ja.lod]);else{this.__panning=!0;ib=(new N(0,0,this.width,this.height,
this.spatialReference)).getCenter();ib.x=bb(ib.x);ib.y=bb(ib.y);var Jb=this._delta=this.toScreen(X.getCenter()),Rb=Math.abs(ib.x-Jb.x),Fb=Math.abs(ib.y-Jb.y);this.optimizePanAnimation&&(Rb>2*this.width||Fb>2*this.height)?(this.__panStart(0,0),this.__pan(0,0),this.__visibleRect.x=this.__visibleRect.y=this.__visibleDelta.x=this.__visibleDelta.y=0,this.__panning=!1,this._delta=null,this._updateExtent(X,!1,Oa),this.onPanEnd(this.extent,new S(0,0)),this._fireExtChg([this.extent,new S(0,0),!0,this.__LOD])):
(this.onPanStart(this.extent,new S(0,0)),this._panAnim=F.slideTo({node:xb,left:ib.x-Jb.x,top:ib.y-Jb.y,duration:Ga.panDuration,rate:Ga.panRate,onAnimate:this._panningHandler,onEnd:this._panEndHandler}),this._panAnim.play())}}}catch(Lb){console.log(Lb.stack),console.error(Lb)}},_fireOnScale:function(X,na,ua){if("css-transforms"===this.navigationMode){var ya=this.__visibleDelta;this.onScale(w.scaleAt(X,{x:-1*(this.width/2-(na.x-ya.x)),y:-1*(this.height/2-(na.y-ya.y))}),ua)}},_stopAnim:function(){var X=
this._zoomAnim,na=this._panAnim;if(X&&X._active){X.stop();na=X.curve.getValue(X._getStep());var ua=parseFloat(na.left),ya=parseFloat(na.top);X=X.node;return{anchor:X.anchor,start:X.startingExtent,end:X.extent,level:X.newLod&&X.newLod.level,rect:na,divExtent:new M(ua,ya-parseFloat(na.height),ua+parseFloat(na.width),ya,this.spatialReference)}}na&&na._active&&(na.stop(),na._fire("onEnd",[na.node]))},__getExtentForLevel:function(X,na,ua){var ya=this.__tileInfo;ya=ya&&ya.lods;X=y.isDefined(X)?X:0;ua=ua||
this.extent;na=na||ua&&ua.getCenter();if(ya){if(na){ua=this.getMinZoom();var Ha=this.getMaxZoom();X>Ha&&(X=Ha);X<ua&&(X=ua);X=ya[X];ya=this.width*X.resolution/2;ua=this.height*X.resolution/2;return{extent:new M(na.x-ya,na.y-ua,na.x+ya,na.y+ua,na.spatialReference),lod:X}}}else if(ua)return{extent:ua.expand(!X||1>X?1:X).centerAt(na)};console.log("Map: "+this.invalidExtent)},_jobs:0,_incr:function(){1===++this._jobs&&(this.updating=!0,this.attr("data-updating",""),this.onUpdateStart())},_decr:function(){var X=
--this._jobs;X?0>X&&(this._jobs=0):(this.updating=!1,this.attr("data-updating"),this.onUpdateEnd())},_fireEvent:function(X,na){this[X]&&this[X].apply(this,na)},_updateExtent:function(X,na,ua){this.extent=X;X=this.spatialReference;this._viewInfo={view:new O({viewingMode:"map",scale:this.getScale()}),sr:X,version:na?++ia:ia};(na||ua)&&this._setClipRect();this._calcGeographicExtent()},_calcGeographicExtent:function(){var X=this.spatialReference;X&&(X.isWebMercator()?this.geographicExtent=P.webMercatorToGeographic(this._getAvailExtent(),
!0):4326===X.wkid&&(this.geographicExtent=new M(this._getAvailExtent().toJson())))},_fireExtChg:function(X){this.attr("data-zoom",this.getZoom());this.attr("data-scale",this.getScale());this._fireEvent("onExtentChange",X);if(X=this._extentDfd)delete this._extentDfd,X.resolve()},attr:function(X,na){var ua=this.container;ua&&(null==na?ua.removeAttribute(X):ua.setAttribute(X,na));return this},onUpdateStart:function(){},onUpdateEnd:function(){},onLoad:function(){this._setClipRect();this._calcGeographicExtent()},
onBeforeUnload:function(){},onUnload:function(){},onExtentChange:function(X,na,ua){},onTimeExtentChange:function(){},onWebGLEnabledChange:function(){},onLayerAdd:function(){},onLayerAddResult:function(){},onLayersAddResult:function(){},onLayerRemove:function(){},onLayersRemoved:function(){},onLayerReorder:function(){},onLayersReordered:function(){},onLayerSuspend:function(){},onLayerResume:function(){},onPanStart:function(){},onPan:function(){},onPanEnd:function(){},onScale:function(){},onZoomStart:function(){},
onZoom:function(){},onZoomEnd:function(){},onResize:function(){this._setClipRect()},onReposition:function(){},destroy:function(){this._destroyed||(this.onBeforeUnload(this),this.removeAllLayers(),this.releaseAllWebGLContexts(),this._cleanUp(),clearTimeout(this._resizeTimerHandle),this._gc&&this._gc._cleanUp(),this._destroyed=!0,this.onUnload(this))},setCursor:function(X){ha(this.__container,"cursor",this.cursor=X)},setMapCursor:function(X){this.setCursor(this._cursor=X)},resetMapCursor:function(){this.setCursor(this._cursor)},
setBackgroundColor:function(X){X&&!X.declaredClass&&(X=new K(X));this.backgroundColor=X||null;var na="";X&&(na=9>q("ie")?X.toHex():"rgba("+X.toRgba().join(",")+")");g.set(this.root,{backgroundColor:na})},setInfoWindow:function(X){var na=this.infoWindow;na&&na.unsetMap(this);this.infoWindow=X;this.loaded&&X&&X.setMap(this)},setInfoWindowOnClick:function(X){this._params.showInfoWindowOnClick=X;this.popupManager&&this.popupManager.set("enabled",X)},getInfoWindowAnchor:function(X){return this.infoWindow&&
this.infoWindow._getAnchor&&this.infoWindow._getAnchor(X)||"upperright"},toScreen:function(X,na){return ma(this.extent,this.width,this.height,X,na)},toMap:function(X){return ca(this.extent,this.width,this.height,X)},addLayer:function(X,na){X&&!this.getLayer(X.id)&&this._addLayer(X,X instanceof ba?this.graphicsLayerIds:this.layerIds,na);return X},addLayers:function(X){var na=[],ua=X.length,ya,Ha=X.length;var Oa=p.connect(this,"onLayerAddResult",function(Ma,Da){-1!==h.indexOf(X,Ma)&&(ua--,na.push({layer:Ma,
success:!Da,error:Da}),ua||(p.disconnect(Oa),this.onLayersAddResult(na)))});for(ya=0;ya<Ha;ya++)this.addLayer(X[ya]);return this},removeLayer:function(X,na){var ua=X.id,ya=X instanceof ba?this.graphicsLayerIds:this.layerIds,Ha=fa(ya,ua);0<=Ha&&(this._forgetLayer(X),ya.splice(Ha,1),this.loaded||this._firstLayerId!==ua||(this._firstLayerId=null),X instanceof ba?this._detachGraphicsLayer(X):X.loaded&&(X.getMap()&&X._unsetMap(this,this._layersDiv),-1!==X.declaredClass.indexOf("VETiledLayer")&&this._onBingLayerRemove(X)),
delete this._layers[ua],delete this._layerDivs[ua],na||this._reorderLayers(ya),this.onLayerRemove(X))},removeAllLayers:function(){var X=this.layerIds,na;for(na=X.length-1;0<=na;na--)this.removeLayer(this._layers[X[na]],1);X=this.graphicsLayerIds;for(na=X.length-1;0<=na;na--)this.removeLayer(this._layers[X[na]],1);this.onLayersRemoved()},reorderLayer:function(X,na){n.isString(X)&&(a.deprecated(this.declaredClass+": Map.reorderLayer(/*String*/ id, /*Number*/ index) deprecated. Use Map.reorderLayer(/*Layer*/ layer, /*Number*/ index).",
null,"v2.0"),X=this.getLayer(X));var ua=X.id,ya=X instanceof ba?this.graphicsLayerIds:this.layerIds;0>na?na=0:na>=ya.length&&(na=ya.length-1);X=fa(ya,ua);-1!==X&&X!==na&&(ya.splice(X,1),ya.splice(na,0,ua),this._reorderLayers(ya))},getLayer:function(X){return this._layers[X]},setWebGLEnabled:function(X){var na=this.webglEnabled;this.webglEnabled=(X||!1)&&sa;if(na!==this.webglEnabled)this.onWebGLEnabledChange()},isWebGLContextAvailable:function(){return ka.isContextAvailable()&&(-1===this.maxWebGLContexts||
0<this.maxWebGLContexts&&this._webglContextOwners.length<this.maxWebGLContexts)},ownsWebGLContext:function(X){return-1!==h.indexOf(this._webglContextOwners,X)},acquireWebGLContext:function(X){return-1!==h.indexOf(this._webglContextOwners,X)?!0:this.isWebGLContextAvailable()?(ka.acquireContext(X),this._webglContextOwners.push(X),!0):!1},releaseWebGLContext:function(X){var na=h.indexOf(this._webglContextOwners,X);-1!==na&&this._webglContextOwners.splice(na,1);ka.releaseContext(X)},releaseAllWebGLContexts:function(){var X=
this._webglContextOwners.slice(0);h.forEach(X,function(na){this.releaseWebGLContext(na)},this)},syncHitTestForWebGL:function(X){var na,ua=X.screenPoint;X=this.graphicsLayerIds.slice(0).reverse();h.some(X,function(ya){ya=this.getLayer(ya);ya.loaded&&!ya.suspended&&ya.hasWebGLSurface()&&(na=ya._div.syncHitTest(ua.x,ua.y));return!!na},this);return na},setExtent:function(X,na){X=new M(X.toJson());var ua=X.getWidth(),ya=X.getHeight();return 0===ua&&0===ya?this.centerAt(new U({x:X.xmin,y:X.ymin,spatialReference:X.spatialReference&&
X.spatialReference.toJson()})):this._extentUtil(null,null,X,na)},getTargetExtent:function(X){if(X)return X=new M(X.toJson()),0!==X.getWidth()&&0!==X.getHeight()&&(X=(X=this._convertGeometry(this,X))&&this._fixExtent(X).extent),X},centerAt:function(X){return this._extentUtil(null,{mapCenter:X})},centerAndZoom:function(X,na){return this._extentUtil({targetLevel:na,mapCenter:X,levelOrFactor:!0})},getScale:function(){return this.__LOD?this.__LOD.scale:V.getScale(this)},getResolution:function(){return this.__LOD?
this.__LOD.resolution:this.extent?this.extent.getWidth()/this.width:0},getResolutionInMeters:function(){return this.getResolution()*V.getUnitValueForSR(this.spatialReference)},getResolutionForPopup:function(){var X=this.getResolution(),na=this.getResolutionInMeters(),ua=na/16;return 10>=ua?0:X/na*ua},getMinResolution:function(){return this._minResolution},getMaxResolution:function(){return this._maxResolution},getMinScale:function(){return this._params.minScale},getMaxScale:function(){return this._params.maxScale},
getViewInfo:function(){return this._viewInfo},setScale:function(X){return this._extentUtil({targetScale:X})},getLayersVisibleAtScale:function(X){var na=[];(X=X||this.getScale())&&h.forEach(this.layerIds.concat(this.graphicsLayerIds),function(ua){ua=this.getLayer(ua);ua.isVisibleAtScale(X)&&na.push(ua)},this);return na},getNumLevels:function(){var X=this.getMinZoom(),na=this.getMaxZoom();return X===na&&0>X?0:na-X+1},getLevel:function(){return this.__LOD?this.__LOD.level:-1},setLevel:function(X){if(-1<
X)return this._extentUtil({targetLevel:X})},getZoom:function(){return this.getLevel()},setZoom:function(X){return this.setLevel(X)},getMinZoom:function(){return this._params.minZoom},getMaxZoom:function(){return this._params.maxZoom},setBasemap:function(X){if(n.isObject(X)){var na=X;X=na.title}else na=C&&C[X];if(na){this._basemapDfd&&!this._basemapDfd.isFulfilled()&&this._basemapDfd.cancel();var ua=[],ya=0;h.forEach(na.baseMapLayers||na.layers,function(Oa){var Ma={id:Oa.id,displayLevels:Oa.displayLevels,
opacity:y.isDefined(Oa.opacity)?Oa.opacity:null,visible:y.isDefined(Oa.visibility)?Oa.visibility:null};if(Ma=this._createBaseLayerInstance(Oa,Ma,X))ua.push(Ma),Oa.isReference||ya++},this);ua.length&&ya?(this._basemapDfd=L(ua).otherwise(Ca(this,function(Oa){this._basemapPending=!1;Oa&&"cancel"===Oa.dojoType&&h.forEach(ua,function(Ma){Ma.cancel()});throw Oa;})).then(function(Oa){var Ma=[],Da=[];h.forEach(Oa,function(Ka){Ka&&(Ka.layerInfo&&Ma.push(Ka.layerInfo),Ka.layer&&Da.push(Ka.layer))});return{basemapName:X,
infos:Ma,layers:Da}}).then(Ca(this,this._waitForBaseLayers)).then(Ca(this,this._setBasemap)),this._basemapPending=!this.loaded&&!this._basemapDfd.isFulfilled()):console.log("Map.setBasemap: "+y.substitute({basemapName:X},this.invalidBasemap))}else{na=[];for(var Ha in C)na.push(Ha);console.log("Map.setBasemap: "+y.substitute({basemapName:X,list:na.join(",")},this.unknownBasemap))}},_createBaseLayerInstance:function(X,na,ua){var ya=new t;if(X.type)switch(X.type){case "OpenStreetMap":ya.resolve({layerInfo:X,
layer:new pa(na)});break;case "VectorTile":G(["./layers/VectorTileLayer"],function(Oa){Ha=I.normalize(X.url);ya.promise.isFulfilled()||ya.resolve({layerInfo:X,layer:new Oa(Ha,na)})});break;default:return console.log("Map.setBasemap: "+y.substitute({basemapName:ua,type:X.type},this.unknownLayerType)),null}else{var Ha=I.normalize(X.url);ya.resolve({layerInfo:X,layer:new Y(Ha,na)})}return ya.promise},_waitForBaseLayers:function(X){var na=new t(H._dfdCanceller);na.promise.otherwise(function(ya){if(ya&&
"cancel"===ya.dojoType){for(var Ha in na._layerEvents)ya=na._layerEvents[Ha],p.disconnect(ya[0]),p.disconnect(ya[1]);delete na._layerEvents}});if(!this.loaded)return na.resolve(X),na.promise;var ua=function(ya){na._pendingLayers--;ya=h.indexOf(X.layers,this);-1<ya&&(ya=na._layerEvents[ya])&&(p.disconnect(ya[0]),p.disconnect(ya[1]));0>=na._pendingLayers&&(delete na._layerEvents,na.isFulfilled()||na.resolve(X))};na._pendingLayers=0;na._layerEvents={};h.forEach(X.layers,function(ya,Ha){ya&&na._pendingLayers++});
h.forEach(X.layers,function(ya,Ha){ya&&(ya.loaded?ua(ya):na._layerEvents[Ha]=[p.connect(ya,"onLoad",ya,ua),p.connect(ya,"onError",ya,ua)])});return na.promise},_setBasemap:function(X){var na=X.layers,ua=X.infos,ya=0,Ha=!0;this._basemapPending=!1;this.loaded&&(h.forEach(na,function(Ma,Da){Ma.loaded&&(ua[Da].isReference||ya++)}),Ha=ya);if(Ha){if(this.basemapLayerIds){var Oa={basemapName:this._basemap,infos:C&&C[this._basemap]&&C[this._basemap].baseMapLayers};Oa.basemapName||(h.forEach(this.basemapLayerIds,
function(Ma){if(this.getLayer(Ma)instanceof pa)return Oa.basemapName="osm",Oa.infos=C&&C.osm&&C.osm.baseMapLayers,!1},this),Oa.basemapName||(Oa=null))}this._removeBasemap();this._basemap=X.basemapName;this.basemapLayerIds=this._addBasemapLayers(na,ua);this.attr("data-basemap",this.getBasemap());this.emit("basemap-change",{current:X,previous:Oa})}},_addBasemapLayers:function(X,na){var ua=[],ya=[],Ha=0;h.forEach(X,function(Oa,Ma){na[Ma].isReference?ua.push(Oa):(this.addLayer(Oa,Ha++),ya.push(Oa.id))},
this);ua.length&&h.forEach(ua,function(Oa){Oa.attr("data-reference",!0);this.addLayer(Oa,"top");ya.push(Oa.id)},this);return ya},_removeBasemap:function(){var X=this.basemapLayerIds,na;X&&X.length&&h.forEach(X,function(ua){(na=this.getLayer(ua))&&this.removeLayer(na)},this)},getBasemap:function(){return this._basemap||""},translate:function(X,na){X=X||0;na=na||0;if(!this._txTimer){this._tx=this._ty=0;var ua=this.toScreen(this.extent.getCenter());this.__panStart(ua.x,ua.y)}this._tx+=X;this._ty+=na;
this.__pan(this._tx,this._ty);clearTimeout(this._txTimer);this._txTimer=setTimeout(this._endTranslate,150)},_endTranslate:function(){clearTimeout(this._txTimer);this._txTimer=null;var X=this._tx,na=this._ty;this._tx=this._ty=0;this.__panEnd(X,na)},setTimeExtent:function(X){X=(this.timeExtent=X)?new X.constructor(X.toJson()):null;this.onTimeExtentChange(X)},setTimeSlider:function(X){this.timeSlider&&(ta(this._tsTimeExtentChange_connect),this.timeSlider=this._tsTimeExtentChange_connect=null);X&&(this.timeSlider=
X,this.setTimeExtent(X.getCurrentTimeExtent()),this._tsTimeExtentChange_connect=qa(X,"onTimeExtentChange",this,"setTimeExtent"))},setVisibility:function(X){if(this.visible!==X){this.visible=X;X||(this._display=this.container.style.display);this.container.style.display=X?this._display:"none";if(this.autoResize){var na=X?"resume":"pause";this._rszSignal[na]();this._oriSignal[na]()}X&&this.resize()}return this},resize:function(X){clearTimeout(this._resizeTimerHandle);this._destroyed||(!0===X?this._execResize():
this._resizeTimerHandle=setTimeout(this._execResize,this.resizeDelay))},_timedResize:function(){this._resizeTimerHandle||this._execResize()},_execResize:function(){clearTimeout(this._resizeTimerHandle);this._resizeTimerHandle=null;this.reposition();this._resize();this.autoResize&&this._startResizeTimer()},_resize:function(){var X=this.width,na=this.height,ua=g.get(this.container,"display"),ya=v.getContentBox(this.container);if(!("none"===ua||0>=ya.w||0>=ya.h||X===ya.w&&na===ya.h)){if(ua=this._zoomAnim||
this._panAnim)ua.stop(),ua._fire("onEnd",[ua.node]);ha(this.root,{width:(this.width=ya.w)+"px",height:(this.height=ya.h)+"px"});ya=this.width;ua=this.height;this.attribution&&this.attribution.domNode&&g.set(this.attribution.domNode,"maxWidth",Math.floor(ya*this._mapParams.attributionWidth)+"px");this.__visibleRect.update(this.__visibleRect.x,this.__visibleRect.y,ya,ua);this.__visibleDelta.update(this.__visibleDelta.x,this.__visibleDelta.y,ya,ua);var Ha=new N(this.extent);X=(new N(Ha.x,Ha.y,ya/X*Ha.width,
ua/na*Ha.height,this.spatialReference)).getExtent();this.onResize(X,ya,ua);this._extentUtil(null,null,X,null,!0)}},reposition:function(){var X=this.position,na=X.x,ua=X.y;this._reposition();X=this.position;if(na!==X.x||ua!==X.y)this.onReposition(X.x,X.y)},_reposition:function(){var X=v.position(this.container,!0),na=v.getPadBorderExtents(this.container);this.position.update(X.x+na.l,X.y+na.t)},_setClipRect:function(){delete this._clip;var X=7>=q("ie")||void 0===q("ie")&&7<=q("trident")?"rect(auto,auto,auto,auto)":
"auto";if(this.wrapAround180){var na=this.width,ua=this.height,ya=this._getFrameWidth(),Ha=na-ya;0<Ha&&(X=Ha/2,X="rect(0px,"+(X+ya)+"px,"+ua+"px,"+X+"px)",ua=this.extent.getWidth(),na=ya/na*ua,this._clip=[(ua-na)/2,na])}ha(this.__container,"clip",X)},_getAvailExtent:function(){var X=this.extent,na=this._clip;if(na){if(!X._clip){var ua=new N(X);ua.width=na[1];ua.x+=na[0];X._clip=ua.getExtent()}return X._clip}return X},_fixedPan:function(X,na){return this._extentUtil(null,{dx:X,dy:na})},panUp:function(){return this._fixedPan(0,
-.75*this.height)},panUpperRight:function(){return this._fixedPan(.75*this.width,-.75*this.height)},panRight:function(){return this._fixedPan(.75*this.width,0)},panLowerRight:function(){return this._fixedPan(.75*this.width,.75*this.height)},panDown:function(){return this._fixedPan(0,.75*this.height)},panLowerLeft:function(){return this._fixedPan(-.75*this.width,.75*this.height)},panLeft:function(){return this._fixedPan(-.75*this.width,0)},panUpperLeft:function(){return this._fixedPan(-.75*this.width,
-.75*this.height)},enableSnapping:function(X){X=X||{};if("esri.SnappingManager"===X.declaredClass)this.snappingManager=X;else{var na=wa++,ua=this;this._rids&&this._rids.push(na);G(["./SnappingManager"],function(ya){var Ha=ua._rids?h.indexOf(ua._rids,na):-1;-1!==Ha&&(ua._rids.splice(Ha,1),ua.snappingManager=new ya(n.mixin({map:ua},X)))})}return this.snappingManager},disableSnapping:function(){this.snappingManager&&this.snappingManager.destroy();this.snappingManager=null},_createLabelLayer:function(){!this._labels&&
da&&this.loaded&&(this._labels=new da({id:"_internal_LabelLayer"}),this._labels._setMap(this,this._gc._surface),this._processLabelLayers(),this.on("layers-reordered",this._processLabelLayers))},_processLabelLayers:function(){null==this._labelProcessor&&(this._labelProcessor=setTimeout(this._updateLabelLayers,0))},_updateLabelLayers:function(){this._labelProcessor=null;this._labels&&(this._labels.removeAllFeatureLayers(),h.forEach(this.graphicsLayerIds,function(X){X=this.getLayer(X);"function"===typeof X.applyEdits?
this._labels.addFeatureLayer(X):"esri.layers.WFSLayer"===X.declaredClass&&this._labels.addFeatureLayer(X)},this))},_getMapImageLyr:function(){this.loaded&&!this._mapImageLyr&&(this._mapImageLyr=new ja,this._mapImageLyr._setMap(this,this._layersDiv),this._placeMapImageLyr());return this._mapImageLyr},_placeMapImageLyr:function(){for(var X=this.layerIds,na=this._layerDivs,ua=!1,ya,Ha,Oa=X.length-1;0<=Oa;Oa--)if(ya=X[Oa],Ha=this.getLayer(ya),ya=na[ya],Ha&&ya&&!Ha._isReference){u.place(this._mapImageLyr._div,
ya,"after");ua=!0;break}ua||u.place(this._mapImageLyr._div,this._layersDiv,"first")}});q("extend-esri")&&(B._CoreMap=m);return m})},"esri/basemaps":function(){define(["require","dojo/has","./kernel","dojo/i18n!./nls/jsapi"],function(G,A,a,m){G={streets:{title:m.basemaps.streets,thumbnailUrl:G.toUrl("./images/basemap/streets.jpg"),itemId:"d8855ee4d3d74413babfb0f41203b168",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer"}]},satellite:{title:m.basemaps.satellite,
thumbnailUrl:G.toUrl("./images/basemap/satellite.jpg"),itemId:"86de95d4e0244cba80f0fa2c9403a7b2",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}]},hybrid:{title:m.basemaps.hybrid,thumbnailUrl:G.toUrl("./images/basemap/hybrid.jpg"),itemId:"413fd05bbd7342f5991d5ec96f4f8b18",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",
isReference:!0}]},terrain:{title:m.basemaps.terrain,thumbnailUrl:G.toUrl("./images/basemap/terrain.jpg"),itemId:"aab054ab883c4a4094c72e949566ad40",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer"},{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",isReference:!0}]},topo:{title:m.basemaps.topo,thumbnailUrl:G.toUrl("./images/basemap/topo.jpg"),itemId:"6e03e8c26aad4b9c92a87c1063ddb0e3",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer"}]},
gray:{title:m.basemaps.gray,thumbnailUrl:G.toUrl("./images/basemap/gray.jpg"),itemId:"8b3b470883a744aeb60e5fff0a319ce7",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer"},{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",isReference:!0}]},"dark-gray":{title:m.basemaps["dark-gray"],thumbnailUrl:G.toUrl("./images/basemap/dark-gray.jpg"),itemId:"da65bacab5bd4defb576f839b6b28098",
baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer"},{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",isReference:!0}]},oceans:{title:m.basemaps.oceans,thumbnailUrl:G.toUrl("./images/basemap/oceans.jpg"),itemId:"48b8cec7ebf04b5fbdcaf70d09daff21",baseMapLayers:[{url:"https://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{url:"https://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",
isReference:!0}]},"national-geographic":{title:m.basemaps["national-geographic"],thumbnailUrl:G.toUrl("./images/basemap/national-geographic.jpg"),itemId:"509e2d6b034246d692a461724ae2d62c",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer"}]},osm:{title:m.basemaps.osm,thumbnailUrl:G.toUrl("./images/basemap/osm.jpg"),itemId:"5d2bfa736f8448b3a1708e1f6be23eed",baseMapLayers:[{type:"OpenStreetMap"}]},"dark-gray-vector":{title:m.basemaps["dark-gray"],
thumbnailUrl:G.toUrl("./images/basemap/dark-gray.jpg"),itemId:"c11ce4f7801740b2905eb03ddc963ac8",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/c11ce4f7801740b2905eb03ddc963ac8/resources/styles/root.json",type:"VectorTile"}]},"gray-vector":{title:m.basemaps.gray,thumbnailUrl:G.toUrl("./images/basemap/gray.jpg"),itemId:"8a2cba3b0ebf4140b7c0dc5ee149549a",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/8a2cba3b0ebf4140b7c0dc5ee149549a/resources/styles/root.json",
type:"VectorTile"}]},"streets-vector":{title:m.basemaps.streets,thumbnailUrl:G.toUrl("./images/basemap/streets.jpg"),itemId:"de26a3cf4cc9451298ea173c4b324736",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",type:"VectorTile"}]},"topo-vector":{title:m.basemaps.topo,thumbnailUrl:G.toUrl("./images/basemap/topo.jpg"),itemId:"7dc6cea0b1764a1f9af2e679f642f0f5",baseMapLayers:[{url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{url:"https://www.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",type:"VectorTile"}]},"streets-night-vector":{title:m.basemaps["streets-night-vector"],thumbnailUrl:G.toUrl("./images/basemap/streets-night.jpg"),itemId:"86f556a2d1fd468181855a35e344567f",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",type:"VectorTile"}]},"streets-relief-vector":{title:m.basemaps["streets-relief-vector"],
thumbnailUrl:G.toUrl("./images/basemap/streets-relief.jpg"),itemId:"b266e6d17fc345b498345613930fbd76",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",type:"VectorTile"}]},"streets-navigation-vector":{title:m.basemaps["streets-navigation-vector"],thumbnailUrl:G.toUrl("./images/basemap/streets-navigation.jpg"),itemId:"63c47b7177f946b49902c24129b87252",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",
type:"VectorTile"}]}};A("extend-esri")&&(a.basemaps=G);return G})},"esri/fx":function(){define("dojo/_base/connect dojo/_base/fx dojo/_base/lang dojo/dom dojo/dom-geometry dojo/dom-style dojo/fx dojo/has ./kernel".split(" "),function(G,A,a,m,p,t,n,h,c){var b={animateRange:function(e){var f=e.range;return new A.Animation(a.mixin({curve:new A._Line(f.start,f.end)},e))},resize:function(e){var f=e.node=m.byId(e.node),k=e.start,u=e.end;k||(k=p.getMarginBox(f),f=p.getPadBorderExtents(f),k=e.start={left:k.l+
f.l,top:k.t+f.t,width:k.w-f.w,height:k.h-f.h});u||(u=e.anchor?e.anchor:{x:k.left,y:k.top},f=e.size,u=e.end={left:k.left-(f.width-k.width)*(u.x-k.left)/k.width,top:k.top-(f.height-k.height)*(u.y-k.top)/k.height,width:f.width,height:f.height});return A.animateProperty(a.mixin({properties:{left:{start:k.left,end:u.left},top:{start:k.top,end:u.top},width:{start:k.width,end:u.width},height:{start:k.height,end:u.height}}},e))},slideTo:function(e){var f=e.node=m.byId(e.node),k=t.getComputedStyle,u=null,
v=null,g=function(){return function(){var q="absolute"==f.style.position?"absolute":"relative";u="absolute"==q?f.offsetTop:parseInt(k(f).top)||0;v="absolute"==q?f.offsetLeft:parseInt(k(f).left)||0;"absolute"!=q&&"relative"!=q&&(q=p.position(f,!0),u=q.y,v=q.x,f.style.position="absolute",f.style.top=u+"px",f.style.left=v+"px")}}();g();e=A.animateProperty(a.mixin({properties:{top:{start:u,end:e.top||0},left:{start:v,end:e.left||0}}},e));G.connect(e,"beforeBegin",e,g);return e},flash:function(e){e=a.mixin({end:"#f00",
duration:500,count:1},e);e.duration/=2*e.count;var f=m.byId(e.node),k=e.start;k||(k=t.getComputedStyle(f).backgroundColor);var u=e.end,v=[],g=e.count;f={node:f,duration:e.duration};for(e=0;e<g;e++)v.push(A.animateProperty(a.mixin({properties:{backgroundColor:{start:k,end:u}}},f))),v.push(A.animateProperty(a.mixin({properties:{backgroundColor:{start:u,end:k}}},f)));return n.chain(v)}};h("extend-esri")&&a.mixin(a.getObject("fx",!0,c),b);return b})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e){a.isAsync||b(0,function(){e(["./fx/Toggler"])});a=a.fx={};b={_fire:function(u,v){this[u]&&this[u].apply(this,v||[]);return this}};var f=function(u){this._index=-1;this._animations=u||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;m.forEach(this._animations,function(v){v&&("undefined"!=typeof v.duration&&(this.duration+=v.duration),v.delay&&(this.duration+=v.delay))},this)};f.prototype=new A;G.extend(f,{_onAnimate:function(){this._fire("onAnimate",
arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=p.after(this._current,"onAnimate",G.hitch(this,"_onAnimate"),!0),this._onEndCtx=p.after(this._current,"onEnd",G.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(u,v){this._current||(this._current=this._animations[this._index=0]);if(!v&&"playing"==
this._current.status())return this;var g=p.after(this._current,"beforeBegin",G.hitch(this,function(){this._fire("beforeBegin")}),!0),q=p.after(this._current,"onBegin",G.hitch(this,function(w){this._fire("onBegin",arguments)}),!0),x=p.after(this._current,"onPlay",G.hitch(this,function(w){this._fire("onPlay",arguments);g.remove();q.remove();x.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=p.after(this._current,"onAnimate",G.hitch(this,"_onAnimate"),!0);this._onEndCtx&&
this._onEndCtx.remove();this._onEndCtx=p.after(this._current,"onEnd",G.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var u=p.after(this._current,"onPause",G.hitch(this,function(v){this._fire("onPause",arguments);u.remove()}),!0);this._current.pause()}return this},gotoPercent:function(u,v){this.pause();var g=this.duration*u;this._current=null;m.some(this._animations,function(q,x){if(g<=q.duration)return this._current=q,this._index=
x,!0;g-=q.duration;return!1},this);this._current&&this._current.gotoPercent(g/this._current.duration);v&&this.play();return this},stop:function(u){if(this._current){if(u){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var v=p.after(this._current,"onStop",G.hitch(this,function(g){this._fire("onStop",arguments);v.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():
"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});G.extend(f,b);a.chain=function(u){return new f(G.isArray(u)?u:Array.prototype.slice.call(u,0))};var k=function(u){this._animations=u||[];this._connects=[];this.duration=this._finished=0;m.forEach(u,function(g){var q=g.duration;g.delay&&(q+=g.delay);this.duration<q&&(this.duration=q);this._connects.push(p.after(g,"onEnd",G.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=
new t.Animation({curve:[0,1],duration:this.duration});var v=this;m.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(g){v._connects.push(p.after(v._pseudoAnimation,g,function(){v._fire(g,arguments)},!0))})};G.extend(k,{_doAction:function(u,v){m.forEach(this._animations,function(g){g[u].apply(g,v)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(u,v){var g=this._pseudoAnimation;g[u].apply(g,v)},play:function(u,
v){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(u,v){var g=this.duration*u;m.forEach(this._animations,function(q){q.gotoPercent(q.duration<g?1:g/q.duration,v)});this._call("gotoPercent",arguments);return this},stop:function(u){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},
destroy:function(){this.stop();m.forEach(this._connects,function(u){u.remove()})}});G.extend(k,b);a.combine=function(u){return new k(G.isArray(u)?u:Array.prototype.slice.call(u,0))};a.wipeIn=function(u){var v=u.node=n.byId(u.node),g=v.style,q;u=t.animateProperty(G.mixin({properties:{height:{start:function(){q=g.overflow;g.overflow="hidden";if("hidden"==g.visibility||"none"==g.display)return g.height="1px",g.display="",g.visibility="",1;var w=h.get(v,"height");return Math.max(w,1)},end:function(){return v.scrollHeight}}}},
u));var x=function(){g.height="auto";g.overflow=q};p.after(u,"onStop",x,!0);p.after(u,"onEnd",x,!0);return u};a.wipeOut=function(u){var v=(u.node=n.byId(u.node)).style,g;u=t.animateProperty(G.mixin({properties:{height:{end:1}}},u));p.after(u,"beforeBegin",function(){g=v.overflow;v.overflow="hidden";v.display=""},!0);var q=function(){v.overflow=g;v.height="auto";v.display="none"};p.after(u,"onStop",q,!0);p.after(u,"onEnd",q,!0);return u};a.slideTo=function(u){var v=null,g=null,q=function(x){return function(){var w=
h.getComputedStyle(x),B=w.position;v="absolute"==B?x.offsetTop:parseInt(w.top)||0;g="absolute"==B?x.offsetLeft:parseInt(w.left)||0;"absolute"!=B&&"relative"!=B&&(w=c.position(x,!0),v=w.y,g=w.x,x.style.position="absolute",x.style.top=v+"px",x.style.left=g+"px")}}(u.node=n.byId(u.node));q();u=t.animateProperty(G.mixin({properties:{top:u.top||0,left:u.left||0}},u));p.after(u,"beforeBegin",q,!0);return u};return a})},"esri/tileUtils":function(){define(["dojo/_base/array","dojo/has","./kernel","./geometry/Point",
"./geometry/Extent"],function(G,A,a,m,p){var t={_addFrameInfo:function(n,h){var c,b,e=2*h.origin[1],f=h.origin[0],k=n.origin.x,u=n.width,v;G.forEach(n.lods,function(g){c=Math.round(e/g.resolution);b=Math.ceil(c/u);v=Math.floor((f-k)/(u*g.resolution));g._frameInfo||(g._frameInfo=[b,v,v+b-1,c])})},getContainingTileCoords:function(n,h,c){var b=n.origin;c=c.resolution;return{row:Math.floor((b.y-h.y)/(n.height*c)),col:Math.floor((h.x-b.x)/(n.width*c))}},getCandidateTileInfo:function(n,h,c){var b=n.width;
var e=n.height,f=c.xmax-c.xmin,k=c.ymax-c.ymin,u=n.__tileInfo===h,v=u?n.getMinZoom():-1;u=u?n.getMaxZoom():-1;var g=-1,q=h.lods,x=Math.abs,w;u=-1<u?u:q.length-1;for(v=-1<v?v:0;v<=u;v++)if(w=q[v]){var B=f>k?x(k-e*w.resolution):x(f-b*w.resolution);if(0>g||B<=g){var z=w;g=B}else break}b=z;z=b.resolution;e=(c.xmin+c.xmax)/2;f=(c.ymin+c.ymax)/2;k=n.width/2*z;z*=n.height/2;e=new p(e-k,f-z,e+k,f+z,c.spatialReference);c=new m(e.xmin,e.ymax,c.spatialReference);u=b.resolution;k=h.width;f=h.height;h=h.origin;
n=n.__visibleDelta;z=Math.floor;q=k*u;x=f*u;u=z((h.y-c.y)/x);g=z((c.x-h.x)/q);v=h.y-u*x;h=z(Math.abs((c.x-(h.x+g*q))*k/q))+n.x;n=z(Math.abs((c.y-v)*f/x))+n.y;return{tile:{point:c,coords:{row:u,col:g},offsets:{x:h,y:n}},lod:b,extent:e}},getTileExtent:function(n,h,c,b){var e=n.origin;h=n.lods[h].resolution;var f=n.width,k=n.height;return new p(b*h*f+e.x,e.y-(c+1)*h*k,(b+1)*h*f+e.x,e.y-c*h*k,n.spatialReference)}};A("extend-esri")&&(a.TileUtils=t);return t})},"esri/geometry/Rect":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./Geometry ./Point ./Extent ../srUtils".split(" "),
function(G,A,a,m,p,t,n,h,c){function b(f){return new h(parseFloat(f.x),parseFloat(f.y)-parseFloat(f.height),parseFloat(f.x)+parseFloat(f.width),parseFloat(f.y),f.spatialReference)}var e=G(t,{declaredClass:"esri.geometry.Rect",type:"rect",x:0,y:0,width:100,height:100,constructor:function(f,k,u,v,g){p.isObject(f)&&"extent"===f.type&&(k=f.ymax,u=f.getWidth(),v=f.getHeight(),g=f.spatialReference,f=f.xmin);p.isObject(f)?(p.mixin(this,f),this.spatialReference&&(this.spatialReference=c.createSpatialReference(this.spatialReference))):
(this.x=f,this.y=k,this.width=u,this.height=v,this.spatialReference=g);this.verifySR()},getCenter:function(){return new n(this.x+this.width/2,this.y+this.height/2,this.spatialReference)},offset:function(f,k){return new e(this.x+f,this.y+k,this.width,this.height,this.spatialReference)},intersects:function(f){return f.x+f.width<=this.x||f.y+f.height<=this.y||f.y>=this.y+this.height||f.x>=this.x+this.width?!1:!0},getExtent:function(){return b(this)},update:function(f,k,u,v,g){this.x=f;this.y=k;this.width=
u;this.height=v;this.spatialReference=g;this.clearCache();return this}});a("extend-esri")&&(A.setObject("geometry.Rect",e,m),m.geometry._rectToExtent=b,m.geometry._extentToRect=function(f){return new e(f)});return e})},"esri/layers/ArcGISTiledMapServiceLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has dojo/io-query ../kernel ../urlUtils ../SpatialReference ./TiledMapServiceLayer ./ArcGISMapServiceLayer ./TileInfo ./TimeInfo ./TileMap".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v){A=A([e,f],{declaredClass:"esri.layers.ArcGISTiledMapServiceLayer",_agolAttrs:"Canvas/World_Dark_Gray_Base Canvas/World_Dark_Gray_Reference Canvas/World_Light_Gray_Base Canvas/World_Light_Gray_Reference Elevation/World_Hillshade Ocean/World_Ocean_Base Ocean/World_Ocean_Reference Ocean_Basemap Reference/World_Boundaries_and_Places Reference/World_Boundaries_and_Places_Alternate Reference/World_Transportation World_Imagery World_Street_Map World_Topo_Map".split(" "),
_isReference:!1,_referenceLayers:"Canvas/World_Dark_Gray_Reference Canvas/World_Light_Gray_Reference Ocean/World_Ocean_Reference Reference/World_Boundaries_and_Places Reference/World_Boundaries_and_Places_Alternate Reference/World_Reference_Overlay Reference/World_Transportation".split(" "),constructor:function(g,q){q&&(q.roundrobin&&(G.deprecated(this.declaredClass+" : Constructor option 'roundrobin' deprecated. Use option 'tileServers'."),q.tileServers=q.roundrobin),this._setTileServers(q.tileServers),
this._loadCallback=q.loadCallback);this._params=a.mixin({},this._url.query);this._initLayer=a.hitch(this,this._initLayer);(g=q&&q.resourceInfo)?this._initLayer(g):(this._load=a.hitch(this,this._load),this._load())},_TILE_FORMATS:{PNG:"png",PNG8:"png",PNG24:"png",PNG32:"png",JPG:"jpg",JPEG:"jpg",GIF:"gif"},_setTileServers:function(g){if(g&&0<g.length){this.tileServers=g;var q,x=g.length;for(q=0;q<x;q++)g[q]=c.urlToObject(g[q]).path}},_initLayer:function(g,q){this.inherited(arguments);this.resourceInfo=
p.toJson(g);this.tileInfo=new k(g.tileInfo);!1!==this.resampling&&(g.capabilities&&-1<g.capabilities.indexOf("Tilemap")?(this.resampling=!0,this.tileMap=new v(this)):this.resampling=!!g.resampling);!this.spatialReference&&this.tileInfo.spatialReference&&(this.spatialReference=new b(this.tileInfo.spatialReference.toJson()));this.isPNG32="PNG24"===this.tileInfo.format||"PNG32"===this.tileInfo.format;g.timeInfo&&(this.timeInfo=new u(g.timeInfo));g.mensurationCapabilities&&(this.mensurationCapabilities=
g.mensurationCapabilities);var x=this._url.path,w=this._loadCallback,B=c.getProtocolForWebResource(!0),z=x.match(/^https?:\/\/(server|services)\.arcgisonline\.com\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);z=z&&z[2];if(!this.tileServers)if(g.tileServers)this._setTileServers(g.tileServers);else{var C=-1!==x.search(/^https?:\/\/server\.arcgisonline\.com/i),y=-1!==x.search(/^https?:\/\/services\.arcgisonline\.com/i);(C||y)&&this._setTileServers([x,x.replace(C?/server\.arcgisonline/i:
/services\.arcgisonline/i,C?"services.arcgisonline":"server.arcgisonline")])}if(z){z=z.toLowerCase();for(x=0;x<this._agolAttrs.length;x++)if(C=this._agolAttrs[x],C.toLowerCase()===z){this.hasAttributionData=!0;this.attributionDataUrl=this.attributionDataUrl||B+"//static.arcgis.com/attribution/"+C;break}for(x=0;x<this._referenceLayers.length;x++)if(C=this._referenceLayers[x],C.toLowerCase()===z){this._isReference=!0;break}}this.loaded=!0;this.onLoad(this);w&&(delete this._loadCallback,w(this))},getTileUrl:function(g,
q,x){var w=this.tileServers,B=this._getToken(),z=this._url.query;g=(w?w[q%w.length]:this._url.path)+"/tile/"+g+"/"+q+"/"+x;g=c.upgradeToHTTPS(g);this.resampling&&!this.tileMap&&(g+="?blankTile\x3dfalse");z&&(g=this.resampling&&!this.tileMap?g+("\x26"+n.objectToQuery(z)):g+("?"+n.objectToQuery(z)));!B||z&&z.token||(g+=(-1===g.indexOf("?")?"?":"\x26")+"token\x3d"+B);g=this.addTimestampToURL(g);return c.addProxy(g)}});t("extend-esri")&&a.setObject("layers.ArcGISTiledMapServiceLayer",A,h);return A})},
"esri/layers/TiledMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/url dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/dom dojox/collections/ArrayList dojox/gfx/matrix ../kernel ../config ../sniff ../domUtils ../tileUtils ../geometry/Point ../geometry/Rect ../geometry/Extent ./layer".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z){G=G(z,{declaredClass:"esri.layers.TiledMapServiceLayer",constructor:function(C,
y){A.connect(this,"onLoad",this,"_initTiledLayer");this._lowestLevel=(this._displayLevels=y?y.displayLevels:null)?this._displayLevels[0]:0;this.resampling=y?y.resampling:void 0;this._resamplingTolerance=y?y.resamplingTolerance:null;this.exclusionAreas=y?y.exclusionAreas:null;C=a.hitch;this._addImage=C(this,this._addImage);this._tileLoadHandler=C(this,this._tileLoadHandler);this._tileErrorHandler=C(this,this._tileErrorHandler);this._popTile=C(this,this._popTile);this._cleanUpRemovedImages=C(this,this._cleanUpRemovedImages);
this._fireOnUpdateEvent=C(this,this._fireOnUpdateEvent);this._transitionEnd=C(this,this._transitionEnd);this._tileMapCallback=C(this,this._tileMapCallback)},opacity:1,isPNG32:!1,_multiple:1,isResampling:!1,_initTiledLayer:function(){var C=this.tileInfo,y=C.lods;this.resampling=null!=this.resampling?this.resampling:!1;this._tileW=C.width;this._tileH=C.height;var D=this.scales=[],F=this._displayLevels,H=-Infinity,E=Infinity,I=this.fullExtent,J=new x(I.xmin,I.ymax);I=new x(I.xmax,I.ymin);var K=q.getContainingTileCoords,
L,O=y.length;for(L=0;L<O;L++){var U=y[L];var S=K(C,J,U);U.startTileRow=0>S.row?0:S.row;U.startTileCol=0>S.col?0:S.col;S=K(C,I,U);U.endTileRow=S.row;U.endTileCol=S.col;F&&-1===m.indexOf(F,U.level)||(D[L]=U.scale,H=U.scale>H?U.scale:H,E=U.scale<E?U.scale:E)}-Infinity===H||this._hasMin||this.setMinScale(H);Infinity===E||this._hasMax||this.setMaxScale(E);this.setExclusionAreas(this.exclusionAreas);this._patchIE=6<=v("ie")&&7>v("ie")&&(this.isPNG32||"Mixed"===C.format)},isVisibleAtScale:function(C){return C?
z.prototype._isMapAtVisibleScale.call(this,C,!0):!1},_isMapAtVisibleScale:function(C){var y=this.inherited(arguments,[C,!0]);if(y){var D=this._map;y=this.scales;var F=D.getScale(),H=!1,E=D.width>D.height?D.width:D.height;for(D=0;D<y.length;D++)if(Math.abs(y[D]-F)/y[D]<1/E){H=!0;break}y=H}return y},_setMap:function(C,y,D,F){this.inherited(arguments);this._map=C;var H=this._div=t.create("div",null,y),E=C.__visibleDelta,I=A.connect,J=k._css.names,K={position:"absolute",width:C.width+"px",height:C.height+
"px",overflow:"visible"},L=u.defaults.map.zoomDuration;"css-transforms"===C.navigationMode?(K[J.transform]=k._css.translate(-E.x,-E.y),c.set(H,K),delete K[J.transform],K[J.transition]=J.transformName+" "+L+"ms ease",c.set(this._active=t.create("div",null,H),K),this._active._remove=0,this._passives=[]):(K.left=-E.x+"px",K.top=-E.y+"px",c.set(H,K));this._onResizeHandler_connect=I(C,"onResize",this,"_onResizeHandler");this._opacityChangeHandler_connect=I(this,"onOpacityChange",this,"_opacityChangeHandler");
E=this.tileInfo;I=E.spatialReference;J=I._getInfo();(this._wrap=C.wrapAround180&&I._isWrappable()&&Math.abs(J.origin[0]-E.origin.x)<=J.dx)&&q._addFrameInfo(E,J);this.setExclusionAreas(this.exclusionAreas);this.evaluateSuspension();if(this.suspended&&!C.loaded)var O=A.connect(C,"onLoad",this,function(){A.disconnect(O);O=null;this.setExclusionAreas(this.exclusionAreas);this.evaluateSuspension()});return H},_unsetMap:function(C,y){this.suspended||this._suspendImpl();t.destroy(this._div);this._map=this._div=
null;var D=A.disconnect;D(this._onResizeHandler_connect);D(this._opacityChangeHandler_connect);this.inherited(arguments)},onSuspend:function(){this.inherited(arguments);this._suspendImpl()},_suspendImpl:function(){g.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();var C=this._tiles,y=this._tileIds,D=this._loadingList,F,H,E=A.disconnect,I=t.destroy;D&&0<D.count&&(D.forEach(function(K){if(F=C[K])E(F._onload_connect),E(F._onerror_connect),E(F._onabort_connect),
F._onload_connect=F._onerror_connect=F._onabort_connect=null}),D.clear(),this._fireUpdateEnd());this._removeList.clear();for(D=y.length-1;0<=D;D--)(F=(H=y[D])&&C[H])&&I(F);if("css-transforms"===this._map.navigationMode){y=this._active;H=this._passives;this._noDom=0;for(D=H.length-1;0<=D;D--){var J=H[D];J._endHandle&&E(J._endHandle);J._matrix=J._multiply=J._endHandle=null;J._marked=J._remove=0;H.splice(D,1);I(J)}y._matrix=y._multiply=null;y._marked=y._remove=0}this._tileIds=this._tiles=this._tileBounds=
this._ct=this._loadingList=this._removeList=this._standby=null},onResume:function(){this.inherited(arguments);this._tileIds=[];this._tiles=[];this._tileBounds=[];this._ct=null;this._removeList=new e;this._loadingList=new e;g.show(this._div);this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(a.hitch(this,function(){this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD)}),0)},_enableDrawConnectors:function(){var C=this._map,y=A.connect;if("css-transforms"===
C.navigationMode){if(this._onScaleHandler_connect=y(C,"onScale",this,this._onScaleHandler),v("esri-mobile")){this._standby=[];var D=this,F=function(){D._noDom=1};this._onPanStartHandler_connect=y(C,"onPanStart",F);this._onZoomStartHandler_connect=y(C,"onZoomStart",F)}}else this._onZoomHandler_connect=y(C,"onZoom",this,"_onZoomHandler");this._onPanHandler_connect=y(C,"onPan",this,"_onPanHandler");this._onExtentChangeHandler_connect=y(C,"onExtentChange",this,"_onExtentChangeHandler")},_disableDrawConnectors:function(){var C=
A.disconnect;C(this._onPanHandler_connect);C(this._onZoomHandler_connect);C(this._onScaleHandler_connect);C(this._onExtentChangeHandler_connect);C(this._onPanStartHandler_connect);C(this._onZoomStartHandler_connect);this._onPanHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=this._onExtentChangeHandler_connect=this._onPanStartHandler_connect=this._onZoomStartHandler_connect=null},_onResizeHandler:function(C,y,D){C={width:y+"px",height:D+"px"};y=c.set;y(this._div,C);if("css-transforms"===
this._map.navigationMode)for(this._active&&y(this._active,C),D=this._passives.length-1;0<=D;D--)y(this._passives[D],C)},_onExtentChangeHandler:function(C,y,D,F){y=this._map;var H=this._standby;clearTimeout(this._wakeTimer);this._wakeTimer=null;if(!y._isPanningOrZooming()){if("css-transforms"===y.navigationMode){if(D)for(F=this._passives.length-1;0<=F;F--){var E=this._passives[F];c.set(E,k._css.names.transition,"none");E._marked?(this._passives.splice(F,1),E.parentNode&&E.parentNode.removeChild(E),
t.destroy(E)):0<E.childNodes.length&&(E._multiply=E._multiply?f.multiply(E._matrix,E._multiply):E._matrix)}this._noDom=0;if(H&&H.length)for(F=H.length-1;0<=F;F--)E=H[F],c.set(E,"visibility","inherit"),this._popTile(E),H.splice(F,1)}this._fireUpdateStart();this._rrIndex=0;F=q.getCandidateTileInfo(y,this.tileInfo,C);C=y.__visibleDelta;if(!this._ct||F.lod.level!==this._ct.lod.level||D){E=F&&this._ct&&F.lod.level!==this._ct.lod.level;this._ct=F;var I=this._tiles,J=this._tileIds,K=this._tileBounds,L=this._removeList,
O=J.length;this._cleanUpRemovedImages();for(F=0;F<O;F++){H=J[F];var U=I[H];K[H]=J[F]=null;"css-transforms"===y.navigationMode&&E&&U.parentNode&&y.fadeOnZoom&&(U._fadeOut=E,U.parentNode._remove++);L.add(U)}D&&(this._tileIds=[],this._tiles=[],this._tileBounds=[])}F=C.x;D=C.y;"css-transforms"===y.navigationMode?(H={},H[k._css.names.transform]=k._css.translate(F,D),c.set(this._div,H)):c.set(this._div,{left:F+"px",top:D+"px"});this.__coords_dx=F;this.__coords_dy=D;this._updateImages(new w(0,0,C.width,
C.height));0===this._loadingList.count?(this._cleanUpRemovedImages(),this.onUpdate(),this._fireUpdateEnd()):this._fireOnUpdate=!0;D=this._tileW;I=this._tileH;C=new w(-C.x,-C.y,C.width,C.height);for(F=this._tileIds.length-1;0<=F;F--)(H=this._tileIds[F])?(E=this._tiles[H],J=h.getMarginBox(E),J=new w(J.l,J.t,D,I),"css-transforms"===y.navigationMode&&(J.x=E._left,J.y=E._top),C.intersects(J)?this._tileBounds[H]=J:(this._loadingList.contains(H)&&this._popTile(E),t.destroy(E),this._tileIds.splice(F,1),delete this._tileBounds[H],
delete this._tiles[H])):(this._tileIds.splice(F,1),delete this._tileBounds[H],delete this._tiles[H])}},_onPanHandler:function(C,y){C=this._map;y=C.__visibleDelta.offset(y.x,y.y);this.__coords_dx=this.__coords_dy=0;"css-transforms"===C.navigationMode?(C={},C[k._css.names.transform]=k._css.translate(y.x,y.y),c.set(this._div,C),v("esri-mobile")||this._updateImages({x:-y.x,y:-y.y,width:y.width,height:y.height})):(c.set(this._div,{left:y.x+"px",top:y.y+"px"}),this._updateImages({x:-y.x,y:-y.y,width:y.width,
height:y.height}));0<this._loadingList.count&&(this._fireUpdateStart(),this._fireOnUpdate=!0)},_onScaleHandler:function(C,y){var D,F={},H=k._css.names,E=this._map,I=u.defaults.map.zoomDuration;for(D=this._passives.length-1;0<=D;D--){var J=this._passives[D];0===J.childNodes.length?(this._passives.splice(D,1),t.destroy(J)):("none"===J.style[H.transition]&&c.set(J,H.transition,H.transformName+" "+I+"ms ease"),c.set(J,H.transition,y?"none":H.transformName+" "+I+"ms ease"),J._matrix=C,F[H.transform]=k._css.matrix(J._multiply?
f.multiply(C,J._multiply):C),c.set(J,F))}this._active&&0===this._active.childNodes.length||(c.set(this._active,H.transition,y?"none":H.transformName+" "+I+"ms ease"),this._active._matrix=C,F[H.transform]=k._css.matrix(this._active._matrix),c.set(this._active,F),this._passives.push(this._active),F={position:"absolute",width:E.width+"px",height:E.height+"px",overflow:"visible"},F[H.transition]=H.transformName+" "+I+"ms ease",c.set(this._active=t.create("div",null,this._div),F),this._active._remove=
0,E.fadeOnZoom&&t.place(this._active,this._div,"first"))},_onZoomHandler:function(C,y,D){C=h.getMarginBox(this._div);D=D.offset(-C.l,-C.t);this._previousScale&&1!==y||(this._previousScale=1);var F,H=this._tileW*y,E=this._tileH*y,I=this._tileBounds,J=this._tiles,K=this._previousScale,L=this._multiple,O=c.set,U,S;if((C=v("ie"))&&8>C)m.forEach(this._tileIds,function(ea){S="";F=I[ea];U=J[ea].style.margin.split(" ");m.forEach(U,function(P){""!==S&&(S+=" ");P=parseFloat(P);S+=P/K*y+"px"});O(J[ea],{left:F.x-
(H-F.width)*(D.x-F.x)/F.width+"px",top:F.y-(E-F.height)*(D.y-F.y)/F.height+"px",margin:1!==L&&-1===S.indexOf("NaN")?S:"",zoom:y})});else{var M=H*L,N=E*L,T,V;m.forEach(this._tileIds,function(ea){S="";F=I[ea];T=F.x-(H-F.width)*(D.x-F.x)/F.width;V=F.y-(E-F.height)*(D.y-F.y)/F.height;U=J[ea].style.margin.split(" ");m.forEach(U,function(P){""!==S&&(S+=" ");P=parseFloat(P);S+=P/K*y+"px"});O(J[ea],{left:T+"px",top:V+"px",margin:1!==L&&-1===S.indexOf("NaN")?S:"",width:M+"px",height:N+"px"})})}this._previousScale=
y},_updateImages:function(C){if(this._ct){var y=this._tileW,D=this._tileH,F=this._ct;var H=F.lod;F=F.tile;var E=F.offsets,I=F.coords,J=I.row;I=I.col;var K=H.level,L=this.opacity,O=this._tileIds,U=this._loadingList,S=this._addImage,M=this._map.id,N=this.id,T=C.x,V=C.y,ea=H.startTileRow,P=H.endTileRow,ba=H.startTileCol,la=H.endTileCol,Q=m.indexOf,Y=E.x-this.__coords_dx,ja=E.y-this.__coords_dy;var pa=y-Y+-C.x;var ka=D-ja+-C.y;var va=Math.ceil;pa=0<pa?pa%y:y-Math.abs(pa)%y;ka=0<ka?ka%D:D-Math.abs(ka)%
D;T=0<T?Math.floor((T+Y)/y):va((T-(y-Y))/y);V=0<V?Math.floor((V+ja)/D):va((V-(D-ja))/D);ja=T+va((C.width-pa)/y);C=V+va((C.height-ka)/D);if(this._wrap){var Aa=H._frameInfo;var da=Aa[0];var ca=Aa[1];Aa=Aa[2]}for(ka=T;ka<=ja;ka++)for(T=V;T<=C;T++)va=J+T,pa=I+ka,this._wrap&&(pa<ca?(pa%=da,pa=pa<ca?pa+da:pa):pa>Aa&&(pa%=da)),!this._isExcluded(K,va,pa)&&va>=ea&&va<=P&&pa>=ba&&pa<=la&&(H=M+"_"+N+"_tile_"+K+"_"+T+"_"+ka,-1===Q(O,H)&&(U.add(H),O.push(H),S(K,T,va,ka,pa,H,y,D,L,F,E)))}},_cleanUpRemovedImages:function(){var C=
this._removeList,y=t.destroy,D,F=k._css.names;C.forEach(function(E){E._fadeOut||(E.style.filter="",E.style.zoom=1,y(E))});if("css-transforms"===this._map.navigationMode)for(D=this._passives.length-1;0<=D;D--){var H=this._passives[D];0===H.childNodes.length?(this._passives.splice(D,1),y(H)):this._map.fadeOnZoom&&!H._marked&&H._remove===H.childNodes.length&&(H._marked=1,2048>k._css.getScaleFromMatrix(c.get(H,F.transform))?(c.set(H,F.transition,"opacity 0.65s"),c.set(H,"opacity",0),A.disconnect(H._endHandle),
H._endHandle=A.connect(H,F.endEvent,this._transitionEnd)):this._transitionEnd({propertyName:"opacity",target:H}))}C.clear()},_transitionEnd:function(C){var y=C.target;"opacity"===C.propertyName&&(A.disconnect(y._endHandle),y._endHandle=null,C=m.indexOf(this._passives,y),-1<C&&this._passives.splice(C,1),y.parentNode&&y.parentNode.removeChild(y),t.destroy(y))},_addImage:function(C,y,D,F,H,E,I,J,K,L,O){if(this._patchIE)L=this._tiles[E]=t.create("div"),L.id=E,n.add(L,"layerTile"),c.set(L,{left:I*F-O.x+
"px",top:J*y-O.y+"px",width:I+"px",height:J+"px",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+this.getTileUrl(C,D,H)+"', sizingMethod\x3d'scale')"}),1>K&&c.set(L,"opacity",K),C=L.appendChild(t.create("div")),c.set(C,{opacity:0,width:I+"px",height:J+"px"}),this._div.appendChild(L),L=null,this._loadingList.remove(E),this._fireOnUpdateEvent();else{L=this._tiles[E]=t.create("img");var U=A.connect;L.id=E;L._uid=C+"_"+D+"_"+H;L.alt="";n.add(L,"layerTile");F=I*F-O.x;O=J*y-O.y;y=this._map;
var S=k._css.names;I={width:I+"px",height:J+"px",visibility:"hidden"};"css-transforms"===y.navigationMode?(I[S.transform]=k._css.translate(F,O),c.set(L,I),L._left=F,L._top=O):(I.left=F+"px",I.top=O+"px",c.set(L,I));1>K&&c.set(L,"opacity",K);L._onload_connect=U(L,"onload",this,"_tileLoadHandler");L._onerror_connect=U(L,"onerror",a.hitch(this,"_tileErrorHandler",D,H));L._onabort_connect=U(L,"onabort",this,"_tileAbortHandler");if(this.tileMap)this.tileMap.getTile(C,D,H,E,this._tileMapCallback);else if(E=
this.getTileUrl(C,D,H,L))this._failedRequests&&this._failedRequests[E]?(c.set(L,this._failedRequests[E].css),L.src=this._failedRequests[E].src,this._multiple=parseInt(this._failedRequests[E].css.width)/this._tileW,this.isResampling=1!==this._multiple):(this._multiple=1,this.isResampling=!1,L.src=E);"css-transforms"===y.navigationMode?this._active.appendChild(L):this._div.appendChild(L);L=null}},_tileMapCallback:function(C,y){if(!this.suspended){var D=this._tiles[y.id]||b.byId(y.id);var F=y.level+
"_"+y.row+"_"+y.col;D&&D._uid===F?(this._multiple=2*(y.level-C.level)||1,this.isResampling=1!==this._multiple,y=this.tileMap.style(C,y),c.set(D,y),D.src=this.getTileUrl(C.level,C.row,C.col)):this._popTile(y)}},getTileUrl:function(C,y,D){},refresh:function(){this.suspended||(this._refreshTS=Date.now(),this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD))},_popTile:function(C){var y=A.disconnect;y(C._onload_connect);y(C._onerror_connect);y(C._onabort_connect);C._onload_connect=C._onerror_connect=
C._onabort_connect=null;this._loadingList.remove(C.id);this._fireOnUpdateEvent()},_tileLoadHandler:function(C){C=C.currentTarget;this._noDom?this._standby.push(C):(c.set(C,"visibility","inherit"),this._popTile(C))},_tileAbortHandler:function(C){C=C.currentTarget;this.onError(Error("Unable to load tile: "+C.src));c.set(C,"visibility","hidden");this._popTile(C)},_tileErrorHandler:function(C,y,D){D=D.currentTarget;var F=!0;if(this.tileMap||!this.resampling)F=!1;else{var H=new p(D.src);H=H.path.split("/");
H=parseInt(H[H.length-3]);var E=this._ct.lod.level-H+1;this._multiple=Math.pow(2,E);if(H===this._lowestLevel||0===this._resamplingTolerance||this._resamplingTolerance&&Math.log(this._multiple)/Math.LN2>this._resamplingTolerance)F=!1}F?(this.isResampling=!0,this._resample(D,C,y)):(this.onError(Error("Unable to load tile: "+D.src)),c.set(D,"visibility","hidden"),this._popTile(D))},_resample:function(C,y,D){var F=(new p(C.src)).path.split("/"),H=this._multiple,E=parseInt(F[F.length-3])-1,I=parseInt(y/
H),J=parseInt(D/H);F=D%H;var K=y%H;I=this.getTileUrl(E,I,J);y=this.getTileUrl(E+Math.log(H)/Math.LN2,y,D);H={width:this._tileW*H+"px",height:this._tileH*H+"px",margin:"-"+this._tileW*K+"px 0 0 -"+(this._tileH*F+"px")};this._failedRequests||(this._failedRequests={});this._failedRequests[y]={src:I,css:H};c.set(C,H);v("chrome")&&C.setAttribute("src",null);C.src=I},_fireOnUpdateEvent:function(){0===this._loadingList.count&&(this._cleanUpRemovedImages(),this._fireOnUpdate&&(this._fireOnUpdate=!1,this.onUpdate(),
this._fireUpdateEnd()))},setOpacity:function(C){if(this.opacity!=C)this.onOpacityChange(this.opacity=C)},onOpacityChange:function(){},_opacityChangeHandler:function(C){var y=c.set,D,F;if("css-transforms"===this._map.navigationMode){if(this._active){var H=this._active.childNodes;for(D=H.length-1;0<=D;D--)y(H[D],"opacity",C)}for(D=this._passives.length-1;0<=D;D--)for(H=this._passives[D].childNodes,F=H.length-1;0<=F;F--)y(H[F],"opacity",C)}else for(H=this._div.childNodes,D=H.length-1;0<=D;D--)y(H[D],
"opacity",C)},setExclusionAreas:function(C){this.exclusionAreas=C;if(this.loaded&&this._map&&this._map.loaded){var y=this._map.spatialReference,D=this.tileInfo,F=D.origin,H=D.lods,E=H[0].level,I=H[H.length-1].level,J,K,L;if(this.exclusionAreas&&this.exclusionAreas.length){this._exclusionsPerZoom=[];var O=0;for(J=C.length;O<J;O++){var U=C[O];if((L=U.geometry)&&"extent"===L.type&&L.xmin<=L.xmax&&L.ymin<=L.ymax){if(!y.equals(L.spatialReference))if(y._canProject(L.spatialReference)){if(y.isWebMercator()){var S=
x.lngLatToXY(L.xmin,L.ymin);L=x.lngLatToXY(L.xmax,L.ymax)}else S=x.xyToLngLat(L.xmin,L.ymin,!0),L=x.xyToLngLat(L.xmax,L.ymax,!0);L=new B(S[0],S[1],L[0],L[1],y)}else continue;var M=-1;if(U.minZoom&&-1!==U.minZoom)M=U.minZoom;else if(U.minScale&&-1!==U.minScale){var N=0;for(K=H.length;N<K;N++)if(H[N].scale<=U.minScale){M=H[N].level;break}}M=Math.max(M,E);S=-1;if(U.maxZoom&&-1!==U.maxZoom)S=U.maxZoom;else if(U.maxScale&&-1!==U.maxScale)for(N=0,K=H.length;N<K;N++)if(H[N].scale<U.maxScale){S=H[N-1].level;
break}else if(H[N].scale===U.maxScale){S=H[N].level;break}S=-1===S?I:Math.min(S,I);for(U=M;U<=S;U++){N=0;for(K=H.length;N<K;N++)if(H[N].level===U){var T=H[N];break}T&&(this._exclusionsPerZoom[U]||(this._exclusionsPerZoom[U]=[]),N=1/T.resolution/D.rows,K=1/T.resolution/D.cols,this._exclusionsPerZoom[U].push({rowFrom:Math.floor((F.y-L.ymax)*N),rowTo:Math.ceil((F.y-L.ymin)*N),colFrom:Math.floor((L.xmin-F.x)*K),colTo:Math.ceil((L.xmax-F.x)*K)}))}}}}else this._exclusionsPerZoom=null;this.suspended||this._onExtentChangeHandler(this._map.extent,
null,!0,this._map.__LOD)}},_isExcluded:function(C,y,D){var F;if(!this._exclusionsPerZoom)return!1;var H=this._exclusionsPerZoom[C];if(!H)return!1;var E=0;for(F=H.length;E<F;E++)if(C=H[E],y>=C.rowFrom&&y<C.rowTo&&D>=C.colFrom&&D<C.colTo)return!0;return!1}});v("extend-esri")&&a.setObject("layers.TiledMapServiceLayer",G,k);return G})},"dojox/collections/ArrayList":function(){define(["dojo/_base/kernel","dojo/_base/array","./_base"],function(G,A,a){a.ArrayList=function(m){var p=[];m&&(p=p.concat(m));
this.count=p.length;this.add=function(t){p.push(t);this.count=p.length};this.addRange=function(t){if(t.getIterator)for(t=t.getIterator();!t.atEnd();)this.add(t.get());else for(var n=0;n<t.length;n++)p.push(t[n]);this.count=p.length};this.clear=function(){p.splice(0,p.length);this.count=0};this.clone=function(){return new a.ArrayList(p)};this.contains=function(t){for(var n=0;n<p.length;n++)if(p[n]==t)return!0;return!1};this.forEach=function(t,n){G.forEach(p,t,n)};this.getIterator=function(){return new a.Iterator(p)};
this.indexOf=function(t){for(var n=0;n<p.length;n++)if(p[n]==t)return n;return-1};this.insert=function(t,n){p.splice(t,0,n);this.count=p.length};this.item=function(t){return p[t]};this.remove=function(t){t=this.indexOf(t);0<=t&&p.splice(t,1);this.count=p.length};this.removeAt=function(t){p.splice(t,1);this.count=p.length};this.reverse=function(){p.reverse()};this.sort=function(t){t?p.sort(t):p.sort()};this.setByIndex=function(t,n){p[t]=n;this.count=p.length};this.toArray=function(){return[].concat(p)};
this.toString=function(t){return p.join(t||",")}};return a.ArrayList})},"dojox/collections/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(G,A,a){G=A.getObject("dojox.collections",!0);G.DictionaryEntry=function(m,p){this.key=m;this.value=p;this.valueOf=function(){return this.value};this.toString=function(){return String(this.value)}};G.Iterator=function(m){var p=0;this.element=m[p]||null;this.atEnd=function(){return p>=m.length};this.get=function(){return this.atEnd()?
null:this.element=m[p++]};this.map=function(t,n){return a.map(m,t,n)};this.reset=function(){p=0;this.element=m[p]}};G.DictionaryIterator=function(m){var p=[],t={},n;for(n in m)t[n]||p.push(m[n]);var h=0;this.element=p[h]||null;this.atEnd=function(){return h>=p.length};this.get=function(){return this.atEnd()?null:this.element=p[h++]};this.map=function(c,b){return a.map(p,c,b)};this.reset=function(){h=0;this.element=p[h]}};return G})},"esri/layers/ArcGISMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../request ../SpatialReference ../geometry/Extent ./LayerInfo".split(" "),
function(G,A,a,m,p,t,n,h,c,b){G=G(null,{declaredClass:"esri.layers.ArcGISMapServiceLayer",infoTemplates:null,constructor:function(e,f){this.layerInfos=[];f&&(this.infoTemplates=f.infoTemplates||null);e=this._params={};if(f=this._url.query?this._url.query.token:null)e.token=f},setInfoTemplates:function(e){this.infoTemplates=e},_load:function(){n({url:this._url.path,content:A.mixin({f:"json"},this._params),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler})},spatialReference:null,
initialExtent:null,fullExtent:null,description:null,units:null,_initLayer:function(e,f){try{this._findCredential();(this.credential&&this.credential.ssl||e&&e._ssl)&&this._useSSL();this.description=e.description;this.copyright=e.copyrightText;this.spatialReference=e.spatialReference&&new h(e.spatialReference);this.initialExtent=e.initialExtent&&new c(e.initialExtent);this.fullExtent=e.fullExtent&&new c(e.fullExtent);this.units=e.units;this.maxRecordCount=e.maxRecordCount;this.maxImageHeight=e.maxImageHeight;
this.maxImageWidth=e.maxImageWidth;this.supportsDynamicLayers=e.supportsDynamicLayers;var k=this.layerInfos=[],u=e.layers,v=this._defaultVisibleLayers=[];a.forEach(u,function(g,q){k[q]=new b(g);g.defaultVisibility&&v.push(g.id)});this.visibleLayers||(this.visibleLayers=v);this.version=e.currentVersion;this.cimVersion=e.cimVersion;this.version||(this.version="capabilities"in e||"tables"in e?10:"supportedImageFormatTypes"in e?9.31:9.3);this.capabilities=e.capabilities;t.isDefined(e.minScale)&&!this._hasMin&&
this.setMinScale(e.minScale);t.isDefined(e.maxScale)&&!this._hasMax&&this.setMaxScale(e.maxScale)}catch(g){this._errorHandler(g)}}});m("extend-esri")&&A.setObject("layers.ArcGISMapServiceLayer",G,p);return G})},"esri/layers/LayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(G,A,a,m,p){G=G(null,{declaredClass:"esri.layers.LayerInfo",constructor:function(t){A.mixin(this,t)},toJson:function(){return p.fixJson({defaultVisibility:this.defaultVisibility,
id:this.id,maxScale:this.maxScale,minScale:this.minScale,name:this.name,parentLayerId:this.parentLayerId,subLayerIds:this.subLayerIds})}});a("extend-esri")&&A.setObject("layers.LayerInfo",G,m);return G})},"esri/layers/TileMap":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/io-query ../request ../urlUtils".split(" "),function(G,A,a,m,p,t,n){return G(null,{declaredClass:"esri.layers.TileMap",constructor:function(h){this.layer=h;this._tileMaps={}},getTile:function(h,
c,b,e,f){h={id:e,level:h,row:c,col:b};c=this._getResamplingBudget();0<c?this._process({tile:h,requestedTile:h,callback:f,resamplingBudget:c}):(f||this.callback).call(this,h,h)},statusOf:function(h,c,b){var e=this._getResamplingBudget();h={level:h,row:c,col:b};if(0===e)return 1;for(;0<=e;){c=this._tileToTileMap(h);if(!this._tileMaps[c.uid])return-1;c=this._tileMaps[c.uid];if(!c.promise.isFulfilled())return-1;if(this._isTileAvailable(h,c))return 1;h=this._parentTile(h);if(!h)break;e--}return 0},style:function(h,
c){if(h.level!==c.level||h.row!==c.row||h.col!==c.col){var b=this.layer.tileInfo,e=b.lods,f=b.cols;b=b.rows;for(var k,u,v=e.length-1;!k||!u;)k||e[v].level!==h.level||(k=e[v]),u||e[v].level!==c.level||(u=e[v]),v--;e=Math.round(k.resolution/u.resolution);h=c.col%e*-1*f;c=c.row%e*-1*b;e={width:f*e+"px",height:b*e+"px",margin:c+"px 0 0 "+h+"px","will-change":"transform"};h=0===h?0:-1*h;c=0===c?0:-1*c;e.clip="rect("+c+"px,"+(h+f)+"px,"+(c+b)+"px,"+h+"px)";return e}},_process:function(h){var c=h.tile,b=
this._tileToTileMap(c),e=this._parentTile(c);this._getTileMap(b).then(A.hitch(this,function(f){b=f;this._isTileAvailable(c,b)?(h.callback||this.callback).call(this,c,h.requestedTile):0<h.resamplingBudget&&e?(h.resamplingBudget--,h.tile=e,this._process(h)):(h.callback||this.callback).call(this,h.requestedTile,h.requestedTile)}),A.hitch(this,function(){(h.callback||this.callback).call(this,h.requestedTile,h.requestedTile)}))},_getTileMap:function(h){var c,b,e=null;if(this._tileMaps[h.uid]){h=this._tileMaps[h.uid];
var f=h.promise}else{this._tileMaps[h.uid]=h;var k=new m;t({url:this._getTileMapUrl(h.level,h.row,h.col),handleAs:"json",content:{f:"json"},callbackParamName:"callback",timeout:3E3,load:function(u){A.mixin(h,u);if(h.data&&0<h.data.length){b=h.data.length;if(1===b)e=h.data[0];else for(e=h.data[0],c=1;c<b;c++)if(h.data[c]!==e){e=null;break}null!==e&&(delete h.data,h.value=e);null==h.valid&&(h.valid=!0)}k.resolve(h)},error:function(u){u&&422===u.code?(A.mixin(h,{location:{top:h.row,left:h.col,width:8,
height:8},valid:!0,value:0}),k.resolve(h)):k.reject()}});f=h.promise=k.promise}return f},_parentTile:function(h){var c=this.layer.tileInfo.lods,b,e,f=null;a.some(c,function(k,u){return h.level===k.level?(b=k,e=u,!0):!1});0<e&&(c=c[e-1],f={id:h.id,level:c.level,row:Math.floor(h.row*b.resolution/c.resolution+.01),col:Math.floor(h.col*b.resolution/c.resolution+.01)});return f},_tileToTileMap:function(h){var c=8*Math.floor(h.row/8),b=8*Math.floor(h.col/8);return{uid:h.level+"_"+c+"_"+b,level:h.level,
row:c,col:b}},_isTileAvailable:function(h,c){if(c.valid)if(void 0!==c.value)h=c.value;else{var b=c.location.left;var e=c.location.top;h=(h.row-e)*c.location.width+(h.col-b);h=h<c.data.length?c.data[h]:0}else h=0;return h},_getTileMapUrl:function(h,c,b){var e=this.layer,f=e.tileServers,k=e._getToken(),u=e._url.query;h=(f?f[c%f.length]:e._url.path)+"/tilemap/"+h+"/"+c+"/"+b+"/8/8";u&&(h+="?"+p.objectToQuery(u));!k||u&&u.token||(h+=(-1===h.indexOf("?")?"?":"\x26")+"token\x3d"+k);return h=e.addTimestampToURL(h)},
_getResamplingBudget:function(){var h=this.layer,c=0;h.resampling&&(c=h._resamplingTolerance,null===c||void 0===c)&&(c=h.tileInfo.lods.length);return c}})})},"esri/layers/MapImageLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style ../kernel ../config ../sniff ../domUtils ../geometry/Point ../geometry/webMercatorUtils ./layer".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k){var u=G([k],{declaredClass:"esri.layers.MapImageLayer",
"-chains-":{constructor:"manual"},constructor:function(v){this.inherited(arguments,[null,v]);this._mapImages=[];var g=a.hitch;this._panStart=g(this,this._panStart);this._pan=g(this,this._pan);this._extentChange=g(this,this._extentChange);this._zoom=g(this,this._zoom);this._zoomStart=g(this,this._zoomStart);this._scale=g(this,this._scale);this._resize=g(this,this._resize);A.connect(this,"onSuspend",this,this._onSuspend);A.connect(this,"onResume",this,this._onResume);this.loaded=!0;this.onLoad(this)},
opacity:1,addImage:function(v){var g=this._mapImages.push(v);--g;v._idx=g;v._layer=this;this._div&&this._createImage(v,g)},removeImage:function(v){if(v){var g=v._idx,q=this._mapImages;if(q[g]===v){delete q[g];if(g=v._node)this._clearEvents(g),g.e_idx=g.e_bl=g.e_tr=g.e_l=g.e_t=g.e_w=g.e_h=null,g.parentNode&&(g.parentNode.removeChild(g),p.destroy(g));v._node=v._idx=v._layer=null}}},removeAllImages:function(){var v=this._mapImages,g,q=v.length;for(g=0;g<q;g++){var x=v[g];x&&this.removeImage(x)}this._mapImages=
[]},getImages:function(){var v=this._mapImages,g=[],q,x=v.length;for(q=0;q<x;q++)v[q]&&g.push(v[q]);return g},setOpacity:function(v){this.opacity!=v&&(this._opacityChanged(this.opacity=v),this.onOpacityChange())},onOpacityChange:function(){},_opacityChanged:function(v){var g=this._div;if(g)if(!c("ie")||8<c("ie"))t.set(g,"opacity",v);else{var q=g.childNodes;var x=q.length;for(g=0;g<x;g++)t.set(q[g],"opacity",v)}},_createImage:function(v,g){var q=p.create("img");t.set(q,{position:"absolute"});1>v.opacity?
t.set(q,"opacity",v.opacity):8>=c("ie")&&t.set(q,"opacity",this.opacity);!v.rotation||9>c("ie")||t.set(q,n._css.names.transform,n._css.rotate(360-v.rotation));v._node=q;q.e_idx=g;q.e_layer=this;q.e_load=A.connect(q,"onload",u.prototype._imageLoaded);q.e_error=A.connect(q,"onerror",u.prototype._imageError);q.e_abort=A.connect(q,"onabort",u.prototype._imageError);q.src=v.href},_imageLoaded:function(v,g){v=g||v.target||v.currentTarget;g=v.e_layer;var q=g._mapImages[v.e_idx],x=g._map;x&&(x.__zooming||
x.__panning||!g._sr)?g._standby.push(v):(g._clearEvents(v),q&&q._node===v&&x&&g._attach(q))},_imageError:function(v){v=v.target||v.currentTarget;var g=v.e_layer,q=g._mapImages[v.e_idx];g._clearEvents(v);q&&(q._node=null)},_clearEvents:function(v){var g=A.disconnect;g(v.e_load);g(v.e_error);g(v.e_abort);v.e_load=v.e_error=v.e_abort=v.e_layer=null},_attach:function(v){var g=v.extent,q=g.spatialReference,x=this._sr,w=this._div,B=v._node,z=new e({x:g.xmin,y:g.ymin,spatialReference:q});g=new e({x:g.xmax,
y:g.ymax,spatialReference:q});x.equals(q)||(x.isWebMercator()&&4326===q.wkid?(z=f.geographicToWebMercator(z),g=f.geographicToWebMercator(g)):q.isWebMercator()&&4326===x.wkid&&(z=f.webMercatorToGeographic(z),g=f.webMercatorToGeographic(g)));B.e_bl=z;B.e_tr=g;v.visible&&(this._setPos(B,w._left,w._top),(this._active||w).appendChild(B))},_setPos:function(v,g,q){var x=v.e_bl,w=v.e_tr,B=this._map;x=B.toScreen(x);w=B.toScreen(w);g=x.x-g;q=w.y-q;var z=Math.abs(w.x-x.x);x=Math.abs(x.y-w.y);w={width:z+"px",
height:x+"px"};var C=this._mapImages[v.e_idx];"css-transforms"===B.navigationMode?w[n._css.names.transform]=n._css.translate(g,q)+(C.rotation?" "+n._css.rotate(360-C.rotation):""):(w.left=g+"px",w.top=q+"px");t.set(v,w);v.e_l=g;v.e_t=q;v.e_w=z;v.e_h=x},managedSuspension:!0,_setMap:function(v,g){this.inherited(arguments);var q=this._div=p.create("div",null,g),x=n._css.names,w={position:"absolute"},B=v.__visibleDelta;if(!c("ie")||8<c("ie"))w.opacity=this.opacity;"css-transforms"===v.navigationMode?
(w[x.transform]=n._css.translate(B.x,B.y),t.set(q,w),q._left=B.x,q._top=B.y,w={position:"absolute",width:v.width+"px",height:v.height+"px",overflow:"visible"},this._active=p.create("div",null,q),t.set(this._active,w),this._passive=p.create("div",null,q),t.set(this._passive,w)):(q._left=0,q._top=0,t.set(q,w));this._standby=[];x=this._mapImages;B=x.length;for(w=0;w<B;w++){var z=x[w];z._node||this._createImage(z,z._idx)}b.hide(q);return q},_unsetMap:function(v,g){this._disconnect();var q=this._div;if(q){var x=
this._mapImages,w,B=x.length;for(w=0;w<B;w++){var z=x[w];if(z){var C=z._node;C&&(this._clearEvents(C),C.e_idx=C.e_bl=C.e_tr=C.e_l=C.e_t=C.e_w=C.e_h=null);z._node=null}}g.removeChild(q);p.destroy(q)}this._map=this._div=this._sr=this._active=this._passive=this._standby=null;this.inherited(arguments)},_onSuspend:function(){this._disconnect();b.hide(this._div)},_onResume:function(v){v.firstOccurrence&&(this._sr=this._map.spatialReference,this._processStandbyList());v=this._map;var g=this._div,q=v.__visibleDelta;
"css-transforms"===v.navigationMode&&(g._left=q.x,g._top=q.y,t.set(g,n._css.names.transform,n._css.translate(g._left,g._top)));this._redraw("css-transforms"===v.navigationMode);this._connect(v);b.show(g)},_connect:function(v){if(!this._connections){var g=A.connect,q="css-transforms"===v.navigationMode;this._connections=[g(v,"onPanStart",this._panStart),g(v,"onPan",this._pan),g(v,"onExtentChange",this._extentChange),q&&g(v,"onZoomStart",this._zoomStart),q?g(v,"onScale",this._scale):g(v,"onZoom",this._zoom),
q&&g(v,"onResize",this._resize)];q&&this._resize(v.extent,v.width,v.height)}},_disconnect:function(){this._connections&&(m.forEach(this._connections,A.disconnect),this._connections=null)},_panStart:function(){this._panL=this._div._left;this._panT=this._div._top},_pan:function(v,g){v=this._div;v._left=this._panL+g.x;v._top=this._panT+g.y;"css-transforms"===this._map.navigationMode?t.set(v,n._css.names.transform,n._css.translate(v._left,v._top)):t.set(v,{left:v._left+"px",top:v._top+"px"})},_extentChange:function(v,
g,q){q?this._redraw("css-transforms"===this._map.navigationMode):g&&this._pan(v,g);this._processStandbyList()},_processStandbyList:function(){var v,g=this._standby;if(g&&g.length)for(v=g.length-1;0<=v;v--)this._imageLoaded(null,g[v]),g.splice(v,1)},_redraw:function(v){if(v){v=this._passive;var g=n._css.names;t.set(v,g.transition,"none");this._moveImages(v,this._active);t.set(v,g.transform,"none")}v=this._active||this._div;g=this._div._left;var q=this._div._top,x,w=v.childNodes.length;for(x=0;x<w;x++){var B=
v.childNodes[x];this._setPos(B,g,q)}},_zoom:function(v,g,q){v=this._div;var x=v._left,w=v._top,B,z=v.childNodes.length;for(B=0;B<z;B++){var C=v.childNodes[B];var y=C.e_w*g,D=C.e_h*g,F=(q.x-x-C.e_l)*(y-C.e_w)/C.e_w,H=(q.y-w-C.e_t)*(D-C.e_h)/C.e_h;F=isNaN(F)?0:F;H=isNaN(H)?0:H;t.set(C,{left:C.e_l-F+"px",top:C.e_t-H+"px",width:y+"px",height:D+"px"})}},_zoomStart:function(){this._moveImages(this._active,this._passive)},_moveImages:function(v,g){v=v.childNodes;var q=v.length;if(0<q)for(--q;0<=q;q--)g.appendChild(v[q])},
_scale:function(v,g){var q=n._css.names,x=this._passive;t.set(x,q.transition,g?"none":q.transformName+" "+h.defaults.map.zoomDuration+"ms ease");({})[q.transform]=n._css.matrix(v);t.set(x,q.transform,n._css.matrix(v))},_resize:function(v,g,q){t.set(this._active,{width:g+"px",height:q+"px"});t.set(this._passive,{width:g+"px",height:q+"px"})}});c("extend-esri")&&a.setObject("layers.MapImageLayer",u,n);return u})},"esri/layers/OpenStreetMapLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../urlUtils ../SpatialReference ../geometry/Extent ./TiledMapServiceLayer ./TileInfo".split(" "),
function(G,A,a,m,p,t,n,h,c){G=G(h,{declaredClass:"esri.layers.OpenStreetMapLayer",constructor:function(b){this.spatialReference=new t({wkid:102100});this.tileInfo=new c({rows:256,cols:256,dpi:96,format:"PNG8",compressionQuality:0,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,scale:5.91657527591555E8,resolution:156543.033928},{level:1,scale:2.95828763795777E8,resolution:78271.5169639999},{level:2,scale:1.47914381897889E8,resolution:39135.7584820001},
{level:3,scale:7.3957190948944E7,resolution:19567.8792409999},{level:4,scale:3.6978595474472E7,resolution:9783.93962049996},{level:5,scale:1.8489297737236E7,resolution:4891.96981024998},{level:6,scale:9244648.868618,resolution:2445.98490512499},{level:7,scale:4622324.434309,resolution:1222.99245256249},{level:8,scale:2311162.217155,resolution:611.49622628138},{level:9,scale:1155581.108577,resolution:305.748113140558},{level:10,scale:577790.554289,resolution:152.874056570411},{level:11,scale:288895.277144,
resolution:76.4370282850732},{level:12,scale:144447.638572,resolution:38.2185141425366},{level:13,scale:72223.819286,resolution:19.1092570712683},{level:14,scale:36111.909643,resolution:9.55462853563415},{level:15,scale:18055.954822,resolution:4.77731426794937},{level:16,scale:9027.977411,resolution:2.38865713397468},{level:17,scale:4513.988705,resolution:1.19432856685505},{level:18,scale:2256.994353,resolution:.597164283559817},{level:19,scale:1128.497176,resolution:.298582141647617}]});this.fullExtent=
new n({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,ymax:2.003750834E7,spatialReference:{wkid:102100}});this.initialExtent=new n({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,ymax:2.003750834E7,spatialReference:{wkid:102100}});this.tileServers=b&&b.tileServers||["//a.tile.openstreetmap.org","//b.tile.openstreetmap.org","//c.tile.openstreetmap.org"];this.serversLength=this.tileServers.length;this._displayLevels=b?b.displayLevels:null;this.copyright=b&&b.copyright||"Map data \u00a9 OpenStreetMap contributors, CC-BY-SA";
this.loaded=!0;this.onLoad(this);(b=b&&b.loadCallback)&&b(this)},getTileUrl:function(b,e,f){b=this.tileServers[e%this.serversLength]+"/"+b+"/"+f+"/"+e+".png";b=p.normalize(b);b=this.addTimestampToURL(b);return p.addProxy(b)}});a("extend-esri")&&A.setObject("layers.OpenStreetMapLayer",G,m);return G})},"esri/dijit/Popup":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/kernel dojo/has dojo/window dojo/Stateful dojo/query dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/registry ../kernel ../lang ../domUtils ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/normalizeUtils ../InfoWindowBase ../PopupBase dojo/i18n!../nls/jsapi dojo/NodeList-dom dojo/has!extend-esri?./PopupTemplate dojo/has!extend-esri?./PopupRenderer".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y,D,F,H){G=G([D,F,h],{declaredClass:"esri.dijit.Popup",offsetX:3,offsetY:3,zoomFactor:4,marginLeft:25,marginTop:25,highlight:!0,pagingControls:!0,pagingInfo:!0,keepHighlightOnHide:!1,popupWindow:!0,titleInBody:!0,anchor:"auto",visibleWhenEmpty:!0,hideDelay:1E3,location:null,constructor:function(E,I){this.initialize();A.mixin(this,E);this.domNode=b.byId(I);I=this._nls=A.mixin({},H.widgets.popup);E=this.domNode;f.add(E,"esriPopup");(this._isRTL=!u.isBodyLtr())&&
v.set(E,"direction","rtl");e.set(E,"innerHTML","\x3cdiv class\x3d'esriPopupWrapper' style\x3d'position: absolute;'\x3e\x3cdiv class\x3d'sizer'\x3e\x3cdiv class\x3d'titlePane'\x3e\x3cdiv class\x3d'spinner hidden' title\x3d'"+I.NLS_searching+"...'\x3e\x3c/div\x3e\x3cdiv class\x3d'title'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton prev hidden' title\x3d'"+I.NLS_prevFeature+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton next hidden' title\x3d'"+I.NLS_nextFeature+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton maximize' title\x3d'"+
I.NLS_maximize+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton close' title\x3d'"+I.NLS_close+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sizer content'\x3e\x3cdiv class\x3d'contentPane'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sizer'\x3e\x3cdiv class\x3d'actionsPane'\x3e\x3cdiv class\x3d'actionList hidden'\x3e\x3ca title\x3d'"+I.NLS_zoomTo+"' class\x3d'action zoomTo' href\x3d'javascript:void(0);'\x3e\x3cspan\x3e"+I.NLS_zoomTo+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'pointer hidden'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'outerPointer hidden'\x3e\x3c/div\x3e");
this._sizers=p.query(".sizer",E);I=p.query(".titlePane",E)[0];this._title=p.query(".title",I)[0];this._prevFeatureButton=p.query(".prev",I)[0];this._nextFeatureButton=p.query(".next",I)[0];this._maxButton=p.query(".maximize",I)[0];this._spinner=p.query(".spinner",I)[0];this._contentPane=p.query(".contentPane",E)[0];this._positioner=p.query(".esriPopupWrapper",E)[0];this._pointer=p.query(".pointer",E)[0];this._outerPointer=p.query(".outerPointer",E)[0];this._actionList=p.query(".actionsPane .actionList",
E)[0];this._contentUpdateHandles={};this._eventConnections=[m.connect(p.query(".close",I)[0],"onclick",this,this.hide),m.connect(this._prevFeatureButton,"onclick",this,this.selectPrevious),m.connect(this._nextFeatureButton,"onclick",this,this.selectNext),m.connect(this._maxButton,"onclick",this,this._toggleSize),m.connect(p.query(".zoomTo",this._actionList)[0],"onclick",this,this._zoomToFeature),m.connect(this,"onClearFeatures",this,this._featuresCleared),m.connect(this,"onSelectionChange",this,this._featureSelected),
m.connect(this,"onDfdComplete",this,this._updateUI)];t("esri-touch")&&(E=w.setScrollable(this._contentPane),this._eventConnections.push(E[0],E[1]));this._toggleVisibility(!1)},onMaximize:function(){},onRestore:function(){},setMap:function(E){this.inherited(arguments);k.place(this.domNode,E.root);this.highlight&&this.enableHighlight(E);this._maxHeight=v.get(this._contentPane,"maxHeight")},unsetMap:function(){this.disableHighlight(this.map);this.inherited(arguments)},setTitle:function(E){this.popupWindow&&
(x.isDefined(E)&&""!==E||(E="\x26nbsp;"),this.destroyDijits(this._title),this.place(E,this._title),this.isShowing&&(this.startupDijits(this._title),this.reposition()))},setContent:function(E){this.popupWindow&&(x.isDefined(E)&&""!==E||(E="\x26nbsp;"),this._destroyContent(),this.place(E,this._contentPane),this.isShowing&&(this._startupContent(),this.reposition()))},show:function(E,I){if(this.popupWindow)if(this._delayHide=!1,E){var J=this.map;E.spatialReference?(this.location=E,E=J.toScreen(E)):this.location=
J.toMap(E);var K=J._getFrameWidth();if(-1!==K&&(E.x%=K,0>E.x&&(E.x+=K),J.width>K))for(J=(J.width-K)/2;E.x<J;)E.x+=K;this._maximized?this.restore():this._setPosition(E);I&&I.closestFirst&&this.showClosestFirst(this.location);this.isShowing||(this._toggleVisibility(!0),this._followMap(),this.startupDijits(this._title),this._startupContent(),this.reposition(),this.showHighlight(),this.onShow())}else this._toggleVisibility(!0)},hide:function(){this.isShowing&&(this._toggleVisibility(!1),this._unfollowMap(),
this.keepHighlightOnHide||this.hideHighlight(),this.onHide())},resize:function(E,I){this.popupWindow&&(this._sizers.style({width:E+"px"}),v.set(this._contentPane,"maxHeight",I+"px"),this._maxHeight=I,this.isShowing&&this.reposition())},reposition:function(){this.popupWindow&&this.map&&this.location&&!this._maximized&&this.isShowing&&this._setPosition(this.map.toScreen(this.location))},addActions:function(E){return a.map(E,function(I){var J=k.create("a",{href:"javascript:void(0);",className:"action "+
I.className,title:I.title,innerHTML:I.title},this._actionList);m.connect(J,"onclick",I.callback);return{action:I,node:J}},this)},removeActions:function(E){a.forEach(E,function(I){k.destroy(I.node)})},getCurrentAnchor:function(){return this._anchor},maximize:function(){var E=this.map;if(E&&!this._maximized&&this.popupWindow){this._maximized=!0;var I=this._maxButton;f.remove(I,"maximize");f.add(I,"restore");e.set(I,"title",this._nls.NLS_restore);I=this.marginLeft;var J=this.marginTop,K=E.width-2*I;
E=E.height-2*J;v.set(this.domNode,{left:this._isRTL?null:I+"px",right:this._isRTL?I+"px":null,top:J+"px",bottom:null});v.set(this._positioner,{left:null,right:null,top:null,bottom:null});this._savedWidth=v.get(this._sizers[0],"width");this._savedHeight=v.get(this._contentPane,"maxHeight");this._sizers.style({width:K+"px"});v.set(this._contentPane,{maxHeight:E-65+"px",height:E-65+"px"});this._showPointer("");this._unfollowMap();f.add(this.domNode,"esriPopupMaximized");this.onMaximize()}},restore:function(){if(this.map&&
this._maximized&&this.popupWindow){this._maximized=!1;var E=this._maxButton;f.remove(E,"restore");f.add(E,"maximize");e.set(E,"title",this._nls.NLS_maximize);v.set(this._contentPane,"height",null);this.resize(this._savedWidth,this._savedHeight);this._savedWidth=this._savedHeight=null;this.show(this.location);this._followMap();f.remove(this.domNode,"esriPopupMaximized");this.onRestore()}},startup:function(){},destroy:function(){this.map&&this.unsetMap();this.cleanup();this.isShowing&&this.hide();this.destroyDijits(this._title);
this._destroyContent();a.forEach(this._eventConnections,m.disconnect);k.destroy(this.domNode);this._sizers=this._contentPane=this._actionList=this._positioner=this._pointer=this._outerPointer=this._title=this._prevFeatureButton=this._nextFeatureButton=this._spinner=this._eventConnections=this._pagerScope=this._targetLocation=this._nls=this._maxButton=null},selectNext:function(){this.select(this.selectedIndex+1)},selectPrevious:function(){this.select(this.selectedIndex-1)},setFeatures:function(E,I){this._transientAnchor=
I&&I.anchor;this.inherited(arguments);this._updateUI()},clearFeatures:function(E){E||(this._transientAnchor=null);this.inherited(arguments)},postscript:null,_highlightSetter:function(E){var I=this.highlight,J=this.map;this.highlight=E;if(J&&E!==I)if(E){if(this.enableHighlight(J),E=this.features&&this.features[this.selectedIndex])this.updateHighlight(J,E),this.showHighlight()}else this.disableHighlight(J)},_pagingControlsSetter:function(E){var I=this.pagingControls,J=this.map;this.pagingControls=E;
J&&E!==I&&this._updatePagingControls()},_pagingInfoSetter:function(E){var I=this.pagingInfo,J=this.map;this.pagingInfo=E;J&&E!==I&&this.features&&this.features.length&&this._updatePagingInfo()},_popupWindowSetter:function(E){var I=this.popupWindow,J=this.map;this.popupWindow=E;J&&E!==I&&(E?(this._updateUI(),this._updateWindow()):(this.hide(),this.showHighlight()))},_anchorSetter:function(E){var I=this.anchor;this.anchor=E;this.map&&E!==I&&this.reposition()},_startupContent:function(){var E=this._contentPane;
this.startupDijits(E);a.forEach(this._getPopupRendererDijits(E),function(I){if(!this._contentUpdateHandles[I.id]){var J=I.on("content-update",A.hitch(this,function(){this.reposition()}));this._contentUpdateHandles[I.id]=J}},this)},_destroyContent:function(){var E=this._contentPane;a.forEach(this._getPopupRendererDijits(E),function(I){var J=this._contentUpdateHandles[I.id];J&&(J.remove(),delete this._contentUpdateHandles[I.id])},this);this.destroyDijits(E)},_getPopupRendererDijits:function(E){E=this.getDijits(E);
return E=a.filter(E,function(I){return I&&I.set&&/_PopupRenderer/.test(I.declaredClass)})},_featuresCleared:function(){this.setTitle("\x26nbsp;");this.setContent("\x26nbsp;");this._setPagerCallbacks(this);this._updateUI();this.hideHighlight()},_featureSelected:function(){this._updateUI();this._updateWindow()},_updateWindow:function(){var E=this.selectedIndex;if(0<=E){var I=this.features[E].getContent();if(!this.titleInBody&&I&&A.isString(I.id)){var J=g.byId(I.id);J&&J.set&&/_PopupRenderer/.test(J.declaredClass)&&
J.set("showTitle",!1)}this.setContent(I);this.updateHighlight(this.map,this.features[E]);this.showHighlight()}},_toggleVisibility:function(E){this._setVisibility(E);this.isShowing=E},_setVisibility:function(E){f.toggle(this.domNode,"esriPopupVisible",E);f.toggle(this.domNode,"esriPopupHidden",!E)},_waitAndHide:function(E){var I=this;this._delayHide=!0;setTimeout(function(){I._delayHide&&(I._delayHide=!1,I.hide())},E)},_followMap:function(){this._unfollowMap();var E=this.map;this._handles=[m.connect(E,
"onPanStart",this,this._onPanStart),m.connect(E,"onPan",this,this._onPan),m.connect(E,"onZoomStart",this,this._onZoomStart),m.connect(E,"onExtentChange",this,this._onExtentChange)]},_unfollowMap:function(){var E=this._handles;E&&(a.forEach(E,m.disconnect),this._handles=null)},_onPanStart:function(){var E=this.domNode.style;this._panOrigin={left:E.left,top:E.top,right:E.right,bottom:E.bottom}},_onPan:function(E,I){var J=this._panOrigin;E=I.x;I=I.y;var K=J.left,L=J.top,O=J.right;J=J.bottom;K&&(K=parseFloat(K)+
E+"px");L&&(L=parseFloat(L)+I+"px");O&&(O=parseFloat(O)-E+"px");J&&(J=parseFloat(J)-I+"px");v.set(this.domNode,{left:K,top:L,right:O,bottom:J})},_onZoomStart:function(){this._setVisibility(!1)},_onExtentChange:function(E,I,J){J&&(this._setVisibility(!0),this.show(this._targetLocation||this.location));this._targetLocation=null},_toggleSize:function(){this._maximized?this.restore():this.maximize()},_getTargetAnchor:function(){return this._transientAnchor||this.anchor},_setPosition:function(E){var I=
E.x,J=E.y;E=this.offsetX||0;var K=this.offsetY||0,L=0,O=0,U=this.map,S=U.position.x,M=U.position.y,N=U.width,T=U.height;U="Left";var V="bottom",ea="right",P="top",ba=u.getContentBox(this._positioner),la=ba.w/2,Q=ba.h/2,Y=v.get(this._sizers[0],"height")+this._maxHeight+v.get(this._sizers[2],"height"),ja=Y/2,pa=0,ka=0,va=N,Aa=T,da=I,ca=J,ma=this._getTargetAnchor().toLowerCase();if("auto"===ma){if(ma=n.getBox)ma=ma(),pa=Math.max(ma.l,S),va=Math.min(ma.l+ma.w,S+N),ka=Math.max(ma.t,M),Aa=Math.min(ma.t+
ma.h,M+T),da+=S,ca+=M;S=ca-ka>=Y;M=Aa-ca>=Y;N=va-da>=ba.w;ba=da-pa>=ba.w;ca-ka>ja&&Aa-ca>=ja&&(N?(V="",U="Left",P="",ea="right"):ba&&(V="",U="Right",P="",ea="left"));U&&V&&da-pa>la&&va-da>=la&&(S?(U="",V="bottom",ea="",P="top"):M&&(U="",V="top",ea="",P="bottom"));U&&V&&(N&&S?(U="Left",V="bottom",ea="right",P="top"):N&&M?(U="Left",V="top",ea="right",P="bottom"):ba&&M?(U="Right",V="top",ea="left",P="bottom"):ba&&S&&(U="Right",V="bottom",ea="left",P="top"));this._anchor=P&&ea?P+"-"+ea:P||ea}else V=U=
"",-1!==ma.indexOf("top")?V="bottom":-1!==ma.indexOf("bottom")&&(V="top"),-1!==ma.indexOf("left")?U="Right":-1!==ma.indexOf("right")&&(U="Left"),this._anchor=this._getTargetAnchor();ea=V+U;switch(ea){case "top":case "bottom":O=14;break;case "Left":case "Right":L=13;break;case "topLeft":case "topRight":case "bottomLeft":case "bottomRight":O=14,L=-16}v.set(this.domNode,{left:I+"px",top:J+"px",right:null,bottom:null});I={left:null,right:null,top:null,bottom:null};U?I[U.toLowerCase()]=L+E+"px":I.left=
-la+"px";V?I[V]=O+K+"px":I.top=-Q+"px";v.set(this._positioner,I);this._showPointer(ea)},_showPointer:function(E){f.remove(this._pointer,"top bottom right left topLeft topRight bottomRight bottomLeft hidden".split(" "));f.remove(this._outerPointer,["right","left","hidden"]);"Right"===E||"Left"===E?(E=E.toLowerCase(),f.add(this._outerPointer,E)):f.add(this._pointer,E)},_setPagerCallbacks:function(E,I,J){if(this.pagingControls&&(E!==this||this._pagerScope&&this._pagerScope!==this)&&E!==this._pagerScope){this._pagerScope=
E;E===this&&(I=this.selectPrevious,J=this.selectNext);var K=this._eventConnections;m.disconnect(K[1]);m.disconnect(K[2]);I&&(K[1]=m.connect(this._prevFeatureButton,"onclick",E,I));J&&(K[2]=m.connect(this._nextFeatureButton,"onclick",E,J))}},_getLocation:function(E){var I=E&&E.geometry;if(I)switch(I.type){case "point":var J=I;if(E.isAggregate()){E=E.getChildGraphics();var K=E[0];E=(K=K.geometry&&K.geometry.spatialReference)&&new C({points:a.map(E,function(L){L=L.geometry;return[L.x,L.y]}),spatialReference:K.toJson()});
K=y.getDenormalizedExtent(E)}break;case "multipoint":J=I.getPoint(0);K=y.getDenormalizedExtent(I);break;case "polyline":case "polygon":J=I.getPoint(0,0),K=y.getDenormalizedExtent(I)}return[J,K]},_zoomToFeature:function(E){E.preventDefault();var I=this.features,J=this.selectedIndex;E=this.map;if(I)if(J=this._getLocation(I[J]),I=J[0],J=J[1],I||(I=this.location),J&&J.intersects(this.location)||(this.location=I),J&&J.getWidth()&&J.getHeight())E.setExtent(J,!0);else{var K=E.getNumLevels();J=E.getLevel();
var L=E.getMaxZoom(),O=this.zoomFactor||1;0<K?J!==L&&(K=J+O,K>L&&(K=L),E.navigationManager._wheelZoom({value:K-J,mapPoint:I},!0)):E.navigationManager._wheelZoom({value:1/Math.pow(2,O)*2,mapPoint:I},!0)}},_updatePagingControls:function(){var E=this._prevFeatureButton,I=this._nextFeatureButton,J=this.selectedIndex,K=this.features?this.features.length:0;this.pagingControls&&1<K?(0===J?f.add(E,"hidden"):f.remove(E,"hidden"),J===K-1?f.add(I,"hidden"):f.remove(I,"hidden")):(f.add(E,"hidden"),f.add(I,"hidden"))},
_updatePagingInfo:function(){var E=this.features?this.features.length:0,I=this._nls,J="\x26nbsp;";this.pagingInfo&&1<E&&I.NLS_pagingInfo&&(J=x.substitute({index:this.selectedIndex+1,total:E},I.NLS_pagingInfo));E&&(I=this.getSelectedFeature(),E=I.getInfoTemplate(),I=I.getTitle(),E&&!/esri\.InfoTemplate/.test(E.declaredClass)&&this.titleInBody||!I||(J=I+("\x26nbsp;"===J?"":" "+J)));this.setTitle(J)},_updateUI:function(){if(this.popupWindow){var E=this.features,I=this.deferreds,J=E?E.length:0,K=this._spinner,
L=this._actionList,O=this._nls;this._updatePagingControls();this._updatePagingInfo();J?f.remove(L,"hidden"):f.add(L,"hidden");I&&I.length?E?f.remove(K,"hidden"):this.setContent("\x3cdiv style\x3d'text-align: center;'\x3e"+O.NLS_searching+"...\x3c/div\x3e"):f.add(K,"hidden");J||I&&I.length?this._delayHide=!1:(this.setContent("\x3cdiv style\x3d'text-align: center;'\x3e"+O.NLS_noInfo+".\x3c/div\x3e"),this.visibleWhenEmpty||this._waitAndHide(this.hideDelay))}}});t("extend-esri")&&A.setObject("dijit.Popup",
G,q);return G})},"esri/InfoWindowBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Deferred dojo/dom-construct dojo/has dijit/registry ./kernel ./lang ./geometry/ScreenPoint".split(" "),function(G,A,a,m,p,t,n,h,c,b,e){G=G(null,{declaredClass:"esri.InfoWindowBase",constructor:function(){var f=A.hitch;this.__set_title=f(this,this.__set_title);this.__err_title=f(this,this.__err_title);this.__set_content=f(this,this.__set_content);this.__err_content=
f(this,this.__err_content)},setMap:function(f){this.map=f},unsetMap:function(f){delete this.map},setTitle:function(){},setContent:function(){},show:function(){},hide:function(){},resize:function(){},onShow:function(){},onHide:function(){},place:function(f,k){b.isDefined(f)?A.isObject(f)?t.place(f,k,"only"):k.innerHTML=f:k.innerHTML=""},startupDijits:function(f){this._processDijits(f)},destroyDijits:function(f){this._processDijits(f,!0)},getDijits:function(f){var k=[];f&&1===f.children.length&&(f=
f.children[0])&&(k=(k=h.byNode(f))?[k]:h.findWidgets(f));return k},_processDijits:function(f,k){f=this.getDijits(f);a.forEach(f,function(u){if(k){if(u._started&&!u._destroyed)try{u.destroyRecursive?u.destroyRecursive():u.destroy&&u.destroy()}catch(v){console.debug("An error occurred when destroying a widget embedded within InfoWindow: "+v.message)}}else if(!u._started)try{u.startup()}catch(v){console.debug("An error occurred when starting a widget embedded within InfoWindow: "+v.message)}})},__registerMapListeners:function(){this.__unregisterMapListeners();
var f=this.map;this.__handles=[m.connect(f,"onPan",this,this.__onMapPan),m.connect(f,"onZoomStart",this,this.__onMapZmStart),m.connect(f,"onExtentChange",this,this.__onMapExtChg)]},__unregisterMapListeners:function(){var f=this.__handles;f&&(a.forEach(f,m.disconnect,m),this.__handles=null)},__onMapPan:function(f,k){this.move(k,!0)},__onMapZmStart:function(){this.__mcoords=this.mapCoords||this.map.toMap(new e(this.coords));this.hide(null,!0)},__onMapExtChg:function(f,k,u){f=this.map;var v=this.mapCoords;
v?this.show(v,null,!0):(k=u?f.toScreen(this.__mcoords):this.coords.offset(k&&k.x||0,k&&k.y||0),this.show(k,null,!0))},__setValue:function(f,k){this[f].innerHTML="";var u="_dfd"+f,v=this[u];v&&-1===v.fired&&(v.cancel(),this[u]=null);b.isDefined(k)&&(k instanceof p?(this[u]=k,k.addCallbacks(this["__set"+f],this["__err"+f])):this.__render(f,k))},__set_title:function(f){this._dfd_title=null;this.__render("_title",f)},__err_title:function(f){this._dfd_title=null},__set_content:function(f){this._dfd_content=
null;this.__render("_content",f)},__err_content:function(f){this._dfd_content=null},__render:function(f,k){var u=this[f];this.place(k,u);this.isShowing&&(this.startupDijits(u),"_title"===f&&this._adjustContentArea&&this._adjustContentArea())}});n("extend-esri")&&(c.InfoWindowBase=G);return G})},"esri/PopupBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/_base/Deferred dojo/has ./kernel ./graphic ./geometry/Point ./geometry/jsonUtils ./geometry/mathUtils ./geometry/webMercatorUtils ./symbols/SimpleMarkerSymbol ./symbols/SimpleLineSymbol ./symbols/CartographicLineSymbol ./symbols/SimpleFillSymbol ./tasks/query ./Evented dojo/has!extend-esri?./PopupInfo".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x){function w(B){return"sizeInfo"===B.type}G=G(x,{declaredClass:"esri.PopupBase",_featureLayers:{},_updateEndHandles:[],_mapLevelChangeHandle:null,_evtMap:{"set-features":!0,"clear-features":!0,"selection-change":!0,"dfd-complete":!0},onSetFeatures:function(){},onClearFeatures:function(){},onSelectionChange:function(){},onDfdComplete:function(){},initialize:function(){this.count=0;this.selectedIndex=-1;this.on("clear-features",A.hitch(this,this._resetUpdateEndListeners));
this.on("dfd-complete",A.hitch(this,this._processFeatures));this.on("set-features",A.hitch(this,this._processFeatures));this.on("selection-change",A.hitch(this,this._checkFeatureResolution))},cleanup:function(){this.features=this.deferreds=null;this._resetUpdateEndListeners();this._untrackMapLevelChange()},setFeatures:function(B){if(B&&B.length){this.clearFeatures(!0);var z,C;B[0]instanceof p?C=B:z=B;z?this._updateFeatures(null,z):(this.deferreds=C,C=C.slice(0),a.forEach(C,function(y){y.addBoth(A.hitch(this,
this._updateFeatures,y))},this))}},clearFeatures:function(B){this.features=this.deferreds=this._marked=null;this.count=0;var z=this.selectedIndex;this.selectedIndex=-1;if(-1<z)this.onSelectionChange();this.onClearFeatures({isIntermediate:!!B})},getSelectedFeature:function(){var B=this.features;if(B)return B[this.selectedIndex]},select:function(B){0>B||B>=this.count||(this.selectedIndex=B,this.onSelectionChange())},enableHighlight:function(B){this._highlighted=B.graphics.add(new h(new c(0,0,B.spatialReference)));
this._highlighted.attr("data-popup-highlight","");this._highlighted.hide();this._trackMapLevelChange(B);this.markerSymbol||(B=this.markerSymbol=new k,B.setStyle(k.STYLE_TARGET),B._setDim(16,16,0),B.setOutline(new v(u.STYLE_SOLID,new m([0,255,255]),2,v.CAP_ROUND,v.JOIN_ROUND)),B.setColor(new m([0,0,0,0])));this.lineSymbol||(this.lineSymbol=new u(u.STYLE_SOLID,new m([0,255,255]),2));this.fillSymbol||(this.fillSymbol=new g(g.STYLE_NULL,new u(u.STYLE_SOLID,new m([0,255,255]),2),new m([0,0,0,0])));this.clusterFillSymbol||
(this.clusterFillSymbol=new g(g.STYLE_SOLID,new u(u.STYLE_SOLID,new m([0,255,255]),1.33),null))},disableHighlight:function(B){var z=this._highlighted;z&&(z.hide(),B.graphics.remove(z),delete this._highlighted);this._untrackMapLevelChange();this.markerSymbol=this.lineSymbol=this.fillSymbol=null},showHighlight:function(){var B=this.features&&this.features[this.selectedIndex];this._highlighted&&B&&B.geometry&&this._highlighted.show()},hideHighlight:function(){this._highlighted&&this._highlighted.hide()},
updateHighlight:function(B,z){var C=z.geometry,y=this._highlighted;if(C&&y){y.hide();!y._graphicsLayer&&B&&B.graphics.add(y);y.setGeometry(b.fromJson(C.toJson()));switch(C.type){case "point":case "multipoint":var D=z.getLayer(),F=z.symbol||D&&D._getSymbol(z);if(D&&F){var H;C=F.xoffset||0;var E=F.yoffset||0,I=F.angle||0;switch(F.type){case "simplemarkersymbol":var J=H=F.size||0;break;case "picturemarkersymbol":J=F.width||0;H=F.height||0;break;case "textsymbol":J=H=F.font&&F.font.size||0}var K=z.symbol?
null:D._getRenderer(z);(D=this._getSizeInfo(K))?B=z=K.getSize(z,{sizeInfo:D,shape:F.style,resolution:B&&B.getResolutionInMeters&&B.getResolutionInMeters()}):null!=z.size?B=z=z.size:(B=J,z=H);K=this.markerSymbol;B&&z&&(C&&(C=C/J*B),E&&(E=E/H*z),K._setDim(B+4,z+4,0));K.setOffset(C,E);K.setAngle(I)}break;case "polyline":K=this.lineSymbol;break;case "polygon":K=this.fillSymbol}y.setSymbol(K)}else y&&y.hide()},showClosestFirst:function(B){var z=this.features;if(z&&z.length){if(1<z.length){var C,y=Infinity,
D=-1,F,H=e.getLength,E=B.spatialReference;B=B.normalize();for(C=z.length-1;0<=C;C--)if(F=z[C].geometry){var I=F.spatialReference;var J=0;try{var K="point"===F.type?F:F.getExtent().getCenter();K=K.normalize();E&&I&&!E.equals(I)&&E._canProject(I)&&(K=E.isWebMercator()?f.geographicToWebMercator(K):f.webMercatorToGeographic(K));J=H(B,K)}catch(L){}0<J&&J<y&&(y=J,D=C)}0<D&&(z.splice(0,0,z.splice(D,1)[0]),this.select(0))}}else this.deferreds&&(this._marked=B)},_trackMapLevelChange:function(B){this._untrackMapLevelChange();
this._mapLevelChangeHandle=B.on("extent-change",A.hitch(this,function(z){z.levelChange&&this._checkFeatureResolution()}))},_untrackMapLevelChange:function(){this._mapLevelChangeHandle&&(this._mapLevelChangeHandle.remove(),this._mapLevelChangeHandle=null)},_unbind:function(B){B=a.indexOf(this.deferreds,B);if(-1!==B)return this.deferreds.splice(B,1),this.deferreds.length?1:(this.deferreds=null,2)},_fireComplete:function(B){var z=this._marked;z&&(this._marked=null,this.showClosestFirst(z));this.onDfdComplete(B)},
_updateFeatures:function(B,z){if(B){if(this.deferreds&&(B=this._unbind(B)))if(z&&z instanceof Error){if(this._fireComplete(z),2===B)this.onSetFeatures()}else if(z&&z.length)if(this.features){if(z=a.filter(z,function(C){return-1===a.indexOf(this.features,C)},this),this.features=this.features.concat(z),this.count=this.features.length,this._fireComplete(),2===B)this.onSetFeatures()}else{this.features=z;this.count=z.length;this.selectedIndex=0;this._fireComplete();if(2===B)this.onSetFeatures();this.select(0)}else if(this._fireComplete(),
2===B)this.onSetFeatures()}else this.features=z,this.count=z.length,this.selectedIndex=0,this.onSetFeatures(),this.select(0)},_getSizeInfo:function(B){return B?B.sizeInfo||a.filter(B.visualVariables,w)[0]:null},_resetUpdateEndListeners:function(){this._featureLayers={};a.forEach(this._updateEndHandles,function(B){B.remove()});this._updateEndHandles=[]},_processFeatures:function(){a.forEach(this.features,function(B){(B=B.getLayer())&&!this._featureLayers[B.id]&&(1===B.currentMode||0===B.currentMode&&
6===B.mode)&&B.objectIdField&&B.hasXYFootprint&&B.queryFeatures&&(this._featureLayers[B.id]=B,B=B.on("update-end",A.hitch(this,this._fLyrUpdateEndHandler)),this._updateEndHandles.push(B))},this)},_fLyrUpdateEndHandler:function(B){if(!B.error){var z=this,C=B.target,y=C.getSelectedFeatures(),D=0===C.currentMode&&6===C.mode,F={},H=[];a.forEach(this.features,function(E){if(E.getLayer()===C){var I=E.attributes[C.objectIdField];F[I]=E;H.push(I)}});H.length&&(B=new q,B.objectIds=H,C.queryFeatures(B,function(E){a.forEach(E.features,
function(I){var J=F[I.attributes[C.objectIdField]],K=!1;J.geometry!==I.geometry||C.hasWebGLSurface()?(J.setGeometry(I.geometry),K=!0):D&&y&&-1!==a.indexOf(y,I)&&(K=!0);K&&this._highlighted&&J===this.getSelectedFeature()&&this._highlighted.setGeometry(I.geometry)},z)}))}},_checkFeatureResolution:function(){var B=this.getSelectedFeature(),z=this.map;if(B&&z){var C=B.getLayer();if(C){var y=B.getResolution();2===C.currentMode&&B.geometry&&y&&y>z.getResolution()&&(z=z.getResolutionForPopup(),(C=this._refetchFeature(B,
z,C))&&C.then(A.hitch(this,this._updateFeatureResolution,B,z)))}}},_refetchFeature:function(B,z,C){if(B=this._createQueryForCustomResolution(B,z,C))return C.queryFeatures(B).then(function(y){return y&&y.features[0]})},_createQueryForCustomResolution:function(B,z,C){C=C.objectIdField;var y=B.attributes;y=y&&C&&y[C];if(null==y)return null;var D=new q;D.objectIds=[y];D.maxAllowableOffset=z;D.outFields=[C];D.outSpatialReference=B.geometry.spatialReference;return D},_updateFeatureResolution:function(B,
z,C){B.getResolution()!==z&&(B.setResolution(z),B.setGeometry(C.geometry),this._highlighted&&B===this.getSelectedFeature()&&this._highlighted.setGeometry(B.geometry))}});t("extend-esri")&&(n.PopupBase=G);return G})},"esri/plugins/popupManager":function(){define(["../PopupManager"],function(G){return{add:function(A,a){A.popupManager||(A.popupManager=new G(a),A.popupManager.setMap(A))},remove:function(A){var a=A.popupManager;a&&(a.unsetMap(),A.popupManager=void 0)}}})},"esri/PopupManager":function(){define("./geometry/Extent ./geometry/ScreenPoint ./kernel ./layerUtils ./tasks/query dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang esri/sniff dojo/on dojo/promise/all dojo/Stateful require".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v){var g;h=h(u,{declaredClass:"esri.PopupManager",enabled:!1,map:null,_mapClickHandle:null,_featureLayersCache:{},constructor:function(q){this._mapClickHandler=b.hitch(this,this._mapClickHandler)},setMap:function(q){if(this.map)if(q!==this.map)this.unsetMap();else return;this.map=q;this._setupClickHandler()},unsetMap:function(){this.map&&(this.map=null);this._mapClickHandle&&(this._mapClickHandle.remove(),this._mapClickHandle=null)},getMapLayer:function(q){var x;
if(q&&(x=q.getLayer())&&(q=x.id,this._featureLayersCache[q])){var w=q.lastIndexOf("_");-1<w&&(q=q.substring(0,w),x=this.map.getLayer(q))}return x},_enabledSetter:function(q){this.enabled=q;this._setupClickHandler()},_setupClickHandler:function(){this._mapClickHandle&&(this._mapClickHandle.remove(),this._mapClickHandle=null);this.enabled&&this.map&&(this._mapClickHandle=this.map.on("click",this._mapClickHandler))},_mapClickHandler:function(q){var x=this.map.infoWindow,w=q.graphic;x&&this.map.loaded&&
(x.clearFeatures&&x.setFeatures?this._showPopup(q):w&&w.getInfoTemplate()&&this._showInfoWindow(w,q.mapPoint))},_showPopup:function(q){var x=this.map,w=x.infoWindow,B=this,z=[],C=[x.graphics].concat(n.map(x.graphicsLayerIds,x.getLayer,x));n.forEach(C,function(F){var H=F.getFeatureReduction&&F.getFeatureReduction();F&&F.loaded&&F.infoTemplate&&!F.suspended&&(!H||!B._isReductionEnabled(F)||H.infoTemplate&&!H.disablePopup)&&z.push(F)});var y=[];n.forEach(x.layerIds,function(F){(F=x.getLayer(F))&&F.loaded&&
!F.suspended&&(B._isImageServiceLayer(F)&&F.infoTemplate?z.push(F):"esri.layers.WMSLayer"===F.declaredClass&&F.getFeatureInfoURL?z.push(F):"esri.layers.ArcGISDynamicMapServiceLayer"!==F.declaredClass&&"esri.layers.ArcGISTiledMapServiceLayer"!==F.declaredClass||!F.infoTemplates||y.push(F))});var D=x.getResolutionForPopup();this._getSubLayerFeatureLayers(y,D).then(function(F){z=z.concat(F);F=q.graphic&&q.graphic.getParentGraphic()||q.graphic;var H=null;F&&F.getInfoTemplate()&&!B._isImageServiceLayer(F.getLayer())&&
(H=F);if(z.length||H){var E=B._calculateClickTolerance(z),I=q.screenPoint;F=x.toMap(new A(I.x-E,I.y+E));E=x.toMap(new A(I.x+E,I.y-E));var J=new G(F.x,F.y,E.x,E.y,x.spatialReference);if(J=J.intersects(x.extent)){var K=new p,L=!!H,O=!0;F=n.map(z,function(U){K.timeExtent=U.useMapTime?x.timeExtent:null;var S=B._isReductionEnabled(U);U=S?U.getFeatureReductionLayer():U;var M=B._featureLayersCache[U.id];if(B._isImageServiceLayer(U)){K.geometry=q.mapPoint;O=!1;var N={rasterAttributeTableFieldPrefix:"Raster.",
returnDomainValues:!0};B._isTiledImageServiceLayer(U)?N=U.fetchPopupFromTiles(K):(N=U.queryVisibleRasters(K,N),N.addCallback(function(){var V=U.getVisibleRasters();L=L||0<V.length;return V}))}else if("esri.layers.WMSLayer"===U.declaredClass){N=new c;var T=U._getPopupGraphic(x,q.screenPoint);T?(N.resolve([T]),L=!0):N.resolve([])}else M||"function"===typeof U.queryFeatures&&(0===U.currentMode||1===U.currentMode)?(K.geometry=J,N=U.queryFeatures(K),N.addCallback(function(V){var ea=[];n.forEach(V.features,
function(P){P.visible&&(ea.push(P),M&&P.setResolution(D))});L=L||0<ea.length;return ea})):(N=new c,T=n.filter(U.graphics,function(V){return V&&V.visible&&J.intersects(V.geometry)}),S&&B._isParentLayer(U,H)&&(S=B._findGraphicById(T,H,"cluster_id"))&&(H=S),L=L||0<T.length,N.resolve(T));return N});H&&(E=new c,E.resolve([H]),F.unshift(E));n.some(F,function(U){return!U.isFulfilled()})||L?(w.setFeatures(F),w.show(q.mapPoint,{closestFirst:O})):(w.hide(),w.clearFeatures())}}})},_getSubLayerFeatureLayers:function(q,
x,w){x=x||null;var B=w||new c,z=[];w=q.length;var C=this.map.getScale(),y=!1,D=this,F=0;a:for(;F<w;F++){var H=q[F],E=H.dynamicLayerInfos||H.layerInfos;if(E){var I=null;H._params&&(H._params.layers||H._params.dynamicLayers)&&(I=H.visibleLayers);I=m._getVisibleLayers(E,I);for(var J=m._getLayersForScale(C,E),K=E.length,L=0;L<K;L++){var O=E[L],U=O.id,S=H.infoTemplates[U];if(!O.subLayerIds&&S&&S.infoTemplate&&-1<n.indexOf(I,U)&&-1<n.indexOf(J,U)){if(!g){y=!0;break a}var M=H.id+"_"+U,N=this._featureLayersCache[M];
N&&N.loadError||(N||((N=S.layerUrl)||(N=O.source?this._getLayerUrl(H.url,"/dynamicLayer"):this._getLayerUrl(H.url,U)),N=new g(N,{parentLayer:H,id:M,drawMode:!1,mode:g.MODE_SELECTION,outFields:this._getOutFields(S.infoTemplate),resourceInfo:S.resourceInfo,source:O.source}),this._featureLayersCache[M]=N),N.setDefinitionExpression(H.layerDefinitions&&H.layerDefinitions[U]),N.setGDBVersion(H.gdbVersion),N.setInfoTemplate(S.infoTemplate),N.setMaxAllowableOffset(x),N.setUseMapTime(!!H.useMapTime),H.layerDrawingOptions&&
H.layerDrawingOptions[U]&&H.layerDrawingOptions[U].renderer&&N.setRenderer(H.layerDrawingOptions[U].renderer),z.push(N))}}}}if(y){var T=new c;v(["./layers/FeatureLayer"],function(ea){g=ea;T.resolve()});T.then(function(){D._getSubLayerFeatureLayers(q,x,B)})}else{var V=[];n.forEach(z,function(ea){if(!ea.loaded){var P=new c;f.once(ea,"load, error",function(){P.resolve()});V.push(P.promise)}});V.length?k(V).then(function(){z=n.filter(z,function(ea){return!ea.loadError&&ea.isVisibleAtScale(C)});B.resolve(z)}):
(z=n.filter(z,function(ea){return ea.isVisibleAtScale(C)}),B.resolve(z))}return B.promise},_getLayerUrl:function(q,x){var w=q.indexOf("?");return-1===w?q+"/"+x:q.substring(0,w)+"/"+x+q.substring(w)},_getOutFields:function(q){var x=q.info&&q.info.fieldInfos;if(x&&x.length&&"esri.dijit.PopupTemplate"===q.declaredClass){var w=[];n.forEach(x,function(B){var z=B.fieldName&&B.fieldName.toLowerCase();z&&"shape"!==z&&0!==z.indexOf("relationships/")&&w.push(B.fieldName)})}else w=["*"];return w},_calculateClickTolerance:function(q){var x=
e("esri-touch")?9:6,w,B;n.forEach(q,function(z){if(w=z.renderer)"esri.renderer.SimpleRenderer"===w.declaredClass?((B=w.symbol)&&B.xoffset&&(x=Math.max(x,Math.abs(B.xoffset))),B&&B.yoffset&&(x=Math.max(x,Math.abs(B.yoffset)))):"esri.renderer.UniqueValueRenderer"!==w.declaredClass&&"esri.renderer.ClassBreaksRenderer"!==w.declaredClass||n.forEach(w.infos,function(C){(B=C.symbol)&&B.xoffset&&(x=Math.max(x,Math.abs(B.xoffset)));B&&B.yoffset&&(x=Math.max(x,Math.abs(B.yoffset)))})});return x},_showInfoWindow:function(q,
x){var w=this.map.infoWindow,B=q.geometry;x=B&&"point"===B.type?B:x;B=q.getContent();w.setTitle(q.getTitle());B&&b.isString(B.id)&&(q=t.byId(B.id))&&q.set&&/_PopupRenderer/.test(q.declaredClass)&&q.set("showTitle",!1);w.setContent(B);w.show(x)},_findGraphicById:function(q,x,w){var B,z=(x=x.attributes)&&x[w];n.some(q,function(C){var y=C.attributes;y&&y[w]===z&&(B=C);return!!B});return B},_isParentLayer:function(q,x){x=x&&x.getLayer();return q&&x===q},_isReductionEnabled:function(q){return q&&q.isFeatureReductionActive&&
q.isFeatureReductionActive()},_isImageServiceLayer:function(q){return"esri.layers.ArcGISImageServiceLayer"===q.declaredClass||"esri.layers.ArcGISImageServiceVectorLayer"===q.declaredClass||"esri.layers.RasterXLayer"===q.declaredClass},_isTiledImageServiceLayer:function(q){return"esri.layers.RasterXLayer"===q.declaredClass}});e("extend-esri")&&(a.PopupManager=h);return h})},"esri/layerUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/has","./kernel"],function(G,
A,a,m,p){var t={_serializeLayerDefinitions:function(n,h){var c=[],b=/[:;]/;if(n&&(A.forEach(n,function(f,k){f&&(c.push([k,f]),!h&&b.test(f)&&(h=!0))}),0<c.length)){if(h){var e={};A.forEach(c,function(f){e[f[0]]=f[1]});e=a.toJson(e)}else e=[],A.forEach(c,function(f){e.push(f[0]+":"+f[1])}),e=e.join(";");return e}return null},_serializeTimeOptions:function(n,h){if(n){var c=[];A.forEach(n,function(b,e){b&&(b=b.toJson(),h&&-1!==A.indexOf(h,e)&&(b.useTime=!1),c.push('"'+e+'":'+a.toJson(b)))});if(c.length)return"{"+
c.join(",")+"}"}},_getVisibleLayers:function(n,h){var c=[],b;if(!n)return c;if(h)for(c=h.concat(),b=0;b<n.length;b++){h=n[b];var e=A.indexOf(n,h.id);h.subLayerIds&&-1<e&&(c.splice(e,1),c=c.concat(h.subLayerIds))}else c=this._getDefaultVisibleLayers(n);return c},_getDefaultVisibleLayers:function(n){var h=[],c;if(!n)return h;for(c=0;c<n.length;c++)0<=n[c].parentLayerId&&-1===A.indexOf(h,n[c].parentLayerId)&&A.some(n,function(b){return b.id===n[c].parentLayerId})||n[c].defaultVisibility&&h.push(n[c].id);
return h},_getLayersForScale:function(n,h){var c=[];if(0<n&&h){var b;for(b=0;b<h.length;b++)if(!(0<=h[b].parentLayerId&&-1===A.indexOf(c,h[b].parentLayerId)&&A.some(h,function(u){return u.id===h[b].parentLayerId}))&&0<=h[b].id){var e=!0,f=h[b].maxScale,k=h[b].minScale;if(0<f||0<k)0<f&&0<k?e=f<=n&&n<=k:0<f?e=f<=n:0<k&&(e=n<=k);e&&c.push(h[b].id)}}return c}};m("extend-esri")&&G.mixin(p,t);return t})},"esri/MapNavigationManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/event dojo/mouse dojo/keys dijit/focus ./kernel ./MouseEvents ./TouchEvents ./PointerEvents ./config ./sniff ./lang ./fx ./graphic ./tileUtils ./geometry/ScreenPoint ./geometry/Extent ./geometry/Rect ./geometry/mathUtils ./symbols/SimpleFillSymbol".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C,y){var D=m.connect,F=m.disconnect,H=u("chrome"),E=u("safari"),I=[n.NUMPAD_PLUS,61,187,n.NUMPAD_MINUS,173,189,n.UP_ARROW,n.NUMPAD_8,n.RIGHT_ARROW,n.NUMPAD_6,n.DOWN_ARROW,n.NUMPAD_2,n.LEFT_ARROW,n.NUMPAD_4,n.PAGE_UP,n.NUMPAD_9,n.PAGE_DOWN,n.NUMPAD_3,n.END,n.NUMPAD_1,n.HOME,n.NUMPAD_7];G=G(null,{declaredClass:"esri.MapNavigationManager",eventModel:"",constructor:function(J,K){this.map=J;A.mixin(this,K);K=J.__container;u("esri-pointer")?(this.pointerEvents=
new f(K,{map:J}),this.eventModel="pointer"):u("esri-touch")?(u("ios")||(this.mouseEvents=new b(K,{map:J})),this.touchEvents=new e(K,{map:J,mouseEvents:this.mouseEvents}),this.eventModel="touch"):(this.mouseEvents=new b(K,{map:J}),this.eventModel="mouse");this._zoomRect=new q(null,new y(k.defaults.map.zoomSymbol));this._keyDx=this._keyDy=0;this._adjustPinch=A.hitch(this,this._adjustPinch);this._adjustPinchEnd=A.hitch(this,this._adjustPinchEnd)},_panInit:function(J){var K=this.mouseEvents;t.isLeft(J)&&
this.map.isPan&&!J.shiftKey&&(this._dragOrigin=new w(0,0),A.mixin(this._dragOrigin,J.screenPoint),F(this._panStartHandle),F(this._panHandle),F(this._panEndHandle),this._panStartHandle=D(K,"onMouseDragStart",this,this._panStart),this._panHandle=D(K,"onMouseDrag",this,this._pan),this._panEndHandle=D(K,"onMouseUp",this,this._panEnd),H||E)&&(J.preventDefault(),h.curNode&&h.curNode.blur())},_panStart:function(J){this.map.setCursor("move");this.map.__panStart(J.screenPoint.x,J.screenPoint.y)},_pan:function(J){this.map.__pan(J.screenPoint.x-
this._dragOrigin.x,J.screenPoint.y-this._dragOrigin.y)},_panEnd:function(J){F(this._panStartHandle);F(this._panHandle);F(this._panEndHandle);this._panStartHandle=this._panHandle=this._panEndHandle=null;var K=this.map;K.__panning&&(K.__panEnd(J.screenPoint.x-this._dragOrigin.x,J.screenPoint.y-this._dragOrigin.y),K.resetMapCursor())},_zoomInit:function(J){var K=this.map,L=this.pointerEvents||this.mouseEvents;(t.isLeft(J)||J.pointerType)&&K.isRubberBandZoom&&J.shiftKey&&(K.setCursor("crosshair"),this._dragOrigin=
A.mixin({},J.screenPoint),this._zoomDir=J.ctrlKey||J.metaKey?-1:1,this.pointerEvents?(this._zoomHandle=D(L,"onSwipeMove",this,this._zoom),this._zoomEndHandle=D(L,"onSwipeEnd",this,this._zoomEnd)):(this._zoomHandle=D(L,"onMouseDrag",this,this._zoom),this._zoomEndHandle=D(L,"onMouseUp",this,this._zoomEnd)),H&&J.preventDefault())},_zoom:function(J){var K=this.map,L=this._normalizeRect(J).offset(K.__visibleRect.x,K.__visibleRect.y);J=K.graphics;var O=this._zoomRect;O.geometry||K.setCursor("crosshair");
O.geometry&&J.remove(O,!0);var U=K.toMap(new w(L.x,L.y));L=K.toMap(new w(L.x+L.width,L.y+L.height));L=new z(U.x,U.y,L.x-U.x,U.y-L.y,K.spatialReference);L._originOnly=!0;O.setGeometry(L);J.add(O,!0)},_zoomEnd:function(J){var K=this._zoomRect,L=this.map,O=L.extent,U=L.spatialReference;F(this._zoomHandle);F(this._zoomEndHandle);this._zoomHandle=this._zoomEndHandle=null;if(L._canZoom(this._zoomDir)&&K.getDojoShape()){L.graphics.remove(K);K.geometry=null;J=this._normalizeRect(J);J.x+=L.__visibleRect.x;
J.y+=L.__visibleRect.y;if(-1===this._zoomDir){var S=O.getWidth();J=(S*L.width/J.width-S)/2;U=new B(O.xmin-J,O.ymin-J,O.xmax+J,O.ymax+J,U)}else O=L.toMap({x:J.x,y:J.y+J.height}),J=L.toMap({x:J.x+J.width,y:J.y}),U=new B(O.x,O.y,J.x,J.y,U);L._extentUtil(null,null,U)}K.getDojoShape()&&L.graphics.remove(K,!0);this._zoomDir=0;L.resetMapCursor()},_wheelZoom:function(J,K){var L=this.map;if(!K){if(L.smartNavigation&&!J.shiftKey&&!L._isPanningOrZooming()){L.disableScrollWheelZoom();this._setScrollWheelPan(!0);
this._wheelPan(J);return}K=J.timeStamp;if(!v.isDefined(K)||0>=K)K=(new Date).getTime();if(100>(this._mwts?K-this._mwts:K))return;this._mwts=K}L._canZoom(J.value)&&L._extentUtil({numLevels:J.value,mapAnchor:J.mapPoint,screenAnchor:J.screenPoint})},_wheelPan:function(J){var K=this.map;if(J.shiftKey&&!K._isPanningOrZooming())this._setScrollWheelPan(!1),K.enableScrollWheelZoom(),this._wheelZoom(J);else{var L=0,O=0;u("ff")?J.axis===J.HORIZONTAL_AXIS?L=-J.detail:O=-J.detail:(L=J.wheelDeltaX,O=J.wheelDeltaY);
K.translate(L,O)}},_setScrollWheelPan:function(J){this.map.isScrollWheelPan=J;this.mouseEvents&&this.mouseEvents.enableMouseWheel(J);F(this._mwMacHandle);this._mwMacHandle=null;J&&(this._mwMacHandle=D(this.mouseEvents||this.pointerEvents,"onMouseWheel",this,this._wheelPan))},_recenter:function(J){J.shiftKey&&!this.map._isPanningOrZooming()&&this.map.centerAt(J.mapPoint)},_recenterZoom:function(J){J.shiftKey&&!this.map._isPanningOrZooming()&&(J.value=J.ctrlKey||J.metaKey?-1:1,this._wheelZoom(J,!0))},
_dblClickZoom:function(J){this.map._isPanningOrZooming()||(J.value=1,this._wheelZoom(J,!0))},_twoFingerTap:function(J){this.map._isPanningOrZooming()||(J.value=-1,this._wheelZoom(J,!0))},_keyDown:function(J){var K=J.keyCode,L=this.map;if(-1!==a.indexOf(I,K)){if(K===n.NUMPAD_PLUS||61===K||187===K)L._extentUtil({numLevels:1});else if(K===n.NUMPAD_MINUS||173===K||189===K)L._extentUtil({numLevels:-1});else{L.__panning||L.__panStart(0,0);switch(K){case n.UP_ARROW:case n.NUMPAD_8:this._keyDy+=10;break;
case n.RIGHT_ARROW:case n.NUMPAD_6:this._keyDx-=10;break;case n.DOWN_ARROW:case n.NUMPAD_2:this._keyDy-=10;break;case n.LEFT_ARROW:case n.NUMPAD_4:this._keyDx+=10;break;case n.PAGE_UP:case n.NUMPAD_9:this._keyDx-=10;this._keyDy+=10;break;case n.PAGE_DOWN:case n.NUMPAD_3:this._keyDx-=10;this._keyDy-=10;break;case n.END:case n.NUMPAD_1:this._keyDx+=10;this._keyDy-=10;break;case n.HOME:case n.NUMPAD_7:this._keyDx+=10;this._keyDy+=10;break;default:return}L.__pan(this._keyDx,this._keyDy)}p.stop(J)}},_keyEnd:function(J){var K=
this.map;K.__panning&&J.keyCode!==n.SHIFT&&(K.__panEnd(this._keyDx,this._keyDy),this._keyDx=this._keyDy=0)},_swipeInit:function(J){var K=this.map;K=K._zoomAnim||K._panAnim;if(J.shiftKey)return!1;K&&K._active&&(K.stop(),K._fire("onEnd",[K.node]));this._dragOrigin=new w(0,0);A.mixin(this._dragOrigin,J.screenPoint);F(this._swipeHandle);F(this._swipeEndHandle);this._swipeHandle=D(this.touchEvents||this.pointerEvents,"onSwipeMove",this,this._swipe);this._swipeEndHandle=D(this.touchEvents||this.pointerEvents,
"onSwipeEnd",this,this._swipeEnd)},_swipe:function(J){var K=this.map;K.__panning?(this._panX=J.screenPoint.x,this._panY=J.screenPoint.y,K.__pan(J.screenPoint.x-this._dragOrigin.x,J.screenPoint.y-this._dragOrigin.y)):(K.setCursor("move"),K.__panStart(J.screenPoint.x,J.screenPoint.y))},_swipeEnd:function(J){F(this._swipeHandle);F(this._swipeEndHandle);this._swipeHandle=this._swipeEndHandle=null;var K=this.map;K.__panning&&(K.resetMapCursor(),K.__panEnd(J.screenPoint.x-this._dragOrigin.x,J.screenPoint.y-
this._dragOrigin.y))},_pinchInit:function(J){var K=this.map,L=K._zoomAnim||K._panAnim;L&&L._active?(L.stop(),L._fire("onEnd",[L.node])):K.__panning&&(J.screenPoint=new w(this._panX,this._panY),J.mapPoint=K.toMap(J.screenPoint),this._swipeEnd(J));F(this._pinchHandle);F(this._pinchEndHandle);this._pinchHandle=D(this.touchEvents||this.pointerEvents,"onPinchMove",this,this._pinch);this._pinchEndHandle=D(this.touchEvents||this.pointerEvents,"onPinchEnd",this,this._pinchEnd)},_pinch:function(J){var K=this.map;
if(J.screenPoints){this.currLength=C.getLength(J.screenPoints[0],J.screenPoints[1]);if(K.__zooming){var L=this.currLength/this._length;this._zoomStartExtent=this.__scaleExtent(K.extent,L,this._dragOrigin);K.__zoom(this._zoomStartExtent,L,this._dragOrigin)}else this._dragOrigin=new w((J.screenPoints[0].x+J.screenPoints[1].x)/2,(J.screenPoints[0].y+J.screenPoints[1].y)/2),this._length=this.currLength,K.__zoomStart(K.extent,this._dragOrigin);this._pinchScale=L;K._fireOnScale(this.currLength/this._length,
this._dragOrigin,!0)}},_pinchEnd:function(J){J=this.map;F(this._pinchHandle);F(this._pinchEndHandle);this._pinchHandle=this._pinchEndHandle=null;this._pinchScale=0;if(J.__zooming&&null===J._zoomAnim){var K=this.currLength/this._length,L=J.extent.getWidth();this._zoomAnimAnchor=J.toMap(this._dragOrigin);this._zoomStartExtent=this.__scaleExtent(J.extent,1/K,this._zoomAnimAnchor);if(J.__tileInfo){var O=x.getCandidateTileInfo(J,J.__tileInfo,this._zoomStartExtent),U=J.__getExtentForLevel(O.lod.level,this._zoomAnimAnchor),
S=J.getMinZoom(),M=J.getMaxZoom(),N=U.extent;U=U.lod;var T=L/N.getWidth(),V=O.lod.level;1>K?T>K&&V--:T<K&&V++;V<S?V=S:V>M&&(V=M);V!==O.lod.level&&(U=J.__getExtentForLevel(V,this._zoomAnimAnchor),N=U.extent,U=U.lod);this._zoomEndExtent=N;this._zoomEndLod=U;J._zoomAnim=g.animateRange({range:{start:L/this._zoomStartExtent.getWidth(),end:T},duration:k.defaults.map.zoomDuration,rate:k.defaults.map.zoomRate,onAnimate:this._adjustPinch,onEnd:this._adjustPinchEnd});J._zoomAnim.play();J._fireOnScale(J.extent.getWidth()/
this._zoomEndExtent.getWidth(),this._dragOrigin)}else this._zoomEndExtent=this._zoomStartExtent,J._fireOnScale(J.extent.getWidth()/this._zoomEndExtent.getWidth(),this._dragOrigin),this._adjustPinchEnd()}},_adjustPinch:function(J){var K=this.__scaleExtent(this.map.extent,J,this._zoomAnimAnchor);this.map.__zoom(K,J,this._dragOrigin)},_adjustPinchEnd:function(){var J=this.map,K=J.extent.getWidth()/this._zoomEndExtent.getWidth(),L=this.__scaleExtent(J.extent,1/K,this._zoomAnimAnchor),O=this._dragOrigin,
U=this._zoomEndLod;this._zoomStartExtent=this._zoomEndExtent=this._zoomEndLod=this._dragOrigin=J._zoomAnim=this._zoomAnimAnchor=null;J.__zoomEnd(L,K,O,U,!0)},__scaleExtent:function(J,K,L){L=L||J.getCenter();K=J.expand(K);var O=J.xmin-(K.getWidth()-J.getWidth())*(L.x-J.xmin)/J.getWidth();L=J.ymax-(K.getHeight()-J.getHeight())*(L.y-J.ymax)/J.getHeight();return new B(O,L-K.getHeight(),O+K.getWidth(),L,J.spatialReference)},_normalizeRect:function(J){J=J.screenPoint;var K=this._dragOrigin.x,L=this._dragOrigin.y;
J=new z((J.x<K?J.x:K)-this.map.__visibleRect.x,(J.y<L?J.y:L)-this.map.__visibleRect.y,Math.abs(J.x-K),Math.abs(J.y-L));delete J.spatialReference;0===J.width&&(J.width=1);0===J.height&&(J.height=1);return J},setImmediateClick:function(J){switch(this.eventModel){case "mouse":this.mouseEvents.setImmediateClick(J);break;case "touch":this.touchEvents.setImmediateTap(J);this.mouseEvents&&this.mouseEvents.setImmediateClick(J);break;case "pointer":this.pointerEvents.setImmediateTap(J)}},enablePan:function(){this.disablePan();
switch(this.eventModel){case "mouse":this._panInitHandle=D(this.mouseEvents,"onMouseDown",this,this._panInit);break;case "touch":this._panInitHandle=D(this.mouseEvents,"onMouseDown",this,this._panInit);this._swipeInitHandle=D(this.touchEvents,"onSwipeStart",this,this._swipeInit);break;case "pointer":this._swipeInitHandle=D(this.pointerEvents,"onSwipeStart",this,this._swipeInit)}},disablePan:function(){F(this._panInitHandle);this._panInitHandle=null;F(this._swipeInitHandle);this._swipeInitHandle=null},
enableRubberBandZoom:function(){this.disableRubberBandZoom();this._zoomInitHandle=this.pointerEvents?D(this.pointerEvents,"onSwipeStart",this,this._zoomInit):D(this.mouseEvents,"onMouseDown",this,this._zoomInit)},disableRubberBandZoom:function(){F(this._zoomInitHandle);this._zoomInitHandle=null},enablePinchZoom:function(){this.disablePinchZoom();if("touch"===this.eventModel||"pointer"===this.eventModel)this._pinchInitHandle=D(this.touchEvents||this.pointerEvents,"onPinchStart",this,this._pinchInit)},
disablePinchZoom:function(){F(this._pinchInitHandle);this._pinchInitHandle=null},enableScrollWheelZoom:function(){this.disableScrollWheelZoom();this._wheelHandle=D(this.mouseEvents||this.pointerEvents,"onMouseWheel",this,this._wheelZoom)},disableScrollWheelZoom:function(){F(this._wheelHandle);this._wheelHandle=null},enableScrollWheelPan:function(){var J=this.map;J&&J.loaded&&J.smartNavigation&&(this.disableScrollWheelPan(),this._setScrollWheelPan(!0))},disableScrollWheelPan:function(){var J=this.map;
J&&J.loaded&&J.smartNavigation&&this._setScrollWheelPan(!1)},enableDoubleClickZoom:function(){this.disableDoubleClickZoom();switch(this.eventModel){case "mouse":this._dblClickHandle=D(this.mouseEvents,"onDblClick",this,this._dblClickZoom);break;case "touch":this._dblClickHandle=D(this.mouseEvents,"onDblClick",this,this._dblClickZoom);this._dblTapHandle=D(this.touchEvents,"onDoubleTap",this,this._dblClickZoom);this._zoomOutHandle=D(this.touchEvents,"onTwoFingerTap",this,this._twoFingerTap);break;case "pointer":this._dblTapHandle=
D(this.pointerEvents,"onDoubleTap",this,this._dblClickZoom),this._zoomOutHandle=D(this.pointerEvents,"onTwoFingerTap",this,this._twoFingerTap)}},disableDoubleClickZoom:function(){F(this._dblClickHandle);F(this._zoomOutHandle);this._dblTapHandle&&F(this._dblTapHandle);this._dblClickHandle=this._zoomOutHandle=this._dblTapHandle=null},enableShiftDoubleClickZoom:function(){this.disableShiftDoubleClickZoom();this._sDblClickHandle=D(this.pointerEvents||this.mouseEvents,"onDblClick",this,this._recenterZoom)},
disableShiftDoubleClickZoom:function(){F(this._sDblClickHandle);this._sDblClickHandle=null},enableClickRecenter:function(){this.disableClickRecenter();this._recenterHandle=D(this.pointerEvents||this.mouseEvents,"onClick",this,this._recenter)},disableClickRecenter:function(){F(this._recenterHandle);this._recenterHandle=null},enableKeyboardNavigation:function(){this.disableKeyboardNavigation();this._keyHandle=D(this.pointerEvents||this.mouseEvents,"onKeyDown",this,this._keyDown);this._keyEndHandle=
D(this.pointerEvents||this.mouseEvents,"onKeyUp",this,this._keyEnd)},disableKeyboardNavigation:function(){F(this._keyHandle);F(this._keyEndHandle);this._keyHandle=this._keyEndHandle=null},enableScrollWheel:function(){var J=this.map;J&&(J.smartNavigation?this.enableScrollWheelPan():J.enableScrollWheelZoom())},disableScrollWheel:function(){var J=this.map;J&&(J.disableScrollWheelZoom(),J.smartNavigation&&this.disableScrollWheelPan())},enableNavigation:function(){var J=this.map;J&&J.loaded&&(J._evalNavigationFeature("DoubleClickZoom"),
J._evalNavigationFeature("ClickRecenter"),J._evalNavigationFeature("Pan"),J._evalNavigationFeature("RubberBandZoom"),J._evalNavigationFeature("PinchZoom"),J._evalNavigationFeature("KeyboardNavigation"),J._evalNavigationFeature("ScrollWheel"))},disableNavigation:function(){var J=this.map;J&&J.loaded&&(J._evalNavigationFeature("DoubleClickZoom"),J._evalNavigationFeature("ClickRecenter"),J._evalNavigationFeature("Pan"),J._evalNavigationFeature("RubberBandZoom"),J._evalNavigationFeature("PinchZoom"),
J._evalNavigationFeature("KeyboardNavigation"),J._evalNavigationFeature("ScrollWheel"))},destroy:function(){this.touchEvents&&this.touchEvents.destroy();this.mouseEvents&&this.mouseEvents.destroy();this.pointerEvents&&this.pointerEvents.destroy();var J,K=[this._panInitHandle,this._panStartHandle,this._panHandle,this._panEndHandle,this._zoomInitHandle,this._zoomHandle,this._zoomEndHandle,this._wheelHandle,this._mwMacHandle,this._dblClickHandle,this._zoomOutHandle,this._recenterHandle,this._sDblClickHandle,
this._dblTapHandle,this._keyHandle,this._keyEndHandle,this._swipeInitHandle,this._swipeHandle,this._swipeEndHandle,this._pinchInitHandle,this._pinchHandle,this._pinchEndHandle];for(J=0;J<K.length;J++)F(K[J]);this.map=this.touchEvents=this.mouseEvents=this.eventModel=this.pointerEvents=this._zoomRect=this._dragOrigin=this._panInitHandle=this._panStartHandle=this._panHandle=this._panEndHandle=this._zoomInitHandle=this._zoomHandle=this._zoomEndHandle=this._wheelHandle=this._mwMacHandle=this._dblClickHandle=
this._zoomOutHandle=this._recenterHandle=this._sDblClickHandle=this._dblTapHandle=this._keyHandle=this._keyEndHandle=this._swipeInitHandle=this._swipeHandle=this._swipeEndHandle=this._pinchInitHandle=this._pinchHandle=this._pinchEndHandle=null}});u("extend-esri")&&(c.MapNavigationManager=G);return G})},"esri/MouseEvents":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/sniff dojo/_base/connect dojo/_base/event ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),
function(G,A,a,m,p,t,n,h,c,b){var e=p.connect,f=p.disconnect;G=G([h],{declaredClass:"esri.MouseEvents",doubleClickDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:-1!==m("mac")?1:3,wheelDivisor:2>m("chrome")?360:120,preventPageScroll:!0,map:null,constructor:function(k,u){this.node=k;a.mixin(this,u);u=function(v){t.stop(v);return!1};m("mozilla")&&A.style(k,"MozUserSelect","none");this._handles=[e(k,"onselectstart",u),e(k,"ondragstart",u),e(k,"onmouseenter",this,this._onMouseEnterHandler),
e(k,"onmouseleave",this,this._onMouseLeaveHandler),e(k,"onmousedown",this,this._onMouseDownHandler),e(k,"onclick",this,this._onClickHandler),e(k,"ondblclick",this,this._onDblClickHandler)];this._onMouseMoveHandler_connect=e(k,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=e(k,"onmouseup",this,this._onMouseUpHandler);this._fireClickEvent=a.hitch(this,this._fireClickEvent);this._initialDuration=this.doubleClickDuration;this.preventPageScroll=(k=this.map)?k.isScrollWheelZoom||
k.isScrollWheelPan:this.preventPageScroll;this.enableMouseWheel(!1)},_fire:function(k,u){if(!this._preventClick||"onClick"!==k&&"onDblClick"!==k){if(this[k])this[k](u);if(this.map&&this.map[k])this.map[k](u)}},_processEvent:function(k){k=t.fix(k,k.target);var u=this.map,v=u&&u.position;v&&("DOMMouseScroll"===k.type&&3>m("ff")?k.screenPoint=new b(window.scrollX+k.screenX-v.x,window.scrollY+k.screenY-v.y):k.screenPoint=new b(k.pageX-v.x,k.pageY-v.y),k.mapPoint=u.extent?u.toMap(k.screenPoint):new c);
k.numPoints=0;return k},_onMouseEnterHandler:function(k){f(this._onKeyDown_connect);f(this._onKeyUp_connect);this._onKeyDown_connect=e(document,"onkeydown",this,this._onKeyDownHandler);this._onKeyUp_connect=e(document,"onkeyup",this,this._onKeyUpHandler);this._fire("onMouseOver",this._processEvent(k))},_onMouseLeaveHandler:function(k){f(this._onKeyDown_connect);f(this._onKeyUp_connect);this._onKeyDown_connect=this._onKeyUp_connect=null;this._fire("onMouseOut",this._processEvent(k))},_onMouseMoveHandler:function(k){this._dragEnd?
this._dragEnd=!1:this._fire("onMouseMove",this._processEvent(k))},_onMouseDownHandler:function(k){f(this._onMouseMoveHandler_connect);this._onMouseMoveHandler_connect=null;this.node.setCapture&&this.node.setCapture(!1);f(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=e(document,"onmousemove",this,this._onMouseDragHandler);this._startX=k.pageX;this._startY=k.pageY;this._fire("onMouseDown",this._processEvent(k))},_onMouseUpHandler:function(k){var u=this.node;u.releaseCapture&&u.releaseCapture();
f(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=null;f(this._onMouseMoveHandler_connect);this._onMouseMoveHandler_connect=e(u,"onmousemove",this,this._onMouseMoveHandler);this._fire("onMouseUp",this._processEvent(k))},_onMouseDragHandler:function(k){f(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=e(document,"onmousemove",this,this._onMouseDraggingHandler);f(this._onMouseUpHandler_connect);this._onMouseUpHandler_connect=e(document,"onmouseup",this,this._onDragMouseUpHandler);
this._docLeaveConnect=e(document,"onmouseout",this,this._onDocMouseOut);this._fire("onMouseDragStart",this._processEvent(k))},_onMouseDraggingHandler:function(k){t.stop(k);this._fire("onMouseDrag",this._processEvent(k))},_onDragMouseUpHandler:function(k){var u=this.node;u.releaseCapture&&u.releaseCapture();this._dragEnd=!0;f(this._docLeaveConnect);f(this._onMouseDragHandler_connect);f(this._onMouseUpHandler_connect);this._docLeaveConnect=this._onMouseDragHandler_connect=null;this._onMouseMoveHandler_connect=
e(u,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=e(u,"onmouseup",this,this._onMouseUpHandler);k=this._processEvent(k);this._fire("onMouseDragEnd",k);this._fire("onMouseUp",k)},_onDocMouseOut:function(k){var u=9>m("ie")?k.toElement:k.relatedTarget,v=u&&u.nodeName.toLowerCase();(!u||(m("chrome")||m("safari"))&&"html"===v)&&this._onDragMouseUpHandler(k)},_onClickHandler:function(k){k=this._processEvent(k);if(k.pageX===this._startX&&k.pageY===this._startY){clearTimeout(this._clickTimer);
var u={},v="movementX"in k,g;for(g in k)"mozInputSource"===g||"mozPressure"===g||v&&("webkitMovementX"===g||"webkitMovementY"===g)||(u[g]=k[g]);this._clickEvent=u;this._clickTimer=setTimeout(this._fireClickEvent,this.doubleClickDuration)}},_fireClickEvent:function(){clearTimeout(this._clickTimer);9>m("ie")&&(this._clickEvent.graphic=n._ieGraphic,delete n._ieGraphic);this._fire("onClick",this._clickEvent)},_onDblClickHandler:function(k){clearTimeout(this._clickTimer);this._fire("onDblClick",this._processEvent(k))},
_onMouseWheelHandler:function(k){var u=this.map;(u?u.isScrollWheelZoom||u.isScrollWheelPan:this.preventPageScroll)&&t.stop(k);u=m("ff")||m("mozilla")?-k.detail/this.mozWheelDivisor:k.wheelDelta/this.wheelDivisor;var v=Math.abs(u);v=v<=this.minWheelValue?this.minWheelValue:this.maxWheelValue;k.value=0>u?-v:v;this._fire("onMouseWheel",this._processEvent(k))},_onKeyDownHandler:function(k){this._fire("onKeyDown",k)},_onKeyUpHandler:function(k){this._fire("onKeyUp",k)},enableMouseWheel:function(k){f(this._scrollHandle);
this._scrollHandle=e(this.node,m("ff")||m("mozilla")?k?"MozMousePixelScroll":"DOMMouseScroll":"onmousewheel",this,this._onMouseWheelHandler)},setImmediateClick:function(k){this.doubleClickDuration=k?0:this._initialDuration},preventClickEvents:function(k){this._preventClick=k},destroy:function(){var k=this._handles.concat([this._onMouseMoveHandler_connect,this._onMouseUpHandler_connect,this._onMouseDragHandler_connect,this._scrollHandle,this._onKeyDown_connect,this._onKeyUp_connect,this._docLeaveConnect]),
u;for(u=0;u<k.length;u++)f(k[u]);clearTimeout(this._clickTimer);this.node=this.map=this._handles=this._clickEvent=this._onMouseMoveHandler_connect=this._onMouseUpHandler_connect=this._onMouseDragHandler_connect=this._scrollHandle=this._onKeyDown_connect=this._onKeyUp_connect=this._docLeaveConnect=null}});m("extend-esri")&&(n.MouseEvents=G);return G})},"esri/TouchEvents":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/sniff dojo/dom ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),
function(G,A,a,m,p,t,n,h,c){G=G([n],{declaredClass:"esri.TouchEvents",tapRadius:8,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,map:null,constructor:function(b,e){this.node=b;a.mixin(this,e);A.setSelectable(b,!1);this._touchStart=a.hitch(this,this._touchStart);this._touchMove=a.hitch(this,this._touchMove);this._touchEnd=a.hitch(this,this._touchEnd);this._touchCancel=a.hitch(this,this._touchCancel);this._fireClickEvent=a.hitch(this,this._fireClickEvent);b.addEventListener("touchstart",
this._touchStart,!1);b.addEventListener("touchmove",this._touchMove,!1);b.addEventListener("touchend",this._touchEnd,!1);b.addEventListener("touchcancel",this._touchCancel,!1);this.map&&m("ios")&&(this._mouseOver=a.hitch(this,this._mouseOver),this._mouseOut=a.hitch(this,this._mouseOut),this._mouseDown=a.hitch(this,this._mouseDown),this._mouseUp=a.hitch(this,this._mouseUp),this._mouseClick=a.hitch(this,this._mouseClick),b.addEventListener("mouseover",this._mouseOver,!1),b.addEventListener("mouseout",
this._mouseOut,!1),b.addEventListener("mousedown",this._mouseDown,!1),b.addEventListener("mouseup",this._mouseUp,!1),b.addEventListener("click",this._mouseClick,!1));this._numTouches=0;this._nodeTouches=[];this._touches={};this._touchIds=[];this._taps=[];this._immediate=!1},_touchStart:function(b){var e=this._touches,f,k=b.changedTouches.length,u,v,g=(new Date).getTime();this._touchStartTS=g;if(!(m("android")&&m("safari")&&1===b.targetTouches.length&&b.touches.length===b.targetTouches.length&&b.targetTouches.length===
b.changedTouches.length&&0===b.changedTouches[0].identifier&&e[b.changedTouches[0].identifier])){this._addTouch(b);for(f=0;f<k;f++){var q=b.changedTouches[f];var x=e[q.identifier]={};x.startX=q.pageX;x.startY=q.pageY;x.startTS=g;-1===this._touchIds.indexOf(q.identifier)&&this._touchIds.push(q.identifier)}this._swipeActive&&(u=this._nodeTouches[0]);this._pinchActive&&(v=this._nodeTouches[1]);1===this._numTouches?this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(b,
u))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(b,[u,v]))):2===this._numTouches?this._swipeActive&&(u&&(x=e[this._touchIds[0]],x.startX=u.pageX,x.startY=u.pageY,x.moved=!1),this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(b,u))):this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(b,u))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(b,[u,v])))}},_touchMove:function(b){b.preventDefault();
this._updateTouch(b);var e=this._touches,f,k=b.changedTouches.length,u;if(!(m("android")&&m("safari")&&1===b.targetTouches.length&&b.touches.length===b.targetTouches.length&&b.targetTouches.length===b.changedTouches.length&&0===b.changedTouches[0].identifier&&e[b.changedTouches[0].identifier]&&1<this._touchIds.length)){for(f=0;f<k;f++){var v=b.changedTouches[f];if(u=e[v.identifier]){var g=Math.abs(v.pageX-u.startX);v=Math.abs(v.pageY-u.startY);!u.moved&&(g>=this.tapRadius||v>=this.tapRadius)&&(u.moved=
u.absMoved=!0);var q=q?q:u.moved}}1===this._numTouches?(e=b.changedTouches[0],this._swipeActive?this._fire("onSwipeMove",this._processTouchEvent(b,e)):q&&(this._swipeActive=!0,this._fire("onSwipeStart",this._processTouchEvent(b,e)))):2===this._numTouches&&(f=this._nodeTouches[0],k=this._nodeTouches[1],this._pinchActive?this._fire("onPinchMove",this._processTouchEvent(b,[f,k])):q&&(q=e[f.identifier],u=e[k.identifier],e=Math.abs(q.startX-u.startX),q=Math.abs(q.startY-u.startY),u=Math.abs(f.pageX-k.pageX),
g=Math.abs(f.pageY-k.pageY),Math.abs(Math.sqrt(u*u+g*g)-Math.sqrt(e*e+q*q))>=2*this.tapRadius&&(this._pinchActive=!0,this._fire("onPinchStart",this._processTouchEvent(b,[f,k])))))}},_touchEnd:function(b){this._removeTouch(b);var e=this._touches,f=b.changedTouches,k,u=f.length,v,g,q=(new Date).getTime(),x=this._touchIds;for(k=0;k<u;k++)if(g=e[f[k].identifier])g.absMoved&&(v=!0),g.pageX=f[k].pageX,g.pageY=f[k].pageY,g.endTS=q;if(0===this._numTouches)if(this._touches={},this._touchIds=[],this._swipeActive)this._swipeActive=
!1,this._fire("onSwipeEnd",this._processTouchEvent(b,f[0]));else if(this._pinchActive)this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(b,f));else{if(!v){u=Infinity;v=-Infinity;q=Infinity;var w=-Infinity,B=this.tapStartTolerance,z=[],C=!0;for(k=0;k<x.length;k++)g=e[x[k]],z.push(g),g.startTS<u&&(u=g.startTS),g.startTS>v&&(v=g.startTS),g.endTS<q&&(q=g.endTS),g.endTS>w&&(w=g.endTS),delete e[x[k]];1===z.length&&f[0]&&(e=Math.abs(f[0].pageY-z[0].startY),Math.abs(f[0].pageX-z[0].startX)>=
this.tapRadius||e>=this.tapRadius)&&(C=!1);C&&Math.abs(v-u)<=B&&Math.abs(w-q)<=B&&this._basicTap(b,z)}}else 1===this._numTouches&&this._pinchActive&&(k=this._nodeTouches[0],g=e[k.identifier],g.startX=k.pageX,g.startY=k.pageY,this._pinchActive=g.moved=!1,this._fire("onPinchEnd",this._processTouchEvent(b,[f[0],k])))},_touchCancel:function(b){this._numTouches&&this._touchEnd(b)},_basicTap:function(b,e){var f=(new Date).getTime(),k=this;b=this._processTouchEvent(b,e);this._taps.push({touchInfos:e,ts:f,
event:b});2<this._taps.length&&this._taps.shift();this._fire("onBasicTap",b);clearTimeout(this._tapTimer);this._immediate?this._analyzeTap(!0):this._tapTimer=setTimeout(function(){var u=k;k=null;clearTimeout(u._tapTimer);u._analyzeTap()},2===this._taps.length?this.doubleTapDuration/2:this.doubleTapDuration)},_analyzeTap:function(b){var e=this._taps,f=e[0],k=e[1],u=f.touchInfos,v=k&&k.touchInfos;e.length&&(b||(this._taps=[]),f&&k?u.length===v.length?k.ts-f.ts<=this.doubleTapDuration?(1===u.length?
(b=Math.abs(u[0].startX-v[0].startX),u=Math.abs(u[0].startY-v[0].startY),u=b<=this.doubleTapRadius&&u<=this.doubleTapRadius):u=!0,u?this._processedDoubleTap(e):this._processedTap(k)):this._processedTap(k):this._processedTap(k):this._processedTap(f||k))},_processedTap:function(b){var e=b.event;this._fire("onProcessedTap",e);1===b.touchInfos.length?this._fire("onTap",this._fixEvent(e)):2===b.touchInfos.length&&this._fire("onTwoFingerTap",e)},_processedDoubleTap:function(b){var e=1===b[1].touchInfos.length;
if(e){var f=[this._fixEvent(b[0].event),this._fixEvent(b[1].event)];f[1].relatedEvents=f}b=[b[0].event,b[1].event];b[1].relatedEvents=b;this._fire("onProcessedDoubleTap",b[1]);e&&(this._fire("onDoubleTap",f[1]),this._fire("onDblClick",f[1]))},_addTouch:function(b){var e=b.changedTouches,f=this._nodeTouches,k;this._numTouches+=e.length;for(b=0;b<e.length;b++){var u=f.length;var v=!1;for(k=0;k<u&&!(v=f[k].identifier===e[b].identifier);k++);v?this._numTouches--:f.push(e[b])}for(b=f.length-1;0<=b;b--)p.isDescendant(f[b].target,
document.body)||(f.splice(b,1),this._numTouches--);0>this._numTouches&&(this._numTouches=0)},_removeTouch:function(b){var e=[],f=[],k=b.changedTouches,u=this._nodeTouches;this._numTouches-=k.length;0>this._numTouches&&(this._numTouches=0);for(b=0;b<k.length;b++)e.push(k[b].identifier);for(b=u.length-1;0<=b;b--)-1!==e.indexOf(u[b].identifier)&&f.push(u.splice(b,1)[0]);return f},_updateTouch:function(b){var e=[],f=b.changedTouches,k=this._nodeTouches;for(b=0;b<f.length;b++)e.push(f[b].identifier);for(b=
0;b<k.length;b++){var u=e.indexOf(k[b].identifier);-1!==u&&k.splice(b,1,f[u])}},_mouseOver:function(b){this._fire("onMouseOver",this._processMouseEvent(b))},_mouseOut:function(b){this._fire("onMouseOut",this._processMouseEvent(b))},_mouseDown:function(b){this._fire("onMouseDown",this._processMouseEvent(b))},_mouseUp:function(b){this._fire("onMouseUp",this._processMouseEvent(b))},_mouseClick:function(b){clearTimeout(this._clickTimer);300<(new Date).getTime()-this._touchStartTS?this._fire("onClick",
this._processMouseEvent(b)):(this._clickEvent=b,this._clickTimer=setTimeout(this._fireClickEvent,this.doubleTapDuration))},_fireClickEvent:function(){clearTimeout(this._clickTimer);this._fire("onClick",this._processMouseEvent(this._clickEvent))},_fire:function(b,e){"onDblClick"===b&&clearTimeout(this._clickTimer);if("onDblClick"===b&&this.mouseEvents){this.mouseEvents.preventClickEvents(!0);var f=this;setTimeout(function(){f.mouseEvents.preventClickEvents(!1)},350)}if(this[b])this[b](e);if(this.map&&
this.map[b])this.map[b](e)},_fixEvent:function(b){var e={},f;for(f in b)e[f]=b[f];this.map&&(e.screenPoint=e.screenPoints[0],e.mapPoint=e.mapPoints[0]);return e},_processTouchEvent:function(b,e){var f=this.map,k=f&&f.position,u=0;if(k&&e)if(a.isArray(e)){var v;b.screenPoints=[];b.mapPoints=[];for(v=0;v<e.length;v++)if(e[v]){var g=new c(e[v].pageX-k.x,e[v].pageY-k.y);b.screenPoints.push(g);b.mapPoints.push(f.extent?f.toMap(g):new h)}else u++}else b.screenPoint=new c(e.pageX-k.x,e.pageY-k.y),b.mapPoint=
f.extent?f.toMap(b.screenPoint):new h;b.numPoints=e?a.isArray(e)?e.length-u:1:0;return b},_processMouseEvent:function(b){var e=this.map,f=e&&e.position;f&&(b.screenPoint=new c(b.pageX-f.x,b.pageY-f.y),b.mapPoint=e.extent?e.toMap(b.screenPoint):new h);return b},setImmediateTap:function(b){this._immediate=b},destroy:function(){var b=this.node;b.removeEventListener("touchstart",this._touchStart,!1);b.removeEventListener("touchmove",this._touchMove,!1);b.removeEventListener("touchend",this._touchEnd,
!1);b.removeEventListener("touchcancel",this._touchCancel,!1);this.map&&(b.removeEventListener("mouseover",this._mouseOver,!1),b.removeEventListener("mouseout",this._mouseOut,!1),b.removeEventListener("mousedown",this._mouseDown,!1),b.removeEventListener("mouseup",this._mouseUp,!1),b.removeEventListener("click",this._mouseClick,!1));A.setSelectable(b,!0);clearTimeout(this._tapTimer);clearTimeout(this._clickTimer);this.node=this.map=this._numTouches=this._nodeTouches=this._touches=this._touchIds=this._taps=
null}});m("extend-esri")&&(t.TouchEvents=G);return G})},"esri/PointerEvents":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),function(G,A,a,m,p,t,n,h){G=G([t],{declaredClass:"esri.PointerEvents",tapRadius:8,clickRadius:2,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:-1!==m("mac")?1:3,wheelDivisor:120,preventPageScroll:!0,_dragging:!1,
constructor:function(c,b){this.node=c;A.mixin(this,b);void 0!==c.style.msTouchAction?c.style.msTouchAction="none":void 0!==c.style.touchAction&&(c.style.touchAction="none");b=navigator.msPointerEnabled;var e=function(f){f.preventDefault()};c.addEventListener("selectstart",e,!1);c.addEventListener("dragstart",e,!1);this._pointerDown=A.hitch(this,this._pointerDown);this._pointerMove=A.hitch(this,this._pointerMove);this._pointerUp=A.hitch(this,this._pointerUp);this._pointerCancel=A.hitch(this,this._pointerCancel);
c.addEventListener(b?"MSPointerDown":"pointerdown",this._pointerDown,!1);c.addEventListener(b?"MSPointerMove":"pointermove",this._pointerMove,!1);c.addEventListener(b?"MSPointerUp":"pointerup",this._pointerUp,!1);c.addEventListener(b?"MSPointerCancel":"pointercancel",this._pointerCancel,!1);this.map&&(this._mouseOver=A.hitch(this,this._mouseOver),this._mouseOut=A.hitch(this,this._mouseOut),this._mouseLeave=A.hitch(this,this._mouseLeave),this._mouseDown=A.hitch(this,this._mouseDown),this._mouseUp=
A.hitch(this,this._mouseUp),this._mouseClick=A.hitch(this,this._mouseClick),this._mouseWheel=A.hitch(this,this._mouseWheel),this._mouseMove=A.hitch(this,this._mouseMove),this._mouseEnter=A.hitch(this,this._mouseEnter),this._onKeyDown=A.hitch(this,this._onKeyDown),this._onKeyUp=A.hitch(this,this._onKeyUp),c.addEventListener("mouseover",this._mouseOver,!1),c.addEventListener("mouseout",this._mouseOut,!1),c.addEventListener("mouseleave",this._mouseLeave,!1),c.addEventListener("mousedown",this._mouseDown,
!1),c.addEventListener("mouseup",this._mouseUp,!1),c.addEventListener("click",this._mouseClick,!1),c.addEventListener("mousewheel",this._mouseWheel,!1),c.addEventListener("mousemove",this._mouseMove,!1),c.addEventListener("mouseenter",this._mouseEnter,!1));this._numTouches=0;this._touches={};this._touchIds=[];this._taps=[];this._immediate=!1},_pointerDown:function(c){if(-1<a.indexOf(this._touchIds,c.pointerId))this._pointerUp(c);else{var b=this._touches,e=c.target,f=c.pointerId,k=this._touchIds,u=
(new Date).getTime();var v=b[f]={};v.pointerId=f;v.startX=v.pageX=c.pageX;v.startY=v.pageY=c.pageY;v.startTS=u;k.push(f);this._numTouches++;e.setPointerCapture?e.setPointerCapture(f):e.msSetPointerCapture&&e.msSetPointerCapture(f);e=b[k[0]];b=b[k[1]];1!==this._numTouches&&(2===this._numTouches?this._swipeActive&&(e&&(e.startX=e.pageX,e.startY=e.pageY,e.moved=!1),this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(c,e))):this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",
this._processTouchEvent(c,e))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(c,[e,b]))))}},_pointerMove:function(c){var b=this._touches,e=this._touchIds,f;if((f=b[c.pointerId])&&(f.pageX!==c.pageX||f.pageY!==c.pageY)){f.pageX=c.pageX;f.pageY=c.pageY;var k=Math.abs(f.pageX-f.startX);var u=Math.abs(f.pageY-f.startY);!f.moved&&(k>=this.tapRadius||u>=this.tapRadius)&&(f.moved=f.absMoved=!0);if(1===this._numTouches)this._swipeActive?this._fire("onSwipeMove",this._processTouchEvent(c,
c)):f.moved&&(this._swipeActive=!0,this._fire("onSwipeStart",this._processTouchEvent(c,c)));else if(2===this._numTouches)if(f=b[e[0]],b=b[e[1]],this._pinchActive)this._fire("onPinchMove",this._processTouchEvent(c,[f,b]));else if(f.moved||b.moved){e=Math.abs(f.startX-b.startX);k=Math.abs(f.startY-b.startY);u=Math.abs(f.pageX-b.pageX);var v=Math.abs(f.pageY-b.pageY);Math.abs(Math.sqrt(u*u+v*v)-Math.sqrt(e*e+k*k))>=2*this.tapRadius&&(this._pinchActive=!0,this._fire("onPinchStart",this._processTouchEvent(c,
[f,b])))}}},_pointerUp:function(c){var b=this._touches,e,f=this.node,k=c.target,u=c.pointerId,v=this._touchIds,g=v.slice(0),q=a.map(g,function(z){return b[z]}),x=(new Date).getTime();if(e=b[u])if(e.pageX=c.pageX,e.pageY=c.pageY,e.endTS=x,this._numTouches--,k.releasePointerCapture?k.releasePointerCapture(u):k.msReleasePointerCapture&&k.msReleasePointerCapture(u),0===this._numTouches)if(this._touches={},this._touchIds=[],this._swipeActive)this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(c,
c));else if(this._pinchActive)this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(c,c));else{if(!e.absMoved){k=Infinity;u=-Infinity;v=Infinity;x=-Infinity;var w=this.tapStartTolerance,B;for(B=0;B<g.length;B++)e=q[B],e.startTS<k&&(k=e.startTS),e.startTS>u&&(u=e.startTS),e.endTS<v&&(v=e.endTS),e.endTS>x&&(x=e.endTS);Math.abs(u-k)<=w&&Math.abs(x-v)<=w&&this._basicTap(c,q)}}else 1===this._numTouches&&this._pinchActive&&(v.splice(a.indexOf(v,c.pointerId),1),delete b[c.pointerId],e=b[v[0]],
e.startX=e.pageX,e.startY=e.pageY,e.moved=!1,document.msElementsFromPoint&&(g=document.msElementsFromPoint(e.pageX,e.pageY),a.some(g,function(z){return z===f})||(this._touches={},this._touchIds=[],this._numTouches=0)),this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(c,[c,e])))},_pointerCancel:function(c){this._numTouches&&this._pointerUp(c)},_basicTap:function(c,b){var e=(new Date).getTime(),f=this,k=this._immediate;c=this._processTouchEvent(c,b);this._taps.push({touchInfos:b,
ts:e,event:c});2<this._taps.length&&this._taps.shift();this._fire("onBasicTap",c);clearTimeout(this._tapTimer);c=2===this._taps.length?this.doubleTapDuration/2:this.doubleTapDuration;this._tapTimer=setTimeout(function(){var u=f;f=null;clearTimeout(u._tapTimer);u._analyzeTap(k)},k?0:c)},_analyzeTap:function(c){var b=this._taps,e=b[0],f=b[1],k=e.touchInfos,u=f&&f.touchInfos;b.length&&(c||(this._taps=[]),e&&f?k.length===u.length?f.ts-e.ts<=this.doubleTapDuration?(1===k.length?(c=Math.abs(k[0].startX-
u[0].startX),k=Math.abs(k[0].startY-u[0].startY),k=c<=this.doubleTapRadius&&k<=this.doubleTapRadius):k=!0,k?this._processedDoubleTap(b):this._processedTap(f)):this._processedTap(f):this._processedTap(f):this._processedTap(e||f))},_processedTap:function(c){var b=c.event;this._fire("onProcessedTap",b);1===c.touchInfos.length?this._fire("onTap",this._fixEvent(b)):2===c.touchInfos.length&&this._fire("onTwoFingerTap",b)},_processedDoubleTap:function(c){var b=1===c[1].touchInfos.length;if(b){var e=[this._fixEvent(c[0].event),
this._fixEvent(c[1].event)];e[1].relatedEvents=e}c=[c[0].event,c[1].event];c[1].relatedEvents=c;this._fire("onProcessedDoubleTap",c[1]);b&&(this._fire("onDoubleTap",e[1]),this._fire("onDblClick",e[1]))},_mouseOver:function(c){this._fire("onMouseOver",this._processMouseEvent(c))},_mouseMove:function(c){this._dragging?this._fire("onMouseDrag",this._processMouseEvent(c)):this._fire("onMouseMove",this._processMouseEvent(c))},_mouseOut:function(c){this._fire("onMouseOut",this._processMouseEvent(c))},_mouseLeave:function(c){document.removeEventListener("keydown",
this._onKeyDown,!1);document.removeEventListener("keyup",this._onKeyUp,!1);this._fire("onMouseOut",this._processMouseEvent(c))},_mouseDown:function(c){this._downX=c.pageX;this._downY=c.pageY;this._fire("onMouseDown",this._processMouseEvent(c));0===c.button&&(this._dragging=!0,this._fire("onMouseDragStart",this._processMouseEvent(c)))},_mouseUp:function(c){this._dragging&&(this._dragging=!1,this._fire("onMouseDragEnd",this._processMouseEvent(c)));this._fire("onMouseUp",this._processMouseEvent(c))},
_mouseClick:function(c){Math.abs(c.pageX-this._downX)<=this.clickRadius&&Math.abs(c.pageY-this._downY)<=this.clickRadius&&this._fire("onClick",this._processMouseEvent(c))},_mouseWheel:function(c){var b=this.map;(b?b.isScrollWheelZoom||b.isScrollWheelPan:this.preventPageScroll)&&c.preventDefault();b=c.wheelDelta?c.wheelDelta/this.wheelDivisor:-c.detail/this.mozWheelDivisor;var e=Math.abs(b);e=e<=this.minWheelValue?this.minWheelValue:this.maxWheelValue;c.value=0>b?-e:e;this._fire("onMouseWheel",this._processMouseEvent(c))},
_mouseEnter:function(c){document.removeEventListener("keydown",this._onKeyDown,!1);document.removeEventListener("keyup",this._onKeyUp,!1);document.addEventListener("keydown",this._onKeyDown,!1);document.addEventListener("keyup",this._onKeyUp,!1);this._fire("onMouseEnter",this._processMouseEvent(c))},_onKeyDown:function(c){this._fire("onKeyDown",c)},_onKeyUp:function(c){this._fire("onKeyUp",c)},_fire:function(c,b){if(this[c])this[c](b);if(this.map&&this.map[c])this.map[c](b)},_fixEvent:function(c){var b=
{},e;for(e in c)b[e]=c[e];b.preventDefault=function(){c.preventDefault()};b.stopPropagation=function(){c.stopPropagation()};this.map&&(b.screenPoint=b.screenPoints[0],b.mapPoint=b.mapPoints[0]);return b},_processTouchEvent:function(c,b){var e=this.map,f=e&&e.position,k=0;if(f&&b)if(A.isArray(b)){var u;c.screenPoints=[];c.mapPoints=[];for(u=0;u<b.length;u++)if(b[u]){var v=new h(b[u].pageX-f.x,b[u].pageY-f.y);c.screenPoints.push(v);c.mapPoints.push(e.extent?e.toMap(v):new n)}else k++}else c.screenPoint=
new h(b.pageX-f.x,b.pageY-f.y),c.mapPoint=e.extent?e.toMap(c.screenPoint):new n;c.numPoints=b?A.isArray(b)?b.length-k:1:0;return c},_processMouseEvent:function(c){var b=this.map,e=b&&b.position;e&&(c.screenPoint=new h(c.pageX-e.x,c.pageY-e.y),c.mapPoint=b.extent?b.toMap(c.screenPoint):new n);return c},setImmediateTap:function(c){this._immediate=c},destroy:function(){var c=this.node;c.removeEventListener("MSPointerDown",this._pointerDown,!1);c.removeEventListener("MSPointerMove",this._pointerMove,
!1);c.removeEventListener("MSPointerUp",this._pointerUp,!1);c.removeEventListener("MSPointerCancel",this._pointerCancel,!1);this.map&&(c.removeEventListener("mouseover",this._mouseOver,!1),c.removeEventListener("mousemove",this._mouseMove,!1),c.removeEventListener("mouseout",this._mouseOut,!1),c.removeEventListener("mouseleave",this._mouseLeave,!1),c.removeEventListener("mousedown",this._mouseDown,!1),c.removeEventListener("mouseup",this._mouseUp,!1),c.removeEventListener("click",this._mouseClick,
!1),c.removeEventListener("mouseenter",this._mouseEnter,!1));clearTimeout(this._tapTimer);this.node=this.map=this._numTouches=this._touches=this._touchIds=this._taps=null}});m("extend-esri")&&(p.PointerEvents=G);return G})},"esri/tasks/GeometryService":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/Deferred dojo/has ../kernel ../request ../deferredUtils ./Task ../geometry/Extent ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/jsonUtils".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v){G=G(b,{declaredClass:"esri.tasks.GeometryService",_eventMap:{"areas-and-lengths-complete":["result"],"auto-complete-complete":["geometries"],"buffer-complete":["geometries"],"convex-hull-complete":["geometry"],"cut-complete":["result"],"densify-complete":["geometries"],"difference-complete":["geometries"],"distance-complete":["distance"],"generalize-complete":["geometries"],"intersect-complete":["geometries"],"label-points-complete":["geometries"],"lengths-complete":["result"],
"offset-complete":["geometries"],"project-complete":["geometries"],"relation-complete":["relations"],"reshape-complete":["geometry"],"simplify-complete":["geometries"],"trim-extend-complete":["geometries"],"union-complete":["geometry"]},constructor:function(g){g=A.hitch;this._projectHandler=g(this,this._projectHandler);this._simplifyHandler=g(this,this._simplifyHandler);this._bufferHandler=g(this,this._bufferHandler);this._areasAndLengthsHandler=g(this,this._areasAndLengthsHandler);this._lengthsHandler=
g(this,this._lengthsHandler);this._labelPointsHandler=g(this,this._labelPointsHandler);this._relationHandler=g(this,this._relationHandler);this._convexHullHandler=g(this,this._convexHullHandler);this._unionHandler=g(this,this._unionHandler);this._autoCompleteHandler=g(this,this._autoCompleteHandler);this._reshapeHandler=g(this,this._reshapeHandler);this._cutHandler=g(this,this._cutHandler);this._intersectHandler=g(this,this._intersectHandler);this._differenceHandler=g(this,this._differenceHandler);
this._trimExtendHandler=g(this,this._trimExtendHandler);this._densifyHandler=g(this,this._densifyHandler);this._generalizeHandler=g(this,this._densifyHandler);this._offsetHandler=g(this,this._offsetHandler);this._distanceHandler=g(this,this._distanceHandler);this._toGeoCoordinateHandler=g(this,this._toGeoCoordinateHandler);this._fromGeoCoordinateHandler=g(this,this._fromGeoCoordinateHandler);this.registerConnectEvents()},_encodeGeometries:function(g){var q=[],x,w=g.length;for(x=0;x<w;x++)q.push(g[x].toJson());
return{geometryType:v.getJsonType(g[0]),geometries:q}},_decodeGeometries:function(g,q,x){var w=v.getGeometryType(q);g=g.geometries;var B=[],z={spatialReference:x.toJson()},C=A.mixin;a.forEach(g,function(y,D){B[D]=new w(C(y,z))});return B},_toProjectGeometry:function(g){var q=g.spatialReference.toJson();return g instanceof e?new k({rings:[[[g.xmin,g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]]],spatialReference:q}):new f({paths:[[].concat(g.points)],spatialReference:q})},
_fromProjectedGeometry:function(g,q,x){return"esriGeometryEnvelope"===q?(g=g.rings[0],new e(g[0][0],g[0][1],g[2][0],g[2][1],x)):new u({points:g.paths[0],spatialReference:x.toJson()})},project:function(g,q,x,w){var B=A.mixin({},this._url.query,{f:"json"});if(g.geometries){w=x;x=q;q=g.outSR;var z=g.geometries[0];B=A.mixin(B,g.toJson())}else z=g[0],B=A.mixin(B,{outSR:q.wkid||m.toJson(q.toJson()),inSR:z.spatialReference.wkid||m.toJson(z.spatialReference.toJson()),geometries:m.toJson(this._encodeGeometries(g))});
var C=v.getJsonType(z),y=this._projectHandler,D=this._errorHandler,F=new p(c._dfdCanceller);F._pendingDfd=h({url:this._url.path+"/project",content:B,callbackParamName:"callback",load:function(H,E){y(H,E,C,q,x,w,F)},error:function(H){D(H,w,F)}});return F},_projectHandler:function(g,q,x,w,B,z,C){try{var y=this._decodeGeometries(g,x,w);this._successHandler([y],"onProjectComplete",B,C)}catch(D){this._errorHandler(D,z,C)}},onProjectComplete:function(){},simplify:function(g,q,x){var w=g[0].spatialReference,
B=A.mixin({},this._url.query,{f:"json",sr:w.wkid?w.wkid:m.toJson(w.toJson()),geometries:m.toJson(this._encodeGeometries(g))}),z=v.getJsonType(g[0]),C=this._simplifyHandler,y=this._errorHandler,D=new p(c._dfdCanceller);D._pendingDfd=h({url:this._url.path+"/simplify",content:B,callbackParamName:"callback",load:function(F,H){C(F,H,z,w,q,x,D)},error:function(F){y(F,x,D)}});return D},_simplifyHandler:function(g,q,x,w,B,z,C){try{var y=this._decodeGeometries(g,x,w);this._successHandler([y],"onSimplifyComplete",
B,C)}catch(D){this._errorHandler(D,z,C)}},onSimplifyComplete:function(){},convexHull:function(g,q,x){var w=g[0].spatialReference;g=A.mixin({},this._url.query,{f:"json",sr:m.toJson(w.toJson()),geometries:m.toJson(this._encodeGeometries(g))});var B=this._convexHullHandler,z=this._errorHandler,C=new p(c._dfdCanceller);C._pendingDfd=h({url:this._url.path+"/convexHull",content:g,callbackParamName:"callback",load:function(y,D){B(y,D,w,q,x,C)},error:function(y){z(y,x,C)}});return C},_convexHullHandler:function(g,
q,x,w,B,z){try{var C=v.fromJson(g.geometry).setSpatialReference(x);this._successHandler([C],"onConvexHullComplete",w,z)}catch(y){this._errorHandler(y,B,z)}},onConvexHullComplete:function(){},union:function(g,q,x){var w=g[0].spatialReference;g=A.mixin({},this._url.query,{f:"json",sr:m.toJson(w.toJson()),geometries:m.toJson(this._encodeGeometries(g))});var B=this._unionHandler,z=this._errorHandler,C=new p(c._dfdCanceller);C._pendingDfd=h({url:this._url.path+"/union",content:g,callbackParamName:"callback",
load:function(y,D){B(y,D,w,q,x,C)},error:function(y){z(y,x,C)}});return C},_unionHandler:function(g,q,x,w,B,z){try{var C=v.fromJson(g.geometry).setSpatialReference(x);this._successHandler([C],"onUnionComplete",w,z)}catch(y){this._errorHandler(y,B,z)}},onUnionComplete:function(){},autoComplete:function(g,q,x,w){var B=g[0].spatialReference;g=A.mixin({},this._url.query,{f:"json",sr:m.toJson(B.toJson()),polygons:m.toJson(this._encodeGeometries(g).geometries),polylines:m.toJson(this._encodeGeometries(q).geometries)});
var z=this._autoCompleteHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=h({url:this._url.path+"/autoComplete",content:g,callbackParamName:"callback",load:function(D,F){z(D,F,B,x,w,y)},error:function(D){C(D,w,y)}});return y},_autoCompleteHandler:function(g,q,x,w,B,z){try{var C=g.geometries;g=[];var y,D=C.length;for(y=0;y<D;y++)g[y]=new k({spatialReference:x,rings:C[y].rings});this._successHandler([g],"onAutoCompleteComplete",w,z)}catch(F){this._errorHandler(F,B,z)}},onAutoCompleteComplete:function(){},
reshape:function(g,q,x,w){var B=g.spatialReference;g=A.mixin({},this._url.query,{f:"json",sr:m.toJson(B.toJson()),target:m.toJson({geometryType:v.getJsonType(g),geometry:g.toJson()}),reshaper:m.toJson(q.toJson())});var z=this._reshapeHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=h({url:this._url.path+"/reshape",content:g,callbackParamName:"callback",load:function(D,F){z(D,F,B,x,w,y)},error:function(D){C(D,w,y)}});return y},_reshapeHandler:function(g,q,x,w,B,z){try{var C=v.fromJson(g.geometry).setSpatialReference(x);
this._successHandler([C],"onReshapeComplete",w,z)}catch(y){this._errorHandler(y,B,z)}},onReshapeComplete:function(){},cut:function(g,q,x,w){var B=g[0].spatialReference,z=a.map(g,function(F){return F.toJson()});g=A.mixin({},this._url.query,{f:"json",sr:m.toJson(B.toJson()),target:m.toJson({geometryType:v.getJsonType(g[0]),geometries:z}),cutter:m.toJson(q.toJson())});var C=this._cutHandler,y=this._errorHandler,D=new p(c._dfdCanceller);D._pendingDfd=h({url:this._url.path+"/cut",content:g,callbackParamName:"callback",
load:function(F,H){C(F,H,B,x,w,D)},error:function(F){y(F,w,D)}});return D},_cutHandler:function(g,q,x,w,B,z){try{var C=g.geometries,y={};y.cutIndexes=g.cutIndexes;y.geometries=[];a.forEach(C,function(D){y.geometries.push(v.fromJson(D).setSpatialReference(x))});this._successHandler([y],"onCutComplete",w,z)}catch(D){this._errorHandler(D,B,z)}},onCutComplete:function(){},intersect:function(g,q,x,w){var B=g[0].spatialReference;g=A.mixin({},this._url.query,{f:"json",sr:m.toJson(B.toJson()),geometries:m.toJson(this._encodeGeometries(g)),
geometry:m.toJson({geometryType:v.getJsonType(q),geometry:q.toJson()})});var z=this._intersectHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=h({url:this._url.path+"/intersect",content:g,callbackParamName:"callback",load:function(D,F){z(D,F,B,x,w,y)},error:function(D){C(D,w,y)}});return y},_intersectHandler:function(g,q,x,w,B,z){try{var C=[];a.forEach(g.geometries,function(y){C.push(v.fromJson(y).setSpatialReference(x))});this._successHandler([C],"onIntersectComplete",w,z)}catch(y){this._errorHandler(y,
B,z)}},onIntersectComplete:function(){},difference:function(g,q,x,w){var B=g[0].spatialReference;g=A.mixin({},this._url.query,{f:"json",sr:m.toJson(B.toJson()),geometries:m.toJson(this._encodeGeometries(g)),geometry:m.toJson({geometryType:v.getJsonType(q),geometry:q.toJson()})});var z=this._differenceHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=h({url:this._url.path+"/difference",content:g,callbackParamName:"callback",load:function(D,F){z(D,F,B,x,w,y)},error:function(D){C(D,
w,y)}});return y},_differenceHandler:function(g,q,x,w,B,z){try{var C=[];a.forEach(g.geometries,function(y){C.push(v.fromJson(y).setSpatialReference(x))});this._successHandler([C],"onDifferenceComplete",w,z)}catch(y){this._errorHandler(y,B,z)}},onDifferenceComplete:function(){},buffer:function(g,q,x){var w=A.mixin({},this._url.query,{f:"json"},g.toJson()),B=g.outSpatialReference||g.geometries[0].spatialReference,z=this._bufferHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=h({url:this._url.path+
"/buffer",content:w,callbackParamName:"callback",load:function(D,F){z(D,F,B,q,x,y)},error:function(D){C(D,x,y)}});return y},_bufferHandler:function(g,q,x,w,B,z){try{var C=g.geometries;g=[];var y,D=C.length;for(y=0;y<D;y++)g[y]=new k({spatialReference:x,rings:C[y].rings});this._successHandler([g],"onBufferComplete",w,z)}catch(F){this._errorHandler(F,B,z)}},onBufferComplete:function(){},areasAndLengths:function(g,q,x){g=A.mixin({},this._url.query,{f:"json"},g.toJson());var w=this._areasAndLengthsHandler,
B=this._errorHandler,z=new p(c._dfdCanceller);z._pendingDfd=h({url:this._url.path+"/areasAndLengths",content:g,callbackParamName:"callback",load:function(C,y){w(C,y,q,x,z)},error:function(C){B(C,x,z)}});return z},_areasAndLengthsHandler:function(g,q,x,w,B){try{this._successHandler([g],"onAreasAndLengthsComplete",x,B)}catch(z){this._errorHandler(z,w,B)}},onAreasAndLengthsComplete:function(){},lengths:function(g,q,x){g=A.mixin({},this._url.query,{f:"json"},g.toJson());var w=this._lengthsHandler,B=this._errorHandler,
z=new p(c._dfdCanceller);z._pendingDfd=h({url:this._url.path+"/lengths",content:g,callbackParamName:"callback",load:function(C,y){w(C,y,q,x,z)},error:function(C){B(C,x,z)}});return z},_lengthsHandler:function(g,q,x,w,B){try{this._successHandler([g],"onLengthsComplete",x,B)}catch(z){this._errorHandler(z,w,B)}},onLengthsComplete:function(){},labelPoints:function(g,q,x){var w=a.map(g,function(D){return D.toJson()}),B=g[0].spatialReference;w=A.mixin({},this._url.query,{f:"json",sr:B.wkid?B.wkid:m.toJson(B.toJson()),
polygons:m.toJson(w)});var z=this._labelPointsHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=h({url:this._url.path+"/labelPoints",content:w,callbackParamName:"callback",load:function(D,F){z(D,F,g,B,q,x,y)},error:function(D){C(D,x,y)}});return y},_labelPointsHandler:function(g,q,x,w,B,z,C){try{var y=[];a.forEach(g.labelPoints,function(D){y.push(v.fromJson(D).setSpatialReference(w))});this._successHandler([y],"onLabelPointsComplete",B,C)}catch(D){this._errorHandler(D,z,C)}},onLabelPointsComplete:function(){},
relation:function(g,q,x){g=A.mixin({},this._url.query,{f:"json"},g.toJson());var w=this._relationHandler,B=this._errorHandler,z=new p(c._dfdCanceller);z._pendingDfd=h({url:this._url.path+"/relation",content:g,callbackParamName:"callback",load:function(C,y){w(C,y,q,x,z)},error:function(C){B(C,x,z)}});return z},_relationHandler:function(g,q,x,w,B){try{this._successHandler([g.relations],"onRelationComplete",x,B)}catch(z){this._errorHandler(z,w,B)}},onRelationComplete:function(){},trimExtend:function(g,
q,x){var w=A.mixin({},this._url.query,{f:"json"},g.toJson()),B=g.sr,z=this._trimExtendHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=h({url:this._url.path+"/trimExtend",content:w,callbackParamName:"callback",load:function(D,F){z(D,F,B,q,x,y)},error:function(D){C(D,x,y)}});return y},_trimExtendHandler:function(g,q,x,w,B,z){try{var C=g.geometries;g=[];var y,D=C.length;for(y=0;y<D;y++)g[y]=new f({spatialReference:x,paths:C[y].paths});this._successHandler([g],"onTrimExtendComplete",
w,z)}catch(F){this._errorHandler(F,B,z)}},onTrimExtendComplete:function(){},densify:function(g,q,x){var w=A.mixin({},this._url.query,{f:"json"},g.toJson()),B=g.geometries[0].spatialReference,z=this._densifyHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=h({url:this._url.path+"/densify",content:w,callbackParamName:"callback",load:function(D,F){z(D,F,B,q,x,y)},error:function(D){C(D,x,y)}});return y},_densifyHandler:function(g,q,x,w,B,z){try{var C=[];a.forEach(g.geometries,function(y){C.push(v.fromJson(y).setSpatialReference(x))});
this._successHandler([C],"onDensifyComplete",w,z)}catch(y){this._errorHandler(y,B,z)}},onDensifyComplete:function(){},generalize:function(g,q,x){var w=A.mixin({},this._url.query,{f:"json"},g.toJson()),B=g.geometries[0].spatialReference,z=this._generalizeHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=h({url:this._url.path+"/generalize",content:w,callbackParamName:"callback",load:function(D,F){z(D,F,B,q,x,y)},error:function(D){C(D,x,y)}});return y},_generalizeHandler:function(g,
q,x,w,B,z){try{var C=[];a.forEach(g.geometries,function(y){C.push(v.fromJson(y).setSpatialReference(x))});this._successHandler([C],"onGeneralizeComplete",w,z)}catch(y){this._errorHandler(y,B,z)}},onGeneralizeComplete:function(){},offset:function(g,q,x){var w=A.mixin({},this._url.query,{f:"json"},g.toJson()),B=g.geometries[0].spatialReference,z=this._offsetHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=h({url:this._url.path+"/offset",content:w,callbackParamName:"callback",load:function(D,
F){z(D,F,B,q,x,y)},error:function(D){C(D,x,y)}});return y},_offsetHandler:function(g,q,x,w,B,z){try{var C=[];a.forEach(g.geometries,function(y){C.push(v.fromJson(y).setSpatialReference(x))});this._successHandler([C],"onOffsetComplete",w,z)}catch(y){this._errorHandler(y,B,z)}},onOffsetComplete:function(){},distance:function(g,q,x){var w=A.mixin({},this._url.query,{f:"json"},g.toJson()),B=g.geometry1.spatialReference,z=this._distanceHandler,C=this._errorHandler,y=new p(c._dfdCanceller);y._pendingDfd=
h({url:this._url.path+"/distance",content:w,callbackParamName:"callback",load:function(D,F){z(D,F,B,q,x,y)},error:function(D){C(D,x,y)}});return y},_distanceHandler:function(g,q,x,w,B,z){try{g=g&&g.distance,this._successHandler([g],"onDistanceComplete",w,z)}catch(C){this._errorHandler(C,B,z)}},onDistanceComplete:function(){},toGeoCoordinateString:function(g,q,x){var w={};A.isObject(g.sr)?w.sr=g.sr.wkid||m.toJson(g.sr.toJson()):w.sr=g.sr;w.coordinates=m.toJson(g.coordinates);w.conversionType=g.conversionType||
"MGRS";w.conversionMode=g.conversionMode;w.numOfDigits=g.numOfDigits;w.rounding=g.rounding;w.addSpaces=g.addSpaces;g=A.mixin({},this._url.query,{f:"json"},w);var B=this._toGeoCoordinateHandler,z=this._errorHandler,C=new p(c._dfdCanceller);C._pendingDfd=h({url:this._url.path+"/toGeoCoordinateString",content:g,callbackParamName:"callback",load:function(y,D){B(y,D,q,x,C)},error:function(y){z(y,x,C)}});return C},_toGeoCoordinateHandler:function(g,q,x,w,B){try{this._successHandler([g.strings],"onToGeoCoordinateStringComplete",
x,B)}catch(z){this._errorHandler(z,w,B)}},onToGeoCoordinateStringComplete:function(){},fromGeoCoordinateString:function(g,q,x){var w={};A.isObject(g.sr)?w.sr=g.sr.wkid||m.toJson(g.sr.toJson()):w.sr=g.sr;w.strings=m.toJson(g.strings);w.conversionType=g.conversionType||"MGRS";w.conversionMode=g.conversionMode;g=A.mixin({},this._url.query,{f:"json"},w);var B=this._fromGeoCoordinateHandler,z=this._errorHandler,C=new p(c._dfdCanceller);C._pendingDfd=h({url:this._url.path+"/fromGeoCoordinateString",content:g,
callbackParamName:"callback",load:function(y,D){B(y,D,q,x,C)},error:function(y){z(y,x,C)}});return C},_fromGeoCoordinateHandler:function(g,q,x,w,B){try{this._successHandler([g.coordinates],"onToGeoCoordinateStringComplete",x,B)}catch(z){this._errorHandler(z,w,B)}},onFromGeoCoordinateStringComplete:function(){}});A.mixin(G,{UNIT_METER:9001,UNIT_GERMAN_METER:9031,UNIT_FOOT:9002,UNIT_SURVEY_FOOT:9003,UNIT_CLARKE_FOOT:9005,UNIT_FATHOM:9014,UNIT_NAUTICAL_MILE:9030,UNIT_SURVEY_CHAIN:9033,UNIT_SURVEY_LINK:9034,
UNIT_SURVEY_MILE:9035,UNIT_KILOMETER:9036,UNIT_CLARKE_YARD:9037,UNIT_CLARKE_CHAIN:9038,UNIT_CLARKE_LINK:9039,UNIT_SEARS_YARD:9040,UNIT_SEARS_FOOT:9041,UNIT_SEARS_CHAIN:9042,UNIT_SEARS_LINK:9043,UNIT_BENOIT_1895A_YARD:9050,UNIT_BENOIT_1895A_FOOT:9051,UNIT_BENOIT_1895A_CHAIN:9052,UNIT_BENOIT_1895A_LINK:9053,UNIT_BENOIT_1895B_YARD:9060,UNIT_BENOIT_1895B_FOOT:9061,UNIT_BENOIT_1895B_CHAIN:9062,UNIT_BENOIT_1895B_LINK:9063,UNIT_INDIAN_FOOT:9080,UNIT_INDIAN_1937_FOOT:9081,UNIT_INDIAN_1962_FOOT:9082,UNIT_INDIAN_1975_FOOT:9083,
UNIT_INDIAN_YARD:9084,UNIT_INDIAN_1937_YARD:9085,UNIT_INDIAN_1962_YARD:9086,UNIT_INDIAN_1975_YARD:9087,UNIT_FOOT_1865:9070,UNIT_RADIAN:9101,UNIT_DEGREE:9102,UNIT_ARCMINUTE:9103,UNIT_ARCSECOND:9104,UNIT_GRAD:9105,UNIT_GON:9106,UNIT_MICRORADIAN:9109,UNIT_ARCMINUTE_CENTESIMAL:9112,UNIT_ARCSECOND_CENTESIMAL:9113,UNIT_MIL6400:9114,UNIT_BRITISH_1936_FOOT:9095,UNIT_GOLDCOAST_FOOT:9094,UNIT_INTERNATIONAL_CHAIN:109003,UNIT_INTERNATIONAL_LINK:109004,UNIT_INTERNATIONAL_YARD:109001,UNIT_STATUTE_MILE:9093,UNIT_SURVEY_YARD:109002,
UNIT_50KILOMETER_LENGTH:109030,UNIT_150KILOMETER_LENGTH:109031,UNIT_DECIMETER:109005,UNIT_CENTIMETER:109006,UNIT_MILLIMETER:109007,UNIT_INTERNATIONAL_INCH:109008,UNIT_US_SURVEY_INCH:109009,UNIT_INTERNATIONAL_ROD:109010,UNIT_US_SURVEY_ROD:109011,UNIT_US_NAUTICAL_MILE:109012,UNIT_UK_NAUTICAL_MILE:109013,UNIT_SQUARE_INCHES:"esriSquareInches",UNIT_SQUARE_FEET:"esriSquareFeet",UNIT_SQUARE_YARDS:"esriSquareYards",UNIT_ACRES:"esriAcres",UNIT_SQUARE_MILES:"esriSquareMiles",UNIT_SQUARE_MILLIMETERS:"esriSquareMillimeters",
UNIT_SQUARE_CENTIMETERS:"esriSquareCentimeters",UNIT_SQUARE_DECIMETERS:"esriSquareDecimeters",UNIT_SQUARE_METERS:"esriSquareMeters",UNIT_ARES:"esriAres",UNIT_HECTARES:"esriHectares",UNIT_SQUARE_KILOMETERS:"esriSquareKilometers"});t("extend-esri")&&A.setObject("tasks.GeometryService",G,n);return G})},"arcgis3d/layers/TerrainRendererTopDown":function(){define("dojo/_base/declare engine/Stage engine/lib/Geometry engine/lib/GeometryUtil engine/lib/gl-matrix engine/lib/Layer engine/lib/Object3D engine/lib/Texture engine/lib/Util engine/lib/PerformanceTimer engine/materials/Material engine/materials/TerrainMaterial engine/materials/MeshWireframeMaterial arcgis3d/layers/globe/GlobeAtmosphere arcgis3d/layers/globe/GlobeTileHelper arcgis3d/layers/globe/LercReader arcgis3d/layers/Canvas3DGraphicsRenderer arcgis3d/layers/GraphicsLayer arcgis3d/utils/ResourceController".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w){var B=A.ModelContentType,z=12756274*Math.PI;mat4d.identity();var C={wrapClamp:!0,mipmap:!0},y=vec3d.createFrom(0,1,0),D=vec3d.create();vec3d.createFrom(0,1,0);var F=vec3d.create(),H=function(M,N){return 2*Math.atan(Math.exp(-Math.PI+2*Math.PI*N/(1<<M)))-.5*Math.PI},E=function(M,N){return-Math.PI+2*Math.PI*N/(1<<M)},I=function(M,N,T){return[-.5*z+z*T/(1<<M),-.5*z+z*N/(1<<M)]},J=function(M,N,T){return M+"/"+((1<<M)-1-N)+"/"+T},K=Array(8);for(A=0;8>A;A++)K[A]=
vec3d.create();var L=function(M,N){this.lij=M;this.id=N},O=function(M,N){this.lij=M;this.id=N;this.texture=this.material=this.geometry=null;this.textureRefCount=0;this.elevationTile=this.elevationSampler=null;this.minMaxElevation=[0,5E3];this.extent=[0,0,0,0]};O.prototype.shouldSubdivide=function(M,N){var T=this.lij[0];if(1>T)return!0;if(T>=M[4])return!1;vec3.subtract(this._center0,N,D);var V=this.edgeLen/(M[0]*vec3d.length(D)*2);return V<M[1]||10<T&&(vec3.scale(this._tileUp,vec3.dot(this._tileUp,
D),F),vec3.subtract(F,D),vec3.length2(F)>this.radius*this.radius&&(vec3.scale(F,this.radius/vec3.length(F)),vec3.add(F,this._center0),vec3.subtract(N,F,F),vec3.dot(F,this._tileUp)/vec3.length(F)*V<.05*M[1]))?!1:!0};O.prototype.setElevationTile=function(M){this.minMaxElevation=M.minMaxElevation;var N=this.minMaxElevation[1]-this.minMaxElevation[0];vec3.scale(this._tileUp,.5*N,F);vec3.add(this._center0,F,this.center);var T=this.edgeLen*Math.SQRT1_2;this.radius=Math.sqrt(T*T+N*N);this.elevationTile=
M};O.prototype.loadLERC=function(M){M=new g(M);var N=M.getWidth();this.minMaxElevation=M.getMinMaxElevation();var T=.99999999*(N-1),V=M.uncompressDepthValues();M=M=void 0;var ea=(N-1)/(this.extent[2]-this.extent[0]),P=(N-1)/(this.extent[3]-this.extent[1]),ba=this.extent[0],la=this.extent[3];return this.elevationSampler=function(Q,Y){Y=clamp(P*(la-Y),0,T);Q=clamp(ea*(Q-ba),0,T);var ja=Math.floor(Y),pa=Math.floor(Q);Y-=ja;Q-=pa;var ka=lerp(V[ja*N+pa],V[ja*N+pa+1],Q);Q=lerp(V[(ja+1)*N+pa],V[(ja+1)*N+
pa+1],Q);return lerp(ka,Q,Y)}.bind(this)};var U=function(M,N){O.call(this,M,N);var T=M[0],V=M[1],ea=M[2];N=this.extent[0]=E(T,ea);M=this.extent[1]=H(T,V);ea=this.extent[2]=E(T,ea+1);T=this.extent[3]=H(T,V+1);V=lerp(M,T,.5);N=lerp(N,ea,.5);this.edgeLen=(T-M)*EARTH_RADIUS;this._center0=vec3d.create();latLon2position(V,N,this._center0,EARTH_RADIUS);this._tileUp=vec3d.create(this._center0);vec3.normalize(this._tileUp);this.center=vec3d.create(this._center0);this.radius=this.edgeLen*Math.SQRT1_2};U.prototype=
new O;U.prototype.constructor=U;U.prototype.isVisible=function(M,N){var T=this.lij[0],V=this._center0;if(9<T){for(var ea=this.extent,P=0;2>P;P++){var ba=this.minMaxElevation[P];latLon2position(ea[1],ea[0],K[P<<2],EARTH_RADIUS+ba);latLon2position(ea[3],ea[0],K[(P<<2)+1],EARTH_RADIUS+ba);latLon2position(ea[3],ea[2],K[(P<<2)+2],EARTH_RADIUS+ba);latLon2position(ea[1],ea[2],K[(P<<2)+3],EARTH_RADIUS+ba)}for(P=0;6>P;P++){for(ea=0;8>ea&&!(0>M[P][0]*K[ea][0]+M[P][1]*K[ea][1]+M[P][2]*K[ea][2]+M[P][3]);ea++);
if(8===ea)return!1}}else if(P=this.radius,M[0][0]*V[0]+M[0][1]*V[1]+M[0][2]*V[2]+M[0][3]>P||M[1][0]*V[0]+M[1][1]*V[1]+M[1][2]*V[2]+M[1][3]>P||M[2][0]*V[0]+M[2][1]*V[1]+M[2][2]*V[2]+M[2][3]>P||M[3][0]*V[0]+M[3][1]*V[1]+M[3][2]*V[2]+M[3][3]>P||M[4][0]*V[0]+M[4][1]*V[1]+M[4][2]*V[2]+M[4][3]>P||M[5][0]*V[0]+M[5][1]*V[1]+M[5][2]*V[2]+M[5][3]>P)return!1;return 3<T&&(vec3.subtract(V,N,D),M=Math.acos(-vec3d.dot(V,D)/vec3.length(D)/vec3.length(V)),M-=this.edgeLen/EARTH_RADIUS*.5,M>.5*Math.PI)?!1:!0};var S=
function(M,N){O.call(this,M,N);N=M[0];var T=M[1];M=M[2];v.geoPosToPlanarPos(H(N,T),E(N,M),F);this.extent[0]=F[0];this.extent[1]=F[1];v.geoPosToPlanarPos(H(N,T+1),E(N,M+1),F);this.extent[2]=F[0];this.extent[3]=F[1];this.edgeLen=this.extent[2]-this.extent[0];this._center0=vec3d.createFrom(lerp(this.extent[0],this.extent[2],.5),0,-lerp(this.extent[1],this.extent[3],.5));this._tileUp=y;this.center=vec3d.create(this._center0);this.radius=this.edgeLen*Math.SQRT1_2};S.prototype=new O;S.prototype.constructor=
S;S.prototype.isVisible=function(M){var N=this.extent[0],T=this.minMaxElevation[0],V=-this.extent[3],ea=this.extent[2],P=this.minMaxElevation[1],ba=-this.extent[1];return 0<M[0][0]*(0<M[0][0]?N:ea)+M[0][1]*(0<M[0][1]?T:P)+M[0][2]*(0<M[0][2]?V:ba)+M[0][3]||0<M[1][0]*(0<M[1][0]?N:ea)+M[1][1]*(0<M[1][1]?T:P)+M[1][2]*(0<M[1][2]?V:ba)+M[1][3]||0<M[2][0]*(0<M[2][0]?N:ea)+M[2][1]*(0<M[2][1]?T:P)+M[2][2]*(0<M[2][2]?V:ba)+M[2][3]||0<M[3][0]*(0<M[3][0]?N:ea)+M[3][1]*(0<M[3][1]?T:P)+M[3][2]*(0<M[3][2]?V:ba)+
M[3][3]||0<M[4][0]*(0<M[4][0]?N:ea)+M[4][1]*(0<M[4][1]?T:P)+M[4][2]*(0<M[4][2]?V:ba)+M[4][3]||0<M[5][0]*(0<M[5][0]?N:ea)+M[5][1]*(0<M[5][1]?T:P)+M[5][2]*(0<M[5][2]?V:ba)+M[5][3]?!1:!0};return G(null,{constructor:function(M){this.type="canvas-3d";this.layer=M;this.viewport=void 0;this.updating=!1;this.visible=!0;this.opacity=1;this.loaded=!1;this._streamDataSupplier=this._stage=void 0;this._tiles={};this._overlayTiles={};this._curFrustumPlanes=Array(6);for(M=0;6>M;++M)this._curFrustumPlanes[M]=vec4d.create();
this._cameraListener={currentViewChanged:this._update.bind(this)};M=new Uint8Array(256);this._transparentTexture=new Texture(M,"transparent",{width:8,height:8,mipmap:!1});this._update=this._update.bind(this);this._cameraListener.currentViewChanged=this._update;this._connectedLayers={};this._elevationEnabled=this._overlayDirty=!1},setViewport:function(M){this.viewport=M;this._stage=M._stage;this._streamDataSupplier=M.resourceController.registerClient(this.layer,w.ClientType.TERRAIN);this.imageryURL=
this.layer.url;this.elevationURL=this.layer.elevationURL;this._elevationEnabled=!!this.elevationURL;"planar"===this.layer.globeMode?(this.GlobeTile=S,this._createTileGeometry=this._createTileGeometryPlanar):(this.GlobeTile=U,this._createTileGeometry=this._createTileGeometrySpherical);this._createInitialStageResources();this._stage.addCameraListener(this._cameraListener);this._stage.add(B.TEXTURE,this._transparentTexture);this._mapLayerAddedSignal=M.map.on("layerAdded",function(T){this._registerLayer(T.layer)}.bind(this));
this._mapLayerRemovedSignal=M.map.on("layerRemoved",function(T){this._unregisterLayer(T.layer)}.bind(this));for(var N=0;N<M.map.graphicsLayerIds;N++)this._registerLayer(M.map.getLayer(M.map.graphicsLayerIds[N]));this._overlayDirty=!0;this.setVisibility(this.layer.visible)},unsetViewport:function(M){this._removeAllResources();this._stage=this.viewport=null;M.resourceController.deregisterClient(this.layer);this._streamDataSupplier=null;this._stage.removeCameraListener(this._cameraListener);this._mapLayerAddedSignal.remove();
this._mapLayerRemovedSignal.remove();for(var N in this._connectedLayers)this._unregisterLayer(this._connectedLayers[N].layer);this._overlayDirty=!1;this.destroy()},then:function(M){},otherwise:function(M){},destroy:function(){this.layer=null;console.warn("destroy not yet implemented")},getEngineLayer:function(){return this._engineLayer},setVisibility:function(M){if(this._engineLayer&&this._stage){var N=this._stage.getViewContent(),T=this.layer.id;M&&0<=N.indexOf(T)||!M&&-1==N.indexOf(T)||(M?N.push(T):
N.splice(N.indexOf(T),1),this._stage.setViewContent(N))}},setElevationEnabled:function(M){this._elevationEnabled!=M&&(this._elevationEnabled=M,this._removeAllTiles(),M=new this.GlobeTile([0,0,0],"0/0/0"),M.textureRefCount++,this._tiles["0/0/0"]=M,this._update())},setUpdatesDisabled:function(M){try{this._stage.removeCameraListener(this._cameraListener)}catch(N){}M||this._stage.addCameraListener(this._cameraListener)},setImageryUrl:function(M){this._streamDataSupplier.request(M+"/0/0/0","image").then(function(){this.imageryURL=
M;this._removeAllTiles();var N=new this.GlobeTile([0,0,0],"0/0/0");N.textureRefCount++;this._tiles["0/0/0"]=N;this._update()},this._loadError,this)},getStats:function(){},needsLongUpdate:function(M){return M||this._overlayDirty},performLongUpdate:function(){this._updateOverlay()},_createInitialStageResources:function(){var M=this._stage;if("planar"===this.layer.globeMode){var N=[];v.geoPosToPlanarPos(-89,-179,F);N.push([F[0],-1E4,-F[1]]);v.geoPosToPlanarPos(89,179,F);N.push([F[0],1E4,-F[1]])}else N=
1.1*EARTH_RADIUS,N=[[-N,-N,-N],[N,N,N]];this._engineLayer=N=new Layer(this.layer.name,{state:"GLOBE",interaction:"LOCKED",fullExtent:N,spatialAcceleration:"none"},this.layer.name);M.add(B.LAYER,N);this._streamDataSupplier.request(this.imageryURL+"/0/0/0","image",{notQueueable:!0,metadata:"0/0/0"}).then(function(){this._globeReady=!0;this._textureLoadedCallback.apply(this,arguments)},this._loadError,this);this._elevationEnabled&&this._streamDataSupplier.request(this.elevationURL+"/0/0_0","binary",
{metadata:[0,0,0]}).then(this._elevationLoadedCallback,this._loadError,this);this._terrainObject=new Object3D(this.layer.name,[],[],[],!0,{alignElevation:!1},this.layer.name);N.addObject(this._terrainObject);M.add(B.OBJECT,this._terrainObject);M=new this.GlobeTile([0,0,0],"0/0/0");M.textureRefCount++;this._tiles["0/0/0"]=M;this._globeReady=!1},_removeAllResources:function(){this._removeAllTiles();var M=this._engineLayer;assert(1===M.getObjects().length);M.removeObject(this._terrainObject);this._stage.remove(B.OBJECT,
"Terrain");this._stage.remove(B.LAYER,"Terrain");this._engineLayer=null},_removeAllTiles:function(){for(var M in this._tiles){var N=this._tiles[M];N.geometry&&(this._terrainObject.removeGeometry(this._terrainObject.getFirstGeometryIndex(N.geometry)),this._stage.remove(B.GEOMETRY,N.geometry.getId()));N.material&&this._stage.remove(B.MATERIAL,N.material.getId());N.texture&&this._stage.remove(B.TEXTURE,N.texture.getId());N.textureURL&&(this._streamDataSupplier.isRequested(N.textureURL)?this._streamDataSupplier.cancelRequest(N.textureURL):
this._streamDataSupplier.unuse(N.textureURL));N.geometry=null;N.material=null;N.texture=null;N.elevationSampler=null}this._tiles={}},_update:function(){if(this._stage&&this._engineLayer){var M=this._stage.getViewParams({eye:!0,viewMatrix:!0,projectionMatrix:!0,fovX:!0,viewport:!0},!1),N=M.viewport,T=N[2]-N[0];N=N[3]-N[1];var V=Math.tan(.5*M.fovX),ea=Math.tan(.5*fovx2fovy(M.fovX,T,N));this._curSubdivLimits=[V,256/T*1.2,ea,256/N*1.2,this.layer._maxLODLevel];matrix2frustumPlanes(M.viewMatrix,M.projectionMatrix,
this._curFrustumPlanes);this._curEyePos=M.eye;this._globeReady&&this._insertTileRec(0,0,0,this._curSubdivLimits,this._curFrustumPlanes,M.eye)}},_cameraListener:{currentViewChanged:this._update},_textureURL:function(M){return this.imageryURL+"/"+M},_elevationURL:function(M){return this.elevationURL+"/"+M.replace(/\/([0-9]*)$/,"_$1")},_insertTileRec:function(M,N,T,V,ea,P,ba){var la=J(M,N,T),Q=this._tiles[la],Y=!1;Q||(Q=new this.GlobeTile([M,N,T],la),ba&&Q.setElevationTile(ba),Y=!0);if(!Q.isVisible(ea,
P))return Y||this._purgeTileRec(M,N,T),!1;this._tiles[la]=Q;ba=this._textureURL(la);if((Q.texture||this._streamDataSupplier.has(ba))&&Q.shouldSubdivide(V,P)){if(this._subdivideTile(Q,M,N,T,V,ea,P))return this._streamDataSupplier.use(ba),Q.textureURL=ba,!0;Y||this._purgeTileRec(M,N,T);return!1}this._purgeSubtreeRec(M,N,T);return Q.geometry?!0:this._addTileToView(Q)},_subdivideTile:function(M,N,T,V,ea,P,ba){N++;T<<=1;V<<=1;var la=0|this._insertTileRec(N,T,V,ea,P,ba,M);la|=this._insertTileRec(N,T+1,
V,ea,P,ba,M);la|=this._insertTileRec(N,T,V+1,ea,P,ba,M);la|=this._insertTileRec(N,T+1,V+1,ea,P,ba,M);this._tiles[M.id].geometry&&this._removeTileFromView(M);return la},_purgeSubtreeRec:function(M,N,T){M++;N<<=1;T<<=1;this._purgeTileRec(M,N,T);this._purgeTileRec(M,N+1,T);this._purgeTileRec(M,N,T+1);this._purgeTileRec(M,N+1,T+1)},_purgeTileRec:function(M,N,T){var V=J(M,N,T),ea=this._tiles[V];ea&&(this._purgeSubtreeRec(M,N,T),1>M||(ea.geometry&&this._removeTileFromView(ea),ea.elevationSampler=void 0,
assert(!ea.texture),ea.textureURL&&this._streamDataSupplier.unuse(ea.textureURL),ea.elevationTile=void 0,delete this._tiles[V]))},_addTileToView:function(M){var N=void 0,T=void 0;this._elevationEnabled&&(N=this._findOrRequestElevationTile(M));if(N){M.setElevationTile(N);if(!M.isVisible(this._curFrustumPlanes,this._curEyePos))return!1;T=N.elevationSampler}N=this._findOrRequestTileTexture(M);assert(!M.material);M.material=new f(N,M.id);this._stage.add(B.MATERIAL,M.material);assert(!M.geometry);N=M.center;
M.geometry=this._createTileGeometry(M,N,T,M.id);this._stage.add(B.GEOMETRY,M.geometry);T=mat4d.identity();T[12]=N[0];T[13]=N[1];T[14]=N[2];this._terrainObject.addGeometry(M.geometry,[M.material],T);return!0},_removeTileFromView:function(M){assert(M.geometry);this._terrainObject.removeGeometry(this._terrainObject.getFirstGeometryIndex(M.geometry));this._stage.remove(B.GEOMETRY,M.geometry.getId());M.geometry=null;assert(M.material);this._stage.remove(B.MATERIAL,M.material.getId());M.material=null;M.textureFromTile?
(this._streamDataSupplier.cancelRequest(M.textureURL),this._decTextureRefCount(M.textureFromTile)):1>M.textureRefCount&&M.texture&&(this._stage.remove(B.TEXTURE,M.texture.getId()),M.texture=null)},_findOrRequestTileTexture:function(M){var N=M.lij,T={};if(M.texture)T.textureId=M.texture.getId();else if(M.textureURL=this._textureURL(M.id),this._streamDataSupplier.has(M.textureURL)){var V=this._streamDataSupplier.use(M.textureURL);M.texture=new Texture(V,M.id,C);this._stage.add(B.TEXTURE,M.texture);
T.textureId=M.texture.getId()}else{this._streamDataSupplier.isRequested(M.textureURL)||this._streamDataSupplier.request(M.textureURL,"image",{metadata:M.id}).then(this._textureLoadedCallback,this._loadError,this);var ea=J(N[0]-1,N[1]>>1,N[2]>>1),P=this._tiles[ea];P.texture||(P.textureURL=this._textureURL(ea),V=this._streamDataSupplier.use(P.textureURL),assert(V),P.texture=new Texture(V,ea,C),this._stage.add(B.TEXTURE,P.texture));T.textureId=P.texture.getId();T.texOffset=[.5*(N[2]-(P.lij[2]<<1)),.5*
(N[1]-(P.lij[1]<<1))];T.texScale=.5;P.textureRefCount++;M.textureFromTile=P}T.overlayTexId=this._transparentTexture.getId();T.overlayTexScale=1;T.overlayTexOffset=[0,0];var ba;for(ba in this._overlayTiles){M=this._overlayTiles[ba];if(!Q){var la=N[0]-this._overlayTiles[ba].lij[0];if(0>la)break;var Q=[N[1]>>la,N[2]>>la]}M.texture&&M.lij[1]==Q[0]&&M.lij[2]==Q[1]&&(T.overlayTexScale=1/(1<<la),T.overlayTexOffset[0]=T.overlayTexScale*(N[2]-(M.lij[2]<<la)),T.overlayTexOffset[1]=T.overlayTexScale*(N[1]-(M.lij[1]<<
la)),T.overlayTexId=M.texture.getId())}return T},_findOrRequestElevationTile:function(M){var N=M.lij[0]-4,T=void 0;if(0<=N){var V=M.lij[1]>>4;M=M.lij[2]>>4;var ea=J(N,V,M),P=this._tiles[ea];if(!P.elevationSampler){var ba=this._elevationURL(ea);if(this._streamDataSupplier.has(ba))T=this._streamDataSupplier.use(ba);else{P=void 0;for(var la=ba,Q=[N,V,M];0<N&&!P;)N--,V>>=1,M>>=1,ea=J(N,V,M),P=this._tiles[ea],P.elevationSampler||(ba=this._elevationURL(ea),this._streamDataSupplier.has(ba)?T=this._streamDataSupplier.use(ba):
P=void 0),P?this._streamDataSupplier.isRequested(la)||this._streamDataSupplier.request(la,"binary",{metadata:Q}).then(this._elevationLoadedCallback,this._loadError,this):(la=ba,Q[0]=N,Q[1]=V,Q[2]=M)}}}if(P)return T&&P.loadLERC(T),P},_createTileGeometrySpherical:function(M,N,T,V){M=v.createSphericalGlobeTile(T?16:6>M.lij[0]?2<<6-M.lij[0]:2,M.extent,T,N);return new Geometry(M,V)},_createTileGeometryPlanar:function(M,N,T,V){M=v.createPlanarGlobeTile(T?16:2,M.extent,T,N);return new Geometry(M,V)},_textureLoadedCallback:function(M,
N,T,V){(T=this._tiles[V])?(T.textureFromTile?(this._decTextureRefCount(T.textureFromTile),T.textureFromTile=null):"0/0/0"===T.id&&(this._globeReady=!0),assert(!T.texture),M=new Texture(N,V,C),this._stage.add(B.TEXTURE,M),T.texture=M,T.shouldSubdivide(this._curSubdivLimits,this._curEyePos)?this._subdivideTile(T,T.lij[0],T.lij[1],T.lij[2],this._curSubdivLimits,this._curFrustumPlanes,this._curEyePos):T.material.setParameterValues({textureId:M.getId(),texOffset:[0,0],texScale:1})):this._streamDataSupplier.unuse(M)},
_elevationLoadedCallback:function(M,N,T,V){assert(N instanceof ArrayBuffer);T=J.apply(this,V);if(T=this._tiles[T]){var ea=[];this._elevationUpdateCandidatesRec(V[0],V[0],V[1],V[2],ea);V={};if(0<ea.length)for(T.loadLERC(N),N=0;N<ea.length;N++)this._updateTileElevation(ea[N],T,V);for(var P in V)N=this._tiles[P],assert(N),V=this._elevationURL(P),this._streamDataSupplier.isRequested(V)||this._streamDataSupplier.request(V,"binary",{metadata:N.lij}).then(this._elevationLoadedCallback,this._loadError,this)}this._streamDataSupplier.unuse(M)},
_loadError:function(M){},_decTextureRefCount:function(M){M.textureRefCount--;1>M.textureRefCount&&!M.geometry&&(assert(0!==M.lij[0]),this._stage.remove(B.TEXTURE,M.texture.getId()),M.texture=null)},_elevationUpdateCandidatesRec:function(M,N,T,V,ea){var P=J(N,T,V),ba=this._tiles[P];ba&&(ba.geometry?ba.elevationTile.lij[0]<M&&4<=N-M&&ea.push(P):(N++,T*=2,V*=2,this._elevationUpdateCandidatesRec(M,N,T,V,ea),this._elevationUpdateCandidatesRec(M,N,T+1,V,ea),this._elevationUpdateCandidatesRec(M,N,T,V+1,
ea),this._elevationUpdateCandidatesRec(M,N,T+1,V+1,ea)))},_updateTileElevation:function(M,N,T){var V=this._tiles[M];assert(V&&V.geometry);var ea=this._terrainObject.getFirstGeometryIndex(V.geometry),P=this._terrainObject.getGeometryRecord(ea).transformation;P=vec3d.createFrom(P[12],P[13],P[14]);M=this._createTileGeometry(V,P,N.elevationSampler,M);this._terrainObject.replaceGeometry(ea,M);this._stage.add(B.GEOMETRY,M);this._stage.remove(B.GEOMETRY,V.geometry.getId());V.geometry=M;V.setElevationTile(N);
ea=V.lij[0]-N.lij[0];4<ea&&(ea--,T[J(N.lij[0]+1,V.lij[1]>>ea,V.lij[2]>>ea)]=!0)},validate:function(){var M=this._tiles,N;for(N in M){var T=M[N];if(0!==T.lij[0]){if(0<T.lij[0]){var V=J(T.lij[0]-1,T.lij[1]>>1,T.lij[2]>>1);assert(M[V])}if(T.geometry){var ea=T.lij[0]-1,P=T.lij[1]>>1;for(T=T.lij[2]>>1;0<=ea;){V=J(ea,P,T);var ba=this._textureURL(V);assert(this._tiles[V]);assert(this._streamDataSupplier.has(ba));assert(this._streamDataSupplier._cache.documents[ba].inUse);ea--;P>>=1;T>>=1}}}}},_registerLayer:function(M){if(M instanceof
x){assert(M.renderer);var N=M.renderer.on("newDataReadyForDisplay",function(T){console.log(T.layer.id+" "+T.layer.graphics.length);this._overlayDirty=!0}.bind(this));this._connectedLayers[M.id]={newDataSignal:N,layer:M}}},_unregisterLayer:function(M){this._connectedLayers[M.id]&&(this._connectedLayers[M.id].newDataSignal.remove(),this._connectedLayers[M.id].layer=void 0,delete this._connectedLayers[M.id])},_updateOverlay:function(){var M=new b,N=new b;M.start();this._determineOverlayTiles();for(var T in this._tiles){var V=
this._tiles[T];if(V.material){var ea=void 0,P=1,ba=[0,0],la;for(la in this._overlayTiles){var Q=this._overlayTiles[la],Y=V.lij[0]-Q.lij[0];if(0<=Y&&V.lij[1]>>Y===Q.lij[1]&&V.lij[2]>>Y===Q.lij[2]){if(!Q.texture||Q.dirty)N.start(),this._renderOverlayTile(Q),N.stop();P=1/(1<<Y);ba[0]=P*(V.lij[2]-(Q.lij[2]<<Y));ba[1]=P*(V.lij[1]-(Q.lij[1]<<Y));ea=Q.texture.getId();break}}ea||(ea=this._transparentTexture.getId());V.material.setParameterValues({overlayTexId:ea,overlayTexScale:P,overlayTexOffset:ba})}}this._overlayDirty=
!1;M.stop()},_determineOverlayTiles:function(){var M=this._stage.getViewParams({eye:!0,center:!0,fovX:!0,viewport:!0},!1),N=M.viewport[2]-M.viewport[0],T=[0,0];this.viewport.coordinateSystemHelper.fromEnginePosition(M.center,{wkid:4326},T);T=T.map(deg2rad);var V=vec3.dist(M.eye,M.center),ea=3072*Math.tan(.5*M.fovX)*V*2/N;V=N=M=0;for(var P=Math.PI*EARTH_RADIUS,ba,la;P>ea&&23>M;)M++,N<<=1,V<<=1,ba=H(M,N+1),la=E(M,V+1),P=(ba-H(M,N))*EARTH_RADIUS,T[1]>ba&&N++,T[0]>la&&V++;ba=H(M+1,(N<<1)+1);la=E(M+1,
(V<<1)+1);ea=T[1]<ba?-1:1;T=T[0]<la?-1:1;N=[[M,N,V],[M,N+ea,V],[M,N+ea,V+T],[M,N,V+T]];T={};for(V=0;V<N.length;V++)la=J(M,N[V][1],N[V][2]),this._overlayTiles[la]?(T[la]=this._overlayTiles[la],delete this._overlayTiles[la],T[la].dirty=this._overlayDirty):(T[la]=new L(N[V],la),T[la].latLon=[H(M,N[V][1]),E(M,N[V][2])],T[la].extent=[H(M,N[V][1]+1)-T[la].latLon[0],E(M,N[V][2]+1)-T[la].latLon[1]]);for(var Q in this._overlayTiles)M=this._overlayTiles[Q],M.texture&&(M.texture=void 0);this._overlayTiles=T},
_overlayTextures:[],_renderOverlayTile:function(M){if(!M.texture){var N=[],T;for(T in this._overlayTiles)void 0!==this._overlayTiles[T].texture&&N.push(this._overlayTiles[T].texture);for(T=0;T<this._overlayTextures.length;T++)if(-1===N.indexOf(this._overlayTextures[T])){M.texture=this._overlayTextures[T];break}}M.texture||(M.texture=new Texture(null,"symboloverlay",{wrapClamp:!0,mipmap:!0}),this._stage.add(B.TEXTURE,M.texture),this._overlayTextures.push(M.texture));N={minWebMerc:I.apply(I,M.lij),
maxWebMerc:I(M.lij[0],M.lij[1]+1,M.lij[2]+1),size:[2048,2048]};this._stage.getTextureGraphicsRenderer().draw(M.texture,N);M.dirty=!1},_performanceBenchmark:function(M){var N,T={},V=[3,3,3];var ea=window.performance.now();for(N=0;1E4>N;N++)new this.GlobeTile(V,N);N=window.performance.now();T.createTile10000x=N-ea;ea=window.performance.now();for(N=0;10>N;N++)this._update();N=window.performance.now();T.update10x=N-ea;if(M=this._tiles[M]){V=vec3d.create();ea=window.performance.now();for(N=0;100>N;N++)this._createTileGeometrySpherical(M,
V,M.elevationTile.elevationSampler);N=window.performance.now();T.createTileGeo100x=N-ea}return T}})})},"engine/materials/MeshWireframeMaterial":function(){define(["dojo/_base/lang","engine/materials/internal/MaterialUtil","engine/lib/GLSLProgram","engine/lib/GLSLShader"],function(G,A,a,m){var p=function(t,n){A.basicGLMaterialConstructor(this,t);var h=n.get("simple"),c=t.getColor();this.beginSlot=function(b){return 1===b};this.getProgram=function(){return h};this.bind=function(b,e){h.use();h.uniformMatrix4fv("model",
A.IDENTITY);h.uniformMatrix4fv("proj",e.proj);h.uniform4fv("color",c);h.enableVertexAttribArrays()};this.release=function(b){h.disableVertexAttribArrays()};this.bindView=function(b,e){A.bindView(e.origin,e.view,h)};this.bindInstance=function(b,e){h.uniformMatrix4fv("model",e.transformation)};this.getDrawMode=function(b){return b.LINES}};return function(t,n){A.basicMaterialConstructor(this,n);var h={};h[VertexAttrConstants.POSITION]=0;this.dispose=function(){};this.setParameterValues=function(){};
this.getColor=function(){return t};this.getOutputAmount=function(c){return 6*c};this.getVertexAttr2offset=function(){return h};this.getStride=function(){return 3};this.fillInterleaved=function(c,b,e,f,k){e=c.faces.indices[VertexAttrConstants.POSITION];var u=c.vertexAttr[VertexAttrConstants.POSITION];c=e.length;var v=u.size;u=u.data;k+=h[VertexAttrConstants.POSITION];if(void 0!==b&&3<=v)for(var g=0;g<c;++g){var q=v*e[g],x=u[q],w=u[q+1];q=u[q+2];f[k]=b[0]*x+b[4]*w+b[8]*q+b[12];f[k+1]=b[1]*x+b[5]*w+
b[9]*q+b[13];f[k+2]=b[2]*x+b[6]*w+b[10]*q+b[14];k+=3;q=v*e[g+(2==g%3?-2:1)];x=u[q];w=u[q+1];q=u[q+2];f[k]=b[0]*x+b[4]*w+b[8]*q+b[12];f[k+1]=b[1]*x+b[5]*w+b[9]*q+b[13];f[k+2]=b[2]*x+b[6]*w+b[10]*q+b[14];k+=3}else for(g=0;g<c;++g){q=v*e[g];for(b=0;b<v;++b)f[k+b]=u[q+b];k+=3;q=v*e[g+(2==g%3?-2:1)];for(b=0;b<v;++b)f[k+b]=u[q+b];k+=3}};this.intersect=A.intersectTriangleGeometry;this.getGLMaterials=function(){return[p,void 0,void 0]};this.getAllTextureIds=function(){return[]}}})},"arcgis3d/layers/globe/GlobeAtmosphere":function(){define("engine/Stage engine/lib/Geometry engine/lib/gl-matrix engine/lib/Object3D engine/lib/Texture engine/lib/Util engine/materials/AtmosphereMaterial arcgis3d/layers/res/GlobeAtmosphereTexture".split(" "),
function(G,A,a,m,p,t,n,h){var c=G.ModelContentType;return function(b){var e=(EARTH_RADIUS-1E3)/EARTH_RADIUS,f=(EARTH_RADIUS+25E4)/EARTH_RADIUS,k={silCircleCenter:vec3d.create(),silCircleV1:vec3d.create(),silCircleV2:vec3d.create(),texV:vec2d.create()},u=new Geometry(function(){for(var D=new Float32Array(768),F=new Uint32Array(768),H=0;128>H;H++){var E=6*H;D[E+0]=H;D[E+1]=e;D[E+2]=0;D[E+3]=H;D[E+4]=f;D[E+5]=1;var I=H<<1,J=127===H?0:I+2;F[E+0]=I;F[E+1]=I+1;F[E+2]=J+1;F[E+3]=J+1;F[E+4]=J;F[E+5]=I}H=
{};H[VertexAttrConstants.POSITION]=F;F={};F[VertexAttrConstants.POSITION]={size:3,data:D};return new GeometryData([{type:"triangle",indices:H,positionKey:VertexAttrConstants.POSITION}],F)}(),"Atmosphere");b.add(c.GEOMETRY,u);var v=new Texture(h,"Atmosphere",{wrapClamp:!0});b.add(c.TEXTURE,v);v=new n(v.getId(),k,"Atmosphere");b.add(c.MATERIAL,v);var g=mat4d.identity(),q=new Object3D("Atmosphere",[],[],[],!1,{alignElevation:!1},"Atmosphere");b.add(c.OBJECT,q);q.addGeometry(u,[v],g);this.getObject=function(){return q};
var x=vec3d.create(),w=vec3d.create(),B=mat4d.create(),z=vec3d.create();this.update=function(D,F,H){if(!(vec3.length(D)<=EARTH_RADIUS)){var E=EARTH_RADIUS;vec3.scale(D,(E+500)/vec3.length(D),z);C(z,F,E,k);vec3.add(k.silCircleCenter,k.silCircleV2,x);vec3.scale(x,f,w);var I=y(z,H,x,w),J=-.004+.0333359375,K=-.004+.21875*I*1.004;500<vec3.length(D)-E&&(C(D,F,E,k),vec3.add(k.silCircleCenter,k.silCircleV2,x),vec3.scale(x,f,w),J=y(D,H,x,w),D=clamp((J-1.5)/(I-1.5),0,1),J=-.004+.0333359375*D,K=-.004+1.004*
lerp(1,.21875*I,D));vec2.set2(J,K,k.texV)}};var C=function(D,F,H,E){var I=vec3.length(D),J=H*Math.sqrt(I*I-H*H)/I,K=E.silCircleV1,L=E.silCircleV2;vec3.scale(D,Math.sqrt(H*H-J*J)/I,E.silCircleCenter);vec3.cross(D,F,K);vec3.scale(K,J/vec3.length(K));vec3.cross(K,D,L);vec3.scale(L,J/vec3.length(L));return J},y=function(D,F,H,E){mat4d.lookAt(D,H,F,B);D=b.getViewParams({projectionMatrix:!0,viewport:!0});window.project(H,B,D.projectionMatrix,D.viewport);window.project(E,B,D.projectionMatrix,D.viewport);
return(E[1]-H[1])/D.viewport[3]}}})},"arcgis3d/layers/res/GlobeAtmosphereTexture":function(){define([],function(){return"data:image/png;base64,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"})},
"arcgis3d/layers/globe/GlobeTileHelper":function(){define(["engine/lib/Geometry","engine/lib/proj4","engine/lib/gl-matrix"],function(G,A){new A.Proj("EPSG:4326");var a=new A.Proj("EPSG:3857");return{createPlanarGlobeTile:function(m,p,t,n){var h=p[0],c=p[1],b=p[2]-h,e=p[3]-c,f=.1*b,k=m-1,u=m*m;m=new Float32Array(3*u+12*k);p=new Float32Array(3*u);var v=new Float32Array(2*u),g,q,x=[],w=[],B=[],z=vec3.createFrom(0,1,0),C=0;for(q=0;q<=k;q++){var y=[],D=q/k,F=c+D*e;for(g=0;g<=k;g++){var H=g/k,E=h+H*b,I=
t?t(E,F):0;E-=n[0];I-=n[1];var J=-F-n[2];m[3*C]=E;m[3*C+1]=I;m[3*C+2]=J;p[3*C]=z[0];p[3*C+1]=z[1];p[3*C+2]=z[2];v[2*C]=H;v[2*C+1]=D;H=void 0;var K=-1;0===q&&(H=u+g,g!==k&&(K=C+1));g===k&&(H=u+k+q,q<k&&(K=C+k+1));q===k&&(H=u+k+k+(k-g),0<g&&(K=C-1));0===g&&0<q&&(H=u+2*k+k+(k-q),K=C-(k+1));H&&(m[3*H]=E,m[3*H+1]=I-f,m[3*H+2]=J,E=0===g&&1===q?u:H+1,-1<K&&(w.push(C),w.push(H),w.push(E),w.push(E),w.push(K),w.push(C),B.push(C),B.push(C),B.push(K),B.push(K),B.push(K),B.push(C)));y.push(C);++C}x.push(y)}t=
new Uint32Array(k*k*6+w.length);n=new Uint32Array(k*k*6+B.length);for(q=C=0;q<k;q++)for(g=0;g<k;g++)h=x[q][g],c=x[q][g+1],b=x[q+1][g+1],e=x[q+1][g],n[C]=t[C++]=h,n[C]=t[C++]=c,n[C]=t[C++]=b,n[C]=t[C++]=b,n[C]=t[C++]=e,n[C]=t[C++]=h;for(k=0;k<w.length;k++)t[C+k]=w[k];for(k=0;k<B.length;k++)n[C+k]=B[k];k={};k[VertexAttrConstants.POSITION]=t;k[VertexAttrConstants.NORMAL]=n;k[VertexAttrConstants.UV0]=n;w={};w[VertexAttrConstants.POSITION]={size:3,data:m};w[VertexAttrConstants.NORMAL]={size:3,data:p};
w[VertexAttrConstants.UV0]={size:2,data:v};return new GeometryData([{type:"triangle",indices:k,positionKey:VertexAttrConstants.POSITION}],w)},createSphericalGlobeTile:function(m,p,t,n){var h=EARTH_RADIUS,c=p[0],b=p[1],e=p[2],f=p[3],k=Math.max(0,1-.5*(e-c)),u=m-1,v=m-1,g=m*m;m=new Float32Array(3*g+3*(2*u+2*v));p=new Float32Array(3*g);var q=new Float32Array(2*g),x,w=[],B=[],z=[],C=vec3d.create(),y=0,D=e-c;for(x=0;x<=v;x++){var F=[],H=x/v,E=lerp(b,f,H),I=Math.cos(E);for(e=0;e<=u;e++){var J=e/u,K=c+J*
D,L=h;t&&(L+=t(K,E));var O=Math.cos(K)*I*L,U=Math.sin(E)*L;K=-Math.sin(K)*I*L;m[3*y]=O-n[0];m[3*y+1]=U-n[1];m[3*y+2]=K-n[2];vec3.set3(O,U,K,C);vec3.normalize(C);p[3*y]=C[0];p[3*y+1]=C[1];p[3*y+2]=C[2];q[2*y]=J;q[2*y+1]=H;J=void 0;L=-1;0===x&&(J=g+e,e!==u&&(L=y+1));e===u&&(J=g+u+x,x<v&&(L=y+u+1));x===v&&(J=g+u+v+(u-e),0<e&&(L=y-1));0===e&&0<x&&(J=g+2*u+v+(v-x),L=y-(u+1));J&&(m[3*J]=O*k-n[0],m[3*J+1]=U*k-n[1],m[3*J+2]=K*k-n[2],O=0===e&&1===x?g:J+1,-1<L&&(B.push(y),B.push(J),B.push(O),B.push(O),B.push(L),
B.push(y),z.push(y),z.push(y),z.push(L),z.push(L),z.push(L),z.push(y)));F.push(y);++y}w.push(F)}t=new Uint32Array(u*v*6+B.length);n=new Uint32Array(u*v*6+z.length);for(x=y=0;x<v;x++)for(e=0;e<u;e++)h=w[x][e],c=w[x][e+1],b=w[x+1][e+1],f=w[x+1][e],n[y]=t[y++]=h,n[y]=t[y++]=c,n[y]=t[y++]=b,n[y]=t[y++]=b,n[y]=t[y++]=f,n[y]=t[y++]=h;for(u=0;u<B.length;u++)t[y+u]=B[u];for(u=0;u<z.length;u++)n[y+u]=z[u];u={};u[VertexAttrConstants.POSITION]=t;u[VertexAttrConstants.NORMAL]=n;u[VertexAttrConstants.UV0]=n;v=
{};v[VertexAttrConstants.POSITION]={size:3,data:m};v[VertexAttrConstants.NORMAL]={size:3,data:p};v[VertexAttrConstants.UV0]={size:2,data:q};return new GeometryData([{type:"triangle",indices:u,positionKey:VertexAttrConstants.POSITION}],v)},geoPosToPlanarPos:function(m,p,t){m=[p,m];1.570796<m[1]?m[1]=1.570796:-1.570796>m[1]&&(m[1]=-1.570796);t[0]=6378137*m[0];t[1]=3189068.5*Math.log((1+Math.sin(m[1]))/(1-Math.sin(m[1])))},webMercPosToPlanarPos:function(m){A.transform(a,a,m)}}})},"arcgis3d/layers/globe/LercReader":function(){define([],
function(){return function(G){var A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x;(function(w){var B=0,z=new Uint8Array(w,0,10);k=String.fromCharCode.apply(null,z);var C=new DataView(w,10,24);u=C.getInt32(0,!0);v=C.getInt32(4,!0);g=C.getUint32(8,!0);q=C.getUint32(12,!0);x=C.getFloat64(16,!0);B+=34;C=new DataView(w,B,16);f=e=b=c=h=void 0;h=C.getUint32(0,!0);c=C.getUint32(4,!0);b=C.getUint32(8,!0);e=C.getFloat32(12,!0);B+=16;if(0<b){z=new Uint8Array(Math.ceil(q*g/8));C=new DataView(w,B,b);var y=C.getInt16(0,!0),
D=2,F=0;do{if(0<y)for(;y--;)z[F++]=C.getUint8(D++);else{var H=C.getUint8(D++);for(y=-y;y--;)z[F++]=H}y=C.getInt16(D,!0);D+=2}while(D<b);if(-32768!==y||F<z.length)throw"Unexpected end of mask RLE encoding";f=z;B+=b}C=new DataView(w,B,16);n=t=p=m=a=A=void 0;A=C.getUint32(0,!0);a=C.getUint32(4,!0);m=C.getUint32(8,!0);p=C.getFloat32(12,!0);B+=16;z=(A+(0<q%A?1:0))*(a+(0<g%a?1:0));t=Array(z);y=1E9;for(D=0;D<z;D++){H=0;C=new DataView(w,B,Math.min(10,w.byteLength-B));F={};t[D]=F;var E=C.getUint8(0);H++;F.encoding=
E&63;if(2===F.encoding)B++;else{if(0!==E&&2!==E){E>>=6;F.offsetType=E;if(2===E)F.offset=C.getInt8(1),H++;else if(1===E)F.offset=C.getInt16(1,!0),H+=2;else if(0===E)F.offset=C.getFloat32(1,!0),H+=4;else throw"Invalid block offset type";y=Math.min(F.offset,y);if(1===F.encoding)if(E=C.getUint8(H),H++,F.bitsPerPixel=E&63,E>>=6,F.numValidPixelsType=E,2===E)F.numValidPixels=C.getUint8(H),H++;else if(1===E)F.numValidPixels=C.getUint16(H,!0),H+=2;else if(0===E)F.numValidPixels=C.getUint32(H,!0),H+=4;else throw"Invalid valid pixel count type";
}B+=H;if(3!=F.encoding)if(0===F.encoding){C=q/A*(g/a);H=new ArrayBuffer(4*C);E=new Uint8Array(H);E.set(new Uint8Array(w,B,4*C));H=new Float32Array(H);for(E=0;E<H.length;E++)y=Math.min(y,H[E]);F.rawData=H;B+=4*C}else if(1===F.encoding)C=Math.ceil(F.numValidPixels*F.bitsPerPixel/8),H=new ArrayBuffer(4*Math.ceil(C/4)),E=new Uint8Array(H),E.set(new Uint8Array(w,B,C)),F.stuffedData=new Uint32Array(H),B+=C;else throw"Invalid block encoding ("+F.encoding+")";}}n=y})(G);G=void 0;this.getWidth=function(){return q};
this.getHeight=function(){return g};this.getMinMaxElevation=function(){return[n,p]};this.uncompressDepthValues=function(){for(var w=new Float32Array(q*g),B=0,z=A,C=a,y=Math.floor(q/z),D=Math.floor(g/C),F=2*x,H=new Float32Array(y*D),E=0;E<=C;E++){var I=E!==C?D:g%C;if(0!==I)for(var J=0;J<=z;J++){var K=J!==z?y:g%z;if(0!==K){var L=E*q*D+J*y,O=q-K,U=t[B];if(2>U.encoding){if(0===U.encoding)var S=U.rawData;else{var M=S=void 0,N=void 0,T=U.stuffedData,V=U.bitsPerPixel,ea=U.numValidPixels,P=U.offset,ba=F,
la=H,Q=(1<<V)-1,Y=0,ja=0;T[T.length-1]<<=8*(4*T.length-Math.ceil(V*ea/8));for(N=0;N<ea;N++)0===ja&&(S=T[Y++],ja=32),ja>=V?(M=S>>>ja-V&Q,ja-=V):(ja=V-ja,M=(S&Q)<<ja&Q,S=T[Y++],ja=32-ja,M+=S>>>ja),la[N]=P+M*ba;S=H}M=0;if(f)for(N=0;N<I;N++){if(L&7){var pa=f[L>>3];pa<<=L&7}for(T=0;T<K;T++)L&7||(pa=f[L>>3]),pa&128?w[L++]=S[M++]:w[L++]=-1E3,pa<<=1;L+=O}else for(N=0;N<I;N++){for(T=0;T<K;T++)w[L++]=S[M++];L+=O}if(1===U.encoding&&M!==U.numValidPixels)throw"Block and Mask do not match";}else if(3===U.encoding)for(N=
0;N<I;N++){for(T=0;T<K;T++)w[L++]=U.offset;L+=O}B++}}}return w};this.analyze=function(){for(var w={fileIdentifierString:k,fileVersion:u,imageType:v,height:g,width:q,maxZError:x,mask:{numBlocksX:h,numBlocksY:c,numBytes:b,maxValue:e},pixels:{numBlocksX:A,numBlocksY:a,numBytes:m,maxValue:p,minValue:n}},B=w.pixels.numBlocksX*w.pixels.numBlocksY,z={},C,y,D=0;D<B;D++){var F=t[D];0===F.encoding?z.float32=!0:1===F.encoding?(z[F.bitsPerPixel]=!0,C=Math.min(C||1E8,F.offset),y=Math.max(y||-1E8,F.offset)):z[0]=
!0}w.pixels.minOffset=C;w.pixels.maxOffset=y;w.pixels.bitDepths=Object.keys(z);return w}}})},"arcgis3d/widgets/Compass":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/on"],function(G,A,a){return G(null,{constructor:function(){this._compassContainerDiv=A.create("div",{className:"compassContainer"});this._setCompassContainerPerspective(500);this._compassDiv=A.create("div",{className:"compass"},this._compassContainerDiv)},addToMap:function(m){A.place(this._compassContainerDiv,m._mapWrapper);
a(this._compassDiv,"click",function(){m.lookNorth()});var p=vec3.create([0,-1,0]),t=vec3.create([0,0,-1]),n={currentViewChanged:function(h,c,b){var e=m.viewport._stage.getViewParams({fovX:!0},!1).fovX;this._setCompassContainerPerspective(Math.round(-504.7613199492*e+1133.820052775));b=function(f,k,u){var v=vec3.create();if(m._mapConfig.isGlobe){var g=vec3.create(),q=vec3.create();vec3.normalize(k,q);vec3.subtract(k,f,v);vec3.normalize(v);.99<Math.abs(vec3.dot(v,q))&&vec3.set(u,v);vec3.scale(q,vec3.dot(q,
v),g);vec3.subtract(v,g);vec3.set3(0,EARTH_RADIUS,0,t);vec3.subtract(t,k);vec3.scale(q,vec3.dot(q,t),g);vec3.subtract(t,g);vec3.normalize(t);vec3d.cross(v,t,g);f=0>vec3d.dot(q,g)?-1:1}else vec3.set3(k[0]-f[0],0,k[2]-f[2],v),f=0>k[0]-f[0]?-1:1;v=vec3.dot(v,t)/vec3.length(v);return-(f*Math.round(rad2deg(Math.acos(v))))}(h,c,b);h=function(f,k){var u=vec3.create();vec3.subtract(k,f,u);m._mapConfig.isGlobe&&(vec3.normalize(k,p),vec3.negate(p));f=vec3.dot(u,p)/vec3.length(u);f=Math.round(rad2deg(Math.acos(f)));
return Math.min(65,(1-25/90)*f)}(h,c);(function(f,k){f.style.transform=k;f.style["-moz-transform"]=k;f.style["-webkit-transform"]=k;f.style["-o-transform"]=k;f.style["-ms-transform"]=k})(this._compassDiv,"rotateX("+h+"deg) rotateY(0) rotateZ("+b+"deg)")}.bind(this)};m.viewport._stage.addCameraListener(n)},_setCompassContainerPerspective:function(m){this._compassContainerDiv.style.perspective=m+"px";this._compassContainerDiv.style["-webkit-perspective"]=m+"px";this._compassContainerDiv.style["-moz-perspective"]=
m+"px";this._compassContainerDiv.style["-o-perspective"]=m+"px";this._compassContainerDiv.style["-ms-perspective"]=m+"px"}})})},"arcgis3d/widgets/MapControls":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dijit/form/ToggleButton dijit/form/VerticalSlider arcgis3d/Camera engine/lib/Util".split(" "),function(G,A,a,m,p,t,n,h){var c=function(b,e){var f=-1;this.buttonList=b;this.setActive=function(k){if(k!=f){f=k;for(var u=0;u<b.length;u++)b[u].set("checked",u==k)}};
this.getActive=function(){return f}};return G(null,{constructor:function(b){function e(){var q=(g.getActive()+1)%2;g.setActive(q);b.setNavigationMode(0==q?"tumble":"pan")}var f=a.create("div",{className:"mapControlsContainer"},b._mapWrapper),k=[],u=new p({showLabel:!0,checked:!1,label:"tumble","class":"transparentHighlightOnHover"});u.on("click",function(){e()});k.push(u);var v=new p({showLabel:!0,checked:!1,label:"pan","class":"transparentHighlightOnHover"});v.on("click",function(){e()});k.push(v);
var g=new c(k,"navGroup");g.setActive(0);b.setNavigationMode("tumble");u.placeAt(f);v.placeAt(f);new function(q){function x(F){isNaN(F)&&(F=0);return Math.round(1E7*(1-F))/1E7}var w=!1;m(b.viewport,"cameraChangeStart",function(F){F=F.targetCamera;F=Math.sqrt((vec3d.dist(F.position,F.target)-B)/(z-B));F=x(F);y.getValue()!=F&&(w=!0,y.set("value",F,!1))});m(b.viewport,"zoomRangeChanged",function(F){B=F.minDistance;z=F.maxDistance});var B=b.viewport.minZoomDistance;var z=b.viewport.maxZoomDistance;var C=
b.getCamera();C=Math.sqrt((vec3d.dist(C.position,C.target)-B)/(z-B));var y=new t({name:"zoomSlider",value:x(C),minimum:0,maximum:1,intermediateChanges:!0,"class":"zoomSlider transparentHighlightOnHover",onChange:function(F){if(w)w=!1;else{var H=x(F);F=b.getCamera();var E=F.target;H=lerp(B,z,Math.pow(H,2));E=vec3d.add(vec3d.scale(vec3d.normalize(vec3d.subtract(F.position,E,D)),H),E);F=new n(E,F.target);assert(!isNaN(F.position[0]));b.setCamera(F)}}});y.placeAt(q);var D=vec3d.create();this.zoomIn=function(){y.setValue(x(Math.max(y.getValue()-
.1,.001),!1))};this.zoomOut=function(){y.setValue(x(Math.min(y.getValue()+.1,1),!1))}}(f)}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(G,A,a,m){return G("dijit.form.ToggleButton",[a,m],{baseClass:"dijitToggleButton",setChecked:function(p){A.deprecated("setChecked("+p+") is deprecated. Use set('checked',"+p+") instead.","","2.0");this.set("checked",p)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare",
"dojo/dom-attr"],function(G,A){return G("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(a){var m=this.checked;this._set("checked",!m);var p=this.inherited(arguments);this.set("checked",p?this.checked:m);return p},_setCheckedAttr:function(a,m){this._set("checked",a);var p=this.focusNode||this.domNode;this._created&&A.get(p,"checked")!=!!a&&A.set(p,"checked",!!a);p.setAttribute(this._aria_attr,String(a));this._handleOnChange(a,m)},postCreate:function(){this.inherited(arguments);
var a=this.focusNode||this.domNode;this.checked&&a.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/form/VerticalSlider":function(){define(["dojo/_base/declare","./HorizontalSlider","dojo/text!./templates/VerticalSlider.html"],function(G,A,a){return G("dijit.form.VerticalSlider",A,{templateString:a,_mousePixelCoord:"pageY",_pixelCount:"h",
_startingPixelCoord:"y",_handleOffsetCoord:"top",_progressPixelSize:"height",_descending:!0,_isReversed:function(){return this._descending}})})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z){var C=A("dijit.form._SliderMover",e,{onMouseMove:function(y){var D=this.widget,F=D._abspos;F||(F=D._abspos=p.position(D.sliderBarContainer,!0),D._setPixelValue_=h.hitch(D,"_setPixelValue"),D._isReversed_=D._isReversed());y=y[D._mousePixelCoord]-F[D._startingPixelCoord];D._setPixelValue_(D._isReversed_?F[D._pixelCount]-y:y,F[D._pixelCount],!1)},destroy:function(y){e.prototype.destroy.apply(this,arguments);var D=this.widget;D._abspos=null;D._setValueAttr(D.value,
!0)}});a=A("dijit.form.HorizontalSlider",[w,B],{templateString:z,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:v.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(y){this.disabled||this.readOnly||y.altKey||y.ctrlKey||y.metaKey||this._setValueAttr(this.value,!0)},_onKeyDown:function(y){if(!(this.disabled||this.readOnly||y.altKey||y.ctrlKey||y.metaKey)){switch(y.keyCode){case n.HOME:this._setValueAttr(this.minimum,!1);break;case n.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?n.RIGHT_ARROW:n.LEFT_ARROW:case !1===this._descending?n.DOWN_ARROW:n.UP_ARROW:case !1===this._descending?n.PAGE_DOWN:n.PAGE_UP:this.increment(y);
break;case this._descending||this.isLeftToRight()?n.LEFT_ARROW:n.RIGHT_ARROW:case !1===this._descending?n.UP_ARROW:n.DOWN_ARROW:case !1===this._descending?n.PAGE_UP:n.PAGE_DOWN:this.decrement(y);break;default:return}y.stopPropagation();y.preventDefault()}},_onHandleClick:function(y){this.disabled||this.readOnly||(c("ie")||g.focus(this.sliderHandle),y.stopPropagation(),y.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(y){if(!this.disabled&&!this.readOnly&&
this.clickSelect){g.focus(this.sliderHandle);y.stopPropagation();y.preventDefault();var D=p.position(this.sliderBarContainer,!0),F=y[this._mousePixelCoord]-D[this._startingPixelCoord];this._setPixelValue(this._isReversed()?D[this._pixelCount]-F:F,D[this._pixelCount],!0);this._movable.onMouseDown(y)}},_setPixelValue:function(y,D,F){if(!this.disabled&&!this.readOnly){var H=this.discreteValues;if(1>=H||Infinity==H)H=D;H--;this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*Math.round(y/
(D/H))/H+this.minimum,this.maximum),this.minimum),F)}},_setValueAttr:function(y,D){this._set("value",y);this.valueNode.value=y;this.focusNode.setAttribute("aria-valuenow",y);this.inherited(arguments);var F=this.maximum>this.minimum?(y-this.minimum)/(this.maximum-this.minimum):0,H=!1===this._descending?this.remainingBar:this.progressBar,E=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(D&&0<this.slideDuration&&
H.style[this._progressPixelSize]){var I=this,J={},K=parseFloat(H.style[this._progressPixelSize]),L=this.slideDuration*(F-K/100);0!=L&&(0>L&&(L=0-L),J[this._progressPixelSize]={start:K,end:100*F,units:"%"},this._inProgressAnim=m.animateProperty({node:H,duration:L,onAnimate:function(O){E.style[I._progressPixelSize]=100-parseFloat(O[I._progressPixelSize])+"%"},onEnd:function(){delete I._inProgressAnim},properties:J}),this._inProgressAnim.play())}else H.style[this._progressPixelSize]=100*F+"%",E.style[this._progressPixelSize]=
100*(1-F)+"%"},_bumpValue:function(y,D){if(!(this.disabled||this.readOnly||this.maximum<=this.minimum)){var F=t.getComputedStyle(this.sliderBarContainer),H=p.getContentBox(this.sliderBarContainer,F);F=this.discreteValues;if(1>=F||Infinity==F)F=H[this._pixelCount];F--;y=Math.round((this.value-this.minimum)*F/(this.maximum-this.minimum))+y;0>y&&(y=0);y>F&&(y=F);y=y*(this.maximum-this.minimum)/F+this.minimum;this._setValueAttr(y,D)}},_onClkBumper:function(y){this.disabled||this.readOnly||!this.clickSelect||
this._setValueAttr(y,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(y){this._bumpValue(y.keyCode==n.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(y){this._bumpValue(y.keyCode==n.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(y){this.focused&&(y.stopPropagation(),y.preventDefault(),this._bumpValue(0>y.wheelDelta?-1:1,!0))},
startup:function(){this._started||(G.forEach(this.getChildren(),function(y){this[y.container]!=this.containerNode&&this[y.container].appendChild(y.domNode)},this),this.inherited(arguments))},_typematicCallback:function(y,D,F){if(-1==y)this._setValueAttr(this.value,!0);else this[D==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](F)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display=
"");var y=f('label[for\x3d"'+this.id+'"]');y.length&&(y[0].id||(y[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",y[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(q.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),q.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(u(this.domNode,
k.wheel,h.hitch(this,"_mouseWheeled")));var y=A(C,{widget:this});this._movable=new b(this.sliderHandle,{mover:y});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});a._Mover=C;return a})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),function(G,A,a,m,p,t){m=G("dojo.dnd.move.constrainedMoveable",
t,{constraints:function(){},within:!1,constructor:function(n,h){h||(h={});this.constraints=h.constraints;this.within=h.within},onFirstMove:function(n){var h=this.constraintBox=this.constraints.call(this,n);h.r=h.l+h.w;h.b=h.t+h.h;this.within&&(n=A.getMarginSize(n.node),h.r-=n.w,h.b-=n.h)},onMove:function(n,h){var c=this.constraintBox,b=n.node.style;this.onMoving(n,h);h.l=h.l<c.l?c.l:c.r<h.l?c.r:h.l;h.t=h.t<c.t?c.t:c.b<h.t?c.b:h.t;b.left=h.l+"px";b.top=h.t+"px";this.onMoved(n,h)}});p=G("dojo.dnd.move.boxConstrainedMoveable",
m,{box:{},constructor:function(n,h){var c=h&&h.box;this.constraints=function(){return c}}});G=G("dojo.dnd.move.parentConstrainedMoveable",m,{area:"content",constructor:function(n,h){var c=h&&h.area;this.constraints=function(){var b=this.node.parentNode,e=a.getComputedStyle(b),f=A.getMarginBox(b,e);if("margin"==c)return f;var k=A.getMarginExtents(b,e);f.l+=k.l;f.t+=k.t;f.w-=k.w;f.h-=k.h;if("border"==c)return f;k=A.getBorderExtents(b,e);f.l+=k.l;f.t+=k.t;f.w-=k.w;f.h-=k.h;if("padding"==c)return f;k=
A.getPadExtents(b,e);f.l+=k.l;f.t+=k.t;f.w-=k.w;f.h-=k.h;return f}}});return{constrainedMoveable:m,boxConstrainedMoveable:p,parentConstrainedMoveable:G}})},"arcgis3d/widgets/Crosshair":function(){define(["dojo/_base/declare","dojo/dom-construct","esri/domUtils","dojo/dom-style"],function(G,A,a,m){return G(null,{constructor:function(p){this.node=A.create("div",{className:"crosshair",id:"navCrosshair"},p._mapWrapper);A.place(this.node,p._mapWrapper);a.hide(this.node);this.dim=[m.get(this.node,"width"),
m.get(this.node,"height")];var t={zoomStart:function(n,h,c){this.show(n)}.bind(this),zoom:function(n,h,c){this.show(n)}.bind(this),zoomEnd:function(n,h,c){this.hide()}.bind(this),panStart:function(n,h,c){this.hide()}.bind(this),tumble:function(n,h,c){this.hide()}.bind(this)};p.viewport._stage.addControlsListener(t)},show:function(p){m.set(this.node,"left",p[0]-this.dim[0]/2+"px");m.set(this.node,"top",p[1]-this.dim[1]/2+"px");a.show(this.node)},hide:function(){a.hide(this.node)}})})},"arcgis3d/layers/LabelManager":function(){define(["dojo/aspect",
"./GraphicsLayer","engine/Stage","engine/materials/HUDMaterial"],function(G,A,a,m){var p=a.ModelContentType;return function(t,n){this._debug=!1;var h=this,c;this.init=function(){n.addCameraListener({targetViewChanged:e});G.after(n,"setViewContent",function(){var k=n.getTrackball().getCurrentEyeCenterUp();e(k[0],k[1],k[2])},!0)};var b=[[-1,-1],[1,-1],[1,1],[-1,1]],e=function(k,u,v){v=n.getViewParams({viewMatrix:!0,projectionMatrix:!0,fovX:!0,viewport:!0},!0);var g=1/Math.tan(v.fovX/2),q=v.viewMatrix,
x=v.projectionMatrix,w=v.viewport;void 0==c&&(c=document.createElement("canvas"),c.setAttribute("id","canvas2d"),document.getElementById("map_canvas3d"),document.getElementById("map").appendChild(c));c.setAttribute("width",w[2]);c.setAttribute("height",w[3]);c.setAttribute("style","position:absolute;left:0px;top:0px;display:block;pointer-events:none;");var B=document.getElementById("canvas2d");v=B.getContext("2d");v.clearRect(0,0,B.width,B.height);var z=vec4d.create(),C=vec4d.create(),y=vec4d.create(),
D=vec4d.create(),F=vec2d.create(),H=vec2d.create(),E=vec4d.create(),I=vec4d.create(),J=vec4d.create(),K=vec3d.create(),L=[],O=[],U;for(U in t.getLayers()){var S=t.getLayers()[U];if(S instanceof A&&-1!=n.getViewContent(0).indexOf(S.id))for(var M in S.graphics){var N=S.graphics[M];if(N.__labelObject3d){var T=N.__labelObject3d,V=T.getCenter();vec4d.set4(V[0],V[1],V[2],1,z);mat4d.multiplyVec4(q,z,C);mat4d.multiplyVec4(x,C,y);vec4d.scale(y,1/Math.abs(y[3]),D);var ea=vec2.createFrom(lerp(0,w[2],.5+.5*D[0]),
lerp(0,w[3],.5+.5*D[1]));if(!(-1>D[0]||-1>D[1]||-1>D[2]||1<=D[0]||1<=D[1])){var P=T.getGeometryRecords()[0].materials[0];if(P instanceof m){var ba=P.getParams();P=ba.size;vec2.subtract(ba.anchorPos,[.5,.5],F);vec2.scale(ba.screenOffset,.5,H);var la=[];if(ba.direction){var Q=vec3d.createFrom(N.geometry.normal[0],N.geometry.normal[1],N.geometry.normal[2]),Y=vec3d.normalize(vec3d.subtract(k,u,E),E),ja=vec3d.normalize(vec3d.create(ba.direction));ea=0;vec3.scale(ja,vec3.dot(ja,Y),K);vec3.subtract(Y,K,
K);vec3.normalize(K);var pa=Math.abs(vec3d.dot(K,Q));.985>Math.abs(vec3d.dot(Y,ja))&&.5>pa?.422>pa?(Y=ja,pa=Q,ea=.5):(Y=ja,pa=vec3d.create(),vec3.cross(ja,K,pa),ea=vec3.dot(pa,Q)/2):(Y=ja,pa=vec3d.normalize(vec3d.cross(Q,ja)));Q=vec3.dist(k,V)/g/w[2]*2;V=Q*ba.screenMinMaxSize[0];Q*=ba.screenMinMaxSize[1];ba.worldScale?(ba=1,0<V&&V>P[1]&&(ba=V/P[1]),0<Q&&P[1]>Q&&(ba=Q/P[1])):ba=.5*y[3]/w[2];for(V=0;4>V;V++)Q=vec4d.create(z),vec3d.add(Q,vec3d.scale(Y,b[V][0]*P[0]*ba,I)),vec3d.add(Q,vec3d.scale(pa,(b[V][1]+
ea)*P[1]*ba,J)),mat4d.multiplyVec4(q,Q,E),Q=mat4d.multiplyVec4(x,E,I),vec4d.scale(Q,1/Math.abs(Q[3]),Q),Q=vec2.createFrom(lerp(0,w[2],.5+.5*Q[0]),lerp(0,w[3],.5+.5*Q[1])),la[V]=vec2.create(),la[V][0]=Q[0],la[V][1]=B.height-Q[1]}else if(ba.worldScale)for(Q=vec3.dist(k,V)/g/w[2]*2,V=Q*ba.screenMinMaxSize[0],Q*=ba.screenMinMaxSize[1],ba=1,0<V&&V>P[1]&&(ba=V/P[1]),0<Q&&P[1]>Q&&(ba=Q/P[1]),V=0;4>V;V++)ea=vec4d.create(C),ea[0]+=(.5*b[V][0]-F[0])*P[0]*ba,ea[1]+=(.5*b[V][1]-F[1])*P[1]*ba,Q=mat4d.multiplyVec4(x,
ea,E),vec4d.scale(Q,1/Math.abs(Q[3]),Q),Q=vec2.createFrom(lerp(0,w[2],.5+.5*Q[0]),lerp(0,w[3],.5+.5*Q[1])),la[V]=vec2.create(),la[V][0]=Q[0]+H[0],la[V][1]=B.height-Q[1]-H[1];else for(Y=vec3d.dist(k,z),V=0;4>V;V++)la[V]=vec2.create(),la[V][0]=ea[0]+(.5*b[V][0]-F[0])*P[0]+H[0],la[V][1]=B.height-ea[1]+(.5*b[V][1]+F[1])*P[1]-H[1];Y=C[2];n.get(p.OBJECT,T.getId())&&(Y*=.7);O.push({graphic:N,positions:la,posView:Y,engineLayer:S.renderer.getEngineLayer()})}}}}}n.beginMod();O.sort(function(va,Aa){return Aa.posView-
va.posView});for(var ka in O)if(k=O[ka],f(k.positions,L)){if(h._debug){v.beginPath();v.lineWidth="1";v.strokeStyle="red";v.moveTo(k.positions[0][0],k.positions[0][1]);for(V=1;4>V;V++)v.lineTo(k.positions[V][0],k.positions[V][1]),v.stroke();v.lineTo(k.positions[0][0],k.positions[0][1]);v.stroke();v.closePath()}u=k.graphic.__labelObject3d;n.get(p.OBJECT,u.getId())&&(k.engineLayer.removeObject(u),n.remove(p.OBJECT,u.getId()))}else{L[L.length]=k.positions;if(h._debug){v.beginPath();v.lineWidth="1";v.strokeStyle=
"green";v.moveTo(k.positions[0][0],k.positions[0][1]);for(V=1;4>V;V++)v.lineTo(k.positions[V][0],k.positions[V][1]),v.stroke();v.lineTo(k.positions[0][0],k.positions[0][1]);v.stroke();v.closePath()}u=k.graphic.__labelObject3d;n.get(p.OBJECT,u.getId())||(k.engineLayer.addObject(u),n.add(p.OBJECT,u))}n.endMod()},f=function(k,u){for(var v in u){a:{var g=k;for(var q=u[v],x=vec2.create(),w=0;2>w;w++){var B=0==w?g:q,z=0==w?q:g,C=0;b:for(;4>C;C++){var y=B[C],D=B[(C+2)%4],F=vec2.normalize(vec2.subtract(B[(C+
1)%4],y,x)),H=F[1];F[1]=F[0];F[0]=-H;y=vec2.dot(F,y);H=vec2.dot(F,D)<y;for(var E=0;4>E;E++)if(D=z[E],D=vec2.dot(D,F),!0===H?D<y:D>y)continue b;g=!1;break a}}g=!0}if(g)return!0}return!1}}})},"arcgis3d/layers/res/ReflectionTexture":function(){define([],function(){return"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/4QrPRXhpZgAATU0AKgAAAAgABwESAAMAAAABAAEAAAEaAAUA\nAAABAAAAYgEbAAUAAAABAAAAagEoAAMAAAABAAIAAAExAAIAAAAcAAAAcgEyAAIAAAAUAAAAjodp\nAAQAAAABAAAApAAAANAACvyAAAAnEAAK/IAAACcQQWRvYmUgUGhvdG9zaG9wIENTNCBXaW5kb3dz\nADIwMTE6MDE6MTkgMTE6MDE6MjcAAAAAA6ABAAMAAAAB//8AAKACAAQAAAABAAAIAKADAAQAAAAB\nAAAEAAAAAAAAAAAGAQMAAwAAAAEABgAAARoABQAAAAEAAAEeARsABQAAAAEAAAEmASgAAwAAAAEA\nAgAAAgEABAAAAAEAAAEuAgIABAAAAAEAAAmZAAAAAAAAAEgAAAABAAAASAAAAAH/2P/gABBKRklG\nAAECAABIAEgAAP/tAAxBZG9iZV9DTQAC/+4ADkFkb2JlAGSAAAAAAf/bAIQADAgICAkIDAkJDBEL\nCgsRFQ8MDA8VGBMTFRMTGBEMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAENCwsN\nDg0QDg4QFA4ODhQUDg4ODhQRDAwMDAwREQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM\nDAwM/8AAEQgAUACgAwEiAAIRAQMRAf/dAAQACv/EAT8AAAEFAQEBAQEBAAAAAAAAAAMAAQIEBQYH\nCAkKCwEAAQUBAQEBAQEAAAAAAAAAAQACAwQFBgcICQoLEAABBAEDAgQCBQcGCAUDDDMBAAIRAwQh\nEjEFQVFhEyJxgTIGFJGhsUIjJBVSwWIzNHKC0UMHJZJT8OHxY3M1FqKygyZEk1RkRcKjdDYX0lXi\nZfKzhMPTdePzRieUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9jdHV2d3h5ent8fX5/cRAAICAQIE\nBAMEBQYHBwYFNQEAAhEDITESBEFRYXEiEwUygZEUobFCI8FS0fAzJGLhcoKSQ1MVY3M08SUGFqKy\ngwcmNcLSRJNUoxdkRVU2dGXi8rOEw9N14/NGlKSFtJXE1OT0pbXF1eX1VmZ2hpamtsbW5vYnN0dX\nZ3eHl6e3x//aAAwDAQACEQMRAD8AyKcdljtr2BpPcGFOzpZM+mYP7p7quPUGocR8yrmPm3yGv955\n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\nJ5JvsnktPYEtgSU5oxPJP9k8lo7AlsCSnO+y+SX2XyWjsCWwJKc77L5JfZPJaOwJbElP/9n/7Q/U\nUGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAccAgAAAoACADhCSU0EJQAAAAAAEBH5QRx2mchilUrt\n0D+uIIE4QklNA+0AAAAAABAASAAAAAEAAgBIAAAAAQACOEJJTQQmAAAAAAAOAAAAAAAAAAAAAD+A\nAAA4QklNBA0AAAAAAAQAAAAeOEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4\nQklNJxAAAAAAAAoAAQAAAAAAAAACOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgAB\nAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAA\nAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPo\nAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gA\nADhCSU0EAAAAAAAAAgAKOEJJTQQCAAAAAAAaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4QklN\nBDAAAAAAAA0BAQEBAQEBAQEBAQEBADhCSU0ELQAAAAAABgABAAAADjhCSU0ECAAAAAAAEAAAAAEA\nAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAAM7AAAABgAAAAAAAAAAAAAEAAAA\nCAAAAAADAHMAawB5AAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAgAAAAEAAAAAAAA\nAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAbnVsbAAAAAIAAAAGYm91\nbmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAA\nAAAAAEJ0b21sb25nAAAEAAAAAABSZ2h0bG9uZwAACAAAAAAGc2xpY2VzVmxMcwAAAAFPYmpjAAAA\nAQAAAAAABXNsaWNlAAAAEgAAAAdzbGljZUlEbG9uZwAAAAAAAAAHZ3JvdXBJRGxvbmcAAAAAAAAA\nBm9yaWdpbmVudW0AAAAMRVNsaWNlT3JpZ2luAAAADWF1dG9HZW5lcmF0ZWQAAAAAVHlwZWVudW0A\nAAAKRVNsaWNlVHlwZQAAAABJbWcgAAAABmJvdW5kc09iamMAAAABAAAAAAAAUmN0MQAAAAQAAAAA\nVG9wIGxvbmcAAAAAAAAAAExlZnRsb25nAAAAAAAAAABCdG9tbG9uZwAABAAAAAAAUmdodGxvbmcA\nAAgAAAAAA3VybFRFWFQAAAABAAAAAAAAbnVsbFRFWFQAAAABAAAAAAAATXNnZVRFWFQAAAABAAAA\nAAAGYWx0VGFnVEVYVAAAAAEAAAAAAA5jZWxsVGV4dElzSFRNTGJvb2wBAAAACGNlbGxUZXh0VEVY\nVAAAAAEAAAAAAAlob3J6QWxpZ25lbnVtAAAAD0VTbGljZUhvcnpBbGlnbgAAAAdkZWZhdWx0AAAA\nCXZlcnRBbGlnbmVudW0AAAAPRVNsaWNlVmVydEFsaWduAAAAB2RlZmF1bHQAAAALYmdDb2xvclR5\ncGVlbnVtAAAAEUVTbGljZUJHQ29sb3JUeXBlAAAAAE5vbmUAAAAJdG9wT3V0c2V0bG9uZwAAAAAA\nAAAKbGVmdE91dHNldGxvbmcAAAAAAAAADGJvdHRvbU91dHNldGxvbmcAAAAAAAAAC3JpZ2h0T3V0\nc2V0bG9uZwAAAAAAOEJJTQQoAAAAAAAMAAAAAj/wAAAAAAAAOEJJTQQRAAAAAAABAQA4QklNBBQA\nAAAAAAQAAAAOOEJJTQQMAAAAAAm1AAAAAQAAAKAAAABQAAAB4AAAlgAAAAmZABgAAf/Y/+AAEEpG\nSUYAAQIAAEgASAAA/+0ADEFkb2JlX0NNAAL/7gAOQWRvYmUAZIAAAAAB/9sAhAAMCAgICQgMCQkM\nEQsKCxEVDwwMDxUYExMVExMYEQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQ0L\nCw0ODRAODhAUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM\nDAwMDAz/wAARCABQAKADASIAAhEBAxEB/90ABAAK/8QBPwAAAQUBAQEBAQEAAAAAAAAAAwABAgQF\nBgcICQoLAQABBQEBAQEBAQAAAAAAAAABAAIDBAUGBwgJCgsQAAEEAQMCBAIFBwYIBQMMMwEAAhED\n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\nP5h2kf1ufakMJ44eB5AhcH9mb+6PuUhjsIjaPuR+8y7K9vxf/9K99kB7JxhjwWuMTyTnFgcJKcf7\nL5JfZvJbIxZ7JHE8klOKcbyUTj+S2jieSj9j8klOOMftCX2Yjtotf7H5KQxfEJKcb7NKf7KfBbH2\nIHsl9iKSnI+y+SkMbyWt9jKf7JHZJTkHGPgonG8lsHG8k32TySU432byS+zeS2fsfknGH5JKcX7K\nn+y+S2fsfkn+xnwSU4pxB4J/sYHZbJxPJMcTySU//9P0H7J5JnYk9lpbAlsCSnMbiR2UvsvktH0w\nlsCSnN+yeSX2TyWlsCWwJKc37J5JvsfktPYEtgSU5n2TyT/ZfJaWwJbAkpzvsvko/ZPJaewJbAkp\nzfsnkm+yeS09gS2BJTmjE8k/2TyWjsCWwJKc77L5JfZfJaOwJbAkpzvsvkl9k8lo7AlsSU//2QA4\nQklNBCEAAAAAAFUAAAABAQAAAA8AQQBkAG8AYgBlACAAUABoAG8AdABvAHMAaABvAHAAAAATAEEA\nZABvAGIAZQAgAFAAaABvAHQAbwBzAGgAbwBwACAAQwBTADQAAAABADhCSU0EBgAAAAAABwAGAAAA\nAQEA/+ER7Gh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78i\nIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9i\nZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4yLjItYzA2MyA1My4zNTI2MjQs\nIDIwMDgvMDcvMzAtMTg6MTI6MTggICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDov\nL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24g\ncmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0v\nIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNl\nUmVmIyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNv\ndXJjZUV2ZW50IyIgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iIHht\nbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZXhpZj0iaHR0cDov\nL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxl\nbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hv\ncC8xLjAvIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUyMTJBNTE0QjMyM0UwMTFBMTdGQ0E4\nRDYwMzgzOThFIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InV1aWQ6NDFCNUQ4Njk4QUUxREQx\nMUIyQkRENzY4NkUzQzNGMkUiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249\nIjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29s\ndXRpb25Vbml0PSIyIiB0aWZmOk5hdGl2ZURpZ2VzdD0iMjU2LDI1NywyNTgsMjU5LDI2MiwyNzQs\nMjc3LDI4NCw1MzAsNTMxLDI4MiwyODMsMjk2LDMwMSwzMTgsMzE5LDUyOSw1MzIsMzA2LDI3MCwy\nNzEsMjcyLDMwNSwzMTUsMzM0MzI7QjhDNDJFQTZDOTU2NTUxNDY1QkY2Q0YxMTE3NjFGM0QiIHht\ncDpNb2RpZnlEYXRlPSIyMDExLTAxLTE5VDExOjAxOjI3KzAxOjAwIiB4bXA6Q3JlYXRvclRvb2w9\nIkdJTVAgMi42LjMiIHhtcDpDcmVhdGVEYXRlPSIyMDA5LTAxLTEzVDE3OjAxOjUwKzAxOjAwIiB4\nbXA6TWV0YWRhdGFEYXRlPSIyMDExLTAxLTE5VDExOjAxOjI3KzAxOjAwIiBleGlmOkNvbG9yU3Bh\nY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjA0OCIgZXhpZjpQaXhlbFlEaW1lbnNp\nb249IjEwMjQiIGV4aWY6TmF0aXZlRGlnZXN0PSIzNjg2NCw0MDk2MCw0MDk2MSwzNzEyMSwzNzEy\nMiw0MDk2Miw0MDk2MywzNzUxMCw0MDk2NCwzNjg2NywzNjg2OCwzMzQzNCwzMzQzNywzNDg1MCwz\nNDg1MiwzNDg1NSwzNDg1NiwzNzM3NywzNzM3OCwzNzM3OSwzNzM4MCwzNzM4MSwzNzM4MiwzNzM4\nMywzNzM4NCwzNzM4NSwzNzM4NiwzNzM5Niw0MTQ4Myw0MTQ4NCw0MTQ4Niw0MTQ4Nyw0MTQ4OCw0\nMTQ5Miw0MTQ5Myw0MTQ5NSw0MTcyOCw0MTcyOSw0MTczMCw0MTk4NSw0MTk4Niw0MTk4Nyw0MTk4\nOCw0MTk4OSw0MTk5MCw0MTk5MSw0MTk5Miw0MTk5Myw0MTk5NCw0MTk5NSw0MTk5Niw0MjAxNiww\nLDIsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMjAsMjIsMjMsMjQsMjUs\nMjYsMjcsMjgsMzA7Mzg0REVDRDg4ODYyRTVGMERDNEFGRDM5RkE5NzIwNTQiIGRjOmZvcm1hdD0i\naW1hZ2UvanBlZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyI+IDx4bXBNTTpEb2N1bWVudElEIHJk\nZjpyZXNvdXJjZT0idXVpZDo0MUI1RDg2OThBRTFERDExQjJCREQ3Njg2RTNDM0YyRSIvPiA8eG1w\nTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0idXVpZDpBMDI1Q0RFNkQ5OTlEQjExOEVB\nQkQ3M0QyNTc0NEVGMSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJl\nYjE2MTAxLTBiNTAtMTFkOS1hODhiLWYxYzk5M2Y0YjY3YyIvPiA8eG1wTU06SGlzdG9yeT4gPHJk\nZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1w\nLmlpZDpFMTEyQTUxNEIzMjNFMDExQTE3RkNBOEQ2MDM4Mzk4RSIgc3RFdnQ6d2hlbj0iMjAxMS0w\nMS0xOVQxMTowMToyNyswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9w\nIENTNCBXaW5kb3dzIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJz\nYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpFMjEyQTUxNEIzMjNFMDExQTE3RkNBOEQ2\nMDM4Mzk4RSIgc3RFdnQ6d2hlbj0iMjAxMS0wMS0xOVQxMTowMToyNyswMTowMCIgc3RFdnQ6c29m\ndHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENTNCBXaW5kb3dzIiBzdEV2dDpjaGFuZ2VkPSIv\nIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6\nUkRGPiA8L3g6eG1wbWV0YT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSJ3Ij8+/+4ADkFkb2JlAGRAAAAAAf/bAIQAAgIC\nAwIDBAICBAUEAwQFBgUFBQUGCAcHBwcHCAsJCQkJCQkLCwsLCwsLCwwMDAwMDAwMDAwMDAwMDAwM\nDAwMDAEDAwMHBAcNBwcNDw0NDQ8PDg4ODg8PDAwMDAwPDwwMDAwMDA8MDAwMDAwMDAwMDAwMDAwM\nDAwMDAwMDAwMDAwM/8AAEQgEAAgAAwERAAIRAQMRAf/dAAQBAP/EAaIAAAAHAQEBAQEAAAAAAAAA\nAAQFAwIGAQAHCAkKCwEAAgIDAQEBAQEAAAAAAAAAAQACAwQFBgcICQoLEAACAQMDAgQCBgcDBAIG\nAnMBAgMRBAAFIRIxQVEGE2EicYEUMpGhBxWxQiPBUtHhMxZi8CRygvElQzRTkqKyY3PCNUQnk6Oz\nNhdUZHTD0uIIJoMJChgZhJRFRqS0VtNVKBry4/PE1OT0ZXWFlaW1xdXl9WZ2hpamtsbW5vY3R1dn\nd4eXp7fH1+f3OEhYaHiImKi4yNjo+Ck5SVlpeYmZqbnJ2en5KjpKWmp6ipqqusra6voRAAICAQID\n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\nVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1M\nVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1M\nVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1M\nVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVp1MVpsDxwKqqqnY\n5G0q6KvQDEqiEjr0GRJpNIpLdz9nBbJWFtMNwBg2QFQW03cDBxDomrVRbzDamAEK/wD/0uBeoo2z\n3t5dxdO4xRa0yIfDFK0up6EYqpkc9qDFFLTAp2IxVTNqD1AOSElWG1r0Axtaa+r06qMbWneiO6j7\nsbWmjbIw3UY8RWlNrCM78R9GHjWlB9NT3GETRwoZ9PA6HJca0hZLUr1FcN2hCPbI3UZMIKHe0pum\n9MeJaQzQD6cmJIpCvHTbCChSOxpkktb4Fdvirt8VdTFXb4q7fFXb4q7fFXb4q76cVdvirt8Vdvir\nt8Vdviq9R49cBKFQIK0x5qrrHXfIlICusK998jxJpVWMDpiVX8O/XAiyuC03pTG007iTja04JX54\nbJXhX8cCW64QEW1hW26nBSFwByJZLgAeuFbXhVPWuGlK8IpGwwHZVYQL9GRtUQsKL2yJKQrrEo7Z\nG1V1hXuMFppErCg7DBaFZYl7DFkv4jpTArqYq0SB1xVrmq9SMVa9VR0P3YoU/rBwpWNMexxpVMze\nJxpVnrA98NItvmG3OBV1Yx1qcVtcpiO3HFVYNH2T8MSqqrKf2KYEolCOnHFFIlAvtjySrKAemRJp\nUZFEGO9fuyJNKj0tAelcgZ2tI+Kw5eOQMlRyacB1JyNpCJXTwO+C2XCrCyVT1P3Y2vArCCNeu+JJ\nXhVV9Ja7ZE2uyuJIR1XBS7OM8X8oxpIktNzF0pjwrxBSa7iHbCAV4lJr2LsKfTh4SjiUDfxDJCJR\nagdRi7DfGlKkdSj7AYeFioPqMZ+1QYiKqJvIj3wkJtTN7D44eArak97D2OPAVtSa8hw8JW1M3cXU\nY8BW1JrxOw/DCIIQz3fgNvlkuBUO11Xag+7JCKqLXVOgH3YeFCn9Yb+XDSXCdvD8MeFW/XY9P1Y0\n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\nwOxGPAtrlvK7MAcHCtqguQegGNKuE4yNJtUEvLYLvjSqgVj+xilVW3duqAYoVBYE70/HBa0qpp6n\ndgDjxJRS6bD0ZRXASVVhaQLtxGCyrvqEMnRAMSaVptGQ/EBtg8RVNtNCjjT78PEqg+ko4+IDJcaK\nS6XRlH2dslxlHChH00pUjDxLSEe3KbkZISWlEovQjJIWlVGwxAUqRoMaJW1Jm9t8kNkWouzUrTCo\nCBkkr1P0YgLag0gPU5KltSLL4/fihwf5ZLhQ3ywUq0kV3w2qwkdq4q6o7nCqwv8Ay41a2t5P2OHh\nRbXJ/wCbHhW3VY9Tjwra3j3w0tt0xpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTG\nlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW\n3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3Uxpbd\nTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1M\naW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3Uxp\nbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt1MaW3UxpbdTGlt\n1MaW3UxpbaoQajrjS2uFQcHCtomGfh9rIyim02hmUjbpldbsgUaHT7WRNpaPpydTiLW3/9XyFBfh\naBs+hjF5JHCWOb7J3wVSRu2bfmMBKqDRPFthVpZmXY9MaRaYwXQ61OQMWScw6j6dO+VmLK03t9Yp\n3IyEoWtp5b6oXoCa5UcfclOI7rl9rKjGltWaZT9k4KSoO7Hr2wpWFwcUWsJU9caVTkDAVjNckEIY\nT1PFxk+GlV+Ab4huMiTSuktlYVwCa0l0tsCCKZaJKlr2h3A39snaoR7DxGG1QUunp044RIhFJVca\nctOlMsjNiYpNNZAHfLBJiVJbVV+0MNlVT0Y+4AwWmlrRIvQUwWpCk0S/ThtCqnFfhJ3xSAqgL9GN\npXhQd8HJHNzIuGlKmI1O1MUA0uENemBK/wCrk4U2qLaknI2ilxtwOoxsLuh2VV2GFQEOaVoOmICl\nwWu+NrTZWvU48S8KzYdMNIcI+R22woRCw98CQiUhpucCUbFAW6ZCUkgI9bZUHIjIMqbJVegwKs9Q\n9BkuFFtHm243wBVPgT74QVWmJugGHiVb6Uh2phBVwt274DIKArLa164DJaVltB7nBxJpEJZ/yjBZ\nKohbI06YEqy2dD2rgtVdbQ/5jG1Vxagda4kqqCJF2A+/I2rfJV6Cp+WFXes/RUOClbD3LfZSmCgq\nsqXbbdBg9IVXWyuX+04H04OIKqrpMh3eWuPiKqjRwPtSHB4hTTf6LhH2pMfEK076naJsX/HHiJVv\njZR964LkhozWij4cakqj9atx9kD7sPCStrGvYx0H4YfDVYb4dsfDRaw39egw+Glb9er1448CtfXB\n3Iw8CrDeqO4x4Fa+vp44eBVp1BRsMHAhadQXof1Y8CVv6QH+Yx4Fd+kB74eBWv0gO1ceFWv0j/Lh\n4Vd+kTg4Qrv0mceFWv0kT1GIgELv0iDsRh4UtfX16kY8Ku+ur4Y0rf15fDfGld9dB6DERVabsHoM\nJCrTc1FKYKVTM3t+OSRS0z0HTfAtLDN8sVWs4PUjFKmzKO+KqRkHjhpCmzKe2KEMyjscKoV171yV\nqolDkrQVojOHiRTZibpiJBK0xSeO2A0qwrIN+mHZVMtIu2SADFTMkmJpWiZPfCq394exxtV4D++K\nVwEg6rXFFO/eDbicCtjkf2TjxJql4jJ3KnEKWxDX/awcSaXeiV6YLtaa5sm5r9+HmoXi5YUXjjwp\nVVumG4GRMQi0VHqD4DBIkil1Fh9GQMU2q/pMnx+7HhW2hfkHqcFLaot+e5OPClFR3Fe+NKjY5mHQ\n75HhQjY7plG++RMEoyKQyfa2ysjhVG/VwRuMiCmkHLZjcjbJCXeikqngI2BqMtBVK5LdutN8mqVS\n2znamEFFIZoKdcmJIIUHioNvxyaKQzMqdceaEHNcA7DbCAi0plkrtkwpQnXfLAEOySuxpXYKCupj\nQV1K40rqYaV2NLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tO\npjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06m\nNLTqY0tOpjS06mNLTqY0tOpjS06mNK7BSuxpadTDS06mNLTqY0h1MaS7GkOp3xpLW2Clp22NLTYF\ncaV1MNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mN\nLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0t\nOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06mNLTqY0tOpjS06\nmNLTqY0tOpjS06mNLTqY0tOxpabUld1NMiY2qIW7deu+RMFXG8PWmR4Uv//W8V0z6Op5FcrspqDk\nDFUfDfumx6ZWYJTVLwSAAgb5CqTzbaJJN12OFCHMLRn2xpSrJKw2OAhPEjI5SN+2AxW09tbgAAeG\nUkM2QW92BtU1ysxtKbwTq+3fKZAqjkHMVHXI2kOkiqffCFKHaI4TJCGcOvfCN1QErnrloCqkVyyn\nIyjaptG4lFe+VEUkFbJATuMQUUhHg703yYmqiYT075LiVCTW/KpPXJAql0lsf2hkrQUBNZRn4iKZ\nISIWknmgUd8siWKWOOJoctW1Jm+7AxUHcHthAVTqtMVpVVgaUORIKQUQMKnZf8+uFSqIPbFVZRTF\nCsg75WSyCpxp1wEpQk7ECg6ZKKCaS8mp3wlQba2GFC1np0wUpKl6mSpQG0PI1xQRSMjCj7WALdqv\nrBfhUY0qvHIetMBSmUXKnInKpMgrl8Cbckby/ZFBgKolLLju5xMrWlb0VXbASlcIwOgGKrvQZ/s1\nwWrf1I9Xw3aq6WK9waYkqrrbIu3EfTkbVVWMHYD7hgtVQQMeinHiVd6B7gfTgtV3pgdWA+Qw2rXK\nMbVJwblXc4+wJ+/Buq4SRjcgY0SrX1mJfAfRjwlWxeRDuTjwlW/r0Y6L+OJgUNNqQFKAD6cfDSpn\nVKdDj4aqT6qT+0clwKhzqPzOIiqib5j0GGkWs+tSE16YaSu5yN3xVeI5G742q/6o7bFsFqvGnu29\nfwwcQVVXTT3J+7HiVUXS69TgOSlVRpYweIFVP0UD4ffj4itfokHpT78fEVv9Dr4Y+ItN/ocYPEWn\nfocY+Iq1tHA6YfFVTOj+H68fEWlFtHftXD4gVSbR5egwiYVRbR7jouPGFUTpN2PsjD4gVb+jLxf2\nPxGPGEN/ULodUOPEEtfULn+XHiCtmxufAY8QV31S5GxXDxBC36rOf2cbCWjaz/ynFVptpB1U42qm\n0Mn8pwhFLeD91xtad6T16YrTf1d+9MNqu+r02IwWleLYHtjaFT6qnU42i1xtYl8MUteinbf6MUrT\nb13AxVr6mWGwwWrhpcj9seJFLxo7nt+GPGFpf+hq9QcHiUtNHRlX7S4eNaQr6Wq9jkhJaQxsgDsD\njxLSm1tx3K48SqJiA6imFDlAHhioVKqOwwbpXBk7gYqFQSp0I/DBS20WjPWmGirYELeGBXfVY5Om\nEEhaUm08dEGS41peunudwuAyWlUaZI2wpg41peumSL9quJktKo08joCMHEtNNphr0xBWlh0+QdAc\neJaVRYldyDja0rxWbV64LSndtZbdcrlNU8trYKBtX55UTaaTaqAUoKjtkaVLLj4ugp8sKlJ57Ysa\ng75ZGSEnuFdK7Vy0ISmW64j4h0yQCpLc3oNaDfLYxQSkkty1ak5YAwKDe7J7E4aVBvMSdxkgELKM\n3QYVW8GG5GGJpWtxsRTJCVq7CrsVdirsVdirsKuwK7FXYq7FXYq7FXYq7FXYq7FXYq7FXYq7FXYq\n7FXYq7FXYq7FXYq7FXVxtXVxV2Ku3wWq8Rs3RT92DiVd6Eh/ZOPGqqtlM/RcHiBNKx02UDfbB4ig\nNjTZD0rkeNPCvXSpT4/Tj4qKVhpDd64+ItKg0Y5HxU03+hW8Dj4q8K8aG5/ZP0nAcqkLxoLntTHx\nUcK7/DzHcnHxk8KoPLh7nHxk8LZ8ugftYPGXhaHl5RuWweKjhXjy/F1P8cfFLLhVB5fjPRTj4q8L\nj5ej/lP34PFRwqZ0OJeiH78fEXhQ76Ug+yh+/JCaKUTpY7J+OS41pRbTuP7J+/D4hRSHa0Udjh4i\nhYbUdseNkQpm2pv0w8RLFQaPj3w8RVTyQlauySuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV\n2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2\nKuxV2KuxV2Kv/9fx4NMlOfRHiPIqo0qQ7ZHxWXCvGjucTktaRMWluh6nImagJnDpwbuRkDkpPCj1\n0gN0OR8VPCrpoY6qcByrwoldFHtXInImkdBpAGx+/IHIqfW2kgU5b5WcqQGQQaXGKE9cqM7VM1s4\nl6ZDiZiKnJaoemEFiUI1jy2Bw8SaaGmV6nrhtHCptpII7Yia8KAm0oJuBTJeIVU0tTGaDbCZWtJn\nBAW2IyslUUdNLj3wGYTSCk0x1PTJCaCKQMtg5rsckJISyeycdjlsZqls9sxXfJ8Vqkk9r1PfJiVI\nISSeHtlwkxpL3iPh1yTG1MW9e1MbVY8FNsIV0dvviqLWKm2BVUQE9OmAlNUrCMrtjxIou4/QMeJN\nKqkDYDIJbJNK4pS2Z96ZYwtCkVwFIWUpgUrHIHXJhitC8/irQYLZlEKAOmNsVZYy3yxKopLQ9WoB\ngMqSAi0UR7Df3OQu2SuOTYOSopIj1yFppHRK3bIpRIhJ+2fuxRaoIgMK2rooHQD55EpV6V2rX5YF\nVEgZtxsPfASqt6USbyNXI2VWPPFGPhX78IiSqCbUWJ4pQfRkuBWvrLHdnw0EKTXaR9W3+eFKgb8b\n8fxx4UWptfnxGGltS+uM3Qk40lwkdtyD9+PJC8cj1pilcEZv2vuxVcLVj/NgtCoLMkdDjaVRbEdx\n+ONqrrYAitBkTOkKo00f7WAzpK8aUD44PFVcNJHauPiKqLpZB+GuPihVRdOcdemAzVXWzbocHGqu\nlpJ0AwcQWlcWcvhg4lXLaSntgMgU0u+qyDsTkVd9Xk8DhCrhav13GAq76u6/axUtiEjvhtK8ROeh\nP3Y2hcLSVj8NfuxtVYabKe4yPEkBVGlXB6YmQWkQukXA3amAzCeFeNKmG5pg4wvC2dMk6HjXDxqA\ntOluafZxEwFpr9ESHsuPGF4Who8n8q48aOFo6TKP2VxGQJ4Vp0iX+RcHiBHCsOkSV3jGHxF4Wjpb\nDrHkuMJp36Jr+wPuwcQRTR0Tl1VRhGSl4VM+XwdgBj4i8Kw+XlA3Ax8Uo4SsPl6PD4pTwrT5dj8c\nfFKKd/hyPxw+MvCpt5bXtX7sRmXhUf0Bw7HD4tqQ79Ecei4TNaVBpo7qciZqrLp6DoMTJVVbMJuF\nwWFVVhA7YkqqfV1IpSuPEqw2i91xtVp09X/ZGDiCqR0OOTfiMPiELSGk8t1+yu2EZl4UK/lhT1w+\nMtIc+VfCmS8ZFLW8p1/Z+7Hx00oN5SA6DD46KUz5SbsuHxlpRbypKNwu2EZkUoHy5Kn7H4YfGC0q\nro7p9oUwHIEoyPTT9nocici0jk0x/CoyPiKiRpLH9k09jg8RNLxphXqpHzGDiWnGwH8u+CyrX1MD\namNrSoLNT+z+GNq3+jeXb6MeNVo0YE/CtKYfEQiEsWiNCNsF2qMW1cDmAflTBYZKLo/7QphJtbUj\n/ldcCoWYL3xQUmuIQalTl0Shil78JIb8MvCCxe5ZanbL4sEollC998ICCUEz8jUDJgIaFT1wnZV2\nRtURGo8Rinkr+jXcYLTwrfqvI++NopSawY70wiVIUzZsPEYeJVM2rjoMPEq027jqD92PGq30/nh4\nlWFSOuAEqtpjxFXUx4irqY8RV1MeIq6mPEVdTHiKupjxFXUx4irqY8RV1MeIq6nvjxq6mPEVd9OP\nEVdTHiKthSelceIqvEEjdAceNV/1WTwwcaqi2MrdsPGlV/R7j7Rx40L004nahb5ZEzSrjSnO/DI8\na0qLosjddsfEWlddCPWuR8RPCrLoJ8cHirwolNDC98Hip4USulovicByJ4UStiq9MBnagKi2oyPE\nmlwtlr742tKq2TP0GJktIlNKc7EZHiSjI9GbrxyJyBUwi0J3341+jI+KqNTQKdQAcHiWtK66Eveg\nxOQppW/Qkfcg/RgMytKq6FFSpyBykIbbQoBvxrhGQqonRoQPhXDxlNKR0xF2VfwwcZWlJ7ADquEZ\nEKJsU7DD4iqMlmvYDJCdqgns1rRiPoyQkqGls0G4YZIFUqmt6V+IZIFCUyp1+KpywFiUvkQDcnLW\nKGag3xShn4kb4AqDkCZJBQxCjYZIGkLceIq6mPEVdTHiKupjxFXUx4irqY8RV1MeIq6mPEVdTHiK\nupjxFXUx4irqY8RV1MeIq6mPEVdTHiKupjxFXUx4irqY8RV1MeIq6mPEVdTHiKupjxFXUx4irqY8\nRV1MeIq6mPEVdTHiKupjxFXUx4irqY8RV1MeIq6mPEVdTHiKupjxFXUx4irqY8RV1MeIq6mPEVdT\nHiKupjxFXUx4irqY8RV1MeIq6mPEVdQ48RVcEJ8ceIquELnsceJW/q8ngcTNV4tJD2x41XixlPbH\njSqDTpTg8RX/0POnCv7Oe+PLU3xPhirvTJ7Yq70+1MVbEZHTG1RUbFdmxSjY5a9TkTG1R8DK5AJy\nJFKnCW4AqDlIKQEbCpSlMiVTy3HIZCWyRzVzHTqcAkzcop1wlhsSqAb17ZAytmtoDv2wiRS3krYi\nVqciBhQ4BayiEseMA0ByY3YBEwqAR44CVCbwMOhplZG7YimRXG43yF0mkHJAFNKZIGmJFoKe2Vu2\nTEkEUk89n3plgLFJp9PDgmmWCdIpIbjTEruMtE1pKJNOVTTtlgkilv1FT1/DHiWlCWxUYRMopLmt\ngpoMsE2PC16VOmG1pcoIHXbAleGH7Q3wJVFoe2RJpW6AY1aoeW4VfnkxFBKDkMb7ttkwGKDYKTRM\naTbXoM4xQ42/HdhXCq7genT2GK2rxwjq+BeaJEgTZQAPHBVp6LllJpjwrash398jyZI2KNpPs9Mr\nJpU2gtD1P45G0owQceuRtK4Cuyj6cldIpUWLxyPEtKoUL16YLSptMF6YaRai92abmmIiAqEkumOy\nbfPDSlAPcAbu1fpyVWtqBv1XZB9OEQRaAm1QAfE33ZOMEcSBN+zmqCmT4Qi1RZi27EnExQEbDIKg\nAffkJBkmUUjdABldMgiVkHVvuwKrrIP5cUomNydlXAVR0cLv0yBNKmkOlyyAMFNMgcipnFoUndMg\ncqeFMYtC/mUDIeInhR0ehE/ZU5A5U8CMj8uOxoFOA5F4EfF5TmbopwHOkQTFfJ04FeAyHjhPhrx5\nUk6Oo+7B4y8CvH5RB6r+GA508CMXyn4U+7I+MkQXjyqfH8MHjJ4V3+F28cfGXhb/AML1FMfFRwrT\n5Ur+zhOZIiVw8ojvQZE514VQeTVO5IwnOvhqg8mIDUU+dMB1C8C7/CMa9T+GDx14FVfK8Q3J/DHx\nVMVZfLkS7AE/RgOVeG1QaHEv7BOPiIIcdHQbLFg8RTssbSUO3pH7sIyKAs/Qy9RF+GEzWnDQhWvp\nb4maeErxoJ7JTB4oXhKqNCA2KfgcfFCeFUGhr0MYwHIvCWv0FGDvHTHxF4Fh0BOoqPlicq8Ck3l4\nN0P3jEZF4Vp8sOenAjJeKEcKmfLEn8gP0jHxQvCs/wAJzN0jP34+MF4VJvKs6bmNqYfGC8Kl/h6V\nesR+7D4g714Vy6C42MRH+xwcYRTjoTDcxn7sPGFpTOhnqyH7seNaQsmgA9FP3ZIZFpBvoPgPwyXi\nIpBvoRXth8Qo4UG+llOq/dkhkXhU/qA6FTXHjQIheLBPDBxppeLIHZVBx41pV/R7HomDjTyVE01j\n9paYOJVf9EMfs748S00dMkTquPEqj9RI648a00LHpXHjQtNiBuBh4krRbb0GPErbWtOoGDitVpgH\nSgw8SrfqoO5XHiVQk09X7YRMhBigZdI3qoyYyMeFSS3eE0pVfDDxWoCqXQfaBBwUm6XrIp2BBGNL\naqIopBuo+YwbrVrxYI3Qg18cHGvCiF0ct9kU+WA5F4W30Yjfvj4qmIbWwKbOB88eO0qn1RTtUfRg\n4ilX+pqVNOuJkqUTQcNyPvyQKCEpmAauwy0bNZ5pFcxlSa5YSrHb2R0U8d8tgLQwq+uZKnlmTCIL\nA7JBIfU+eWlihWhr4HCrYsuXbFC76ie4xtW/qAO+Kr1suPWmKqghK9MaTatE3EgEYCLVMl4t0ys2\nyWtADvgjJSEO6gdOmWA2gilE8TtTChCzIvSmFCUzpvthilC8e2S4UFvjh4EW7jjwLbuOPAtu44OF\nbdxw8C27jjwrbuNemDhW1ywu3QYKSiFsnPXBaolbDbcHAquNP9voxJTSITTa/s/hkeJICKTSXbfg\nafLI8YWii49HC7sNsBmnhRS2CdKUyPGml4sYxv8AwwGZXhX/AFJOwrjxJpVWwHYffjxLSNi02vQE\n/IZEyVHJpBb9k5EzSmEOhE7lQMgcioj9Dldgo+7B4i0ptpb+Aw8YVZ+iX8B92DxFcdGc9hh8UK4a\nGx3JoMfFVER6Av7RH68HiJpHR6HGm/8ADI+IVpFx6Yg6LkTJCNj0+m4A/XkeJIFopbIjeoH0YOJN\nFVFo3Qtg4l4XGxbqDXHjWi19Tbth41orfqzDYjbElaVkjbuMha8KLS2D7MMiZUy4XNYqemHjRwKR\n0vl9kZLxF4UFNppUU44RNFFKZrcx/s/fkwUIKRajdcPJCUz2gb7JIOWxmqXS2Tmv2jkxJUBJYN0I\navvhBVBSWL70WuSBRSWTWchqCMsjNiRaWyWTA7jJiQKKQzWh6EEjJWhDSWfLscQVpDmybqP1YbWl\nM2jDvg4lpabZh3GG0KJjIwq7jhpXccPAi3cMeFbdxx4Ft3HHgW3cceBbdxx4Ft3HHgW3cceBbdxx\n4Ft3HHgW3cceBbdxx4Ft3HHgW3cceBbdxx4Ft3HHgW3cceBbdxx4Ft3HHgW3cceBbdxx4Ft3HHgW\n3cceBbdxx4Ft3HHgW3cceBbdxx4Ft3HHgW3cceBbdxx4Ft3HHhW3cceBbdxwcK27j4b4KS2IyemB\nVVbdm7Y2qstkT1xtQiF04nahyPEkhFJphPUY8a0iE0rxAyJyMuFELpQGROReFELpijtkTkSArDT0\nHUDHjtHCqC0jXrT7seIppd6CDoPwxsppv016AZElaXemOwwK/wD/0fP9Bnvby7sUOril1RihonxO\nGltaWHc40ttcx2ONJV4Z6GhriVZBa3nRanKpQVOoZAftHKSEhNYLgLkSFKaK4k3ByHJldrDXrTfJ\nMT5tVOKuVj0GK7qbsy70wIcs3IUYYWQPepSR8t0GEGubG1Acozv92SO6UTHcL3JGQpbRsd0DsWqP\nHISiy4kasiuKEg75GmVtmMsPgNRgCoZ0I2oMnYUpdPEN/h+7JtdUklxErV+HJA0qTzWan2rlwmhL\nZLShIBplgNqgZIGHuMKoGWAH54QaQg3gI65MSQoiBu/TDxLSslsRucBkmlz0AAXAhCyvxHEZOIQU\nudgcsYIV61/piUhyV74hPVGRtU4ryRrKKdK5DklpIgakjEyWlpiJ6beGESQQo8ATTrhMlpEJGW2j\nFcgZJpObWwPWQfRlcpJTmKFYx0GQJZKw3wFVwQt03xulRMdsCKsfuyJkq9lSPdsFkqlc86r4+wyw\nKgHdpD8OwySoWWQRCrGpxAtCVTXUjfZ6ZbGLElL3d3JAP9MsApF2pm35f3jEnFirJaV6CnviTSaR\nC2IG7b5DiZcKI+rKvbImRUBcIh+yuNppEpA/gPvyJKQmMFq560H05Em0p3bWHKnKh+jK5TVlljo0\nbAFlyiWRIFskttKiSlEFcpM2fCnkGmM1KKBlRlbIBO7bQvUoX3yEppAZDa+XkUD4Kn5ZUcjLhZFb\n6DF1ZdsrOQsuFPIdJtYwP3YqPEZWZFapFrbRJ9hFHyGApqljoF+yv4DFCj6df2d/oxVa0DDYIv4Y\nVQ7wN3AHyxBpNqf1cnZRhtbd9Uk7LjxLa9LZh/eDf5YkraI+qlhtSvywWtqgsT+1Q/RgtV4slGxp\njaaVRbxL9oinhgtDdYY+pGNKpNdwr3WmNFaU/r0HQkYeFab+uweIxpVT63B2ZRjSF4uof5xg3Vs3\nNv1LLjw2yaNzb9iuNFC36xANuQw0rRuYD+0MaVrnCdx9+KHcYW2pX78CtiKLoEwq0beP/fe/uMVc\ntpEftJTDZVetpEPiAyPEmlT6uvUVGFaWmAnoxwWtLDC38xwobEUi9DXFLX7zrX8MULOTH7Q/DGlU\n2odmC/8AAjFVMxRP1jQ/RhtVCTTbeT7UQ+jDxFBFoCXy/aSdAV+jJ+KV4UA/leI7xyD6RkvGRwoc\n+Vn/AGGQ/Th8YdUcKkfK8g3KAj2OPjArwr00Fk2KNicqQEXFoY7gj6MicqRFMI9ETq1PuyJyFeEK\n/wCh4jvxrg4yvDShLoVu37O+HxCFpLZ/L0HbbJDKV4Uon8v0r6RrloyoMUqm0mRMkJAsSEE1u8ex\nFRhVQKHoV+4YVWlabhaY2tLzGrDoMbVckBO3bAtKjaasn2hv44bQgJtIputCDkhJUtl0ruVpTCJo\nMUD9U9I/CxyQkgRpXiDq1G6YCllFoVIBJytkE+ht0nHUHISlSQpXmjhRVemCOS1IY7JYNAdjT55Y\nCikHKxj2Jo2EboSG+MlKxmvzy6FMZJA90ynjKMtAYISV0k7b4eSlJrmFG6HJxKGNX+nqwLId8yIz\nRTE57Qxk8hl8ZWwISySq9BQ5JFLUuWU0PTChGRzq2464CEhX5g9aZDhTaoEqK4bK0u4Ae/04CU03\nQHoMVXxgoPjwUlzvtSuNIQUrUFQcnEMShPVC/PJKsZwehwBUK4qCBhtCAeMqa/jkrWlPfDutNb47\nrTe+O60qIjv0x4qWkwj09364DkpQEyi0atCwP05WcrIRTWHRwf2R92VnIkRRiaPXcbfRgOQp4UXH\noyftHInIvCi00qJegr88iZppHR6eg6IPuyPGlFCzYfYjA+jAZKte1lHWmASBVCyWrnZjtk+JVgsT\n1AJxMlREemSN0WmRMwqMi0c/tZHxFTa30dB1FT75A5FT2302JAA1BlZkypGi1gU75DiKSAqCKEeG\nNldlvGEddsO6NlB3t1HUYd1NdEI9xbg0NMlugLDdQ9lr9GNFC03EbbKv6sapIXpwf7RphJUlMIoE\nYAAAjKzJICZw2gbbiD8sgZMqRgsdqlafjkDNNOFun8uNlaXiyRuinBxK2NO8MPGtLhpyj7RAx8Qq\nrJpcZ6EVwcZTSr+jVjFdsHEtIV7cA0GNrya9IDcYq07EdD9FMVU2bl9pckAqGeKM/sjJBFIR7aJt\niu2StHCgJNKhfp0yXGUcKAl0JD0JOSGVHCgJNG4V/rk/ERSCbS1G/TJeItIKWwi6Hc5ITQlU9hEN\nxkwbVKpbFDstcsBRSXyab4cskJ0ikDLpr9QTkhNBilstlIv7JOSEgikJ6L9CDkrUKctoSKqMIKCh\nfq7DZhTCZKsaFl7ZMSQokEY3a01v447rTt8d1p2+O607fHdadvjutO3x3Wnb47rTt8d1p2+O607f\nHdadvjutO3x3Wnb47rTt8d1p2+O607fHdadvjutO3x3Wnb47rTt8d1p2+O607fHdadvjutO3x3Wn\nb47rTt8d1p2+O607fHdaXhScbWlVYSciZLSJS05bHBaoxLEdhkbSjY7D2yJnSaRiWQG5GDjZAIlb\ndR065EyJTwqoiVcjS0qUAxpaXV8AMeFLYJ60wFC6hPQ4Nlb4HqanG0u9Ou5H342rYQDwxtV1B1wK\n7iPnir//0vP25z3t5ZwHjitN8a4rTvTrhtLjEKdMbKteiPDDaG/SHYY2VcI+4GC7WkZCN64ClPrd\nnUUO47ZTIWqZQScjkCKSE8glK0BGVlQaTRSJBv1yBFNl200JU48SBFaPh6jHiSuNG6Ygq0qhcJC0\nF9AewyPJaaaNW7YQe9FBCSRBRsOuSBYkUoBFJ8DhtC5PhYKDtgtCbRHcb5AtqJaPlvkLTSFkgJ6H\nJiTEi0iuLdxUjfLQbYckoeJ+4rkuSlDG2L9RkuKkKEtqG2pkhNUsmseO5G2WCVqgns+w3yQKoL0e\nJNR1woU2IGxwgWpQslP2emHkpQ0ichXrhBQlk0bH5ZaCwIQhSm+FbaBPbG0hG24qadsSVinCpXYD\nKSyVCnAVYYLtUDK9eg2yyIQSugt2mPwigwE0oZHaWfpAHvlJkyTAJTpkbWmt26dMISiI4i3XoMiS\nqORFGxyB3VfI4Ap2xCpLc3IFQMtAVLmbluckqEnuABQHCAgpYTy+JxlgFIQ0j+oeK5MDqxu1ZLet\nAepyJkmkYtmAN6ZXxJpV9IINhU43atUbww2m1ZIS+2AyUphDp7N3rkDJUyg0kftHIHJSU3g09E6A\nV98rlNWQWlkoodh9GVkpDJLdIo6bk5TIlmAntvPEgAGxyosk2gvwlONMiQlM49VPQgD3yBgkbIpN\nVPQHE408RTSHW5EFK7ZA4l4kyi1uRtuNfnlZxpEkwh1GWQ04j8ciYsk1WXYFhvkUL+deoxVDyMg6\nnAFUApOy4VXCq7mmKqqM52A28cbVU4OftGlMbVazJGOTtjzW0DLqsUVQlSckIWvJJ7jV5X+weIyY\ngsiAlU17K25Y/fkuFgZWhGuH9zlnAotYbiUjoceEItWWWQ71NcBitr/UlwUFsrucvjgoKJFsTOBQ\nk1xpbtrm1dwcVtxmK78ThpQV310DYg4PDtlxKgvlweHSiaut53DEZExplxBFJqXDpJX2yJgthFx6\nyR3Bx4FsIhNYUncb+2AxpbVxqiHxxpNLTqqjoCcFK1+l1HVTTD4arxq8fTcHHgVWXVI27j6cjwKq\ni/i7kY0Qqqt1E3f7jgqlKrzRumJVcI67gjBauMW42FMbWmvSHYbYbWlvpjwxtaWtGp8cUKRhA6H7\nxhVSbkp2AP00xVoyMOq4q4Sk9RirmlbegxVDNcv0pkqSsecncNQ++IitId5GOxpTJAJWA02xItVj\nIrfaGKDul8tmjGtBkhMseFBNp69VGSGRBitOn16jCMiOEoSTSQ26Df3yQmtFD/UJoe3w/LDxheTf\nAnbYHJIVhaM24yHEtWoS6cz9R92ETCoJtJ/ZK4eMKhJdFZfi4mnth4lUUgMZoK/LCqa26tH8S1Bw\nHdU/guzIAku+UyhTLi71O8tlkUkfThjKlkKYdf2DKeQFRl0SwY9NCenT2OWCSClU1oH7ZaCx4Ull\nteO1MstCWTWtdxkgWKSXICDi3XLYKw3UnG9OuXwDGTHHHKoJy9rQEykdOmI3SpBim4OSq0KouT0b\nrgMVVlvCOjYmKUQl5TdmyNLaOju1IqDgISCv5mQUBx5ItT4vWgw2FWtC7dcbWlI2rHBYTzWGyk7D\nG1IUfqko9hkrQ4WMjbkHBxKN1VdPrsVxtac1lGn2hTDaocwgGgAwWtIqC1ZyAo/DG1pkVrp7ihOV\nSnbMBOobJtqZUSyTiCwdqfD9+QMwFpMU0s9xvkDkVXXTKmm1MBmtJhFpi7EgDIGaoxNPUYOJVcWY\nIoBXI2ypSOmgnoScPEil66MvhT6MeO0iKsLCGDc0JHjkeJSKUZSi7KAckAUIMzV2pQewyQChaJpP\n2FPzONJpwln6MwAwUincm/ak+7DslUEqgbuxwEIUzPH7n54gLSg80fULkgoUWuFHYD6caVb9YQ9S\nuNFba9dR0YY7raJivAvQ4mKo2O7ZqKpIPzyJCprbzSDochIWkEp3DJLTbf6cpIbEWiTvuoGRulVu\nEy7k/jtg2VXVpOlMQq1xKe22K2sUyJuRh2VQlvGXp92ERVCtqLqfsDJCFqonVmWtUw+GxJpdHq6N\n1WmJgvGEUNQjkFG65HgISpMY33Vvowck0osi+IP05LiWlP0e+HiQ3xI7Vx4lUJAKcWFPowgrSVXN\np6oorZYJMOFJptHlbcUOTEwjhSyTSZU2INfllgyIQjac6/aGETC0hZbEL9rrkhK1QL2tPs5K1Qcn\nw7OoySEulkibYxjJAFCWzNGfsrk42gpRMKmlMsLEBBOg7jDdqQhinuMlaFvpe4w8SqTLxw2q3FLs\nKuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KrgCTQYqiEhPXIGSEbHb1\nPTIqmMVpWhOR4qTSPjtlXoN8gZWypFpEFORTS/iBsMU8lwxVvClUEZO+RMltUENdzgsqvCAdcCKb\nooxS1UYFarirYGKu2xVxOKtEnFX/0+DUPfPfHl1RUr1IwIXemO5xW1wjXCtrvTHXFbb4r4DGlcAv\nthVuq9qYLW2xIB4YFtF293w2rkDFKZxT78lysxVPILqoFcqITSbwykfTlcgmJTNHDbZFm2YwKnti\nqiyD9nvjZStK0xtC9kAFQN8SVUuFN8JlaW/TDYiSDug57egqpyQLAikvVWDUrvkyQgp5bKdieuVy\nZxTSJGbbtlRZqj2rKK1qMAK2oGzMnhkxJip/omvxbHB4i8Kw6VT9muHxF4UNNpCkbimEZEGKQXem\nqgIGXRmwIYxcWTISV6ZfGd80JfJAy7EVyYlapfJb0bZaZK7QgZ7c12G+EFSlktU2HXLAhCB6ncZM\nit2NrDGGNemIktW6K1r03w8S0m1tZHuMqlNkIpqLIpvTIWlDTxH7IG+EFSppp7SbnCZUtMgsdLZR\nWlcqlNU3isHJoRsMrM0rZLbiaHYYRNVEQ1NF6ZISVGRQECuVmStyD0xv1x5qlVxMDUdTlkAUJTJE\nx+JssSl1yWXYdMMUFL+Jc1PTJ3SGnYdCcIVSqoNcUJjAyddj88gUhHBh2IyLJY1Kbb4FWc+B3GSp\njaNguVp9kDAQyCaxXWwpTIGKo+OYneuQpUYkhqCvXIEBUzt2lYgKafLIpT23tJXoWY0OVykAkAlO\nYLRhtUnKjK2YFJxb2jDdQTkCUptFYSN1oMhaQndpoTOQQCx9hkJZGXCWQw6F6YBkKr+vKjlTwpjF\np8EdD8TZAyJSmCIEHGFMiSqosc79goxtNKy2Vd5ZB9+NrSp9VhTYuuAFadS3XYuSfYZJOzTNF0VT\n9IwLshZJiP7pG+jEBig3juZzRQwyQpIU/wBC3E27V38Tg4wFKoPLEjdcPirSIHlNuhIGR8ZRFWj8\npIDuan2GDxl4UcnlKLai4PGWlQ+UVOwX8cHjLS0eSvBPxx8ZaXHygy/7q3x8VaUz5ZKbNHTD4nmm\nlKTy6o39PCMiKQcmgp3jI+jDx0lCSaEgqOJByQmWJil0nl89UJ+kZLxEcKXvokqmnXJcaOFoaPL/\nAC/jgMwvArpobEfFQHB4i8Lb6GBuWp9OEZE8KHbS1j/3ZT6cPHa8C027xfZlJxJWqUGkkXHhCDIh\nZ9bYdQMeBBk19cI/ZH44eC142vr3biD9OHwyvEuW8B3KfccBxraoNR47BD+GPhpM1RdU8VYY8C8S\nqNVI3ViPvweGniCIXWpegYfdg8MLxBFprUo6kHImCeJFprYcUbBwKJWrfX1fod8jwpUHu2/ZYZIR\nWlP62/XbDwrS9b01o4BGPAtIlLlH/ZI9xkSKQWwqHdW++owK5rct0J+Y3xCjZQNnU/ayXEm162S+\nFcFoXfUVI22xtNrXsSu6tiNkKItD+0K5LiTbjYchVMHF3qhmsJkP2TTDxAq5bCQmrKaYkqiFsWAr\n1B7YOJbUZ9IjlHKlGwiZDGrStrNrU/5PbJcVqI0ioZQB8YHzwc2SO9GKcbAVyNkKrLpUbjf8Dg4k\nNHy/bTfCwocIyleEKLeWlX7G48cPio4UFNoLRjkvTuMl4imKXNERWNvoyV0mtqSGeJlqh3GXA21s\nZntjzIbpkwWKVTW3E17ZMHvSlN1CQCRlkS1yDHp1oDTqcutWNXsFST2OWwLFi2oWRbdRvl8ZUxIY\nxLbkdRSmXg2wpBSQmmNKlskLr22yYKFERk7b1yVq70z0GJVeLdz1wcSUVBHx2JyBQj1ofsnFKsrM\nvRvvwUtohJ370OAxTar61ewwGK8SqLgUocjwJtDyTAmldskIoJREJQ0qTkSyRrRoRVG+jIBUDJbh\nya5MTQQujsgKELviZrSeWVjU/HsMrlJkAyi2tYUHj88olIlKdQIvRQKfLKilM4oQP2gBgtUXwWlC\ncghSCR12yRKohTGgqd8jSRXVUW4jHRa40ysK4uwRsBgMV4lN70r0I+jERRxIOS7dvtnJCKLJQrOC\nKsTT7skBSoWS6gh+IgscNEotAS6v2jUAZIQVCtqLv3OS4FtTW45HeuIiq83NOn44+HaqZum/ZIw+\nGqz12bq2ExpVhkB61OIiqwyr4YaVoXCr1UY8KrxdwdwMAiVU2u412Sg+eHhVaL/gfhIx4FTK31mQ\nAKpFMgcasgttWkNNwfpyo4wkGmRW+qMQCx29spMGXGmkeojrTIGDIFGrfLtuQcjwkJBRiXtej/fg\npNqv6QQbPxJxpbVY7qGQ/EikfLBS2iWSzmFOFD40GDdaS+fSLaX7J+imSEiEUlzeX1G4IOT8QoMU\nM+hcd98RkKiNIR9MaPpWmEZFIQUsLx+JycZWqgZCv2q5JF00t2K/A2AxRxK63zdDvg4V41dbmKT+\n9ABwcJCbC8xwvuhA+WRspFIaS3bfi22TBtBBSe4tWNS1DlgLAikkntSeq5MFUpni49R8zlkShKZI\nkateuWWqBlsA2/XCJIpL5rBl+yNsmJISa4sz4HLYyYmKXPBx2yVLaDaH6MNocsdNsbWl7RV6UxUo\nV4GPWhGSBpCg0RGSBVaEwpb4Yq7hiruGKu4Yq7hiruGKu4Yq7hiruGKu4Yq7hiruGKu4Yq7hiruG\nKu4Yq7hiruGKu4Yq1w98VV44a5G0IuOIDI2qKjjHfAqOjTsBtkZJCMQGmQLNWByCrw5ONptsVY9c\nI3VVVVpvgJXkvDIuCirfrj9nGltr1SdsTFV4qcCt+1a4FcBTFXb4q3ucVboOpOKW9vDfFVw+WFX/\n1PP/AKoHfPfA8s71gO+GipLRmwUpLXrU7jGlt3r9uWNLbhMP5saW1RZAe+NLa4NiluuKuDU74qmE\nF3wNGyMo2rJbO5RqF8x5RIVkSSLQFemVHZUfEwpUffkZBsBtFCTahyNpXcAd1qPbGlUqFemBKso5\nDfrhtC0qxFD0wJb4MpqOmEBDnBYUIqcVS2SKhrTJ3bAxRkMgAApvkZBmCmSTcQBTK6Sio39QVBIw\nUqJUbUwXSQFyk+GJSiYmDdRvg5IChdIrKd8VYlfqtDXrmTAtcmNTMAKH78tQkNw6165bAMUskbl0\ny2IpB3QxQ9ScK2lV0qnYfawg0pQnpBRXJ2hQaL+XbDdIITOzt+Iq3U5XIsgnEFFNOwyJSjXkQDbr\nkQFU7ezNw1fHGUqVmFhoESD1JTyzHnlKRG04EMcI2ACjIXaSEvubxQOEQHzyQDFKxbPcnk3Q5IGl\nRa2QiFOOC7SEJOXHwr1whUulVzs3XJgoUUta18clxKsltigqPvxjJUqmtFO5FT75YChLLi2YD4KU\n9skCqXG3JNcs4kIWS2avxHCJIIaAVO+EglGy9ZT0HTAQm0XHK37PXIyCUwijeQciN8rSi0tGJwWt\no+GyckVwGVLSc29ktRyqcqM0sls7EHooAymUkgWyO3tFSh/VlUpMwKTyC09SgUEn5ZUSyT210mRi\nAFIHj3yJlSgMtsNAJoWBp4nKJZWYHeyy20uCEAqgLeJygzJZUjRGi7dKdsCVMhPtAAkdzihsSV+F\nabYaTbZdsaQt+M9Tiqz0pG3HT6cbVVS2c/axtNIlbT2JwFaRMenyyfYU0wGQCaR8Wjv1c0yPiBUa\numcBuV+eQM7VEC2Cd64LtV4Rf2QfuxKrjau5qFIxJVEwWEtewyJktJxFaEChocgTaaTBLT/J/DI2\nmlr2pp8IpjzWli2MrbiuINLS4abK3b78PGFpeuiPJSoweIildfLrD9n8Bg8VNKo8vv3T8MfEWlkn\nl4Uq8Y+kDHxFpASeXoDs8Sfdh8UhaQsnlWzP+6wPkTkhmKKQMvk60IqoNfnhGcrSVTeTYv2OX68s\nGe0UlsvkxT7n/VyXjLSBm8lvT4Vr9GSGZUmufJtxXaI/RkxmY0lMnlKePrGwyQzBHCgX8vTJsYz9\n2T8RPCEE+hzr+yR9GETY8Cl+i5V+2hIw8aOFYbGn7JGEzTKK36kKUKmuATRw02dOJ6c8fETwtiwl\nGw5fdiZrw042sq9gfYimHiRwrlRhsyfdgKQFWlN+J+/I82duE/LYqaDDVoBbPEjaqnDy2WmlFdmb\nbI80otIaUKPjSpjEXbY0OQIVMI4CKFcFrSLNs1KleuC1pTMZXr0woWg9hgKV2/bChRcldyPwxVpJ\nwDQ4qmUMi7AYhkEwWJX60HyysyrkqjLZ03Tf274idrSXvCV2cZO0UhpLbmKUqPfCChIrq0WP4o9v\nbJA2lLjI8J5LuPDJgWpZDYXyTDiTRvDK5RpCbpSu+QSqCQqKHpivJTkl7npkltjOoxAH1Yxtkhvs\nvNjVzKoHJvpy6Ia5bli9zOhPEjY5chLZtl+HceB/hhG6Ein8VGWhDHr2M9KZdEtbHLhDlsShIblC\nK+OXBBSprbkfiXrk1Q8mnJ140w8ZWkqutPNaqPhycZsTFLvqRP7OTEmJC5bCm5GJkoDbWoXbjhBU\nhB/U+bb7DChMorHgAVYHIcTLhVvqpO9BkeJNLTad+P44eJaXi2A3K/jjxLSm8QpsBTHiRSz0K0Io\nB7YbWkdBbMy9voyEpJATBbIAbg5AyZUpGExmvXDa0iIWNfhyJFKmCRSSUY1xtKf2cDrTl0ymclTl\nXZR+7XcZUUtkz9QcaWnepN+0xxpNKjM7ChZj8sVpoA9ycSqskoj+E/rwFC1rxB/t1wgKpfXh22Hj\nhMVKEk1Af7rFTkuFbQj3Esh3NMIiAhCugO8jE5IHuVYEUdq5KlbIPQAYRSrC/DqQMVWF1O/U4Aqw\ntTEKsaQDc4qt9VR7nCAi3F167YqhpJU9sISpVRv9rCheturf7WC1RCwRgUONpcsK/s1OC0IyFhFQ\n0P34JC0pxb3rGnFjlU4qmcF/Kprt9OQ4UhGpqwQgsT9AyPAmyjo9cjIp0yvwk8SJTW7cbvQ4DiJX\njRieYbTtTI+EU8SNTWIH+yRv74DjKeJEC+Rvsk5ExpN2iUn5bq2Clb9aRejHGlUXncnthpUK7V+0\nBTFUNLFG4NeuSEiFpJrm2jU1oa+OXRk1kUlLuYzSu2WVaAjIJVYdQciQhFksnxIcjSbd6hbdhvjT\nMG1Jiw7EjCwKiEZuu2JQULLZh6174QUpRcaQp3IH0ZYMiEmuLEw/ZOWCVopAFPvyxaQ0iBvtDChK\nri1RuoocIlSSEkmtlQ04nLoyYEJW8JB2GTYqVePXEKovKKbHCFQhNepydJdhV2KuxV2KuxV2KuxV\n2KuxV2KuxV2KuxV2KuxV2KuxV2Kuriq4KT0wEqrRw13OQJQi0iJ2GBUWkFNycBNJpFIir1ORsppU\n9RQKAY0m3esB8saK24TUPw4kLa8SE9sjSV4c/wCZwcKrw/0Y8Ktg1PXAQqorYFRCnGQTapUd8jS2\n1zHjjSW+VOvTGmNthx3ONJtsODjS27n4DAlsPTqcKCad6lO+K2//1fLB1DtXPoTheTtab/8Azrjw\nItb9d8P148K2t+unrX8cPCtt/Xz2x4Vtv9IEbUwcAXib/STDwx4LXiVF1J/DHgTxKq6mRkfDCbVl\n1I4+GvErDUa+GDw14kwtNX9MhX8chLEvEzSx1bkAARvmNLGzBZBb33j0OVmKUwN2KchkeFlZWDUW\nGxpTBwhFlel2ZDxpTAYotNraUH7WVzi2RKLPE5WyXKgPfDaqwgAFScCEK6eNKHCDSaQ7JxPJemSY\nqiBm2piSqbWkRI6ZBkEUQFrUZFLVAPixQSpevw37YaQltxccqgbZIRVIrmTlVRvl0Y01y3Y3eCin\nLYoLHJoyNhmREoQpjK/Ee2StCAnlO9MUHZLWrIad8mdlVRFy+FfpxtVVLUk9NsFppMFj7HrgVFoi\nxCp+7vkTuqrb2kl0/wAIwGXCrM7KwSzHKXcjMeUuJKImv6dNgMAikpFNfPMe59ssEEIi3AYgt1yJ\n2SE+twpAI75Ar1XSbDfBSlCejy65LipbQklqX2AxtVP6uqGhxtVklvUUWhxVKpdPZqlcsE+9FIF7\nMqeLDfJiapVPZspqMmDaEGbR32C7ZK0Ut/RLvsRQYeNNK8ehhd3FcHi2jhpHx6ekf7ByJlaaRAjA\n2HTBzWlZOANDiUpnbkCgUdcqIVPLWAt8TjbIEpZHa2pPsMplJlEMw07Tg9DSpyiUmYeg6boyEVNf\noGY08jPhZTDp0UHUBaeOVcVswEZ+7Xpv9OBIIDjJt4Y0xtCSON+R+7FUI0q9FUnDSqkIlf7ApiVp\nMIrSZup+4ZG00j4NNYn4qj6MiZJpNo9ORdmB+nImao5LGFBVuI+dMhaoqNYFGxTAbVXEtuvwl0A+\njAQVXrPa1r6in6cSCqst1ABsyZHhPVLf1qDuy40hatzCTtucaKo2O4X/AHWBg4Sqp9d4kFuOAxTa\nqNVRf2kHywcBTa8awp2FD8seBbXrqfKhGPhotVGpew/HI8KUTHqLHam2PClNY5+VCTxORVMY50X+\n8k/DI0qOSa3cUV6nFC7nCf2xXEqoNBE+4YA/LCErDYcvsSAfMDAStKDaY5/bU/RhtVBtKn6qEP4Y\n8VIQz6ZKP7yOnuDiJJWfo81oRT7slxIVBphPhT3wcSuOjo+zBT88eJVB9DhbYopGHjWkFceXLdh/\ndj9eSGQrTH7nypAfsquTGZFJTJ5RjPRR9+TGZFIZvKapuB+OEZl4VJfLwT7XE08cPiKrLoUZ6qtP\nbB4i023luOTYqpx8VNIdvJlu3xFCvyw+OUUg5fI0DD4WYfMZLxyqUzeRiv2DX5HJDMikIfJ8i7EE\nj55LxgUuHlF61p9Bx8ZSmEHlKuzAAfPInKqpJ5SKbqT92DxlUP0HcRbJU4RkBRTRtbm33qfpw2Cl\nTNw4P7wA09seFVrPA+7LQ+2HdaQbGMn4HoffCjZTox7gj2w2h3op4DBathGH2TTG1REVxJGaNvgK\nbTGO9VjQ7ZEw7kovmkuzZGiEoeW12LJ2yQnaEmubNZASO+WclIY7c2DLUjfJ3aObdhZksH6e2Mip\nLJgCoFRtla8lpJbbAqjICAcIKlJbqQBeJ75OIUMQvuNSOgOZEA1HcsPvo+JquWhBSmVnI2P3ZMBU\nIs4J4ydffJcKLUbmASqQBvkomkSFsWuLXcq+x+WXAsKSl7A98s40IKWzK98kJqpegyjYDJCSod4K\nipwopAyWYSpND8sklJ7iPeuEFil8se1ARlsUIP6s7mqkZLiY0qLFMn2d/pxsFPJVV5h9oYDS7q6y\nE7ttkSKS5uR6bjEJW8QNzjaqQDOaDfJWAik0sraZaEqeOVyISGVQWbulV6e+UmVMqRaaWWFWUZA5\nKVEJpscRqQK4DMlaV1RV6UGQtV/rIuzb4aKqy3SEhaUOCqTaJFxQUqMCqRmXqcK2tkvRSi0GCltB\nG7r3NMlwItQa4r07+OTEFUwS/U0GKr/SjH2jXBZVa8saDYgDDRKoU3Ab7IPzyQh3qtDE9aD55K1V\nAARu4GC1aIQD4mOCyqHd4V33OGiqDmvlXZBTJAKgmvScPCi0M16OhNMPCUWhJdURPsnfJjGtpe+r\nOfsnJDGGJkpjUZn6EZLgC8SoLy47HbHgCOIrv0jMuzMfvwcATxIy11Gp+I/fkJQSJJ7BfxHqQMrM\nWVptBPC1KsMhIFKaR3VsgrUE+2VGBKqi6gnRenuMTjTaqHRzyJ3yJCLcVXx+7EFVFgvY/jkrIVQL\nhTs1ckrlmp1OPCqLgvpIjVHNPnkZQW02j12VaD9eVnGy4imkestSuQljCiSMXV1kFCKHInEy4lVL\nsP3qPDAYqJKjhXHJSRgBTzSm7gl6oxIy2JDAimPzSyIeL75YBeyG0n6bUPtjVKjUuXTvt4ZHmtI9\nJCw61yJRaIDeO4xZDdo0J9vfFnWzYHeuKAoSiuIYSFJXcxK9akDJhaY5d2tDVDl0ZISOclO2+WhC\nWPOv2W64atbQ8kg7UIwgIS6VVYb7HLIoKR3cDg1G65bEsEv2yziCuqMPEFdUYOIK6ox4grqjHiCu\nqMeIK6ox4grqjHiCuqMeIK6ox4grqjHiCuqMeIK6ox4grqjHiCuqMeIK6ox4grqjHiCuqMeIK6ox\n4grVRjxKqIqnc5Am1RA4jbAqqrKO2BVUTAbUxVd9YxVb9YPYYq4Tk9cVXiUYq2ZvDGlXesO5xpXe\nuF74OEJto3lNseFbbF4w2GNKS2L1u+DgC2vF6e5wcAXiXC9p3rjwp4lwvKnriYLxK4uR44DBNqgu\nR2wcJW2/rYHfHhW1hu/fDwLakb0DqcPAjiUm1Be2PAvE/wD/1vHfDPod5G3cMVt3DFbdwxW2+OK2\n1wxW2+OKNnUPjilv4ulcV2b5OO+KF4lcd640qqLhhsa40m0zs9Ye3NGqVyEsdpEmY2WvBwN9sx54\nmYlbKba/ikAJbc5QYEM7R3qhviU1yB2QFRJjtgISj4b8qaEEkZEwtQmsGpqTSTbImDLiTGO5V/ss\nMrMSGdhGiSuwNa5XSqMgrthCrBFUVrkjJVRFFajrkUptGeAAHTIKpyzlPcYgKg2ugdqZIBUNJKHq\nF65IBCFZS25OSpCAljIBOWAtZY9cVOzdMsVLWgV++SEkUhprUqKjfJxmqSzWxPwqK5aChR+qhB0p\nhu1XRW9T7YLpUasROxG2NquJH2UFPfBShH2Wjtctyau+QlkpLL7bTls1FOuY8pWqFuJWY8QNskBS\nUrlcNsN8mIqhRAw3GTMkJnaQvLstcqkVCex28kQBPfKzK2VFFLbvJuwr7ZAyWrV1sWHbfBxp4EQt\nixFCuDjZEIabTQftg4RkRwoA2HFvh3yfHaKKINsCONMjxUjhQE+mBumx+eTE1MaSt9IqdxUZPxGK\nPh0uFQNhXImRLIRtVawTqoH3YiSmJQ01rwFAMINoS2SzDCtN8kJUqFbS961IyXiIXCwVBQmuEZFR\nkMIjyJNpATSKf0+gB+ZyJjakJ/a3ZNOZG/YZTKLMSZvpV5GgDMwFOxzHkGbMbbXDQIjgKO2UnEy4\n0yj1VSP3rg/jlZgmwrHVlI/dCte5wcFJBBaF677yGg/HGk0sa8Uf3RNPfCIoREN2pp6hyJimk6tb\nxdiq1HtkSFtNf0jKv2Fp8xkeBbU/r9y3RqfLHhCtiWd9mkp9OJAS4QPJ1kr9+Amui0qfUG6cq48a\nKX/o/jtgE6ZLlsxWh2GHjVHC0jjHImp9jkDJC4PT+7AA8TkUqwn4j43piBaFE3bVp6m3ucPCqLh9\nOQgM4OA2FTqC2tdmYgnIGRSmSJbLsOP05HdOyoLu1h3JTHhK2rjVrZBWqU+WR4CtqEnmO3XZCB9G\nPhlFoGTzBCd/UA+jJDEVtBN5htjXlL+vJjGVtavmC2H2Z6YTiRa4eYIG2E/XxODw1tFJrifs3A/4\nLInEkGkbHrjj7FwD/shkTjW0wh16XrzDfI5EY1tHp5hkHUfh/TBwLaJj8wjrISPvwGBTaNj1u2k2\ncrX54OFUelzBMKQyAH3pkapVCQPESwYH8MKtfW6D4hTI8Kro9RVftEHDSr21OE7MiH540lTrbzfs\nR/fh5K0dMs5RU8R8mIxsoUG0KybpX/gq4eJVP/DltXZnGPGqmfLUR+zJ9+PEtKbeXpE/uZNvDDxq\nh20q7Q9mx4glQewuAPihr8sPEEJfLAUP7yJhhBHRUO0cfWjCmSBJQvRY26N9+BVZIiPsGvzwFkiR\nFG+0y/Tj7kKMmmQyig+44iZWkiu/LymtFqD4ZbHKhi915fZCTCSPY5bHIhj15o8qVJFcsEgUUk3o\ny25pvTJk2pXC747OBjSFdbmNh1xVtZ18TgpVdHB364KSCi0kAPhhBZWqet2BIrg2Q0zV3qPnhShZ\neL7mmAMStj4A7CnyxUKzOOimmJSS6J1DDmK40gOvLfkhMXTrikhgt9OYiRIMviLYSLDb+4LVMe4z\nIApgx64uXYEdD75MBCSy3hQkP+GWiDEySqW55uCoqfHLBGmBTGNyy8qZWQzibVGVJQA258ceS1aB\nnsa7rQjJCTHhpJLy0WMVGWAopIJpmQ0A6ZeAhKpr8g0K1GSEaVL5r0UqBkgEJVPc8xvtkxFFpUUZ\n6sdh75byYLQQh2bfCq8XR8ATg4U8Tmll7LtiQFsrwXbelMGwVVoxG5wFkpLC7HrhsBjSbWdkxYN2\nyuUmQZVBan6PbKZSZJxHHLCAU39spJBVEcnYfFtgTaFlQk/24YoUmPAUO305K1QbvyPw5MRVaXIo\ncPCqKWYsKE0yBjStlaipY4FQkrcB8OSiLVK571waVywRpCEN4xPxHJcK2rC5c/Z2yNKqKsj7knFb\nXqAPAnDSHGQLuWH0YpWtOpG7fdgAVCtcogqTkqVBvqQNeAJwiCLS+XUHO1QBkxBFoJrruzE5PgRa\nHa6Xc13w8KCVFrwdKgU9seFbQr3Fff6MNItQMpPQYaRashkf7IGKUUyyKtWpgVLmd+laYVVYZG+y\nzYKVMIS56k4FTm3NPtVPyyqTNPIHU9VI+nKyGSapNxFQTkeFbX/XBg4FtebliBxOAxCXCYn7W+JC\nuqp61w2VWsVAqD+AwqoG4VemEi0KkdyOtfv2wEWtopL9k+zSnzyBxptM7W6Mw3plco0m08tOZI41\npkZKyGGtDWtcoIbAtnRnWlKYYlBDGp7BnY5cCwpYLBxSuNrTTIVND1xpKrGWXDzVGpKAKnrkKRyX\n+rXoDjwoJtSkuCuwwiK0gWlZjUnCGVIa4mVFJJrhQSxya7UV239zlwihjl3dBidxloCCk8lwibmn\n0ZaAxJQcl7XaPtk6RaDa4HV9zhYoZ7nkNhhpbQjANvTCi1nHAm3cMVt3DFbdwxW3cMVt3DFbdwxW\n3cMVt3DFbdwxW3cMVt3DFbdwxW3cMVt3DFbdwxW3cMVt3DFba4YrbuGK27icaW2wCOhxW3UPicVd\nQ9zirqHxxXZcCy9Ditt8n8cVaq3icUFss3jiq08juTilqh8cV2b3HQ4q3VvHGltxLHauFbdVvHAr\nfJh3xRbfqP2OKbb9R+5xpbW838caW1p5HucK21x98C21wxW3/9fx/vn0O8hbt8Vt2+K27fFbdvit\nu3xW3b4rbt8Vt2+K27fFbdvhV2+KuocVV4ZmiO1cFJBpPbW/cHv9GQMGQLLLLWOiv18cx5Y2dp/D\neK+4O+VSilNIrgMAT1yoxpUZHdL+0o+jI0qLW7jB8Dg4VR8V6pAB3yJgy4kULoHc7DI8KeJUW5D1\n3xISCFWJyTUHbvkSEoz6yw2ByHClDS3XL7WHhpbQnqFvs9MlyQ3wY40rf2TRsQqX3UooaNtk4imE\nix2Z+Z2y2kUhWYKKnJcKEullLd+uWiNKprRRU9cFWrSx+oeI38clyVM4bAOKUplRmVXvYs2yfZ7n\nETVE2ul8m+JfhwSmo3ZNDFHCOMfUZUlbKWNQN8VJtKLn4vh8PDJhCX8CDQYbpUZaWLTncHjglJID\nK4baOBQNtsoMrZiNItOPYV+eQoskQsgO1KHAVpEBuPbBVqpvdL9kCuIClCmUyHfYYlVJgv7P34Uq\nTbbjrkwhBuWB/rhFMSGwnLt1wE0vNv0SDQZLiURpd9WdumPGpFrxZSHZv1ZHxAirUnsPvyQyI4ED\nPbH9r7hk4yRRCEayZtwpGS4lWjTZGb4hTHiC0m1vpA6t1yBmy4U9ttN6UBOVGbICk9g04V+JTldp\nTmK3VdirHIkpRyLx+yoGQJQroWJ+0QMCbRgUDvg9zIEBcDTbAQz4kZA8afboT8sgQtp3FqMaj4Ns\njwoU5NUY7oa0x4UqK38kh4rt9GHgC0msTOQKnfIIRkTcTucAZBMEvI0HxOMrnDuVz6knZq/LEQW1\nH63y3Bp898mIrbjcoN3YnDXcpQ8urxIOKkD6a4OC+a2lk2r8zyQ1yYitrI7x5TU1AxIpBRouRGKs\n1MFLbn8yR232pBX3weHa2lN358t4a85vu2ywaYnogzpi15+alpDXian55bHSEsDlYrd/nGF2h6e2\nXx0KPGYtefm9cOTxcqPnl0dCAx8UpDJ+bNyOjk5Z+RBY+KUOfzeuR7j6cP5AI8UrT+b056/xwjQh\nIyltfzhnHcD78f5PR4qKj/OZx9tj9GA9np8VHxfnSK/E5yB7PXxk5tvzlVuslB88rloGXip7B+cY\nHSf8crOgT4qe235xg9ZvxOVnQ0nxU/t/zcRqAyK3zOVHRFIyJ1B+akb0qR9ByB0hZcbKtP8AzWgN\nFZyP9llMtGyEmSw/mBbziqsp+Tb5V+WITxL283xSfEGP00IwDBS8TX+MlSgIBGPgLxKq+dYDQhuP\n3YPAKbRcfmyKTpJgOBbRC+Zl7P8AjXB4K2jYvMgb/dn8MBxraaw+Yjt8f41yBxlNplHroO9V+nIm\nKpgmrQybSDf2ORpKJS8gJ2J+/AQil7GGTcOfpxVBzWiuN1Vge9BXCCqTS6RGTyX4ckJELSwaY0VG\nrth4lGzmjp88FpWmM9RvhBVRknKbOuNKgJVWT4uJNfDJWghK57WM1IrXJxLFj93BC9VcUPjTLQSF\nYjf6WhJoaZdGXVHJjE9lwJVR9IywSQRaXvE69Cw+nJgopelxMn2XNffEgJ8kSNUlUUc1J8MjwMeJ\ncutP9nbE414l66y/em+DgTa0atvt1w8CghER6sOjCmDgSdkWdTj47Ur4YOEqoi+qQ8Y29jjwpATa\nK/V0qPpGRIW2Lauq3BJUipy7GaYyGzBJ7GQE+Fe2ZF2wtLprCo96YQUJBc6Wf2wR7jplwyMTFKls\nDHJtuMmZ2x4SrTzC1FQN+4wCNsiaSdNbQPRwKdMmYMeJHHUYmTlG30ZHgKmTFtQ1ClabZfCDFjUt\n3yNSQcvEUIKSdW2P4YQtIJnQ7HJUiwUFMFXcAUwhUnuJak0P0ZcBTAlAEknChEROANxv7YqifWL/\nAAoDX3yPDTK0QqSnehpgsLuiBMSOLLTAQlWhjMnSoAyMioCd2ZaM0O4OVlkyO0l5HhlM49Up7Gju\nOP7PvlZTaGmjUfabbCNlIQU0sabru2GMSUID1XlNCKDLAAFV0hZjtkTJVVrRh0pg47VZ6DDtg4lQ\n8qsg2GTiqS3EkpOWgIQHpsfik2w2ilWNVrvvgSinuI4QKDfGrVKp9W5VAOTGMoJS5tUPSuTGNiZL\nDqgFanHwwvEhJNWqaVNMkIBHEhHv2bfJcKLQ73cjbdBhpbUjK7HHZVp5tsTihr0z3OKVQRfjiqqL\nYt0GC0plBpymhl2yJktJh9XjiGxyHEkJfcKjV8csClC/Ug/jhumNKsdhxNe2DitNJ1FEoG/bwyom\n2SqsqxmoUYKtNqy3g8B9BwGKbRiXSkbnBRQiku06sRkaUKrXkHZt8Jim1NruMCoNcACbQ31/fY7Z\nLhY2tM4lNQcFUkFEeiWAZe/hgVUSILu1cKo+KJGGw+/ISNJTq1mijABIByoglIZDaXkSHlUEZXME\nqCnA1K3bbvlXhlnxI1LiN1qSKZHhpNpPeXawnamWRjbEyQC3vqjYivtk+FiTa/kgFTTGihDeogNe\nuSTS1ryMfaYDGkKJvVNQvTDXelQa77kbYB3LaGkvkAp3yXAVtJ7icSV8MsjGmKQ3MyIO+WgWrGbu\n7U/Cta5dGLC0llcvspyxihjUbYsXVPfClo+OKu6dcCu3xW3b4rbt8Vt2+K27fFbdvitu3xW3b4rb\nt8Vt2+K27fFbdvitu3xW3b4rbt8Vt2+K27fFbdvitu3xW3b4rbt8Vt2+K27fFbdvitu3xW3b4rbt\n8Vt2+K27fFbdvitu3xW3b4rbt8Ku3wLbt8Vt2+K27fCrt8C27fFbdvitu3xW3b4rb//Q8jUGfQ7y\nLqDFXUGKuoMVdQYq6gxV1BirqDFXUGKuoMVdQYq6gxV1BirqDFV6OYzVTiqYwX4XrTIGNptObfUw\nN65A42QknEWqMdq5WYJBTaG+rShyHClNYrrmOtDlRh3JRSzUNRkSFaN8UNGNclwKrW9/I52oBkZQ\npU9gu6D4vpyswZXS6S8AFe+AQRaFF6GIB28cNITKK7TptkOBmJK/1uPxwcCeIJfdXSkEgipycYsS\nbY5LN1ZjtlgCCgTI1Njvk6CEHK7jbrlgAVBPNQ8TtkqQiIz6mwyJ2SndlaGuVTkqZkKh9NRQnIhk\ni+YjUKRUZCrQrJcLIeA29sBipRIj5HbI2nhtCXVY68SRkxuxCVHkxqcldJq0xtLPmA8nTIyNLTIo\no1jFAKbZSTbZSFesh5MaAdMndMatVSTiN8FJBXG6Fa0NfngMbXibNwzDvTBw0m1oDtuo+eFXA174\nqqU8ciYptuhNKDEFVwti3UffgMlOysLWn9mPEqIjteXY1yJKo2O1cdBTAU0qvAab4FpATQU3Xc4Q\nUIBot6MMsBV3AU4gYOJXBBsaZIG1KPhYBaDIlUXE0i7ruPHAVTCKWVt98im0xh5ndtjgJpUejONi\nRkSEIgVHxAV+jIK00kh+yN/lhpVF2lBo7U+jCKKqqFutCx98B3VEJUHm/ED3ODkkK63UUexYfRkK\nJbBNModViQfDQ07kjImBRas2rFvsEU9sHDSbCg9/3JNcIhaOIIZtTHYkH5YeBeMNrqSr8Ukg+nEQ\nXiCkdWjb9vb22wjGV4lp1SDpz+84eAqJhCz69ZwAmSTbwAyQxkpM6Yze+frG2rwqctjppFrOVi15\n+aZQEWop4Vy6OjYeKxO9/M+9krSWnyGXx0YYnIWLXXn67m6ux+nLo6UBiZJJP5qlk+0fvy0YEcST\nz+YnbauWDCx4krl1cydTkxjCOJAPqO+xyXAEE2oNfuRh4U2h2u3O9cNIJWGdz1bChaZWPVsVa9Q+\nJ+/FV3rN/NirYuHXo2NKqi+mXflg4VtEpq06dGp8jkeAJtFp5gnTqzffg8IJ4kfF5pmWnxsMicAX\niTWDzdMpqsu+VnT2kST62873cewlYfJjlZ0wZCafWv5i38NOE7/flUtJHqyEyn8H5q3q7SEOPfKj\nogy8Upxb/mp/v1MgdEnxWQ2v5lWs1AW4H55TLRkMhlZRZeckm3imBHs2VSwVzSJp/B5sYUNRlRws\nuJNoPOJU/EfxyBwJ402j86sOkhyB09J4k9tfO4oBIwOVS06RJk1n5wglIHIj5ZVLAytlFt5gjkAK\nuD9OVHFS2nEepmTZW+/IGKQmEV4w+2evfIqnEM8b/CwBHiMCr2ton2ABH44FQkunmP4kBp44bVAS\nWvP7WFUpuNO4nkK/RkhJUEbQtUHf55K1pIr7TQ1aVGWRkgsN1DT5UqwJKj2y+MrQxaWCRqkmvvli\nEsmUoaNlgK2lU+9a5KLCSWSFz8JG3jkwwS+RpENN6eOWpU+cg740gr1mlXvUYCAtq0d+8eziq4OF\nKNiljm3ib6DkTFaRgEke4rkVFrlvHRu4ODhZcRV5SJxU7HI8kndIbocDRTXL4lgEodHc8WOWJXfV\nGI+LYfrwEo5oG408H41pXCJIYbrFu53QfPL8ZYSHVgd3bSsSyiuZUZAMEkd54Kg5bQKEBJNJIayH\nfww1SqbKxHJSBjapdJIEPxtXLAGKg88Xjh4StoZ5kIoMlSLQDgE1qBk2KGcitO2KqsJjf4RQHEpC\nc20USABsrNlITBQOidMrLK1popoVrhQSiberGnQZEpBLI7W0Egr2yucqTSdw2/p7x7nKjK2QRLLJ\nSjtQe2RVL5bZ5Pst9+TEqQom14glzQY8aoRnEe4PTJ8+aoc3vYNtkuBBK4XZG6nBwLasuokVBOA4\n7W1J7hpN67YREBUsnuFStTlgCpO1+pP7tSffJcCOJCy35AoPuGSEEEpbLfh/hLfRkxFFpc8obdT9\nJydMVEGnfFWqDFXUGKuoMVdtirda/axpWtsVdQYquDFd1piqLiuK74CFVTelNkNMFWm1n1hnNWau\nFCukq9XIrgKQiPrSLsvXBVptTa9puT92PCvEoHUAPs1w8KOJSa/dvlh4VtaL1h4Y0tu+uvWp/XjS\nF51B6UqfvwcKbWC4Zty2GkIxHYDYmmCkq6ylehr7YCE2iEuN9jQ5HhTacWuohKBsrME2nSTxzD4K\nVyBFMkDcNMh/dnbCGJS5r2VTxk7ZIRtbVU1KRCDXbAYrafW2p1AqcrME2nEWrFR8ROVnGm1K41CN\nx8bE1xGMqlbXiKawvQ+2WCKLWS6qVFOdTh4FtAtq0o6UC+5w8C246xGp/euAcPhrdO/TAk2hJOJx\nra/6zK27mgwcKqLXoG+7HJCKCUHJfyH7IoPfDS2gJZmfrSuSApUKLdW3YDJ8SKUvqKVqRtjxo4V7\nWKH7AAxE1QctmAaU+7JCS0h3tQoqMLFCulDiqygwq6gxV1BirqDFXUGKuoMVdQYq6gxV1BirqDFX\nUGKuoMVdQYq6gxV1BirqDFXUGKuoMVdQYq6gxV1BirqDFXUGKuoMVdQYq6gxV1BirqDFXUGKuoMV\ndQYq6gxV1BirqDFXUGKuoMVdQYq6gxV1BirqDFXUGKuoMVf/0fJHHPod5F3HFXccVdxxV3HFXccV\ndxxV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxpWxVemCiqdWc5chXyMgkFkUbhQOJzHbEyt7hlPXA\nRapkJuYpy6dchwraySUH3yUY0qO05lB+LvkMgSnXOuw6ZVbK0LcyEDY4QLYpYbkx9cnwWrl1NVx8\nJbQ8mtcjxQ5IY6W1n6QJFSTh8NCCN8C1GJyXCtq5vVC0BGR4EqyOHUn9WNbqlk5AbfJBijbUDamC\nSQyi0eg98xyGQV5HJIJoanArUg5Eb4lKpbxnlUYko5J3AxAK5WQmJQ8xUsSwpiNmJS/0l5cj0yaU\n6tiFpTp75CSYo4uOrZCmaEmmCjwyQDElDLJ6h22yRFMb70QioTTIm00CrlKCqnbIsw0sh+z2wkKr\ncK7YFb9Mjav68B3VUUlRUUGCQTzRMc4X+8P3ZAqjY54q+B98iQqOWQMPhI+jAlpiRvXfFKieR+nC\nhSZKD3xW1P0Qd2GG1UX9NPGuIQhWYtsgywd6FWNW77YkgqmUbsg6r9OQW6RK3aihaQfRjSbRCXqk\n0Sv6sFKCmUV0oIq4p7dcBFp5o1tThTYn7zkOAqgJdWgG7PhEChLZvMFsn7R++mWDGV4gEpk81QDZ\nf15MYijjCDfzTG/TYYfBKONTbzBG3RhXHwivEsbXygqrD78PhI4kOfNbpu0v44fBXjWHzrtx9QnC\nNOvGl83ngoCA2SGmXjSaXzu5Jo5p88sGnCDND/41ZTUt74fyyOMtS+fOQoHOH8spmktx5o+sVIc1\n+ZywYKY2x+71hiall+muWxxoJSl9X5bu4+jJ+GjiQcuoRk05dckMaLQr3SN3yQFLaDklX9jc5KmK\nEJJ/28d1aocO6uApiruOKu44q7jiruOKu44q7jiruOKu44q7jirqHFXccVdxrvjStrVfs7fI40qs\ntxKvRjg4Uq638q9d8eFUQNVl75Hw1temsOuzDE4l4kwt/MTxkULKfY5CWC2XEyWy863UNPSnJ9my\nqemB6JE2YWf5g3OwmAcZjS0obBNl9l51tp6CQlG9zTKJachImyi316B90l2OUnGWVgp5ba0wIMcg\nb6crOMMgWWaf5jkUgBjXwOUywshJmtn5rkiILA/fmPLEzBtl1l52R6KwymWCkiTJbTzLDIeSt9HT\nKpYU2ye01qOSlCV9+uVGCbZRbXbMK7Mp7g5WdlRR9KQ1NQfliqHnhjpQdMQqQXUfpVKj6RkglJS6\nPUPucsVINRUFSoBp75ZFg87voTGWC7ZkhSkMsDzrXvlgNISSZfTPEj23yYYyQUiIdiAMkGBKGa0q\nKoSPbJ8SAh5LM0r+rCJptLZSYxvkxutIYzE7bH3rhpaUkqjchhSyG31EqvFiDlUsaLpFi+DdVyPB\nSSbXmdSCE2wcNIElD00nNJNj4jDdKFQWMamoNfnichZcK5kRNmOBBFKVxFA43phiSgnuYze2S0NF\nqDlwKCHn2p2BWvpD7syoTtrkKY5JpK3Gx2bLRKmKWz6GqgjbJ+IrGL6xKVC1y6MkFilyrqxBy8EF\ngUqld+VDtlgYrBKw640rjKx2pjSqJFd8VbT4GBxVM4ZAd6HIlKbQFgw265XIMk1SEEVNcrtlSKs4\ngr06iuAlWbQxrEoIO2Yp3SrxzqhIHfCqnNd1BYUGNLaQXGoFATv9GWiCpLJrMpHHucsEAx4kC9zI\n4+I5LhQJOjmCfawEJBVzOv7OJCqBuDXbDwo4kJc6k0a7H2yUYWtsfkv3Y/CPpOW8DG0M08rdScNK\noEE9a/fhpDuPhjRV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFXAEbDGldQ9cVa44q3Q40rYqN\nhjurVPbHdXUxV3HFXccVdxxV1DjSqsab1wFUarldiKDFVbkHHwmpwJQskjA0IwoVomcmlcCU+tHZ\naOxAOUyDMFMpb1KAeHhkaW0plkE7fBTJgUi1ZY1AoTvgJSqGX0x8O+CrW0tn1B1GzGuWCDEySt9S\nmfqxywY0WhhdSg8gd8PChzXUz9WP0YOFNqLO7bMx+/CAhbv1xVExXUkP2cBjaowam52kH3HI8ATa\nI/SEfia+GDgTaHkvWOyEmuHhRamJJj1/HDQW0SplI3P3DHYKuBlrQHI7J3RKhl+0cjaVYBmFdzgt\naUZLYkVaoPyyQktWlU8SR/aJJywG2JFIBgD9nChbxxV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV\n3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFXccVdxx\nV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFX//0vJVM+iOJ5F1MeJXUx4ldTHiV1MeJXUx4ldT\nHiV1MeJXUx4ldTHiV1MeJXUx4ldTHiV1MeJXUx4ldTHiV1MeJUZaEI9TkZJCeq5ArXfKaTSIiueO\n9d8TFNo4XJ6jplZSqxszt8PQ4Up7bHjuRlZSjluKihNMjwqh7icDddzjGKlIrq5oeuWgIS8u0hov\nTCEXfJUS1Io5xO60vdinQVpgTaVSz/Ft1ywRY81rSkmtTjw0tJhaXLLUKd8iQkFY92Q3x74gLaZ2\nd2jUDZGUVDLLKRaclNaeOY0huzCMJWU0yJVtVoQB8sSqc21tUUpkJSSNyiPSK1I2wAsqCCuYmILZ\nINYSsMwNMnSbTuzUsKmuVT2UDdNTSNTt275BsY9dEu2xIy6LWHJKVHE4eFaVIm+KtcZBaTH60qim\nVcLLiVEKtupwELzRStSnfAyXKe4GRJpIDfE9RgEku4Eb0w8QQ2CRvgO6o+B6ipNMgQoTBWU7V398\nDJUCs26DbFCkIWJoTU4queEqKV29sUFKbhHG6jbJBUpkYq1SemXDdiTSFbUgm3IDJ8FseJBTa/HH\n9tq4RiteIpc/mkKf3a9PHLPARxKDeb5RtsB88P5cIMkPJ5xlA4q9PpwjTheJLZfN0zf7sP0ZIacI\n4kon8z3LVKlzlowBBklcmu3MhqS335PwgEcSwancHc1+/Hwwm1QatMvev048AW1T9NS/I/PB4YW1\nF9elXoRhGJHEhX1uRjvT6DkvCRxIKXXZ+i7YfDC2lzancP1fJcARZUTdzN1c4aCLUzNIert9+FVv\nqN/Mfvw2rYlcbcj9+BVjMW3Yk4bVrG1djxK7HiV1MeIq1TDxK6mPErqY8SupjxK6mPErqY8Supjx\nK6mPErqY8SupjxK6mPErqY8SupjxK6mPErqY8SupjxK6mPErdMHErsPErVMeJW8HErqeGNqiIrp4\nfsnIkWm02h1ll+2K5A4wniTq21sLujFfkcgcSeJPINflFCspplRxBlbIrLzZdQkfvKj55TLACkSp\nnGmfmHcoQC6/TlE9KGYmQz7TvPiTkeuq/MZiT01cmyOR6Fpuuw3FGikFT2rmNLGQzEnoWl6syceR\nBGY0oWzel6VqvIDiQw/HMWUEgshbVY1PxMMr4SlMra9jmHwkHI1SrprES1eDY+2G1tj9xYtyqVow\nyQklATWJcFabH2yQkgi2B6rpLsStD7GmZEJsWLyafLBsy1XxGWiQKEpubGOaoI3/AByYlSGKahpE\nifENx7HL4ZGJikXCSE0BP05dsWBbad9wxP34OFaS6VGapBp88klAfVmY74UNfV3XYMcVpsGSPqK4\no3VkmIO+NMkdHPXYNgItUcktP2hkDFCOS4RloCK5AxNsroJFd3LqxCb5cBSKQ6ySP0xW7dM3Bakn\nCFLDr91LE/a+WWwYEsamnjRvgWuXgNaBuZfW70OSApWNXYIqMugrCryMs5LDfMiJpgUhuLYlqDpl\nwLGkHJGYzRslxKp0x4kN8ab48SrgvLYDBaptZRHoegyMkhkVrEGNKZQSyCeRxKv2t65AlkiIrdIz\ny8ciTaU/EPKMUPTwylUFcxtEOVaMe2Tib2VKJJm6E7DLAEEoGWf1AYmGSpWOXMRQ/CaDLYlidtkr\nlklToTtlnCGCCa4kY1LHGk2vW8kXvXGlXm+k9saW0K7tJ9o4bQsw8RVqmHiV1MeJXUx4ldTHiV1M\neJXUx4ldTHiV1MeJXUx4ldTHiV1MeJXUx4ldTHiV1MeJVxQjrjxKtp748S23xr0x4lbKEda48Sra\nY8St07Y8StUx4ldTHiV1MeJW8HErqd8SVXFieuKq8cixjauBVrShugpiraXDL1ocVRJuueCk2q+q\nGADGpxpbXUEQ5LjVpXR3jE0JpgMAi19xeALTlU4IxTaTSOZDU5O2KnTDxK1TDxK6mPErdPfHiVwW\nvTHiVVEXiaY8SrvSXxrjaqkduCe9MFqjo7YLuFyFpRaRU2K1/VkSe5OyqIyT8IwA0m1ywiKrSGhw\nE3yWlpuIE+0Th4ShRk1WNdo98RjXiSue/km2rQZMRpBNoA77nJ2hrDxK6mPErqY8SupjxK6mPErq\nY8SupjxK6mPErqY8SupjxK6mPErqY8SupjxK6mPErqY8SupjxK6mPErqY8SupjxK6mPErqY8Supj\nxK6mPErqY8SupjxK6mPErqY8SupjxK6mPErqY8SupjxK6mPErqY8SupjxK6mPErqY8SupjxK6mPE\nrqY8SupjxK6mPErqY8Sv/9Pyf6Zz6GeRd6ZxV3pnFXemcVd6ZxV3pnFXemcVd6ZxV3pnFXemcVd6\nZxV3pnFXemcVd6ZxV3pnFXemcVd6ZxVcqlTXFUclxtxqcSE2761Tptjwra6O7YHY1HviQtsq02QS\n0rmNIUzZLEldh0yBZNstCRTbEFUDcScVIbthAQx25fcnLIhjI23byg/AcZBI2RzNxG2RSlFzIwNa\n75ZEMSUq+sGpJFcspjaIjkWTc5Eik2msCBV5ZUWUVGROe4yY2YqcQZWFQfbErbKLKU8aVIyiQtna\nN9WRKkHI8ISmtjdE0Eg3yucaVm1sAF5A7kZjSbIqhcfZPfBSVG5gVx8J3xgaRKKAjtqmrDLDJgBa\nYxQ8dwKZAyZCLcrGnxdcQk8kolILGmWxa1BvCm+SSEPXia1rikuMpNN9sWKLhm4dd8BFppNoblSA\nKgDKpRZCSNWVCa7HKjEswUasy02AyJCrmFRttXFUMWpsOvvhCtFz3PvkgAUIy0ck8WyshKeQNxoo\nBOQISUb6QAqwp88jxFFoeRkAO2WJY9f3aIpBO/35KESSxJed6lqZZiFrmdDG1FjE8k8pPGprl4AC\nEIbC6l+LcD32w8YC81p0xx9txXEStaU2sY03lY4bKKQkoiXaNR8yMkCtJdK7n4eg9hkwEc0EYGc7\n8jkwQimxav0Ab7sHEtN/V5e4b6RjYStMTrufxGG0Id5XTrTDQRaH+tE/sjDS2pmWv7IxQtLA/sri\nqkVr2Awqt9M4Fd6ZxV3pnFXemcVd6ZxV3pnFXemcVd6ZxV3pnFXemcVd6ZxV3pnFXcMaV3p40rvT\nw0rXDxwUrfp4aVv0iemBVwt3PQYqqfU5B2wWmmvqj+2FXfVJPDBaFv1V++2FXfVnOwpirjbsv2h1\n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\nd8qlhBTbKLfzWs+zt19spOBbRx1SK4G7gnwpgGMhWO3dvDOSYmCnw7ZZEkKx6fR7eYmuz+Iy0TIV\nJ7nQpIxWM1GTGS0Fjt3aiKvMfdlgLEgJGyryqK0y22teJiPs7U8cFIV0nJNGIGBkDSOjnANZACPn\ngMWQmrOkM+4p9ORBIZGNpTdaeVHqQfdlsZ97Expjcr+mzKy0PcHLQxQpbl06e+FeST3dyYGFKgHJ\nQjbC6Sy5uBcqQe2WCNKSwfUD1FKGuZEGti06y8uQ2HtmSChYs7xGjfhjSpvbXasKv+GVTgvNfPKs\nooemMY0liWo2ayk8DTL4SpiRbGbiyZOmXxlbAhA+mw6jJIRdvaNIRXIykoTxLDiRTplRmzpFSlYV\nAO5HXIgWkmkN9ZeSipsMnwhjdrQB1boMSENrNyb4cBCbT6O7W1iox3OVGNlnbGtQ1JpDRe/bL4wY\nE2kZnlPQ5ZTC1M1O7YU21TFbdTFbdTFbdTFbdTFbdTFbdTFbdTFbdTFbdTFbdTFbdTFbdxxRa9Im\nk2QVxuko6LTZH3fvkDkCaRiaNtVjg8RPCqDRQdumDxF4VN9ICdN8RkXhUzYAdVGHiRSl9QB7HJcS\n0sOnN1rTHiVRks3Tp+OHiQULxKmnQ4VWkE9cUKqws+4G2BNJhaWgJo+RlJKIuoFXZRtgjK0nZJ5E\n4k0yxip0xW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW1yRlzQYqmcVhX5ZAzp\nNJ/b2CIo2ArlRkSyAXzWijYCtO+C6TSVyoATUdO2WBhyQEvw7Bak5NXLA32pMeLoFCJDhPsnIkWl\ntrwLsTgEEWg5LodjU5MBbQTys5rWmSApFqW56nFDZA7DGlapim3UxW3UxW3UxW3UxW3UxW3UxW3U\nxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3U\nxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3UxW3U\nxW3/1fLFDn0PbyLqHG1dQ42rqHG1dQ42rqHG1dQ42rqHG1dQ42rqHG1dQ42rqHG1dQ42rqHG1dQ4\n2rqHG1dQ42rqHG1dQ42rYUnbFV5iPbFUdbKSePfIyKsns7Y03zHkWYRlwDxoDTAGRCSykqxDCuTD\n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\n2IlFga6JPcaRHTlEwb5HLI5EUkE8cluTRQVHjTLObECkivNUVQVZAD7dstjjQZMDv7pmJdXpmVCL\nWx241CUihbl4b5cIBFpDdXkzbKaA+GXRgGNpYxZuprlg2YtUw2rqY2rqY2rqY2rqY2rqY2rVMbVu\nmNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6\nmNq6nY7jASqMjlRafDt498gYlINJ/p+orEw3p4HKZ42QL17y75gVisJO+YGXDTdGT33y3e8JY5a+\nFD2zV5ot8C+u/Kl9HJEoJDVAqM0WpgW+B3Z6LJA6zoNu+a85SRTbTzzzdEZpDIn2fbNhptotUty8\nT1p5oSVAPHNniotbBbhg/wAD9fA5fdMUsjLIaghSMmUp5b3oVaSGuQVKNQgiuVeVNtu2SiaLGXJ5\ndcRmKVlbxzMDQVOWL1YyWFcILLnux+eCOlSMtBK0l10hhHKAnj3GWDfmwIpJ31Nk6kmnjk+BjaWX\nWqmQce/4ZZHGhKvrT17fRlnAFVlvpQNhUZHgUse1K6kJ/edOwy6EWJNMckZnNScvApg0XYgKe2IC\nrKHJWrfE4q6mNq6mNq6mNq6mNq6mNq7jiruOKupjaupjaupjaupjaupjaupjaupjaupjau44q6mN\nqioY+mVzSnMRanGu+V+9mqmJvHrgElQ8kZ3HhkrU7oCYFlpkosEAUIy0FC2mNq6mNq6mNq6mNq6m\nNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6m\nNq6mNq6mNq6mNq6mNq6mNq6mNq6mNq6mJKVwC964LQiIH9NhxrkZBIZFb3IICv1ykxZhHxyL1PTK\nyEplFNE3w1P3ZWYkITGONCK8j92RZLDUGgbb3GIQudlUVkYfdiqXTXUCbmh+jLBEqkdzqsamgUU9\ntstjjY3SXvqUbdCwOTECtoc3tPiR6/MZLgQSpHU3/aRW+ePAttnURTaFa/PHgW1n19m2ZQB7YeBe\nJTMqufi/UMeEhCoIeQ26e2RtaVFV4/s0p74pFomK7dPtKfvyJATaLF/C/wDepkeEraMilgkFUJH4\n4CCFG6J+r+puaMPHrkbZKD6bbyf3yAf5QFMlxkckUEG/lxJT/oku/wDK2SGcjmjhSu50K7tiQyV+\n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\nVffHjCu9VffHjCt+qvv92PGFa9VffBxhXeqvvh4wrfqr748YVr1V98eMK71V98eMK71l9/uwcYV3\nrL74eMK71V9/ux4wrvVX3+7HjCu9VffHjCu9VffHjCt+qvvjxhWvVX3x4wrvVX3x4wrvVX3x4wrf\nqrjxhWvVX3x4wrvWX3+7HjCt+quPGFa9VffHjCu9VffHjCt+qMeMK16q++PGFb9VffHjCu9Vff7s\neMK71V98HGFa9VffDxhXeqvvjxhXeqvvjxhXeqvvjxhW/VX3+7HjCtesvv8AdjxBW/VX3+7HjCte\nqvvjxhXesvv92PGFd6q++PGFb9VffHjCu9ZffHjCtesvvjxhXeqvvjxhXesvvjxhXequPGFd6q++\nDjCu9VffDxhW/VX3x4wrXrL748YV3rL748YTTvWX3+7HjCHeqvvg4wmneqvvh4whv1V9/ux4wrXq\nr748YV3qr748YV3qrjxhW/VX3x4wrXqr748YV3rL7/djxhXesPfHjCu9VffHjCu9Zff7seMK71V9\n8eMK71V98eMK71V98eMK2JV98eMK71Vx4wrXqr748YV3qr748YV3qr748YV3qr748YV3qr748YV3\nqr748YV3qr748YVv1V98eMK16q++PGFd6q++PGFd6q++PGFd6q++PGFd6q++PGFd6y++PGFd6q++\nPGFd6q++PGFb9VffHjCu9VffHjCu9VffHjCtesvv92PGFd6q++PGFd6q++PGFd6y+/3Y8YV3qr74\n8YV3qr748YV3qr748YVsSrjxhWvVX3x4wrvVX3x4wrvVX3x4wrvWX3x4wrvVX3x4wrvVX3x4wrvV\nX3x4wrfqr748YVr1V98eMK71l9/ux4wrvWXrvjxhXeqvvjxhXeqvvjxhW/VX3x4wrvVX3x4wrvVX\n/MY8YVr1V98eMK71V98eMK71V98eMK36q++PGFa9VffHjCu9VffHjCu9ZffHjCu9VffHjCu9VffH\njCt+qvvjxhWvWX3+7HjCu9VffHjCu9VffHjCu9VffHjCu9VffHjCu9VffHjCrWaNuo/DBxhINLf3\nQ7Y8QQ7932XHiCuPpnt+GJkCrYZB0BGPEFXiRV6Vx4wquL1gONTT5ZE8KbKHZ1kNWrU4bCGkdE+z\nXBYZCVK31oHZt/mMGyLU/VU70/DGgniVPrI8PwONBIk19YXw/A48MV4nC4UGoUfcceEItUF6B0Uf\n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\nccKtccVdxxV1MVb44q7jirXHFXUOKuocVdQ4q6mKuocVdTFXUxV1MVdQ4q6mKupirqYFdTFXUxV1\nMVdTFXUOFXUxV1DirqHFXUxV1DirqHFXUOKuocVdQ4q6mBXUxV1MVdTFXUxV1MVdTFXUxV1MVdTF\nXUxV1MVdTFXUxV1DhV1MVdQ4q6mKupirqHFXUOKupirqYFdTFXUxV1MVdTFXUxV1MVdTFXUxV1MV\ndTFXUxV1MVdTFXUxV1MVdTFXUxV1MVaphV1MVdTFXUxVumBXccKt8cVbpgV1MKt0xV2KuwK6mKup\nirqYq6mKuphV1MVbpgV1MVdTFXUxV1MVdTFXUxV1MVdTFXUxVqmFXUxV1MCupirqYq6mKupirqYq\n6mKupirqYq6mKupirqYq3TFXUxV1MVdTFXUxV1MVdTFXUwq6mBXUwq6mC1b442ruOKu44q7jiruO\nKtccVb44q7jiruONq7jiruOKu442ruOKu442ruOKu44q6mKt0xV1MVdTFXUxV1MVa44q7jirqYq7\njiruOKu44q7jir//1vvRirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdi\nrsVdTFWqYq1xxVrjirqYqtpiruOKtccVdxxV3HFW6Yq3TFW6Yq3xxVumBXUxVvGldirVMKupirXH\nFWqYq6mKtUxVqmKtccVdxxV3HFXccVdxxVumKt4q3TFW+OKu44q7jiruOKu44q7jiruOKu44q7ji\nruOKu44q7jiruOKu44q7jiruOKu44Fdxwq7jgtXccVdxwq7jiruOKu44q7jgV3HCruOKtUxV1MVd\nTFXUxVumKu44q7jgVrjhVvjgV3HCruOKu44q7jiruOKu44q7jiruOKu44Fdxwq7jiruOKu44q7ji\nruOKtccFq3xwq1xwWrqYVdTFXUxtXUxV1DirqYq6hxV1MVdQ4q6hxV1MVdTFXUxV1MVdTFXUxV1M\nVdTFXUxV1MVdTFXUxV1DirqHFXUOKupirqYq6hxV1DirqHFXUxV1DirqHFXUxV1MVdQ4q6hxV1Di\nrqYq6mKupirqYq6mKupirqYq6hxV1DirqYq6hxV1DirqHFXUxV1DirqYq6hxV1DirqYq6mKupirq\nYq6mKuocVdTFXUxV1MVdTFXUOKupirfHFXccVbpirqYFbxpXYVdjSuxpXYKV2FXYq7FXYq7FXYq7\nFXYq7FXYq7FXYq7FXYq7FXYq7GldgpXY0rsNK7BSuxpXY0rsaV2NK7GldjSuxpXYVdirsVdirsVd\nirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVbpirqYq6mKupirqHFXUxVr\nFXYq7FXYq7FXYq7FX//X+9lMVdgpXY0rsKuxV2KuxpXYq7FXYq7FXYq7FXYq7FXYq7FXYq7BSuph\nV1MCtUwq6mKupirXHFXccVapirqYq1TFXYq6mKtUxV1BirqDFXUxVvFXYq7FW6Yq7jirfHFXccVa\npirqYq6mKtYq7FXYq6mKtUGKu44q7jirqYq6mKupireKuxV2Kt0xV1MVdTFXUxV1MVdTFXUxV1MV\ndTFXUxVqmKt0xV1MVaxV2KuxV2KuxV2KupirdMVdTFXUxVqmKuxV2KuxV2KuxV2KuxV2KuxV2Kux\nV2KuxV2KuxV2KuxV2KuxV2KupirqYq3TFXUxV1MVapirqYq6mKupirsVdirsVdirsVdirsVdirsV\ndirsVdirsVdirsVdirsVdTFXUxV2KupirqYq6mKuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2Kux\nV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV\numKupirqYq3xxV3HFXccCu44VdxxV3HFXccVbpirqYFdTFXUwq6mKupirqYq6mKupirqYq6mKupg\nV1MKupirXHFXccVdxxV3HAruOFXccCu44VdxwK7jhV3HArqYq6mFW6YFdTCrqYFdTCrqYFdTFXUx\nV1MVdTCrqYq3TArVMVdTFXUxV1MVdTFXUxV1MVdTFXUxVvFXY0rsaV2NK7GldjSuxpXYVdirsVdi\nrsVdirsVdirsFK7GlaphV1MVdTFW6YFf/9D730xV1MVdTArqYVdTFXUwK6mKuoMKuoMVdTFXUGKu\noMVdQYq6mKuoMVdQYq6gxV1MVdTFXUxV1MVa44q7jiruOKu44q7jiruOKtUOKupirVMVaoMVdxxV\nrjiruOKu44q3xxV1MVbxV2Kt0xV1MVdTBauphV1MVdTFWsVdTFWqDFWuOKu44q7jiruOKu44q7ji\nruOKt0xV1MVbxV2KuxV2KuxV2KuxV2KuxV2KuxV1MVdirsVdirsVapirqYq6mKt4q7FXYq7FXYq7\nFXYq7FXYq7FXYq7FXYq7FXYq7FXUxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV1\nMVdirsVdirsVdTFXYq7FXYq7FXYq7FXYq7FXUxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV1M\nVdirsVdirsVdirsVdirsVdTFXYq7FXYq7FXYq7FXYq7FXYq7FXYq7FXYq7FXYq6mKuxV1MVdirsV\ndirsVdirqYq6mKupirsVdirsVdTFW6Yq6mKupiruOKt8cVdxxV3HFXccVdxxV3HFXccVdxxV3HFX\nccCu44VdxxV3HFXccVdxxV3HAruOFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFXccVa44q3xxV3H\nFXccVdxxV3HAruOFXccVdxxV3HAruOKu44q7jhV3HFXccVdxxV3HFXccCu44q3TFXUxV1MVdTFXU\nxV1MVdTFXUwq6mKupgV1MVbxpXY0rsVdjSuxpXY0rsaV2NK1TFXUxV1MKupgV1MVdTFXUxV//9H7\n48cVdxxVvjiruOKtccVb44q1xxVvjiruOKu44FdxxV3HFXccVdxxV3HFXccVdxxV3HCruOKtccVd\nxxV3HFXccVdxxV3HFXccVdQ4q6mKtUxV2KtUxV1MVa44q7jiruOKu44q3TFXUxVvFXYq7FXUxVum\nKtYq7FXYq6mKtUGKu44q1xxV3HFXccVdxxV3HFXccVdxxVugxV1BireKuxV2KuxV2KuxV2KuxV2K\nuxV2KuxV2KuxVqgxV1BirqYq6mKupireKuxV2KuxV2KuxV2KuxV2KuxV1MVdTFWqYq6gxV1BirqD\nFW6Yq1TFXUxVumKtUxVvFXUxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2\nKuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2K\ntUxV1BirqDFXUGKuoMVdTFXUGKupireKuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KupirsVdir\nsVdirsVdTFXUxVumKupirqYq6mKupirqYq6mKupirqYq6mKupirqYq6mKupirqYq6mKupirqYq6m\nKuocVdTFXUxV1MVdTFXUxV1MVdTFXUxV1DirqYq6mKupirqY2rqYq7jgtXUxtXUxtW+ONq1xwq7j\niruOKu44q6mKu44q6mNq6mC1dTG1dxxtXUw2rqYq6mNq6mNq6mKupgtXUwq7jirfHFXccCu44q7j\niruOKu44q7jhVumKtccVdxxV3HAruOKu44q7jirXHCruOKu44q7jir//0vvpirsVdirsVdirsVdi\nrsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVapirqDFWuOKu44q7ji\nruOKu44q3TFXUxVvFXYq7FXYq7FXYq7FWqDFXUxV1MVa44q7jiruOKu44q7jiruOKu44q3TFXUGK\nuoMVdTFW8VdirsVdirsVdirVMVdQYq6gxVumKtUxV1BirqYq1xxV3HFXccVbpirqDFW8VdirsVdi\nrsVapirqDFXUGKupirqDFXUGKupirqYq6gxV1BirqYq6mKuoMVdTFXUxV1MVdTFXUGKuoMVdTFXU\nxV1MVdTFXUxV1MVdTFXUxV1MVdQYq6gxV1BirqYq6gxV1BirqDFXUGKuoMVdQYq6mKupirqYq6mK\nt0xVqmKt0xVqmKt4q7FXYq6mKuxV2KuxV2KuxV2KtUxV1MVdTFXUGKuoMVdQYq6gxV1BirqDFXUG\nKupirqYq6mKtccVdxxV3HFXccVdxxVumKupirqDFXUGKuoMVdTFXUxVumKupirVMVdTFXUxV1MVd\nTFW6Yq1TFXUxV1MVdTFW8VdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirs\nVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsV\ndirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdir/9P77ccV\ndxxV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFXccVdxxV3HFXcc\nVdxxV3HFXccVdxxV3HFWuOKu44q7jirqYq1irqYq7FXYq7FXYq7FXUxV1MVdTFW6Yq6mKupirqYq\n6mKtUxV2KupirqYq6mKt0xVrFXYq7FXYq7FXUxV1MVdTFW6Yq6mKupirqYq6mKupirqYq1irsVbp\nirqYq6mKtYq7FXYq7FXYq7FXUxV1MVbpirqYq6mKupirVMVdirsVdirsVdirsVdTFXYq7FXYq7FX\nUxV2KupirsVdirqYq7FXUxV2KuxV2KuxV1MVdirqYq7FXUxV1MVdirsVdTFXYq7FXYq6mKuxV2Ku\npirsVdirsVdTFXUxV2KuxV2KuxV1MVdirsVdirqYq7FXYq7FXUxV2KuxV1MVdirdMVaxV2KuxV2K\nuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV1MVdTFXUxV1MVdTFXYq3TFWqYq7FW6Yq6mKupirqYq6\nmKu44q7jirqYq7jiruOKu44q7jiruJxV3HFXccVdxxV3HFXccVdxxV3HFXccVdQ4q7jiruOKu44q\n7jiruOKu44q6hxV3HFXccVdQ4q6mKu44q6mKu44q7jiruOKu44q7jiruOKu44q7jirqHFXccVdTF\nXccVdxOKu44q7jiruJxV3HFXccVdxxV3HFXccVdTFXUxVvjirqYq7jirqYq7jiruOKu44q7jiruO\nKu44q7jiruOKu44q7jiruOKu44q7jiruOKu44q7jiruOKu44q7jiruOKu44q/wD/1PvxirsVdirs\nVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsV\napirqYq6gxV1MVbxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2Kux\nV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KupirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdi\nrsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdir\nsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdTFW\nqDFXUxV1BirdMVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdi\nrsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdir\nsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirsVdirs\nVdirsVdirsVdirsVdirsVdirsVdirsVdir//1fv5irsVdirsVdirsVdirsVdirsVdirsVdirsVdi\nrsVdirsVdirsVdirsVdirsVdirsVdirsVaoMVdTFXUGKuoMVdTFXUGKupirqYq6gxV1BirqDFXUx\nV1BirqDFXUGKupirqDFXUxV1MVdQYq6mKuoMVdQYq6mKuoMVdQYq6mKupirqDFXUGKuoMVdQYq6g\nxV1BirqYq6gxV1MVdTFXUGKuoMVdQYq6gxV1BirqDFXUGKupirqDFXUxV1BirqYq6gxV1BirqDFX\nUxV1BirqYq6gxV1MVdTFXUGKupirqYq6gxV1BirqDFXUGKupirqDFXUGKuoMVdxxV1BirqDFXccV\ndQYq6gxV1BirqDFXUGKupirqDFXUxV1MVdTFXUGKuoMVdTFXUGKuoMVdQYq6gxV1BirqYq6mKupi\nrqDFXUGKuoMVdQYq6gxV1BirqDFXUGKupirqDFXUxV1BirqYq6mKupirqYq6gxV1MVdQYq6gxV1B\nirqYq6mKuoMVdQYq6gxV1BirqYq6mKuoMVdQYq6mKupirqDFXUGKupirqDFXUxV1MVdQYq6mKuoM\nVdQYq6mKupirqDFXUGKuoMVdQYq6gxV1BirqDFXUxV1MVdQYq6gxV1BirqYq6mKuoMVdQYq6mKup\nirqDFXUGKupirqDFXUGKuoMVdQYq6gxV1BirqYq6gxV1BirqYq6gxV1BirqDFXUGKuoMVdTFXUGK\nuoMVdTFXUGKupirqDFXUGKupirqDFXUGKupirqDFXUGKuoMVdTFXUGKupirqYq6gxV1BirqYq6gx\nV1BirqYq6gxV1MVdQYq6gxV1MVdQYq6gxV1BirqYq6gxV1MVbxV2KuxV2KuxV2KuxV2KuxV2KuxV\n2KuxV2KuxV2Kv//W+/mKuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2Ku\nxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2Kux\nV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV\n2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2\nKuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2K\nuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2Ku\nxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2Kux\nV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV\n2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV//2Q\x3d\x3d"})},
"arcgis3d/layers/res/WaterNoiseTexture":function(){define([],function(){return"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QCuRXhpZgAATU0AKgAAAAgACAEaAAUAAAABAAAAbgEbAAUAAAABAAAAdgEoAAMAAAABAAIAAAExAAIAAAASAAAAfgMCAAIAAAAWAAAAkFEQAAEAAAABAQAAAFERAAQAAAABAAALE1ESAAQAAAABAAALEwAAAAAAARlIAAAD6AABGUgAAAPoUGFpbnQuTkVUIHYzLjUuMTEAUGhvdG9zaG9wIElDQyBwcm9maWxlAP/iA6BJQ0NfUFJPRklMRQABAQAAA5BBREJFAhAAAHBydHJHUkFZWFlaIAfPAAYAAwAAAAAAAGFjc3BBUFBMAAAAAG5vbmUAAAAAAAAAAAAAAAAAAAABAAD21gABAAAAANMtQURCRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABWNwcnQAAADAAAAAMmRlc2MAAAD0AAAAZ3d0cHQAAAFcAAAAFGJrcHQAAAFwAAAAFGtUUkMAAAGEAAACDHRleHQAAAAAQ29weXJpZ2h0IDE5OTkgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQAAABkZXNjAAAAAAAAAA1Eb3QgR2FpbiAyMCUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAAD21gABAAAAANMtWFlaIAAAAAAAAAAAAAAAAAAAAABjdXJ2AAAAAAAAAQAAAAAQACAAMABAAFAAYQB/AKAAxQDsARcBRAF1AagB3gIWAlICkALQAxMDWQOhA+wEOQSIBNoFLgWFBd4GOQaWBvYHVwe7CCIIigj0CWEJ0ApBCrQLKQugDBoMlQ0SDZIOEw6WDxwPoxAsELgRRRHUEmUS+BONFCQUvRVXFfQWkhcyF9QYeBkeGcYabxsbG8gcdh0nHdoejh9EH/wgtSFxIi4i7SOtJHAlNCX5JsEniihVKSIp8CrAK5IsZS06LhEu6i/EMKAxfTJcMz00HzUDNek20De5OKQ5kDp+O208Xj1RPkU/O0AzQSxCJkMiRCBFH0YgRyNIJ0ktSjRLPExHTVNOYE9vUH9RkVKlU7pU0VXpVwJYHlk6WlhbeFyZXbxe4GAGYS1iVmOAZKxl2WcIaDhpaWqda9FtB24/b3hwsnHucyt0anWqdux4L3l0erp8AX1KfpV/4YEugnyDzYUehnGHxYkbinKLy40ljoGP3ZE8kpuT/ZVflsOYKJmPmvecYJ3LnzegpaIUo4Wk9qZpp96pVKrLrEStvq85sLayNLO0tTS2t7g6ub+7RbzNvla/4MFswvnEh8YXx6jJO8rOzGPN+s+S0SvSxdRh1f7XnNk82t3cf94j38jhbuMW5L/maegU6cHrb+0f7tDwgvI18+r1oPdX+RD6yvyF/kH////bAEMAAgEBAgEBAgICAgICAgIDBQMDAwMDBgQEAwUHBgcHBwYHBwgJCwkICAoIBwcKDQoKCwwMDAwHCQ4PDQwOCwwMDP/bAEMBAgICAwMDBgMDBgwIBwgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIAgACAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APzBb43anqirJ9pklbvlt1XvD3xYmKmGTK+YTy3b8a888I2CajII18yPcT1HSussfALCNx8wkVuHPb0oA9S+Efi/y9abzAGbOA2cgD617aPEtvqOnRpZzIXYckjvjmvlvw5p11oMyNDN/rOPmPGa9W+G/iKSzcwTBfMPJOM7fpQB3fhNornW1gaRmZZPmOenNfY/wZ0HTbDRo4WYFmUbOe/pXxVpMcVtr7zWT5kY5z719S/Bfxm2l6ekl5gRCIHJPT6e9AH0Mfh5DZwNNcRqyyRZDMvIz057182fHidLe2ntobaKPcSpKrg/nXq9j+03Dr2lJZ/Lth+Tluo/rXC+J5LXxjpt0LlVXyyxSQfpQB8W+KfB8z3t2txG0e5iQ2P61wK/Cu41LVvs+5jvOB1yK9x+KusjT9Yazjkjb5iOV7ehrL8FaRI+v2zfL5xcZJGQtAFb4afASTTo4Vk+9uwSRnb7GvUL74AfZI4pI2Bh+8GwDk+lejaJZ2tvart2ldoJYDgHvXQWMy+JIobWSBlKsFicfdBoA8StPg3Jc3Hl3VqshU8Mw3D8a9b8M/ASwTwslzDHC3ljlSPmNe3WPwdjXw/DfQPGZFUKykck96m1bS7fR9BeCO0KySJ8zKchcjt70AeEaL4D0PQ5JFayidnBLtgHb/8AXrjvi3JY32jyfYUWNYRtYAkECup8Z2VxpV60kLPhT8yEHBFeYXaNf6jIURlMjFWGeD7UAeRuscnibzFiDYb5tx3c16BJ4JaaxW4td0KyLnbt6U69+Dc1prQvLd2jVvmKtziu68PGXT9NSC8hWKTdgSnkAdBQB5BHb3ltei3dZGbdtBPKge5rfXQbrVoI1s2bc3XA746V2mtaTBaMskLQs0h6se9ejfAbwPHr86oscO45Zjtzt+nagDjfgj4CvI4ljk8xtzHdkfpXrmn6GdN/0NoQszHYpGf89K9A0vwraeGYTDHBH9oLECRUyB/Sqq6nbeHNWkW6iLp94MR29jQB4z8SPBl54UF013CsikFgzD5gD057182+K3nttTnZbbyN2SDjn619wfFPUtM8e6LIyq0Plpge4x+tfJPxI1CFG+x5jkZHKhs9R+FAHkdxr7akPJvNrKr8+v51R/4QLTbjUVia2x5x3Kx6j8a0vFHgBl1MPCrxlznp09jVzQNAurSWOO4jZ5I23eYRnb6UAeo/Cj4MWcWlL5sXyngN1Ar0HSfAtrZxMskMJgXOwsoJP9aZ+zh41tZkFreKTDDjAI713PxVk0+8szdRRNH5PC7T8oP/ANegDj/A/wABdJ1DWWuWgVRv56Ff8mvoLw98LfC82i24hKK8fBJ+9kdvpXzW/wAWINL2/Y7oxTEYOT+ddJpvxlutF0hvs9xuaRc7t24DI/nQB7x4ytdN8P8AhuS1tLhZGVSTwOO/avi39ovxs11qrxw3TRleHwSNorotU/aemN61vcXEQLHa5PTFeIfHjXoZN1xbOsjyZLMpyD7UAeR/FLVfPvjJ9o85snJLbql+FWuWaXKQSKq+Y3Vu1ea+KtYabUmj3TJuY9T0rW8AQyrcgru3K/DnnFAH0ReWpsdzW8YLYwGHIAqOTxpfWtiqW8nzNnkjvVnwGZpdLj3SK3mKF+f1q7quggQsixr5nUkLnFAGXofj+8ji8tpn3Bvm56VvWHjQh9sjFvTnvXD3uhva3EjQZyx9K0NBsJlb98G246mgD0iDxdKqk+q8E1z2rfEK7AaL7u7IJHX86rWd48sapjheBSro5vEbzF6Hg0ATeCvFN1BfN5hZdzZB/wDr16DF4rl1S08uaRjkYBPUCvO9LsZIJdo9e4rotFEgKq23fn7xHSgDVs/E9vEqwmRVZTtJP8NZ3ivxGIrcx284MYyVbrk1i+JZFsrqTySCOpI9ayfDZm1+/FvcRsNzbUbtQBwWs+KZxqssd5GJNrcMwzUOr6lZtpfmQtH8vBXua9T+JHwcSG2W8hZd2MEEdTXjXxG8LtpiGOCJ90g+YqcheP50AcFrN5ZWOpttjVzJyxHOK63w149bTtLWS2YqseNwDHIFcTefDnUAVnVXZQclcdRWno+iSWtgX8tlPRvQ+1AHtvww/aAMTbmUOeh3ndXoOky2vjm6ZopBbrPk4xjH/wBevlfRb5dH1X/WtCG5IY16v8O/G4trmFWcRyb8CTOQOwoA9P034IWo1fy7hi5ZsAk7lA9zXRL8A7NbiKTT5FLE9hxnuKzZdcmh0uOa1uEkaTuzd+9dX8FvFU1xfi3maPLNkkj7tAHqvwF+EIkMMO5iWbDZH6GvbNS+CKwacsciASL8qkHpjsap/BHRoZrUNa7ftG44kUZA/pXp13q82i201jNHJKGGQW68+h9aAPFxpUPhCa4s76GKYY4ZwN2D05rk/Efh7S9TsLmD7HHb+YhIIXn65rtvF+lR63qjTXKzW6IOCTgEf1rgfFHimJLBbZJI5WjJUNnk/lQB80/EH9nj+0dUZoVVwshztGDn61a8B/sqGS/jgmtpF845Vjnj8a9g0zSIbzWP3m6JnPORwPrXfaRpUOlQqsjbpYiWEnXb6CgDmfDH7HccWg7bxTtxgNncF+vvXK3f7KVxa6qzW0CtBGx2sV3E/wBa+hPAnxlhk3Wcjb4YfujtnvXQf8JFZ6lcfaGtmXyz8uDlQf8A69AHzv4X+Cl54asZc2jA55z0/wAmvI/jy0elMG2srRnkkc5r7H+KnxUsNPslNniOZhtYMBz618m/tFz/AG+ymki2s0gLBvvDp1+tAHzF8TviJNa2TxwTE7Rk8dK8pl/aM1S3vVjivJFK8NhjwKs/G7xbLZ3LQxmMNna3HFeTWtuy3XmMu5mPJAyDQB9FeDPgpNBfuysuIxziu+074SXj2Ijt4zJJIxUvj5cVc8HaTqGmXK7Csn94sM/hX0R8GPDMklpHvSFmmIG4ruoA+b/Dfwcmu9Z8i+b93Gcbl4wadrvgS58Jam728ckkin73bAr6Y1/4bQ2Wtz+Ts3Ox7dT6Vh+NfCg00yRXiKwePBKryB1HNAHz1a2+qaQVuMSL53TnAzmvSfD3xybRdOit3bzGA4AzyapaktrJY+W8MirHnDE/dFchZX1jcXkltJtXa3ytjOD9aAPaPh38TYbvWPPlbbuIyiDaPevXIfGOmX1l5NqpaWQEFfWvkcayvheZVSZdrE4JNeo/Djx3dRLDKsiMy/jigCD42/C9LjXGulxDGoGSK53SbtvDX2eNVWRmfAcjnH1rvPFXxGg8QXLW5aPnklvWsNNEXX7f/SIz+7OEZWxkelAHpXgvW5Jbe3iYxhjgOGG7ivYtBsLW60eGaG4hZoTudl4IxXlPgjwdFHp0VxbSCQqoDIzcnHWtzxh46Xwf4WuLeFdrNGQ7D+EH6d6APoL4b/G610rwvLpU3kmRiQspAyDnrXMeL/HFjrf2pI5Hk8sHZtfGSOvFfEI+Ot3bawpW6ZUDk7SCM+4NdXpPxTadDJ++3SckK3H50AeyaJ4tstU12a1mjji2jCu53MK534g/Ctbdvtlm7SFmJGzgHNefeE79rzxR50M8io5O5G/xr0/VfiI1j4aFuy4k5CyYyF/H1oA8zvfiCvhzzbW8jZVjGAxHT8a5ef492okW3kVpdrkCTtj3rjPjx8VPsTyCOVJOSCxGfwryLw/4+F5qSjzov3jYJbmgD6GsPiZH4n1HdcP+5RsJs+UV61+zx8YbXw74jRY45GkLBW54xXynp/iSPTYBDGyNIxJDDvXo3wW8WNp+ps022ZcjJA+YdxzQB+gl94zjstIiuFt9puBkMxAGa88+JvxHjRmkE1urYJQBe9eYa38do9TsFtmWaAInykvnb715l8QPi7cQaUELK4UkA43E/jQB6n4l+PlvLpbWcM9u0jrtYrhcV83/ABLPk+I0aGfzJHbJAPvXI65qF1qF7JJGJI1kyRkkYqz4BuLrV9YjtrrMmxsK5/h/GgD1jTfAk2s+Ho5JImWPaD5mSan0+N9FUWstuJCz7Vdh1H1r1X4Cz2Wo6WtpN88cJ4DfNkntV34neAYdVuBItjOm37u0YyKAKPw48AIxhmjaGFsYcNyad8aL+3tvDkkNrdLNMDmQoTmoX06TRtOQWfnxuwCsGPQjrmuP8R2d1BYXEJuFHmA7mc9M0AeL+JNWvbSa4SFjuwQrBe+ap+GPilJcTNZXjzfu1IQ7sc1teKLOaxORNbszHqB/I1xOteE7rLSRws7feLL/AENAGb4ln/tHUWaKQrhs7ic4qO1uJtSt2spvnY/LG56VgWthOdTMO2aPcxBzniuz8CeF2vJjA27crcP120AeO/EL4X6jZ6jJKvzKnXArU+GNldaf5YaMsXfBYrxivp62+DkN7pwkWSOb5fmLc/hUdt8EobIqsccO6U4zjOKAMv4W3sGo7Ybpl2R8Arxg11GoQpA7+TGWb1z2pun/AAh/sDzGiIXd29TUyo2nXDQzDdlccDpQBzVzobI3mFceZTEhSAhQv04rororNHhlYY9e1ZawqXI96AG2FovmbsfgK1YIUC/KtV7SILWraQ4TNAFW0sIjN83ygVJeXS2UW2JVZietOuTsYhaoyCSbO9ScdDQBj3Mri/CybfmPORniuo8H6VaX13EyzR7lbJPcVzPiGxlXEkQzjgg1X0/VrqxjZUVl3D5iO1AHueraAmo+GTZxrG8knCyYBNeIfFH4HXU/mzKs0ixgldp9Pau28Aa5qN9JAyyHarcKQea9C8Q2oOiu89vIpYZOOhP196APl/wjo6wRyRXEKx+WuFZ+SKx9Z8MW15KYY23MzH7vANdt4purS11SYQyMkbE5Q9vxrD8OW8etagsUaqrFyFfqBQB5f4s+F/k3TbUcBRw2P61T8O6bdaTOi7ZH2tjf2r6E8ReAWTTl8mRJiB8zHnHtmuX0nwQ1reiN2i+dsEtzigCt8NvFE2qzrDeyP5KHaoB2ivR/B95FpOsC4hEm9WwTngAVyr/D1tMwkK/vGYkFR1ra0bSL/R7ORZFMinqR94fjQB9g/s4fGs+HIIbeOPD3BxuY4wc19a+DvsvikLcXE1qGZcqAO/rX5W+AvFt5Y63H5izxKv3SW4FfW/wo+Pl5b6DBE0gYLwOMn86APc/j94VtLnSpE0+S3aRh8xTC4NfGPxB8FSeGtZ2+cxkLHgH3r3DW/Hras7qzSRrJk8sRivF/izqc0UzIzb9p+Vs5x+NAGbLpxgsAzOyKoH7zdWbe/Fm+0m1NnGxmZmKqx9K5O4+JMlvA0MkjGOM8A859qwR4nj1W8WSaOT5Txg449KAPWPA+uahFqMcu5VJ4YNycV22s/HqPQNNZVmWSUHLlc5Arzfw7qNnJYJJbbxIwwQT3706/tIrvT518yJdwOWbjFAE/iP49R61HNH8m4rhW2d89a8w8c/EOz8WW72AV2ZEIQ57965v4leLI9A/dx3FuGyckDp+NcDofxOs7PV/LnVZGJyxH+NAHG+Mvg7/wkOoSSNHtXOdx5rB0j4WxpLJayRAtuwj179HdWGu2hWxWTdISTx0/Gufl8IXRWWNLdtyvw+M7fxoA+iZPhu2luuyD5mfBdkzgD2r1DwXoV5p2kKViLRxqMFFxj6V65rOhaKuqvhodm7bEBx+dauv6dpulaMkyIjsqhiE+7n60AeCafpDalqMyzmRViBcsTzn0rzT4zeP2hDWgVZtnAc84r3rWpo7q5umhWK3ilX5QBt59c149rnwlNzqFzcXpMkeCUI6NQB82at8R55ZJLZolUNwGxipNB+Hd5rBa6RvlY5LBu9aXxD8PWcXiLyY4fK2NjNdR4Dv4dEgW3kUs3bI/rQB5lrnhy4e6jV2/1bY47Vs+H/F7+GR5Afdtzkmuj8baD5ty00amNW/GuUbwNNG6yN82480APl124nmadflZm+9W1Z+MbvTkgBmbC4JBPWr/AId+HTXens27auOARVK88KBLzduLeV0xQB6v4C+IcWnWHmM0nzJk4PWjxJ48tIbJrppGdZcgq3ORXlc+t3VvblYQ21e1clq3iO81F2jLttU8KMigDc8b63Bq1+JLG3CtnIIA612/wltJL24RZGCq4CsTjg14/aXk0Fysm1iF9K7Twv4sns7q3kjZl2mgD3zw/wCA47QNPGYcI2WbGdv1qTxALVdOS1kn8xmYklTjFeX2nxbvLeF45NzZ7DIB+tbvhjVLjxfPDI0bMqnG3p0oA8l/aG8BR29izw7WDsSXYZrwBfB95b3vyqxIOcqO1fbXxL8KJq1l5ckPK8YHavGvGvhyHRrhlWDc2BzjFAHn/ga4aykaO8+ZYlyCe/tW/a/EO3s52jtyV3fdIPQ1T1LSJI42mWParL8uBiuNsdMkOq/vX2ru+XmgD3DRviA1zpKmZ/NWMYY9xVO58Z22t3iwiOTG7h89DXL6bD/Y20iRuRz71seG0xciZkBVWztK0AdV4e0iPUYt1xG20HAIHH+TWbY6JNpesyyRrJtRienau0+H3i22uFFvJb5XOGGM11Gp6Bb2Fqt8Y0UMSMdOO2aAO6/Yu8VWmn6grX0MW0Scu4/SvpP4y6vpN7p9u2mxQxuygk49fevifwXrcemarI0M6wKRkDHf8K9h8H/FZb+A+dcC4EKjo3INAFrxZZXUMUkcbRr5i5BDda8u8eeAbmytVuFuG3TdT1Wui8S/Eddf1yT5vKjjOFANUPGax6z4XkENwsmwZGGKkNQB5fPZ21m8dvdBZGLZLHBGT2rvtH8GWMunj7Lb7pZlAZwPu14b4pVrXXo2M7bYyN3OcV7/APATx/HaaXaxmNZiW2ncOxoA8h8U/AfULme4uIbdVWNydyoeBXO6D4EutBv1V5ZMu53YJGDX3nYeELTxhpu+Hy4y2fkAKj6GvPfFX7Oj6lqQkEe4Rk8Lx0oA8t+HupJptrHFcHLM2CzjOB9K7zVdLhl09ZrfbIqrkFBXD+LvhxqXhy+k2k7VO2PHFRDxbeaLY7Z9zFQCQOmfrQBtafew3LSW8zEBRkknnNYep20PmM3yvt/izXKap4suLnU5ZIz5Sv0AGKradqt0obzmZvT3oA0NT1JXdo1VfTOKrQ2zN8xqjDK13cZ2lea0I5So2nNAEsMeGFaNpLgbaxTclHq1ZzMWFAGp9nz81RzbYCvSrNtaNND1xxVKaBUuPmb7tAEepSwbPuHpzisxZI9N2zKh2sehHWtx5UMW5V3BeoxWVe38c6ltq/uzwo4oA9U+GOp2ptIZhaqvQglRjNdV4/8AEcd9p3k2vl/Ou1iMcGvD9N+LlvYBISu1YwBweldb4T8a6dqmpW7yTqqbiCGI70AeQfEHwJeSPPcLGuEcksATtrkfBtrLpmpRxtKSWkJJUkYr6M+KFxp8mkzrCA7nJwuQPxrx7RNF/tXXIWWL5VbG3pQB6L4V0fz9HUySfePLvzWB4q8HTLfbo9z7TnKDjFeseDfh0dS0VdoIxgYHaq3jDw02iztGYy7bQcjtQB534Q1BbS6MN38yxjgnqa3tQ1KxvIfKjG3dwD6GsPW9IktrxpvL2Kw4wMVl6UzPd/vJMKDx9aAO60jw8rWqvgSBepA5r0LwNeJGY41SRQCPmz0NcT4Q1G3snUNJ25HrXfaDrlrbRb/3fy54xQB1cFw1yFknLYXoRXk/xWvZJb2ZVaQqpNdje/E6ExmGNflzjFcT4ruGvJvP2r8x6UAeW6nm2G4x555JrN8Q601lBGY12MQOa67WdNN3K2MKPTFZF74YbUoDn5vLHagBvg7xrcWVu0ZkAWQdd3Wu5t/D8t3of2iG4JaYcnORXjOrWdzZ3jbVZVj6AV33gXxi0fh6SGSTKqOOcEGgDz34q+D5VdhIu9s5LcdTXjF54entPEG6GNtzHBbHSvoPxNeW2s3mTKdq/eAPSszTPDFtIUZY1k3OQd3oaAMr9nQyXOo/Z7lYwvmY3YJxX1Jb/AWy/sKO4t5POaYkvtJGDXifgf4eL/b0c1tIse1uUGR+Br7G+AF5Y3MNva6kUkWPjaTjoKAPAdJ/aIvLa+868MjjIKPu4JFdFa/tkR3GhTWMsLR+YDskz3zXzzrPiJXiWBVMYUZQnvXP3Uy6f5azeY3zb92eDQB9N+HPjRDqt9G11IxUNwFPJNdvqPxU07U7f7JHEquy4VyB/SvmP4dayrQ7oYzuUE7nGa77wj4l869C3Cq2OAQMDNAHC/FXSoYfEU0kj5+ckkCseyvWRV+8EHCZ71ufETWor/UJl+8oc5wetZvhxI9YnjikRdqkAEHpQBtf2k15bxxyRsfLIPIycfWtC40dNVtY2hUrxg+1XNS8OrZ20ZhX5mGDnvVeJ5YoWVc5x2NAGl4dsfKgK+Z096be+GFaJmhaMljzx0qppazQSAq351pyTtbR5b3zigDl/wCyY7adlkVWPIrP1fwIk8nmWsX3++P61pahO6X25Plye/etLSdXkdfKkUexoA8vl8MSaXcSLJG/ByD6U3zBbhVVtuOvFejeIYYWhLLjdzmuLnt0N1tC9TzxQBa0TUmRV2qGY8EsM16H4E8YDSpfLCqrdmA6Vxuj6aifKqj64rotO077PliFHGc0Adjq+uxyyM0nO4dSa858VWkepbiY+TnBArQ1bVjKyqTUcLLJHtZfxoA4+50tb2A27Ltxwp9K5PVPhcxvlwcZOc16nF4dWabcrYNSy6Iq7Rw200AcXYfDSZNPjLfNt74re0bwhsKxPGoXGAT3ruvC0cBVYZjlVrdl8M2tyVbC/wCyw7UAYPg/wKtmrSGFcqd2SOg+tO+KeoCbRVhikHyjBHWtu/AsoFSKXG4bTz1rjfG1pJFE22N3ZhnIOaAPPW1+TTLrdFukYck10HgXxtMZWXzAokOCMdKwDZTwytIY8DuCtT6S6pc/LHg55I7UAddPZ/a5vtEDPkMcDcetaEjTEYjuDGHGCuc/rWRp0E0W1o5DHxnnnNPvbK7mXy2DMwOQ1AHmvj7w1eWOsOy+a7btxOegr0D4GX15K0Uckm3B28j+tZUk0rXHllvMZiVYtXoHwpshbov7uNWbOWIz+QoA+o/2fPFFrZ2ywzSRbwfnd/mwPSuk+JXjO10eBobVYWmZsiQcAZ9a8L8N30tjEwsmUSM3zPj29Kp33xAuYZ7xdScfu0GGPf0xQBa1/wATJ9rmkvk3KeUfPBIrxjxj8SrIpcWwtyu8nZJ70nxO+N0N1ut4PkCg7D618++MPH32e9KTeYx3ls560Aem2uvQz3QaZuM8Aetdjo0tvqkexI8Njhj2rwPwd8RreSfbt5HQtzXuHwg8b2Ms8ccwVi3cDvQBesPD0cc8iyfwnqBVTVIltGIX7uePeuv1q4gihkaHDLknjvXJzI2ofNJH8vY0AZKXOZsMvfvW3ptqt0VKcf0rMe0U3SqvVuDmte2smhQ+W3zY7GgDbFr5MPEg/OsnVbCTyd0TK2T6dKLqC6gRWWQ+uKbFcmFdszZ3HnFABouopBbt5yq23OazdX1i1lk8uGMKZOM46VeitFjDPH8o5PPeuN8TJdXGpNBHH8wPykUAc14o09oNQkC+ZuBzkHpVeC5u7SJfKuG4689Pxrp7fwbdXcS7pG3c7s1Zs/Bj2NuyGMtK3Ulc8UAVvCXxLm2i3mbfIx2sz88elegeFNGjurzzI9u7qGAwAa8rk8Ora6vtjKqwPUL3r1n4aD7DYv5zKpCghj3PagD2H4baj/Y/7uRj86jkt3rQ1q2jvVZpo/vZw1eX6f4w2akq+Z90/ga6ifxRLdW/l7Wz1DZoAwvHlpDco0aqFC8L9a86uNEaK55bHPWu012KeV2O5vWudubWRm5OcUAS2FpJbRK27p3rSXXJoo9m7txz1rKtpmjXaTmpE/ePlvwNAGpYalMrncM855q3qerNcQKB/D1rLinRMfN7HmrQuoEGMZP1oAq/aV8zdtL9zUTaqiRsse35uCMdKuG+iCkxqvHbFZc1/Ctx9zvyfSgDI1PS47v955f3SeM1hanGsDt5L+WCMED/ABruJtOWZAY28vcOh71heJfh5dS2TBY2LfeDCgDySUyWerSfNIWDZJz0FdDosl1qUSxwzYPTjt+Nctq9hfaZqDRoxZ9xDZrv/gpZTA7rjarNnJYbuPYUAdZ8Ib6XQNTWO4kTcGO9n5wPSvRte+LD+EHVbXb5pORIvAXPrXml9aKNX8uzZPMkfDPj8+Kl1vSbqBbhrwj93GMN6+mKAMi/sTqkkn27yY40O0AADPpzXCeIvElnYah9l8tWYNgHOSPxr0PxPoV1N9oV0aNMnYO+P8a8pvtCvYNZaQ2rMd2NxGdv1oA7Lwr46Gn6YFjh5fggr2rcm8ZtDZO0LeSnXJ5Oa5zRvDtxqyQ+TB5bZ5YjpVnxD4MurKF445N2OW5zg0Ac/wD2zM9+3nsSGO7J5zXa+DdHmuP9KJZYxyg/vV519gmbUI4z/C3Pqa9h8NXY0/w9FG3zOq9cdBQBv2fiBVtPLmZfl4BNZupaha+b8rdfvY7Vy2sa0rymOPcDnk+lQWl1IUP8XYE0AdhYa/CCFx7c1cvtVjmg+Rvw9K4qFpDIDzWrp8pZtrc0AW5IGupg27j0qeKyaPcwrQ063jnC/wA60TaRxxcYPFAHMXkW6EqBuz1rFbSf9J3bRXVXVuoJ471UFsqv0oAoadbNAfmrWS6/cbcVXdMNSJkUAMuEE78io8eXwKtLF5hoMPNAEccjIlJFcMZOe5qcxYWohHl6ANDTIv3m7O2uls7lvsy7n4UdPWuWtGKp8tXTfyIlAGjcwSTPnd34qzHBHcx7JFDcd+1ZtlfsVzu/PtUN5qzAnafxoANf8N2pXKqq5HSuQlsE0+ZvlHXrXTyXb3kW1m/GqR0X7TMATnmgBmnQmRY22/L0xXUWtn9qsT5KDeeuaoaZpihlVvvA9fSux8MLBaKysd3HFAHnr+C4TfsGRmJPO0dK09Bso9CuG2rJ8gyAc9a7NI7U3bKyqpY8fWqWtGHQsSHY3+FAEHg3VZJp5WMxjUkgAcYqn4ktJr2eZopNykcg4zWLr/xJt9LRgkSx7gcED9a5DQviznUH8w5UnGQetAEGteDZriSaa/8ALSMHA4xn05r57+KV5Bp+pyxrGrbWIz6V9Mar4hj1vTJ1mwq87eea+bfifOtrrEq+RuZmxkjOKAOO0PXpJ3xHHjJwRjtXpvgTxLcQTDy2KBD1PPNcdpnheSVoWtYdrOeWxXp/gL4TXVsfMLD5uWyeKAPRfh74vkuyLe7bK8N83evV9H8Fx6tpzSM22PGUHHzfjXkdj4W+wTwurYII/E17Fb+JW07wpCFbzJI05IHQf40Acn4j8MrpE/3lxnANc34kn/sxFKM2WGWx2qh40+Iv9r3LQqzqVJyfSuWs/Gkl8ZLdsSEHarE0AeheFNdOp2yxsrHnHIraj0y31I/LJtWM8j0rlvBN+rzRxtIq7uM+n410fie1n0O1ZrZWkkf7xHOBQBcbRokZfMuFVG4ArFm8MpFeyzpMvykkZPWuL1/xdfalciP59y/d7YNdJ8N9Qu2Mi3ALLg8kUAdN4djhvIfs9uqzsTl8dfpW9/wriRreabyxGqrlRmqvgbwrMbppBGyFmzxkV1jLd6XA0EqvlgdrH0oA+evEOnTadq8y8MAxGV6irmha5NFalWDJxzW/4x8NzS6w8rNtVmzx3rGvfD0sFtuXv196ANzwTqMd3fbZjuGetet6AtrLFt45HBz0rwzwnDJBfqHbbj9K9L0PxAbWLb/EO/pQBveKdOijhLLj3rgtTkVJWC8c966nWdYae14P3q5W9TfPyKAKJk2NzSS3bbfap5rZdmah8lWI4oAhzJIvWmvcyRjua1re1V4uKpzQKjkHigBmmzsz/N8oq5BaxzS/MARnr6VmXcqRQ4DVWsddEN2iGTPPrQB6b4e8GLqUcch2iPpitjxUINN0Jkt1TzMEHcea5/w74ja4gRY2bf2Oela1vpd1PBM0u91IOOOtAHzl4zltBrksIXzGY/MV7Z7VU0q7/sWdvJWb5BlRk8mvTofhJ/bniaVZLdo9znaT612A/Z5n0O3jmaBJOOTjoKAPB/C1tqWq6s1z50kalzhRnjvXpFrBeXkLFnJVVwwOCeldlbeFobBXhax8rcCQwX26g1k6Xp/2eSZWj+XJGRwD6c+9AHovxK8JWOlvNYravvVj5bnvz3rirz4TC1SMsYZM/Nt28nvXXeMPjBZazqA+0TW+3HykjGfQGudsfiRaeJNUa3l3MYT8rRtjA/nQBrP8KLea1jkW1kbaoO+P5VzXI3vgSPTbl5rhWVWyCH/iGa9ks/EdrceGktbGZZJMYYFj2rx34ySTR3e5/MbAyGDY5oA4HxzY6bo2rj7JbqzMRz71ce6abRllhCquMHHrVAwyXpWb5X2nkY5/Otm3e3e1VPL27fvDtQBwqiW7u9pX5ix59K63Q/C+LZWZuvetGPwvHNcJNHtC1puhjtPL2gFRQBhT6VHEny4otrfY3FSXIJmxmn267TQBf0yQx8elaH2ncmPzrLj+Q1IkzEUASXnzHiqrAk1OzbqiIwaAI9u40LFipKKABFxUhi+WlhXAqT+GgCs43DFNWLmrD00jIoAQPspGuc0hXBpGizQA03ZXOKbuJYNuoKc05Yt1AEiN8vvVqzk8s8daqhMCpFDKeKANIXXlKT7U7TfELQBs/wAPes9ZGx9Khb5XPP3hQBbuvG375hu78EVzXijxk86fvJm29BiodeVoW+XvXF+I0mYNuB9QaAG+J/F/n2+2NtzeuelYPhWZbvVN0sm2PcckcVDFZzS3GG/i4zitbQPA0lyxZA27v6UAdL/aUJ0loVVtyn5GrgvF/guS+1CNgySd8Y5rsLvT5NOdbeZ1Cn7pIqvZ6M8+pfvlkfyzlWQ9BQA/R/B9rtg+0QN+7A+dTha73w9Z2lrAsm/av3SD/EM1yfjhWttEjSykywGDya4+01C+juoxM0jcZDA45oA+gdYfTovKW1hVpJMAsPX1q7rN8ln4Pa4jaNV2lTg9DTfhB4B1PxR4fivbePzhGMlccgVd+I3hSb+wZFa3aPyxl1xx+lAHyZ4w8cPFqs0MWd8jkb/TJrZ+HXhq61G4hl8xm3tjdjg1W8U+FoV8S+czRrGrcCu2+EHjXTYdZitLiNFkjPynqooA6jTPhte2ltHMq/dO7OOtdppc8kOkyQyKJJsYLtwMV02v6zp8OkxfYpFdurDAIPtXmmv+PzJcmGD5Gk+VuM4oApSyW0erTK0cbbecg/0rs/hxBYvFIXjWMPzvYd64fQUdbvdIrM4J5K8Guhn1Wa1tmVtoAHykDFAHs3g7U7GxHy+VM33cr7VvXMFnrsX+r+UZCkdq+bdF8XXNpqojHmqW5HzcV6N4W8RXZVdzM2eTzQBP4m8LW15cyKqhyp6r2Nc1PoaxIyOq7VJH1r0qwtc27NJGQZP4q4Dxe62126nd14NAHGajpwsrrckeOeKvW07xwj1+lR3M++X5m+UHjPerCXitB93p6UAWftzTIFY8ClW33jdVOO8R3Aq28gMXDY+lAFLU2CNtHf0qnGpJ49aLp9033s81LbsOKALNtEyJ3571R1i1eP51atqxuY5iqtt9KdrNhHPCw/u8igDgNcMqW3uK5y3uZTdnb94d66/xI0caeWrDJHOa4fVLz7BcFoTluh70Aeu/BvXokuQszLjHUn+le6eDvF+lXVkbeTycr1f0NfIvgzxJLazbicbPmFdl4b8WTLrPmPLtDj5T0GaAPoqOKx82Q2qLOzN8rovII75q5YtcfZVa8lk8skqCBjHfNecfD34mrZzLDNHuaRsBt3HPpXoLeLoLi0kiuoVVV+eNwOPrQBm3+rw3AMUXlzTZ+8B9wdzitn4a/B618UTSXM8yeWrHcVwM15trPxKXRtYb5kXcSoYDAx7VrfD349W+nwTKsjK2eRxtBoA+FNP/AGgbvVbiKOWTbuYAZIPFer+APG6Wdw00k6spQHkjLexNfKfh7wtJrSRyRMzCM8AHFdpo+sX1tp5t2BVuVVj1wKAPsr4WfF6yglmWRo90hwGz0HqKPjz4utJbaGazuFkZxgqDXx7pGo6m9yWju5MqcnDHiuosfG15NYi2mlPy8ZbkigD0aDxZ9ql2qCrN6c811Hg/TPtcqybsLu5UnmvKfDkw8xf3hZc8V6B4d1edGH3l2jg0AeoQtDFbBdqjtiqOpTR+W2z8q5/+153AO9iatWt2zLhvmz60AVZVLSn606OOpJUy1C0ASKMClXg0iinkjFAC5xTOrUM2aSgB5X5aZjmnIadQA6M8U8LupiNUitxQA0jmmvUm/JppHNAEdAGaDwaUNx0oARkoAxTx0oEeTQAwVIq4HWkaLbSgEdaAHZ2pVW7lJ6VM0uKq3EuQc0AUblROxElYOrPEV8vbu5xW1cs38NY99aMzFtvPrQBgBIYbjlVU54Nbel6vFp8XloVyawfECtEdq8e9Z+nXzfaPLk5XHWgDovEQkvZopGwvIxn0rpvD9pHDGZJHVlVM9vm/GuM1BBf2i/O3ydMHFUE8e/2TZtayFQTlFduwoA7qMw+I0miWNd7HAbHQe1Vb/wABLBcW/ky7mJAK5rk/DUNzqDNLb3TNk5O1jxXYaCb2GwO84aE5LNgkUAfSHwB8a6d4Zso7KZdjyKAQMNzW18U/AH27RW1DT3LLKx/dMfmr5p8J+JSniKJZbz90rZXkrz17V9MfB/xvb66fs2oF02ABD1GP8aAPkf4w+Ar9pZCtntOSCoHIrzPQPDeoWOvB4Y3UockEc5r9Kvi38INJvdKW609xLIw+bIHU9RXjfhv4WaKPES2z26M0rc5HP0NAHm/w3W+1XSfJuIG3f3ypGB7ms7WNDjttSaJSpYHn359a+0vBXwC0+z0L7VHaqCF2+XjrivKvjH8LofD+o+ZHZqvmOR0GRQB4zpgjsLFYW2NuP3j1H41fksE1K1/TIH9an8R+DxbXIlbdbjAOCP60zw7qFvND9lZlyp4OaADw74Wj/tXbMFbb045rudE0OGORVRWUN0PpVXRNDWCeNhIp3HrnpXVXVsun2iyNtB9fSgBdVl+yaHtVtxXvmvH/ABpdtNesuG4Oea7/AFrxbHFA0Cn73c1554kn8+Zz97+tAGEQzP8APmpobjYDzVWe5L/L6dKjVWKUAXkuPn4rSin8+MKvVuKw7SXbKARWzpspI6dKAKt5prbjg1Fa2rROMtjmtiFVlchsYzTm0re2dvSgCqYWjUbefpUhmmmtyqqS2K0IYFRQF+971asIIpZGjLqueDQB5R4xtrgtJuUr715l4g1GSxkk/efXJr6E+InhHyoN0Lbmx0rw/wAfeA7i2/eurfvCe1AGNovjqSOHZ97JwT3ArsdJ8XzahtWLoo+Ugc153oWjyWmoL+6ddxxk16Z4IsRFEy3UaxleVIGM/TFAHpXwQuFvdW8vUG2j7w45z9RXtWn+LbObRzaxx+byV3HsPrXzfpfi+Lw3qCQwzDc7Hk9RXc2nxTj8P2B+UNMfvMRkAf40AYnxE8V2lvqNxHMscLbmCOx4FeD+KP2gI/C1/Na2s6/eJPOc5rc/ai+IqsjrbHZ5nIY9ietfKt1cSXWqyLcNuXqTnNAH0J4E8Gw6TpawtHuaQcsD/KrF74JWzkZkR/L6jgnJrc0vwfqQ0+C82tGqnATZiuv8NaR/adtDbXEJLM3y8bTk0AeXeEvhvd3DSSuvko7HGehrSsPhts1TmTdz+Fe1ap8NVsrOOSPeqqPXrXKjSJ4nb93hlJ5IoAo+EvBSg7pP9Wp4rrbDTo7GL5V+hqHQdHuHdc5+btXR/wBlNHbDetAGXblW7VoW0Q21CLfZJtxzViBSo5oAjIw1GOaH+ZqBQAUUU4KCKAG44oqTHFM2mgAU4NOZsCmgfWl2ZoAEORUitTQKcq0AOoziioycmgBrmmhttKw5pmMCgCeObIqRDzVbdUkb0AWVXNNfpSJPimySUARnk1HIVPy4ps0+00yFyzZoAetgpO6q95puFO2Pdn2rSifzDt4rQs7NrlfmT8aAPPdW8OfaRuKfKOtZl74YFnEJUT73XIr2WTwEt1CGH8QHFZfjDw9DZaWUMJ3KMjFAHi/iG/8Asdi0aryR1Bry+9uWudWbcW2qeMmu2+LHm6bH50bMvJG3FeTQeI2a/WKRTuZuOxoA9l+ByNPfGOeZYFdto3Hg17k3ga306zzBcebuGQQflJx0r5f8OwzRahb3EUsiqDn73Wvob4ZfEBk0JVugrNH0Zzz6cUAYqfD/AFK/1JrmNG8mI4G0/wBK9R+DFnrWiDzHt52DHashU1t+BdUsby7t2dl2yHkYGD3619GeA7PSo9BSWZbfpwQAOO31oA4vQtevB4fZpovlbI27eT71weo6uYPEEjRbY1Lfw8EV6p4++I+l6ZfnT43tVmGACQPlz7V434u1KG11x7qTEyx/OAny7v8A6woA90+BnxMkh01reaUXCjk88r610XiDwGPiCk99N8sUPKkcjHt718iS/H+30rUN0Kva72IHz45r1D4fftYJY6IkRuVuG7rnrmgBnxW8C280bQ26qw5VSTkk15HqHw3m0C9Vo24J5HXmvZtd8e2fjJRchDESSQRx+lef6j4ghjuGadiwUnmgCjZpcWunrIu5vLPI71X1HxfNdx+R5h9MVTvPHMLGZVkGF4CjvWAmtx3t0SF5JoA1LsPKS7ycfWsbU59gb5q0tUj3WqhN3zCsG9sJm69qAK5nUHjmrFtOrdelV0tGjp0kbL2oAtRxruJ468VctHUfKvesX7S24DmrlpKwOaANRAY8nkgd6s2upSIrcH2OKgt23Jkng1YSdNu3hjQAsOoEctjFVbu5aCZnjb6gVbvNO3/dKr0x9ajGiyMjSN8wVe3FAGauuyXat5rblX36VzfibxHDf2+xthWM4zjtVXxP4qXSrpo9pU5I61ysGpQ3UreY2CxJQ9Mk0Aa3hXQ7XWTJIqqUR/u9Sa9GtXtLfS1htbVZmx1MeTn61554HeC11HzGuFUlslc9fwr1PwpqsUOn7oTDI2Tu6DAoA4f/AIQ+O41ZbqRVWONiSoHOfesHx34kbT4p7eC38xuRuCdv/wBVeiDVYfEeuS2nmw/IOijGTWpa/Bn+1beaa4t9zMcBgcADFAHxX8WvFkmvELIhVIvlI7iubtvCa30cckaYMnByvavd/wBoj9nqHQdW8yJifNwSoPrXMReF1srWGNLaR5FGeBjn0oA+pNO8f6bNZR20NjCfLOMfe5/+vXV6N8MV8W+Xdov2aMDcq7cY/H1rz3wVo9vpettMWYc5+bmvY9M+KNhpkYs5THCyrhXHb0oAyU8L2umSm3uW3MCQCTkD8a5fXdK01JitvIrbic8d6wfir8XF067KWsm9pD95vWuP8P8AjO51F5CykbjkHGcUAenaNBbwKo+Xg+lGqXUUh8s4z0GK5nRtTnigy7Y3HirBuGlY896ALU0flu1V5JccUrS72+90pjnigBgPNLSFef50tABTkFEce4ZqQpQA2iijNABRQWxRmgByDNOVeajBxTkfBoAkKYqJ/vU/z6ikfFADJHqMtTmORUYOTzQAu/DU9ZdpqHvQTxQBaikokkBqqt1j5aDlxmgBLlwh60kD45pske7vVq0tPMAA5+lAElhPiXGOveut0GxWeNWVvqPWsLS9KElwvHNdZpmn+VEyxg7vUdqAOt8OaAk8a/Lu45qt478G/adNkkijXGMMD2FT+ExJaTRr52MY3A1d8cXr6NpvmKd0knfqpoA+YfipoMMm5Ht1+UnrzXi+v/B/+09RFxCxijzkDHSvoD4qrJcXM00e5d3r61xGir9rvfJuv3bDOG649KAPPvD2hDQb5YJmYsGxk8qK7C98fW+hWUcNrMGbPPHGa5z4j7tInxb5ZmPU9jXDaLq9xdXUyTRlfm4Yp0NAH098Ivi3mKHdtO09cY/CvS9R/afhg077LJJ5bA7Vwx28V84fDlZLfTV+ZVLZ2nHU1S+IltfW9jIsTNuzuJz0H1oA9H8TftAT23iWaSabzF7c8gduaLr47P4rR49vk749vTr75r5Ovtfuv7Wfzrl9kfbd1rrPhp8UWmBt5wMqcI9AHpPiHWLq6lUr86xtyB6/X3rU8J3d2J1+SaPccjrxVbw3oq63Is1vIGYn51x2r0G2sLeyt47dogZV5Z/7p9KANfwn8ULnS9Na0kXrld3XFVJ9YutTWSRj+5ViRnvXQ+FPBdpLZx3Lf6tTnBqHx3p9mAqwIyt0G08UAecXmrzR3j7U5zipdIvpDcKfmXnmtW08MLPc+cr/AIHvWnp3hXc37uP5s9aANPR2a6gVWbtV2fSY5Rw3bBqtbWrWbBOARwa0IV2Acjn3oAzLnR1iTjms66stq+ldFOVC+9Zd2yndQBgPFtk6U8TKhGDRfcHisya4aKgDbGpbYsDnFTWWpK043cegzWHaS7kLHjNRyXvlSYH86APQtJkjlkHmN8uM1B4m8WQ21s8GAu8YOK5LQfEB87bI52r2z1rUvdJXVbFpGR+MlTQB5x4nsPtmoyPJlRnKnt+dZEvgmTWIBEsrL3XHatzxvqjLKtraR7pc4bK9B71V0jT9UUho9oYZ5Pb2oA5S28NT+Gr3al03mbsNk5C+1ekeC5v7Ks/tEtyBDgkE8gn09a4rxXHfQSfu+rEbmA4BqaWHUr7QkhaKRtg6qeBQBND47lt/E80dquZGf7/WvbfBWsajd6AjRXEjcfMhPJNeB/DOzmh8VI7QtuZtvzr1r6T8GTRppdwiwlJQMb15VBj+dAHlvxss7uW4VnhabAyxAyBWL4EUzxGaS3URqQJA2eBXo3i/7Ld36xtdr8mN4bpisseH7Sws1Nu2ZZTjKnKkelAHJx/EH+ydSks2JZt2N47c1d1PXZpoo3WTcSSN56YrnLbwTML3zonFxgksxGfwrSvoHe3W3ikjDN8pOM4P1oA5fXfFH9oajHHLIsh3Y3rwBW94Q8QWtnIsPytIzcnPAri73wRci4aPdmQOeR3rS0PwtfafcmN0aTocgc+tAHsFpLDPbZb7uPkINEdwBJtXv0rB8MWs7ReXMs0YA4JPSuo02wCBSSGoAjAYHNLnJqzcqivjpUBTAoASijNFAE0PKCnEYNIvApTwKAGMMGoWanu5Y9ajwM0AAfFLuFIOWp22gBpk4oErLSiPJpCmKABZ9zU9sO1QsNmafH1oAmFvkU37BzUkUm71q9bIHHNAGeNPweaJbPy4u1axRSMVX1AbIuPpQBgyKN9O/h61HeP5J5qn/aAzhqALUSs8u3vXTeG9LyVYEN61y9pcbm8xD9QTXW+F9bit0Ik+XI5PpQBuSx/YkBWMdOuKgXXXSFjGG9xmsnX/ABvbwx7o5Vwp5HeuNuPihA92wGRzzg0Aer6H4od5NyrjaBnPJrQ17xYdaSOB32qoITPHNeZaB4sFuvnQSOFfqppsnxEae9WKSPa4bh8ZAoAueN7LzraS22MWPG8D+tc/YfCa/kto5YVaRixBfHGK9B8OatBqscaxmOfn5mZc/hXs/wAPNAs7rSVihNtul+QlhnBoA+Mta8FSSanHb3gViWI3gYUVyWteDrPQtR8mOMPMz4ZuwAr6Q+OXgz+ytVkgjVPN3tggH19a8h1PwzdadfyR3kSzKxByB8wHbmgCx4P8ANDozTXELGNVzEVOBmuR+IHiWKyuJrTy1V5AQhx3r2jwvLBceHGhmt54VRMgk8Lx1rwn40anHFfjYY5PLYjpk/nQB5P4r0COF5LglX3fe28Vl+Cra3XWFVW2tkhc/WqfxJ11WlNvHuj8zPer3wt8L6hdCPcjMuflYDOKAPoL4Q28ejSGS4ztI++DlTXdQX4m1LzN26LecKerCuf+APhC6uJY4r5WWEN8of8AiPpXsmofASbX4TcJazL5Y42HjHpQBjt4jkm0by4ofLZPlweeK4zXfG+24WNZFZ1PzHnIr0fU/hk+iad+5MysRtYE9D715T4n8CXVneSbZOpyS3pQB0XhTV5JF27lYt0IWu60sLNYgRj5uufSvP8A4a2+Zo4pJI9wPJx0r1KRLfTNM+XaxI5INAHN6h+5kP61nz6iQ20VHrF+rXB2EjJqiCx/OgDSi1BnVg1U73cx+XvT7Y4HrUu1T6UAYt2rFcVmSws8n8VdHdW6/NioE03zD8y8EUAYWxnO35h6VTnt5Ek4PJNaepL9nfAUjHvVCG/8tmWb5cHIOKALHhmN49U8uVfvEYOK9k8NaRHLoTLJJGpKkDI5rw6HxYkV9tWRTtPftXe6F8R5b7S1t45E3D5c44WgClrHguxi1lvmj3bgGf0rprf4R27WcckcvmK+cAdTxXA6xrb2esf6xcO33mPU+lep/BTxzHrUf2HUoW3R8IwOBigDj1+FH25pIJ7ZlZH+8y7uK6Hwn4V0q3Cwxy28kif6wH7w7V73q/h3R7DQPtVnJGzFAHRiM57189/EK6tfD2ry+SvlmYHewPTP0oA6jSvA2iaTd7/s1vubOGVR1z2qHx7Jp2n+F5n0tW3NncpbBJ9hXAy6lfzaat3aXIZYjkoeprn9a8VXkumyu0Uq/wB4A8Z9vrQBy+seLVl1d9sezGN2Tk4rp9Duv7UtI287asakJ25rzCLS5tQ11pIXkjSQnKn/AD1rqtIhuobb7Iysr5ID43BfxoA+jPD3weXw7qMkN99nhUMctJz+lcT8VPh8vhyZmj8uSNjuHljrn0r2j4/eDrq1u7y6XzwhOI8ce9eL38Oo63qyrdhjHGoKZOOaAOC03Tfs9vJ5tvJg/MWI/Sr+kW0NxeRtIvy5AAr2K90Wz0/R4fMji+ZNxULj8c1w99ZW1xcxzRCPZG+Bt4oA04vCcdzZ+ZGFVSvBIxWdJ4bezYt5nH1rsLHTJNWsYvs+Y+AMA5qjqnhq4s0CzN9096AOLaNndv8AZOKmhiynzVbm0xrdmdmwpPSoGuVRgF2n1xQBFLbbOaYuFan3NxuHpVYOS1AFodKbJJtFJE+7imSjD0ANppC06mp1oAVFOanhh555pIF4qeM0AEUAHao5bfBqyrCmzSUAZ7Q+tJnZgVNPKCcU6OxDDLHigBts2W54rUs48is8WyrJ0rUtvkiG3tQBJDbbnDU3VdPxbFgtWLXcwVgO9Wp7+GJNkgBx1oA4HXk2J8w6d8VymoaisT8Nge5rv/E97bTI4XauBxx3ryvxNZu88kkbcDoAaAL1h4qW33Ln9asS+N/7OtvOjctxyK8/dp5rmTbJtXvz0rN86a3SZpJt6rnjNAHU6l8SDqU/ysUZzjk8VHaQ7b4TKWkP8RB4FeZzajNdamqqknXggV3PhO1vLO1WRxJ1wwPoaAO78JeNIp7nyHjjCqT0HT613PgnQIdfdmZlZg5wAcYrxXwnFDeeJ98k3lLuIAyRz71714CezitxGs29nOCA2OgoA7n4d+F7XTLndJNDGqk5Z+a9T8KahF4YiVZJI3hb5hsHXNea+DvhZJqCTSPLLtOFTB713EPwa1fUbuNlV3jjVWj+tAEHjGz0/VLaaaSF+PnLnqfavnb4varCL1THu2qcKMV9rXfwt1Kz8PwxyWat5keSBH+ua8D+LfwTurc/a5LRfLjfjAxQB4y3xBktdAaIqscfl7QWGK+bfjOl5cao86yPtZs5Vq+jvih4QkmVWjj+zhRjFeL+KfCcj3So7bgrHIIz+tAHg+nafe6/dM0isUjfjivor9nzSfIhghnhcoh3crU/wp+AsutPJNs2ws3KnvX0T8L/AIV2XhuS3keGGZoT84HYds0Add4H+H9rcQWN+WWGNeG4/SvSJ9Ug02w2xSY8v7wJxkH3rkX8XafdRTQRyx20cYwgCfxfhXJ3fii4W8u5FeS42p8mw9aAOu1tku7GZreRQGBYgtya8v1GyaOV5tySK+Vz1rl5/jFdS67JbqkkRbKnPasG/wDHn9jyyiV/O5JUhjwTQBuWF/8AZb+R0ZE2t7cVa1zxqLaNVjlZ2ON2OxrxnWvH839pSTR7o1Y8elTaN40ubmdRJ83PNAHpSai962/dhc8VqaVcFuG+auX0HVlvYV3fL7dK6DSdRjE23IPOKANq0CsPu4psv7liOualgChM+tF1CxIYj5e3vQBXSAsfmGPrT7hlgh65p97cLGi/SorlY3tdzN8uKAMHWotoZ2batcf4p1xdPtWO8cdDmuo8QTx3sbL83y15T8SdRCWLJGD+7yCCORQBkaP8SI49V3Oy7FfpXa6L8R1h0+SSH5V3HIIr50mu5F1QGPcu5+RXT/8ACUSeHrFTt85lyTg9u2aAPULv4vW8+rQpcFVVW4b+ld74f8fpYSR31lOAijLAnk18bX/xDutV11nVdig/L8vQ16N8KPGN1NK0k0h2qBtAPU0AfUUv7Q+o32m3EMIkYsMZVjyK47UNW1W8lW9DSyKPvKea5rRfFi3M0kiyrGmPmGRxWO/xgi0K9m3XKyoucKGPWgD23wJ4qe9sc7WhZ+DuxtB6dKXxXr9rpF35MSefI+A7AjANeH6T+0Kss4Xy2RSflIFdN4f8QSajcx3nzNtf5lPoaAOy8MeGpPFWq+ZDbosasSAqcivZPhj+zLqHiOweZYzIysT3GK479n/XdP1/xVHDJMIRuwF5Xn3r7x+Gy6bofhPy42WVpFIIBwelAHnXxA+JulzW0ltcKW3KMSH1HavFNR062vV+2OkyIpJRlGB1zVHxj8W476y3MsIx8yt1DCuPm+O1pFE9ncKzLH8yNngn6UAbviD4lw3qtYsqx5+SJycNmuVPhO6S+3/alXec9Rj9K8m8c/EGS58Q+ZEGh2nKnGa7bwLr95Fa2txIzTDqR0zQB758OtGksPDoeSZW8s8t3ArJ8ea0q3Rj3Hb296yPDfxityos2jZRISCQeK0rjT18Rx+cyq6LwHXtQBw3iPUJXhZm3KM8E1hRTsrbt31zXUeMvDjtblm3Ki5wPXHpXFeTJG5ZUf8AOgDajud4/vetTQuG5qrpUbH7w28d+1XpLLyj8rZ70ATRhcZFNdAW61Gkm3+KnF6AB1xTUXBqRTuFAX2oAkhPFOJ2mowuKcQQtACPceX/AEqpNfMx5pt7dBT6elZ73gP3unrQBc+0bmFallN5y7cc1ybasqSYz3rf8Ka2rTbZMdcA0AayWzE89u9MGo/YQ27p2q9LKsh/dtn6Vj6qjYy2OuM0ATN4yVRtK454pt1dtdRCSM/e4Oa5vUwqyB2fatSabrqSnyxuLZGMNxQBH4i0i4vCzRS5+hrjdd8P3thaNIsu714zivXJvCk91Yfardl2gDcMdKbH4Jjls2WSPzcAliR0NAHy/rUssDlwzAsT3xUXhyb7XqHlkbtx+YdcV2fxP0iKyuJAirGsRyQBkmuN8O6QJ9chaHzG3sABnqaAPQPhz8LofEGofvIeEbhgQNtera/8Glg8PFdPkjaTZhgef1qP4VfCW+a1jvIZJIxg7lzXoHhzUf7L024tbiMJNJlWdxnj2FAHzPN4CvNIvuUVWD/Mx54ruvDHhi7sAkhbHOVcHoTU/wARNMhk1BjaXi7g/wAxA4z3rE0LxjcWt6ltJcJuTABY9fSgD6I+BPjtoNRXT5mkk3Yw5OeR2r7v/ZV+DkPiy0hu9VS5SI5KPjC9a+EfgRJb22pW91eLCo3B1ZujCvvf4IftB6Po2nx2cnzLCN0ZDfKx+goA+jo/hF4fl0xoZIY0XkQSNgNux69K+T/2t/hBpWhyzbryGIfUY9unevZ7744w63Dt3Na4XKMeQc9K+Uv2zr+6i0wXn2hrlckkfdyaAPl/4x+H9Mi0OQJdQu0LHcw6gV4LHbaYNeEcrbk/hzzuql8avjPJb6hNaxrIquxBIbiuG8AeOpL3WFkuYxNGjY3g/doA+itEvUi0z5YfKVW+U7eQPrVrWtRv9AtxcWsjZdQHUjNc34b8UrfwK9yuy3H3VA+8B6Vua14kS90t5ls5vlUYO7I9qAMfTvHU1vM0gh85uXZvQ+hrU8O/FeVUZlW32sSu3ZyK4PxD45k06bZaRiNtoDjZ0/GrHgbSptTu/MM3yrlqALXi61/tYT31tbeWcnpkEHNeZ63F5l8W85lXuvXH419GeGfCi6jbYt5o9zZ3ZGd1cv8AFH4Etb27TRxLLt5Yr60AfN+o63bpGYZN3ytw2elb3gq+t/MXbIrHGDmuT8eaA2n3TRrG6/Mc8VR8A+IZNNvmSRSrMduSKAPd9JvopQFQop7n0rb0/TWguF6neeD2rz7w8jTX8TQyfeOWGO9euaRHINJWSQLuQDk0AbNhYSCHcyluODUV3NJIuxo2X0NPTxZDHiPcF2jj3rpvDGk22sp+++VcbgxPU0AcLq9tMLUFs7c8fWsC/wDFv2OT7M64b1NegeJbWGG5+zI3z54PrXGeIfBM0F1ukVSGPDGgDl5dfMaNu27fUCuJ8UW2+G4kkjOx84z/ABV2Ov8AhyW2mQByRkk7ehFQa3o7XelR7tjKMAtn7tAHz94k0lp7pW8l0VWyPl5ArorDwRJd6Cs6xsd67W3DNdn4h8FK8SzsQI1Hp1x6VrfDSKHVLaS1kgkZl5Qg8UAfP+ofD7F9JJHIvB5xxip9Fjk0f/VXCMVPPGcV7943+Cwa3kubPYq4G9QvSuI8M/BoS6+IfLabJyxx3oA4aHxKIuA7bnJHBI5rA8RRyWd39oiVmBOW/i4+tfRGp/sf6hcWf221t8LD85ULkkVzXiP4A3tnAm+zlO7gZXqaAPCtC8ay3N15bQn923DDjFe4fDv4gFNJWGORCxXDbhnH41xtz8CLjTrwzLG0Iydy1reCtCm063lRYSsjEguy549hQB7d8GNZuLbVop4Vj8wP8zHnj/Gvt74W/EWS2sYYbjZ0BR+mCe1fnT8NNfn0vW47eO4+bfhvl4zX0t4S+I91pscDXMyK0ajlzx7UAfP9p8cTqWnrFIyyKh2kcDP41RXxrHrOsrGsSKZDhT6fjXkOjaY1o3myTsu/nArtvhjqEd3qu2Rh+7bCk/w/WgDtJ9Hupbhftlr8vQNjgivXPAHhmS50DzrhDDbx/cyOWxUem6VaXOnwyqVkCAMMjdk+ldJqfiGztNDhGVhRRhgDxn/69AGN4O8Pxaj4qVfJYeWwYbjkGvovT/CVl/ZMcdr1YAsAByT6mvmPw94ij03XY7yKRlXzMhS2C1e/fDT4rWxmULcQhv4wSDigCf4ofCq8i0fzlVduDgheK+etZiay1RoZPvKecDpX2R4k+J2mat4baNJopGVCHxzt4/nXyd8RrWO/1uaSHag3Ef5NAFaO3V4laP5uzc9KSVt68fT6VQtLYmBVjdmKn5h6VoWmnyTnaRj60AVVjYPVq1h31e07SmhJ8z1xmrH2FVPHFAFNLcAU42+KmdRCeaj83vQALa7etQXMgiRqkfUFU7c1S1S58yE44Hb3oAyNU1BQSrVzmpaltJCyfl2q1rszqzVhtvdizLQA1dTkkOMn61paTqMyyr8zKueD61kWNyrTMqqOveut8OaVBdxKzL9zqQOBQB0HgvXJFdlmXleQTV7xLqsV4uYXX5eSvrWe0tvpgVlbardAx5NZVpqSfaplxuY5yVHQUAUvEOrNMmwoMDPIrlZdQvBdrJBuOw/MoPSui1Cy+2kvbbm2k7x6Vh20Sx6l8/7ne2Dk0AejfDLx6+6OGaJuoDKTnH1r2ZtEtNe0Fp45lhWVDkDjbXz6Lm00WeOS3bziOTz09uK9C074iS6joTJ5WxY02jB6fX60AeS/Fn4bsniKSOORpGkbAI5XH1pvgv4H3V5JCbd/m3Zz34rT1rxBeXl80gYbt3yl/wCVerfs3eJIbO8VL541VSW6DP50Aep/s/8AwWu4dBSOR5JmYHPHHPYmvMf2gfB03h7VriFGljkVs5BO0c+tfWHwg8baVPGbTzI8ZOxV4yfr71wv7Q/wzjvopnW3ZvMOQ5HIHbn1oA/P3xLLN4Ya4W4l3rITghuRnn864XTfE3la2zt5yr1z3/OvTP2mvh7fWUvmKJFVT90DqPXNeYeHPBt9I+bhfLjIwpI5P40Ae5/Dn45z3Frb27Sq4jIUjO3PpzX0h8Ifi+zyQ7gse/hCWPy/jXx34M+CV9AwulkkXPOF9P8AGvc/gZpmo3cT28hYeU21Sf4frQB9PzftJ31kRb3EW5V4Vuox6VxPxt+KF74u8LTPdM0NsufL3fxVR07wRNJdxyPIzLGQwLfNnHauX+OcH2+1jgVvKUDDAHIz/wDXoA+Q/FuirrPiyRmjY7H3Dccg811HhDQNHguI9u1eQXGBz+Na2q/BLUbeT7dBHMys5IB+81Uz4J1bT5PMhjCtj5sj7tAHtWnadpP9ixt5lv8AIDg7Rx+Vcn488fafNCtjbSAyLw+3+HFed3/jvUtMspIGf7oIbA6VxOjalealqFxK3y5OASKAO8ubmG51NWWJZGb5WBOfwNdv4duY1gQQwiPflSQPuj3NeJWfioWeqRxq0kjK3zAdvxFeteEvF8NxAFYLEmAFyelAHrXwo8H3jSsfLO7Pysoytb/i7wPeXMLJbysXkySG7nvVD4LfGu10GFvtDLJjhWY9TjpXrXgP4s6Hr975E0EcZ5IYDkUAfGPxD+CF5uuN0PnMGyxUZxntXkN/8KGtNZf5Nvl/MAScfnX358XbvRbQXUEUfmNMTtxxk/8A16+W/iNpEkK3cscLJj+L+6O3NAHLeCtLh0e5U3DJtIOCD0rpbr4oWulWLR7uvB6V4Z4j+Il5Z3awySH936cceoNVBf3F/aNLNIY436A/xfjQB61Z/Gy1udUNvcbV5wG/+vXfaL8QknhjSC8+9woB6V8ezXzwal5nndGx1r074WeOSlzD5jKdp5HXFAHvlzLeXEXnbnbB5bHSo/EniaaeCNJJWWMfdLDqfSm+F/iTY3dp5fyLk/xDJNSa7caTqsSqo4j6legNAGL4c1JtVuGjng+aMgq7c5H1rS8QC0naNbZ428sAtHwNxPatTwxoVrDLHLC21JOit1Y1k+MfDNxot/NNFCzSEZJQZCj/ABoAz/Hmo2tjo0cMltCeD8wA6+2K4mw1OSzdbi1i27T8yD0roNQ0m68SxJJCsjCP76kHj/69R23gSS/UFE8nd8rc0AanhrxL/ac65t26gOpOR+NezeA/2bm8XqurWp8mGQZYAY2/U15R4b8KDSL+Pyd1xtPz89Pbjqa+sfgr8QVg8KSW9xaiFY49oOen1oA0fg78PrXR91rfbWZvk3MMqB9arfFX4X6BrcBit3t/MVjyB3H+TXC+KvjtcaTfTfZ5NpZjsZj7dKzfAPxXutQvJftUq7clunP50AcX4s+EmlWmo/Z/MWVmJzgdM9ia8l8e+DNP8JvKsP8ArAc8H5RXpvxc12Q3E0yyYVWYoo4yf/r187ap8W42u5re9Vmy5+c9QO3NAEnhuKLw/qsk0yoysThgcEd/zroNT+McNsjRMskQ28HA4445ry3xX8SreUr5LfKp+6v+Nc9feM5NQfD7Y4yMLnjP40Aeh6X8LpptNELW0jNHkK+c5+tHh74FapaX0kzMyxqcqoBBPevpT4FeEY/E17HYyW+G65ZTx9a9wP7L0N7pjSSxM6xAkPGdoA9+9AHzJ8ONW+z2X2C7t5HaH+MNtxVL4vaytrpAWz8zcudxIznmvSNW+AEuk63cXXmMIlJCqW+9iuX1Hwgj6dc7rfzGycMxwRj2oA+cfEHjTVp9TVobiRduANpwMitLwx8SdatJ0aG8maQnDEHiut1HQLebUxDFbxq/Rtq9K3LH4S24sTIrRJuGfu4/UUAdD8HvjTdLYeTOfOyxDknOK3tZ8T/23fp9niUMzY3Doa8Za1h8K6sscd4u7dglTwK77wxrsMIjPzSsnzZPI/SgDoNGS60yaSNof3mcg7e1dDY2RI37znvSaN4jh1UBYYfmbglhVgagrJJb+XtbOAcZxQBVvdYjx5atllPJzVeXUzEeo6VU1TRJ4Jt8Z68mqsqTIPmHzUAW7vUm+9+VZdxr7R/Lmi7uW2Ff1rB1Jjv5oA1oNaVpTvNakMsd/GoMg+tcFJfvG+PfrW54XuZrrKlT7GgBPFcUKQFUbcyntXJvr0du5jmdOnHHWus1vTZEMke6Mk9c9q881/w7NqF3tVi20/w8YoA0bDUoUu2Zo92053Cuw0jxrbLZ+Vbspc/ez9a4yx8Az2UbPK7bdvQnrWBplhKmuPGjMHZvlYHGPegD1LxbHNqMcbwruGANynvT/B/h/UHtftMcZk5IcHtXoHwo+F1zdaLbzI32ggAsoANdrreiWugaU3mQeVlcnC4GfwoA8Ngu4rBZ90fltkhzn7tebeOfMudajmsZm27un941u/EvxAun+IJGhm43cqDVPwdcWfiLUIxLFtYHIoAytGl1JW3TeYsinIIHFdBp/wASpNKjNukzSSdG9K9cm8B6f/wjzNZ+WSE+bOD+FeTQ+GoTr7QtGsbM33yM4oASTxiNWC/Mqv3bNT+HfinJoNx9njZTID/rSMjnpzXWWvwiU6Qvl7dxywO3rXF6r4MbQNR8pirPI2N+MYNAH01+yv8AFGWPXo7i88uZQRtK8HIr6E8e/EWPxZpi2cMDBpAdjqOnfNfD/gOxn0zyo2eaNzyGVsKB619Nfs+avDJfpFqL+cqjKM3egDzb4n/D19f+SRFuDv8AmYdvXiuWvP2cYrxoWkieNckB1wFNfYWt+BNE1S7ZlVoyTw4GAK8++NthF4a8Jr5e5tq/KeKAPI/Cnh2w8L6eLG4iLMmQrluvauh8MfDiS0Wa6inCx4LKoGC3evFPEPxPki1r7LzmM9Tn9a7HwZ8eGlgWC4LusfRkbAFAH0D4Js3u9MaOe2kkMPIkDYFcL8RtJtr68wm8NGTuJGR1rG8OfHGS085/OOwjaF3Z3Vz3iDx7c6nBcXEMZZmydxOCKAOq0yDT7u8Ec10q4+VSDxkd6t6x8O9J1C1V9PuVmmYkOV+6K+avFfxc1Ox1TbbqA2fm2jpXo/wU+KVxd2u26mVQwzyMZoAvv8F9PuXaPy0mYuQ7H+E5pr/AXT7ODzIbeNSxK7gODXW6ZNaXWqL5V6u5jyVPStvxFqNnp/h9oyxkdAW3daAPkbxL4Vh8K+J7iM28fnI5KsF4Iq0NOt7uJdl1tkxzj5QKt/Frxla22uSeQm4sxBLfyryeX4yxyahJYqqxsW2hjzigD2jRvENjp2ni1jm8yZWBdg39K63w/wDERdA1E+XOu4IDuPIJNeBW8dzEiyQXC5f5jnGTW7Pa6vFbxuMySyAAMB6UAfStr4h/twCaYxyKyfIyDuBXmHxK8Ux2+nyWflMzTOw3gcCk+Htzqep2K2beZ8owrb8dfaupsfgc2sTn+0gVj270c9z7UAfG/jSykl1+XdF8xbhwOB74oufDmpalpcca7jtyMqOtfQ3iv4d2eha0tvcQq3zlQ5HUVs6f4JsxZsr2ap8v7tiBgGgD4g8U+FtQtIWws25GJNN8D+Nbzw5e+XNIGXtkcmvqb4l/DC3W0khj+zszcnjp9a8T1j4MG7u143bD95B0oA2vC/xEvNVcjyWLR8h06V6d4G1ufUrXar7m/j3DrzWH8OPgdNa2bSLub5Mc5wcVd8PeEby3ubnYsiyHIVxlcY70Aeq6ZfQvNCz4/d4AdW6EV2Fh4ptbzTfMj2T4O11JrwVbTWNNlX7PM8pU8qK6LwPqk7amsN0sib+uBgZ/CgD0XTPEWkzSSRx26xszEOQfu80mu6BDbTw3FjN8rdOOG/CuVuvBd1puq/brNmkwcsoyeKvaz4ovJtPQNZSI0S5BK5H+cUAN8P6hLpF+7TfLMGJBC/Ka6y1+Mw0m1aG3uPMlYfMOgrzVPGcszSQxLjbw28Z/CrnhC1k1SRk+z7Wb+Nl3YoA37jxdD4uvVWR0Vs8tnj8q1PCuvW2jXpslMbSMf9aRkc9Oa4++0S80+7S3jUBtxYHb1rTt9FutBMckzKWkP3yMEEUAXPi9qMfhuzmmmWGZWX5So6nFfEPxm8Z7NUkSKJo/MYlWUdPevo39pLX5r/TvIkaZXA4dW+XHrXyZ4jl+3aw0M+ZAv3WPegBvhDXgZFNxiXLcnPSvUrDwHD4wWCWONlycBl4FeNvpwtrxVVZF54I6V9CfBGa4i8PwxyRySehIoA/TT9kH4OCGb7Q9v8ykDdIN2QK+mPHHgS0v/DTw2lwqM0Y8xVADfnXkPw98WadpWixy2l0sK4wYgcHOOhNdJpnxKS+xuuoxvDKQ3oO4xQB438UvhXN4cjG2SSaRm6kZ49q8p8W+GYtNtLlmZ1aRTkenFfRPxDuW8VmUwziRozlQrHgV4H8VNSuo4Gt1jTdgq+cH/JoA+YNWUf8ACZS/Zfm+bocHJrtNNsbybQo0mhaPcTtOCCK6LwD8CbXU/EjXV1MIYWckDPAPXrXsVpoml6RFJbXsabbdBsOM5A6fjQB8fa14F1J9Ub9z/rGIUtXf/Cv4c3xgVZkHXI4r1Dx1b6XqF3GttGykEhWxgA+9dT8JodPk06S1uI1do+jD7w9jQByGg+CprVFh2qCzfe6HFdhYfBpmtpGkxjbke9dd4M8Pafdas32hGiVPuZ9q7TxPqlr4e0uOOJo5N+QOmaAPn288D+QzibICnANYPiCyhsoPlKnH516F4peW9nkm/wBUnZTXkfjXUpoJ3V8KFJwB3oAyNRaEOf8AarFuwky+2agl1ZjJubpmqMmp+ZPuXjaelAEqaWryrtXPPeup0vwtNc2++H5VUZwO9ZPhq6S6vFWRcbjyTXqGji1tbX92wwq/MOtAHmc9tNbXe10bc5wCwq9o/hH7VK0g8ttvzNnrV7xZ4itZ7zyWjB2Nxjg/jTdLiVbVbiFtu7Ksh7igCn4kja5RbS1EbSNwSByPpWFpfw4um1NY1j/fStgsP4RXWab4R/tbWo7m3ZlZnBYbjhRXZ+KryHwRo5eCFXkUZdjhsGgD0T4DeF/+EZ03bdNuKgbQSDk1r/FTSbC50Bo3XyPMJ8snhlP4V4p4P+PNrMojuJHjjB+Xnbg9etbDfGyHxVeeRPP5awYCBjnIHTn1oA8d+L3weuLINew/vtxIIxniuP8Ah/4buptVEf2eSMscqcV9Y3evaVrmnfZWkhbcMDPr6VneCfhta3moh1aIruO1QOfoaAMH4ffDy4m0eSO6SRhNxuOQcVy+q/Cl7XWbiSbasa8KMn5gDX1p8K/C1nKCl9AybchfQ1yPx/8AhpHo0Rvrdht3HC8ZxQB8+y6odB0fbtysZ2j1UVxPiDxHFqF0jFcbjnOP61Z+IXiWS21mWNt0YPauZ0y5N/Pvm2bV7etAHomneKJE05djR9scc/nXe/DTx3d2YjZZAu09fSvI9IljlG18KufkxXUWGrDSm3L8vAHtQB71e/HqawtBGjLIx5JY5rx347ftFXOu6d9jVWVVJ6UXGpb4FuEbGR82a8o+IUrX1y3lruwTkZzxQBz2l+KbiS+mnkUs2erc5xWxa+OImm279u4fNjg1iw6SxHyceq1DceGbhJdwHXrkUAdpbfEKPTRGFbzGz19q7RfiHDdaO6oSrSJggV4ra6NcPLubd8pyK3bXV5rSDy1UdMGgCDVNTjn12Rm5578810Ph3VI7ezQN+7yeMcYrnLXw/wD2lel2O1SeK6Oy07y4WjkXiMcUAdv4A1ySOVl3LlzhWJra8TX96+mSJHJ8xyR+IrgNGLNMiqWX0NdToepxi0lt7lt+3PPegDwH4p2d208i3D7SzH5s4IFeO6v4b/s/UZHabIHzD5jzXvHxVtIdT1WZW3R7T8vavGfiTbSaDbqN6ybs4z1xQAvgrxxtu1juZm8tW2g56CvonTPijZ6f4WgMUkcmEAPyjcfoa+I2nvE1QXAZo1B4BruvCvxMuraIR3TgInRfWgD7Q+GHxO0tbmOSQbfMOSBxz9a9z8MeLrHxd4cVYmxFu24z8wFfnR4V+MxtLhWkbbGrkhecV6Z8PP2mWh1hTDM0ewj5O3/66APob4n+DoXvkntY2k2Pn526VyHiy5n1KNVjYwpAPuCt5vjPbXNrGZF2mcDJb1PasDWp7W5l8y2k3Ky/Oud2f60AcLaapcanfiHZI0kjbAXG7OK9I8L/AAbl1Cw8wxxttAZ8gBiPrVz4VeBbXX79PMt9wV/lA4Ofc19D2nwhGieE01CBdqspDIw5IHcYoA8v8EeGkttK+yxQQtJyCdvIHtTIPCtvM89osKC4kJVmA+6K63w94bF9qJkt1eOQt83JAWneJbD+wba4W1h3SAZdsAkH/GgDx21+Gv2PxHNGF8z5sgDDZNdp4M+AC6jdIbiH7OsjZQsCGU5pnwl+x3PjHZqTSJC0h25O3HfrXvF/qttpcSyQv5a24GxTzwPfuaAIfBPwS0/wvpKyX3lyFvlZWGTis3x34H8N3MbQx2axlgSp28gkVn+N/wBoC4mjFrE6fKCBxgZxjFc/4K8Ral411NVuGUxhsKmCCfY0Acfffs92dlNNL9nLCZuGxjj3xXUfC74Q28VtcSXUcaRqu1Fz9/FetaNYRfYG/tG1dPLGFGODiuN8VeNU8MTIsO0LvKhDgECgDidQ8IabHfGSaELHC+1W6ED+tcn8ZNd0e30tIYMISMkgDd9Qa3viLrVzeX8k67rdZFDAevpXivjDTtU13fNNJH5cfROhP0oA4/4qPHfaO2yaNt3AyOc/WvDofhzJq+prt28tycdBXtP/AAj0l47xXy+Wu7MY7VznizRm8L6n5sK7cgAZ6UAZFh+z4LhFZYxIxOSTzXqfwt8Cwma109bcptbHTNdD8KrOZ9Lt7hUAV1w+8fpXceANPhtvE0UrRqRG+WXOeM/nQBbs/wBoZo9FW0tVO5uQ2envmoPB/wC0hqFjdS/asmJOA3PvXB/AfwnqiW3+mQCYqTjctUfHuj3UWpzJDGyOrZUIpAzQB9FfDT9oa3uIJ458RecxCyNznP8AKqPim3stc1CKa3vPNDOTlW4JPavmbR9V1XTWjeZZGEbZYeors/hx8RX1jW4/Mm8hYWOEY4yfagD29/CsljobXETusMfPLZIPeuDuPEWpW0lxMJd+0Fct+ldtp/iyLUrIm4uV8lTgpuxmvMvH+sqEuGhZfnyNqdx2oAzbL4otPcS/amj2qSCB1+tbmgfGOHSo5DbSBvOIUqDg4rw97S6n8QybZVjbIHlsPz4rciszBcQjy2kYcgou3n/61AH0Ho3xhmuIt0UbSEDkqfu+tdHpHxCuddEbs2I4+ue3/wBevJ/h3prSJHLG0iAEhkZu9eneCfC0007ZhZ26qFU96AJh4kj1O3kh8ssQx561wPjaBSpdVUr6EV7Pb/DprS185oGjaYnORjP4V5R8TdOTTJWj5VixzmgDx/X5liYgKF5rBfVFs5T8u7d7VteN1W1n2fePsKzdN0vz5Q0kLbW6dqALnhnxGtxeqrKyr0BFe7fDPwu17YNcTMojcYG4dRXiejaH/p4b7oUgAV7ho0ckfhWN2m8vauVAOMn6UAcT8V/CMNtqkhSaNRk4Kmuf8PWU1tbtMk5eGDt1JrP8YapcXGsyeZcK3lMcKR/Om/DvWI725khcGRt3CjigDqPDutzRI0jRyRhicHGQapat45iS3zJIWTeRhm4PtWjeeKRbRxjyAqo20gfxCuI8XeF5PFk0lxbt5MceSqE4yaAKWv6nbahLJ5J8mNRxhulczpi6hp08lxDM0uM85pupeGtUtpJJZmzGvDAHqKw9M8T3WlSTeauNw2oMY4oA7jwX411C9vJPMbau7C+pr6U+B2pbrFmeZZNoG7aeR/WvjzTfErjVd0UioygYTGQD3r1j4UfFhtO1CFUkZ2z84HGTQB9d2nj+PS4kjtmaXuxB5B71yfxX8dzalo5eWSQL7nIxXK6B8QvtDxyeXjc5+Vj1pPiJdya7YfuyF7hQMc0AeL+KdOj1rVGkXuT15qpb+FViHysP/r106+HpTebpP4jRPoDWrHn8KAMiz0Bo4/vfd6VYk02U7R96r8weODscelMs5Sbld+fagCyY5Zbfy2LKuMCsRvCskV48kvzK3TjrXYRyQrCfO+ZccU5WtrxV3feHTJxQBzul+GY9nMPzE5ye1V721jgLDylKr3xXcWFxFFHsVVZlrFuLOO7u2DLt54wKAOSisI5o2Hl7dx4OKWw8JQlwx55rp59LjiVcDPr71FbQr5nGF9qAKEHheIxnb8qioP7EkiLMhz2reWBt2e3pTorJirMw+9QBxwnms5W3Y98VVn8SSadFIVb/AFhwQK29b0V2u2ZWCn0IrnNV0hruQKqM5HdRigDgPiHf3F0XljRnOMkjtXkviz7ZrAVm3bIx3r6Ofwb5sW47lC5BVj1NeY+MNEjsLuVPL3NnKgLjNAHimkWQ1CVrdo2b5jjvXc+G/B8bmFVjjbnBVhk5q5ZeHkinWRYtrSseOma63wP4Oa6vYSu4fPzmgDjfH3gM6NaxyW8G3PPyisPw9p1xoOppJ5bSFiMkLX0t4t8IW1zZwwTqJGjUfdHX8a5i78P2gvlj+xMewwMdqAHaD4nk1y1hjmjmjjVQFb3r2L4d+Bri70n7WzARuMAMPvDrXDeCtCXU7gQyIFWPCqMV7xZaNHYeGIvtE3lELlBnbk+mKAOp+D2jQxT7ZJ4419QRXvXga/tbrQZle6WS3txjaeTxkGvjbQ/Eb+Htb/4+1+RzhMfzr134P69caqzsiySszbgqggEmgDvIrnT7LVZl8kwiV2CtjKnNc/4vvbXwxprXkLeYjOQQTwfatLxBpmrTW8eofY3VYW5A4yB6V5R4r8SSeIZ5obqRreOEnajHGT7UAcb4y+ITNrclxCv2eOMZGD0NUNG/aNvNPgkWebzgoIBb0rnfiFewwXEzvMrR/dIBHIryXUtaPnzSRjlshfpQB7XpnxuHiC8mfZGFJIXA616x8IPilBbTbfkbGN23givlT4cTedqIV3VW4wpHQ17V4Ot7fTZ47qNtzdWAGMmgD6Y8QfHewstASOMeYzDLnup714l44+I0epXIvmZljRvwx7e9cl43+KAEqxwx7fmwVJ61zt9rLaxabC23uFAxzQB20/xXs/EJjt42UdV+bk1m61DH9mxDdIVY8rjPNcHYaJJ/ayS7tuT6/wBK3tO0hob3E833myBkUAR+I/h9dXGl+ckh2qcqQOa4HVPAl9cahAswM3OOnXmvpI31nceEI4w0EhjUKwHWvO/FkcF1r6Mu6PjChTtFAHR+CNNs9P0HbcO1tGse1TnvWBf+J4fDWtyTfaFdO2D94fWuX+IHi260zSJbWQtIu0BGB5ya8mnbVtenjwtwrFsrk4/SgD7f+HGteH/C+hJ5U0MzYIbLBhmsvxB4p8Oz3pQxwr5rE5YdM9Oa+P7H4xT20y26yTxlic5PSt3SfEOpay+I2laRXGJDzj0oA9b+IEESR3ENhaqztkKy/MAPrXB6H4P1aOVZLUEM+Tnb0PevYvgn4Ku9XtoZJmDecAMydM969hg+GNpp2lvH9niWbGWITO36UAfM3g7SdQdmhkklLK/zH0ya7qH4ZxtbSJLljj5cnqfrVvxto0PhjULl9PZfMbPIHGf5VH4S+I401ZP7Q2iPy+rHp9KAOZ/4VDNYavI7R8MuQzDkenNUItLkju/JmhVQxwSBz+daGp/tJ2d/J9nj27YSVznqP61W8MePbfxAswucL5bEpIP/AK1AHp/wT0C3QyQ3UOzcchyv6596+jfhl4StVi2sV+YcHbyP/r182fC3x6nnrCskbHOPmXt6GvcvAfjzy41jZoxNu5bHC+1AHVeJriyNm1rHNGsiEqT/AHfY+9fOfxn8H/aL9mjlDxZJDfeya6j4rfGCHRdVuFtpFZccsPWvJ7T4yL4o1H7PeLt+bbG2flFAHmviSxkt794ZI9zK3BIzWrpNnC9lHIGj+Xqp6muv+I+lWMca3kE0e/GCD1PrXm3ifU1sx5durbnHJVsgZoA3dTvbPTuI41csMsRziq3jH4ttZ+EWWFtqxrhhnBAritTsNQjhS4jaRtvLKQeRXK689xd2LtsZezc8H2oAyrn4xSSahJIi7jnncd1ehfA/xNBqeqbpZFgWX1GMV4ta6BjV87mjDZJDV2Xhmwm064jx+6bdxJngelAHu2o+G4LvU1SF2Z2OAc7lH1Nalj4GeCzDRTElic+mcVy3grTNQNrHJBMJN/dj0Net+A7aT7A0Nx5asQSxYZ2/SgDxnxBHaaPMyyTHczHdu/lXjXxJ8RWpaSJdvmbtilT6V6/+0NpccfnfZdvm7m+dRwK+fbbRri51SS3kjkkDHIJH8qAM/S/Fs2iXTR8P6MevNeifC7xTuvgZk8vdzmszRPgr/as/nSJJEqjPI7Vsr4eGjxJEpVmQlcg9aAPdPBHjCGSGNWZWCnPWu8Ov2tzZC32/e6EmvnXwmrW86r8yZr0nQbiQqqszMy9/SgDrJ9GUHd/WqFzbkn1A6Zq1Z6kzQ7WJwvSo5H8x+lAGXPY5HC1n3FmV5ArqEhV+nWnTaMDHwPxoA5doJZYtq+lQG2uJDtVmz0PtXTLa+UwXC+h4rX03QooU8xlUnucUAYfhLTpI+X+b1zW4+jxu33cZPXHSnwPawy7E3R8nr2qzEY2Vlz8ynhj2oAwrvRzGWXbz6+lZh0SQv+75P0rprseW3yup3cc1a0CxE0u1lXcT+VAHI6fprRy7W3dea1LyKOzttvtxXVXvgseazQjLH271T1HwZMsJaSM7dvWgDz/Vg0RZsfeHU1i6Zqiw3BWaNRu4JxzXU6zGTDt2/wCr/lXITKpimWZdu0na1AFu+12ztLW4jmRV3ZIbH9a8G+JXiq3TVHj3/eOB7V13jHxLJ5rW8cgYnI5Hb0ryLxv4bu7nUQ3WQtknGcUAOXxfH8kUci7t23PpXq/wvcW0cbySfuc7gxGcmvJvDXgtmvPm5XqT6GvafCOgG40qOGSFlZcCNx93/JoA0PE3jr7BHJCI1Zl4DHkVR8P3/wBvRbxWRth5U9Sam+JPhk6fYLcW8ymTG0qepqn4ItvtNv5KwtukX5mByBx/OgDufC3ieztrj5bdGZuXYc7a3/Gnjz/hJNA2W+EWEBWG7BArzU+FLvQ5VmjL/KcshB5FVNH1J21PChlLNtYZ+U+1AHX+A79tR8QR7It+Gw247q+6v2cfh7b22jpctiFJVzgrjH/16+Q/hb8MJ49ZivreRo1b5irc19WeDPiNceEvD0cF5GsMinCynkAdBQB3niaS30u1ks0Xc7ZUHqoHua+Y/jB8PJ9Rv2ks5DukYngcZ716H41+Nv8AZ8W6KaNjJ3c9D1P51wrfF9L6KRcw7uS3GcfSgD528d/Dm605mZmZsk5yK8n1O8+x3ht5FXcDtFe1/Gz4uQt51vGF8zcRuArwa4v/ALTqbmRWbLZyaAOv8HNJps27aG75PUV6Nonih47NkZfL3DrivPPC5W8ReGXA4rqre4b7Osf3scUASXF8txd7pNrYOatNcwtF5apjd0PcVj3Vi3m5AIzUlpFIhG7JI7+lAGxZaXIq7jn2PpVq1F1JcjdzGh+UkZJpug675Z8uTO1ela1zc296VkwV28DB4FAGlpekSTaVJwwz15yKxNR0i3Uq3mNlTznrXTw6xb/2evkTbJCMHJrB8U6VNb2T+Q4ZpBnJO4CgDiPF8MVyzRpN5m3k8cAUzwnLYahqMMEswjYYDnONorNe/a11EpPJGCzYYkcYrH8TvF4bkE1vtaRjyV5BoA5mf4Y38Ws+Yx+VeuBXvHwP8Gf2fb26yRrI8z4ZyOMfjUCeG0+1KLeRJdv3iRn8K9L8ErHpgt4R5O6QhdxG7H40Ae6fCyz0m1tY4bt4fLiHDJhQD71veKbBbfTJ7qzjaSQD7wPG0V4X4u8SL4Wgk+zy8t255PpVjRP2l5YtJl026bcJItpIGSPTmgDhfi41xpEss0jSJ5+SPmwM55r57+IHxutdEdoUk8xlzjHrXeftDfEqTUrVwqTLtyQxOcZ718ceJtYuNU1GeOTcMOdrYz+tAHc2XxZjl8S+az43MMqvFemaV8TrewsN1ruZ26qa+avDvh28m1RPmyGPGa928DeF9RS3ihaNWbgdMgUAeo/DH4q+Zqand5MagAmvdtC+MctloaRxKJGkYhXI56eteO/C/wCFiukkhVQq8ksO/pXSJqy/ZpLO5gZfL4RlbGR6UAJ4m8W3V9qDeYy7txD7hu4rgrnxNJda4sdtMrNG+WK5yK6bWbZbSTzLVvN3YVlY/N71Hp/gyKx33TQbdy5kb+6D9KAE1jxPqUeg/Zdu5pDgSY71k6T4RvfEgkkfzpBGPlwfSrPiLxFBbzwgSKqq33SOT9K63wv4hsRYYWNlZ/7vQ/Q+9AEHgee3Qta3kax7FwGf5iK5v4l6HZ2q+Xbt5jSHjbwCTXRar4cje4a6tZmVGySrdvxri7/UpNQ1CO32/MH2q+MhfxoA5q4+Fk1wGlWGQKoyGx0/Go/D1lNY6lFZ3EUjnfgSY+WvoXwNc2dvoMdrK0MjEYZ2Gce2ax/GfgC1sb1Lq1ltwrnk9cfjQBZ+FFjGIPMvpNtvGcJt+UVPrXiS1sb9ntfN8zO04bjArj9f8Uf2Xpn9nqwEzElWGefqa5i31O+iaWLd9oDEZK/eHpzQB2WveCrzX7DNtBIzXBJDE8ZzS/Db9nS4/wCEmQ3axqW5X5ete1fsgeAH8dFI763uIlwMM7ZC5719Kax+z5H4csIbgRwsV6EJuJ/HFAHy349+B0dn4aP2PyWk2/MUAXBr5s8XfDubQtX8tpDv3Hj8a+4fiP4Na2imiSOSNZMkZPT/AOvXz54z8A3sk0m6Pd5ecNjpQB5LFo8lkqcMF/vV2/hGSZLQKw3Z6Guds73yr54Zs7Y2xzzXVaPqkdxb/wCrYbemKAOk01NxGcDsakuGVD8pzXPHWtsmI93pWjpd75udx+ue1AGpayY//VU02qJs2egrNuNVSDhWXNUbjUwj4xn3oA0be5V5vm7HOTVuXxqlpbND8pP8LVj26rPH8u4bv0rOu7fKyRnOc8N1xQBXk8ZSf2jJukUKvWrEPxFa2j2RsrMzYLVxfjCym0sNJbybuMnNcpB4gurOTc5HzHGTzQB69YfEH7bfeXcSDap4I4xXZeFNY2z+avJ9c8Yr530nXVu9RI8wKS3r1r2DwzqS29p5LSbt0YGV6j8aAPW7DWY4mUs+PM6c10eq6pp6aWuCsjY4wO9fO+q+KJrdlK+Z+7756VvfDj4lf2wzWdyx2g4ViM8/WgDe8VLbCR5toHfaoxXlfifXbFJZI4x8zZG0/WvV/EulgaWzeYpVgcE9a+eviG2oW2teVahWk3Y4Gdv40AUdR8J22u6r5iyLGijk0eIvAiwaVHsUSszEByO31rpvhb4AvddkYv8Ad6kt6+ldFrXhxo9Glt7yFx5fCOCPyoA8n8HaLHFqkdvJ5asGw+4Z4r2LSvDNrq+lRraXETvGcsV6jFeO+JLE6Dqwms2LdAVZuffNej/CzV/s+lTb1ZfMX52z0B+lAGP42uJ9MtJNN2o7uxAk2g85qX4T+Dmv5pGl8xlQZXDY5qr4suVl1mOZZFKq2dpHJ96sy+JriwVFtLeRWYjOwcZ+vvQB6fpGh2sokRo1j2p8rv8AMRXlvjnwjHouuLJHIzFn/h4Fdt4G0XWNWTzY/tCowO5WB/nWD8TPCOtXFv8A8e8iMGIV9vC/j60Aek/Azx5Y6VYeXeZCouAx7fjXa33x60u5eOx2mZt5USdsdq+K774g6t4O/wBEWTzMHDMefwzXoXwLuL3VtThuLiSPbI3JfnFAHrfjPV28QyszZ8lSQmz5Vrza61GbRrhmWKYuTgnsBX0J4Q8NafqtstrN5fmHJVgOv1NU/Gnw10vT7S4VvJn2jlh94fjQB8p+LNDmvB53kt+8JOT65rm00Jhe7fl3dsCvZPGFrZl3hWNo9o4y2cVx8NrDbXK7trYPpmgCbwvovl2y8LnvjitqHR1VqNPWNVwgxurWtbNin9aAKMmlqV6fjTotOCr93NaAgYHmpIIQ33lNAGYuj7phtwD3ql4jeSwt9sTEtnnHat+aMCUbetMn0MyqdxX5uuaAOVsNT1CO3cLuyVwDiprPXrrUs28vnNtUhD711Fxax2Nqiq0OW746VqeH9CtYXXzIVkLckj+n1oA8cuPAF54gviVVlw2cnk1man4furTdYzRlmztjc19c+HfhBa32jtNaxyKXBJyOn4+teYeMPhz/AKZPHJHgxPxIedv1PrQBh+FdU/s7Uv3+AzSYLuM8fSvQrnVt3lvalZVjAwUGK8e+LeptputzfZZMLu2xheKtfDTxVeS3Uck++TaQxA6ZoA9Jkd9ftpobjeFjUtuJ5z6V59qevtpcrRGNZNhOHznH5V6/o4GsLMwSOCKROAF28+ua4HxH4Qj0S5uZrw+YmCY8cBvxoA8b8b+MW1q3mimjVRgqrkYrxu48LfatSk2srbmySG716R8TfEVrczSRW8PlbTjIPSvPfCmsw2mtMt0N2GOM8/maAOq+EvgKPVNSg80oNkmPpzX0h4J8NWFvdLDHtlMed2cV8sz/ABDXQb92s8xqxxwc16R8EPi4+m6lDJdSLIsjfNk4496APrDwbpEMNjJbeXDG0p2iTHtTvG/7NzaVbQ6kJwI8BypPXNN+G+pWvi2MXCXccMeMhSOc9yMVvfEH4g266f5H2zzjbqAArUAeN+JNB03w/fMzeZ8y7jg8Gs3XfGFv4d0YXFvukWTgqwzmqPxV8S3V4zTW6MyLyVHNYvw+0668bk+cm5Y2+VMEc9aAMnxdrT+I/LuIbMx4wc4GAa1PBfiBoblI9yx7vlYnHBr0if4bW9xCqfZ9vljB29v/AK9cL4o+FjaRqkckMmxdxyCe9AFzUPFqxae6K0PyscsBnbXK2WpQ2MsbNMJGaQsSp6Vi+LdHvLNZv9Y55OFyB+NZHhfV2u7mJZomYK2Cp46UAe6+Ftat7uyi/eRrubmR+v5VY8XxSy2PlrI0u3ncg+UCuLsNKN5ZK1vuXbgYU4x3qr4x8bXGhloGWSR9gOR2oA5nxj4sm0vUXg5k8oZBJ5Psab8PPE66veEXG6NWPytngGsG4unv9Ya4uI9kbr8vGP1q14Z0FtVnxHMEXdhMHAJoA/Qr9iXxpp0Gnw28kyTeXgOc4IFfY2qS6T4nsIY7fzscYk3H5TivzU/ZB8GXnhbxTBK1w6jjjOc1+jPw00e4ufD/ANqdl8uPJCEc9PWgDzvxb8P4pYnmvN3lqxCkdPbPfmvmv4o6b9hubuONZNqlscdq+nPiB8YoYRNp/keYqMVYAbunvXi3iyETzC+e3XbIxUjGOPegD5JuNEktdQkka348zqRW4Lc2lpHtj2Fhnp616nrfhe2utRmbakMZGQpTv+FUbnRree2ZvlkES9jQB5fJpc0AaT8c5rOn1GSyfCsctXVatdrNPJGqbVU4AqhF4J/tCBpR8wXkdsGgDN0/UGkYeZ9c10Ol2kWoXKqoyzcE+lc1eWK2UuN3CfexXQeDdT8oxlRu+bHNAHSJ4d2WTbQuFPUDpXN65pS2a7lk3MzHOD0rY8Q+IjBbMY5Qp5yoP868x1T4ieZf+XNJuVT93OKAJdV1uFU8uXbuZsFm9K4L4h6xb6fHthKsoHG0dKb401aa5vGaJ+CcJjiuE8cNebFmZZG24PHSgCfStYb7QzKzAL82c967DQPivdwW3l8Nt6N1xXmOn6jMwb5RCrDgYx+NbnguGSKaRrpmZQPkxwGoA9X8FfESTX52iulCq3yhiMYr1H4b+Dze62qwurb2GWDd6+c9B19H1hIIYzH8wGQa+gvgrqf/AAj2sW8l1ubByN3P60Ae3XHw1muNDhU7c5xxjiuTtf2dxN4hMkieYASWJArqNd+K0aRrt3RI2BgHNehfCF479LeaQxzea3zHOOO2c0AclofwRbRNKfy4EiaQ4Em3tiuf+LH7MOoafoMd8shKbQxU9819j3HwhGteGGvIJkhiVMhSvOQOoxXDtLb6qr2N1cCb7PhQAe9AH5z+MPghcDUZJBDNgrk7ehp/hPwjdeGLbzkWZkk4KMudwr751P4RWurQySQWysqgkrtz+teb2XwWhv8AxC0bLHtSTCIAVwaAPnHTPCY8QapD5lkUyRglRjJr2bw5+z7anyZo448MAGYgfKa9W8T/ALMhtkhvbO1O2NRkoOlbHgPw5JpFxarcLtRWIKsO545oAzfhX8KIW07alrb/ALtvmYR52fWqfxp+E1npnhlY9qtI7MSyjGK+hPhwNP06KYzW4dsk4UEA9wDXE/tI+O9NuNEWRLNSsWQY8begoA/PHxp8GbWW9811jXdIcyOM/pU/hHwhJp95HZ26NI2R80a4AFbXxG+JNrqWtPbxR7Pn24HG3nvXU+A9RtbDUo5pofMYorbh0H40AdF4R0e/0WBlaNpPJTdnuR6Vy/xAsdQ1LT7iTbLGjZ2t1wa988F61Z6gPOaCOONk+QBcZ981j+KvDdvr1jNCZEjjyRHjjJNAHxPqEs8dy0dwxk2nDE1VOn/aLxfL3Yz1r0H4q/ClvDPieR1bvnAOc1F4W8JSTqrOnCnoRQBk6DpcgVS6t6V02nR7V2kVrWFrCo8sx/dODxU9zo3kgSKvFAGNLCqLnFV5pFjFaV5aZB/hrHu4GOe+PSgCFnIkLA1Bc6jhlXf97io4tzTMGyAKS68PteRs0bbtvIwcc0AaUixzW0e75iOc10XhnVLeC/hjCfO2Az+lcno2gPPPGrM21cbgK7m38GXVhZQzwQ+Zz1I7UAem+HviB/ZPhaWGNYTtJAYLkj615v49s5J9PaeOVmaYkvgkYqbRxNu/ev5YBIKcgfjWw+r2F9aeTOyt5eeM46UAfL8ehXl9rDSX0cjKTlH7E13fwpjhtlkt5LR03k7JDxg5rX0LWLTxFeC1jhWPaP3ZI611uifD6PTo1aaGRir+ZuHQ/lQBtaRBBY2qyXGcL0C9c1wnxg8Xw6jBLbwweX8uAxXGB26V1kPj2GCR7OO32vHn5nXOaxtMurXW7ySG9hjbcSM7cDPNAHxpr2lfatYuo7hm+ViSQDXB6/o9xZzP5ayBckJk9a+nfiD4Rs4NZulgVWQyNnbzmuNf4erqEyi6t12ZwrA4xQB8+Wl5PDerHdQyERtuIYc4+tegaTMuqtbyWu6MrgMOwrsvHfwYt42hkt1w0owxPcCq+ifBy4uCy2rNuIHKv3oA9A+GXiy705VWG/JOOz/pXo15o+qaloqzWdxFMZPvHHKnrXk/h74H6z4dmhmjkY7cMQRx+de1eD528N6Qi3zFh/ER60AUPCehS3tv/pkayMuQea9t+Afw70q4vI447dI2mOC23JX059a4LwV4k0u01LjbFuJOX/iHavRdA8eWtncmGIxBkOUZW70AbXjT4R2uhXk6ZkVlOQwONoP0rx34nfDdrm3/ANHus+vfn610HxY+N5060b7PeeZJyHy1eUaL+0C11M0EvzTOSGLLnj2FAD9G8LmOL7PMFeZjtZnGePSsvxD8JY7O7doVVWzkOowBmu70TUINeZmtyqtn723vjmq2sXklt51vJt3bchiOp7YoA4XRJv8AhFLiSORm+cD5i2RkdqwNZuo76RmuY2+bOGA4xVzxTC011vlYqFOR6GuW1G8NwzW+1twJ2vmgCprN3b6pugXagU4Rs4wa2Phz4VZdVhWW4VMsDkkfh0rkoPCNw1/8szK2c813HhfwrdosZWXc0Z5I7UAfWvwR0FtB063uHmjcxkHcewr6Jtv2iJtF0T7GkiqvllVy33v618W+APF95pNpHZtNJJGozw2Qa6qLWNQ1G8RrgNtYgRsDwKAPUtT+It9c6ncNJAG+fcS4ycfWuZ+JHxeaexiVTtWMBWXG7H41C0ckNpFKJSfM+RwT1x6Vz3xDSz0qzZvsksshTeWBzz2oAzLz40WVufMVPObGWP07VyGr/H2CVJI7Uxr5mVKheRXC+OfiR/Z7sLeFFA6psrktK12G8kZ/K5zljjpQB6n4T1+PW73ziG4boTjmvU9G0y11OH9zIse4YKjn9a8R+HaQvcqy3At168969S0sraQ+Rvyw5Dg0AYvib4fvbahKF8xmzkn0Bqjpvhm8xthk29v8mukstYa5mMcNwskjEq249q7D4daUrzbJxGrSZBYjP5CgDymGxmjuGt52XcCQ7NzgV5/8RfBE1nqH+jpukZshwOADX0N47+HywXzNY7GaR/mfb3x6VyGv+F7iytbma9jQ+VGCGI6+mKAPHvD3ge4Uh7qFmXgo2eCamv8Aw5De6bJbyWboWzskxxmux0vx/BfyiyEPl+X/AKskda6zQPB1rqFsn2iKRmDb92eD+FAHhun/AAitzJG10rbVPAA5zXUWvguxadbSG3WNmGAzLjH5V2eteIbDR9T+xQW2JF/idd2ak8OaxDBrEf2iGNvm6hcYNAHjF/8AC9fDOuPJMW+R8kgHgVtyePW0e1VGdljXhMt96ul+NPiq2toptoVkyfunrXhniTxS2ryRo8fyggKwOMUAe8aN8VW1eK3hmjdlhYMQwyQPrX098JfEEes6RZ3FmWjZFAYdgPc18f8AgDQzdaRazQZ8yQYYn0Fe3eAtcm0vR5ooZmWTYM7ZO/agD7E0v45R6d4fkhbUEYqpB+fvjoa8wufiVGLyRrG7tZWkc7iV5U55r5r8Q+NNQ067Cw3pJXkg8j86wLT4iTaTqIE07P5jEsQe5oA+4/h18fbO3/c3DQsy5U4bB61s6ne215qsd5pcKhpjywGcDtz618QaJ4wutN1Jbu1dlyd3zc7hXrPhD9o++htPstyB8n3GDd6APpjS/iadGt5LO+WbcpyGz90GsbU/GlnqkqrHcKOee5B69fevm3xT+02tsdi3G6Qkhsmp/hz8cjqMm1I90zH5mZd3HsKAPszwD8UrXQNC2qsckzZDO43fL6V4H+1V8brVpLmzhSESMSFdRgAntVG7+Mn2S0a1t9qtj72z+LHNeEfE/wASzajq9x9q2gsu4O3c9sUAeXay62XiyS6m3bZCDuLcZrqPDXxOjtrDbLHIrYO1x0/Sub8a2aajYrIx27RkejV5/beNksr5tOkVgysdshb/AAoA+rvhR+0Hb6vJ9gmKxqrbYmzgg16DrB+07MXcas2CDkY9ulfEWhRXFhqsc1vdMrZ3eua9l8NfEG+GmQxyXHmNGQGPTbQB3HxG8HXksAmkdJNp+9joKxtFc2R8mRQoxgZ712ngDxja+JI0s7ybzUHOc9fSrnjX4d28y+dwqn7jqcCgDlNM0hbpn/dj5Tnn0+tXdZ0RJbRdhHAwR6VVltF0uFfLuPvfKwz1xUOqeI10qBlCM77dxIOeaAOf1iJbNjtyxrm5L9PNbLAZOPpUmqeP1Nw+7avsRXJeJfFkKhmh/EigDZvJIs7kbp71oaNAt5cKqSbd3GK8lu/HDQ3P+u2D3710HhTxPNPcRorMzZyCDQB6zpvgy40288xVkZgdxPYCu8sPEMseiiOSRV2jbyOn41hfCvXJr6yVd3mSNkNurqb3SnnsWj8tUZ8gttz+QoA5a28b2cczwtJDuUkOzc4HpXF/ELXGtg0NkqvKzHEi8AA+tVPG3hG8028k+xKWaRzufbn68dqzvDBvLaS6bUlH7tOGYdfTFAGx8OtRKa//AKaIo4920AAL9Oa+k/h++nXnh5ke3SR2zhjnKj614F4i0vTfCutyLcOscaP8gzzjP6mu18C/tR6P4Ps/su2Nmb5Mtzt7c0AUviJPHol5M8NqAWYggp2rynxF42Oy4aE/ZkjJOTyc1618WviHpPiPSlvLLykZxlnODj2r5T+JHiBpb64t7K4Vi5y2GzzQBb8J+I1uNek+2yhkDb8uc559a6LX9RttQDSbwkaAGMAgb/xryTTvD2pMyyRsxbOfc1oa9e6tY2sce15HVcZC/dFAHTeJPE7XdssKMh25VT7+2Pyre+GHh5dR1aFZGkVnx5gHavJ9KnnuDtkSReclsH5a6/4cePbuw1YQworlWCqxP9aAPp2LQbe00iOFYWZvu4IyR9TXM/EPSWGhtJA7LHHnK45T6muy+F93N4j0+CS8kRVA79vxHet7xdHpa2Mln5cUkzcOc5wPc0AfI+sjWH1OOZbh0jY4UDp/k1PpGsa5biZ2upI2UkjLda9w1zwdourNtTarRj5COMH0rgvFFpa6LHdRwsrbVIz3zQB5TrvxCuIHa1EjXJY5fk8Z7Vl6deXA1FplXYvYZ71HJpAvPEDGQbWZjXTWHg9o5UUbufuk+lAHoHwV1y4tkZZPmViR155r1K18JLrREzxsoYZPtXmPgnQZbJ43LbfpXsXhfUGihjXdnoD70Acv4v8AhQL3T2Xy+OxxivP7P4VtFdsrR7TnAJ7V9Krcw3diyyFQAOOOlefeI9QisppFjUFs9fSgDyW88BfZn4XOODxWz4G0tftnklvLVmwdw71b17UfIbeuOfWsWPWfst6rKvOck0AexeF/AcNlKs0jLhcH5uQa6W/8TR6fax+b5fkwcqMAFx9a4TwP4282wVX+YZ+6eprS8c3C3elefEp3Ac4xxQBsX/xMhm07b8ka7iV4H5jFch8RfjvYtob26wrK6rhmzyK5I+IPt0Eio4VYwQc9q8P+K/iVoYbqOJmzkgsDQA7xn8ULe/8AEQ2okasdu01Y0rxtDZWDq0KsrN1A6V8+3niPzdVVZpmzu4YnkfjXU2/xBisII0EnmFeuTQB7zp97PJZRXseI4+yj2qOX48zWDtDDIBISVO5ua8Sv/wBoSS7tBaxMyydAw7VgaZf6hqOqtKJJG5496APo7Q/jINO1ExqzzNIfmKZ4z2r1TwF4su7iVrpFuCsa71BzjNfOvwL8LXOtauq3ELjc3BOev196+0vhZ4Lm0bSYYmtkkYrgnHQH370Ach4X8bXmva68c0zIrOVCjjHfr616ifCsd5oMsk0imPZ8wOM9KJPhUW1xSun+V5nzKwT9Qa7zSPgLqOr+GJD5b7cEZHAPfqPWgDwPwr8NrPVvELfaDDHHv2gAAZ545r2Hw38P7PStEaKG3EknOGwSVGPWq3wy/Z+vE8UPBfK0ab8ID1//AF19DaR4Xi+HekFZrNXZht3ONwXgjn3oA+EfiH4Kmk8QNL9lKfMcqV7Vh6zpmIJDG3kJDnk8kH0r6u+PHwzk1uFbzSbVYzJyzkdPavnnxD8GtW8y4gV+X5bJ4BoA+evGF6Ly6a2uJNwXDZbnP41zWq+CJb0+av8Aq1wYx/fH1r07xV+z9eW9557s3ytn6/8A1q1dP0uz0rTYobgrLJGMEhfuigDL+HHiKbw74dEMuzAXarMMYNWb/wAe29tJtMrKzD94FPT0rlfHHjGxjge1tQyspOSP4a8xfxVc3l1JCF3c4DE/1oA9Q1b4lrv2R7jzjnmm2N82vOsiSMqxnJH92vPrdZEZHkcf4V1PhXxAlnIIQAzMeTmgD1DwzcXExj8yb5T8oGODW0qyxrMyy7WBOM96xNCvYrqNdowVGR9a6fT7qNYX3fNx1IoA429h82bbCvnMTlq9Q/Z+0XfqTNKgjVRkAnvXL6Fptu1+zSLt3Gu+8EomkXi+V94n5W9KAPTIPB8aiaQKky84KnkZ5ryf4mafGL9g0DxKv3iQMivdPAkL6hH5k0wVcVw/xq8FsbhpITncecDg0AeQ31nZ3fh17WeMfNwrYxn05rw7XvBMUXiJ9o2lmwpJ6V9B3nhO6vYXjbKKqnGB0ry3xJZXFhLNGIWeRDjcRnb9aAMKeyk0uyRl+cgfNgV0PgHUG1GFl3NDGzEHcOpFc3Fr7WrKsjKBnksM/hW/pPiax079zbxBmHLMOcGgD0z4Sqg8QhZZljVSOScg/jXtfiq6a88Oxp9oXyo1+UZGWH1r5V8O+JpIb5ZIQQqybtp4YmvUpPF817pschZshQDg9B/jQA/xJpN5DaNIsm1dxK8f4Vyl543W0iaKddzKMMSeRXaaf4lt9UsfL89dqqQdx5XNeF/HKJ7JLiS0c9TllOaAKPjPxPHcajuhZVzxjNcvc+KWEbxspbnr6Vwra1eSPtkkbr1PWtrwZdR3erRx3Em7nBz0H1oAv3Xhi71ox3CqVjJxivQ/hZpX2SZFO3fn5i56VY0+1s9ZSO3hkxJnG4Hge1dTonw5l0WGS4VmfaCRgfpQB6b8PPEejeH5RbnEjP8Af2ds9s17R4Q8P6TrtpJcKkhWNdyqScZ96+LLDxM2leIGjmVozu+XJxz9fevo34K/Eq4sdHjG5ZOME56DtQBY17wLHqGr3CxybVZ2VVXjHf8AOvP/ABh4Mn8OvNIv+rx8wIHpXv3g7WLfXfEYimtAnm5Ktt56dQa0PHnwcsb7R57i4VVTkbugbuOfegD88P2hfH1xFqs1uBNuVz5b7uvNeMeJPG2qaS0bfat2MHGTn1r2f4p+DrjWb3MkilcfKcdfY14D8TvD12b14WSRjF91lPQUAdLrP7R10+nw20jTNtUDKthaPAt1PqupreSM21jyG/iGa85/4QeS5gjw+7bjOT6V6j8MPDsLTW8bszYAwwOCCKAPpr4deE9Pm0eOZLUO8gGW98V0F98O9N1q385FhRRlSB2NbHwot5NM8ERtawrMVXldo3Cs7xPrDwwtN9nMYj+ZkAwP0oA8v8U+DrKzsZoYIx5hYjzAPu81y/w+8Cx23ieBmuMAyct2P4V6HYa/aa9q6rJJDHHnA7c1Wu9Et01f92qrJGSysOV/T2oA9e02xXS/Bsf2WRWkTLZA6/hXB+IvEmrQyzRwK8k3RnPGBXffDDThfW0UMc3mHPzKeR9K7ix+Etr4gutq4jaX5WJGaAPme08SanB9o81WbaM5Bzn8KwokuNWWbzFZRJzuI6mvo/xX8ILPw00iY3SIx5KjBrzXXtMisbiSJ1jPGEKjFAHht14buo9X3L+8O7B2+1d14W0qWWOPzY22r0OMYresfDNut75jqyluQc8VcbybVvlI49KALuiwxJDtZckc59K6Xw5qywSDcV2g1ycWppGNo43d6tWMoVt3NAHb6n4m8uDCiuO8QXrTAlf4uame8aQct06ZqnezecuMUAc3rRa5OG7fpVGKyZfm/nW9dWfmt92oZdJaWPigDR8NMoljA+82BkHpXqugeH4dY0JRGC56N6CvGdFtLi3vUWMktnsK+gPgtbssKtc/MvVgeBQB434n+GwsprhWVo2ZmwwHA968R+Kfw3TSka4WdWV2OSe/4V9qfFM2OozhY1hX+EMK+avjF4DuNZW4h8tlaPLIRypoA+IPiXo7W+oN5arvQkgqK524v5tNt2Vcs23OTXvfjP4F317et5G5mP3sivPNY+HklndNDJH+8X5WJ5xQBxHhDxAs1/mRR9Sa+g/gBHY63+7mWP5TkuRXjZ8FLpN7tVeV+bpXsvwY8H3emzpOq/6xMrgYyaAPqX4FafpsF55EMKzMzYV1ToRX1p8JPhe17aw3V1Iyw5wCq4A75r5O/ZjuJ7LW4VvLU/M/DFvl57ivuj4d+LrG00Fra9t1iVRujfHH1oAnm1Kztpo4YTHNNGQC4H3PU4r0DwdrVjJoEnmXEaxx5DFMLmvnLxV8ZLbQ/FjIJYwWYqGxjI9v/r1y3in4+rpNjKtvNIrN1AI2g0Ae0v4wt312SOOKQyJITFJnOee9emQ6HN4m0aETXUUgVAdp+8e9fEWmftBGx1CP7VdRrG33ScjPpmu90/8Aamaa1aHzpGaMfK8bYwPegD3L4t+J9J0fZYmGSRo1+/G2FzXhHi27jhvWuvuq2QQ38YzVDxD8QY9e077R9s8xl+9uc9q8w8Z+P4dXuR++Ztg4ZXxyKAN74r6zY2+nsIYF8yX+IdM4rw/X5VvAZIWRVbIIB4BrW8Z+P7q+sNloRJ5fBAHzAVxOiXU2t6wqyIVVGyy9v0oA5248FTXKSMI23Ox+fBOM1XsPgdcTOtwpPLckDg19MeFvAFrd6fDK3lbCvH86o+I4odKjaBYFVkzggcUAfOt98O5IY9j9VPp1qTQfBjQXIA+ZvWvQfENk09zlfXmqVhYN5+enrQBteFtMFlb/ADAcCta3vIwGXG3d3qjpUphGw1aubRmOfyoAsR5BDId30roPC2sOlxGrK2M8H0rB0Wxbf82R+NbmmWiw3AY+tAHsHw78ZQCLyZjnHcHpXa6fNY6tlrgxOqkgcjmvn+TxINKO2P5S3cVJaePbizhYs0ntzQB6x4uOk2EDBLZVOTt5ryrx74Y09tMkeLy90gy3y8jvXP698Ubief8AfS/IvQHvWbqHxTW70545EDYHUNQB458XdAk+3bYWYqp4ZOBWV4QtNS0WVZn3Nu4JcdRmvTA+m+Ir6Mts3A4OTxWprXgix1G23QzIuxflK8YIoA4TU9Vmt7tJIV+aQgFl9a6vSL3UNT0NZIfNIQkNg/KDR4a8PWsmrQ2vmrJIrc4UcfjX0B4N+H+kR6Cp3RN3dRwD+VAHyedQ1aLUZI/36sWOGGcDmtq58NXVzoouLibKN1LdGNe8XfhrQW8QRxstuvzbVcdq5f43+H4rbQ57e3h2tGNyFBkfpQB8k+PLaOykaNFTzEYnKjtWX4fhkW6fyTuYDOc10njLwVqF/fn7PuLN97K/oasfDD4Z6hqOq+WqHzMhGyN2KAOk+Es1xPf/AC9hnOe9e6+B9Ykm0h7a6KqEGS5/pWb8L/gTdaHcbmiYeX84BXrXS+KPBF14eke5b5RJGSvy45AoA8V+JK7dcljt8zFnwrqOcivTP2fPDGrS2sM1xNMsTMQpAwBXmOp+JGi1/wAu5hwxc/Nnjr2r2b4L/FSz02D7JeQqgQhkfHH1oA9++GcsmjzxyM6yyRnO7snqcVqfFrx1Hqnh+ZVu1WOPduKELnivLbn48x2MhEbruYFQwGMj2ryvxX8UZPERuIYZJAzHDDjANAHH3Qd4IvtW1ckAbsHOK5D4j+Bba5kkuFZXUJuxgZb6movH+pXV1GkaGQ+WcccH6E1yaeOtQGntZ3EfzNlFdhzigDBt/BkmuedDbw4kY4BA6D2ruvh18G7zS762kV2ZiQGWtL4O/DC+8TzGaORuu4kE8V6ta6De+F7Dy9oVoTkswBI/+vQB33w18RWHhuJLW8Uq7qMjg81V+J3h+CTTWvNPb5ZGOYmOGrzC4uJ5NQWSa6/cqxK84569R3rvfhL4ph8R6i1rqBZPLwEOcjH+NAHjviHQdSlut1va7WzggDkUum22rb8KsmU5II5yRX2Hd/CbRZbWOazmEkhHzZHGTxis3T/hpo0N15Mduk0kh+b5ec+hoA8//ZlW9uH8m4hbczYDlSMD3Ne4TSLpyeTA6+YBjr1/Gtb4VeErHw/L5jWqRt93YR972p/xjubXwlEJoYI1MhI7ZWgDx/4oeIZ7OzaGR1bcTlu4/GvFNVv3vLppHbqeCPSu1+L2tNqFyZQzRq3OK82S/a5Voz1zQBoDVGfMbf8A16qm3Lvxu5qez05l5PerPlbDQBVitmGK0LV2UbaEhxUyR7aAJojuI3VIY1JJNRg8U4RkrQA1Y1B+7V60t45ht28txVW3+/zWlphxMOKANnw14KSe6DLtDfSvSvDnhYWNrEsc2xpDjBOMVy3gKdPtIWQqFJr0pdPxbrIsTKYwCMDPFAHNeL/h9ceQBGTM2ckDkiqHh/4J3nimFljs3eTnO4dMjvXp2n+KEsxDGseZG4LOOK7XwJ4qtIxNHHPCjMMMBwR9aAPl68/Zhls0uheWflnJCvjBAr5O/aO+CS+HdSuJLGRWznd82M81+pPxG0R7zTPPt5GZ9pyp6Gvhn9pTwhcWGtt50bMbh24A6UAfGdv4duPN/fJ5m1sFsfdFe8fCPxFax2kdu0a4VQFO0ZP41zt34c/su+3fZ3j3nB3D8q0tLb+x4JDcxrCV+ZCoxn6UAfVX7Pt7pM9+sV4Y1x8wIH8Q9xXuC/EK0m8PmztE8zJKhsdB9a+D/hx8ZYtF1KOFbgDex5J6V7Zonx+t9Fswse2SZsbmxkAH+tAEPirUGv8AxTN56+SfMIR2PArzT4lePo9KnktYpkYqcnvnNdH8YvHLXdg8lr+78z5gxHOT2r5p1LxHNLrM0F1mReSW60AdhqnxTuLuSGGRlRgQBnB4Fdlp3xJbT4C0lxuVY84zy3tmvDl0T/hIrlSrthG4AOPzrfXSbiTR2gb5WwUV264oA9IsPjy1zb3Fmr/PKdob0HqKvyXEttYxTQXDSNKMFc14FbfDrUrjUN8Fw7YOTtY8V658MIrxdNWzuGwY8ZZsHFAFh76Q3jM0bqzjkDnJp3gfw7cSa4l1GzKrSfcYkHGa7zw18OrXU2HmXAaPJK9uevWtSx+HzWuqspSSNoyNhHTH+NAHonhDUoX0dIZI0DYwR6Vi+OordkZoecc89adL4ZvNOija0kkkY/eGO9aFt4dkmsNssRdnHORQB5HdOs0rIVw2euKgj09VHymut1fwt5N4zeXt5+7VG60v7LH93rQBiW/7mTGc81px3SsgDGs+4tWSXd92q8tywXatAHSWWrRwnaealXUVlk+U4zXJRzSRt1q3bXkgcc0AdDdK00ed2dtUbjUNq+T8341b0qQyx7W/i7mkubBVkY8NigDi/FBmkk3YbPb3ri9buryMSfM4X09a9S1RYpzsZR8vArFvvDEFxGN3r6UAea6HqF9Ysx8t23HOcdK67T/ibNYxLFs+aQbWyOldJpug2JHleXuY9/SsnxH4dWxVnWBfl7kUAZkXiGa41B5beQRyA9uSD9a6/wAJeOLy1tY0/tBo97YwWIIrzvRSyvMJAqx7jgdOacb2RbgrJE8XlcrjsKAPYtM1j7ZeIsk4mbf8wByRXp3h+3tvFem+SkPmSYOd45HFfMmh+Mf7KvY1t5D5jnBLdBn1r3P4Q+JoxBM326MM4wwB5H1oAoz/AAxt77VprWW2jjZn2q4GCBXoXwv/AGP1SdZ7GVX8wDcC2M81l6Hbw3HiaOYXGWU8qx4PPevrP4IWen6MLO4uJFYzE8DHFAGRoX7L95oPhT7RcQiTszgcqvUHPevEf2lt9jYyW8cO1UTCEJyfxr9CtP8AitojW62McIjaVQhLY+g56V4l+0N8IdP8SWN19qt4YW5aMquM89QRQB+WKeHV1XXpI7z5edwwO/1FdD4LkhimWxjjaTc5UMR0H1r2rxh8DbHSdQ8uCZMux5Paqvhv4XWui6sjBFaZWG5sZC//AF6AOAn0v7K7RzRCNmYiN2PArmdW04aLcskTR5Zt3TOc19N/Er4bWUmhL5Xlx8bgzY6ntXzn4ytY7G/mswokEa5LD5uR70AWNZ0jT9TUx+SrM2csK851Twtp9nrWPLPlp93IJr0O80r7VYx30EnlruKiPbiuQ8RzizeNGhLuzZU42nJoA7b4KTQ6TujZo7VZG2rk8HP8q9dTwPpskfnSXiyKwLA5G3OM4NfKGt6nc217DPG0kaIemcZrtvDvxu1C50D7NyWjyA7dfSgC78W0tbIzNFIqwxkj5W/pXnfgz4g3HhW8M0SyNuOFepPiVFqOoqtw0jBX6gdDXKeH9WuLa5jjmVW+bHTt2oA+nvhj8WdQ1PShLt+VzjaBya9c+Fvii3mupDdukcfGcHaR6V5T8EbE3mlorCGORQMFl+7n2rQ15JNO1SV93mCH5hs+XdQB7tZeM9Ns5ZDHdJKqknIbBFcR8TvG6+JIZmM2Vj6EHIxXzl4q+J9xHdyNG81uGYgDf1NZ/h34kXUo2tcNM2eQTQB2niW/i1GMqDuHQZ5Nc/Foccb7lqSz1JdVuPmUrk+lXBF5JweaAIVj2JtWgQEtVhYsNmlI4oAiWPAqRflpVGBS7dxoAcozViLkVAowKswHbjNAALZgaktVaFx1q1E6nGalcRrCWz92gC/4f1B4X3/NtXvmu08NfF2SwDRSZ+YbVY15nN4lhsY/9ZtHcVlv8R4baQfddlPX2oA9yv8Ax3HHYm4kePaeCB1NVfBXxd0+21WUSTKqyEbwCAcV5HqnxNtNZgMHnRxcAKD2P0ri9VS5n1F5reRpdozlOMmgD70+HfxD03xPZSRieOVQpxhvujv9a4r4nfDyy8Vv9s/dtFCTzwcj296+cPgp401rTrxflmU7iCC55r27wz4g1C5sJI51Ys5JhO0jJP8ASgDx3xR8OtM1W5mCKgjjkICkgsa5j4k6Rp+i6GtrZwLM2MZKZOfrXa+KvC2onxJJeeYVJckqOM/hXG6rrFy8nlMkbsrYYkDigDwbxJ4SuNMuFvoE2ohJIA5/Gq/h34mX9nPJDJA0hY4zs7f/AKq9f8Rzw6oZLQ+SxRfuqvU1Q0D4QzarFJO1iWJOAy8cYoAr6F45HjTRQsqMscPysO4rA8WeHLaK+RoIRumwDleoPfNemeH/AIEHSpVwW/fBcqD6mtD4keAoNCELPbu0kY3dMHjtigDxXXdMXw3aqkcfzSclgf5Viw6vJZyfN5nlgfLnPWtb4vS3EFvHdR7o1Vioj24rgV8VyXoht3jbcW+U42nJoA9J+GOlT318zzOsMcrkLu5Br6H8Efs9q9qt7HMJBt3ZH3ScZxXh/wANPCf9qG1uJJGijjI79a+sPhl8QLHRvAjWsjR+ZGCA7Hn04oA5bwp4Z8t5jLtWGA4GD0x14qzbaoultI3ls3JCua5Xxz45XTtQMlvcfLIx4HQ9+tZWkfEiSfAuJEIYnB/lQB6n4M8eW091tmWPDNjb3NeoSWdjd6KzwmMKy87eK+YYdZ8rWRIssasCCD6Zr0nwb8V4VQxXMiybBkAcZoAreKrDyZ5Nh3hSTXF30jszbvur0rrPFHjG11KZ2hXZuJ/irmjD9oQsvzUAYNxJ5o6VUNp81bktkjvhlK1SMCwS/jQBmTWmF4FOsrFnP/1q01hWQsfbpTGnWJSAtAFizTb/ABVPLG0XzFutZwk24xuGatRSNOy7m6epoAr6rZERblG7vWPLcyLJt27VxgcV29kI5o1RimTxVLXvDqh12qrHPagDF8NaZJOWLKNrdCR1rqIvBtreaftk4zn5s8VT062ZWjTy2XHcVuSWzQaTIzMRtzgk9aAPLvEWhWOkJOqx+YsZ++D0rzKfW2j1GZfmQycKxr0D4g6nDp1yzNNtWQ8ivJfHfiHyIvMtwsj9iPSgA1e3uLVftCzKyk446mu4+DPiF7a5aOa4O2XAYBscdq8og1641nKyOse3GAR0P0rtvhFpra54jVXbeqjqPlyaAPddGS+88z2czTKo3fK3IHevZ/hF8VdctNMheaRvJtzgE8jHt71zHwI8KWsskS3ClTuKkF+or2I/DW1s9FdbdRvbLQkLtyTQB1nwE+JQ8Tap51xNiKKX7jNuJr3v4t/FPT7nwclppsaXL7MAsm457818L6GLvwh4naZrryv3hJXdgH8K9L8JfHVbTTT5txDIysdxLAYFAHN/EPRLy4u2vI12xoSSoHOffvXl6eK9V07ULiL7M8jEkbgnb/8AVXpOvftGaXr+tTWC3FtJtHCqOp+tMsfs2pW81xcW67mOFYHaAKAOH1z4sXmseG9r7ljtxtYZ5Feby65G1/5nljM3DblzkfWuw+L2lWPh9WaG4JMwGVDdz+leex+JdPjvI45omaRfmHOOfTFAFzwv8VI/7I8n7NFtiPQ/Niqt9LZeLtUjkmdbeJeVGMY/+vXkuk+NlsdWmj8xl3H+I1vPqyz3o8yTyyBw+c/SgDd8S2Ol2915G7c24gNnKj6mn6TaWdvAptJVZiSTxkZx0rhdUmkYjySZGc8FvWu4/Z/05tZu5rW6i288MUztNAFq68RW+oQpaSKnBIzj9KyrDwZY3Opq02NwfC46cV6rrP7MNw8H2qF1XeTsYDqf5VzcXw71Dw/cfYtjNIzZZjzgeoPrQB6F8N9d/sFGs9qsNuBjrjtzVvxTp09+s7NE1v5kZxx1H1rT+BPwQk1vUPtV5MywwrkgnGRXRfF/bp3h+W1VF3R5CSZ6j8KAPk3xroskVzgtuEbnI9TUfgjw8sd9tZWXeeM1Y8a6LNLqbNHLzu+ZfSug8G6LmGNj8zLyW9KAOgsfD4sot20fWmyq2727VpG7zbqgzj0qvJDvfODmgCqfu/dqOrzQcVXki20AQ0UN8tNU4oAmBzT0aoo3pxXj6UAWFnwD6+tVdS1Ux2+1WqM3OzpWNql95CtvIoA5rxd4oeHcvUqecVwGvePZNMuGO48dBmuh8cDzGZo+r9D2rz/VdBuLvdujYgdW9qANXS/Gd3d6ksjOQp5Fes/C7UZ9ek8mZdom+U49/evn3Q9Wazutsv8Aq4DgD1r6H/Zz8XWN5Ei3MTAq2VbFAH0j+zn8MYDqLfbI2UZ+ViOPrn3r3Sb4ZWN3GlmH2q33MDkfj615H8P/AIzafbz21jYohuMgPuXoPQ17LpVxJd3cN0s0AYHOT/CfSgDzrx98GIdBjb7PNukZiHLchc+vvXkfiH4BNa6r9qD/ALhssDjdk+nrX1d8S9UtYrCIQtCzSY3uMYB71k3Oi2PiC1tbeaNZHQDlDlR/+ugD4/X4NmHUJkNt8zN98jI/ya9h8GfA23g8GrcW8m7aPmQ9WIr6RtfghpepaSl5awKJNpA3Lycda5m40hNO02+sIYSs4ypkX5lQEfzoA8Pt/AkUV+v7nzPLGWIGQO/51z/xVt4b3TpZViRVjG2RWJyBXfaz4butHuWaG6b5OXBBxivB/i7rtxpMskbSN5kxIJz8pHpQB4/8RPGWlX05tfs8P7tsHndzXH6r8MrfW7iO6tT5MY+YKB0/+vXP/FOGbTNfmuYWk+Y55Oa0PAXxPa1dYb4bNo4brg9qANrSXvNCAtoxIzg4B6qPxrWbx1qdhY+XFO/zE5GOM+lZ9l8RrV5NscaszHgt0zVzQ78a2lxH5G08kNs6GgCjoHjm61G6Vbj5sMefT60a94nka8WNcht2Bt6U7T/C1xBeYG1WkYhTt61p3vgW605fmjYsTuYkZwPY0AZn/CcahpDSLMxKkd+w7VY0r4k3UkrN80e5fzqrqfhNtZLSeY2yNeRnrWXZtIsDWzr8ynCPQB6D4P8AiA17cKsz7sN0zXqehXtuUX5cb+RXzro+gT2t4skbc55FeqaFq0lrYR7tzMo5PpQB3GsFYYmKqv1rnBc7p/m+7n86j/4TEXShCelLcBbnDKD+FAFxbuMxnCiqNxtZsrQq56NTltyw4GTQBWndguFqCK9ZZcbvrV7yMHDVDLo+fmWgC1Y6lsC4bPNb+kXMd46rIxrj/srW52859fStLSpJIZAc52nrQB3Y0gD/AFa7j2NR67pVxc6XthY9+Md6teDtW+UB1+8OCa3rnUoILb5tvPXigD5d+Kfhe6nkbcu4oea8r1rSprSdlZegwBnivqX4k6XDOJGgjw0mea8wsPBH27UXW4h3D1PYUAeU6D4SuHuPmRlXGRxW14Xj1DTNU/dxtHvODgYJr2rwT4LtL+VkkjHlwcBQOWH9a7/wl8CLfWINzWbja2VYL1/KgDI/ZmuNXfVdtwswAb5WI4/Ovrzwx4bvdX8OeTO8irjKYByv4+tcj8D/AIZrbyQ29nahp1OH3R/dHoa+mvBfw4k/s1xIYFkUEZP8Jx0oA+CPjHo02katMtvcN5iuVfJ4X2NeIeI/FeoaFcyLHeN5XOOc5NfVH7YulL4d1K4WxMbMzfMy42g96+RfEz+ZqSw3ilip6qfl/wAmgDmfAvjm6tvF0qz/AHmf77c4r6V0jVl1XwojWl83AG5C3JPevnmcafbagtxDiNycfN3xWrp3xVjs4ZbW3bbMflLq2QvH86AO68eafJJOitumwMsQcgd65+80iWG2N5DEu1cBwScgVQ1LUbqSGKaO9LbQC4PTHpVG48TXVnpnzMxeTjPVSPSgDzTUvBV4dSkRI5MhvvgdPxrptC8I6gLaFZGZm3FS7DjFe1xeFrKw0pZrYxXHUsxXP4ZrjvE3iKPTYStvJCGc4JIzjHvQByulXn2TV4bOZlkLPt3jgDNe5/BjwtDZ6nD5ce6V3G588KK+YIfFEUfiHZNIok8w/N+NfRHwW+JdrpsiwTSJMpx8w+9jqOaAPrnS/htcL4e23cLNHtzCykDJ61zS/D610vxJvuIUVpeUJX9a6rwH8TLHxNo0cJW4h8uPIJfIX3o8X+I/t1pCqNFL5JxkjJ/OgDp7Dw9b6b4Ukms1ikZlG/ysLXgnxNtGvLmWOTch+YLnivRtL8a29jpE1rI0kPmg4y3T/wCvXi/xS+JP2CV7Vm8z5iEfOcH6+tAHh/jfw7JZ6zLuyFz94Hg1d8AvJbttdiVycA96sfaf7QaSW6bEYYld56+1U7W9hnu2KjbtPGGoA7FUy33cVMjq3T8aybXX4Idq7jnoQTWpbXkLx5DD8aAJHjytVbiPIqwdQV+FKmorg5XigDOlXBqFzg1YmXBqMpkdKAI13CoZp2B27u9Wklwdq96WTSJJxuXHXrQBi6hqJtUwTuOeorlPF+pSFDIm47ea63U9ExIys2Paqw8JxX0bwv8ANvXGR1oA8bl1me/1Ty596q3CHoM13vhTwbb32m5ldd0n3eKpaj8O0i1BW8th5bdSelXI/FkekQnT5v3Zz8jYz+tAEa/CrT7bUZFmjVi3KsowK6vwd4R/sqFhayRqyggADmuSPioW7CP7QrjnG4816R8NfEO2wVt0bNnGSM7fxoAtfDvzrDxL80gVlYB5Ow5r6U0mSP8As6B21AtHzgBuTx618w+IvE6aPqDPE0arIchj3J7VN4b+Mt5rNpJaXQkzD9xlbsKAPoy98UrqE/8AZ8jNuVgAzHdxXSDXZNGtYLjT7qO4eLBkHO4ev5V88eFfGrya3G1vOZG4VkduffNep6n40tfDOjN9oVY/OTLtnoDz2oA+jPh5+0rJpnhT7JLbxMzIVDhRnPtWbY+J7HxYtxJbq26RjuUvgk96+StX+PEWlwJJaXUexGzs7/hVvw98ari6cT2qyqHIJ2Nxn2+tAHuHxL1yz0KOb7PbrnaM5+YgV8mftBzzeIZWmj/dpGDs42819CaRo9zrOktqDSTLFKpJR+f1rxD4t3iaik1j5OyQMQJANwX8aAPjfxz4hmhuJrWYMzK338ViaT4lWIovDNuILkcYr03xp4Dj89zEyzcnLEZ/CuDh8LRR6mII2h3SNtJIzg0AdF4D8Sxanfww7Y5CXxvUYA+tfR3wX8N6fMnlzQKZWb5n7ACvEfhb8NY9Jl5CtJvJBAr3TQ2ufCumTR+WsoZc7gPmx1GDQBsX3gex07V286ENGhPlMpABOc1ekn025uWt2hiV5F+Q7e9ea/8ACeT3GttHcx3EKryCzfd967Dw3qVxrywvCEm8s4yVyfzoA2ZvhTZ3OnyNEkcjMAG2YXFcJq3wMjs9S+75bHO3Neo6Mkklx9j8uSLzent/9eovHxvNB0/y7hd2OEfrj8aAPEtU8F/8I5cv5mdv94Hg1Y0mf/RTuOVyQAe9T6nrbTQu1w37tSSobvXNx+Ko72Zk8tvl4GD2oA2rNhdXuNuCD0rqrRF8hVU8964vTrlUnUx7vm9663TPMSDr2zzQBZFmyj5akgjx8tPs7guQpq2bUBdwFAFGS2w3y80+O23jbzU3kiM0scoRsUAVZ9LZQais0WGYDd1NX7m9UpgGsyVeaAOs03WI7aFUDbsd/Sl1nUw0O5WPyjPWuWsQVkI3df1q9qIkFoU+9uXHFAGB4h8SsbkrKWwQdpB71y8vjH+zZD83zMeOK1NT015nzIrYXue1YF3YxSyNDL8vOVbGaAO9+DPxHhste2XEKuZCCG24xX2Z8GLm31nRNwa3VipAGOtfn/4Uuo9Ev1HmKwU9+wr6V+F37RQ0Lw8tvE0e9flzj7v40AfT/gHxFZ+E9XkjjaHduAeT0zXrixR6po/mJd/u5N20Dvx618G2n7TUNhr/AM0karI33mPUntXsXwx/aSl8daTJYyRSbov9W6NgY9OKAOX+OPhD+0NVvLe7jO5XIDMN3Hrmvkn4x+FobfUWmsLiOVoz8453D1r7X+Jun3Wo2r3NmzTNtw6OctnvzXyh8TfCkkN7dJND5Pm53t6A/SgD5t+IuvXWm6e0cMIzgjco7147H40vG1BtjSrluQWxX0B468GtFbtJFIjKhOVPU14D4y8KzDXGkhhdctk7fWgD0vwl8WGtYFQpn5QDuO6vUbWX/hKtDjZfkVU+TjHNeT/Cz4SSTiK6kZ0jbkqwr3DwveWdnaR6a0arJnAcDcFoA9n8BeFWhsWhvmhiC5BZ/wDCvMfjL8NW062mkUq8OSwMY9c19C+IPhhG95ebJJdudse3j3rjPHXwzvLqB45ELIiBo8+tAH59eMbmfTNXkhWOXhs7u9dN4E1HUcQ3EkkyxqQB1r37xF+z3G+rpcXFvHtYbioTH61leIPh7b2mlr9nSPbE2BtO2gD2T9lj4prsS3vLhY4WQKDISDXvU3hm21idZor7cshydknU4r8+BfXHh/XIDHM1rtIAAavoH4U/EG6tLO3mmvyywnJUtn9aAPbb/wANSWXh28nkf93C3ynv/jzXyn8Z/HDaVrJVzIViYtzXsPiL4z3mpafcQwT/ALuQ7dm7Oa+ePi3p99dXy3DRrPtJ3Y7D3oA5f4gfF2R7WBopCi9Diud0r4nX1vKHEj4zzVXxDZPqtw6sghVR8o2d6h0XQJDJIzK0m1eNtAHoGgeObi9HmBm55PNdlonjaQIo3e1eX+HixmEccbKe/HSuw8P6TKgLSDdt6dqAPRvD2sm6YsxrpITHOow2fWvOfDuoqlxt5XnArttHl2qvQ+tAF6e0jI9qqgrHu/ix6VI0rXfRuM9Ku+G9Fa/uirc844oAxtMljlvMFQvPU9q3jdR6dbldvmbx1Aq1qfw1ks5vNUMVbsKlm8IXklsJHi2oANvvQBxms2N1fCRliZRjg1hu91Y7Fk+bHQjmvWPsyxWqq0fQcYX+tcn49t7TTdOLTMI1UEgjjmgDhJbki3la7kWGP34+leGfFHxr5XiTy4p9wVuCGp/xn+MS2l7JbQtJ8pwOe1eRXviptQ1FJjk7W+YMMmgDuLf4h3FhJHcTMNitjGa67Rf2lv7C0jCjapY5BHJrxXxpqm+1ikgDKG4IPNYzaqySQrInmMpycf1oA+hPEv7Rseo28G78Gx+lNt/jK2n2P2yGYKuMkE15p4f0NvFGn+YsYVY1+XK96q3ehXP2aVWYqEHAB60Aes/C/wDaVaHW5pGZuuSQ3UV6Z4k/aQ/tbT0lhmaQKuGUtmvip4ruwupXgkZVxzg9KufD/wAVXFvqkn2i5Z0BPG4jmgD6e034of8ACWazEsbNE0jAc425r6q+EXhSK3itpoc3LEL5jKRgH6V8D+DrlpdUjuERlUMCCtfVfwC+OVx4RW3WTc21trKeeDQB9v8AgpV8SeGmtfssaQxgjAXkH3ryXxP8EJ7ue5aOMO/mN0OMVufCz9oGy1iXd5ywqQQFGVGfQ11F78XtOGnTNI6ybs5wcE8etAHyn4h+DM2ltcSXHkxqpbLNzj8K+a/iBpE3hvxGzHa0e7cCg619GfG744Wy6hfWu99rEpHg18u/FbxJNdX7XD/6tQGTnvQB3Pwr+MNroifZ7yE9c7j1NewyeN9P8QeHluFfCYwAK+LdR+Jf2GSOQKuMZIAx+tdX4O/aTW4sktXMexTgAHFAH0Ppup2Ot6v5cjxxxH5QW4NeoeAPC9lodzG4uvlcg/LJ3r4/uvGxvdZhmt5fJ5GAGr1Dw/8AEC60e0t55LossZzhjn8zQB9beHXt7ezkun2+XC3ynjI/H3rz/wCMHxFt72P7O25gvzDIFeQwftQTGN4ftG2Njgoe9R33jFPETRT7klZT83Pb3oAi8fyRzWccisEU5FcJZ27RXfmKW65xXdapFF4jiZVYIqj5RjvWXZeEJIrg8FsdxQBe8NQtIob8813Ojy7Yvm78VieFdFKvhlxXTJpawjigB0Ea7y1Ww428VSjHlt6VKJNgoAS7+7x0qmJih5q08m+oGTLGgCs85kb0xUJnZM96sSW2CcVDLC2KAGw3TA+lSXHiHbGFY5xWZfXxhrOmuTIvzHigDWur5bqJtzBV965PWpD9owpz6EVJNfkuVwzYPBFVWvQq7mX7ucgigDL0HxCtjfebcBfLRulTa18dLfQrKRbddq7iSMV578SNakhuf9EDLubkda4eXV5heqLiPzNp5x6e9AHrlp8fIdR1W3WYKo3cNivs/wDZQ8TaeLOG9aeOOPbllc9c1+c3h4Ranqyy7VjWPkZXvXvvwu+I50K3+W62bFG0K/egD771T4oaPp9jebfmaRTyrdRXyb+0h4z+wztfae7SLzuXOa5Lxf8AFjUNVikktbs7dvzKG71wWjXl7rpuJby4M0aZIXJ60AUpfHMuvHzirRNIedwG3NZa+H7XUvEibV85mI3sCMCn380Ml0Y3haNc4UgVN4N0j7Jr8MkbMSJPmHsaAPaPBPwxj8S6SscMcaRxj+FeRU2lfAG+iuGkizIySHueK9G+A3gh/EEfmRTNGMYCjK8+9ezeEvBEVjbSJfNv3Ejrjt60Ac74C+IemyXjQ3UrOGAIkLdx2ron8OW+vWX2pluNvOxl6evavlIeJdQ0W4hVduWwwbqGFfUv7N+qzXmkqNShkkjUb0JJwx+lAHM6x4WbXPMtfs/lhiVhkIwc/WvLPHv7N+pWSTXDXPljr149ulfW9/oSape5Fu1pxlWKZH5Vw/xb8Nt4Z0JXuJfOVicj7uaAPzd+KvhjUrTUzCtxvaJ+SOoFdj8KLK+g04R3ks3lhcrk/e716D4h8IaTq3iN5pF2xu5JIbin3E+n2+mGKBIZVj+UOpxtoAd4K0savfq12zRxo/yk9h9a7nxj8O9Ngso5IpFYsoEit83FebeALxtQ1n/TJPLgVsKv94D0r0fxJaLcaS90sMzbVGCH4PpQBwesfDnRVjMkMSzso3MemDjpWdYeFLWeMLaRwMGOzaEyQareJ/H/APYt95MLLG20bwR0/Gtz4aXEX9oxyC4SQL83+NADdN+ECorXCWuOT9RV7VfADWtvug3KuORjOK9s8G3FrcWizLJFnq2VyDUnivUNJMG0xwvs+9j1oA+Xzo81kTvjkGG4atfRdZmt2CK2WPBzV34p+PdNtHMNum05IrhdF8e/6UzFdrHgEigD1rw4GnTe7KvqT2rrvCaQw3qqzfM7cN2rybTfGnmqqwyAZ68Zrbs/Fl0sQYEBlA5oA+kNCsLW7O6cq64ABzxUmp3NhLZtCYWQqCEYdM14jonxFu2fZ5rKFHy+hrrtB1J75GW6ZtpBZWLdTQBqS3Wn2ziOfbt3ZHIBJry/9oi/tZLVre3hUMy8MR27ciqfxA1a4tdW2wvJuVuD1HtWPDrdzfz+RforBvlDMKAPkP4veErtLmW4kj4Uk7gDwK8huNRuLO4kJjZVzxnvX3p8QvhjZ6nZFWkXDZJ2nINeH+JPgDbXMwMflOu7G5T0oA8Jj1WbxDaqskLKsZ7jpVlbUiWIQx8thW3DOK9zs/2b2S2EiqPLweg64pukfs5Xk100zWc/yEMuOhoAxfAEZtdNKrIuWHODjn0qx4l8GzxWiyQzRybuuBnaa6iT4ZTWlx+6xGFwHXbXe+Fvhhb3gjjCtcEDLH370AfL2ueCHhXzGVv3hPHI5qlY/CK8gnF5BC5Xq3GcV9ga/wDs2yarp4uLeBVW3+YgDJIplr8JI7TTEia3f5uBkYyaAPAfhZdSJuhuoWXyzw2cba9Q0LxPFaSBYJkLLw2ef1qG7+B729+8tuzRqSQUzUfhb4bX0VzJFHbt5spKl2XP5CgD1j4ZfF+HTWjg/c+YWwzHnivS/GXiH7P4ZZodvzjKOvbNeH+DP2etSm1SORZmUq/zHbwDXtuleDVtNGWDULiNXiQcueD6UAfLnjjxCp12ZrgSMOodvUV5X478TrqFu3mRy452kDAr3/8AaBt9M0i8kjVYck7lYYIYfhXh+t6TazRyNJGzKuWU54NAHlOra359u8fl7eyMeua5fTbK8/tfKSFee1dxrlgtzd+WsLR/3TtzXTfDb4SzXGp20rx+YrPyMYzQBV8HadqV1FGGkZth5ODkCvaNF0eZvD224aTaF4z/ABV23gb4HQtAjfZGVW6kdK7G+8LW9noLRvbxuIxtDjjFAHzTqNlLc6r8ytGqnjI6Cuv0myurCOMQyP8AMAGFWtc8JtPqrMylY84AA649K6rwd4b84iSSFuMUAafg3R5hbq2xm43E12mi2RjwzKv5Vs+E9NhhtlVVVTtGcitK60JIzuRvyoAzYbCONNyriiZMDg/hViZGjX5aozynpQBWlbDUiPTJpMmmeZtoAsZpywg1WV81PFJjrQBMtp7VXu4wI/u/jVpbkZqO82mM5oA528tFL/N0zUP2FXbaFqxqPElWNBmVLlRIAQ3QmgCHQ/CP2l2Z4wcd8VV13wOyRTFYG2kHHHWvWvBOjW90itu+uOldxZeBrTV7IMywsoONwP3aAPhnxH4IkndmuLZlSNu68gfWuI8T6Isbq9rHyTtYsM19o/F34f2cMUh/dhACOB1x6V83v4ZiuvEM0b28h+bKYPBoA8fi0q4uWk+zybSvXBxzWfqU2q6IV8m83beuOdpr27xx8IJtMsGvLHaq7QXUL3ry3UdLbSrzEkbS4yWJHegCHwV43ne5jjuZZP3jY+8RzX1P8Dvhha67axzRru8zG7PzYH1r5Gw321biNVjWFtxAGSRX0p8Afio1ra2qRK55AwT1NAHW+P8A4ACaSTy7fb5ZyrqQNua5C2+Et9od0rWsu5hw2ecfjXp3iLxjcX1wrRzNFuyGTdVHw94mktkkjeLEsxIMjrn8hQB6t+zHqt14V0VftCR7lPzO3OB6V3Hjv4kQ2jGMvGm45RwcYJry/wAMXjDR8W90qv8AxfLkA4rzb4heIb661tY5LkK0eOSeD6UAdH8NfAs/iTU7WO72zLG4VgQBnnjmvt74I+GNP0a0t7WS2jj875UJJ+X8a+dfgd8MWm8XRtLMyhj90en+NfX3hXTV0vR2Zth+znCM2Pl47+9AGt468JNYaB9omslCKvyuBxj0+tfGv7V2o61rNpKI1kht4yfLGMk/lX154v8AjtbR6ULNmVljUY3YbJHavAfjLdaf4iWO4+WOPncByuf/AK9AHwSNH1p7mVpIbgeUdwLdD+NZa+JW07UPI3MMnLL65r6R8a+D1ismurWNtrMcKeC//wBavCdX8G3E/ihmhVAzNlgQPloAv6WLu7vo3jkXbn5Tt6fTFd14rvrx/DaQid/M2jeAT8orF0mB9NVfufux85A+7/8AXrN8feL5LXQLhlZY+MDj+tAHivxa1Sew1nzDl2+6/Nanw2+KP2ONJHbb/DnP3RXkfxR8dLqmq+UkzuQ3zAHp+IrU+HltJri/Z1bCtwMnpQB9afCz42ROjW7EZzhSOgFTeN/HqzBmsrn5nySCeprzf4beA7/R7ZrhlaT+6x78dK0pIbhJmgkt2iJyc45FAHA+LfGDS6g8chWRt3JHas2PXViYhR93kc1s+IfhvJ9pllZHO4kj3rO0bwpmRlkXbjjPpQB0PgvxAWulDYw3SvRdEvcw/db5uvFcb4Z8LrH5fRgvoK77Q9PXylV/3anpx1oA1vDGqqs7JOijsDit2XXjcSLHHNtzwMHpXOQW6Wx5YdcVreFPLfV4/MC/e546UAPOgXGp/KysxJ5YjoK19R+BlzqFklzukSHqrEZyfSvVvAvg231FFmgjVuR1XOa9euvC9jc+EBD9lGY15IXgH/69AHwsfCl3cahJp7W7eYh+V2Gcj610Om/spXWrPFNb/Oq4Zo8dfqa91s/hJCniqO8x5UTMcK3BY16P4WaDw3cyqLdXl/iKqDgf40AeXeEv2WP7P0GJrzT42XBOdvAPtj8qpeIvg7btBtt7VV2Ha6AYIFfTWh/EGxl0n92u4QgiRD2/+vXjPxt8YQtdNcaeiwMxwwBz7/rQB4Fr37Nsc9+bqGzZdp+dOoH1rsfBP7OUWoILiOQQxsDuGMbfxqxb/EfzYGVC023O7np+I71reFviLcaiJY/J2RxrtGD0+tAGp4P+FEeiPJbtiWSQ7QcblA+vvWL4z+BS+I5PJtmWN9x6DHIrqfhN48eTVHF3IE3PhDIcfga9CtL23GqYt5IeMsNoGc/WgD5gh/ZHuNOuvmlabcxJ/HsTSeGfgbZ6F4m8u43LIr5zn5Rz619H3m+V5I7hgq7jsUcEn6+9c7pnw++2Xu6SF/mfh/7o7c9CaAOF8ZfDNfCWgztaKsiyAlWQ8jPP5188ePbvVrJbhZI7iEbc5I9uOa+9W8B2up6ZGtwSFj42AdR6g15R+0h8FVtfD1xNDHHHCYyEJAy3fr70Afmt4+1O+13Uv9KfzBG20g8frVG31SDaLdoY1aThSe3412XxJ+Ed9Y6rPIzSLyTtH+etcF4ctZG1GSG448psKW/hoAuaZ4UW9uQ91ajaDw23ivX/AIUeDlubyNzCIoI2+TI5NYfgyGxa5jjZlO0gjPOTXvHhjw9pmnafbXisqqo+YA5Gf/r0AdN4Vt7e00z5rZv3I3AtyDXJ+PfEdpeBobVQvOWUDrV668aW9uuYiyqzHCk4LVZ8G+Do/EV20kXlln5bODtoA85Tw6dUud0m3Azj5avjSNjLHDnI4OO1emat4HWxl2xhcj72B0qjpXg3y5XaRVXnigDH8PWssONynJ65romjBi5+lSTaVDaqvlt9aq3cmRtB4oApzwhGNZd/BhvlrUlBALHms+Z9xxigDLmjY1Fv21pPBkdKz7y3ZS3FAEfmY71IkuVqk+4GpbYsRzQBZjlzJg1NPD58f3qhghaVv61ftYGI2tQBzWqMRlfeptK0xrpl3MyrnitC60YSXBftnuKvWiQtEEjXlfTtQB1nwxn+xHyZF+ZeQxr0y11GCztlaGaMhcFk4G6vMPB1uYb2Ny21W6Bu5qXxrrVxo8kiwqWkYdV5wKAOo+Istrd6fvkhjZcE7gOn5V89+I7Nb/X/ADrSIfI+GQdQK7HUvEl9eaRujaRggO9T2rzi5u7tdSaeNGi3nBFAHQa9ryWWkHdZ/dGGU8j8a+dvjL4shlupJYcQxyZG3GMV9Azyx6lprGRWmwDuz2/LvXgPxg0y31XU5ofs6xqnyjHb60AeV6X4zMNy38TMcZxkYr0LwD8Vms3jhik2MG61xOn+EfKkO0bdx+UtXXeGPBQ0e4WRyv8Ae6UAeveH/HTTTRySXDSc5PPr2NWIPijZvqZhaQrIrZGG4Bry+7u2gt2j3bVydoHGT/8AXq54E8C3WrAyCGRtxyG9PTmgD6T8CeO7Oz0iaF5I5FkBwytgjPPX1rA1TTf7c1hjGsybhkHAP05ri/D3hO/2qW8xVjONoHX3zXrPwy8O3Us5abbHDjC7uN34+9AH13ofh+LwjbLNDC0jR5KuGzn61V1L4l6pZ2t19quSsOCUQZBbvXmfgv8AaNigtl026b7gzls8ema534k/Haz1mRo2YyeTnDRttA+vegDrtd+Ksmrq0Rt5pTCdwkVsVnReNl1rThH+83R/eLDIPNeQ6P8AFGGC9mmlm/d8qFL/AHxXTeC/iPZzafcSJCrMxyGJwR70AWfiB4ikvr4ww3GONoKdMivL7+1nsdZWaKZpJGY7yPuivSk8Tw6vqyC2ghMmcPtUfLnvXXD4PL4k04zbYY9wLZ27fx4oA8l06+jh0YyeWsrZO9iehzXn3xK8a22sRfZY4Y0ZiV3joa9Q8YeCbfw7IbWO8Xf0JU9K8y8Q/DyG8l+XdI8ZLbuufy70AfL/AIs+Hd2fEkyww7pNxIKrwRXtHwF/Z21C+EMwaQtgE8YAr0HwR8NIL3V0VbfczNglxmvfvhTqel+GA2nTW8MUnCB2XdigDO8E+HrPStIj0+RVaZSN7E9PwrotZ+DFnNunXy/lQNvI4yah+IrweHrpJ7SWNd3zNnHNZPiP4w3UGgrGjK80ihdyjoBQBznxC+H8NpblVEbbl+VkGORXil7ojabOy7Wbc5+YV33jL4hXmqxNES3yjg7vWuDiuXmumW6Y7fvKc96AOl+G8kRufKuFHPRvSvQ5/DcdxCrRuML3FeTaFrX2HUI1Iz82A1el6frkzacVaPblflJoAoTWSyP5Ksdwb1rt/BHgGRZUkLqwxkccmvOrh5ra+LeYnXJzXeeEPifDZWcUdxLu8s9VOMUAfRfwmvv7FtmS6ttzQjIccACu0n+MenRaVJDG0e7GH3DrzXgFt8bLOysJGW4Vspjk5zXkWp/GKTXdTukgkZZHJCurEY96APoL4p/F2GW/T7GFO3gPG3RhS/Dj4nXRg+2/61QxDqTXh3w+ju7++ikE/nFTll4r17TLqxgAt5F8syLztGBn8KAG+LP2j4NNiuBaw+WxYiQqfu8+leX6x8Y11OdbrzyqAnqOG/CrHxH8Hx6ReyXlvJ5gzllHPrXj3xD1GbULBo7eykRlBIIWgBy/Hxo9dmghbbNvOCo+X8hXrvwP8dQzznzbrdI338nA/GvlXw1oN5BrEjqv3Sd+8ZrstC8a3WhK8cMflyf3yM4+tAH0Z8QviZa2t6kdhMnm5wWVv6VofCH9oJtA1Vbe8dGbd/rXGRzwOa+T4PiRfNrUcU0nzbyc46127avcCCNlkVpJMDfjBBoA+57Dx/a63efaGNvcKfuFOCSK9F8Fw23iG3jsxC0bTElJFAAXvmvz98PeM9Qt4o4JJriOQHh1f5QPWvffgR+0G2i38dvezGRYlBRieT64oA+pNd8Bt4Z8N/aI5I7sqcsyt909+K8Z+K3jCDW7L7Pfx7BkqHGAuO1SeLP2rbVLeW1aSaPdkBs8fh/KvCvjN8TLnUPDZaNZZFYZU8GgDyr4reJ9Jsp57WSEMyswV9wOa+edY8IQ3WrXEy3CLG2SoHBPem/GzxzdDXJIJAyspJyQePrXn+n+L59Vu9sskjCM8MrYxQB6lofhed4/3UMkrQndvU16j4B1t59MW1maTKcMWyR1rzr4JakN0kl1cfu8bQrPncK7yzuomWSazhDNn72cEfhQBreI/CU2saisltdEAcAqeM123was7nT72OGO4aSRmwx7CsbwXrDStHF5cfmfx4X7vvXr/wANfC1vbXi3DSRx/wAWcY/lQB1Fp4LWGx+0SKsnUsx7Vxvi7VoLWfbGqqc4yO9d74t1y2hslt7e7VmxglT0rxL4jyyW7fLuYgk5oAmm1f52XjdntUEi+Z8wauUstZmd+jdeprRt9fwjI3BoA0Z7oBNvU9+ar7C0lZ02pbZM7h/jVu31NSvPX1oAvRRAfeHbiqd9a7kPFSS6xGvy8fnVeTWYXUqx7cGgDJmPlOyn86W3jL4J6Z60/wC2RNN83PPWrMbLcxsqx7eODQAmnOk7+Wp+bNdp4d8Htex/eVhjg461wmm2ckWobVZc55r1XwFe+bFHFI3K917UAYet+CbiJZFWFmZOdw6VzOnWkmnXLBh/vZ7819M+G/CVncxs08ilSp+93rxj4u+G7Wzvrk252yMTtYHGKAOF8b+Ol0SePy8fL0ZT3FZsXxba7tVuVZZMHDAmvN/jVeXOhIJIZvMK9QK81sPiwzyeVJuXPXHA/SgD6EPxXt9Qt5I4YdrMSHIOdvNdR8N/BNt4ruIbp5Nsef4hw1fPfwt8S28niBZHk3LuGV65FfR+meP9MTRY47W38uRV4I/z6UAZ/ivw7a2F/JZW4C3DMcFF+U/lXmnjL9n15L8zLKZHblvT8a9RN0s+otcW7qQv3w/P4VYsfGkGqXBs2jRZDgF3G7FAHzv4s+EK2hiVQobu1RReGxp0C20gUvx+8IyOfevfPH+gQ/2fGN0e4EtnAya8l8Qagsd9Haq0bO7bd+OQRQBDF8FLjULb7UsSzLj5WQdxXqnwF+H2bZbG5tXj8wnY4GNvvXX/AAV8KQ6joUdre+YsjDhw3y4Peu8t9N0/wVLIsm2RY13Rvjr6kUAcwPhxa6PYsy+XcMG+ZgfunvxVn4fWNlf+J4bW6Xy9zlQ4wBXF+M/i/Z6Xqk0LSSxZJAYHgfSsrQfG7SyxXKSSPg5ByKAKvhyP+wzPNJlnX5dz/NnH/wBavMfjZ8RY7UzG1n28fMBwa6zxoJkgZ7WdgveMHnPoa8h8Q+Er7Vo5HmX7+4HcvagDmdH+M5S7jjeVmYtjJHavcvAnjG31bT2SGZ1aReQDXy5L4FnuPELKuRsfIxkYr1/4dveaJBGtuqtIBhgcGgD6I+Allb3fjP55iwyOGOcmvsbT/BcEngqFUjEbSZCkA7l/KvjX9nPwRcanry3EkhhiZsjkgA/WvvL4NeKG0qwNrqtvujtUBjON3A6fjQB85+OPgTq0n2iT7N/rCwRmH1715PZ/CzU7bUpLeb5W3HH1NfoV4v8AEWl+LNPWGO3aJgCqsVwAcd6+dvEGh2smq3VqF8xo3OGA+Yd8HFAHhUXgK/8ACiZZuWf73Qge9Y3iC+uNInmaWTou4Hcfm/GvddJ8HQ6lJOuoJLD5Y+TdxnFeV/He3h8MRLHG0c3mFgBxuoA8c8QfFu81NmSdpNqttVvQVoL8Xdmhr8ysFXB4+Y/Q1y0Onf2hr3mXH+jx5Hytxn0rT8QeF4LTT2aaSKNVBIUd/pigDMn+JlneXn++eQB3qxa3cOtaf5i8IGxjuK8zlki0/VvMkb5d5IWrt34y+wwNcW7FdnO3tQB28V3HZXqNHltrfxHpXSXvxLW4VI/MEaxj7ua8OPxVPn5cFd3Umsu78b/btQ3RynaByM5oA9zuPiDFt3eYdzHALc5rG1v4nrp8ZEcyt3bnk15LJ4ok1OLyVLNtPGDzWJ4ks76O1+0Kz85BB7igD2aT4+SJpvlxSIzEYJ9Kd4J+MH2l5I8jzpDgt6Cvm211iaW527nDZ5GeldRovicaHZyeSMtjLHOcUAfXPwM+KEMHiN47iYH5vlG4cmvfLC9sdUhDNJ5Ks2UJb5lNfmV4J+IdwPEihZJVVn+XBI5r6u+EviXWNT09ZLmaWOOEAqG5FAH01He2djpu6Vo7lmyrAjPFc/NceH9Sdo5rJIS2SrFcHJFc74P8drPL9nuJUYdAT6+lZvi3V1lumAmTapIVRkH6GgCnqvhnQbJrgsinzWOGPyn8a8l8WataafNdLuj8sDCKG+8BVjxd4wezWZrhZVCEhQCccV4v4u8fNBqCzNJld5AU9cUAdJY6pbPdi5uV2xxNwehArvj8W9EOmwwxsF4BJAG78DXzJ45+Jk0txJ5JaFWAwPWuQt/HOqzSbmk+VP4emaAPtSP456fYQrGLqH5iAN3XP1FdR4e8Zy31rHcWdwvXkg/dFfAsGr6pqN35k3mKu7KcnFe3fB/x7qVsVibcPlAweRQB9RWPiS61a/jiUGZ5GySxzXqkfhtfEvhiK2a1aML045rD/Zm8B/2lLaahMqojD594H5V7Rrmt6NpFiyxiL9zncoIPAP50AfBn7RXwzmsb+6kit2LA7dzDcSBXgV/4KvizGHcvHzADBr7p+OutaDrV1I8E6KoP+rz39Ca8WtbXTbu5MaeTlsg5XsKAPJ/A2h6tpkUIjE0jk9cZ4r3L4faJeFHMwmUyLyMEYrs/gZ8ObDxbrywybMq4KgelfQfjD4HR6Jokf9mW8TSFfn4Bx/WgD538IaQZ9cYxs3HYnPNeoaHBPDpcazbo+Tt6gitbwX+zNfS3rXGGhiduBggA9etdhP8ADbUtEsZ47y2bbbplPl7fWgDzCK7u1mkQ+pCkmsy+ja+k8mZl3E962NQSQXpWSOSPaSASMDNee694ujtdWkti24q3XuKALGuaSulphWXr1FYd6GgVju7ZHPWodS8SK8hM25f7uaj1DxJFaWke5lbdwM9aAM2TVpATv6A9atQ+KBBB97tVEzx3knmMfLU9jWf4jtmtrRpNyqF5AHegDQvfHMSS43detQXHi1ZYNyt8ua8yvNZY3m5m4B6VPB4h89tytjYelAHpOm6/5pXG7r3rqoo5L2MFG2gDOK8z8KeIYJb6ONvl3EAk16rBYqtgs1s+7anzrnd0oAZosMlhIJn3AscAtznFdZ4e8XfZJflkjbby3ODXnOteN5JbRrXy2Ow4XHB/GsTSZNQ3i4j3ANkFCOoH0oA+mNK+K1xe2Hk27Kz9Ce4HtXnvj3xrNqU0loW/fSEqWB6CuX8F/bJGaaHzEbPPJG2uQ+Kvj6Xw5ezRwrmTq5JBINAHHfFiymEs6sxkx0Gd2a848PeFxdy7ZIzHub5SRyDXQXPjNdUutt0z+XISVPTn611XgCyhnbzpvkWHlQwzmgCv4L8GXGiFZ1XzGY7SNvavRdLurmeHyxavF3VtvPIq94c8faWt2tsxh44BIxk1uWPiywlvFhaWEruwqDr+NAGJ4WkuYJnt7iORvPbAY/Kce9O1DR77TJ57hxtjA+Ubj8+K9O8HaNZ37i6uLdhs+6B0OKb8RWtbKGFztVd5AQ4yBQB43rfii6l8PlriNhHHlVOMED615/p3iK2vfEEIcbdzAk45/CvXfHcFndW8mW+zKyAgcDPHHNeV6T4BbUtY+0CWLy4j90HBb6UAfRfhL4jRaDoUKw3EPIAGeGz9ar/Ejx1qUvh4TQyL8wOSP4Qa8wsvDF0BmXckatmMAnFdDcas8ls0FyNvyBRu6fSgDw7x/wCLL/UdX8sKXaRssSSa7v4X2NxrOmQxMskaqeK65fgfb6ne297BtVWHzhx+lazeHotBsljtgv7s/MoOcj+dAFHwYiSX/wBhv4GUuxO9v55ruLfwBo8mk3DvDG8ajAfGT3rN8c6rYeG9Tby2t5HVjg9x9a5ez+J8MsE0bSbWU5QL8ozQB5543+G1umpzraweT5jkK5HBNVPDPgCfwnJDcNK8i7s8HjPpXaHxN/a+swsF87a3IHeurt7ePVIw0irCseSEYYyfY0AdX8B/EiixWVt0UMZ7nkGvpb4D/EaG7upDNMjcFcv6dq+S9BvBYzDDIsW7GwEDPevSvhzpuoXQa6h48zI2oOo7UAe6/Fz4tx6Np9wbPyWXBBWP7x968At/i9Paz3F0zfLMwDL90kfWuj1Dw9qUWoStM43KB+6kXOPXiuA+I1jHc2rKtu25c8xrt5/+tQBV8aftMtbpJHAnmnHJVvu+tec6h8UG8YOs88irHDnOefy965PxBFDa6q0nmyRhWbdG79TXnuv+Kls55o4yzPklQoIzmgDqr3xta6nqTw28ZlKyHBBz+dbF9r09/oiooUqvBVhk/nXnPgaRvtyTCNg0zcj1/CuyOlTXqrHHvjZ3wc8YoA8t+KFxPYSK0MeMHPFcvD46ezjNvPH5hfgnbXrnj/wQ1hMkcy/aGAHQE5rBufg9NrbiZdPk+bphSO1AHE2t1DrIIaN0j6Aitbw98N7i7lMicLJwMjqK6zw18F9Ru3aP7O4CYAGK9K0D4KXyQRyXW6HaMoPu5P0oA8pT4P31orSK3B7iptA+Gt5e2U0lwzGGHqCK9S0yJdE1b7PdSq3lsQEIrpNLs9PuImRYtzMcgAbetAHyZqXw2Y6uyrEybnIBxwa3fDXwga2tlmbcys2Oen0r3PxJ4HaG4ju47UbVfkDuKltvBUmupu4t44+VU8ZPtQB5z4I+Ay3eqm68vy4ofm9cfWvdfh9ocmnaa8KsrYXGT3rV+F/w/kSzkuLllaEDayjGT3rp/DngOa9uLiaGHaWUiMAdR2oA4bSNKuPtFxIqqFyQgHBPrUmpaZdX+9I8SbQN2w4IrotW8P3XhzUZFaRY3QDCMOh78Vl+FfEVrF4qieRjI2751A2gnp+VAHmvxG0JbLw628NJwWY91Pevlrx9qkcGoGRnYKrY9se1fZf7UPii1m0TGnW+1mYgrnrXxD478P6hrOrkKpUs2QoUjmgDPkvYNZuFWE9yOea7bwl8L4bvT/tHnLtB5GO9UvAvwO1a9uoZmhKhj6da9Z8I/BvVLTT5I5Edc84xigDzW80+KxP2df4W+UgcmvQPhf4duLS7tZPL85cj+H/ParC/Cy4vNUjTykmZWAbC817t4D+B8s8tuZreWLIwgA2jpQB6l8MPiBI2kLbxh7ZfL2qR2PrWP49j1ywtrq6dpGjdTjHO4H3r0j4Z/BsaTo8h1CNmjVR5bdzn9Kd49j0u80oWsitFJyV3Nt9ulAHwj8QviJfadfyWrRsGZidx/nmo/g74rle+kluo90Sn72Ca6T49W9p4f16VSsMzK5wcfzrg/CGrRzSMsa7Wz8oUY5oA+rv2cfEFvNrOEjW38xsLIwyP/rV9vfDDQtNn0m3muLwTKpyfmGCfSvzP+Gnjm68OalayMC3ltlgOM19LfDj9oCS6tlL3P2dYskITjJ9qAPtzT/7BbR5HjdY7eLPVgcHvxXB3XjnTXvLiFpom6plu/pXjOg/GRboNLcXi+SSRs3/e715f8QviFNLrU1xbTA+YxG1D27UAdV+0TqUNktw9l5LK2eE+8a+YdW0++kupLwbisjcgcV7BY3kutagzXdwqtgfu5BnHrxVjxLp+j3tikaoGZecoNvP+FAHgetahcXCbVhaTaOSp6etRQRXGpW8cjfKkI5zXtHhX4faPqWpoVk24Yho2fqaq/FH4Xw6BZytZx75D8yhF65oA8Us9fW4vPsaK0jBsDHNdxf6dIfDanarDGCGHNYWhfDy6g1aO7aB08x84I616H/YC32lJGxMbZw2TjFAHzh8SbWbRn3Rpt3GuOtvE8mmOd67t3U4r2T432EFlKLfiZox/COteX6rpYvFy1qwHbAx2oA1vCGuG9nWQq6oOjV9Mfs/QSeIbRlmZfLkG0Bh1H1r5D0HxS+mztbt8u3CgV9Ffs8+LGunhaa48vHKDdtyfTFAHp/ij4SRw3EziSNRzgqf1Fcj4Rjs9I1ST7RcL9ngOMHr713trqm9pDLcRt5ZOEK/zrxnxbA2o63O0andvJAUbRQB0/i/4l2HhqwmNshXzC2COQa+aviF8Tnl1FrqMsyNIeCeD7V2ni3XLyKNQ0LMEbBH94Vx9t4Gbx3qWGXyI1OQp4yaAMGLxK3iSYssflxoOMdq774daldQ6bIMeZhTyRXofwq/ZTjvoftFxtMIGGA716X4e/ZmhsI52WEZdcRgL1FAHybq/ia+XV5mhjCjcQuBya2tD8VahE3mSZZVxu28EV734i/ZOey1ZplVQygEIV6HvxWJq/wAFUt1WaOJmK8uFTGSP6CgDS+HP7QFvpHhaOORmkwCWOeVPeuR+I/7QsGv3sbpKyorY46Y9veuN8VanHo7fZ44DG3mFdhOM1xVx4SuNd1dfJbad2VUAjmgDsPHPxTfU7eOOzc85GCcmrvw5TUBafaFuPlzypGeapQfBnUI1iupV+9+o+ldD8O9Els5pLW4YplunTNAHaeBfEks8v2W8k+VW+U969B1f4QNe2VvdKVm3deOtYOkfD9dTt4Zrfy5jEBuC9a1/Hvie70yBLUedC23aoU7R0oA6LR9EiuIWhMzW6qm1cN0Ncj4m8C6hp13cTLI0sbDjHO4H3rndI8W3lhFMupSSMuBsbdzzXe/DrxLp/iARpeSMrE5Xc+PzFAH/2Q\x3d\x3d"})},
"arcgis3d/utils/SearchHelper":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(G,A){function a(p){function t(u,v){""!=u&&b.push({word:u,quoted:v});k=""}function n(u,v){var g=u.word;return(regexp=function(q){var x=q.word;if("*"==x)return/[^]*/i;if("$/"===x.substr(0,2))try{var w=x.split("/");return new RegExp(w[1],w[2]||"")}catch(B){return console.log("Can't create RegExp"),!1}x=x.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$\x26");x=x.replace(/\*/g,".*");q.quoted&&(x="^"+x+"$");
return new RegExp(x,"i")}(u))?{pattern:regexp,sign:v,nice:g,word:u}:!1}function h(u,v){var g={},q="",x;for(x in u){x in g||(g[x]=[]);for(var w in u[x].words){var B=n(u[x].words[w],!1);if(0==B)return!1;g[x].push(B);q=v?q+("include if "+B.nice+" in "+x+" AND "):q+("exclude if "+B.nice+" in "+x+") AND ")}}v&&0==Object.keys(g).length&&(g.__NOCAT=[n({word:"*",quoted:!1},!1)]);return{regexps:g,nice:q}}var c={'"':"QUOTE"," ":"SPACE",":":"COLON"},b=[],e=0,f=!1,k="";this.parse=function(u,v){b=[];e=0;f=!1;
k="";u+=" ";for(q in u){var g=u[q];if(f)'"'==g?(1!=e?console.log("INCORRECT QUOTES"):(e--,f=!1),t(k,!0)):k+=g;else if(g in c)switch(g){case '"':0!=e?console.log("INCORRECT QUOTES"):(e++,f=!0);break;case " ":t(k,!1);break;case ":":t(k,!1),t(":")}else k+=g}if(0!=e){console.log("incorrect quotes in search term");var q=!1}else q=!0;if(!q)return!1;q={include:{},exclude:{},cats:{},termMatched:""};var x=void 0;u=!0;for(g=0;g<b.length;g++){var w=!1;if(":"==b[g].word&&b.length-1==g)b[g]={word:"*",quoted:!1};
else if(":"==b[g].word)continue;else g+1<b.length&&":"==b[g+1].word&&(x=b[g].word,"-"==x[0]&&(u=!1,x=x.substr(1)),w=!0);x||(x="__NOCAT","-"==b[g].word[0]&&(u=!1,b[g].word=b[g].word.substr(1)));x=x.toLowerCase()in v?v[x.toLowerCase()]:x;var B=u?q.include:q.exclude;void 0==B[x]&&(B[x]={incl:u,AND:!1,words:[]});w||B[x].words.push({word:b[g].word,quoted:b[g].quoted});w||(q.termMatched+=(u?"":"-")+("__NOCAT"==x?"":x+":")+(b[g].quoted?'"'+b[g].word+'"':b[g].word)+" ",x=void 0,u=!0)}for(var z in q.include)0==
q.include[z].words.length&&q.include[z].words.push({word:"*",quoted:!1});for(z in q.exclude)0==q.exclude[z].words.length&&q.exclude[z].words.push({word:"*",quoted:!1});q.termMatched=q.termMatched.trim();v={include:{},exclude:{}};z=h(q.include,!0);if(!z)return!1;v.include=z.regexps;if(q.exclude){z=h(q.exclude,!1);if(!z)return!1;v.exclude=z.regexps}return{categorized:q,regexpified:v}};this.debugTerm=function(u){var v="",g=0,q;for(q in u.cats){for(var x=u.cats[q].words,w=" ( ",B=0;B<x.length;B++)w+=
q+" \x3d\x3d "+x[B],B<x.length-1&&(w+=" OR ");0==x.length&&(w+=q+" \x3d\x3d *");v+=w+" ) ";g++<Object.keys(u.cats[q].words).length-1&&(v+="\n\t AND ")}return v};this.debugTermRegexp=function(u){var v="include if: ",g;for(g in u.include)v+=u.include[g]+" ";v+="\nexclude if: ";for(g in u.exclude)v+=u.exclude[g]+" ";return v}}function m(){var p={},t={},n=this;this.add=function(h,c){h in p||(p[h]=[]);p[h].push(c.getId())};this.reset=function(){p={}};this.get=function(){return p};this.getLowcaseMap=function(){var h=
{},c;for(c in p)h[c.toLowerCase()]=c;return h};this.getObjects=function(){return t};this.build=function(h){this.reset();for(var c=0;c<h.getLayerGroups().length;c++){var b=h.getLayerGroups()[c];if("hidden"!=b.groupType)for(var e=0;e<b.layers.length;e++){var f=b.layers[e];f.renderer.getEngineLayer().getObjects().forEach(function(k){var u="radio"==b.groupType||"checkbox"==b.groupType?f.name:b.title;t[k.getId()]={object:k,layerName:u,mapLayer:f,layerGroup:b};for(var v in k.getMetadata().attributes)n.add(v,
k);for(var g in k.getMetadata().reports)n.add(g,k)})}}};this.getFilteredCandidates=function(h){h=[];return h=[Object.keys(t),Object.keys(t).length]}}return function(p){function t(c,b,e){function f(u,v){var g=!v,q=!1,x;for(x in u){var w=!1,B=u[x],z=c.object,C=z.getMetadata()&&z.getMetadata().attributes?z.getMetadata().attributes:!1,y=z.getMetadata()&&z.getMetadata().reports?z.getMetadata().reports:!1;"layer"==x.toLowerCase()?w=q=k(B,{layer:c.layerName},v,c,"olayer"):"__NOCAT"==x?(C&&(w=w||k(B,C,v,
c,"attributeN","attributeV")),!w&&y&&(w=k(B,y,v,c,"reportN","reportV")),w||(w=k(B,{name:z.getName()},v,c,"oname")),w||(w=k(B,{layer:c.layerName},v,c,"olayer"))):(C&&void 0!==C[x]&&(q={},q[x]=C[x],w=q=k(B,q,v,c,"attributeN","attributeV")),w||void 0===y[x]||(q={},q[x]=y[x],w=q=k(B,q,v,c,"reportN","reportV")));"name"==x.toLowerCase()&&(w=k(B,{name:z.getName()},v,c,"oname"));if(v&&w)return!0;if(!v&&!w)return!1;!v&&w&&(w=q||w,g=g&&w)}v||!0!==g||(g=!1);return g}function k(u,v,g,q,x,w){for(var B in v)for(var z in u){g=
v[B];var C=u[z].pattern.test(g);!C&&1<Object.keys(v).length&&(C=u[z].pattern.test(B));if(C)return v={},v[x]=B,"name"==x&&(v[x]=g),w&&(v[w]=g),v.layerName=q.layerName,v.cat={filter:B,label:x,candidate:g,word:u[z].word},v}return!1}return f(b,!0)?!1:f(e,!1)}var n=new m,h=new a;this.updateMap=function(){n.build(p)};this.findMatches=function(c){var b={visible:[],hidden:{},cats:{},termMatched:""};c=h.parse(c,n.getLowcaseMap());if(!c)return!1;b.termMatched=c.categorized.termMatched;var e=n.getFilteredCandidates(c.categorized)[0],
f=0,k;for(k in e)if(null!=e[k]){f++;var u=n.getObjects()[e[k]],v=t(u,c.regexpified.exclude,c.regexpified.include);if(v){var g=u.layerGroup;g="radio"==g.groupType?g.visible&&u.mapLayer.visible:g.visible;g?b.visible.push([u.object,v]):(u=u.layerName,u in b.hidden||(b.hidden[u]=0),b.hidden[u]+=1);u=v.cat.label+":"+v.cat.filter+":"+v.cat.candidate;u in b.cats||(b.cats[u]={count:0});b.cats[u]=A.mixin(b.cats[u],v.cat);b.cats[u].count+=1}}return b}}})},"engine/lib/clarinet":function(){define([],function(){(function(G){function A(u){if(!(this instanceof
A))return new A(u);for(var v=0,g=b.length;v<g;v++)this[b[v]]="";this.bufferCheckPosition=G.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=u||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=0;this.stack=new c;this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;m(this,"onready")}function a(u){if(!(this instanceof a))return new a(u);k.apply(v);this._parser=new A(u);this.readable=this.writable=!0;var v=this;this._parser.onend=
function(){v.emit("end")};this._parser.onerror=function(g){v.emit("error",g);v._parser.error=null};e.forEach(function(g){Object.defineProperty(v,"on"+g,{get:function(){return v._parser["on"+g]},set:function(q){if(!q)return v.removeAllListeners(g),v._parser["on"+g]=q;v.on(g,q)},enumerable:!0,configurable:!1})})}function m(u,v,g){G.INFO&&console.log("-- emit",v,g);if(u[v])u[v](g)}function p(u,v){var g=u.opt,q=u.textNode;g.trim&&(q=q.trim());g.normalize&&(q=q.replace(/\s+/g," "));u.textNode=q;u.textNode&&
m(u,v?v:"onvalue",u.textNode);u.textNode=""}function t(u,v){p(u);v+="\nLine: "+u.line+"\nColumn: "+u.column+"\nChar: "+u.c;v=Error(v);u.error=v;m(u,"onerror",v);return u}function n(u){1!==u.state&&t(u,"Unexpected end");p(u);u.c="";u.closed=!0;m(u,"onend");A.call(u,u.opt);return u}var h="object"===typeof process&&process.env?process.env:window;var c="function"===typeof FastList?FastList:Array;G.parser=function(u){return new A(u)};G.CParser=A;G.CStream=a;G.createStream=function(u){return new a(u)};
G.MAX_BUFFER_LENGTH=1048576;G.DEBUG="debug"===h.CDEBUG;G.INFO="debug"===h.CDEBUG||"info"===h.CDEBUG;G.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");var b=["textNode","numberNode"],e=G.EVENTS.filter(function(u){return"error"!==u&&"end"!==u});Object.create||(Object.create=function(u){function v(){this.__proto__=u}v.prototype=u;return new v});Object.getPrototypeOf||(Object.getPrototypeOf=function(u){return u.__proto__});Object.keys||(Object.keys=function(u){var v=
[],g;for(g in u)u.hasOwnProperty(g)&&v.push(g);return v});var f=/[\\"\n]/g;A.prototype={end:function(){n(this)},write:function(u){if(this.error)throw this.error;if(this.closed)return t(this,"Cannot write after close. Assign an onready handler.");if(null===u)return n(this);var v=0,g=u[0],q=this.p;for(G.DEBUG&&console.log("write -\x3e ["+u+"]");g;){q=g;this.c=g=u.charAt(v++);q!==g?this.p=q:q=this.p;if(!g)break;G.DEBUG&&console.log(v,g,G.STATE[this.state]);this.position++;"\n"===g?(this.line++,this.column=
0):this.column++;switch(this.state){case 0:"{"===g?this.state=2:"["===g?this.state=4:"\r"!==g&&"\n"!==g&&" "!==g&&"\t"!==g&&t(this,"Non-whitespace before {[.");continue;case 10:case 2:if("\r"===g||"\n"===g||" "===g||"\t"===g)continue;if(10===this.state)this.stack.push(11);else if("}"===g){m(this,"onopenobject");m(this,"oncloseobject");this.state=this.stack.pop()||1;continue}else this.stack.push(3);'"'===g?this.state=7:t(this,'Malformed object key should start with "');continue;case 11:case 3:if("\r"===
g||"\n"===g||" "===g||"\t"===g)continue;":"===g?(3===this.state?(this.stack.push(3),p(this,"onopenobject")):p(this,"onkey"),this.state=1):"}"===g?(p(this),m(this,"oncloseobject",void 0),this.state=this.stack.pop()||1):","===g?(3===this.state&&this.stack.push(3),p(this),this.state=10):t(this,"Bad object");continue;case 4:case 1:if("\r"===g||"\n"===g||" "===g||"\t"===g)continue;if(4===this.state)if(m(this,"onopenarray"),this.state=1,"]"===g){m(this,"onclosearray");this.state=this.stack.pop()||1;continue}else this.stack.push(5);
'"'===g?this.state=7:"{"===g?this.state=2:"["===g?this.state=4:"t"===g?this.state=12:"f"===g?this.state=15:"n"===g?this.state=19:"-"===g?this.numberNode+=g:"0"===g?(this.numberNode+=g,this.state=23):-1!=="123456789".indexOf(g)?(this.numberNode+=g,this.state=23):t(this,"Bad value");continue;case 5:if(","===g)this.stack.push(5),p(this,"onvalue"),this.state=1;else if("]"===g)p(this),m(this,"onclosearray",void 0),this.state=this.stack.pop()||1;else if("\r"===g||"\n"===g||" "===g||"\t"===g)continue;else t(this,
"Bad array");continue;case 7:q=v-1;var x=this.slashed,w=this.unicodeI;a:for(;;){for(G.DEBUG&&console.log(v,g,G.STATE[this.state],x);0<w;)if(this.unicodeS+=g,g=u.charAt(v++),4===w?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),w=0,q=v-1):w++,!g)break a;if('"'===g&&!x){this.state=this.stack.pop()||1;(this.textNode+=u.substring(q,v-1))||m(this,"onvalue","");break}if("\\"===g&&!x&&(x=!0,this.textNode+=u.substring(q,v-1),g=u.charAt(v++),!g))break;if(x)if(x=!1,"n"===g?this.textNode+="\n":
"r"===g?this.textNode+="\r":"t"===g?this.textNode+="\t":"f"===g?this.textNode+="\f":"b"===g?this.textNode+="\b":"u"===g?(w=1,this.unicodeS=""):this.textNode+=g,g=u.charAt(v++),q=v-1,g)continue;else break;f.lastIndex=v;var B=f.exec(u);if(null===B){v=u.length+1;this.textNode+=u.substring(q,v-1);break}v=B.index+1;g=u.charAt(B.index);if(!g){this.textNode+=u.substring(q,v-1);break}}this.slashed=x;this.unicodeI=w;continue;case 12:if(""===g)continue;"r"===g?this.state=13:t(this,"Invalid true started with t"+
g);continue;case 13:if(""===g)continue;"u"===g?this.state=14:t(this,"Invalid true started with tr"+g);continue;case 14:if(""===g)continue;"e"===g?(m(this,"onvalue",!0),this.state=this.stack.pop()||1):t(this,"Invalid true started with tru"+g);continue;case 15:if(""===g)continue;"a"===g?this.state=16:t(this,"Invalid false started with f"+g);continue;case 16:if(""===g)continue;"l"===g?this.state=17:t(this,"Invalid false started with fa"+g);continue;case 17:if(""===g)continue;"s"===g?this.state=18:t(this,
"Invalid false started with fal"+g);continue;case 18:if(""===g)continue;"e"===g?(m(this,"onvalue",!1),this.state=this.stack.pop()||1):t(this,"Invalid false started with fals"+g);continue;case 19:if(""===g)continue;"u"===g?this.state=20:t(this,"Invalid null started with n"+g);continue;case 20:if(""===g)continue;"l"===g?this.state=21:t(this,"Invalid null started with nu"+g);continue;case 21:if(""===g)continue;"l"===g?(m(this,"onvalue",null),this.state=this.stack.pop()||1):t(this,"Invalid null started with nul"+
g);continue;case 22:"."===g?(this.numberNode+=g,this.state=23):t(this,"Leading zero not followed by .");continue;case 23:-1!=="0123456789".indexOf(g)?this.numberNode+=g:"."===g?(-1!==this.numberNode.indexOf(".")&&t(this,"Invalid number has two dots"),this.numberNode+=g):"e"===g||"E"===g?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||t(this,"Invalid number has two exponential"),this.numberNode+=g):"+"===g||"-"===g?("e"!==q&&"E"!==q&&t(this,"Invalid symbol in number"),this.numberNode+=
g):(this.numberNode&&m(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",v--,this.state=this.stack.pop()||1);continue;default:t(this,"Unknown state: "+this.state)}}if(this.position>=this.bufferCheckPosition){u=Math.max(G.MAX_BUFFER_LENGTH,10);g=v=0;for(q=b.length;g<q;g++){x=this[b[g]].length;if(x>u)switch(b[g]){case "text":closeText(this);break;default:t(this,"Max buffer length exceeded: "+b[g])}v=Math.max(v,x)}this.bufferCheckPosition=G.MAX_BUFFER_LENGTH-v+this.position}return this},
resume:function(){this.error=null;return this},close:function(){return this.write(null)}};var k=function(){};a.prototype=Object.create(k.prototype,{constructor:{value:a}});a.prototype.write=function(u){this._parser.write(u.toString());this.emit("data",u);return!0};a.prototype.end=function(u){u&&u.length&&this._parser.write(u.toString());this._parser.end();return!0};a.prototype.on=function(u,v){var g=this;g._parser["on"+u]||-1===e.indexOf(u)||(g._parser["on"+u]=function(){var q=1===arguments.length?
[arguments[0]]:Array.apply(null,arguments);q.splice(0,0,u);g.emit.apply(g,q)});return k.prototype.on.call(g,u,v)}})("undefined"===typeof exports?clarinet={}:exports)})},"engine/lib/jsxcompressor":function(){define([],function(){JXG={exists:function(G){return function(A){return!(A===G||null===A)}}(),decompress:function(G){return unescape((new JXG.Util.Unzip(JXG.Util.Base64.decodeAsArray(G))).unzip()[0][0])},Util:{}};JXG.Util.Unzip=function(G){function A(){O+=8;return K<J.length?J[K++]:-1}function a(){O++;
var Q=L&1;L>>=1;0==L&&(L=A(),Q=L&1,L=L>>1|128);return Q}function m(Q){for(var Y=0,ja=Q;ja--;)Y=Y<<1|a();Q&&(Y=y[Y]>>8-Q);return Y}function p(Q){C++;w[B++]=Q;u[v++]=Q;32768==B&&(B=0)}function t(){this.b1=this.b0=0;this.jump=null;this.jumppos=-1}function n(){for(;;){if(P[ea]>=la)return-1;if(ba[P[ea]]==ea)return P[ea]++;P[ea]++}}function h(){var Q=V[T];if(17==ea)return-1;T++;ea++;var Y=n();if(0<=Y)Q.b0=Y;else if(Q.b0=32768,h())return-1;Y=n();if(0<=Y)Q.b1=Y,Q.jump=null;else if(Q.b1=32768,Q.jump=V[T],
Q.jumppos=T,h())return-1;ea--;return 0}function c(Q,Y,ja,pa){V=Q;T=0;ba=ja;la=Y;for(Q=0;17>Q;Q++)P[Q]=0;ea=0;return h()?-1:0}function b(Q){for(var Y,ja,pa=0,ka=Q[pa];;)if(Y=a()){if(!(ka.b1&32768))return ka.b1;ka=ka.jump;Y=Q.length;for(ja=0;ja<Y;ja++)if(Q[ja]===ka){pa=ja;break}}else{if(!(ka.b0&32768))return ka.b0;pa++;ka=Q[pa]}}function e(){do{var Q=a();var Y=m(2);if(0==Y){L=1;Y=A();Y|=A()<<8;var ja=A();ja|=A()<<8;for((Y^~ja)&65535&&document.write("BlockLen checksum mismatch\n");Y--;)ja=A(),p(ja)}else if(1==
Y)for(;;)if(Y=y[m(7)]>>1,23<Y?(Y=Y<<1|a(),199<Y?(Y-=128,Y=Y<<1|a()):(Y-=48,143<Y&&(Y+=136))):Y+=256,256>Y)p(Y);else if(256==Y)break;else{Y-=257;var pa=m(F[Y])+D[Y];Y=y[m(5)]>>3;if(8<E[Y]){var ka=m(8);ka|=m(E[Y]-8)<<8}else ka=m(E[Y]);ka+=H[Y];for(Y=0;Y<pa;Y++)ja=w[B-ka&32767],p(ja)}else if(2==Y){var va=Array(320);ja=257+m(5);ka=1+m(5);var Aa=4+m(4);for(Y=0;19>Y;Y++)va[Y]=0;for(Y=0;Y<Aa;Y++)va[I[Y]]=m(3);pa=N.length;for(Aa=0;Aa<pa;Aa++)N[Aa]=new t;if(c(N,19,va,0))return B=0,1;pa=ja+ka;Aa=0;for(var da=
-1;Aa<pa;)if(da++,Y=b(N),16>Y)va[Aa++]=Y;else if(16==Y){var ca;Y=3+m(2);if(Aa+Y>pa)return B=0,1;for(ca=Aa?va[Aa-1]:0;Y--;)va[Aa++]=ca}else{Y=17==Y?3+m(3):11+m(7);if(Aa+Y>pa)return B=0,1;for(;Y--;)va[Aa++]=0}pa=M.length;for(Aa=0;Aa<pa;Aa++)M[Aa]=new t;if(c(M,ja,va,0))return B=0,1;pa=M.length;for(Aa=0;Aa<pa;Aa++)N[Aa]=new t;Y=[];for(Aa=ja;Aa<va.length;Aa++)Y[Aa-ja]=va[Aa];if(c(N,ka,Y,0))return B=0,1;for(;;)if(Y=b(M),256<=Y){Y-=256;if(0==Y)break;Y--;pa=m(F[Y])+D[Y];Y=b(N);8<E[Y]?(ka=m(8),ka|=m(E[Y]-
8)<<8):ka=m(E[Y]);for(ka+=H[Y];pa--;)ja=w[B-ka&32767],p(ja)}else p(Y)}}while(!Q);B=0;L=1;return 0}function f(Q){assert(Q);u=new Uint8Array(Q);v=0;var Y=[];z=!1;Y[0]=A();Y[1]=A();120==Y[0]&&218==Y[1]&&(e(),x[q]=Array(2),x[q][0]=u,x[q][1]="geonext.gxt",q++);31==Y[0]&&139==Y[1]&&(k(),x[q]=Array(2),x[q][0]=u,x[q][1]="file",q++);if(80==Y[0]&&75==Y[1]&&(z=!0,Y[2]=A(),Y[3]=A(),3==Y[2]&&4==Y[3])){Y[0]=A();Y[1]=A();g=A();g|=A()<<8;Y=A();Y|=A()<<8;A();A();A();A();Q=A();Q|=A()<<8;Q|=A()<<16;Q|=A()<<24;Q=A();
Q|=A()<<8;Q|=A()<<16;Q|=A()<<24;Q=A();Q|=A()<<8;Q|=A()<<16;Q|=A()<<24;Q=A();Q|=A()<<8;var ja=A();ja|=A()<<8;ka=0;for(U=[];Q--;){var pa=A();"/"==pa|":"==pa?ka=0:255>ka&&(U[ka++]=String.fromCharCode(pa))}S||(S=U);for(var ka=0;ka<ja;)pa=A(),ka++;Q=C=0;8==Y&&(e(),x[q]=Array(2),x[q][0]=u,x[q][1]=U.join(""),q++);k()}}function k(){var Q=[];if(g&8){Q[0]=A();Q[1]=A();Q[2]=A();Q[3]=A();if(80==Q[0]&&75==Q[1]&&7==Q[2]&&8==Q[3]){var Y=A();Y|=A()<<8;Y|=A()<<16;Y|=A()<<24}else Y=Q[0]|Q[1]<<8|Q[2]<<16|Q[3]<<24;Y=
A();Y|=A()<<8;Y|=A()<<16;Y|=A()<<24;Y=A();Y|=A()<<8;Y|=A()<<16;Y|=A()<<24}z&&f();Q[0]=A();if(8!=Q[0])return 0;g=A();A();A();A();A();A();A();if(g&4)for(Q[0]=A(),Q[2]=A(),ea=Q[0]+256*Q[1],Q=0;Q<ea;Q++)A();if(g&8)for(Q=0,U=[];Y=A();){if("7"==Y||":"==Y)Q=0;255>Q&&(U[Q++]=Y)}if(g&16)for(;Y=A(););g&2&&(A(),A());e();Y=A();Y|=A()<<8;Y|=A()<<16;Y|=A()<<24;Y=A();Y|=A()<<8;Y|=A()<<16;Y|=A()<<24;z&&f()}var u=void 0,v=-1,g,q=0,x=[],w=Array(32768),B=0,z=!1,C,y=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,
240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,
57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,
4,4,5,5,5,5,0,99,99],H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=G,K=0,L=1,O=0,U=[],S,M=Array(288),N=Array(32),T=0,V=null,ea=0,P=Array(17);P[0]=0;var ba,la;JXG.Util.Unzip.prototype.unzipFile=function(Q){var Y;this.unzip();for(Y=0;Y<x.length;Y++)if(x[Y][1]==Q)return x[Y][0]};JXG.Util.Unzip.prototype.unzip=
function(Q){f(Q);return x}};JXG.Util.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(G){var A=[],a=0;for(G=JXG.Util.Base64._utf8_encode(G);a<G.length;){var m=G.charCodeAt(a++);var p=G.charCodeAt(a++);var t=G.charCodeAt(a++);var n=m>>2;m=(m&3)<<4|p>>4;var h=(p&15)<<2|t>>6;var c=t&63;isNaN(p)?h=c=64:isNaN(t)&&(c=64);A.push([this._keyStr.charAt(n),this._keyStr.charAt(m),this._keyStr.charAt(h),this._keyStr.charAt(c)].join(""))}return A.join("")},
decode:function(G,A){var a=[],m=0;for(G=G.replace(/[^A-Za-z0-9\+\/=]/g,"");m<G.length;){var p=this._keyStr.indexOf(G.charAt(m++));var t=this._keyStr.indexOf(G.charAt(m++));var n=this._keyStr.indexOf(G.charAt(m++));var h=this._keyStr.indexOf(G.charAt(m++));p=p<<2|t>>4;t=(t&15)<<4|n>>2;var c=(n&3)<<6|h;a.push(String.fromCharCode(p));64!=n&&a.push(String.fromCharCode(t));64!=h&&a.push(String.fromCharCode(c))}a=a.join("");A&&(a=JXG.Util.Base64._utf8_decode(a));return a},_utf8_encode:function(G){G=G.replace(/\r\n/g,
"\n");for(var A="",a=0;a<G.length;a++){var m=G.charCodeAt(a);128>m?A+=String.fromCharCode(m):(127<m&&2048>m?A+=String.fromCharCode(m>>6|192):(A+=String.fromCharCode(m>>12|224),A+=String.fromCharCode(m>>6&63|128)),A+=String.fromCharCode(m&63|128))}return A},_utf8_decode:function(G){for(var A=[],a=0,m=0,p=0,t=0;a<G.length;)m=G.charCodeAt(a),128>m?(A.push(String.fromCharCode(m)),a++):191<m&&224>m?(p=G.charCodeAt(a+1),A.push(String.fromCharCode((m&31)<<6|p&63)),a+=2):(p=G.charCodeAt(a+1),t=G.charCodeAt(a+
2),A.push(String.fromCharCode((m&15)<<12|(p&63)<<6|t&63)),a+=3);return A.join("")},_destrip:function(G,A){var a=[],m,p=[];null==A&&(A=76);G.replace(/ /g,"");var t=G.length/A;for(m=0;m<t;m++)a[m]=G.substr(m*A,A);t!=G.length/A&&(a[a.length]=G.substr(t*A,G.length-t*A));for(m=0;m<a.length;m++)p.push(a[m]);return p.join("\n")},decodeAsArray:function(G){G=this.decode(G);var A=[],a;for(a=0;a<G.length;a++)A[a]=G.charCodeAt(a);return A},decodeGEONExT:function(G){return decodeAsArray(destrip(G),!1)}};JXG.Util.asciiCharCodeAt=
function(G,A){G=G.charCodeAt(A);if(255<G)switch(G){case 8364:G=128;break;case 8218:G=130;break;case 402:G=131;break;case 8222:G=132;break;case 8230:G=133;break;case 8224:G=134;break;case 8225:G=135;break;case 710:G=136;break;case 8240:G=137;break;case 352:G=138;break;case 8249:G=139;break;case 338:G=140;break;case 381:G=142;break;case 8216:G=145;break;case 8217:G=146;break;case 8220:G=147;break;case 8221:G=148;break;case 8226:G=149;break;case 8211:G=150;break;case 8212:G=151;break;case 732:G=152;
break;case 8482:G=153;break;case 353:G=154;break;case 8250:G=155;break;case 339:G=156;break;case 382:G=158;break;case 376:G=159}return G};JXG.Util.utf8Decode=function(G){var A=[],a=0,m=0,p=0;if(!JXG.exists(G))return"";for(;a<G.length;)if(m=G.charCodeAt(a),128>m)A.push(String.fromCharCode(m)),a++;else if(191<m&&224>m)p=G.charCodeAt(a+1),A.push(String.fromCharCode((m&31)<<6|p&63)),a+=2;else{p=G.charCodeAt(a+1);var t=G.charCodeAt(a+2);A.push(String.fromCharCode((m&15)<<12|(p&63)<<6|t&63));a+=3}return A.join("")};
JXG.Util.genUUID=function(){for(var G="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),A=Array(36),a=0,m,p=0;36>p;p++)8==p||13==p||18==p||23==p?A[p]="-":14==p?A[p]="4":(2>=a&&(a=33554432+16777216*Math.random()|0),m=a&15,a>>=4,A[p]=G[19==p?m&3|8:m]);return A.join("")}})},"ceviewer/Application":function(){define("dojo/_base/declare dojo/topic dojo/_base/window dojo/dom-construct dojo/on dojo/dom-class dojo/_base/lang dojo/Evented ceviewer/utils/LocalizationHelper ./ui/Menu ./ui/Bookmarks ./ui/Head ./3ws/3wsLayer ./ui/Nav ./ui/Progress arcgis3d/Map3d ceviewer/utils/AgolUtils ceviewer/utils/Configuration ceviewer/utils/WebViewerUtils engine/lib/Util engine/lib/webgl-utils esri/arcgis/Portal".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w,B,z,C){function y(F){for(var H=document.getElementsByTagName("meta"),E=0;E<H.length;E++)if(H[E].getAttribute("property")==F)return H[E].content;return null}"undefined"===typeof ceviewer&&(ceviewer={});ceviewer.version={flag:"",major:10,minor:2,patch:0,revision:202205230601};var D=function(F,H){F=F.extentLatLon;F=void 0!==F?[lerp(F[0][0],F[1][0],.5),lerp(F[0][1],F[1][1],.5)]:[8.533333,47.383333];F=(new SunUtils).getAnglesDefault(F);H.setDirectionalLight({direction:azimuthElevationAngle2Direction(deg2rad(180-
F.azimuth),deg2rad(F.elevation)),color:[1,1,1]})};return G([h],{constructor:function(F){var H=a.body();m.empty(H);var E=new x;E.loadFromUrl();F&&(E.scene["3dWebScene"]=F);this._store=new AgolUtils.Store(E);this._uiProgress=new v(m.create("div",{id:"loader"},H),this._store.helpUrls);(AgolUtils.URLs().portalBaseOverruled||-1!=window.location.pathname.indexOf("/home/")||-1!=window.location.pathname.indexOf("/apps/"))&&this._store.initPortalUrls().then(function(I){this._uiProgress.updateHelpLinks(I.portal.isPortal,
this._store.helpUrls);AgolUtils.ConfigureAgolPortalLink(I.portal,this._uiProgress.footerAgolLink,this._store)}.bind(this));this.preChecks(E);F={container:m.create("div",{id:"container"},H),map:m.create("div",{id:"map"},container),nav:m.create("div",{id:"nav"},container),footer:m.create("div",{id:"footer"},container),head:m.create("div",{id:"head"},H),menu:m.create("div",{id:"menu"},H),status:m.create("div",{id:"status"},H)};this._map=new g(F.map,{isGlobe:E.scene.globe,showMapControls:!1,enableFPSCounter:!0});
this._widgets=this.initUserInterface(F,E);this.initWebScene(E)},preChecks:function(F){var H=ceviewer.version.major+"."+ceviewer.version.minor;var E=H+"."+ceviewer.version.patch+"."+ceviewer.version.revision;var I=y("ce:viewerversion")?" | html:"+y("ce:viewerversion"):"";E+=I;this._uiProgress.update("info",c.i18n().webviewerVersion+": "+H,"[ "+E+" ]");H=WebGLUtils.detectWebGL();if(!H[0])throw F=1===H[1]?c.i18n().badHardware:c.i18n().badBrowser,this._uiProgress.update("glerror",F),Error(F);this._uiProgress.update("gl",
H[1]);H=H[1].VERSION.split(" ");var J;2<=H.length&&(J=parseFloat(H[1]));F.detectedWebGLVersion=J;if(.92>J)throw F=c.i18n().badBrowserMinVer,this._uiProgress.update("glerror_minversion",F,[J]),Error(F);F.scene["3dWebScene"]||(console.warn("No 3dWebScene provided in URL."),this._uiProgress.update("info",c.i18n().noWebSceneMsg,c.i18n().useUrlParameter))},initUserInterface:function(F,H){UIUtils.setWindowTitle();if(H.scene.reducedUI){t.add(document.body,"reducedUI");var E=location.protocol+"//"+location.host+
location.pathname+"?3dWebScene\x3d"+H.scene["3dWebScene"];E+=H.scene.portal?"\x26portal\x3d"+H.scene.portal:"";m.create("a",{"class":"reducedUI_fullViewerLink",href:E,target:"_blank",innerHTML:c.i18n().reducedUIexploreFull},F.head)}E={};E.nav=new u(F.nav,this._map);var I=m.create("div",{id:"bookmarks"},F.container);E.bookmarks=new e(I,this._map,null,H.scene.camera,H.scene.autoplay,H.scene.reducedUI);UIUtils.isFullScreenEnabled()?(I=m.create("div",{"class":"fullScreenButton"},F.container),p(I,"click",
function(){UIUtils.toggleFullScreen(F.container)})):t.add(document.body,"fullscreenUnavailable");H.scene.reducedUI||(E.menu=new b(F.menu,F.container,this._map,this._store,H),(w.DetectMobileBrowser()||matchMedia("(max-width: 480px)").matches)&&E.menu.close());if(w.DetectMobileBrowser()){this._uiProgress.update("log","Mobile browser detected: ",navigator.userAgent);I=WebGLUtils.detectWebGL();var J=2048;I&&I[1].MAX_TEXTURE_SIZE&&!isNaN(I[1].MAX_TEXTURE_SIZE)&&(J=I[1].MAX_TEXTURE_SIZE/2);this._map.viewport._stage.setRenderParams({shadowMapResolution:J})}E.head=
new f(F.head,this._store,this._map,H);E.foot=m.create("div",{id:"aologo"},F.footer);I=["navContainer","bookmarks","compassContainer","fullScreenButton"];H.scene.reducedUI&&I.push(F.head.id);this._autoHide=new UIUtils.autoHide(I,F.container,function(){UIUtils.fadeIn(F.footer);F.container.style.cursor="none"},function(){UIUtils.fadeOut(F.footer);F.container.style.cursor="auto"});UIUtils.fadeOut(F.footer);return E},initWebScene:function(F,H){H=function(){var E=F.scene["3dWebScene"];E&&-1===E.indexOf(".3ws",
E.length-4)?AgolUtils.getItem(E,{success:function(I){if(I){this._uiProgress.update("log",c.i18n().loadingWsId,": "+E);this._uiProgress.update("item",I);this._store.setItem(I);this._store.initPortal();var J=AgolUtils._getLegacyDisplayOffset(I);J&&(F._setLegacyDisplayOffset(J),this._uiProgress.update("log","3ws1_DisplayOffset",": "+J));this.loadWebScene(F,I)}else onProgress("error",c.i18n().unableToLoadData," "+E)}.bind(this),error:function(I,J){this._uiProgress.update("error",c.i18n().unableToLoadData,
" "+I);J&&this._uiProgress.update("hint","signout")}.bind(this)}):this.loadWebScene(F)}.bind(this);.95>F.detectedWebGLVersion?this._uiProgress.showExperimentalGLWarning(F.detectedWebGLVersion,H):H()},loadWebScene:function(F,H){function E(M,N,T){L=new k(M,{sceneSize:N,configuration:F,progressCallback:K,localFile:T});p.once(L,"load",function(V){O=V.metadata;V=L.add3wsToMap(I._map);V.then(U,function(P){throw Error(P);});var ea=0<L.getTextureCount();V.then(function(){I._widgets.bookmarks.update(L.bookmarks,
ea)});V.then(function(){I._uiProgress.hide();p.once(a.doc,"mousemove",function(P){I._autoHide.start()})});V.then(function(){I.emit("ready")})})}var I=this;this._uiProgress.show();var J=c.i18n(),K=this._uiProgress.update,L=void 0,O=void 0,U=function(M){var N=I._map.viewport._stage;K("progress",4,4);M=M.content.lights;w.DetectMobileBrowser()&&(M.ambientLight.ssao=!1,M.directionalLight.shadowMap=!1);void 0===N.getRenderParams().ssao&&(M.ambientLight.ssao=!1);void 0===N.getRenderParams().shadowMap&&(M.directionalLight.shadowMap=
!1);N.setAmbientLight(M.ambientLight);N.setDirectionalLight(M.directionalLight);N.setRenderParams(M.ambientLight);N.setRenderParams(M.directionalLight);I._store&&I._store.portal&&I._store.userIsOwner()?AgolUtils._storeLegacyDisplayOffsetToItem(I._store,O.displayOffset,H):A.subscribe("/portal/useritemready",function(){I._store.userIsOwner()&&AgolUtils._storeLegacyDisplayOffsetToItem(I._store,O.displayOffset,H)});F.update(O,I._store.portal);F.scene.reducedUI&&D(O,N);F.scene.layerVis&&w.SetMapVisibilityFromList(I._map,
F.scene.layerVis);I._widgets.head.update(O,I._store||void 0,L.bookmarks);I._widgets.menu&&I._widgets.menu.update(I._store,O,L.bookmarks,M);I._store.portal&&I._store.portal.user&&A.publish("/portal/signedin",{cred:I._store.cred,store:I._store})};if(H)AgolUtils.getDataUrl(H).then(function(M){E(M,H.size)});else if(F.scene["3dWebScene"]){var S=decodeURIComponent(F.scene["3dWebScene"]).replace(/[+]/g," ");K("item",{title:S.substr(S.lastIndexOf("/")+1)});K("info",J.loadingSceneFile,": "+S);E(S,void 0)}else this._uiProgress.enableDragAndDrop3ws(function(M){this._uiProgress.disableDragAndDrop3ws();
K("item",{title:M.name});K("info",J.loadingSceneFile,": "+M.name);var N=new FileReader;p(N,"load",function(T){E(M.name,M.size,T.currentTarget.result)});N.readAsArrayBuffer(M)}.bind(this))}})});Array.prototype.filter||(Array.prototype.filter=function(G){});Array.prototype.indexOf||(Array.prototype.indexOf=function(G){})},"ceviewer/utils/LocalizationHelper":function(){define(["dojo/_base/lang","dojo/i18n!ceviewer/nls/cewebviewer","dojo/i18n!esri/nls/jsapi"],function(G,A,a){return{i18n:function(){if(this._i18n)return this._i18n;
this._i18n=G.mixin({},a.common);G.mixin(this._i18n,A.common);G.mixin(this._i18n,A.ui);G.mixin(this._i18n,A.viewerPage);G.mixin(this._i18n,A.signInOut);G.mixin(this._i18n,A.loader3ws);return this._i18n}}})},"ceviewer/ui/Menu":function(){define("dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/dom-construct dojo/on dojo/topic ceviewer/ui/Info ceviewer/ui/Layers ceviewer/ui/Search ceviewer/ui/Settings ceviewer/ui/Share ceviewer/utils/LocalizationHelper".split(" "),function(G,A,a,m,p,t,n,h,c,b,
e,f){var k=G(null,{constructor:function(g,q,x,w,B){var z=m.create("div",{id:"topMenuContainer"},g);g=m.create("div",{id:"panesContainer"},g);var C=new v({layers:f.i18n().layersPaneTitle,search:f.i18n().searchPaneTitle,settings:f.i18n().settingsPaneTitle,share:f.i18n().commentsTitle,info:f.i18n().infoPaneTitle},g,z,q,x);this._widgets={layers:new h(C.getDiv("layers"),x),search:new c(C.getDiv("search"),x),settings:new b(C.getDiv("settings"),x),share:new e(C.getDiv("share"),x,w,B),info:new n(C.getDiv("info"),
x,w)};p(x.viewport,"selectionChange",function(y){C.menuControl("select",y.object)});C.menuControl("tab","layers");this._panes=C},update:function(g,q,x,w){this._widgets.share&&this._widgets.share.update();this._widgets.settings&&this._widgets.settings.update(q,w.directionalLight,w.ambientLight);this._widgets.info&&this._widgets.info.update(q,g);this._widgets.search&&this._widgets.search.update()},close:function(){this._lastOpenedPane=this._panes.actPane;-1!==this._panes.actPane&&this._panes.menuControl("tab",
this._panes.actPane)},open:function(){-1===this._panes.actPane&&-1!==this._lastOpenedPane&&this._panes.menuControl("tab",this._lastOpenedPane)}}),u=G(null,{constructor:function(g,q,x,w){var B=void 0;this.setActive=function(C){UIUtils.setVisible(z,C);B.setActive(C)};var z=m.create("div",{id:"pane_"+g,"class":"pane"},x);m.create("div",{"class":"paneTitle",innerHTML:q},z);x=m.create("div",{"class":"paneContent"},z);B=new function(C,y,D){var F=m.create("div",{id:"tab_"+y,"class":"tab inactive"},D);this.setActive=
function(H){H?A.replace(F,"active","inactive"):A.replace(F,"inactive","active")};this.getNode=function(){return F}}(q,g,w);this.setActive(!1);this.paneWidth=x.offsetWidth;this.paneContent=x;this.tabNode=B.getNode()}}),v=G(null,{constructor:function(g,q,x,w,B){this._map=B;this._stage=B.viewport._stage;this._mapContainer=w;this._panes={};this.prevPane=this.actPane=-1;for(paneId in g)this._panes[paneId]=new u(paneId,g[paneId],q,x),p(this._panes[paneId].tabNode,"click",a.hitch(this,function(z){id=z.target.id.split("_")[1];
this.menuControl("tab",id)}))},get:function(g){return this._panes[g]},getDiv:function(g){return this._panes[g].paneContent},setActive:function(g,q){this._panes[g].setActive(q)},menuControl:function(g,q){var x=a.hitch(this,function(w,B){-1!==this.actPane&&this.setActive(this.actPane,!1);-1!==w&&(this.setActive(w,!0),t.publish("/menu/pane-change",{pane:w,tabClick:B}));-1===this.actPane&&-1!==w?(UIUtils.show(panesContainer),UIUtils.updateViewToNewPaneState(!0,350,this._mapContainer,this._stage),t.publish("/menu/show",
{pane:w})):-1!==this.actPane&&-1===w&&(UIUtils.hide(panesContainer),UIUtils.updateViewToNewPaneState(!1,350,this._mapContainer,this._stage),t.publish("/menu/hide"));this.actPane=w});"tab"==g?(q==this.actPane?x(-1,!0):x(q,!0),this.prevPane=this.actPane):q?q.getMetadata()&&0==q.getMetadata().ceLayer.indexOf("__GeoComments")?x(this.prevPane):x("info"):x(this.prevPane)}});return k})},"ceviewer/ui/Info":function(){define("dojo/string dojo/_base/declare dojo/dom dojo/dom-class dojo/dom-construct dojo/on dojo/topic ./components/HorizontalScrollbar ceviewer/utils/LocalizationHelper engine/lib/Util".split(" "),
function(G,A,a,m,p,t,n,h,c,b){var e=A(null,{constructor:function(f,k,u){function v(S,M){JSON.parse(S).success?y.innerHTML=c.i18n().thumbnailUploadSuccess:(y.innerHTML=c.i18n().thumbnailUploadFail,console.log(S));m.remove(C,"spinner")}function g(S,M){console.log(S)}var q=p.create("div",{id:"sceneDetails"},f);this.node=q;this.update=function(S,M){var N=UIUtils.getItemDetails(M,S);w.src=N.thumbnailSrc;p.empty(D);M&&UIUtils.ratingUI(D,M);UIUtils.setVisible(D,M.item);x.textContent=N.summary;F.innerHTML=
N.description;E.textContent=N.owner;UIUtils.setVisible(H,N.owner);J.textContent=N.modified;UIUtils.setVisible(I,N.modified);K.textContent=G.substitute(c.i18n().detailsSize,{filesize:cround(N.size/1024/1024)});UIUtils.setVisible(K,N.size);p.empty(L);new UIUtils.TextButton("moreD",c.i18n().detailsMoreDetails,function(){window.open(N.moreLink)},L);UIUtils.setVisible(L,N.moreLink)};f=p.create("div",{id:"detailsSummary"},q);var x=p.create("div",{},f);f=p.create("div",{id:"detailsThumb","class":"detailsThumb"},
q);var w=p.create("img",{src:"",target:"_blank"},f),B=p.create("div",{id:"thumbUpdateEnabled"},f);UIUtils.hide(B);var z=p.create("div",{id:"updateThumb","class":"icon_update active"},B);t(z,"click",function(){y.innerHTML="";k.generateThumbnails([k.getCamera()],600,400,"image/png",.8).then(function(S){0<S.length&&(w.src=S[0])});m.add(C,"active");t(C,"click",function(){AgolUtils.uploadThumbnail(u,w.src,v,g);m.add(C,"spinner")})});var C=p.create("div",{id:"uploadThumb","class":"icon_save green"},B),
y=p.create("p",{id:"thumbUploadResult",innerHTML:""},f);f=UIUtils.spinner(B,"green");UIUtils.hide(f);p.create("div",{style:"clear:both"},q);var D=p.create("div",{},q);u&&UIUtils.ratingUI(D);f=p.create("div",{id:"detailsDesc"},q);p.create("h4",{innerHTML:c.i18n().detailsDesc},f);var F=p.create("div",{},f),H=p.create("div",{id:"detailsAuthor"},q);p.create("h4",{innerHTML:c.i18n().author},H);var E=p.create("div",{},H);UIUtils.hide(H);var I=p.create("div",{id:"detailsLastmodified"},q);p.create("h4",{innerHTML:c.i18n().lastModified},
I);var J=p.create("div",{},I);UIUtils.hide(I);var K=p.create("div",{},q);p.create("h4",{innerHTML:G.substitute(c.i18n().detailsSize,{filesize:0})},K);p.create("div",{},K);UIUtils.hide(K);var L=p.create("div",{},q);new UIUtils.TextButton("moreD",c.i18n().detailsMoreDetails,function(){window.open(details.moreLink)},L);UIUtils.hide(L);p.create("br",{},q);var O,U;new UIUtils.TextButton("progressDetailsButton",c.i18n().showLoadingDetails.replace("\x3cbr\x3e",""),function(){if(O)UIUtils.toggle(O);else{O=
p.create("div",{id:"detailsContainer"},q);var S=a.byId("progressDetails");UIUtils.show(S);O.appendChild(S);U=new h("detailDivScrollbar",O,S)}U.updateWidth()},q);n.subscribe("/portal/signedin",function(S){u.canModify()?UIUtils.show(B):UIUtils.hide(B)});n.subscribe("/portal/signedout",function(S){UIUtils.hide(B)})}});return A(null,{constructor:function(f,k,u){var v=this;f=p.create("div",{id:"contextContent"},f);var g=p.create("div",{},f);g.innerHTML="";var q=0;this.update=function(w,B){void 0!==w.displayOffset&&
(q=w.displayOffset[1]);x.update(w,B)};t(k.viewport,"selectionChange",function(w){v.updateContext(w.object)});var x=new e(f,k,u);this.updateContext=function(w){if(void 0==w)UIUtils.hide(g),UIUtils.show(x.node);else{UIUtils.show(g);UIUtils.hide(x.node);var B=w.getMetadata();g.innerHTML="";cround(w.getBBMin()[1]+q);cround(w.getBBMax()[1]-w.getBBMin()[1]);w=w.getName();var z={};z[w]=[""];var C;""!==w&&0!==w.indexOf("unnamed")&&(C=new UIUtils.Table(z,[],"contextTableN"));if("attributes"in B&&0<Object.keys(B.attributes).length){var y=
{};for(var D in B.attributes)y[D]=[B.attributes[D]];y=new UIUtils.Table(y,[c.i18n().infoAttributes,""],"contextTableA",!0)}if("reports"in B&&0<Object.keys(B.reports).length){var F={};for(D in B.reports)F[D]=[cround(B.reports[D][2])];F=new UIUtils.Table(F,[c.i18n().infoReports,""],"contextTableR")}C&&g.appendChild(C.container);y&&y.containeri&&g.appendChild(y.containeri);y&&y.container&&g.appendChild(y.container);F&&F.container&&g.appendChild(F.container)}}}})})},"ceviewer/ui/components/HorizontalScrollbar":function(){define("dojo/_base/fx dojo/_base/declare dojo/_base/lang dojo/has dojo/dom-construct dojo/on esri/domUtils ceviewer/utils/UIUtils engine/lib/Util".split(" "),
function(G,A,a,m,p,t,n,h,c){function b(e){e.stopPropagation();var f=e.changedTouches[0],k="";if(!(1<e.touches.length)){switch(e.type){case "touchstart":k="mousedown";break;case "touchmove":k="mousemove";break;case "touchend":k="mouseup";var u=document.createEvent("MouseEvent");u.initMouseEvent("click",!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null);f.target.dispatchEvent(u);e.preventDefault();break;default:return}u=document.createEvent("MouseEvent");u.initMouseEvent(k,!0,
!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null);f.target.dispatchEvent(u);e.preventDefault()}}return A(null,{constructor:function(e,f,k,u){function v(K,L,O){q=Math.min(Math.max(K,.001),.999);H.style.left=Math.round(F.offsetWidth*q)-H.offsetWidth/2+"px";L||(K=k.scrollWidth-k.offsetWidth,L=Math.ceil(q*K),L=L<=K?L:K,k.scrollLeft=0<L?L:0)}var g=this;/Firefox/i.test(navigator.userAgent);var q=0,x=0,w=0,B=0,z=1,C=p.create("div",{className:"horizontalScrollbar"},f),y=p.create("div",
{style:"width:"+C.offsetWidth+"px;",id:e},C),D=p.create("div",{style:"width:"+C.offsetWidth+"px;","class":"bar"},y),F=p.create("div",{style:"margin: 0 auto;"},y),H=p.create("div",{"class":"handleHitArea"},F),E=p.create("div",{"class":"handle"},H);e=p.create("div",{"class":"handleT",innerHTML:""},E);n.hide(e);this.container=y;var I,J=function(){function K(S){S&&S.stopPropagation();return!1}var L=0,O=0,U=0;return{startMoving:function(S){k.removeEventListener("click",K,!0);document.onmouseup=J.stopMoving;
S=S||window.event;S.preventDefault();O=L=S.clientX;U=S.clientY;document.onmousemove=function(M){k.removeEventListener("click",K,!0);if(!(3>Math.abs(Math.abs(M.clientX)-Math.abs(O))&&1>Math.abs(Math.abs(M.clientY)-Math.abs(U)))){k.addEventListener("click",K,!0);M=M||window.event;M.preventDefault();M=M.clientX;var N=L-M;L=M;v((q*(k.scrollWidth-k.offsetWidth)+N)/(k.scrollWidth-k.offsetWidth));return!1}}},stopMoving:function(S){document.onmousemove=function(){};S.preventDefault()}}}();this.labelCallback=
function(K){};this.setRange=function(K,L){B=K;z=L};this.getInRange=function(){return cround(q*(z-B)+B)};this.get=function(){return q};this.set=function(K,L){0===x&&v(K,L)};this.setInRange=function(K){this.set((K-B)/(z-B))};this.getHandle=function(){return H};this.getBar=function(){return D};this.enableScrollTargetDrag=function(){k&&(k.addEventListener("mousedown",J.startMoving,!0),k.addEventListener("touchmove",b,!0),k.addEventListener("touchstart",b,!0),k.addEventListener("touchend",b,!0),k.addEventListener("touchcancel",
b,!0))};this.disableScrollTargetDrag=function(){k&&(k.removeEventListener("mousedown",J.startMoving,!0),k.removeEventListener("touchmove",b,!0),k.removeEventListener("touchstart",b,!0),k.removeEventListener("touchend",b,!0),k.removeEventListener("touchcancel",b,!0))};this.scrollIntoView=function(K){if(K&&K.getClientRects()[0]&&!this.isVisible(K)){K=K.offsetLeft+K.offsetWidth/2-C.getBoundingClientRect().left;q=Math.min(Math.max(Math.round((K-C.offsetWidth/2)/(k.scrollWidth-k.offsetWidth)*1E3)/1E3,
.001),.999);G.animateProperty({node:H,properties:{left:Math.round(F.offsetWidth*q)-H.offsetWidth/2}}).play();var L=q;I&&I.cancel();K=k.scrollWidth-k.offsetWidth;L*=K;L=L<=K?L:K;I=new UIUtils.easing(k,"scrollLeft",0<L?L:0,2E3);I.play()}};this.isVisible=function(K){if(!K||!K.getClientRects()[0])return!1;var L=C.getBoundingClientRect().left,O=K.offsetLeft-L,U=K.offsetLeft+K.offsetWidth-L;L=K.offsetLeft+K.offsetWidth/2-L;var S=k.scrollLeft,M=k.scrollLeft+C.offsetWidth;return K.offsetWidth<C.offsetWidth?
O>=S&&U<=M:L>=S&&L<=M};this.resize=function(){y.style.width=C.offsetWidth+"px";D.style.width=C.offsetWidth+"px";H.getClientRects()[0]&&(F.style.width=C.offsetWidth-H.getClientRects()[0].width+"px");v(q)};this.updateWidth=function(){var K=Math.max(Math.min(k.offsetWidth-(k.scrollWidth-k.offsetWidth),.5*k.offsetWidth),.2*k.offsetWidth);H.style.width=K+"px";u&&(E.style.width=K-2*u+"px",E.style.margin="0 "+u+"px");16>k.scrollWidth-k.offsetWidth?n.hide(H):n.show(H);g.resize()};t(D,"click",a.hitch(this,
function(K){K.preventDefault();g.updateWidth();v((K.pageX-C.getBoundingClientRect().left)/C.offsetWidth);K.stopPropagation()}));t(k,m("mozilla")?"DOMMouseScroll":"mousewheel",function(K){K.preventDefault();K.stopPropagation();K=m("mozilla")?-60*K.detail:K.wheelDelta;v((Math.round(F.offsetWidth*q)-K/12)/F.offsetWidth)});t(H,"mousedown",function(K){K.preventDefault();K.stopPropagation();1==K.which&&(x=1,w=Math.min(H.offsetWidth,Math.max(0,K.pageX-H.getClientRects()[0].left)))});t(document,"mousemove",
a.hitch(this,function(K){1==x&&(K.preventDefault(),v((K.pageX-C.getBoundingClientRect().left-w)/F.offsetWidth))}));t(document,"mouseup",a.hitch(this,function(K){1==x&&(K.preventDefault(),x=0)}));t(window,"resize",function(){g.updateWidth();v(q,!0)});UIUtils.forwardMouseEvents(D,k,m("mozilla")?"DOMMouseScroll":"mousewheel");UIUtils.forwardMouseEvents(H,k,m("mozilla")?"DOMMouseScroll":"mousewheel");v(q,!0)}})})},"ceviewer/utils/UIUtils":function(){define("dojo/string dojo/date/locale dojo/_base/lang dojo/dom-class dojo/NodeList-traverse dojo/dom-construct dojo/dom dojo/has dojo/_base/window dojo/on dojo/query dojo/topic ../ui/components/Slider ./LocalizationHelper ./WebViewerUtils engine/lib/Util engine/lib/gl-matrix".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q){var x=window.UIUtils=function(){};x.show=function(w,B){w.style.display=B?"inline-block":"block"};x.hide=function(w){w.style.display="none"};x.setVisible=function(w,B){B?x.show(w):x.hide(w)};x.isVisible=function(w){return"none"!=w.style.display};x.toggle=function(w){w.style.display=void 0==w.style.display||""==w.style.display?"none":"none"==w.style.display?"block":"none"};x.stripHtmlTags=function(w){return void 0===w?"":"string"!==typeof w?w.toString():w.replace(/(<([^>]+)>)/ig,
" ").replace(/</ig,"\x26lt;").replace(/>/ig,"\x26gt;")};x.evalUrlFromKey=function(w,B){if(w&&(0<=w.toLowerCase().indexOf("_url")||0<=w.toLowerCase().indexOf("url_")))return(w=x.sanitizeLink(B))?t.create("a",{target:"_blank",href:w,innerHTML:B}):!1};x.evalUrlsFromValue=function(w){function B(F){var H=F.replace(/(^http:\/\/)/gi,"");if(F=x.sanitizeLink(F))return F=t.create("a",{target:"_blank",href:F}),F.textContent=H,F;F=t.create("span",{});F.textContent=H;return F}var z=t.create("span",{});w=document.createTextNode(w).textContent;
w=w.split(" ");var C=[],y=/(^www.[^ ]+.[^ ]+)/i,D;for(D in w)C[D]=w[D].replace(y,"http://$1");w=C.join(" ");C=/(^| )(https?|ftp|file):\/\/[^ ]+/i;w=w.split(" ");for(D in w)C.test(w[D])?z.appendChild(B(w[D])):z.appendChild(document.createTextNode(" "+w[D]+" "));return z};x.evalIframeFromValue=function(w,B){if(B.match("\x3ciframe .*\x3e.*\x3c/iframe\x3e|\x3ciframe .*/\x3e")&&(w=document.createElement("div"),w.innerHTML=B,B=w.childNodes[0],B.src&&(w=x.sanitizeLink(B.src)))){var z={};z.src=w;B.width&&
(z.width=B.width);B.height&&(z.height=B.height);B.scrolling&&(z.scrolling=B.scrolling);B.frameborder&&(z.frameborder=B.frameborder);z.allowfullscreen=B.allowfullscreen?B.allowfullscreen:!0;return t.create("iframe",z)}};x.sanitizeLink=function(w){var B=document.createElement("a");B.href=w;if(0<=["http:","https:","file:","ftp:"].indexOf(B.protocol.toLowerCase()))return B.href};x.Table=function(w,B,z,C,y){var D=t.create("table",{id:z}),F={},H=t.create("tr",{},D);for(I in B)t.create("th",{innerHTML:B[I]},
H);B=Object.keys(w);B.sort(function(N,T){return N.toLowerCase().localeCompare(T.toLowerCase())});for(var E=H=0;E<B.length;E++){var I=B[E];var J=t.create("tr",{},D),K=I;y&&(K=w[I].shift());for(var L in w[I]){var O=w[I][L];if(C&&"string"===typeof O){var U=!1;if(U=x.evalUrlFromKey(I,O)){t.create("td",{},J).textContent=K;var S=t.create("td",{},J);S.appendChild(U);H++}else(U=x.evalIframeFromValue(I,O))?F[I]=U:((U=x.evalUrlsFromValue(O))?(t.create("td",{},J).textContent=K,S=t.create("td",{},J),S.appendChild(U)):
(t.create("td",{},J).textContent=K,S=t.create("td",{},J),S.text=O),H++)}else t.create("td",{},J).textContent=K,""!==O&&(t.create("td",{},J).textContent=O),H++}}if(0<Object.keys(F).length){var M=t.create("div",{id:z+"I"});for(E in F)J=t.create("div",{"class":"attrIframeC"},M),J.appendChild(F[E])}this.container=0<H?D:!1;this.containeri=M};x.croundv=function(w){for(var B=[],z=0;z<w.length;z++)B[z]=cround(w[z]);return B};x.ComboButton=function(w,B){var z,C=[1,1];B=B||["icon1"];this.button=t.create("div",
{"class":"comboButton "+(w["class"]||"")});w.icon1&&(this.icon1=t.create("div",{"class":w.icon1+" s1"},this.button));w.icon11&&(this.icon11=t.create("div",{"class":w.icon11+" s1"},this.button));w.text&&(this.textD=t.create("div",{"class":"button_textD"},this.button),this.text=t.create("div",{"class":"button_text"},this.textD),this.text.textContent=w.text);w.text2&&(this.text2=t.create("div",{"class":"button_text2"},this.textD),this.text2.textContent=w.text2);w.text3&&(this.text3=t.create("div",{"class":"button_text3"},
this.textD),this.text3.textContent=w.text3);w.icon2&&(this.icon2=t.create("div",{"class":w.icon2+" right"},this.button));w.key&&(this.key=w.key);this.getState=function(){return C[0]};this.setState=function(y){y instanceof Array||(y=[y]);z=C.slice();C=y;for(y=0;y<C.length;y++)this.setIconState(y)};this.setStateCol=function(y,D){z=C.slice();C[D]=y;this.setIconState(D)};this.setIconState=function(y){m.replace(this[B[y]],"s"+C[y],"s"+z[y])};this.toggleState=function(){this.setState((C[0]+1)%2)};this.getStates=
function(){return C};this.destroy=function(){this.button&&t.destroy(this.button)}};x.RadioGroup=function(w,B){this.listNode=t.create("ul",{"class":B||""});this.buttonList=w;for(B=0;B<w.length;B++)t.create("li",{},this.listNode).appendChild(w[B].button);var z=[-1,-1];this.setActive=function(C){z=C;z instanceof Array||(z=[z]);for(C=0;C<w.length;C++){for(var y=[],D=0;D<z.length;D++)y[D]=z[D]==C?1:0;w[C].setState(y)}};this.setActiveCol=function(C,y){z[y]=C;for(C=0;C<w.length;C++)w[C].setStateCol(z[y]==
C?1:0,y)};this.getActive=function(){return z[0]};this.getActives=function(){return z};this.destroy=function(){this.listNode&&t.destroy(this.listNode)}};x.CheckboxGroup=function(w,B){this.listNode=t.create("ul",{"class":B||""});this.buttonList=w;for(B=0;B<w.length;B++)t.create("li",{},this.listNode).appendChild(w[B].button);this.setState=function(z,C){this.buttonList[z].setState(C)};this.destroy=function(){this.listNode&&t.destroy(this.listNode)}};x.shortenUrl=function(w,B){var z=new XMLHttpRequest;
z.open("POST","https://api-ssl.bitly.com/v4/shorten",!0);z.setRequestHeader("Content-type","application/json");z.setRequestHeader("Authorization","Bearer 023b96abe6bbfeeae9131b7c5cc30eb008fed95a");z.onload=function(){var C=JSON.parse(z.response);B(201==z.status||200==z.status?C.link:!1)};z.onerror=function(){B(!1)};z.ontimeout=function(){B(!1)};z.send(JSON.stringify({long_url:w}))};x._expandBitlyUrl=function(w,B){var z=new XMLHttpRequest;z.open("POST","https://api-ssl.bitly.com/v4/expand",!0);z.setRequestHeader("Content-type",
"application/json");z.setRequestHeader("Authorization","Bearer 023b96abe6bbfeeae9131b7c5cc30eb008fed95a");var C={};C[w.commentid]=!1;z.onload=function(){var y=JSON.parse(z.response);C[w.commentid]=y.long_url;B(C)};z.onerror=function(){B(C)};z.ontimeout=function(){B(C)};params={bitlink_id:w.url.replace(/https?:\/\//,"")};z.send(JSON.stringify(params))};x.expandBitlyURLs=function(w,B){function z(D){a.mixin(C,D);Object.keys(C).length===w.length&&B(C)}for(var C={},y=0;y<w.length;y++)x._expandBitlyUrl(w[y],
z)};x.websceneUrlShort=function(w){x.shortenUrl(x.websceneUrl(),w)};x.fbookto=function(w,B){var z=encodeURI(G.substitute(u.i18n().shareFacebookTxt1,{sceneName:w.sceneName})),C=w.shortUrl||w.longUrlEncoded,y=encodeURI(u.i18n().shareFacebookTxt2);w=encodeURI("http://www.arcgis.com/apps/CEWebViewer/css/ui/ce_webscene_thumbnail_fb.png");B&&B.item&&"public"==B.item.access&&B.item.thumbnail&&(w=encodeURI(x.getAgoThumbnailSrc(B.item)));B="http://www.facebook.com/sharer/sharer.php?s\x3d100\x26p[title]\x3d"+
z+("\x26p[summary]\x3d"+y)+("\x26p[url]\x3d"+C);return B+="\x26p[images][0]\x3d"+w};x.tweetto=function(w){var B=G.substitute(u.i18n().shareTwitterTxt,{sceneName:w.sceneName}),z=140-(w.shortUrl.length+1);B.length+22>z&&(B=B.substr(0,z-3)+"...");return"http://twitter.com/home?status\x3d"+encodeURIComponent(B+""+(w.shortUrl||w.longUrl)+"\n@CityEngine Web Scene")};x.mailto=function(w){var B="mailto:?subject\x3d"+G.substitute(u.i18n().shareEmailSubject,{sceneName:w.sceneName});w=w.shortUrl||w.longUrlEncoded;
B+="\x26body\x3d"+u.i18n().shareEmailTxt1+"%0D%0A"+w;return B+="%0D%0A%0D%0A "+u.i18n().shareEmailTxt2};x.ratingUI=function(w,B){function z(O){for(var U=0;5>U;U++)Math.round(O)>=U+1?m.replace(J[U],"full",""):m.replace(J[U],"","full")}function C(O){B.userIsOwner()?I.innerHTML=u.i18n().ratingOwnMsg:AgolUtils.setRating(B,O).then(function(U){B.refreshItem().then(function(S){y();I.innerHTML=u.i18n().ratingThanks})},function(U){I.innerHTML=u.i18n().ratingFail})}function y(){D=AgolUtils.getRating(B);z(D.avg);
var O="("+D.num+" "+u.i18n().ratings+", ";O+=D.views+" "+u.i18n().views+")";E.innerHTML=O}var D=AgolUtils.getRating(B),F=!1;w=t.create("div",{id:"ratingArea"},w);var H=t.create("ul",{id:"ratingStars"},w);t.create("div",{id:"ratingDetails"},w);var E=t.create("span",{},w),I=t.create("div",{id:"ratingFeedback",innerHTML:"\x26nbsp;"},w);H.onmouseout=function(){z(D.avg)};H.onmouseover=function(){I.innerHTML="\x26nbsp;"};for(var J=[],K=0;5>K;K++){var L=t.create("li",{"class":"ratingStar",value:K+1},H);
J.push(L)}H=new x.SignInTextButton(B," "+u.i18n().ratingHint);w.appendChild(H);(function(){for(var O=0;5>O;O++){var U=J[O];b(U,"mousemove",function(S){F&&z(this.value)});b(U,"click",function(S){F&&C(this.value)})}})();y();f.subscribe("/portal/signedin",function(O){F=!0});f.subscribe("/portal/signedout",function(O){F=!1})};x.getItemDetails=function(w,B){var z={sceneName:void 0,summary:void 0,description:void 0,thumbnailSrc:void 0,moreLink:void 0,tags:void 0,size:void 0,owner:void 0,modifed:void 0};
w.item?(B=w.item,z.sceneName=B.title||u.i18n().unnamedScene,z.summary=B.snippet||u.i18n().detailsNoSummary,z.description=B.description||u.i18n().detailsNoDesc,z.thumbnailSrc=B.thumbnail?AgolUtils.URLs().contentitem+B.id+"/info/"+B.thumbnail:"css/images/web_scene_thumbnail.png",B.thumbnail&&w.cred&&(z.thumbnailSrc+="?token\x3d"+w.cred.token),z.moreLink=AgolUtils.URLs().homeitem+"?id\x3d"+B.id,z.size=B.size||void 0,z.owner=B.owner,z.modified=A.format(new Date(B.modified),{selector:"date",formatLength:"long"})):
(z.sceneName=B.name||u.i18n().unnamedScene,z.summary=B.snippet||u.i18n().detailsNoSummary,z.description=B.description||u.i18n().detailsNoDesc,z.thumbnailSrc=B.thumbnail||"css/images/web_scene_thumbnail.png");return z};x.helpKeyFromBrowserLocale=function(){var w="en";w=(w=navigator.language?navigator.language:navigator.userLanguage)?w.toLowerCase():"en";var B=0>w.search("-")?w:w.substring(0,w.search("-"));w="pt"==B?"pt-br"==w.toLowerCase()?"pt-BR":"pt-PT":"zh"==B?"zh-CN":B;0>"en ar da de es fr it ja ko nl no pl pt-BR pt-PT ro ru sv zh-CN".split(" ").indexOf(w)&&
(w="en");return w};x.URLs=function(){return{ceProduct:"http://www.esri.com/software/cityengine",arcgisOnline:"http://www.arcgis.com/home",arcgisContactUs:"http://www.esri.com/about-esri/contact.html"}};x.updateViewToNewPaneState=function(w,B,z,C){var y=z.offsetWidth;z.style.right=(w?B:0)+"px";w=z.offsetWidth/y;B=C.getViewParams({fovX:!0},!0).fovX;z=C.getCamera();y=vec3.create();var D=vec3.create(),F=vec3.createFrom(0,1,0),H=vec3.create(),E=vec3.create();vec3.subtract(z[1],z[0],y);var I=vec3.length(y);
vec3.cross(F,y,y);vec3.normalize(y);vec3.scale(y,I*Math.tan(.5*B),y);vec3.add(z[1],y,D);vec3.lerp(D,z[0],w,H);vec3.lerp(D,z[1],w,E);w=[H,E];C.setCamera(w[0],w[1],!0)};x.getAgoThumbnailSrc=function(w,B){var z="";z=w.thumbnail?AgolUtils.URLs().contentitem+w.id+"/info/"+w.thumbnail:void 0;B&&(z+="?token\x3d"+B.token);return z};x.dataURItoBlob=function(w,B){B=atob(w.split(",")[1]);w=w.split(",")[0].split(":")[1].split(";")[0];for(var z=new ArrayBuffer(B.length),C=new Uint8Array(z),y=0;y<B.length;y++)C[y]=
B.charCodeAt(y);return new Blob([z],{type:w})};x.forwardMouseEvents=function(w,B,z){return b(w,z,a.hitch(this,function(C){C.preventDefault();C.stopPropagation();var y=document.createEvent("MouseEvent");y.initMouseEvent(z,C.bubbles,C.cancelable,window,C.detail,C.screenX,C.screenY,C.clientX,C.clientY,C.ctrlKey,C.altKey,C.shiftKey,C.metaKey,C.button,C.relatedTarget);C.wheelDelta&&(y.wheelDelta=C.wheelDelta);B.dispatchEvent(y)}),!0)};x.easing=function(w,B,z,C,y){function D(){H?w.style[B]=I(w.style[B],
z,F,C):w[B]=I(w[B],z,F,C);F+=10;var J=2>Math.abs(Math.abs(z)-Math.abs(H?w.style[B]:w[B]));F<=C&&!J&&(E=setTimeout(function(){E=void 0;D()},10))}var F=0,H=y||w.style[B],E,I=function(J,K,L,O){return J+(K-J)*(1-Math.pow(1-L/O,1.5))};this.play=function(){this.cancel();D()};this.cancel=function(){E&&clearTimeout(E)}};x.TextButton=function(w,B,z,C){w=t.create("div",{id:w,"class":"textButton",innerHTML:B},C);z&&(w.onclick=z);return w};x.SignInTextButton=function(w,B){var z=t.create("div",{}),C=t.create("span",
{"class":"signInButton textButton",innerHTML:u.i18n().signIn},z);t.create("span",{"class":"signInText",innerHTML:B},z);C.onclick=function(){w.signIn()};f.subscribe("/portal/signedin",function(y){x.hide(z)});f.subscribe("/portal/signedout",function(y){x.show(z)});return z};x.spinner=function(w,B,z){return t.create("span",{"class":"spinner "+(B?B:""),id:z},w)};x.startsWith=function(w,B){return 0===w.lastIndexOf(B,0)};x.endsWith=function(w,B){return w.length>=B.length&&w.substr(w.length-B.length)==B};
x.fadeIn=function(w){m.add(w,"navFadeIn");m.remove(w,"navFadeOut")};x.fadeOut=function(w){m.add(w,"navFadeOut");m.remove(w,"navFadeIn")};x.autoHide=function(w,B,z,C){function y(){D();O=setTimeout(function(){O=void 0;H()},M?2500:100)}function D(){O&&(clearTimeout(O),O=void 0)}function F(){D();C&&C();w.forEach(function(N,T){n.byId(N)?x.fadeIn(N):0<e("."+N).length&&e("."+N).forEach(function(V){x.fadeIn(V)})});nodesOriginalOpacity=[]}function H(){D();z&&z();w.forEach(function(N){n.byId(N)?x.fadeOut(N):
0<e("."+N).length&&e("."+N).forEach(function(T){x.fadeOut(T)})})}function E(N){var T=S-N.clientY;if(0!=U-N.clientX||0!=T||"mousedown"===N.type){U=N.clientX;S=N.clientY;var V=document.elementFromPoint(U,S),ea=!1;(M=V&&(V.id==B.id||1==e(V).parents("#"+B.id).length))&&F();!L&&V&&w.forEach(function(P){ea=ea||V.id==P||m.contains(V,"navFadeIn")||m.contains(V,"navFadeOut")||0<e(V).parents(".navFadeOut").length||0<e(V).parents(".navFadeIn").length});ea||y()}}function I(N){null==N.toElement&&null==N.relatedTarget&&
(M=!1,y())}function J(N){F();y()}w=w||[];var K=/Firefox/i.test(navigator.userAgent),L=v.DetectMobileBrowser(),O,U=-100,S=-100,M=!1;return{start:function(){this.stop();c.doc.addEventListener("mousedown",E);c.doc.addEventListener("mousemove",E);c.doc.addEventListener("mouseout",I);B.addEventListener(K?"DOMMouseScroll":"mousewheel",J)},stop:function(){c.doc.removeEventListener("mousedown",E);c.doc.removeEventListener("mousemove",E);c.doc.removeEventListener("mouseout",I);B.removeEventListener(K?"DOMMouseScroll":
"mousewheel",J);F()},forceHide:function(){H()},show:function(){F()}}};x.toggleFullScreen=function(w){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():w.requestFullscreen?w.requestFullscreen():w.mozRequestFullScreen?w.mozRequestFullScreen():w.webkitRequestFullscreen&&w.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)};
x.isFullScreenEnabled=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled?!0:!1};x.setWindowTitle=function(w){document.title=null==w||"string"!==typeof w?u.i18n().title:u.i18n().title+" - "+w}})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(G,A,a){var m=G.NodeList;A.extend(m,{_buildArrayFromCallback:function(p){for(var t=[],n=0;n<this.length;n++){var h=p.call(this[n],
this[n],t);h&&(t=t.concat(h))}return t},_getUniqueAsNodeList:function(p){for(var t=[],n=0,h;h=p[n];n++)1==h.nodeType&&-1==a.indexOf(t,h)&&t.push(h);return this._wrap(t,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(p,t){p=this._getUniqueAsNodeList(p);p=t?G._filterResult(p,t):p;return p._stash(this)},_getRelatedUniqueNodes:function(p,t){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(t),p)},children:function(p){return this._getRelatedUniqueNodes(p,function(t,
n){return A._toArray(t.childNodes)})},closest:function(p,t){return this._getRelatedUniqueNodes(null,function(n,h){do if(G._filterResult([n],p,t).length)return n;while(n!=t&&(n=n.parentNode)&&1==n.nodeType);return null})},parent:function(p){return this._getRelatedUniqueNodes(p,function(t,n){return t.parentNode})},parents:function(p){return this._getRelatedUniqueNodes(p,function(t,n){for(n=[];t.parentNode;)t=t.parentNode,n.push(t);return n})},siblings:function(p){return this._getRelatedUniqueNodes(p,
function(t,n){n=[];for(var h=t.parentNode&&t.parentNode.childNodes,c=0;c<h.length;c++)h[c]!=t&&n.push(h[c]);return n})},next:function(p){return this._getRelatedUniqueNodes(p,function(t,n){for(t=t.nextSibling;t&&1!=t.nodeType;)t=t.nextSibling;return t})},nextAll:function(p){return this._getRelatedUniqueNodes(p,function(t,n){for(n=[];t=t.nextSibling;)1==t.nodeType&&n.push(t);return n})},prev:function(p){return this._getRelatedUniqueNodes(p,function(t,n){for(t=t.previousSibling;t&&1!=t.nodeType;)t=t.previousSibling;
return t})},prevAll:function(p){return this._getRelatedUniqueNodes(p,function(t,n){for(n=[];t=t.previousSibling;)1==t.nodeType&&n.push(t);return n})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(p,t){return 0!=t%2})},odd:function(){return this.filter(function(p,t){return 0==t%2})}});return m})},"ceviewer/ui/components/Slider":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/dom-construct dojo/on engine/lib/Util".split(" "),
function(G,A,a,m,p,t){function n(h){h.stopPropagation();var c=h.changedTouches[0],b="";if(!(1<h.touches.length)){switch(h.type){case "touchstart":b="mousedown";break;case "touchmove":b="mousemove";break;case "touchend":b="mouseup";var e=document.createEvent("MouseEvent");e.initMouseEvent("click",!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);c.target.dispatchEvent(e);h.preventDefault();break;default:return}e=document.createEvent("MouseEvent");e.initMouseEvent(b,!0,!0,window,
1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);c.target.dispatchEvent(e);h.preventDefault()}}return G(null,{constructor:function(h,c,b,e,f,k){function u(J,K){B=Math.min(Math.max(J,.001),.999);E.style[x]=b[q]*B-E[q]/2+"px";D&&(I.innerHTML=this.getInRange());K||c(B,cround(B*(y-C)+C))}var v=e?"pageY":"pageX",g=e?"height":"width",q=e?"offsetHeight":"offsetWidth",x=e?"top":"left",w=e?-1:1,B=f||.35,z=0,C=0,y=1,D=k,F=m.create("div",{style:"position:relative;",id:h},b);this.container=F;var H=
m.create("div",{style:"position:absolute;","class":"bar"},F);p(H,a("mozilla")?"DOMMouseScroll":"mousewheel",function(J){J.stopPropagation();J=a("mozilla")?-60*J.detail:J.wheelDelta;u((b[q]*B+J/(12*w))/b[q])});p(H,"click",A.hitch(this,function(J){J.preventDefault();u((J[v]-b.getBoundingClientRect()[x])/b[q]);J.stopPropagation()}));var E=m.create("div",{style:"position:relative;","class":"handle"},F),I=m.create("div",{"class":"handleT",innerHTML:""},E);UIUtils.hide(I);p(F,"mouseover",A.hitch(this,function(J){D&&
UIUtils.show(I)}));p(F,"mouseout",A.hitch(this,function(J){D&&UIUtils.hide(I)}));document.addEventListener("touchmove",n,!0);E.addEventListener("touchstart",n,!0);E.addEventListener("touchend",n,!0);E.addEventListener("touchcancel",n,!0);p(E,"mousedown",A.hitch(this,function(J){J.preventDefault();1==J.which&&(z=1)}));p(document,"mousemove",A.hitch(this,function(J){1==z&&(J.preventDefault(),u((J[v]-b.getBoundingClientRect()[x])/b[q]))}));p(document,"mouseup",A.hitch(this,function(J){1==z&&(J.preventDefault(),
z=0)}));p(window,"resize",function(){u(B,!0)});u(B,!0);this.labelCallback=function(J){};this.setRange=function(J,K){C=J;y=K};this.getInRange=function(){return cround(B*(y-C)+C)};this.get=function(){return B};this.set=function(J,K){0===z&&u(J,K)};this.setInRange=function(J,K){this.set((J-C)/(y-C))};this.getHandle=function(){return E};this.getBar=function(){return H};this.resize=function(){F.style[g]=b[q]+"px";H.style[g]=b[q]+"px";u(B)};UIUtils.forwardMouseEvents(E,H,a("mozilla")?"DOMMouseScroll":"mousewheel")}})})},
"ceviewer/utils/WebViewerUtils":function(){define(["arcgis3d/layers/LayerGroup"],function(G){var A={isLayerVisible:function(a,m){return 0<=a.getViewContent().indexOf(m)},isObjectVisible:function(a,m,p){m=A.getLayer(m.getLayers(),p);return A.isLayerVisible(a,m.getId())},evalLocal:function(){var a=parseFloat(document.location.hostname);return{host:"localhost"==document.location.hostname?"local":10<=a&&11>a||172.16<=a&&172.32>a||192.168<=a&&192.169>a?"local":"remote"}},GetListFromMapVisibility:function(a,
m){var p=[],t;for(t in a){var n=0,h=a[t];if(!(m&&0<=m.indexOf(h.id))){p.push(h.visible?1:0);for(var c in h.layers)h.visible?p.push(h.layers[c].visible?1:0):p.push(h._savedLayerVisibility[n]?1:0),n++}}return p},SetMapVisibilityFromList:function(a,m){a=a.getLayerGroups();var p=0,t;for(t in a){var n=a[t],h=!!m[p++];if(n.groupType==G.TYPE_NONE||n.groupType==G.TYPE_COMPACT)n.setVisibility(h),p+=n.layers.length;else{for(var c in n.layers)n.layers[c].setVisibility(!!m[p++]);n.setVisibility(h)}if(p==m.length)break}},
DetectMobileBrowser:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent)},ParseURL:function(a){var m=document.createElement("a");m.href=a;for(var p=m.protocol.replace(":",""),t=m.hostname,n=m.port,h=m.search,c={},b=m.search.replace(/^\?/,"").split("\x26"),e=b.length,f=0,k;f<e;f++)b[f]&&(k=b[f].split("\x3d"),c[k[0]]=k[1]);return{source:a,protocol:p,host:t,port:n,query:h,params:c,file:(m.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:m.hash.replace("#",
""),path:m.pathname.replace(/^([^\/])/,"/$1"),relative:(m.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:m.pathname.replace(/^\//,"").split("/")}},GetLessQualifiedDomain:function(){var a=document.domain.split(".");return a[a.length-2]+"."+a[a.length-1]}};return A})},"ceviewer/ui/Layers":function(){define("dojo/_base/declare dojo/_base/lang dojo/Evented dojo/aspect dojo/dom-class dojo/dom-construct dojo/mouse dojo/on dojo/topic ../3ws/3wsLayer ../utils/UIUtils ./components/Slider arcgis3d/layers/LayerGroup ceviewer/utils/LocalizationHelper ceviewer/utils/WebViewerUtils".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v){var g=G([a],{constructor:function(w){this.group=w;this.children=this._uiGroupList=void 0;var B={icon1:"icon_visible",icon2:"icon_frame",text:w.title,"class":"layerButton"};this.listItem=t.create("li",{"class":"layerGroup"});var z=new UIUtils.ComboButton(B);this.listItem.appendChild(z.button);this.b=z;this._dojoOnHandles=[h(w,"visibilityChange",function(F){z.setState(F.visible?1:0);F.visible?(y(),p.replace(this.listItem,"","off")):(C(),p.replace(this.listItem,
"off",""))}.bind(this)),h(w,"layerVisibilityChange",function(F){var H=F.idx;F=F.visible;if(w.groupType==k.TYPE_RADIO)for(var E=0;E<F.length;E++)1==F[E]&&this._uiGroupList.setActive(H[E]);else for(E=0;E<F.length;E++)this._uiGroupList&&this._uiGroupList.setState(H[E],F[E]?1:0)}.bind(this)),h(z.icon1,"click",function(F){F.stopPropagation();z.getState()?w.setVisibility(!1):w.setVisibility(!0)}),h(z.icon2,"click",function(F){F.stopPropagation();this.emit("frameClick",{layers:this.getVisibleLayers()})}.bind(this)),
h(this.listItem,"click",function(F){F.stopPropagation();this.emit("highlightClick",{layers:this.getVisibleLayers()})}.bind(this))];var C=function(){z.icon2.style.display="none";this.group.groupType==k.TYPE_RADIO&&(this.dualViewButton.style.display="none")}.bind(this),y=function(){this.getState()&&(z.icon2.style.display="block",this.group.groupType==k.TYPE_RADIO&&(this.dualViewButton.style.display="block"))}.bind(this);this._dojoOnHandles.push(h(this.listItem,n.enter,y));this._dojoOnHandles.push(h(this.listItem,
n.leave,C));if(w.groupType==k.TYPE_RADIO){this._uiGroupList=this._setUpGroupLayerButtons(w);B=t.create("div",{className:"subLayerGroup"});B.appendChild(this._uiGroupList.listNode);this.dualViewButton=t.create("div",{"class":"icon_dualview right"},B);var D=h(this.dualViewButton,"click",function(F){F.stopPropagation();this.emit("dualViewClick",{groupName:this.displayName,radioGroup:this._uiGroupList})}.bind(this));this._dojoOnHandles.push(D);this.listItem.appendChild(B)}else w.groupType==k.TYPE_CHECKBOX&&
(this._uiGroupList=this._setUpGroupLayerButtons(w),B=t.create("div",{className:"subLayerGroup"}),B.appendChild(this._uiGroupList.listNode),this.listItem.appendChild(B));z.setState(w.visible?1:0);w.visible?p.replace(this.listItem,"","off"):p.replace(this.listItem,"off","");C()},getState:function(){return this.b.getState()},setState:function(w){this.b.setState(w)},getVisibleLayers:function(){return this.group.getVisibleLayers()},destroy:function(){for(var w=0;w<this._dojoOnHandles.length;w++)this._dojoOnHandles[w].remove(),
this._dojoOnHandles[w]=void 0;this._dojoOnHandles.length=0;this._uiGroupList&&(this._uiGroupList.destroy(),this._uiGroupList=void 0);this.group=void 0;this.b.destroy();this.b=void 0;t.destroy(this.listItem);this.listItem=void 0},_setUpGroupLayerButtons:function(w){var B=this._dojoOnHandles;this.children=[];if(w.groupType!=k.TYPE_COMPACT){if(w.groupType==k.TYPE_RADIO){var z=function(F,H){var E=new UIUtils.ComboButton({icon1:"icon_radio",text:F.name,"class":"subLayerButton"});B.push(h(E.icon1,"click",
function(I){I.stopPropagation();H.visible&&H.setLayerActive(F,!0)}));return E},C=-1,y=w.getActiveLayers();null!=y&&0<y.length&&(C=w.layers.indexOf(y[0]));for(var D in w.layers)y=w.layers[D],-1==C&&y.visible&&(C=D),y=z(y,w),this.children.push(y);w=new UIUtils.RadioGroup(this.children,"");w.setActive(C);return w}if(w.groupType==k.TYPE_CHECKBOX){z=function(F,H){var E=new UIUtils.ComboButton({icon1:"icon_check",text:F.name,"class":"subLayerButton"});B.push(h(E.icon1,"click",function(I){I.stopPropagation();
H.visible&&(I=1>E.getState(),H.setLayerActive(F,I))}));return E};C=-1;for(D in w.layers)y=w.layers[D],C=z(y,w),C.setState(y.visible?1:0),this.children.push(C);return new UIUtils.CheckboxGroup(this.children,"")}}}}),q=G(null,{constructor:function(w,B){this.map=B;this.node=t.create("ul",{id:"layerList"},w);this.list=[];this.switchToDual=function(z,C){};h(B,"groupAdded",function(z){this.addGroupToToc(z.group)}.bind(this));h(B,"groupRemoved",function(z){this.removeGroupFromToc(z.group)}.bind(this))},
addGroupToToc:function(w,B){if(w.groupType!=k.TYPE_HIDDEN){var z=this.map,C=new g(w);B&&0<B&&B<this.list.length?(this.list.splice(B,0,C),t.place(C.listItem,this.node,B)):(this.list.push(C),t.place(C.listItem,this.node));B=function(y,D){return function(){if(D){var F=y.list.indexOf(D);0>F&&console.warn("this shouldn't happen, fixme");y.list.splice(F,1);D.destroy();D=void 0;y.addGroupToToc(w,F)}else console.warn("this shouldn't happen - fixme")}}(this,C);C.setState(w.visible?1:0);w.type!=k.COMPACT&&
w.type!=k.HIDDEN&&C._dojoOnHandles.concat([h.once(w,"layerAdded, layerRemoved",B)]);C._dojoOnHandles.concat([h(C,"frameClick",function(y){C.getState()&&(1===y.layers.length&&y.layers[0].fullExtent?z.setExtent(y.layers[0].fullExtent):z.frame(y.layers))}),h(C,"highlightClick",function(y){C.getState()&&z.highlight(y.layers,!0)}),h(C,"dualViewClick",function(y){C.getState()&&this.switchToDual(w,y.radioGroup)}.bind(this))])}},removeGroupFromToc:function(w){for(var B,z=0;z<this.list.length;z++)if(this.list[z].group===
w){B=this.list[z];break}B&&(this.list.splice(z,1),B.destroy(),B=void 0)},update:function(w){this.list.forEach(function(z){z.destroy()}.bind(this));this.list.length=0;for(var B in w)this.addGroupToToc(w[B])}}),x=G(null,{constructor:function(w,B,z){function C(L){B.setViewParams({centerLinePos:L})}var y=this;this._toclayers;var D=1;this.node=t.create("div",{id:"proposalList"},w);UIUtils.hide(this.node);var F=new f("splitviewSlider",C,B.getContainer(),!1,.5,!1);t.create("div",{"class":"line"},F.getHandle());
var H=t.create("div",{"class":"close"},F.getHandle());h(H,"click",A.hitch(this,function(){this.leave()}));UIUtils.hide(F.container);var E=t.create("div",{id:"sidebysideLineContainer"},B.getContainer()),I=t.create("div",{"class":"line"},E);H=t.create("div",{"class":"close"},E);h(H,"click",A.hitch(this,function(){this.leave()}));h(H,n.enter,function(){p.add(I,"over")});h(H,n.leave,function(){p.remove(I,"over")});UIUtils.hide(E);var J=t.create("div",{id:"topdownLineContainer"},B.getContainer()),K=t.create("div",
{"class":"line"},J);H=t.create("div",{"class":"close"},J);h(H,"click",A.hitch(this,function(){this.leave()}));h(H,n.enter,function(){p.add(K,"over")});h(H,n.leave,function(){p.remove(K,"over")});UIUtils.hide(J);this.enter=function(L,O){function U(pa,ka){p.replace(Q.button,"","act");p.replace(Y.button,"","act");p.replace(ja.button,"","act");1!=pa||!ka&&1==D?2!=pa||!ka&&2==D?3!=pa||!ka&&3==D||(D=3,pa=B.getViewContent(0),ka=B.getViewContent(1),z.setViewMode(3),B.setViewContent(pa,0),B.setViewContent(ka,
1),UIUtils.hide(F.container),UIUtils.hide(E),UIUtils.show(J),p.add(ja.button,"act")):(D=2,pa=B.getViewContent(0),ka=B.getViewContent(1),z.setViewMode(2),B.setViewContent(pa,0),B.setViewContent(ka,1),UIUtils.hide(F.container),UIUtils.hide(J),UIUtils.show(E),p.add(Y.button,"act")):(D=1,pa=B.getViewContent(0),ka=B.getViewContent(1),z.setViewMode(1),B.setViewContent(pa,0),B.setViewContent(ka,1),C(F.get()),UIUtils.show(F.container),y.resetIfHidden(),UIUtils.hide(E),UIUtils.hide(J),p.add(Q.button,"act"))}
function S(pa,ka,va){ka=new UIUtils.ComboButton({icon1:"icon_radio",icon11:"icon_radio",text:ka,"class":"subLayerButton",key:va},["icon1","icon11"]);h(ka.icon1,"click",function(){M(pa,0)});h(ka.icon11,"click",function(){M(pa,1)});this.button=ka}function M(pa,ka){la.setActiveCol(pa,ka);0==ka?L.setLayerActive(L.layers[pa],!0):N(L.layers[pa].id)}function N(pa){var ka=B.getViewContent(),va=ka.indexOf(L.getActiveLayers()[0].id);ka.splice(va,1,pa);B.setViewContent(ka,1)}var T=L.name;UIUtils.show(F.container);
F.resize();this._grouplayers=L.layers;var V=[],ea=0,P;for(P in O.buttonList){var ba=new S(ea,O.buttonList[P].text.innerHTML,O.buttonList[P].key);V.push(ba.button);ea++}var la=new UIUtils.RadioGroup(V,"subLayerGroup");for(V=0;V<this._grouplayers.length;V++)h(this._grouplayers[V],"visibilityChange",function(pa){return function(ka){ka.visible&&la.setActiveCol(pa,0)}}(V));V=1==O.getActive()?0:1;la.setActive([O.getActive(),V]);w.removeChild(this.node);this.node=t.create("div",{id:"proposalList"},w);O=
t.create("div",{id:"buttonsDiv"},this.node);var Q=new UIUtils.ComboButton({icon1:"icon_dualview_swipemode"});h(Q.button,"click",function(){U(1)});var Y=new UIUtils.ComboButton({icon1:"icon_dualview_sidebysidemode"});h(Y.button,"click",function(){U(2)});var ja=new UIUtils.ComboButton({icon1:"icon_dualview_topdownmode"});h(ja.button,"click",function(){U(3)});T=new UIUtils.ComboButton({text:T,"class":"layerButton"});O.appendChild(Q.button);O.appendChild(Y.button);O.appendChild(ja.button);this.node.appendChild(T.button);
this.node.appendChild(la.listNode);T=t.create("div",{id:"dualview_foot"},this.node);T=t.create("button",{"class":"dualview_closebutton",innerHTML:u.i18n().exitComparisonMode},T);h(T,"click",this.leave);T=B.getViewContent(0);z.setViewMode(1);B.setViewContent(T,0);(function(){for(var pa=L.getActiveLayers()[0],ka,va=0;va<L.layers.length;va++)if(pa!==L.layers[va]){ka=L.layers[va].id;break}N(ka);la.setActiveCol(va,1);B.setViewParams({centerLinePos:F.get()})})(L);U(D,!0)};this.resetIfHidden=function(){var L=
document.width;parseInt(F.getHandle().style.left)>L-350-45&&F.set(.5)};this.leave=function(){UIUtils.hide(F.container);UIUtils.hide(E);UIUtils.hide(J)}}});return G(null,{constructor:function(w,B){var z=B.viewport._stage,C=new q(w,B);m.after(C,"switchToDual",function(D,F){var H=D.getActiveLayers()[0],E=H.renderer.getEngineLayer().getObjectIds();B.frustumContainsObjects(E,!1)||B.frame(H,1);UIUtils.hide(C.node);y.enter(D,F);UIUtils.show(y.node)},!0);var y=new x(w,z,B);c.subscribe("/menu/show",y.resetIfHidden);
m.after(y,"leave",function(){var D=z.getViewContent(0);B.setViewMode(0);z.setViewContent(D,0);UIUtils.hide(y.node);UIUtils.show(C.node)},!0);this._layerList=C;this.update(B.getLayerGroups())},update:function(w){this._layerList.update(w)}})})},"ceviewer/3ws/3wsLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/string dojo/Deferred dojo/Evented ./JSON2Model ./JSON2Model2 ./JSONGet ./JSONParse ../utils/LocalizationHelper arcgis3d/layers/LayerGroup esri/SpatialReference".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k){function u(x){var w="Objects: "+Object.keys(x.objects).length;w+=", Materials: "+Object.keys(x.materials).length;var B=x.textures?Object.keys(x.textures).length:0;w=w+(", Textures: "+B)+(", Geometries: "+Object.keys(x.geometries).length);return w+=", Layers: "+Object.keys(x.layers).length}function v(x){var w="";x.metadata&&x.metadata.generatedBy&&(w=x.metadata.generatedBy);return w}var g=e.i18n(),q=function(x,w,B){"progress"!=x&&console.log("["+x+"] - "+w+(B||""))};
return G([t],{constructor:function(x,w){this._url=x;this.id="3wsLayer_";this.name="loading...";this._engineLayers=void 0;this.initialCamera;this.bookmarks;this.loaded=!1;w=w||{};this._progressCallback=w.progressCallback||q;this._load(x,w)},_load:function(x,w){if(!this.loaded&&!this._loading){this._loading=!0;var B=w.configuration||{},z=w.localFile,C=w.sceneSize,y=Date.now();w=function(F){this._json=F;this._textureCount=null==F.textures?0:Object.keys(F.textures).length;this._progressCallback("log",
m.substitute(g.dataLoadedTime,{seconds:Math.ceil((Date.now()-y)/1E3)}));this._metadata=this._getVersionFixedMetadata(F);this.id+=this._metadata.name;this.name=this._metadata.name;this.loaded=!0;this._loading=!1;setTimeout(function(){this.emit("load",{layer:this,metadata:this._metadata})}.bind(this),10)}.bind(this);var D=function(F,H,E,I){"download"==F?(H=cround(E/1024/1024),I=(I=I?I:C)?cround(I/1024/1024):void 0,this._progressCallback(F,g.downloading+":",[H,I])):"parse"==F?(H=cround(E/1024/1024),
I=cround(I/1024/1024),this._progressCallback(F,g.reading+":",[H,I])):"success"!=F&&this._progressCallback(F,H,E)}.bind(this);z&&"object"==typeof z?b.parseArrayBuffer(x,z,!0,!0,D,w):c.jsonGet(x,w,D,B&&B.load||{},C)}},getEngineLayers:function(){return this._engineLayers},_getVersionFixedMetadata:function(x){if(!x.metadata)return{};if(1==x.metadata.formatVersion){var w=x.metadata.custom.extent;var B="Meter"==x.metadata.custom.scs.auth?new k({wkt:'PROJCS["CE_RAWDATA_METER"],UNIT["METER",1.0]]'}):"Feet"==
x.metadata.custom.scs.auth?new k({wkt:'PROJCS["CE_RAWDATA_FEET"],UNIT["Foot",'+x.metadata.custom.scs.unitToMeter+"]]"}):new k({wkid:x.metadata.custom.scs.auth});return metadata={version:1,generatedBy:x.metadata.generatedBy,name:x.metadata.custom.sceneName,spatialReference:B,extent:x.metadata.custom.renderExtent,extentLatLon:[[w[0][1],w[0][0]],[w[1][1],w[1][0]]],initialCamera:x.defaults&&x.defaults.camera,displayOffset:x.metadata.custom.displayOffset,snippet:x.metadata.custom.snippet,description:x.metadata.custom.description,
thumbnailSrc:x.metadata.custom.thumbnailSrc}}return x.metadata.version?(x.metadata.spatialReference=new k({wkid:x.metadata.spatialReference.wkid}),x.metadata):{version:x.metadata.version||x.metadata.formatVersion,spatialReference:{wkid:void 0}}},add3wsToMap:function(x){var w=new p;this._map=x;this._stage=x._stage;x._mapConfig.isGlobe||x.viewport.coordinateSystemHelper.setEngineMode("legacyFishtank");if(this.loaded)this._addThisLayerToStage(w);else a.once(this,"load",function(){this._addThisLayerToStage(w)}.bind(this));
return w},remove3wsFromMap:function(x){this._removeThisLayerFromStage();this._map=this._stage=null},_addThisLayerToStage:function(x){var w=function(){var B=this._json;this._progressCallback("info",g.initializing);this._progressCallback("progress",0,4);var z=function(D){this._progressCallback("progress",2,4);setTimeout(function(){this._json=B=void 0;this._progressCallback("progress",3,4);x.resolve({content:D})}.bind(this),0)}.bind(this),C=function(D,F,H,E,I){D={bookmarks:F,initialCamera:H,layers:E,
lights:I,layerGroups:null};F=[];H=Object.keys(E);for(var J in E)if(-1!=H.indexOf(J)){H.splice(H.indexOf(J),1);var K=E[J];I=K.renderer.getEngineLayer().getGroup();if(""===I)I="BACKDROP"===K.renderer.getEngineLayer().getState()?f.TYPE_HIDDEN:f.TYPE_NONE,I=new f(K.name,[K],I),this._map.addLayerGroup(I),F.push(I),"HIDDEN"===K.renderer.getEngineLayer().getState()&&I.setVisibility(!1);else{var L=[K];K=[];for(var O=0;O<H.length;O++)E[H[O]].renderer.getEngineLayer().getGroup()===I?L.push(E[H[O]]):K.push(H[O]);
H=!1;for(O=0;O<L.length;O++)"HIDDEN"===L[O].renderer.getEngineLayer().getState()&&L[O].setVisibility(!1),H=H||L[O].visible;H||L[0].setVisibility(!0);I=new f(I,L,f.TYPE_RADIO);I.setVisibility(H);this._map.addLayerGroup(I);F.push(I);H=K}}D.layerGroups=F;A.mixin(this,D);z(D)}.bind(this);if(1==this._metadata.version)this._progressCallback("log",u(B)),this._progressCallback("log",g.detected3wsVersion+": 1.0","("+v(B)+")"),n.json2model(B,this._stage,function(D,F){"OK"===D?C(F.layers,F.bookmarks,F.initialCamera,
F.mapLayers,F.lights):(this._progressCallback("error",g.wsDataInvalid,F.exception.toString()),x.reject())}.bind(this));else if("number"==typeof this._metadata.version&&3>this._metadata.version)this._progressCallback("log",u(B)),this._progressCallback("log",g.detected3wsVersion+": "+this._metadata.version.toFixed(1),"("+v(B)+")"),h.json2model2(B,this._stage,function(D,F){"OK"===D?C(F.layers,F.bookmarks,F.initialCamera,F.mapLayers,F.lights):(this._progressCallback("error",g.wsDataInvalid,F.exception.toString()),
x.reject())}.bind(this));else{var y=this._metadata.version||this._metadata.formatVersion||"";"number"===typeof y&&(y=y.toFixed(1));this._progressCallback("error",g.unsupported3wsVersion+" "+y);x.reject()}}.bind(this);if(this.loaded)w();else this.on("loaded",function(){w()}.bind(this));return x},_removeThisLayerFromStage:function(){console.warn("remove 3ws from stage is not yet implemented")},setVisibility:function(x,w){if(this._stage){null!=w&&w.length||(w=Object.keys(this._engineLayers));for(var B=
this._stage.getViewContent(),z=0;z<w.length;z++){var C=B.indexOf(w[z]);x&&0<=C||!x&&0>C||(x?B.push(w[z]):B.splice(C,1))}this._stage.setViewContent(B)}},setVisible:function(x){this.setVisibility(x)},frame:function(x,w){if(!w||0>=w.length){w=Object.keys(this._engineLayers);if(0==w.length){console.error("can not frame an empty 3ws layer");return}w=w[w.length-1]}this._stage.frame(this._engineLayers[w],x)},getTextureCount:function(){if(!this.loaded)throw Error("3ws needs to be loaded before querying its properties");
return this._textureCount}})})},"ceviewer/3ws/JSON2Model":function(){define("require engine/Stage engine/lib/Base64 engine/lib/Geometry engine/lib/GeometryUtil engine/lib/gl-matrix engine/lib/Layer engine/lib/Light engine/lib/Object3D engine/lib/Texture engine/lib/Util engine/materials/Material engine/materials/LeafCardMaterial engine/materials/WaterMaterial ./Mesh3DLayer".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v){var g=A.ModelContentType,q=function(C,y,D,F){var H=[{},{},{}],E={},I={0:{key:"__water",
params:{}},1:{key:"__waterquiet",params:{scale:.2,speed:.5}},2:{key:"__waterstormy",params:{scale:1.5,speed:3}}};for(S in C){var J=C[S],K=-1;0<S.search(I[2].key)?K=2:0<S.search(I[1].key)?K=1:0<S.search(I[0].key)&&(K=0);if(-1<K)for(var L=J.materials,O=0,U=L.length;O<U;++O){var S=L[O];void 0===H[K][S]&&(H[K][S]=[]);H[K][S].push([L,O])}if(fallbackIfUndefined(J.polygonOffset,!1))for(K=0,U=J.materials.length;K<U;++K)E[J.materials[K]]=void 0}for(var M in H)for(S in U=I[M].params,J=H[M],J){K=S+"__waterauto_t"+
M;L=y[S];L.parameters.color&&(U.color=L.parameters.color);L={parameters:U,type:"water"};y[K]=L;for(var N in J[S])0<J[S][N][2]&&(L.parameters.speed=I[J[S][N][2]].params.speed,L.parameters.scale=I[J[S][N][2]].params.scale),J[S][N][0][J[S][N][1]]=K}for(S in E)y[S].parameters.polygonOffset=!0;for(S in y)if(H=y[S].parameters,void 0!==H.color&&(H.ambient=H.color),0<S.search(I[0].key)&&(0<S.search("__waterparams_")&&0>S.search("__waterauto_t")&&(M=S.substr(S.search("__waterparams_")+14).split("_"),2<=M.length&&
(H.scale=isNaN(parseFloat(M[0]))?void 0:parseFloat(M[0]/10),H.speed=isNaN(parseFloat(M[1]))?void 0:parseFloat(M[1]/10))),y[S].type="water",16777215==y[S].parameters.color&&(y[S].parameters.color=void 0)),0<S.search("__leafcard")&&(y[S].type="billboardExtended"),"lambert"==y[S].type||"phong"==y[S].type)y[S].type="standard";E={};H={};for(S in y)M=y[S].parameters,M=y[S].type+"#"+M.map+"#"+M.transparency+"##"+M.ambient+"#"+M.color+"#"+M.specular+"#"+M.shininess+"#"+M.reflectivity+"#"+M.polygonOffset+
"#"+M.speed+"#"+M.scale,N=E[M],void 0!==N?(H[S]=N,delete y[S]):(H[S]=S,E[M]=S);for(S in C)for(y=C[S].materials,K=0,U=y.length;K<U;++K)y[K]=H[y[K]];for(S in D)C=D[S],C.fov||(C.fov=54);for(var T in F)for(D=F[T],K=2;0<=K;K--)if(0<T.search(I[K].key)){D.name=T.replace(I[K].key,"");break}for(T in F)D=F[T],0===T.indexOf("Panorama")&&(D.interaction="IGNORED")},x=function(C,y){var D={},F;for(F in C){var H=C[F];if("sphere"==H.type)D[F]=new Geometry(createSphereGeometry(100),F);else{var E=y[H.id];H="string"===
typeof E.faces?Base64Binary.decodeInt32(E.faces):E.faces;var I="string"===typeof E.vertices?Base64Binary.decodeFloat32(E.vertices):E.vertices,J="string"===typeof E.normals?Base64Binary.decodeFloat32(E.normals):E.normals;E="string"===typeof E.uvs[0]?Base64Binary.decodeFloat32(E.uvs[0]):E.uvs[0];for(var K=1;K<E.length;K+=2)E[K]=-E[K];K=H.length;for(var L=0,O=0;O<K;){var U=H[O];assert(!(U&1),"only triangles are supported");assert(U&2,"face must have a material");assert(!(U&4),"face must not have face uvs");
assert(!(U&16),"face must not have face normal");assert(U&32,"face must have vertex normals");assert(!(U&64),"face must not have face color");assert(!(U&128),"face must not have vertex colors");assert(42==U||34==U,"invalid bitmask");L=Math.max(L,H[O+4]+1);O+=42==U?11:8}assert(O===K,"length does not match");var S=Array(L);for(O=0;O<L;++O)S[O]={count:0,hasUV:!1};for(O=0;O<K;){U=H[O];var M=U&8;U=S[H[O+4]];++U.count;U.hasUV|=M;O+=M?11:8}M=Array(L);for(O=0;O<L;++O){M[O]={type:"triangle",positionKey:VertexAttrConstants.POSITION};
var N={};U=S[O];N[VertexAttrConstants.POSITION]=new Uint32Array(3*U.count);N[VertexAttrConstants.NORMAL]=new Uint32Array(3*U.count);U.hasUV&&(N[VertexAttrConstants.UV0]=new Uint32Array(3*U.count));M[O].indices=N}S=Array(L);for(O=0;O<L;++O)S[O]=0;for(O=0;O<K;){U=H[O];L=H[O+4];var T=3*S[L];N=M[L].indices[VertexAttrConstants.POSITION];N[T]=H[O+1];N[T+1]=H[O+2];N[T+2]=H[O+3];42===U?(N=M[L].indices[VertexAttrConstants.NORMAL],N[T]=H[O+8],N[T+1]=H[O+9],N[T+2]=H[O+10],N=M[L].indices[VertexAttrConstants.UV0],
N[T]=H[O+5],N[T+1]=H[O+6],N[T+2]=H[O+7],O+=11):(N=M[L].indices[VertexAttrConstants.NORMAL],N[T]=H[O+5],N[T+1]=H[O+6],N[T+2]=H[O+7],N=M[L].indices[VertexAttrConstants.UV0],void 0!==N&&(N[T]=0,N[T+1]=0,N[T+2]=0),O+=8);++S[L]}H={};H[VertexAttrConstants.POSITION]={size:3,data:I};H[VertexAttrConstants.NORMAL]={size:3,data:J};H[VertexAttrConstants.UV0]={size:2,data:E};data=new GeometryData(M,H);D[F]=new Geometry(data,F)}}for(F in C)H=C[F],"sphere"!==H.type&&(E=y[H.id],void 0!==E.vertices&&(E.vertices=void 0),
void 0!==E.normals&&(E.normals=void 0),void 0!==E.uvs&&void 0!==E.uvs[0]&&(E.uvs[0]=void 0),void 0!==E.faces&&(E.faces=void 0));return D},w=function(C,y,D){function F(){J?G(["arcgis3d/layers/res/WaterNoiseTexture"],function(U){E.__water_noise_tex=new Texture(U,"__water_noise_tex");H()}):H()}function H(){try{for(var U in C){var S=U,M=Texture,N=C[U];assert(void 0!==N.raw,"texture has no raw param (texture "+U+")");E[S]=new M(N.raw,U)}}catch(T){D("FAIL",{exception:T});return}D("OK",{engineTextures:E})}
var E={},I=!1,J=!1;try{for(var K in y){var L=y[K],O=L.parameters;"standard"===L.type?0<O.reflectivity&&void 0===O.reflTex&&(O.reflTex="reflTex_panorama",I=!0):"water"===L.type&&(void 0===O.noiseTex&&(O.noiseTex="__water_noise_tex",J=!0),void 0===O.reflTex&&(O.reflTex="reflTex_panorama",I=!0))}}catch(U){D("FAIL",{exception:U});return}I?G(["arcgis3d/layers/res/ReflectionTexture"],function(U){E.reflTex_panorama=new Texture(U,"reflTex_panorama");F()}):F()},B=function(C,y,D){function F(T){if(void 0!==
T){var V=y[T];assert(void 0!==V,"referenced texture not found (texture "+T+")");return V.getId()}}D={};for(var H in C){var E=C[H],I=E.parameters;if("water"===E.type){var J=hex2rgb(fallbackIfUndefined(I.color,"0x38616A")),K=fallbackIfUndefined(I.scale,.7),L=fallbackIfUndefined(I.speed,1),O=F(I.noiseTex);E=F(I.reflTex);D[H]=new u(O,E,J,K,L,H)}else if("billboardExtended"===E.type)assert(void 0!==I.map,"billboard materials must have a map"),J=hex2rgb(fallbackIfUndefined(I.ambient,"0xffffff")),K=hex2rgb(fallbackIfUndefined(I.color,
"0xffffff")),L=hex2rgb(fallbackIfUndefined(I.specular,"0xffffff")),O=fallbackIfUndefined(I.shininess,64),D[H]=new k(F(I.map),J,K,L,O,H);else{var U=F(I.map);E=F(I.reflTex);var S=fallbackIfUndefined(I.reflectivity,0),M=I.transparency,N=I.transparent||1>M;J=hex2rgb(fallbackIfUndefined(I.ambient,"0xffffff"));K=hex2rgb(fallbackIfUndefined(I.color,"0xffffff"));L=hex2rgb(fallbackIfUndefined(I.specular,"0xffffff"));O=fallbackIfUndefined(I.shininess,64);I=fallbackIfUndefined(I.polygonOffset,!1);I=f.paramsFromOldConstructor(U,
N,J,K,L,O,M,I,void 0,E,S);D[H]=new f(I,H)}}return D},z=function(C,y){y("FAIL",{exception:C})};return{json2model:function(C,y,D){var F={};try{assert(void 0!==C.metadata&&void 0!==C.metadata.formatVersion,"json scene file does not specify a formatVersion, might not be compatible"),assert(1===C.metadata.formatVersion,". json scene file formatVersion "+C.metadata.formatVersion+" is not supported by this app (required formatVersion \x3e\x3d 1)"),q(C.objects,C.materials,C.cameras,C.layers),F[g.GEOMETRY]=
x(C.geometries,C.embeds)}catch(H){z(H,D);return}w(C.textures,C.materials,function(H,E){if("FAIL"===H)z(E.exception,D);else try{F[g.TEXTURE]=E.engineTextures;F[g.MATERIAL]=B(C.materials,F[g.TEXTURE]);var I=g.LAYER,J=C.layers;H={};for(var K in J)H[K]=new Layer(J[K].name?J[K].name:K,{group:J[K].group||"",state:J[K].state,interaction:J[K].interaction},K);F[I]=H;var L=g.OBJECT,O=C.objects,U=F[g.LAYER],S=F[g.GEOMETRY],M=F[g.MATERIAL];I={};for(var N in O){var T=O[N],V=[S[T.geometry]],ea=[Array(T.materials.length)];
for(J=0;J<T.materials.length;++J)ea[0][J]=M[T.materials[J]];var P=Array(1);J=P;var ba=T.position,la=T.rotation,Q=T.scale,Y=mat4d.identity();setMatrixTranslation(Y,ba);K=Y;var ja=Math.cos(la[0]),pa=Math.sin(la[0]),ka=Math.cos(la[1]),va=Math.sin(la[1]),Aa=Math.cos(la[2]),da=Math.sin(la[2]);H=ja*Aa;E=ja*da;var ca=pa*Aa,ma=pa*da;K[0]=ka*Aa;K[4]=-ka*da;K[8]=va;K[1]=E+ca*va;K[5]=H-ma*va;K[9]=-pa*ka;K[2]=ma-H*va;K[6]=ca+E*va;K[10]=ja*ka;mat4d.scale(Y,Q,Y);J[0]=Y;var qa=fallbackIfUndefined(T.castShadow,!0),
ta=U[T.custom.ceLayer];assert(void 0!==ta,"referenced layer not found (object "+N+")");T.custom.ceLayer=ta.getId();var Ca=new Object3D(N,V,ea,P,qa,T.custom,N);I[N]=Ca;ta.addObject(Ca)}F[L]=I;var ha=C.lights;L={};for(var fa in ha){var ra=ha[fa];if("ambient"==ra.type){var wa=hex2rgb(ra.color),Ga=ra.intensity;L.ambientLight=new h.AmbientLight(wa,Ga,ra.ssao,ra.ssaoAttenuation,ra.ssaoRadius,ra.ssaoFilterRadius,ra.ssaoSamples)}else if("directional"==ra.type){wa=hex2rgb(ra.color);Ga=ra.intensity;var Na=
azimuthElevationAngle2Direction(deg2rad(ra.custom.azimuthAngle),deg2rad(ra.custom.elevationAngle));L.directionalLight=new h.DirectionalLight(wa,Ga,Na,void 0!==ra.custom.shadows?ra.custom.shadows:!0,ra.custom.shadowAttenuation)}}assert(void 0!==L.ambientLight&&void 0!==L.directionalLight,"there must be an ambient light AND a directional light");y.beginMod();for(var Ra in F){var Sa=F[Ra],La;for(La in Sa)y.add(Ra,Sa[La])}y.endMod();ha={};for(var W in F[g.LAYER]){var ia=F[g.LAYER][W];ha[W]=new v;ha[W].name=
ia.getName();ha[W].renderer.setEngineLayer(ia);ha[W].id=ia.getId();ha[W].loaded=!0}var sa={name:C.defaults.camera,camera:C.cameras[C.defaults.camera]};var X=C.cameras,na=C.defaults.camera;if(!(1>=Object.keys(X).length)&&na)for(var ua in X)if(ua==na){delete X[ua];break}D("OK",{layers:F[g.LAYER],initialCamera:sa,bookmarks:X,mapLayers:ha,lights:L})}catch(ya){z(ya,D)}})}}})},"ceviewer/3ws/Mesh3DLayer":function(){define(["dojo/_base/declare","arcgis3d/layers/_Layer"],function(G,A){return G([A],{constructor:function(){this.id;
this.name;this.loaded;this.visible=!0;this.renderer={};this.renderer._engineLayer=void 0;this.renderer.getEngineLayer=function(){return this._engineLayer};this.renderer.setEngineLayer=function(a){this._engineLayer=a}},_setMap:function(a){this._map=a;this._stage=a._stage;this.setVisibility(this.visible,!0)},setVisibility:function(a,m){if(m||a!=this.visible){this.visible=a;if(this.renderer._engineLayer&&this._stage){m=this._stage.getViewContent();if(a&&0<=m.indexOf(this.id)||!a&&-1==m.indexOf(this.id))return;
a?m.push(this.id):m.splice(m.indexOf(this.id),1);this._stage.setViewContent(m)}this.emit("visibilityChange",{layer:this,visible:a})}},_unsetMap:function(){console.error("remove not implemented yet - hiding layer instead");this.setVisibility(!1)},_getEngineObjects:function(){if(!this._map||!this.renderer._engineLayer)return{};for(var a={},m=this.renderer._engineLayer.getObjects(),p=0;p<m.length;p++)a[m[p].getId()]=m[p];return a},_getEngineObjectIds:function(){return this.renderer._engineLayer?this.renderer._engineLayer.getObjectIds():
[]}})})},"ceviewer/3ws/JSON2Model2":function(){define("require engine/Stage engine/lib/Base64 engine/lib/Geometry engine/lib/GeometryUtil engine/lib/gl-matrix engine/lib/Layer engine/lib/Light engine/lib/Object3D engine/lib/Texture engine/lib/Util engine/materials/Material engine/materials/LeafCardMaterial engine/materials/WaterMaterial engine/materials/BillboardMaterial ./Mesh3DLayer".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g){var q=A.ModelContentType,x=EARTH_RADIUS+500,w=vec3.create(),
B=function(H,E){var I=deg2rad(H[0]);H=deg2rad(H[1]);latLon2position(I,H,w,x);mat4d.identity(E);mat4d.translate(E,w);mat4d.rotateY(E,.5*Math.PI+H);mat4d.rotateX(E,.5*Math.PI-I);return E},z=function(H,E,I,J,K){var L=[{},{},{}],O={},U={0:{key:"__water",params:{}},1:{key:"__waterquiet",params:{scale:.2,speed:.5}},2:{key:"__waterstormy",params:{scale:1.5,speed:3}}};for(P in E){var S=E[P].params,M=-1;0<S.layer.search(U[2].key)?M=2:0<S.layer.search(U[1].key)?M=1:0<S.layer.search(U[0].key)&&(M=0);0<P.search(U[2].key)?
M=2:0<P.search(U[1].key)?M=1:0<P.search(U[0].key)&&(M=0);if(-1<M)for(var N=0;N<S.geometries.length;N++)for(var T=S.geometries[N].materials,V=0,ea=T.length;V<ea;++V){var P=T[V];void 0===L[M][P]&&(L[M][P]=[]);L[M][P].push([T,V])}if(fallbackIfUndefined(S.polygonOffset,!1))for(N=0;N<S.geometries.length;N++)for(T=S.geometries[N].materials,V=0,ea=T.length;V<ea;++V)O[T[V]]=void 0}for(var ba in L)for(P in N=U[ba].params,S=L[ba],S){T=P+"__waterauto_t"+ba;ea=I[P];ea.params.color&&(N.color=[],N.color[0]=ea.params.color[0],
N.color[1]=ea.params.color[1],N.color[2]=ea.params.color[2]);ea={params:N,type:"water"};I[T]=ea;for(var la in S[P])0<S[P][la][2]&&(ea.params.speed=U[S[P][la][2]].params.speed,ea.params.scale=U[S[P][la][2]].params.scale),S[P][la][0][S[P][la][1]]=T}for(P in O)I[P].params.polygonOffset=!0;for(P in I)N=I[P].params,void 0!==N.color&&void 0!==N.ambient&&0===N.ambient[0]&&0===N.ambient[1]&&0===N.ambient[2]&&(N.ambient=N.color.slice(0)),0<P.search(U[0].key)&&(0<P.search("__waterparams_")&&0>P.search("__waterauto_t")&&
(ba=P.substr(P.search("__waterparams_")+14).split("_"),2<=ba.length&&(N.scale=isNaN(parseFloat(ba[0]))?void 0:parseFloat(ba[0]/10),N.speed=isNaN(parseFloat(ba[1]))?void 0:parseFloat(ba[1]/10))),I[P].type="water",(L=I[P].params.color)&&1==L[0]&&1==L[1]&&1==L[2]&&(I[P].params.color=void 0)),0<P.search("__leafcard")&&(I[P].type="billboardExtended");O={};L={};for(P in I)ba=I[P].params,ba=I[P].type+"#"+ba.map+"#"+ba.opacity+"#"+ba.cullFace+"#"+ba.ambient+"#"+ba.color+"#"+ba.specular+"#"+ba.shininess+"#"+
ba.reflectivity+"#"+ba.polygonOffset+"#"+ba.speed+"#"+ba.scale,la=O[ba],void 0!==la?(L[P]=la,delete I[P]):(L[P]=P,O[ba]=P);for(P in E)for(S=E[P].params,I=0;I<S.geometries.length;I++)for(T=S.geometries[I].materials,N=0,ea=T.length;N<ea;++N)T[N]=L[T[N]];for(P in J)N=J[P].params,N.fov||(N.fov=54);for(var Q in K)for(E=K[Q],N=2;0<=N;N--)if(E.params.name&&0<E.params.name.search(U[N].key)){E.params.name=E.params.name.replace(U[N].key,"");break}else if(!E.params.name&&0<Q.search(U[N].key)){E.params.name=
Q.replace(U[N].key,"");break}for(Q in K)E=K[Q],0===Q.indexOf("Panorama")&&(E.params.interaction="IGNORED",E.params.translation=vec3d.create(),vec3.add(H.extent[0],H.extent[1],E.params.translation),vec3.scale(E.params.translation,.5))},C=function(H){var E={},I;for(I in H){var J=H[I].type,K=H[I].params;if("standard"===J){J=I;var L=Geometry;var O=K.faces;K=K.vertexAttr;assert(0<O.length,"empty geometry encountered (no geometry groups)");for(var U=0;U<O.length;++U)assert("triangle"===O[U].type||"point"===
O[U].type,"geometry type must be triangle or point"),assert(1<=Object.keys(O[U].indices).length,"there must be at least one vertex attribute");var S={};for(U=0;U<O.length;++U){var M=O[U],N=M.type,T=M.indices,V;for(V in T)"string"===typeof T[V]&&(T[V]=Base64Binary.decodeInt32(T[V])),assert("triangle"===N&&3<=T[V].length||"point"===N&&1<=T[V].length,"there must be at least one face (vertex attribute "+V+")"),assert(void 0!==K[V],"there are indices but no vertex attributes (vertex attribute "+V+")"),
S[V]="ref";void 0===M.positionKey&&(M.positionKey=VertexAttrConstants.POSITION);assert(void 0!==T[M.positionKey],"indices for positionKey are missing (positionKey "+M.positionKey+")");assert(3<=K[M.positionKey].size,"there must be at least three entries in positionKey vertex attributes (positionKey "+M.positionKey+")")}for(V in S)S=K[V],"string"===typeof S.data&&(S.data=Base64Binary.decodeFloat32(S.data)),assert(S.data.length>=S.size,"length of vertex attributes must be at least equal to the size (vertex attribute "+
V+")"),assert(0===S.data.length%S.size,"length of vertex attributes must be a multiple of the size (vertex attribute "+V+")");for(U=0;U<O.length;++U)for(V in T=O[U].indices,T)for(S=K[V],S=S.data.length/S.size,M=T[V],N=0;N<M.length;++N)M[N]>=S&&(verify(!1,"group "+U+" "+V+" index "+N+" out of range"),M[N]=0);O=new GeometryData(O,K);E[J]=new L(O,I)}else"sphere"===J&&(E[I]=new Geometry(createSphereGeometry(100),I));H[I]=void 0}return E},y=function(H,E,I){function J(){U?G(["arcgis3d/layers/res/WaterNoiseTexture"],
function(T){L.__water_noise_tex=new Texture(T,"__water_noise_tex");K()}):K()}function K(){try{for(var T in H){var V=T,ea=Texture,P=T,ba=H[P];assert("standard"===ba.type,"texture type must be standard (texture "+P+")");assert(void 0!==ba.params,"texture has no params (texture "+P+")");assert(void 0!==ba.params.uri,"texture has no uri param (texture "+P+")");L[V]=new ea(ba.params.uri,T)}}catch(la){I("FAIL",{exception:la});return}I("OK",{engineTextures:L})}var L={},O=!1,U=!1;try{for(var S in E){var M=
E[S],N=M.params;"standard"===M.type?0<N.reflectivity&&void 0===N.reflTex&&(N.reflTex="reflTex_panorama",O=!0):"water"===M.type&&(void 0===N.noiseTex&&(N.noiseTex="__water_noise_tex",U=!0),void 0===N.reflTex&&(N.reflTex="reflTex_panorama",O=!0))}}catch(T){I("FAIL",{exception:T});return}O?G(["arcgis3d/layers/res/ReflectionTexture"],function(T){L.reflTex_panorama=new Texture(T,"reflTex_panorama");J()}):J()},D=function(H,E){function I(pa){if(void 0!==pa){var ka=E[pa];assert(void 0!==ka,"referenced texture not found (texture "+
pa+")");return ka.getId()}}var J={},K=[1,1,1],L=[1,1,1],O=[1,1,1],U=[.22,.3824,.4176],S;for(S in H){var M=H[S],N=M.params;if("standard"===M.type){var T=I(N.map);M=I(N.reflTex);var V=fallbackIfUndefined(N.reflectivity,0),ea=void 0===N.opacity?1:clamp(N.opacity,0,1),P=N.transparent||1>ea,ba=fallbackIfUndefined(N.ambient,K),la=fallbackIfUndefined(N.color,L),Q=fallbackIfUndefined(N.specular,O),Y=fallbackIfUndefined(N.shininess,64),ja=fallbackIfUndefined(N.polygonOffset,!1);M=f.paramsFromOldConstructor(T,
P,ba,la,Q,Y,ea,ja,void 0,M,V);M.cullFace=N.cullFace;J[S]=new f(M,S)}else"billboard"===M.type?(assert(void 0!==N.map,"billboard materials must have a map"),J[S]=new v(I(N.map),S)):"billboardExtended"===M.type?(assert(void 0!==N.map,"leaf card materials must have a map"),ba=fallbackIfUndefined(N.ambient,K),la=fallbackIfUndefined(N.color,L),Q=fallbackIfUndefined(N.specular,O),Y=fallbackIfUndefined(N.shininess,64),J[S]=new k(I(N.map),ba,la,Q,Y,S)):(assert("water"===M.type,"unknown material type (type "+
M.type+")"),T=fallbackIfUndefined(N.color,U),V=fallbackIfUndefined(N.scale,.7),ea=fallbackIfUndefined(N.speed,1),P=I(N.noiseTex),M=I(N.reflTex),J[S]=new u(P,M,T,V,ea,S))}return J},F=function(H,E){E("FAIL",{exception:H})};return{json2model2:function(H,E,I){var J={};try{assert(void 0!==H.metadata&&void 0!==H.metadata.version,"json scene file does not specify a format version, might not be compatible"),assert(3>H.metadata.version,". json scene file formatVersion "+H.metadata.formatVersion+" is not supported by this app (required formatVersion \x3e\x3d 2)"),
z(H.metadata,H.objects,H.materials,H.cameras,H.layers),J[q.GEOMETRY]=C(H.geometries)}catch(K){F(K,I);return}y(H.textures,H.materials,function(K,L){if("FAIL"===K)F(L.exception,I);else try{J[q.TEXTURE]=L.engineTextures;J[q.MATERIAL]=D(H.materials,J[q.TEXTURE]);var O=void 0!==E.get(q.LAYER,"Globe"),U=q.LAYER,S=H.layers;K={};var M=mat4d.create(),N;for(N in S){assert("standard"===S[N].type,"layer type must be standard");var T=S[N].params,V=T.translation,ea=T.extent,P=T.locationLatLon;if(O&&void 0!==P){var ba=
deg2rad(P[0]),la=deg2rad(P[1]);latLon2position(ba,la,V,x);B(P,M);mat4d.multiplyVec3(M,ea[0]);mat4d.multiplyVec3(M,ea[1])}var Q=new Layer(T.name||N,{group:T.group||"",state:T.state,interaction:T.interaction},N);K[N]=Q}J[U]=K;var Y=q.OBJECT,ja=H.objects,pa=H.layers,ka=J[q.LAYER],va=J[q.GEOMETRY],Aa=J[q.MATERIAL];U={};var da=mat4d.create(),ca=mat4d.create(),ma;for(ma in ja){assert("standard"===ja[ma].type,"object type must be standard");var qa=ja[ma].params,ta=pa[qa.layer];assert(void 0!==ta,"referenced layer not found (object "+
ma+")");ta=ta.params;var Ca=qa.geometries;assert(1<=Ca.length,"objects must reference at least one geometry (object "+ma+")");var ha=Array(Ca.length),fa=Array(Ca.length),ra=Array(Ca.length);S="standard";O&&("perObject"===qa.useLatLon&&void 0!==qa.locationLatLon?S="object":void 0!==ta.locationLatLon&&(S="layer"));"standard"===S?(createTranslationMatrix(da,ta.translation),createTranslationMatrix(ca,qa.translation)):"object"===S?(mat4d.identity(da),B(qa.locationLatLon,ca)):"layer"===S&&(B(ta.locationLatLon,
da),createTranslationMatrix(ca,qa.translation));mat4d.multiply(da,ca,ca);for(S=0;S<Ca.length;++S){ha[S]=va[Ca[S].geometry];var wa=Ca[S].materials,Ga=Array(wa.length);for(M=0;M<wa.length;++M)Ga[M]=Aa[wa[M]];fa[S]=Ga;ra[S]=Ca[S].transformation}var Na=fallbackIfUndefined(qa.castShadow,!0);S={};void 0!==qa.attributes&&(S.attributes=qa.attributes);void 0!==qa.reports&&(S.reports=qa.reports);void 0!==qa.name&&(S.ceName=Sa);var Ra=ka[qa.layer];assert(void 0!==Ra,"referenced layer not found (object "+ma+
")");S.ceLayer=Ra.getId();var Sa=qa.name||ma,La=new Object3D(Sa,ha,fa,ra,Na,S,ma);La.setObjectTransformation(ca);U[ma]=La;Ra.addObject(La)}J[Y]=U;var W=H.lights;Y={};for(var ia in W){var sa=W[ia].type,X=W[ia].params;"ambient"===sa?Y.ambientLight=new h.AmbientLight(X.color,X.intensity,X.ssao,X.ssaoAttenuation,X.ssaoRadius,X.ssaoFilterRadius,X.ssaoSamples):"directional"===sa&&(Y.directionalLight=new h.DirectionalLight(X.color,X.intensity,X.direction,fallbackIfUndefined(X.shadows,!0),X.shadowAttenuation))}E.beginMod();
for(var na in J){var ua=J[na],ya;for(ya in ua)E.add(na,ua[ya])}E.endMod();W={};for(var Ha in J[q.LAYER]){var Oa=J[q.LAYER][Ha];W[Ha]=new g;W[Ha].name=Oa.getName();W[Ha].renderer.setEngineLayer(Oa);W[Ha].id=Oa.getId();W[Ha].loaded=!0}var Ma=H.metadata.initialCamera;Ma in H.cameras||(Ma=Object.keys(H.cameras)[0]);var Da={name:Ma,camera:H.cameras[Ma].params},Ka=H.cameras,Ja=H.metadata.initialCamera;Ha={};for(var Va in Ka)Ha[Va]=Ka[Va].params;var fb=Object.keys(Ha),bb;for(bb in Ha)if(1<fb.length&&bb==
Ja)delete Ha[bb];else if(O){var kb=Ha[bb].locationLatLon,hb=vec3d.create();vec3.subtract(Ha[bb].target,Ha[bb].position,hb);var nb=x+(Ha[bb].elevation||0);latLon2position(deg2rad(kb[0]),deg2rad(kb[1]),Ha[bb].position,nb);var tb=mat4d.create();B(kb,tb);var ob=mat3d.create();mat4d.toMat3(tb,ob);mat3.multiplyVec3(ob,hb);mat3.multiplyVec3(ob,Ha[bb].up);vec3.add(Ha[bb].position,hb,Ha[bb].target)}I("OK",{layers:J[q.LAYER],initialCamera:Da,bookmarks:Ha,mapLayers:W,lights:Y})}catch(ib){F(ib,I)}})}}})},"ceviewer/3ws/JSONGet":function(){define(["dojo/string",
"../utils/LocalizationHelper","esri/request","./JSONParse"],function(G,A,a,m){var p=A.i18n();return{jsonGet:function(t,n,h,c,b){function e(v){var g=new XMLHttpRequest;g.open("HEAD",v);g.onreadystatechange=function(){if(this.readyState===this.DONE)if(200===this.status){var q=this.getResponseHeader("Content-Length")?parseFloat(this.getResponseHeader("Content-Length")):void 0;"gzip"==this.getResponseHeader("Content-Encoding")||h("log",p.noGzipEnc,"");f(q)}else h("error",p.unableToLoadData,G.substitute(p.errorStatus,
{status:this.status,url:v}))};g.send()}function f(v){h("log",p.fallbackLoaderMsg,"");k(!1,"arraybuffer",!0,v)}function k(v,g,q,x){v=void 0!==c.gzip?c.gzip:v;g=void 0!==c.responseType?c.responseType:g;q=void 0!==c.streamParse?c.streamParse:q;var w=new XMLHttpRequest;v?w.open("GET",u,!0):w.open("GET",t,!0);w.responseType=g;w.onreadystatechange=function(){4==w.readyState&&(0==w.status&&h("error",p.unableToLoadData,": "+t),200==w.status?(h("download","",x,x),B()):h&&h("error",p.unableToLoadURL,G.substitute(p.errorStatus,
{status:w.status,url:t})))};h&&w.addEventListener("progress",function(z){h("download","",v?z.loaded/6:z.loaded,z.lengthComputable?z.total:x)});w.send(null);var B=function(){var z=void 0;"arraybuffer"===w.responseType?(z=(new Uint8Array(w.response,0,1))[0],z=123!==z):(z=w.responseText[0],z="{"!==z);h("log",(v?p.reqUnzip:p.reqGzip)+(z?p.gotGzip:p.gotUnzip),"");"arraybuffer"===w.responseType?m.parseArrayBuffer(t,w.response,z,q,h,n):q?h("error",p.streamPOnlyOnAB,t):z?h("error",p.zipOnlyAB,t):(h("info",
p.reading+"... "," (native parser) "+t),setTimeout(function(){try{void 0===w.responseText?h("error",p.xhrEmpty):n(JSON.parse(w.responseText))}catch(C){h("error",p.wsDataInvalid,"JSON parse error: "+C)}},0))}}b=c.itemSize||b;var u=t+"?gzipHeader\x3dtrue";0<t.indexOf("?")&&(u=t+"\x26gzipHeader\x3dtrue");b?f(b):e(u)},jsonGetEsri:function(t,n,h){esri.config.defaults.io.proxyUrl="../proxy.php";a({url:t}).then(function(c){h("success","");n(c)},function(c){h("error","Error while loading scene file",c)})}}})},
"ceviewer/3ws/JSONParse":function(){define(["dojo/string","../utils/LocalizationHelper","./pako_inflate.min","engine/lib/clarinet","esri/request"],function(G,A,a,m,p){var t=A.i18n();return{parseArrayBuffer:function(n,h,c,b,e,f){function k(w,B,z){"\u00ef\u00bb\u00bf"==w.slice(0,3)&&(B+=3);for(var C=0;B<z;B++){var y=w[B];if(128>y)g[C++]=String.fromCharCode(y);else if(194<=y&&224>y){var D=w[++B];g[C++]=String.fromCharCode(((y&31)<<6)+(D&63))}else if(224<=y&&240>y){D=w[++B];var F=w[++B];g[C++]=String.fromCharCode(((y&
255)<<12)+((D&63)<<6)+(F&63))}else if(240<=y&&245>y){D=w[++B];F=w[++B];var H=w[++B];y=((y&7)<<18)+((D&63)<<12)+((F&63)<<6)+(H&63);y-=65536;g[C++]=String.fromCharCode((y>>10)+55296,(y&1023)+56320)}}g.length=C;return{str:g.join(""),to:B}}function u(w,B,z){for(var C=Date.now();!(200<=Date.now()-C||z==w.length);){var y=k(w,z,Math.min(z+32768,w.length));B.write(y.str);z=y.to}z==w.length?(C=B.close(),e&&e("success","",C),f(C)):(e&&e("parse","",z,w.length),setTimeout(function(){u(w,B,z)},0))}function v(w,
B,z){for(var C=w.byteLength,y=Date.now();C>z+32768;)if(B.push(new Uint8Array(w,z,32768),!1),z+=32768,200<=Date.now()-y){e&&e("parse","",z,C);setTimeout(function(){v(w,B,z)},0);return}B.push(new Uint8Array(w,z),!0)}var g=[],q=new function(){var w=clarinet.parser(),B=[];B.push({});var z="result";w.onerror=function(y){e("error",t.wsDataInvalid,"clarinet parser error in "+n+": "+y)};w.onopenobject=function(y){B.push({});C(B[B.length-1],B.length-2);w.onkey(y)};w.onkey=function(y){assert(void 0===z);z=
y};w.onvalue=function(y){C(y,B.length-1)};w.oncloseobject=function(){assert(void 0===z);B.pop()};w.onopenarray=function(){B.push([]);C(B[B.length-1],B.length-2)};w.onclosearray=function(){assert(void 0===z);B.pop()};w.onend=function(){assert(1===B.length)};var C=function(y,D){void 0!==z?(B[D][z]=y,z=void 0):B[D].push(y)};this.write=function(y){w.write(y)};this.close=function(){w.close();return B[0].result}};if(c)if(b)e("log",t.customUnzipAndStream,""),c=new a.Inflate({to:"string"}),c.onData=function(w){q.write(w)},
c.onEnd=function(w){0===w?(w=q.close(),e("success","",w),f(w)):e("error",t.gzipInvalid,n)},v(h,c,0);else{e("info",t.reading+"...","");var x;setTimeout(function(){try{x=a.inflate(new Uint8Array(h),{to:"string"}),e("log",t.unpackingDone,"")}catch(w){console.error("Unzip error: "+w),e("error",t.gzipInvalid,n)}},0);setTimeout(function(){try{void 0===x?e("error",t.unpackerEmpty):f(JSON.parse(x))}catch(w){e("error",t.wsDataInvalid," JSON parse error: "+w)}},0)}else b?(e("log",t.streamParseOnUnzippedAB,
""),u(new Uint8Array(h),q,0)):e("error",t.nativeCantProcess,n)}}})},"ceviewer/3ws/pako_inflate.min":function(){!function(G){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=G();else if("function"==typeof define&&define.amd)define([],G);else{var A;"undefined"!=typeof window?A=window:"undefined"!=typeof global?A=global:"undefined"!=typeof self&&(A=self);A.pako=G()}}(function(){return function p(A,a,m){function t(c,b){if(!a[c]){if(!A[c]){var e="function"==typeof require&&require;
if(!b&&e)return e(c,!0);if(n)return n(c,!0);throw Error("Cannot find module '"+c+"'");}b=a[c]={exports:{}};A[c][0].call(b.exports,function(f){var k=A[c][1][f];return t(k?k:f)},b,b.exports,p,A,a,m)}return a[c].exports}for(var n="function"==typeof require&&require,h=0;h<m.length;h++)t(m[h]);return t}({1:[function(A,a,m){function p(u,v){v=new k(v);if(v.push(u,!0),v.err)throw v.msg;return v.result}var t=A("./zlib/inflate.js"),n=A("./utils/common"),h=A("./utils/strings"),c=A("./zlib/constants"),b=A("./zlib/messages"),
e=A("./zlib/zstream"),f=A("./zlib/gzheader"),k=function(u){var v=this.options=n.assign({chunkSize:16384,windowBits:0,to:""},u||{});v.raw&&0<=v.windowBits&&16>v.windowBits&&(v.windowBits=-v.windowBits,0===v.windowBits&&(v.windowBits=-15));!(0<=v.windowBits&&16>v.windowBits)||u&&u.windowBits||(v.windowBits+=32);15<v.windowBits&&48>v.windowBits&&0===(15&v.windowBits)&&(v.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new e;this.strm.avail_out=0;u=t.inflateInit2(this.strm,
v.windowBits);if(u!==c.Z_OK)throw Error(b[u]);this.header=new f;t.inflateGetHeader(this.strm,this.header)};k.prototype.push=function(u,v){var g,q,x,w,B=this.strm,z=this.options.chunkSize;if(this.ended)return!1;v=v===~~v?v:!0===v?c.Z_FINISH:c.Z_NO_FLUSH;B.input="string"==typeof u?h.binstring2buf(u):u;B.next_in=0;B.avail_in=B.input.length;do{if(0===B.avail_out&&(B.output=new n.Buf8(z),B.next_out=0,B.avail_out=z),g=t.inflate(B,c.Z_NO_FLUSH),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),this.ended=
!0,!1;B.next_out&&(0===B.avail_out||g===c.Z_STREAM_END||0===B.avail_in&&v===c.Z_FINISH)&&("string"===this.options.to?(q=h.utf8border(B.output,B.next_out),x=B.next_out-q,w=h.buf2string(B.output,q),B.next_out=x,B.avail_out=z-x,x&&n.arraySet(B.output,B.output,q,x,0),this.onData(w)):this.onData(n.shrinkBuf(B.output,B.next_out)))}while(0<B.avail_in&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(v=c.Z_FINISH),v===c.Z_FINISH?(g=t.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):!0};k.prototype.onData=
function(u){this.chunks.push(u)};k.prototype.onEnd=function(u){u===c.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):n.flattenChunks(this.chunks));this.chunks=[];this.err=u;this.msg=this.strm.msg};m.Inflate=k;m.inflate=p;m.inflateRaw=function(u,v){return v=v||{},v.raw=!0,p(u,v)};m.ungzip=p},{"./utils/common":2,"./utils/strings":3,"./zlib/constants":5,"./zlib/gzheader":7,"./zlib/inflate.js":9,"./zlib/messages":11,"./zlib/zstream":12}],2:[function(A,a,m){A="undefined"!=typeof Uint8Array&&
"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;m.assign=function(n){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var c=h.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var b in c)c.hasOwnProperty(b)&&(n[b]=c[b])}}return n};m.shrinkBuf=function(n,h){return n.length===h?n:n.subarray?n.subarray(0,h):(n.length=h,n)};var p={arraySet:function(n,h,c,b,e){if(h.subarray&&n.subarray)return void n.set(h.subarray(c,c+b),e);for(var f=0;b>f;f++)n[e+
f]=h[c+f]},flattenChunks:function(n){var h,c;var b=c=0;for(h=n.length;h>b;b++)c+=n[b].length;var e=new Uint8Array(c);b=c=0;for(h=n.length;h>b;b++){var f=n[b];e.set(f,c);c+=f.length}return e}},t={arraySet:function(n,h,c,b,e){for(var f=0;b>f;f++)n[e+f]=h[c+f]},flattenChunks:function(n){return[].concat.apply([],n)}};m.setTyped=function(n){n?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,p)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,t))};m.setTyped(A)},{}],3:[function(A,
a,m){function p(b,e){if(65537>e&&(b.subarray&&h||!b.subarray&&n))return String.fromCharCode.apply(null,t.shrinkBuf(b,e));for(var f="",k=0;e>k;k++)f+=String.fromCharCode(b[k]);return f}var t=A("./common"),n=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch(b){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(b){h=!1}var c=new t.Buf8(256);for(A=0;256>A;A++)c[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;c[254]=c[254]=1;m.string2buf=function(b){var e,f,k,u=b.length,v=0;for(f=0;u>
f;f++){var g=b.charCodeAt(f);55296===(64512&g)&&u>f+1&&(e=b.charCodeAt(f+1),56320===(64512&e)&&(g=65536+(g-55296<<10)+(e-56320),f++));v+=128>g?1:2048>g?2:65536>g?3:4}var q=new t.Buf8(v);for(f=k=0;v>k;f++)g=b.charCodeAt(f),55296===(64512&g)&&u>f+1&&(e=b.charCodeAt(f+1),56320===(64512&e)&&(g=65536+(g-55296<<10)+(e-56320),f++)),128>g?q[k++]=g:2048>g?(q[k++]=192|g>>>6,q[k++]=128|63&g):65536>g?(q[k++]=224|g>>>12,q[k++]=128|g>>>6&63,q[k++]=128|63&g):(q[k++]=240|g>>>18,q[k++]=128|g>>>12&63,q[k++]=128|g>>>
6&63,q[k++]=128|63&g);return q};m.buf2binstring=function(b){return p(b,b.length)};m.binstring2buf=function(b){for(var e=new t.Buf8(b.length),f=0,k=e.length;k>f;f++)e[f]=b.charCodeAt(f);return e};m.buf2string=function(b,e){var f,k,u,v=e||b.length,g=Array(2*v);for(e=f=0;v>e;)if(k=b[e++],128>k)g[f++]=k;else if(u=c[k],4<u)g[f++]=65533,e+=u-1;else{for(k&=2===u?31:3===u?15:7;1<u&&v>e;)k=k<<6|63&b[e++],u--;1<u?g[f++]=65533:65536>k?g[f++]=k:(k-=65536,g[f++]=55296|k>>10&1023,g[f++]=56320|1023&k)}return p(g,
f)};m.utf8border=function(b,e){var f;e=e||b.length;e>b.length&&(e=b.length);for(f=e-1;0<=f&&128===(192&b[f]);)f--;return 0>f?e:0===f?e:f+c[b[f]]>e?f:e}},{"./common":2}],4:[function(A,a){a.exports=function(m,p,t,n){var h=65535&m|0;m=m>>>16&65535|0;for(var c=0;0!==t;){c=2E3<t?2E3:t;t-=c;do h=h+p[n++]|0,m=m+h|0;while(--c);h%=65521;m%=65521}return h|m<<16|0}},{}],5:[function(A,a){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,
Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],6:[function(A,a){var m=function(){for(var p,t=[],n=0;256>n;n++){p=n;for(var h=0;8>h;h++)p=1&p?3988292384^p>>>1:p>>>1;t[n]=p}return t}();a.exports=function(p,t,n,h){n=h+n;for(p^=-1;n>h;h++)p=p>>>8^m[255&(p^t[h])];return-1^p}},{}],
7:[function(A,a){a.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],8:[function(A,a){a.exports=function(m,p){var t,n,h;var c=m.state;var b=m.next_in;var e=m.input;var f=b+(m.avail_in-5);var k=m.next_out;var u=m.output;p=k-(p-m.avail_out);var v=k+(m.avail_out-257);var g=c.dmax;var q=c.wsize;var x=c.whave;var w=c.wnext;var B=c.window;var z=c.hold;var C=c.bits;var y=c.lencode;var D=c.distcode;var F=
(1<<c.lenbits)-1;var H=(1<<c.distbits)-1;a:do{15>C&&(z+=e[b++]<<C,C+=8,z+=e[b++]<<C,C+=8);var E=y[z&F];b:for(;;){if(t=E>>>24,z>>>=t,C-=t,t=E>>>16&255,0===t)u[k++]=65535&E;else{if(!(16&t)){if(0===(64&t)){E=y[(65535&E)+(z&(1<<t)-1)];continue b}if(32&t){c.mode=12;break a}m.msg="invalid literal/length code";c.mode=30;break a}var I=65535&E;(t&=15)&&(t>C&&(z+=e[b++]<<C,C+=8),I+=z&(1<<t)-1,z>>>=t,C-=t);15>C&&(z+=e[b++]<<C,C+=8,z+=e[b++]<<C,C+=8);E=D[z&H];c:for(;;){if(t=E>>>24,z>>>=t,C-=t,t=E>>>16&255,!(16&
t)){if(0===(64&t)){E=D[(65535&E)+(z&(1<<t)-1)];continue c}m.msg="invalid distance code";c.mode=30;break a}if(n=65535&E,t&=15,t>C&&(z+=e[b++]<<C,C+=8,t>C&&(z+=e[b++]<<C,C+=8)),n+=z&(1<<t)-1,n>g){m.msg="invalid distance too far back";c.mode=30;break a}if(z>>>=t,C-=t,t=k-p,n>t){if(t=n-t,t>x&&c.sane){m.msg="invalid distance too far back";c.mode=30;break a}if(E=0,h=B,0===w){if(E+=q-t,I>t){I-=t;do u[k++]=B[E++];while(--t);E=k-n;h=u}}else if(t>w){if(E+=q+w-t,t-=w,I>t){I-=t;do u[k++]=B[E++];while(--t);if(E=
0,I>w){t=w;I-=t;do u[k++]=B[E++];while(--t);E=k-n;h=u}}}else if(E+=w-t,I>t){I-=t;do u[k++]=B[E++];while(--t);E=k-n;h=u}for(;2<I;)u[k++]=h[E++],u[k++]=h[E++],u[k++]=h[E++],I-=3;I&&(u[k++]=h[E++],1<I&&(u[k++]=h[E++]))}else{E=k-n;do u[k++]=u[E++],u[k++]=u[E++],u[k++]=u[E++],I-=3;while(2<I);I&&(u[k++]=u[E++],1<I&&(u[k++]=u[E++]))}break}}break}}while(f>b&&v>k);I=C>>3;b-=I;C-=I<<3;m.next_in=b;m.next_out=k;m.avail_in=f>b?5+(f-b):5-(b-f);m.avail_out=v>k?257+(v-k):257-(k-v);c.hold=z&(1<<C)-1;c.bits=C}},{}],
9:[function(A,a,m){function p(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function t(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new k.Buf16(320);this.work=new k.Buf16(288);
this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function n(D){var F;return D&&D.state?(F=D.state,D.total_in=D.total_out=F.total=0,D.msg="",F.wrap&&(D.adler=1&F.wrap),F.mode=B,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new k.Buf32(z),F.distcode=F.distdyn=new k.Buf32(C),F.sane=1,F.back=-1,x):w}function h(D){var F;return D&&D.state?(F=D.state,F.wsize=0,F.whave=0,F.wnext=0,n(D)):w}function c(D,F){var H,E;return D&&D.state?(E=D.state,0>F?(H=0,F=-F):
(H=(F>>4)+1,48>F&&(F&=15)),F&&(8>F||15<F)?w:(null!==E.window&&E.wbits!==F&&(E.window=null),E.wrap=H,E.wbits=F,h(D))):w}function b(D,F){var H,E;return D?(E=new t,D.state=E,E.window=null,H=c(D,F),H!==x&&(D.state=null),H):w}var e,f,k=A("../utils/common"),u=A("./adler32"),v=A("./crc32"),g=A("./inffast"),q=A("./inftrees"),x=0,w=-2,B=1,z=852,C=592,y=!0;m.inflateReset=h;m.inflateReset2=c;m.inflateResetKeep=n;m.inflateInit=function(D){return b(D,15)};m.inflateInit2=b;m.inflate=function(D,F){var H,E,I,J,K,
L,O=0,U=new k.Buf8(4),S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&0!==D.avail_in)return w;var M=D.state;12===M.mode&&(M.mode=13);var N=D.next_out;var T=D.output;var V=D.avail_out;var ea=D.next_in;var P=D.input;var ba=D.avail_in;var la=M.hold;var Q=M.bits;var Y=ba;var ja=V;var pa=x;a:for(;;)switch(M.mode){case B:if(0===M.wrap){M.mode=13;break}for(;16>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}if(2&M.wrap&&35615===la){M.check=0;U[0]=255&la;U[1]=la>>>
8&255;M.check=v(M.check,U,2,0);Q=la=0;M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&la)<<8)+(la>>8))%31){D.msg="incorrect header check";M.mode=30;break}if(8!==(15&la)){D.msg="unknown compression method";M.mode=30;break}if(la>>>=4,Q-=4,K=(15&la)+8,0===M.wbits)M.wbits=K;else if(K>M.wbits){D.msg="invalid window size";M.mode=30;break}M.dmax=1<<K;D.adler=M.check=1;M.mode=512&la?10:12;Q=la=0;break;case 2:for(;16>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}if(M.flags=la,8!==
(255&M.flags)){D.msg="unknown compression method";M.mode=30;break}if(57344&M.flags){D.msg="unknown header flags set";M.mode=30;break}M.head&&(M.head.text=la>>8&1);512&M.flags&&(U[0]=255&la,U[1]=la>>>8&255,M.check=v(M.check,U,2,0));Q=la=0;M.mode=3;case 3:for(;32>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}M.head&&(M.head.time=la);512&M.flags&&(U[0]=255&la,U[1]=la>>>8&255,U[2]=la>>>16&255,U[3]=la>>>24&255,M.check=v(M.check,U,4,0));Q=la=0;M.mode=4;case 4:for(;16>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<
Q;Q+=8}M.head&&(M.head.xflags=255&la,M.head.os=la>>8);512&M.flags&&(U[0]=255&la,U[1]=la>>>8&255,M.check=v(M.check,U,2,0));Q=la=0;M.mode=5;case 5:if(1024&M.flags){for(;16>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}M.length=la;M.head&&(M.head.extra_len=la);512&M.flags&&(U[0]=255&la,U[1]=la>>>8&255,M.check=v(M.check,U,2,0));Q=la=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(H=M.length,H>ba&&(H=ba),H&&(M.head&&(K=M.head.extra_len-M.length,M.head.extra||(M.head.extra=Array(M.head.extra_len)),
k.arraySet(M.head.extra,P,ea,H,K)),512&M.flags&&(M.check=v(M.check,P,H,ea)),ba-=H,ea+=H,M.length-=H),M.length))break a;M.length=0;M.mode=7;case 7:if(2048&M.flags){if(0===ba)break a;H=0;do K=P[ea+H++],M.head&&K&&65536>M.length&&(M.head.name+=String.fromCharCode(K));while(K&&ba>H);if(512&M.flags&&(M.check=v(M.check,P,H,ea)),ba-=H,ea+=H,K)break a}else M.head&&(M.head.name=null);M.length=0;M.mode=8;case 8:if(4096&M.flags){if(0===ba)break a;H=0;do K=P[ea+H++],M.head&&K&&65536>M.length&&(M.head.comment+=
String.fromCharCode(K));while(K&&ba>H);if(512&M.flags&&(M.check=v(M.check,P,H,ea)),ba-=H,ea+=H,K)break a}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;16>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}if(la!==(65535&M.check)){D.msg="header crc mismatch";M.mode=30;break}Q=la=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0);D.adler=M.check=0;M.mode=12;break;case 10:for(;32>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}D.adler=M.check=p(la);Q=la=0;M.mode=11;case 11:if(0===
M.havedict)return D.next_out=N,D.avail_out=V,D.next_in=ea,D.avail_in=ba,M.hold=la,M.bits=Q,2;D.adler=M.check=1;M.mode=12;case 12:if(5===F||6===F)break a;case 13:if(M.last){la>>>=7&Q;Q-=7&Q;M.mode=27;break}for(;3>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}switch(M.last=1&la,la>>>=1,--Q,3&la){case 0:M.mode=14;break;case 1:var ka=void 0;var va=M;if(y){e=new k.Buf32(512);f=new k.Buf32(32);for(ka=0;144>ka;)va.lens[ka++]=8;for(;256>ka;)va.lens[ka++]=9;for(;280>ka;)va.lens[ka++]=7;for(;288>ka;)va.lens[ka++]=
8;q(1,va.lens,0,288,e,0,va.work,{bits:9});for(ka=0;32>ka;)va.lens[ka++]=5;q(2,va.lens,0,32,f,0,va.work,{bits:5});y=!1}va.lencode=e;va.lenbits=9;va.distcode=f;va.distbits=5;if(M.mode=20,6===F){la>>>=2;Q-=2;break a}break;case 2:M.mode=17;break;case 3:D.msg="invalid block type",M.mode=30}la>>>=2;Q-=2;break;case 14:la>>>=7&Q;for(Q-=7&Q;32>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}if((65535&la)!==(la>>>16^65535)){D.msg="invalid stored block lengths";M.mode=30;break}if(M.length=65535&la,la=0,Q=0,M.mode=
15,6===F)break a;case 15:M.mode=16;case 16:if(H=M.length){if(H>ba&&(H=ba),H>V&&(H=V),0===H)break a;k.arraySet(T,P,ea,H,N);ba-=H;ea+=H;V-=H;N+=H;M.length-=H;break}M.mode=12;break;case 17:for(;14>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}if(M.nlen=(31&la)+257,la>>>=5,Q-=5,M.ndist=(31&la)+1,la>>>=5,Q-=5,M.ncode=(15&la)+4,la>>>=4,Q-=4,286<M.nlen||30<M.ndist){D.msg="too many length or distance symbols";M.mode=30;break}M.have=0;M.mode=18;case 18:for(;M.have<M.ncode;){for(;3>Q;){if(0===ba)break a;ba--;
la+=P[ea++]<<Q;Q+=8}M.lens[S[M.have++]]=7&la;la>>>=3;Q-=3}for(;19>M.have;)M.lens[S[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,L={bits:M.lenbits},pa=q(0,M.lens,0,19,M.lencode,0,M.work,L),M.lenbits=L.bits,pa){D.msg="invalid code lengths set";M.mode=30;break}M.have=0;M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;O=M.lencode[la&(1<<M.lenbits)-1],I=O>>>24,ka=O>>>16&255,va=65535&O,!(Q>=I);){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}if(16>va)la>>>=I,Q-=I,M.lens[M.have++]=va;else{if(16===va){for(ka=
I+2;ka>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}if(la>>>=I,Q-=I,0===M.have){D.msg="invalid bit length repeat";M.mode=30;break}K=M.lens[M.have-1];H=3+(3&la);la>>>=2;Q-=2}else if(17===va){for(ka=I+3;ka>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}la>>>=I;Q-=I;K=0;H=3+(7&la);la>>>=3;Q-=3}else{for(ka=I+7;ka>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}la>>>=I;Q-=I;K=0;H=11+(127&la);la>>>=7;Q-=7}if(M.have+H>M.nlen+M.ndist){D.msg="invalid bit length repeat";M.mode=30;break}for(;H--;)M.lens[M.have++]=
K}}if(30===M.mode)break;if(0===M.lens[256]){D.msg="invalid code -- missing end-of-block";M.mode=30;break}if(M.lenbits=9,L={bits:M.lenbits},pa=q(1,M.lens,0,M.nlen,M.lencode,0,M.work,L),M.lenbits=L.bits,pa){D.msg="invalid literal/lengths set";M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,L={bits:M.distbits},pa=q(2,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,L),M.distbits=L.bits,pa){D.msg="invalid distances set";M.mode=30;break}if(M.mode=20,6===F)break a;case 20:M.mode=21;case 21:if(6<=ba&&258<=
V){D.next_out=N;D.avail_out=V;D.next_in=ea;D.avail_in=ba;M.hold=la;M.bits=Q;g(D,ja);N=D.next_out;T=D.output;V=D.avail_out;ea=D.next_in;P=D.input;ba=D.avail_in;la=M.hold;Q=M.bits;12===M.mode&&(M.back=-1);break}for(M.back=0;O=M.lencode[la&(1<<M.lenbits)-1],I=O>>>24,ka=O>>>16&255,va=65535&O,!(Q>=I);){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}if(ka&&0===(240&ka)){var Aa=I;var da=ka;for(J=va;O=M.lencode[J+((la&(1<<Aa+da)-1)>>Aa)],I=O>>>24,ka=O>>>16&255,va=65535&O,!(Q>=Aa+I);){if(0===ba)break a;ba--;la+=
P[ea++]<<Q;Q+=8}la>>>=Aa;Q-=Aa;M.back+=Aa}if(la>>>=I,Q-=I,M.back+=I,M.length=va,0===ka){M.mode=26;break}if(32&ka){M.back=-1;M.mode=12;break}if(64&ka){D.msg="invalid literal/length code";M.mode=30;break}M.extra=15&ka;M.mode=22;case 22:if(M.extra){for(ka=M.extra;ka>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}M.length+=la&(1<<M.extra)-1;la>>>=M.extra;Q-=M.extra;M.back+=M.extra}M.was=M.length;M.mode=23;case 23:for(;O=M.distcode[la&(1<<M.distbits)-1],I=O>>>24,ka=O>>>16&255,va=65535&O,!(Q>=I);){if(0===
ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}if(0===(240&ka)){Aa=I;da=ka;for(J=va;O=M.distcode[J+((la&(1<<Aa+da)-1)>>Aa)],I=O>>>24,ka=O>>>16&255,va=65535&O,!(Q>=Aa+I);){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}la>>>=Aa;Q-=Aa;M.back+=Aa}if(la>>>=I,Q-=I,M.back+=I,64&ka){D.msg="invalid distance code";M.mode=30;break}M.offset=va;M.extra=15&ka;M.mode=24;case 24:if(M.extra){for(ka=M.extra;ka>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}M.offset+=la&(1<<M.extra)-1;la>>>=M.extra;Q-=M.extra;M.back+=M.extra}if(M.offset>
M.dmax){D.msg="invalid distance too far back";M.mode=30;break}M.mode=25;case 25:if(0===V)break a;if(H=ja-V,M.offset>H){if(H=M.offset-H,H>M.whave&&M.sane){D.msg="invalid distance too far back";M.mode=30;break}H>M.wnext?(H-=M.wnext,E=M.wsize-H):E=M.wnext-H;H>M.length&&(H=M.length);ka=M.window}else ka=T,E=N-M.offset,H=M.length;H>V&&(H=V);V-=H;M.length-=H;do T[N++]=ka[E++];while(--H);0===M.length&&(M.mode=21);break;case 26:if(0===V)break a;T[N++]=M.length;V--;M.mode=21;break;case 27:if(M.wrap){for(;32>
Q;){if(0===ba)break a;ba--;la|=P[ea++]<<Q;Q+=8}if(ja-=V,D.total_out+=ja,M.total+=ja,ja&&(D.adler=M.check=M.flags?v(M.check,T,ja,N-ja):u(M.check,T,ja,N-ja)),ja=V,(M.flags?la:p(la))!==M.check){D.msg="incorrect data check";M.mode=30;break}Q=la=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;32>Q;){if(0===ba)break a;ba--;la+=P[ea++]<<Q;Q+=8}if(la!==(4294967295&M.total)){D.msg="incorrect length check";M.mode=30;break}Q=la=0}M.mode=29;case 29:pa=1;break a;case 30:pa=-3;break a;case 31:return-4;default:return w}D.next_out=
N;D.avail_out=V;D.next_in=ea;D.avail_in=ba;M.hold=la;M.bits=Q;if(ea=M.wsize||ja!==D.avail_out&&30>M.mode&&(27>M.mode||4!==F)){ea=D.output;N=D.next_out;P=ja-D.avail_out;var ca;ba=D.state;ea=(null===ba.window&&(ba.wsize=1<<ba.wbits,ba.wnext=0,ba.whave=0,ba.window=new k.Buf8(ba.wsize)),P>=ba.wsize?(k.arraySet(ba.window,ea,N-ba.wsize,ba.wsize,0),ba.wnext=0,ba.whave=ba.wsize):(ca=ba.wsize-ba.wnext,ca>P&&(ca=P),k.arraySet(ba.window,ea,N-P,ca,ba.wnext),P-=ca,P?(k.arraySet(ba.window,ea,N-P,P,0),ba.wnext=
P,ba.whave=ba.wsize):(ba.wnext+=ca,ba.wnext===ba.wsize&&(ba.wnext=0),ba.whave<ba.wsize&&(ba.whave+=ca))),0)}return ea?(M.mode=31,-4):(Y-=D.avail_in,ja-=D.avail_out,D.total_in+=Y,D.total_out+=ja,M.total+=ja,M.wrap&&ja&&(D.adler=M.check=M.flags?v(M.check,T,ja,D.next_out-ja):u(M.check,T,ja,D.next_out-ja)),D.data_type=M.bits+(M.last?64:0)+(12===M.mode?128:0)+(20===M.mode||15===M.mode?256:0),(0===Y&&0===ja||4===F)&&pa===x&&(pa=-5),pa)};m.inflateEnd=function(D){if(!D||!D.state)return w;var F=D.state;return F.window&&
(F.window=null),D.state=null,x};m.inflateGetHeader=function(D,F){var H;return D&&D.state?(H=D.state,0===(2&H.wrap)?w:(H.head=F,F.done=!1,x)):w};m.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":2,"./adler32":4,"./crc32":6,"./inffast":8,"./inftrees":10}],10:[function(A,a){var m=A("../utils/common"),p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,
16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(c,b,e,f,k,u,v,g){var q,x,w,B,z,C;var y=g.bits;var D=0,F=0,H=0,E=0,I=0,J=0,K=0,L=q=0,O=0,U=null,S=0,M=new m.Buf16(16);J=new m.Buf16(16);var N=null,T=0;for(D=0;15>=D;D++)M[D]=0;for(F=0;f>F;F++)M[b[e+F]]++;I=y;for(E=15;1<=E&&0===M[E];E--);if(I>E&&(I=E),0===
E)return k[u++]=20971520,k[u++]=20971520,g.bits=1,0;for(H=1;E>H&&0===M[H];H++);H>I&&(I=H);for(D=q=1;15>=D;D++)if(q<<=1,q-=M[D],0>q)return-1;if(0<q&&(0===c||1!==E))return-1;J[1]=0;for(D=1;15>D;D++)J[D+1]=J[D]+M[D];for(F=0;f>F;F++)0!==b[e+F]&&(v[J[b[e+F]]++]=F);if(0===c?(U=N=v,B=19):1===c?(U=p,S-=257,N=t,T-=257,B=256):(U=n,N=h,B=-1),O=0,F=0,D=H,y=u,J=I,K=0,w=-1,L=1<<I,f=L-1,1===c&&852<L||2===c&&592<L)return 1;for(var V=0;;){V++;var ea=D-K;v[F]<B?(z=0,C=v[F]):v[F]>B?(z=N[T+v[F]],C=U[S+v[F]]):(z=96,C=
0);q=1<<D-K;H=x=1<<J;do x-=q,k[y+(O>>K)+x]=ea<<24|z<<16|C|0;while(0!==x);for(q=1<<D-1;O&q;)q>>=1;if(0!==q?(O&=q-1,O+=q):O=0,F++,0===--M[D]){if(D===E)break;D=b[e+v[F]]}if(D>I&&(O&f)!==w){0===K&&(K=I);y+=H;J=D-K;for(q=1<<J;E>J+K&&(q-=M[J+K],!(0>=q));)J++,q<<=1;if(L+=1<<J,1===c&&852<L||2===c&&592<L)return 1;w=O&f;k[w]=I<<24|J<<16|y-u|0}}return 0!==O&&(k[y+O]=D-K<<24|4194304),g.bits=I,0}},{"../utils/common":2}],11:[function(A,a){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error",
"-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],12:[function(A,a){a.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}]},{},[1])(1)})},"ceviewer/ui/Search":function(){define("dojo/string dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/on dojo/mouse dojo/topic arcgis3d/utils/SearchHelper ceviewer/utils/LocalizationHelper ceviewer/utils/WebViewerUtils".split(" "),
function(G,A,a,m,p,t,n,h,c,b){return A(null,{constructor:function(e,f){function k(){w=0;u(!1);var y=z.value;a.add(C,"spinner brightblue");var D=g.searcher.findMatches(y);z.value=D.termMatched;v(D,x,y);a.remove(C,"spinner")}function u(y){C.className=!0===y?"iconSearch":"iconSearchClear"}function v(y,D,F){function H(M,N){N=N||35;return M.length>N?M.substring(0,N)+"...":M}function E(M,N){var T=H(M[0].getName()),V=new UIUtils.ComboButton({text:T,text2:H(function(ea){return"name"in ea?c.i18n().nameIs+
ea.name:"oname"in ea?"":"layer"in ea?"":"attributeN"in ea?G.substitute(c.i18n().keyValueIs,{key:ea.attributeN,value:ea.attributeV}):"reportN"in ea?G.substitute(c.i18n().keyValueIs,{key:ea.reportN,value:ea.reportV}):"metadataN"in ea?G.substitute(c.i18n().keyValueIs,{key:ea.metadataN,value:ea.metadataV}):"material"in ea?"Material is "+ea.material:""}(M[1])),text3:H(c.i18n().resultInLayer+M[1].layerName),"class":"searchResultItem",icon2:"icon_frame"});UIUtils.hide(V.icon2);p(V.text,"click",function(){f.setSelectionObject(M[0]);
f.frame(M[0],2)});p(V.button,t.enter,function(){UIUtils.show(V.icon2);f.setSelectionObject(M[0],!0)});p(V.button,t.leave,function(){UIUtils.hide(V.icon2)});p(V.icon2,"click",function(){f.frame(M[0],2)});N.appendChild(V.button)}function I(M,N){N=m.create("div",{innerHTML:c.i18n().addtnlHiddenLyrs,"class":"resultCount resultsHidden"},N);for(l in M)m.create("div",{innerHTML:y.hidden[l]+""+c.i18n().resultIn+H(l),"class":"resultsHiddenL"},N)}function J(){var M=y.visible.slice(15*w,15*(w+1)),N;for(N in M)M=
m.create("li",{},K),new E(y.visible[N],M);15*(w+1)<y.visible.length?UIUtils.show(L):UIUtils.hide(L)}if(D.hasChildNodes())for(;1<=D.childNodes.length;)D.removeChild(D.firstChild);if(y){this.currentHitsVisible=y.visible.length;this.currentHitsHidden=Object.keys(y.hidden).length;m.create("div",{innerHTML:this.currentHitsVisible+c.i18n().resultsFound,"class":"resultCount"},D);0<this.currentHitsHidden&&I(y.hidden,D);var K=m.create("ul",{},D);D=m.create("div",{"class":"panePadded paneFoot"},D);var L=m.create("button",
{"class":"showMore",innerHTML:c.i18n().showMore},D);for(D=0;D<B.length;D++)B[D].remove();B.length=0;var O=[],U=!1;J();p(L,"click",function(){w++;J()});for(var S in y.visible)O.push(y.visible[S][0].getId());(U=0<O.length)&&F&&""!=F.trim()?f._stage.setHighlightObjects(O,{holdTime:-1}):f._stage.setHighlightObjects(O,{fadeInTime:0,fadeOutTime:0,holdTime:0});S=function(M){if("search"===M.pane){M=U;U=0<O.length;var N={};M&&(N.fadeInTime=0);U&&F&&""!=F.trim()?N.holdTime=-1:N={fadeInTime:0,fadeOutTime:0,
holdTime:0};f._stage.setHighlightObjects(O,N)}else M.tabClick&&(f._stage.setHighlightObjects([]),U=!1)};B.push(n.subscribe("/menu/pane-change",S));B.push(n.subscribe("/menu/show",S))}else m.create("div",{innerHTML:c.i18n().searchIncorrect,"class":"resultCount"},D)}var g=this;e=m.create("div",{id:"divSearch"},e);var q=m.create("div",{id:"searchFieldContainer"},e),x=m.create("div",{id:"searchResultList"},e);this.searcher=new h(f);var w=0,B=[],z=m.create("input",{id:"searchField",type:"text",placeholder:c.i18n().searchHint,
onkeyup:function(y){u(!0);13===y.keyCode&&k()}},q),C=m.create("div",{id:"searchFieldButton","class":"iconSearch",innerHTML:"\x26nbsp;"},q);p(C,"click",function(){"iconSearch"==C.className?k():(m.empty(x),z.value="",z.focus(),u(!0),f._stage.setHighlightObjects([],{holdTime:0}))})},update:function(){this.searcher.updateMap()}})})},"ceviewer/ui/Settings":function(){define("dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/dom-construct dojo/dom-attr dojo/dom-class dojo/on ./components/Slider ceviewer/utils/LocalizationHelper ceviewer/utils/SunUtils engine/lib/Util".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e){var f=c.i18n();return G(null,{constructor:function(k,u){function v(T){H=F;var V=w.mainCalc(T.getDate(),T.getMonth()+1,T.getFullYear(),10,0,0,H,D[0],D[1]);T=V.sunrise.time;var ea=V.sunset.time;V.sunrise.polarDay||V.sunrise.polarNight||(T-=.5,ea+=.5);V=I.getInRange();I.setRange(T,ea);I.setInRange(V)}var g=this,q=m.create("div",{id:"lightingDiv"},k);m.create("div",{"class":"paneSubTitle",innerHTML:f.sunLight},q);var x=u.viewport._stage,w=new SunUtils;this._dLight_orig=
x.getDirectionalLight().intensity;this._aLight_orig=x.getAmbientLight().intensity;for(var B={},z={},C=0;11>=C;C++)z[C]=new Date(2013,C,15),B[C]=a.format(z[C],{selector:"date",formatLength:"long",datePattern:"MMMM"});var y=z[2],D=[47.383333,8.533333],F=Math.round(D[1]/15),H=F,E=m.create("div",{id:"sunSettingsContainer","class":"sliderContainer"},q);C=m.create("div",{id:"sunSliderContainer","class":"sliderContainer"},E);var I=new h("sunSlider",function(T,V){var ea=new Date(y);ea.setHours(Math.floor(V));
ea.setMinutes(60*(V-Math.floor(V)));if(!u.viewport.setDate(ea)){ea=w.numToTime(V);ea=w.mainCalc(y.getDate(),y.getMonth()+1,y.getFullYear(),ea[0],ea[1],0,H,D[0],D[1]);var P=w.timeToLightSettings(V,ea.sunrise.polarDay,ea.sunrise.polarNight),ba=P.diffuseIntensity*g._dLight_orig,la=P.ambientIntensity*g._aLight_orig;if(u&&u._mapConfig&&u._mapConfig.isGlobe){var Q=mat4.create();mat4.identity(Q);computeGlobeTransformation(D,1,Q);var Y=azimuthElevationAngle2Direction(deg2rad(180-ea.azimuth),deg2rad(ea.elevation)),
ja=[];mat4.multiplyVec3(Q,Y,ja);vec3.subtract(ja,[Q[12],Q[13],Q[14]]);vec3.normalize(ja);x.setDirectionalLight({direction:ja,intensity:ba,color:P.diffuseColor})}else x.setDirectionalLight({direction:azimuthElevationAngle2Direction(deg2rad(180-ea.azimuth),deg2rad(ea.elevation)),intensity:ba,color:P.diffuseColor});x.setAmbientLight({intensity:la,color:P.ambientColor});J&&(ba=new Date,ba.setHours(Math.floor(V)),ba.setMinutes(60*(V-Math.floor(V))),V=a.format(ba,{selector:"time",formatLength:"short"}),
J.value=V,ea.sunrise.polarDay?J.value=J.value:ea.sunrise.polarNight?J.value="--:--":.1>T?J.value+=" ("+f.sunrise+")":.9<T&&(J.value+=" ("+f.sunset+")"))}},C);I.setRange(0,24);I.set(.6);C=I.getHandle();p.set(C,"style","position:relative;left:60%;");C=I.getBar();m.create("div",{id:"sunsliderLine"},C);v(y);var J=m.create("input",{id:"sunTime",value:f.dragSunSliderHint,readonly:"readonly"},E);C=m.create("div",{"class":"sunDropdownDiv",id:"gmtDropdownDiv"},E);var K=m.create("select",{id:"gmtSelect"},C);
for(C=12;0<C;C--)m.create("option",{innerHTML:"GMT-"+C,value:-C},K);m.create("option",{innerHTML:"GMT-0",value:0},K);for(C=1;12>=C;C++)m.create("option",{innerHTML:"GMT+"+C,value:C},K);K.value=F;n(K,"change",function(T){F=Number(this.options[this.selectedIndex].value);y=z[L.selectedIndex];v(y)});C=m.create("div",{"class":"sunDropdownDiv",id:"seasonDropdownDiv"},E);var L=m.create("select",{id:"seasonSelect"},C);n(L,"change",function(T){y=T=z[this.options[this.selectedIndex].value];v(T)});for(var O in z)m.create("option",
{id:O+"_button","class":"seasonButton",innerHTML:B[O],value:O},L);m.create("div",{"class":"clr"},E);L.selectedIndex=2;m.create("div",{"class":"paneSubTitle",innerHTML:f.shadowing},q);var U=new function(T){T=m.create("div",{id:"sunSettingsContainer","class":"sliderContainer"},T);if(void 0!==x.getRenderParams().shadowMap){var V=new UIUtils.ComboButton({text:f.directShadow,icon1:"icon_check","class":"s0 simple"});n(V.button,"click",A.hitch(V,function(){this.toggleState();x.setRenderParams({shadowMap:1===
this.getState()})}));V.setState(x.getRenderParams().shadowMap?1:0);T.appendChild(V.button)}if(void 0!==x.getRenderParams().ssao){var ea=new UIUtils.ComboButton({text:f.diffuseShadow,icon1:"icon_check","class":"s0 simple"});ea.setState(x.getRenderParams().ssao?1:0);n(ea.button,"click",A.hitch(ea,function(){this.toggleState();x.setRenderParams({ssao:1===this.getState()})}));T.appendChild(ea.button)}void 0===x.getRenderParams().shadowMap&&void 0===x.getRenderParams().ssao&&(m.create("div",{},T).textContent=
f.featureNotSupported);this.set=function(P,ba){V&&V.setState(P?1:0);ea&&ea.setState(ba?1:0)}}(q),S;m.create("div",{"class":"paneSubTitle",innerHTML:f.screenshot},k);var M=m.create("div",{id:"screenshotContainer"},k),N=new function(T){function V(ka){function va(ma){var qa=atob(ma.split(",")[1]);ma=ma.split(",")[0].split(":")[1].split(";")[0];var ta=new ArrayBuffer(qa.length);ta=new Uint8Array(ta);for(var Ca=0;Ca<qa.length;Ca++)ta[Ca]=qa.charCodeAt(Ca);return new Blob([ta],{type:ma})}var Aa=ea.name+
P.suffix;try{if(void 0!==ba.download)ba.setAttribute("download",Aa),ba.setAttribute("href",ka),ba.click();else if(window.Blob&&window.navigator&&window.navigator.msSaveBlob){var da=va(ka);navigator.msSaveBlob(da,Aa)}else if(window.Blob&&window.URL&&window.URL.createObjectURL){da=va(ka);var ca=URL.createObjectURL(da);requestAnimationFrame(function(){null==window.open(ca,"_blank")&&setTimeout(function(){S=m.create("a",{id:"nopopupScreenshotDownloadLink",innerHTML:f.open,target:"_blank",href:ca},M)},
80)})}}catch(ma){console.error(ma)}}var ea=this,P={mime:"image/jpeg",suffix:".jpg",compression:.8};this.name="screenshot";T=m.create("button",{innerHTML:f.save,"class":"screenshotSave"},M);n(T,"click",function(){S&&(m.destroy(S),S=void 0);ja&&(clearTimeout(ja),ja=void 0,UIUtils.fadeOut(Y));var ka=la.options[la.selectedIndex].value,va=Q[la.selectedIndex].w,Aa=Q[la.selectedIndex].h;if("select"!=ka)if("viewport"==ka)x.requestScreenCapture(V,P.mime,P.compression);else{ka=u.getCamera();var da=u.viewport.getRect()[2],
ca=u.viewport.getRect()[3],ma=ka.fov;da/ca>va/Aa&&(ma=fovy2fovx(fovx2fovy(ka.fov,da,ca),va,Aa));ka=x.renderScreenshots(va,Aa,[[ka.position,ka.target,ma]]);V(byteBuffer2base64image(ka[0],va,Aa,P.mime,P.compression))}});var ba=m.create("a",{style:"display:none"},M),la=m.create("select",{id:"screenshotSelect"},M),Q=[{key:"viewport",label:f.viewportSize},{key:"hd720",label:"HD 720",w:1280,h:720},{key:"fullhd",label:"Full HD",w:1920,h:1080},{key:"ultrahd",label:"Ultra HD",w:3840,h:2160},{key:"cinemascope",
label:"Cinemascope",w:2560,h:1080},{key:"ipad",label:"iPad",w:2048,h:1536},{key:"square",label:"Square",w:2048,h:2048},{key:"letter",label:"Letter",w:3300,h:2550},{key:"a4",label:"A4",w:3508,h:2480}],Y=m.create("div",{"class":"screenshotOverlay"},u._mapWrapper);UIUtils.fadeOut(Y);var ja=void 0;n(la,"change",function(ka){S&&(m.destroy(S),S=void 0);if(-1!=this.selectedIndex){ja&&clearTimeout(ja);ka=Q[this.selectedIndex];Y.style.borderTop="0";Y.style.borderBottom="0";Y.style.borderLeft="0";Y.style.borderRight=
"0";if("viewport"!==ka.key){ka=ka.w/ka.h;var va=u.viewport.getRect()[2],Aa=u.viewport.getRect()[3],da=Math.floor((Aa-va/ka)/2);0<=da?(Y.style.borderTop=da+"px solid rgba(0,0,0,0.8)",Y.style.borderBottom=da+"px solid rgba(0,0,0,0.8)"):(da=Math.floor((va-Aa*ka)/2),Y.style.borderLeft=da+"px solid rgba(0,0,0,0.8)",Y.style.borderRight=da+"px solid rgba(0,0,0,0.8)")}Y.textContent=this.options[this.selectedIndex].text;UIUtils.fadeIn(Y);ja=setTimeout(function(){UIUtils.fadeOut(Y)},3500)}});for(T=0;T<Q.length;T++){var pa=
Q[T];m.create("option",{innerHTML:pa.label+(pa.w?" ("+pa.w+"\x26times;"+pa.h+")":""),value:pa.key},la)}}(M);this.update=function(T,V,ea){this._dLight_orig=V.intensity;this._aLight_orig=ea.intensity;U.set(V.shadowMap,ea.ssao);V=T.extentLatLon;D=void 0!==V?[lerp(V[0][0],V[1][0],.5),lerp(V[0][1],V[1][1],.5)]:[8.533333,47.383333];F=Math.round(D[1]/15);K.value=F;v(z[L.selectedIndex]);V=I.getHandle();p.set(V,"style","position:relative;left:60%;");J.value=f.dragSunSliderHint;T.name&&(N.name=T.name)}}})})},
"ceviewer/utils/SunUtils":function(){define([],function(){window.SunUtils=function(){function G(n,h,c,b){for(var e=[],f=0;f<c.length;f++)e[f]=(b[f]-c[f])*n/h+c[f];return e}function A(n){n%=24;var h=Math.floor(n);return[h,Math.floor(60*(n-h))]}function a(n,h,c,b,e,f,k,u,v){b-=k;d=367*c-m(7*(c+m(h+9,12)),4)+m(275*h,9)+n-730530;var g=d=d+b/24+e/1440+f/86400;var q=Math.PI;n=[];h=282.9404+4.70935E-5*g;c=.016709-1.151E-9*g;e=356.047+.9856002585*g;b=23.4393-3.563E-7*g;f=h+p(e);f=p(f);var x=e+180/q*c*Math.sin(t(e))*
(1+c*Math.cos(t(e)));x=p(x);var w=1*Math.cos(t(x))-c;var B=1*Math.sin(t(p(x)))*Math.sqrt(1-c*c);var z=Math.sqrt(w*w+B*B);x=p(180*Math.atan2(B,w)/Math.PI+h);w=z*Math.cos(t(x));B=z*Math.sin(t(x));var C=0;var y=w;var D=B*Math.cos(t(b))+C*Math.sin(t(b));w=B*Math.sin(t(b))+C*Math.cos(t(b));z=p(180*Math.atan2(D,y)/Math.PI);y=180*Math.atan2(w,Math.sqrt(y*y+D*D))/Math.PI;D=f+180;g=D+360*(g-Math.floor(g))+v-z;w=Math.cos(g*q/180)*Math.cos(y*q/180);B=Math.sin(g*q/180)*Math.cos(y*q/180);C=Math.sin(y*q/180);g=
w*Math.sin(u*q/180)-C*Math.cos(u*q/180);C=q=w=180*Math.asin(w*Math.cos(u*q/180)+C*Math.sin(u*q/180))/Math.PI;C=Math.abs(w+.589);refraction=Math.abs(.58804392+-.17941557*C+.029906946*C*C+-.00251874*C*C*C+8.2622101E-5*C*C*C*C);C=10.2<w?w+.01617*(Math.cos(t(Math.abs(w)))/Math.sin(t(Math.abs(w)))):w+refraction;SunAzimuth=180*Math.atan2(B,g)/Math.PI;n[0]=C;n[1]=SunAzimuth+180;n[2]=y;n[3]=x;n[4]=z;n[5]=p(D);n[6]=p(e);n[7]=p(h);n[8]=p(c);n[9]=p(b);n[10]=q;n[11]=f;h=n[0];-5<n[10]?(h=""+h,c=parseFloat(h),
SunElevation=5>=h.length?h:-1!=h.indexOf("e")||99999.4<c?"*****":(""+(c+(c-parseFloat(h.substring(0,5))))).substring(0,5)):SunElevation=0;h=n[2];v=(n[4]-n[5]-v)/15;n=Math.PI;u=(Math.sin(-.833*n/180)-Math.sin(u*n/180)*Math.sin(h*n/180))/(Math.cos(u*n/180)*Math.cos(h*n/180));-1>u?sunrisesetArr={sunrise:{time:0,polarDay:!0},sunset:{time:24,polarDay:!0}}:1<u?sunrisesetArr={sunrise:{time:0,polarNight:!0},sunset:{time:.1,polarNight:!0}}:(LHA=Math.acos(u),LHAD=LHA/n*180,LHAh=LHAD/15,sunrise=v-LHAh+k,sunset=
v+LHAh+k,sunrise2=0>sunrise?sunrise+24:sunrise,sunset2=0>sunrise?sunset+24:sunset,sunrisesetArr={sunrise:{time:sunrise2},sunset:{time:sunset2}});return{azimuth:Number(SunAzimuth),elevation:Number(SunElevation),sunrise:sunrisesetArr.sunrise,sunset:sunrisesetArr.sunset}}function m(n,h){return(n-n%h)/h}function p(n){return n-360*Math.floor(n/360)}function t(n){return n*Math.PI/180}this._tsunrise;this._tsunset;this.mainCalc=function(n,h,c,b,e,f,k,u,v){b=a(n,h,c,b,e,f,k,u,v);this._tsunrise=b.sunrise.time;
this._tsunset=b.sunset.time;f=A(b.sunrise.time);e=A(b.sunset.time);f=a(n,h,c,f[0],f[1],0,0,u,v);n=a(n,h,c,e[0],e[1],0,0,u,v);b.sunrise.azimuth=f.azimuth;b.sunrise.elevation=f.elevation;b.sunset.azimuth=n.azimuth;b.sunset.elevation=n.elevation;return b};this.timeToLightSettings=function(n,h,c){var b=this._tsunrise,e=this._tsunset,f=e-b,k=b+f/2,u=f/4,v=k-u;u=k+u;var g=.06*f,q=g;f=b-g/2;g=b+g/2;b=e-q/2;e+=q/2;h&&(g=f=v=q=g=0,u=24);h=[.01,.3];q=[.8,.8,1];var x=[.01,.01,.01],w=[.8,.7],B=[1,.75,.75],z=
[.8,.8,1],C=[.9,1],y=[1,.98,.98],D=[.98,.98,1],F=[1,1],H=[1,1,1],E=[1,1,1],I=[0,0],J=[0,0],K=[0,0];n<f||n>e||c?(I=h,J=x,K=q):n<g?(c=g-f,I=G(n-f,c,h,w),J=G(n-f,c,x,B),K=G(n-f,c,q,z)):n<v?(c=v-g,I=G(n-g,c,w,C),J=G(n-g,c,B,y),K=G(n-g,c,z,D)):n<k?(c=k-v,I=G(n-v,c,C,F),J=G(n-v,c,y,H),K=G(n-v,c,D,E)):n<u?(c=u-k,I=G(n-k,c,F,C),J=G(n-k,c,H,y),K=G(n-k,c,E,D)):n<b?(c=b-u,I=G(n-u,c,C,w),J=G(n-u,c,y,B),K=G(n-u,c,D,z)):n<e&&(c=e-b,I=G(n-b,c,w,h),J=G(n-b,c,B,x),K=G(n-b,c,z,q));return{diffuseIntensity:I[0],ambientIntensity:I[1],
diffuseColor:J,ambientColor:K}};this.numToTime=function(n){return A(n)};this.numToTimeNice=function(n){var h="am";0>n&&(n+=24);hm=A(n);12<=hm[0]&&(h="pm",12<hm[0]&&(hm[0]-=12));n=hm[1];10>hm[1]&&(n="0"+hm[1]);return hm[0]+":"+n+" "+h};this.getAnglesDefault=function(n,h,c){h=h||[20,3,2012,0];var b=Math.round(n[1]/15)+h[3];c=this.numToTime(c||14.4);return this.mainCalc(h[0],h[1],h[2],c[0],c[1],0,b,n[0],n[1])}}})},"ceviewer/ui/Share":function(){define("dojo/string dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/topic ceviewer/utils/LocalizationHelper ceviewer/ui/Comments ceviewer/utils/WebViewerUtils".split(" "),
function(G,A,a,m,p,t,n,h,c,b){return A(null,{constructor:function(e,f,k,u){this.configuration=u;this.map=f;this.store=k;this._comments=void 0;this.update=function(){k&&k.item&&k.item.id?!1!==k.item.commentsEnabled?this._comments=new c(e,f,k,u):p.create("div",{"class":"panePadded",innerHTML:h.i18n().commentsDisabledByOrgMsg},e):p.create("div",{"class":"panePadded",innerHTML:h.i18n().commentsPortalOnlyMsg},e)}}})})},"ceviewer/ui/Comments":function(){define("dojo/date dojo/date/locale dojo/_base/declare dojo/dom dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/mouse dojo/on dojo/topic dojo/io-query esri/symbols/PictureMarkerSymbol arcgis3d/Camera arcgis3d/geometry/Point3d arcgis3d/Graphic3d arcgis3d/layers/LayerGroup arcgis3d/layers/GraphicsLayer ceviewer/utils/LocalizationHelper ceviewer/utils/WebViewerUtils".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g,q,x,w){var B=a(null,{constructor:function(E,I,J){this.node=n.create("div",{id:I,"class":"outsideMarker"},E);this._viewmode=0;c(J,"viewModeChanged",function(K){this._viewmode=K.mode}.bind(this))},calc:function(E,I,J){E=J.viewport.getRect();if(I.onScreen)return{coords:[I.screenCoords[0]+I.screenCoordOrigin[0],I.screenCoords[1]+I.screenCoordOrigin[1]],angle:0};J=[];var K=0;K=[E[2]/2,E[3]/2];2==this._viewmode&&(K=[E[2]/4,E[3]/2]);3==this._viewmode&&(K=[E[2]/2,
E[3]/4]);var L=I.screenCoords,O=L[0]-K[0],U=L[1]-K[1];I=O/K[0];var S=U/K[1],M=2==this._viewmode?E[2]/2:E[2],N=3==this._viewmode?E[3]/2:E[3];Math.abs(I)>Math.abs(S)?(J[1]=U/Math.abs(I)+K[1],J[0]=Math.min(Math.max(L[0],0),M)):(J[0]=O/Math.abs(S)+K[0],J[1]=Math.min(Math.max(L[1],0),N));K=Math.atan(U/O);0>I&&(K+=Math.PI);3==this._viewmode&&(J[1]+=E[3]/2);return{coords:J,angle:K}},show:function(E,I){var J=this.node;UIUtils.show(J);J.style.left=E[0]-108+"px";J.style.bottom=E[1]-108+"px";E="rotate("+-I+
"rad)";J.style["-webkit-transform"]=E;J.style["-moz-transform"]=E;J.style["-o-transform"]=E;J.style["-ms-transform"]=E;J.style.transform=E},hide:function(){UIUtils.hide(this.node)}}),z=a(null,{constructor:function(E,I){this.node=n.create("div",{id:I,"class":"onscreenComment"},E);this._container=n.create("div",{"class":"onscreenCommentInner"},this.node);this._owner=n.create("div",{"class":"onscreenCommentOwner"},this._container);this._text=n.create("div",{"class":"onscreenCommentText"},this._container);
this._arrow=n.create("div",{"class":"onscreenCommentArrow"},this._container);this.hide()},setContent:function(E,I){this._owner.innerHTML=E;n.empty(this._text);this._text.appendChild(UIUtils.evalUrlsFromValue(unescape(I)))},show:function(E){var I=this.node;I.style.left=cround(E[0])+"px";I.style.bottom=cround(E[1])+"px";UIUtils.show(this.node)},hide:function(){UIUtils.hide(this.node)}}),C=a(null,{constructor:function(E,I){this.node=n.create("div",{"class":"centercross"},E);n.create("div",{"class":"centercross_img"},
this.node);this.hide();this._map=I;this._viewmode=0;this._position=this._calcPositionInMap();c(I,"viewModeChanged",function(J){this._viewmode=J.mode;J=this.node;2==this._viewmode?(J.style.left="25%",J.style.top="50%"):3==this._viewmode?(J.style.left="50%",J.style.top="25%"):(J.style.left="50%",J.style.top="50%");this._position=this._calcPositionInMap()}.bind(this))},show:function(){UIUtils.show(this.node)},hide:function(){UIUtils.hide(this.node)},_calcPositionInMap:function(){var E=this._map.viewport.getRect();
return[Math.round(2==this._viewmode?E[2]/4:E[2]/2),Math.round(3==this._viewmode?E[3]/4:E[3]/2)]},getPositionInMap:function(){return this._position=this._calcPositionInMap()}}),y=/.*( -- (https?:\/\/[bit.li|arcg.is].*))/,D=function(E){var I=E.match(y),J=!1;if(I){J=E.length-I[2].length;var K=E.length-I[1].length;J=E.substr(J)}return{idx:K,url:J}},F=a(null,{constructor:function(E,I){function J(K){if(this.comments&&0!=Object.keys(this.comments).length){var L=K.graphics;0<K.unselectedGraphics.length&&
K.unselectedGraphics[0].attributes.commentId==this.currentlyHighlightedId&&(this.onscreenComment.hide(),this.onscreenComment2.hide(),this.unhighlight());0<L.length&&(K=L[0].attributes.commentId,K in this.comments&&(this._highlightComment(K,!0),this.showOnscreenGeocomment(K)))}}this._configuration=E;this._map=I;this._commentsGraphicsLayerGroup=new g(x.i18n().commentsTitle,[],g.TYPE_COMPACT,"__GeoComments");this.currentlyHighlightedId=this._commentsGraphicsLayer2nd=this._commentsGraphicsLayer=void 0;
this.comments={};this.marker=new B(I._mapWrapper,"outsideMarker",I);this.onscreenComment=new z(I._mapWrapper,"onscreenComment");this.onscreenComment2=new z(I._mapWrapper,"onscreenComment2");this.symbol=new f({url:"./css/ui/comment_auth.png"});this.symbol.xoffsetSS=6;this.symbol.zoffsetSS=15;this.symbol.color.setColor([255,255,255,1]);this.symbol.height=64;this.symbol.width=64;this.symbol2nd=new f({url:"./css/ui/comment_act.png"});this.symbol2nd.xoffsetSS=6;this.symbol2nd.zoffsetSS=15;this.symbol2nd.height=
64;this.symbol2nd.width=64;this.symbol2nd.color.setColor([255,255,255,1]);this._commentsGraphicsLayer=new q({name:x.i18n().commentsByAuthor,id:"__GeoCommentsAuthor",symbol:this.symbol});this._commentsGraphicsLayer2nd=new q({name:x.i18n().commentsByOthers,id:"__GeoCommentsUser",symbol:this.symbol2nd});w.DetectMobileBrowser()&&(this._commentsGraphicsLayer.setVisibility(!1),this._commentsGraphicsLayer2nd.setVisibility(!1));c(this._commentsGraphicsLayer,"selectionChange",J.bind(this));c(this._commentsGraphicsLayer2nd,
"selectionChange",J.bind(this));c(I.viewport,"view-change",function(){UIUtils.isVisible(this.onscreenComment.node)&&(this.hideOnscreenComment(),I.setSelectionObject(void 0))}.bind(this))},_prepareGeocommentURL:function(E,I,J){var K=[E.geometry.x,E.geometry.y,E.geometry.z],L=vec3d.create(E.geometry.normal);I=this._configuration.toUrl(this._map.getLayerGroups(),this._map.getCamera(!0),!0,I.getShareUrlBase(!0),K,L);K={};E.mode&&0!=E.mode&&(K.m=E.mode);L="";for(var O in K)L+="\x26"+O+"\x3d"+K[O].toString();
O=I.direct+=L;UIUtils.shortenUrl(O,function(U){E.shorturl=U;J(U)})},_createGeoCommentFromURL:function(E,I,J,K){E=E.split("?")[1];if(void 0!==E){var L=e.queryToObject(E),O=this._configuration.evalLocFromURL(L);E=this._configuration.evalNormFromURL(L);I=this._configuration.evalBookmarkFromURL(L);L=this._configuration.evalLayerVisFromURL(L);if(O&&E&&I&&L){if(O[0]<K.center[0]-K.safetyDist||O[0]>K.center[0]+K.safetyDist||O[1]<K.center[1]-K.safetyDist||O[1]>K.center[1]+K.safetyDist||O[2]<K.center[2]-K.safetyDist||
O[2]>K.center[2]+K.safetyDist)return!1;K=new u(O);K.normal=E;return new v(K,"Comment",{view:I,lyr:L,commentId:J})}}return!1},_evalGeoURLs:function(E,I){var J=[],K=0,L;for(L in E){var O=E[L];O.comment=decodeURIComponent(unescape(O.comment));var U=D(O.comment);!O.graphic&&U.url&&(J.push({url:U.url,commentid:O.id}),K++)}0==J.length?I(E):(J=J.slice(0,15),UIUtils.expandBitlyURLs(J,p.hitch(this,function(S){for(var M in E)void 0!==S[E[M].id]&&(E[M].geoUrl=S[E[M].id]);I(E)})))},_highlightComment:function(E,
I){var J=m.byId("comment_"+E);J&&(I?(this.currentlyHighlightedId&&(I=m.byId("comment_"+this.currentlyHighlightedId),t.remove(I,"highlight")),t.add(J,"highlight"),this.currentlyHighlightedId=E):(t.remove(J,"highlight"),this.currentlyHighlightedId=void 0))},unhighlight:function(){this.currentlyHighlightedId&&this._highlightComment(this.currentlyHighlightedId,!1)},createGeocomment:function(E,I,J){var K=this._map;E=K.to3dCoordinates(E,!0);var L=void 0,O=void 0,U=K.getCamera(!0),S=U.position;L=U.target;
L=[L[0]-S[0],L[1]-S[1],L[2]-S[2]];O=Math.sqrt(L[0]*L[0]+L[1]*L[1]+L[2]*L[2]);O=[L[0]/O,L[1]/O,L[2]/O];E?(L=E.position,L=[L[0]+-.15*O[0],L[1]+-.15*O[1],L[2]+-.15*O[2]],O=E.normal):(L=[S[0]+10*O[0],S[1]+10*O[1],S[2]+10*O[2]],O=[0,0,0],K.setCamera(new k(S,L,U.fov)));K=this._configuration.toUrl(this._map.getLayerGroups(),U,!0,I.getShareUrlBase(!0),L,O);E=new u(L);E.normal=O;I.userIsOwner();var M=new v(E,"Comment",{view:K.params.view,lyr:K.params.lyr});this._prepareGeocommentURL(M,I,function(N){J(M,N)})},
update:function(E,I,J){for(var K in E)this.comments[E[K].id]&&(E[K]=this.comments[E[K].id]);this.comments={};this._commentsGraphicsLayer.empty();this._commentsGraphicsLayer2nd.empty();var L=function(){var O=Number.MAX_VALUE;O=[[O,O,O],[-O,-O,-O]];var U=that.map.getLayers();for(N in U){var S=U[N];if(S.visible&&S.renderer&&(S=S.renderer.getEngineLayer(),0<S.getObjects().length&&(S=S.getFullExtent(),void 0!==S)))for(var M=0;3>M;++M)O[0][M]=Math.min(O[0][M],S[0][M]),O[1][M]=Math.max(O[1][M],S[1][M])}var N=
that.map._stage.getViewParams({fovX:!0},!0).fovX;return{center:[(O[1][0]+O[0][0])/2,(O[1][1]+O[0][1])/2,(O[1][2]+O[0][2])/2],safetyDist:8*Math.max(Math.max(Math.max(O[1][0]-O[0][0]),O[1][1]-O[0][1],O[1][2]-O[0][2]))/Math.tan(N/2)}}();this._evalGeoURLs(E,function(){for(var O in E){var U=E[O];this.comments[U.id]=U;if(U.geoUrl&&!U.graphic){var S=this._createGeoCommentFromURL(U.geoUrl,U.byAuthor,U.id,L);S&&(U.graphic=S);if(D(U.comment).url){S=U;U=U.comment;var M=D(U);U=M.url?U.substr(0,M.idx):U;S.comment=
U}}}S=O=!1;for(var N in E)O|=E[N].byAuthor,S|=!E[N].byAuthor;O&&0>this._commentsGraphicsLayerGroup.layers.indexOf(this._commentsGraphicsLayer)?this._commentsGraphicsLayerGroup.addLayer(this._commentsGraphicsLayer):!O&&0<=this._commentsGraphicsLayerGroup.layers.indexOf(this._commentsGraphicsLayer)&&this._commentsGraphicsLayerGroup.removeLayer(this._commentsGraphicsLayer);S&&0>this._commentsGraphicsLayerGroup.layers.indexOf(this._commentsGraphicsLayer2nd)?this._commentsGraphicsLayerGroup.addLayer(this._commentsGraphicsLayer2nd):
!S&&0<=this._commentsGraphicsLayerGroup.layers.indexOf(this._commentsGraphicsLayer2nd)&&this._commentsGraphicsLayerGroup.removeLayer(this._commentsGraphicsLayer2nd);0<this._commentsGraphicsLayerGroup.layers.length&&0>this._map.getLayerGroups().indexOf(this._commentsGraphicsLayerGroup)?this._map.addLayerGroup(this._commentsGraphicsLayerGroup):0==this._commentsGraphicsLayerGroup.layers.length&&0<=this._map.getLayerGroups().indexOf(this._commentsGraphicsLayerGroup)&&this._map.removeLayerGroup(this._commentsGraphicsLayerGroup);
this._commentsGraphicsLayerGroup.setVisibility(!0);for(N in E)E[N].graphic&&(E[N].byAuthor?this._commentsGraphicsLayer.addGraphic(E[N].graphic):this._commentsGraphicsLayer2nd.addGraphic(E[N].graphic));J()}.bind(this))},hideOnscreenComment:function(){this.currentlyHighlightedId&&this.unhighlight();this.onscreenComment.hide();this.onscreenComment2.hide();this.marker.hide()},showOnscreenGeocomment:function(E){var I="string"==typeof E?this.comments[E]:E;if(!I)throw Error("comment "+E+" not found");this.onscreenComment.hide();
this.onscreenComment2.hide();if(this.isCommentVisible(I))if(E=this._map.viewport.toScreen(I.graphic.geometry),E[0].onScreen||E[1]&&E[1].onScreen){if(E[0].onScreen){var J=this.marker.calc(I,E[0],this._map);J[0]=Math.floor(J[0]);J[1]=Math.floor(J[1]);this.onscreenComment.setContent(I.owner,I.comment);this.onscreenComment.show(J.coords)}E[1]&&E[1].onScreen&&(J=this.marker.calc(I,E[1],this._map),J[0]=Math.floor(J[0]),J[1]=Math.floor(J[1]),this.onscreenComment2.setContent(I.owner,I.comment),this.onscreenComment2.show(J.coords))}else J=
this.marker.calc(I,E[0],this._map),this.marker.show(J.coords,J.angle)},_getAuthorCommentsLayer:function(){return this._commentsGraphicsLayer},_getOtherCommentsLayer:function(){return this._commentsGraphicsLayer2nd},_getCommentsLayerGroup:function(){return this._commentsGraphicsLayerGroup},_setCommentLayerVisible:function(E){if(!E.visible){var I=this._getCommentsLayerGroup();0==I.visible&&I.setVisibility(!0);E.setVisibility(!0)}},isCommentVisible:function(E){return E.byAuthor&&this._getAuthorCommentsLayer().visible||
!E.byAuthor&&this._getOtherCommentsLayer().visible?!0:!1}}),H=Object.freeze({ALL:"ALL",AUTHOR:"AUTHOR",OTHER:"OTHER"});return a(null,{constructor:function(E,I,J,K){function L(ca,ma,qa,ta){function Ca(wa,Ga,Na){var Ra=UIUtils.evalUrlsFromValue(unescape(wa.comment))||unescape(wa.comment),Sa=1==Ga%2?" odd":"";Ga=A.format(new Date(wa.created),{selector:"date",formatLength:"long"});Na=n.create("li",{"class":"commentBox"+Sa,id:"comment_"+wa.id},Na);var La=void 0;wa.graphic&&(La=n.create("div",{"class":"icon_comment geoCommentLoc"+
(wa.byAuthor?" author":"")},Na),c(La,"click",p.hitch(this,function(W){W=qa.getCamera(!0);var ia=new k(wa.graphic.attributes.view.position,wa.graphic.attributes.view.target);w.SetMapVisibilityFromList(qa,wa.graphic.attributes.lyr);P._getCommentsLayerGroup().setVisibility(!0);if(0==vec3d.dist(W.position,ia.position)&&0==vec3d.dist(W.target,ia.target))setTimeout(function(){P.showOnscreenGeocomment(wa)},100);else{qa.setCamera(ia);P.hideOnscreenComment();var sa=c(qa.viewport,"cameraChangeEnd",function(){sa.remove();
setTimeout(function(){P.showOnscreenGeocomment(wa)},100)})}})),c(Na,h.leave,function(W){t.replace(La,"icon_comment","icon_frame");P.hideOnscreenComment()}),c(Na,h.enter,function(W){P.unhighlight();t.replace(La,"icon_frame","icon_comment");P.showOnscreenGeocomment(wa)}));Na=n.create("div",{"class":"commentBoxLeft"+Sa},Na);n.create("div",{"class":"commentOwner",innerHTML:wa.owner},Na);n.create("div",{"class":"commentDate",innerHTML:Ga},Na);n.create("div",{"class":"commentText"},Na).appendChild(Ra)}
(function(wa){1>ta.authorComments||1>ta.userComments?T=H.ALL:(wa=n.create("select",{id:"commentsFilterSelect"},wa),n.create("option",{innerHTML:x.i18n().commentsShowAll,value:H.ALL},wa),n.create("option",{innerHTML:x.i18n().commentsShowAuthor,value:H.AUTHOR},wa),n.create("option",{innerHTML:x.i18n().commentsShowOthers,value:H.OTHER},wa),wa.selectedIndex=Object.keys(H).indexOf(T),c(wa,"change",function(Ga){T=Ga=Ga.target.options[Ga.target.selectedIndex].value;ea=0;switch(Ga){case H.AUTHOR:P&&(P._getAuthorCommentsLayer().setVisibility(!0),
P._getOtherCommentsLayer().setVisibility(!1),S());break;case H.OTHER:P&&(P._getAuthorCommentsLayer().setVisibility(!1),P._getOtherCommentsLayer().setVisibility(!0),S());break;case H.ALL:P&&(P._getAuthorCommentsLayer().setVisibility(!0),P._getOtherCommentsLayer().setVisibility(!0),S())}}.bind(N)))})(n.create("div",{id:"commentsFilter"},ma));for(var ha=n.create("ul",{id:"commentsList"},ma),fa=0;fa<ca.length;fa++)Ca(ca[fa],fa,ha);ma=n.create("div",{id:"commentsFoot"},ma);if(ca.length<V.length){ca=n.create("button",
{id:"showMore"},ma);n.create("span",{id:"showMoreT",innerHTML:x.i18n().showMore},ca);var ra=n.create("span",{id:"showMoreI","class":"spinner"},ca);c(ca,"click",function(){t.add(ra,"brightblue");ea++;S(function(){t.remove(ra,"brightblue")})})}}function O(ca,ma){ma.item.owner==ca.owner&&(ca.byAuthor=!0);return ca.byAuthor||!1}function U(ca){if(T==H.ALL)return ca;for(var ma=[],qa=J.item.owner,ta=0;ta<ca.length;ta++)T==H.AUTHOR&&ca[ta].owner===qa?ma.push(ca[ta]):T==H.OTHER&&ca[ta].owner!==qa&&ma.push(ca[ta]);
return ma}function S(ca){AgolUtils.getComments(J,J.item).then(function(ma){for(var qa={authorComments:0,userComments:0},ta=0;ta<ma.comments.length;ta++)O(ma.comments[ta],J)?qa.authorComments++:qa.userComments++;V=U(ma.comments);var Ca=V.slice(0,15*(ea+1));P?P.update(Ca,J,function(){ba.removeChild(Q);Q=n.create("div",{id:"commentsDiv"},ba);L(Ca,Q,I,qa)}):(ba.removeChild(Q),Q=n.create("div",{id:"commentsDiv"},ba),L(Ca,Q,I,qa));ca&&ca()})}function M(ca){ca?(UIUtils.hide(ja),UIUtils.show(pa)):(UIUtils.hide(pa),
UIUtils.show(ja))}var N=this,T=H.ALL,V=[],ea=0,P=void 0,ba=n.create("div",{id:"commentsArea"},E),la=n.create("div",{"class":"icon_update active",id:"commentsRefresh"},ba);c(la,"click",function(){S(function(){t.remove(la,"spinner brightblue")});t.add(la,"spinner brightblue")});E=n.create("div",{id:"addCommentDiv"},ba);var Q=n.create("div",{id:"commentsDiv"},ba),Y=new C(I._mapWrapper,I),ja=n.create("div",{id:"signInCommentField",innerHTML:'\x3cspan class\x3d"blue"\x3e'+x.i18n().signIn+"\x3c/span\x3e \x3cspan\x3e"+
x.i18n().commentHint+"\x3c/span\x3e"},E);ja.onclick=J.signIn;var pa=n.create("div",{id:"newCommentEnabled"},E);UIUtils.hide(pa);var ka=n.create("textarea",{id:"addCommentField",placeholder:x.i18n().commentAdd},pa);c(ka,"focus",function(){if(P){Y.show();var ca=c(document,"click",function(ma){if(void 0===ma.target||"map_canvas3d"!=ma.target.id&&"addCommentField"!=ma.target.id)Y.hide(),ca&&ca.remove()})}});E=n.create("button",{id:"publishComment",onclick:function(){function ca(ta){t.remove(va,"brightblue");
Aa.innerHTML=x.i18n().commentFail;S()}function ma(ta){t.remove(va,"brightblue");Aa.innerHTML="";ka.value="";P&&((ta=J.userIsOwner())&&T==H.OTHER&&(T=H.ALL),ta||T!=H.AUTHOR||(T=H.ALL));S()}if(""!==ka.value)if(t.add(va,"brightblue"),P){var qa=Y.getPositionInMap();P.createGeocomment(qa,J,function(ta,Ca){ta=ka.value;Ca&&(ta+=" -- "+Ca);AgolUtils.addComment(J,ta,ma,ca)})}else AgolUtils.addComment(J,ka.value,ma,ca)}},pa);n.create("span",{id:"publishCommentT",innerHTML:x.i18n().commentPublish},E);var va=
n.create("span",{id:"publishCommentI","class":"spinner"},E),Aa=n.create("div",{innerHTML:""},pa);M(!1);b.subscribe("/portal/signedin",function(ca){M(!0)});b.subscribe("/portal/signedout",function(ca){M(!1)});var da=!1;UIUtils.shortenUrl("http://www.esri.com",function(){P=new F(K,I);da&&S()});b.subscribe("/bookmarks/thumbnailsRendered",function(){da=!0;S()})}})})},"ceviewer/ui/Bookmarks":function(){define("dojo/_base/fx dojo/_base/declare dojo/Evented dojo/_base/window dojo/dom dojo/dom-construct dojo/on dojo/query dojo/topic dojo/keys ./components/HorizontalScrollbar arcgis3d/Camera esri/domUtils".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k){var u=A([a],{INTERPOLATION_SETTINGS:{fast:{speed:80,accel:100,maxtime:5},slow:{speed:50,accel:40,maxtime:10}},constructor:function(q,x,w,B){this._map=q;this.bmNumber=x;this.bmName=w;this.bm=B;this._isPlaying=!1;this.progressHandlers=[];this.startPlayCameraListener=function(){this._removeOnHandles();this.onHandle_cameraChangeEnd=n(q.viewport,"cameraChangeEnd",function(C){this._isPlaying=!1;this._removeOnHandles();this.interpolation.setStandard();"undefined"!==typeof app&&
app.updateSun();this.emit("bookmarkReached",{bubbles:!1,cancelable:!1,bmNumber:x,bmName:w,bm:B})}.bind(this));var z=function(C){this.cancel();this.emit("transitionInterrupted",{bubbles:!1,cancelable:!1})}.bind(this);this.onHandle_cameraChangeStart=n(q.viewport,"cameraChangeStart",z);this.onHandle_mapClick=n(q,"mapClick",z)};this.interpolation=function(){var z=q.getCamera(!0),C=q._stage.getTrackball(),y=Math.max(vec3.dist(z.position,B.position),vec3.dist(z.target,B.target));return{setStandard:function(){C.setInterpolation(new Trackball.DEFAULT_INTERPOLATION)},
setEaseInOut:function(D){var F=Math.max(D.speed,y/D.maxtime);D={speed:Math.round(F),accel:Math.round(D.accel/D.speed*F),time:-1};F=new Trackball.EASE_IN_OUT_INTERPOLATION(D.speed,D.accel);D.time=F.calculateInterpolationTime(y);C.setInterpolation(F);return D}}}()},_removeOnHandles:function(){"undefined"!==typeof this.onHandle_cameraChangeEnd&&(this.onHandle_cameraChangeEnd.remove(),this.onHandle_cameraChangeEnd=void 0);"undefined"!==typeof this.onHandle_cameraChangeStart&&(this.onHandle_cameraChangeStart.remove(),
this.onHandle_cameraChangeStart=void 0);"undefined"!==typeof this.onHandle_mapClick&&(this.onHandle_mapClick.remove(),this.onHandle_mapClick=void 0)},_go:function(q){this._isPlaying=!0;var x=this.interpolation.setEaseInOut(q);this.onHandle_cameraChangeStart=n(this._map.viewport,"cameraChangeStart",this.startPlayCameraListener.bind(this));this._map.setCamera(new f(this.bm.position,this.bm.target,deg2rad(this.bm.fov)));this.progressHandlers&&0<this.progressHandlers.length&&this.progressHandlers.forEach(function(w){w.timeoutHandle&&
clearTimeout(w.timeoutHandle);w.timeoutHandle=setTimeout(w.func,w.percentage?1E3*x.time*w.percentage:Math.max(1E3*x.time-w.timeToEnd,0))});return this.bmNumber},goFast:function(){return this._go(this.INTERPOLATION_SETTINGS.fast)},goSlow:function(){return this._go(this.INTERPOLATION_SETTINGS.slow)},cancel:function(){if(this._isPlaying){this._isPlaying=!1;this._removeOnHandles();this.interpolation.setStandard();var q=this._map.getCamera(!0);this._map.setCamera(q,!0);this.progressHandlers&&(this.progressHandlers.forEach(function(x){x&&
x.timeoutHandle&&(clearTimeout(x.timeoutHandle),x.timeoutHandle=void 0)}),this.progressHandlers=[]);return this.bmNumber}},isPlaying:function(){return this._isPlaying},addTransitionProgressListener:function(q,x,w){this.progressHandlers.push({timeToEnd:x,percentage:w,func:q})}}),v=A(null,{constructor:function(q,x,w,B){function z(){return H&&(F&&F.isPlaying()||J.isWaiting())}var C=this,y=b.SPACE,D,F,H=!1,E=Object.keys(x),I=1==E.length;this.togglePlay=function(){z()?C.pause():(H=!0,K.className="bookmarkPlayerButton playing",
C.play())};this.pause=function(){J.clearWait();z()&&F.cancel();H=!1;K&&(K.className="bookmarkPlayerButton");B.removeBookmarkChangedEventListener(C.pause)};this.play=function(){var L=F&&F.isPlaying()?F.cancel():B.getNextBookmarkNumber();this._doPlay(L)};this._doPlay=function(L,O){var U=x[E[L]];if(U){var S=w.getCamera(!0);if(arraysEqual(S.position,U.position)&&arraysEqual(S.target,U.target))console.log("camera and next bookmark are the same"),B.setCurrentBookmark(L),O||J.startWait();else{F&&F.isPlaying()&&
F.cancel();var M=E[L];F=new u(w,L,M,x[M]);n(F,"bookmarkReached",function(N){B.setCurrentBookmark(N.bmNumber);O||J.startWait()});n(F,"transitionInterrupted",function(){C.pause()});F.addTransitionProgressListener(function(){B.highlightBookmark(M)},2E3);O?F.goFast():F.goSlow()}}};var J=function(){var L=void 0;return{isWaiting:function(){return!!L},startWait:function(){assert(!L,"We are already waiting. TimeoutID should be undefined here.");L=setTimeout(function(){L=void 0;C.play()},B.WAIT_TIME)},clearWait:function(){L&&
(clearTimeout(L),L=void 0)}}}();this.addKeyDownListener=function(){D=n(m.doc,"keydown",function(L){L&&L.target&&("INPUT"==L.target.nodeName||"TEXTAREA"==L.target.nodeName)||(L.keyCode||L.charCode)!=y||C.togglePlay()})};this.removeKeyDownListener=function(){D&&(D.remove(),D=void 0)};this.goToBookmark=function(L){L=0>L?0:L;L=L>=E.length?E.length-1:L;B.getCurrentBookmark();var O=E[L];if(L==B.getCurrentBookmark()){var U=w.getCamera(!0);if((O=x[O])&&arraysEqual(O.position,U.position)&&arraysEqual(O.target,
U.target))return}z()&&C.pause();C._doPlay(L,!0)};if(I)I=function(){this.goToBookmark(0)}.bind(this),q=t.create("div",{id:"homeButton"},q),n(q,"click",I);else{var K=t.create("div",{id:"playerPlayPauseButton","class":"bookmarkPlayerButton"},q);K.onclick=function(){C.togglePlay()};this.addKeyDownListener()}},destroy:function(){this.removeKeyDownListener();this.pause()}}),g=A(null,{constructor:function(q,x,w,B,z){var C=this,y,D=b.PAGE_UP,F=b.PAGE_DOWN,H=-1,E=Object.keys(x),I=[];this._dojoSubscriptions=
[];this._scrollbar;this._player;for(var J in x)if(B=x[J],0>B.up[1]){var K=vec3d.create();vec3d.subtract(B.target,B.position,K);var L=vec3d.create();vec3d.normalize(K,L);var O=vec3d.create(B.up);O[1]=0;O=vec3d.length(O);O=1E-5>O?Math.PI/2:Math.atan(Math.abs(B.up[1])/O);var U=mat4d.identity(),S=vec3.create();vec3d.cross(L,B.up,S);mat4d.rotate(U,0>K[1]?O+.01:-O-.01,S);mat4d.multiplyVec3(U,K,K);vec3.set3(0,1,0,B.up);vec3d.add(B.position,K,B.target)}this._currentBookmarkTitle=function(P){function ba(){ja&&
(ja.stop(),ja=void 0);Y&&(clearTimeout(Y),Y=void 0)}function la(){ba();Y=setTimeout(function(){ja=G.fadeOut({node:pa,duration:1E3});ja.play()},1600)}function Q(ka){pa.textContent=ka;G.fadeIn({node:pa,duration:1400,onEnd:la}).play()}var Y,ja,pa=t.create("span",{id:"playerCurrent",className:"textNotSelectable"},P.parentNode);return{setCurrent:function(ka){ba();pa.textContent==ka?Q(ka):G.fadeOut({node:pa,duration:200,onEnd:function(){Q(ka)}}).play()},show:function(){},hide:function(){},destroy:function(){t.destroy(pa)}}}(q.parentNode);
this.getPlayer=function(){return this._player};this.hide=function(){M.style.display="none";this._currentBookmarkTitle.show()};this.show=function(){M.style.display="block";this._scrollbar.updateWidth();this._currentBookmarkTitle.hide()};this.clearHighlight=function(){h(".bookmark.highlight","bookmarksChooser").forEach(function(P,ba,la){P.className="bookmark"})};this.highlightBookmark=function(P,ba){C.clearHighlight();var la=p.byId(P+"_button");la&&(la.className="bookmark highlight");this._scrollbar.scrollIntoView(la);
ba||this._currentBookmarkTitle.setCurrent(P)};this.resetView=function(){H=0;C.highlightBookmark(E[0],!0);var P=x[E[0]],ba=new f(P.position,P.target,deg2rad(P.fov)),la=vec3d.create(),Q=vec3d.create();vec3d.subtract(P.target,P.position,Q);var Y=vec3d.length(Q);vec3d.normalize(Q);var ja=vec3d.create(),pa=vec3d.create();vec3d.normalize(vec3d.cross(Q,P.up,pa));vec3d.add(P.position,vec3d.scale(P.up,0*Y,ja),la);vec3d.add(la,vec3d.scale(pa,-1.1*Y,ja),la);vec3d.add(la,vec3d.scale(Q,-.3*Y,ja),la);P=new f(la,
P.target,deg2rad(P.fov));w.setCamera(P,!0);w.setCamera(ba)};this.addKeyDownListener=function(){y=n(m.doc,"keydown",function(P){if(!P||!P.target||"INPUT"!=P.target.nodeName&&"TEXTAREA"!=P.target.nodeName)P.keyCode==D?C.goToBookmark(C.getPreviousBookmarkNumber()):P.keyCode==F?C.goToBookmark(C.getNextBookmarkNumber()):(P=P.keyCode-96,!isNaN(P)&&0<=P&&P<E.length&&C.goToBookmark(P))})};this.removeKeyDownListener=function(){y&&(y.remove(),y=void 0)};this.goToBookmark=function(P){this._player.goToBookmark(P)};
this.getPreviousBookmarkNumber=function(){return 0>=H?E.length-1:H-1};this.getNextBookmarkNumber=function(){return H>=E.length-1?0:H+1};this.goToPreviousBookmark=function(){C.goToBookmark(C.getPreviousBookmarkNumber())};this.goToNextBookmark=function(){C.goToBookmark(C.getNextBookmarkNumber())};this.getCurrentBookmark=function(){return H};this.addBookmarkChangedEventListener=function(P,ba){I.push({func:P,context:ba})};this.removeBookmarkChangedEventListener=function(P){for(var ba=0;ba<I.length;ba++)I[ba].func===
P&&I.splice(ba,1)};this.setCurrentBookmark=function(P){var ba=E[H],la=E[P];H=P;for(P=0;P<I.length;P++){var Q=I[P];Q.func.call(Q.context,la,ba)}};var M=t.create("div",{id:"bookmarksChooser"},q);k.hide(M);J=t.create("div",{id:"bookmarksChooserScroller"},M);this._scrollbar=new e("bookmarksSlider",M,J,4);this._scrollbar.enableScrollTargetDrag();this._player=new v(q,x,w,C);this._dojoSubscriptions.push(c.subscribe("/menu/show",this._scrollbar.updateWidth));this._dojoSubscriptions.push(c.subscribe("/menu/hide",
this._scrollbar.updateWidth));C.addKeyDownListener();if(1<E.length){var N=function(){w.generateThumbnails(V,160,90).then(function(P){for(var ba=0;ba<E.length;ba++)P[ba]&&(T[ba].src=P[ba]);c.publish("/bookmarks/thumbnailsRendered")})},T=[];for(q=0;q<E.length;q++)B=E[q],K=t.create("span",{id:B+"_button",className:"bookmark",value:q,style:"width: 80px; height: 45px;"},J),t.create("p",{title:B,className:"textSelectable"},K).textContent=B,T[q]=t.create("img",{style:"width: 80px; height: 45px;"},K),K.addEventListener("click",
function(P){C.goToBookmark(this.value)},!0);var V=[],ea;for(ea in x)V.push(new f(x[ea].position,x[ea].target,deg2rad(x[ea].fov)));setTimeout(function(){if(z&&!w._stage.getAllTexturesLoaded()){var P=function(ba,la,Q){0===Q.length&&(w._stage.removeTextureListener(P),N())};w._stage.addTextureListener(P)}else N()},300)}else setTimeout(function(){c.publish("/bookmarks/thumbnailsRendered")},100)},destroy:function(){this._dojoSubscriptions&&this._dojoSubscriptions.length&&this._dojoSubscriptions.forEach(function(q){q.remove()});
this._currentBookmarkTitle.destroy();this._player.destroy();this.removeKeyDownListener();delete this._scrollbar;delete this._currentBookmarkTitle;delete this._player}});return A(null,{constructor:function(q,x,w,B,z,C){this._containerDiv=t.create("div",{style:"position:relative;width: 100%;height: 100%;","class":"textNotSelectable"},q);this._map=x;this._chooserVisible=!1;this._widgetConfig={initialCamera:B,isAutoPlay:z,isReducedUI:C};this.update(w);n(x,"bookmarksChanged",function(y){this.update(y.bookmarks)}.bind(this))},
update:function(q,x){this._bookmarksChooser&&(this._bookmarksChooser.destroy(),delete this._bookmarksChooser,this._bookmarksChooser=void 0,t.empty(this._containerDiv));if(q){var w=Object.keys(q);if(0!=w.length){this._bookmarksChooser=new g(this._containerDiv,q,this._map,this._widgetConfig.isReducedUI,x);if(this._widgetConfig.initialCamera)this._map.setCamera(this._widgetConfig.initialCamera,!0),this._widgetConfig.isAutoPlay&&1<w.length&&this._bookmarksChooser.getPlayer().togglePlay();else if(this._bookmarksChooser.resetView(),
this._widgetConfig.isAutoPlay&&1<w.length)n.once(this._map.viewport,"cameraChangeEnd",function(){this._bookmarksChooser.getPlayer().togglePlay()}.bind(this));this.openBookmarks()}}},toggleBookmarks:function(){this._chooserVisible?this.closeBookmarks():this.openBookmarks()},openBookmarks:function(){this._bookmarksChooser.show();this._chooserVisible=!0;c.publish("/bookmarks/show")},closeBookmarks:function(){this._bookmarksChooser.hide();this._chooserVisible=!1;c.publish("/bookmarks/hide")}})})},"ceviewer/ui/Head":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/topic dijit/Dialog ceviewer/utils/LocalizationHelper ceviewer/utils/UIUtils ceviewer/utils/AgolUtils ceviewer/ui/ShareUI".split(" "),
function(G,A,a,m,p,t,n,h,c,b){var e=G(null,{constructor:function(k){this.destroy=function(){x.remove();w.remove();u&&(u.parentNode&&u.parentNode.removeChild(u),u.innerHTML="",u=null)};var u=a.create("div",{"class":"signInOutButton"});this._signInDiv=u;var v=a.create("a",{"class":"signInButton",innerHTML:n.i18n().signIn,href:"#"},u);v.onclick=function(){k.signIn()};var g=a.create("a",{id:"signedInUser",href:AgolUtils.URLs().home+"content.html",target:"_blank"},u);UIUtils.hide(g);var q=a.create("a",
{target:"_blank",href:"#",id:"portalLink"},u);k.portal?AgolUtils.ConfigureAgolPortalLink(k.portal,q):setTimeout(function(){AgolUtils.ConfigureAgolPortalLink(k.portal,q)},1E3);var x=p.subscribe("/portal/signedin",function(B){v.innerHTML=n.i18n().signOut;g.innerHTML="("+k.portal.user.fullName+")";UIUtils.show(signedInUser,!0);v.onclick=function(){k.signOut()};UIUtils.hide(q)});var w=p.subscribe("/portal/signedout",function(B){UIUtils.hide(signedInUser);g.innerHTML="";v.innerHTML=n.i18n().signIn;v.onclick=
function(){k.signIn()};UIUtils.show(q,!0)})},appendTo:function(k){k.appendChild(this._signInDiv)}}),f=n.i18n().unnamedScene;return G(null,{constructor:function(k,u,v,g){function q(E){x&&(x.destroy(),x=null);x=new e(E,"","topSignInOutButton")}var x,w=u.item;this.update=function(E,I,J){var K=E.name;F.href=(I?I.helpUrls:void 0).helpViewer;I&&I.item?(z.textContent=I.item.title,UIUtils.setWindowTitle(I.item.title)):K&&"string"===typeof K?(z.textContent=K,UIUtils.setWindowTitle(K)):(z.innerHTML=f,UIUtils.setWindowTitle());
I&&I.portal&&AgolUtils.ConfigureAgolPortalLink(I.portal,H);(w=I&&I.item||void 0)?(z.onclick=function(){window.open(AgolUtils.URLs().homeitem+"?id\x3d"+w.id)},q(I),C.removeChild(H),x.appendTo(C)):x&&(z.onclick=function(){},C.removeChild(x),x.destroy(),x=null,C.appendChild(H));y&&y.update(E,J)};var B=a.create("div",{id:"title"},k),z=a.create("p",{target:"_blank",id:"titleLink"},B);z.textContent=f;w&&(z.href=AgolUtils.URLs().homeitem+"?id\x3d"+w.item.id);B=a.create("div",{id:"topLinksOuter"},k);a.create("div",
{id:"headGrad"},B);var C=a.create("div",{id:"topLinks"},B);a.create("div",{id:"headFiller"},k);if(g.scene["3dWebScene"]){a.create("a",{href:"#",id:"headShareTrigger",innerHTML:n.i18n().sharePaneTitle},C).onclick=function(){y.show(!0);D.show()};k=a.create("div",{},k);var y=new b(k,v,u,g),D=new t({title:n.i18n().sharePaneTitle,id:"shareDialog",content:k});v=a.create("div",{"class":"shareFootD"});g=a.create("button",{"class":"grey",innerHTML:n.i18n().close},v);D.content.appendChild(v);m(g,"click",function(){D.hide()});
m(D,"hide",function(){y.show(!1)})}var F=a.create("a",{href:(u?u.helpUrls:void 0).helpViewer,target:"_blank",innerHTML:n.i18n().help},C);var H=a.create("a",{href:UIUtils.URLs().arcgisOnline,target:"_blank",innerHTML:n.i18n().arcgisOnline},C);u&&u.portal&&AgolUtils.ConfigureAgolPortalLink(u.portal,H);w?(q(w),C.appendChild(x)):C.appendChild(H)}})})},"ceviewer/utils/AgolUtils":function(){define("dojo/_base/window dojo/json dojo/on dojo/topic dojo/io-query dojo/Deferred ./WebViewerUtils esri/arcgis/Portal esri/arcgis/OAuthInfo esri/arcgis/utils esri/config esri/request esri/IdentityManager".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k){var u=window.UIUtils,v=window.dojo;AgolUtils=function(){};var g={helpMain:{id:"120000815",url:"https://doc.arcgis.com/en/arcgis-online/reference/about-cityengine-web-viewer.htm"},helpViewer:{id:"120000816",url:"https://doc.arcgis.com/en/arcgis-online/reference/use-cityengine-web-viewer.htm"},helpTroubleshoot:{id:"120000817",url:"https://doc.arcgis.com/en/arcgis-online/reference/troubleshoot-cityengine-web-viewer.htm"}};AgolUtils.Store=function(q){var x=this;this.itemUrl=
this.itemId=this.item=void 0;this.cred=k.credentials[0];this.folderId=this.userItem=void 0;this.helpUrls={};for(var w in g)this.helpUrls[w]=g[w].url;q=new c({appId:"arcgisonline",portalUrl:AgolUtils.URLs().portal,locale:v.locale});k.registerOAuthInfos([q]);this.setItem=function(B){this.item=B;this.itemId=B.id;this.itemUrl=AgolUtils.URLs().contentitem+this.itemId;this.cred=k.credentials[0]};this.getUserItem=function(){this.portal.queryItems({q:"id:"+this.itemId}).then(function(B){0===B.results.length?
console.error("could not get user item"):x.userItem=B.results[0]},function(B){console.error("could not get user item: "+B)})};this.getItemFolder=function(B){function z(y,D){for(var F=0;F<y.length;F++)if(y[F].id===B)return x.folderId=D,m.publish("/portal/useritemready",{useritem:this.userItem,folderId:D}),!0;return!1}if(this.canModify()&&this.cred){var C=AgolUtils.URLs().sharing+"content/users/"+this.item.owner;f({url:C+"?token\x3d"+this.cred.token,content:{f:"json"}}).then(function(y){if(!z(y.items,
-1))for(var D=0;D<y.folders.length&&void 0===x.folderId;D++)f({url:C+"/"+y.folders[D].id+"?token\x3d"+x.cred.token,content:{f:"json"}}).then(function(F){z(F.items,F.currentFolder.id)})})}};this.getShareUrlBase=function(B){var z=this.portal;return z?B||u.endsWith(document.location.hostname,".arcgis.com")?this.itemIsPublic()||!z.user?document.location.protocol+"//"+z.portalHostname+"/apps/CEWebViewer/viewer.html":z.url+"/apps/CEWebViewer/viewer.html":document.location.protocol+"//"+document.location.host+
document.location.pathname:document.location.protocol+"//"+document.location.host+document.location.pathname};this.userIsOwner=function(){return this.portal.user?this.item.owner&&this.item.owner==this.portal.user.username:!1};this.canModify=function(){if(!this.portal.user)return!1;var B=this.portal.user.role&&u.endsWith(this.portal.user.role,"admin");return this.userIsOwner()||B};this.itemIsPublic=function(){return"public"==this.item.access};this.refreshItem=function(){var B=AgolUtils.loadItem(this.itemId);
B.then(function(z){x.item=z});return B};this.handleSignIn=function(B){console.log("Signed in as",B&&B.userId);this.cred=B;this.portal.signIn().then(function(){m.publish("/portal/signedin",{cred:B,store:x})},function(z){console.error("Could not login to portal:",z)});this.getUserItem();this.getItemFolder(this.itemId)}.bind(this);this.signIn=function(){k.setOAuthRedirectionHandler(function(B){B.authorizeParams.redirectToUserOrgUrl=!0;B.authorizeParams.hideCancel=!0;B.authorizeParams.canHandleCrossOrgSignIn=
!0;B.authorizeParams.force_login=!0;B.authorizeParams.showSignupOption=!1;window.location.href=B.authorizeUrl+"?"+(new URLSearchParams(B.authorizeParams)).toString()});k.useSignInPage=!1;return k.getCredential(AgolUtils.URLs().portal).then(this.handleSignIn).catch(function(B){console.log("Error during sign in",B)})};this.signOut=function(){this.isPortal?this.enterpriseLogOut():this.agolLogOut()};this.agolLogOut=function(){var B=AgolUtils.URLs().portal+"/home/pages/Account/manage_accounts.html#client_id\x3darcgisonline\x26signout\x3dtrue";
window.location.href=B};this.enterpriseLogOut=function(B){B=encodeURIComponent(AgolUtils.URLs().home);B=AgolUtils.URLs().portal+"/sharing/rest/oauth2/signout?redirect_uri\x3d"+B;window.location.href=B};this.initPortal=function(){this.portal=new h.Portal(AgolUtils.URLs().portal);k.checkSignInStatus(AgolUtils.URLs().portal).then(this.handleSignIn).catch(function(B){console.log(B.message)})};for(q=AgolUtils.URLs().host;q.endsWith("/");)q=q.substring(0,q.length-1);-1==e.defaults.io.corsEnabledServers.indexOf(q)&&
e.defaults.io.corsEnabledServers.push(q);f.setRequestPreCallback(function(B){if(/\/sharing\/generateToken/ig.test(B.url)){var z=document.domain,C=z.split(".");1<C.length&&(z=C[C.length-2]+"."+C[C.length-1]);B.content.referer=z}return B});this.initPortalUrls=function(){var B=AgolUtils.getHelpMap(),z=new h.Portal(AgolUtils.URLs().portal),C=new t;a.once(z,"ready",function(y){B.then(function(D,F){var H=D.helpBase;if(H.startsWith("/")){var E=new URL(D.url);H=E.protocol+"//"+E.host+H}for(var I in g)this.helpUrls[I]=
H+F.m[g[I].id];C.resolve({helpUrls:this.helpUrls,portal:D})}.bind(this,y))}.bind(this));return C}};AgolUtils.destroyCredentials=function(){k.destroyCredentials()};AgolUtils.ConfigureAgolPortalLink=function(q,x){q&&x&&(x.innerHTML=q.name||q.portalName,x.href=q.url+"/home")};AgolUtils.getHelpMap=function(){var q=AgolUtils.URLs().sharing+"portals/helpmap";return f({url:q,content:{f:"json"},handleAs:"json"}).then(function(x){return x?x.helpMap:null}).catch(function(x){return x})};AgolUtils.URLs=function(){var q=
p.queryToObject(G.doc.location.search.substr("?"===G.doc.location.search[0]?1:0)),x=location.host+"/",w=window.location.href.substring(window.location.href.indexOf(window.location.host)+window.location.host.length+1,0<window.location.href.indexOf("/home")?window.location.href.indexOf("/home"):window.location.href.indexOf("/apps"));-1==w.indexOf(x)&&"/"!=w&&(x+=w+"/");w=location.protocol;var B=!1;void 0!==q.portal&&""!==q.portal&&(q=q.portal,u.startsWith(q,"http")||(q="http://"+q),q=n.ParseURL(q),
w=q.protocol+":"||w,x=q.host+(q.path?q.path:"")+"/",B=!0);for(;x.endsWith("/");)x=x.substring(0,x.length-1);w={sharing:w+"//"+x+"/sharing/rest/",homeitem:w+"//"+x+"/home/item.html",contentitem:w+"//"+x+"/sharing/rest/content/items/",portal:w+"//"+x,home:w+"//"+x+"/home/",generate:"https://"+x+"/sharing/rest/generateToken",host:x,portalBaseOverruled:B};w.portal&&(b.arcgisUrl=w.portal);return w};AgolUtils.getDataUrl=function(q){var x=new t;q=AgolUtils.URLs().contentitem+q.id+"/";var w=q+"data";k.checkSignInStatus(q).then(function(B){x.resolve(w+
"?token\x3d"+B.token)},function(B){x.resolve(w)});return x};AgolUtils.loadItem=function(q){q=AgolUtils.URLs().sharing+"content/items/"+q+"/";return f({url:q,content:{f:"json"},handleAs:"json"})};AgolUtils.getItem=function(q,x){q=AgolUtils.loadItem(q);var w;q._pendingDfd.addErrback(function(B){w=B});q.then(function(B){x.success(B)},function(B){x.error(B,"ABORTED"!==B.message&&w&&403===w.code)})};AgolUtils.addComment=function(q,x,w,B){q.userItem||(B(),console.error("no userItem"));q.userItem.addComment(x).then(w,
B)};AgolUtils.getComments=function(q,x){x=AgolUtils.URLs().contentitem+x.id+"/comments/";var w={f:"json"};q.cred&&(w.token=q.cred.token);return f({url:x,content:w,handleAs:"json",load:function(B){B.comments.sort(function(z,C){return C.created-z.created});return B}})};AgolUtils.updateProperty=function(q,x,w){x&&x.properties&&0<Object.keys(x.properties).length&&v.mixin(w,x.properties);x=new FormData;x.append("properties",A.stringify(w));w=-1!==q.folderId?"/"+q.folderId:"";w=AgolUtils.URLs().sharing+
"content/users/"+q.item.owner+"/"+w+"/items/"+q.itemId;w+="/update?f\x3djson";q.cred&&(w+="\x26token\x3d"+q.cred.token);return f({url:w,form:x,handleAs:"text"},{usePost:!0})};AgolUtils.setRating=function(q,x){var w=q.itemUrl+"/addRating";x={f:"json",rating:x};q.cred&&(x.token=q.cred.token);return f({url:w,content:x,handleAs:"json"},{usePost:!0})};AgolUtils.getRating=function(q){if(!q||!q.item)return!1;q=q.item;return{avg:q.avgRating,num:q.numRatings,views:q.numViews,comments:q.numComments}};AgolUtils.uploadThumbnail=
function(q,x,w,B){var z="thumbnail."+(u.dataURItoBlob(x).type.split("/")[1]||"png"),C=new FormData;C.append("thumbnail",u.dataURItoBlob(x),z);x=-1!==q.folderId?"/"+q.folderId:"";x=AgolUtils.URLs().sharing+"content/users/"+q.item.owner+"/"+x+"/items/"+q.itemId;x+="/update?f\x3djson";q.cred&&(x+="\x26token\x3d"+q.cred.token);f({url:x,form:C,handleAs:"text",load:function(y,D){q.refreshItem();w(y,D)},error:B})};AgolUtils._getLegacyDisplayOffset=function(q){return q&&q.properties&&q.properties["3ws1_DisplayOffset"]&&
Array.isArray(q.properties["3ws1_DisplayOffset"])?q.properties["3ws1_DisplayOffset"]:!1};AgolUtils._storeLegacyDisplayOffsetToItem=function(q,x,w){AgolUtils.updateProperty(q,w,{"3ws1_DisplayOffset":x})}})},"esri/arcgis/Portal":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/kernel dojo/_base/Deferred dojo/_base/array dojo/_base/sniff require ../kernel ../lang ../request ../urlUtils ../Evented ../IdentityManager".split(" "),function(G,A,a,m,p,t,n,h,c,b,e,f){var k={options:{disableIdentityLookup:!0},
requestParams:{f:"json"}},u=function(D){function F(H){D[H]||(D[H]=function(){var E=arguments;return m.when(D,function(I){Array.prototype.unshift.call(E,I.results||I);return u(p[H].apply(p,E))})})}if(!D)return D;D.then&&(D=A.delegate(D));D.total||(D.total=m.when(D,function(H){return c.isDefined(H.total)?H.total:H.length||0}));F("forEach");F("filter");F("map");F("some");F("every");return D},v={useSSL:function(D,F){var H=k&&k.self||{};if(H&&!H.isPortal)return-1!==D.indexOf("https:")||H.allSSL?F.replace("http:",
"https:"):F;var E=v.getLocation(F);return-1<H.portalHostname.toLowerCase().indexOf(E.hostname.toLowerCase())&&E.port&&"80"!==E.port&&"443"!==E.port?(F=E.pathname,F=0===F.indexOf("/")?F:"/"+F,H.allSSL||-1<D.indexOf("https:")?"https://"+E.hostname+(H.httpsPort&&"443"!==H.httpsPort?":"+H.httpsPort:"")+F+E.search:"http://"+E.hostname+(H.httpPort&&"80"!==H.httpPort?":"+H.httpPort:"")+F+E.search):-1!==D.indexOf("https:")||H.allSSL?F.replace("http:","https:"):F},formatUrl:function(D){var F=k.currentToken;
return-1!==D.indexOf("null")?null:v.useSSL(window.location.protocol,F?D+(-1!==D.indexOf("?")?"\x26":"?")+("token\x3d"+F):D)},getLocation:function(D){var F=document.createElement("a");F.href=D;return{protocol:F.protocol,hostname:F.hostname,port:F.port,pathname:F.pathname,search:F.search,hash:F.hash,host:F.host}},resultsToTypedArray:function(D,F,H){H=H?H.listings||H.notifications||H.userInvitations||H.tags||H.items||H.groups||H.comments||H.provisions||H.results||H:[];return p.map(H,function(E){E=A.mixin(E,
F||{});return D?new D(E):E})},clearFieldsFromObject:function(D,F){var H,E=D.length;if(A.isArray(D))for(H=0;H<E;H++)delete F[D[H]];else for(H in D)delete F[H];return F},requestToTypedArray:function(D,F,H,E,I){return u(v.request(D,F,H).then(A.partial(v.resultsToTypedArray,E,I)))},request:function(D,F,H){F&&F.portal&&delete F.portal;if(F&&F.form){var E=F.form;delete F.form}F=A.mixin(A.mixin({},F||{}),k.requestParams);H=A.mixin(H||{},k.options);return b({url:v.useSSL(window.location.protocol,D.url||D),
content:F,callbackParamName:"callback",timeout:H&&H.timeout||0,form:E},H)},formatQueryParams:function(D,F,H){D=A.mixin(A.mixin({},D),A.isString(F)?{q:F}:F||{});D.q=!H&&k.extraQuery?"("+D.q+")"+k.extraQuery:D.q;return D}},g=G([],{declaredClass:"esri.arcgis.PortalComment",constructor:function(D){A.mixin(this,D);this.url=this.item.itemUrl+"/comments/"+this.id;this.created=this.created?new Date(this.created):null}}),q=G([],{declaredClass:"esri.arcgis.PortalRating",constructor:function(D){A.mixin(this,
D);this.url=this.item.itemUrl+"/rating";this.created=this.created?new Date(this.created):null}}),x=G([],{declaredClass:"esri.arcgis.PortalItem",constructor:function(D){A.mixin(this,D);this.folderId=this.ownerFolder||this.folderId;this.itemUrl=(this.portal&&this.portal.portalUrl)+"content/items/"+this.id;this.userItemUrl=this.hasOwnProperty("ownerFolder")?this.itemUrl.replace("/content/","/content/users/"+this.owner+(this.folderId?"/"+this.folderId:"")+"/"):null;this.itemDataUrl=v.formatUrl(this.itemUrl+
"/data");this.thumbnailUrl=v.formatUrl(this.itemUrl+"/info/"+this.thumbnail);this.displayName=this._getDisplayName();this.iconUrl=this._getIconUrl();this.isPremiumContent=this._getIsPremiumContent();this.created=this.created?new Date(this.created):null;this.uploaded=this.uploaded?new Date(this.uploaded):null;this.modified=this.modified?new Date(this.modified):null},getTypeInfo:function(){var D=this.type;return{source:-1<p.indexOf(this.typeKeywords||[],"ArcGIS Server")||"Feature Collection"===D?D:
null,displayName:this.displayName,iconUrl:this.iconUrl,isPremiumContent:this.isPremiumContent,premiumIconUrl:this._getPremiumIconUrl()}},addComment:function(D){var F=A.isString(D)?{comment:D}:D;return v.request(this.itemUrl+"/addComment",F,{usePost:!0}).then(A.hitch(this,function(H){return new g(A.mixin(F,{id:H.commentId,item:this}))}))},updateComment:function(D){if(D&&D.url&&D.comment)return v.request(D.url+"/update",{comment:D.comment},{usePost:!0}).then(function(F){D.id=F.commentId;return D});
throw Error();},getComments:function(){return v.requestToTypedArray(this.itemUrl+"/comments",null,null,g,{item:this})},deleteComment:function(D){if(D&&D.url)return v.request(D.url+"/delete",null,{usePost:!0});throw Error();},addRating:function(D){var F=A.isObject(D)?D:{rating:parseFloat(D)};return v.request(this.itemUrl+"/addRating",F,{usePost:!0}).then(A.hitch(this,function(H){return new q(A.mixin(F,{id:H.ratingId,item:this}))}))},getRating:function(){return v.request(this.itemUrl+"/rating").then(A.hitch(this,
function(D){return new q(A.mixin(D,{item:this}))}))},deleteRating:function(){return v.request(this.itemUrl+"/deleteRating",null,{usePost:!0})},_getDisplayName:function(){var D=this.type,F=this.typeKeywords||[],H=D;"Feature Service"===D||"Feature Collection"===D?H=-1<p.indexOf(F,"Table")?"Table":-1<p.indexOf(F,"Route Layer")?"Route Layer":-1<p.indexOf(F,"Markup")?"Markup":"Feature Layer":"Image Service"===D?H=-1<p.indexOf(F,"Elevation 3D Layer")?"Elevation Layer":-1<p.indexOf(F,"Tiled Imagery")?"Tiled Imagery Layer":
"Imagery Layer":"Scene Service"===D?H="Scene Layer":"Scene Package"===D?H="Scene Layer Package":"Stream Service"===D?H="Feature Layer":"Geoprocessing Service"===D&&this.portal&&this.portal.isPortal?H=-1<p.indexOf(F,"Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===D?H="GeoEnrichment Service":"Geocoding Service"===D?H="Locator":"Microsoft Powerpoint"===D?H="Microsoft PowerPoint":"GeoJson"===D?this.type=H="GeoJSON":"Globe Service"===D?H="Globe Layer":"Vector Tile Service"===D?H="Tile Layer":
"netCDF"===D?H="NetCDF":"Map Service"===D?H=-1===p.indexOf(F,"Spatiotemporal")&&(-1<p.indexOf(F,"Hosted Service")||-1<p.indexOf(F,"Tiled"))&&-1===p.indexOf(F,"Relational")?"Tile Layer":"Map Image Layer":D&&-1<D.toLowerCase().indexOf("add in")?H=D.replace(/(add in)/ig,"Add-In"):"datastore catalog service"===D?H="Big Data File Share":"Compact Tile Package"===D?H="Tile Package (tpkx)":"Raster function template"===D&&(H="Raster Function Template");return H},_getIconUrl:function(){var D=this.type&&this.type.toLowerCase()||
"",F=this.typeKeywords||[],H=!1,E=!1,I=!1,J=!1,K=!1,L=!1;E=!1;0<D.indexOf("service")||"feature collection"===D||"kml"===D||"wms"===D||"wmts"===D||"wfs"===D?(H=-1<p.indexOf(F,"Hosted Service"),"feature service"===D||"feature collection"===D||"kml"===D||"wfs"===D?(J=-1<p.indexOf(F,"Table"),E=-1<p.indexOf(F,"Route Layer"),I=-1<p.indexOf(F,"Markup"),K=-1!==p.indexOf(F,"Spatiotemporal"),L=-1!==p.indexOf(F,"UtilityNetwork"),D=K&&J?"spatiotemporaltable":J?"table":E?"routelayer":I?"markup":K?"spatiotemporal":
L?"utilitynetwork":H?"featureshosted":"features"):"map service"===D||"wms"===D||"wmts"===D?(K=-1!==p.indexOf(F,"Spatiotemporal"),E=-1!==p.indexOf(F,"Relational"),D=K||E?"mapimages":H||-1<p.indexOf(F,"Tiled")||"wmts"===D?"maptiles":"mapimages"):D="scene service"===D?-1<p.indexOf(F,"Line")?"sceneweblayerline":-1<p.indexOf(F,"3DObject")?"sceneweblayermultipatch":-1<p.indexOf(F,"Point")?"sceneweblayerpoint":-1<p.indexOf(F,"IntegratedMesh")?"sceneweblayermesh":-1<p.indexOf(F,"PointCloud")?"sceneweblayerpointcloud":
-1<p.indexOf(F,"Polygon")?"sceneweblayerpolygon":-1<p.indexOf(F,"Building")?"sceneweblayerbuilding":"sceneweblayer":"image service"===D?-1<p.indexOf(F,"Elevation 3D Layer")?"elevationlayer":-1<p.indexOf(F,"Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===D?"streamlayer":"vector tile service"===D?"vectortile":"datastore catalog service"===D?"datastorecollection":"geocoding service"===D?"geocodeservice":"geoprocessing service"===D?-1<p.indexOf(F,"Web Tool")&&this.portal&&this.portal.isPortal?
"tool":"layers":"layers"):D="web map"===D||"cityengine web scene"===D?"maps":"web scene"===D?-1<p.indexOf(F,"ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===D||"mobile application"===D||"application"===D||"operation view"===D||"desktop application"===D?"apps":"map document"===D||"map package"===D||"published map"===D||"scene document"===D||"globe document"===D||"basemap package"===D||"mobile basemap package"===D||"mobile map package"===D||"project package"===D||"project template"===
D||"pro map"===D||"layout"===D||"layer"===D&&-1<p.indexOf(F,"ArcGIS Pro")||"explorer map"===D&&p.indexOf(F,"Explorer Document")?"mapsgray":"service definition"===D||"csv"===D||"shapefile"===D||"cad drawing"===D||"geojson"===D||"360 vr experience"===D||"netcdf"===D||"administrative report"===D?"datafiles":"explorer add in"===D||"desktop add in"===D||"windows viewer add in"===D||"windows viewer configuration"===D?"appsgray":"arcgis pro add in"===D||"arcgis pro configuration"===D?"addindesktop":"rule package"===
D||"file geodatabase"===D||"sqlite geodatabase"===D||"csv collection"===D||"kml collection"===D||"windows mobile package"===D||"map template"===D||"desktop application template"===D||"gml"===D||"arcpad package"===D||"code sample"===D||"form"===D||"document link"===D||"operations dashboard add in"===D||"rules package"===D||"image"===D||"workflow manager package"===D||"explorer map"===D&&-1<p.indexOf(F,"Explorer Mapping Application")||-1<p.indexOf(F,"Document")?"datafilesgray":"network analysis service"===
D||"geoprocessing service"===D||"geodata service"===D||"geometry service"===D||"geoprocessing package"===D||"locator package"===D||"geoprocessing sample"===D||"workflow manager service"===D?"toolsgray":"layer"===D||"layer package"===D||"explorer layer"===D?"layersgray":"scene package"===D?"scenepackage":"mobile scene package"===D?"mobilescenepackage":"tile package"===D||"compact tile package"===D?"tilepackage":"task file"===D?"taskfile":"report template"===D?"report-template":"statistical data collection"===
D?"statisticaldatacollection":"insights workbook"===D?"workbook":"insights model"===D?"insightsmodel":"insights page"===D?"insightspage":"insights theme"===D?"insightstheme":"hub initiative"===D?"hubinitiative":"hub page"===D?"hubpage":"hub site application"===D?"hubsite":"hub event"===D?"hubevent":"relational database connection"===D?"relationaldatabaseconnection":"big data file share"===D?"datastorecollection":"image collection"===D?"imagecollection":"desktop style"===D?"desktopstyle":"style"===
D?"style":"dashboard"===D?"dashboard":"raster function template"===D?"rasterprocessingtemplate":"vector tile package"===D?"vectortilepackage":"ortho mapping project"===D?"orthomappingproject":"ortho mapping template"===D?"orthomappingtemplate":"solution"===D?"solutions":"geopackage"===D?"geopackage":"deep learning package"===D?"deeplearningpackage":"real time analytic"===D?"realtimeanalytics":"big data analytic"===D?"bigdataanalytics":"feed"===D?"feed":"excalibur imagery project"===D?"excaliburimageryproject":
"notebook"===D?"notebook":"storymap"===D?"storymap":"survey123 add in"===D?"survey123addin":"mission"===D?"mission":"mission report"===D?"missionreport":"quickcapture project"===D?"quickcaptureproject":"pro report"===D?"proreport":"urban model"===D?"urbanmodel":"web experience"===D?"experiencebuilder":"web experience template"===D?"webexperiencetemplate":"workflow"===D?"workflow":"kernel gateway connection"===D?"kernelgatewayconnection":"insights script"===D?"insightsscript":"hub initiative template"===
D?"hubinitiativetemplate":"storymap theme"===D?"storymaptheme":"knowledge graph"===D?"knowledgegraph":"maps";return D?n.toUrl("../css/images/item_type_icons/"+D+"16.png"):null},_getIsPremiumContent:function(){var D=this.typeKeywords,F=!1;if(-1<p.indexOf(D,"Requires Subscription")||-1<p.indexOf(D,"Requires Credits"))F=!0;return F},_getPremiumIconUrl:function(){var D=this.typeKeywords,F;this.isPremiumContent&&(F=-1<p.indexOf(D,"Requires Credits")?"premiumcredits":"premiumitem");return F?n.toUrl("../css/images/item_type_icons/"+
F+"16.png"):null},getThumbnailUrl:function(D){var F=this.thumbnailUrl;F&&D&&(F+=(-1===F.indexOf("?")?"?":"\x26")+"w\x3d"+D);return F}}),w=G([],{declaredClass:"esri.arcgis.PortalListing",constructor:function(D){A.mixin(this,D);this.id=this.itemId;this.url=(this.portal&&this.portal.portalUrl)+"content/"+(this.userItemUrl?"items/":"listings/")+this.itemId;this.commentsUrl=this.url+"/comments";this.created=this.created?new Date(this.created):null;this.banner=this.banner?v.formatUrl(this.url+"/info/"+
this.banner):"";this.thumbnail=this.thumbnail?v.formatUrl(this.url+"/info/"+this.thumbnail):"";this.largeThumbnail=this.largeThumbnail?v.formatUrl(this.url+"/info/"+this.largeThumbnail):"";this.avgRating=this.avgRating||0;this.numRatings=this.numRatings||0;this.numComments=this.numComments||0;this.listingProperties=this.listingProperties||{priceDesc:"",creditsPerTransaction:0,licenseType:"free",trialSupported:!1,trialDuration:0,listingAccess:"private"};for(var F in this.listingProperties)this[F]&&
(this.listingProperties[F]=this[F]);this.properties=this.properties||{systemRequirements:"",termsAndConditions:"",version:"1.0"};this.screenshots=p.map(this.screenshots,A.hitch(this,function(H){return v.formatUrl(this.url+"/info/"+H)}));this.vendorName=this.vendor.name;this.vendor.thumbnail=this.vendor.thumbnail?this.userItemUrl?v.formatUrl(this.portal.portalUrl+"/portals/self/resources/"+this.vendor.thumbnail):v.formatUrl(this.url+"/vendorinfo/"+this.vendor.thumbnail):""},getComments:function(){return v.requestToTypedArray(this.commentsUrl,
null,null,g,{item:this})},getVendor:function(){return this.vendor}}),B=G([],{declaredClass:"esri.arcgis.PortalProvision",constructor:function(D){A.mixin(this,D);this.created=this.created?new Date(this.created):null;this.startDate=this.startDate?new Date(this.startDate):null;this.endDate=this.endDate&&-1!==this.endDate?new Date(this.endDate):null;this.listing=D.listing?new w(A.mixin(D.listing,{portal:this.portal})):null}}),z=G([],{declaredClass:"esri.arcgis.PortalGroup",constructor:function(D){A.mixin(this,
D);this.url=(this.portal&&this.portal.portalUrl)+"community/groups/"+this.id;this.thumbnailUrl=v.formatUrl(this.url+"/info/"+this.thumbnail);this.modified=this.modified?new Date(this.modified):null;this.created=this.created?new Date(this.created):null},getMembers:function(){return v.request(this.url+"/users")},queryItems:function(D,F){D=v.formatQueryParams({},D,F);D.q="group:"+this.id+(D.q?" "+D.q:"");return this.portal.queryItems(D)},getThumbnailUrl:function(D){var F=this.thumbnailUrl;F&&D&&(F+=
(-1===F.indexOf("?")?"?":"\x26")+"w\x3d"+D);return F}}),C=G([],{declaredClass:"esri.arcgis.PortalFolder",constructor:function(D){A.mixin(this,D);this.url=(this.portal&&this.portal.portalUrl)+"content/users/"+this.username+"/"+this.id;this.created=this.created?new Date(this.created):null},getItems:function(){return v.requestToTypedArray(this.url,null,null,x,{portal:this.portal,folderId:this.id})}}),y=G([],{declaredClass:"esri.arcgis.PortalUser",constructor:function(D){A.mixin(this,D);this.url=(this.portal&&
this.portal.portalUrl)+"community/users/"+this.username;this.userContentUrl=(this.portal&&this.portal.portalUrl)+"content/users/"+this.username;this.thumbnailUrl=this.thumbnail?v.formatUrl(this.url+"/info/"+this.thumbnail):null;this.modified=this.modified?new Date(this.modified):null;this.created=this.created?new Date(this.created):null},getGroups:function(){return u(v.request(this.url).then(A.hitch(this,function(D){return v.resultsToTypedArray(z,{portal:this.portal},D.groups)})))},getNotifications:function(){return v.requestToTypedArray(this.url+
"/notifications",null,null,null,{portal:this.portal})},getGroupInvitations:function(){return v.requestToTypedArray(this.url+"/invitations",null,null,null,{portal:this.portal})},getTags:function(){return v.requestToTypedArray(this.url+"/tags",null,null,null,{portal:this.portal})},getFolders:function(){return u(this.getContent(null,{num:1}).then(function(D){return D.folders}))},getItems:function(D){return u(this.getContent(D).then(function(F){return F.items}))},getItem:function(D){return v.request(this.portal.portalUrl+
"content/items/"+D).then(A.hitch(this,function(F){return new x(A.mixin(F,{portal:this.portal}))}))},getContent:function(D,F){var H=this.url.replace("/community/","/content/")+(D?"/"+D:"");return v.request(H,F).then(A.hitch(this,function(E){E.folders=v.resultsToTypedArray(C,{portal:this.portal},E.folders);E.items=v.resultsToTypedArray(x,{portal:this.portal,folderId:D},E.items);return E}))},getThumbnailUrl:function(D){var F=this.thumbnailUrl;F&&D&&(F+=(-1===F.indexOf("?")?"?":"\x26")+"w\x3d"+D);return F}});
G={Portal:G([f],{declaredClass:"esri.arcgis.Portal",onLoad:function(){},onError:function(){},constructor:function(D){D=A.isObject(D)?D:{url:D};this.registerConnectEvents();k={options:{disableIdentityLookup:!0},requestParams:{f:"json"}};D.self?(k.self=D.self,A.mixin(this,{url:D.url||e.getProtocolForWebResource()+"//"+(D.self.urlKey?D.self.urlKey+"."+D.self.customBaseUrl:D.self.portalHostname)}),this.portalUrl=-1!==this.url.indexOf("/sharing")?this.url+"/":this.url+"/sharing/rest/",D=D.self.user?this.signIn():
this.init(this.url)):(D.url&&A.mixin(this,{url:D.url}),D=this.init(this.url));D.then(A.hitch(this,function(){this.emit("ready",this);this.onLoad(this)}))},init:function(D,F){D=(D||this.portalUrl).replace(/\/+$/,"");this.portalUrl=-1!==D.indexOf("/sharing")?D+"/":D+"/sharing/rest/";return this._getSelf(this.portalUrl).then(A.hitch(this,function(H){k.self=A.mixin({},H);(H=H.user)&&F&&(k.currentToken=F&&F.token,k.loggedInUser=new y(A.mixin(H,{portal:this,credential:F})));k.self.id&&!1===k.self.canSearchPublic&&
(k.extraQuery=" AND orgid:"+k.self.id);A.mixin(this,k.self);this.thumbnailUrl=v.formatUrl(this.portalUrl+"portals/self/resources/"+this.thumbnail);this.isOrganization=this.access&&this.access.length?!0:!1;this.created=this.created?new Date(this.created):null;this.modified=this.modified?new Date(this.modified):null;return this}),A.hitch(this,function(H){this.onError(H);throw H;}))},signIn:function(){var D=new m,F=A.hitch(this,function(){this._onSignIn().then(A.hitch(this,function(){D.resolve(k.loggedInUser)}),
A.hitch(this,function(H){D.reject(H)}))});if(k&&k.self)k&&k.loggedInUser?setTimeout(function(){D.resolve(k.loggedInUser)},0):F();else this.on("load",A.hitch(this,function(){F()}));return D},signOut:function(){k.loggedInUser.credential&&k.loggedInUser.credential.destroy();k.loggedInUser=null;k.options.disableIdentityLookup=!0;v.clearFieldsFromObject(k.self,this);k.self=null;return this.init(this.url)},getPortalUser:function(){return k.loggedInUser},addResource:function(D,F){return v.request(this.portalUrl+
"portals/self/addResource",{key:D,text:F},{usePost:!0})},update:function(D){return v.request(this.portalUrl+"portals/self/update",D,{usePost:!0})},queryGroups:function(D,F){return this._queryPortal(this.portalUrl+"community/groups",v.formatQueryParams({},D,F),z)},queryItems:function(D,F){return this._queryPortal(this.portalUrl+"search",v.formatQueryParams({},D,F),x)},queryListings:function(D){D=v.formatQueryParams({},D,!0);var F="";D.q&&-1<D.q.toLowerCase().indexOf("mylistings:true")?(D.q=D.q.toLowerCase().replace("mylistings:true",
""),F="?mylistings\x3dtrue"):D.q||(D.q='""');return this._queryPortal(this.portalUrl+"content/listings"+F,D,w)},queryCustomerList:function(D,F){D=v.formatQueryParams({},D,!0);return this._queryPortal(this.portalUrl+"portals/self/customersList",D)},getProvisions:function(){return this.getCustomers().then(A.hitch(this,function(D){return D.purchases}))},getInterests:function(){return this.getCustomers().then(A.hitch(this,function(D){return D.interests}))},getTrials:function(){return this.getCustomers().then(A.hitch(this,
function(D){return D.trials}))},getCustomers:function(D){return v.request(this.portalUrl+"portals/self/customers",{status:D||"all"})},getMyPurchases:function(){return this.getPurchases().then(function(D){return D.purchases})},getMyInterests:function(){return this.getPurchases().then(function(D){return D.interests})},getPurchases:function(){return v.request(this.portalUrl+"portals/self/purchases").then(A.hitch(this,function(D){D.interests=p.map(D.interests,function(F){return A.mixin(F.provision,{listing:F.listing})});
D.purchases=p.map(D.purchases,function(F){return A.mixin(F.provision,{listing:F.listing})});D.trials=p.map(D.trials,function(F){return A.mixin(F.provision,{listing:F.listing})});D.interests=v.resultsToTypedArray(B,{portal:this},D.interests);D.trials=v.resultsToTypedArray(B,{portal:this},D.trials);D.purchases=v.resultsToTypedArray(B,{portal:this},D.purchases);return D}))},queryUsers:function(D,F){return this._queryPortal(this.portalUrl+"community/users",v.formatQueryParams({sortField:"username"},D,
F),y)},_onSignIn:function(){k.options.disableIdentityLookup=!1;k.self=null;return h.id.getCredential(this.portalUrl).then(A.hitch(this,"init",this.url)).then(function(){return k.loggedInUser},A.hitch(this,function(D){k.options.disableIdentityLookup=!0;this.onError(D);throw D;}))},_getSelf:function(D){D+="portals/self";if(k.self){var F=new m;setTimeout(function(){F.resolve(k.self)},0)}else F=v.request(D,{culture:a.locale});return F},_queryPortal:function(D,F,H){var E=A.mixin({num:10,start:0,sortField:"title",
sortOrder:"asc"},F),I=["start","query","num","nextStart"];D=v.request(D,E).then(A.hitch(this,function(J){J.results=v.resultsToTypedArray(H,{portal:this},J);J.queryParams=A.mixin({},E);J.nextQueryParams=A.mixin(E,{start:J.nextStart});return v.clearFieldsFromObject(I,J)}));D=A.delegate(D);D.queryParams=A.mixin({},E);D.nextQueryParams=m.when(D,function(J){return J.nextQueryParams});return u(D)}}),PortalFolder:C,PortalGroup:z,PortalItem:x,PortalUser:y,PortalComment:g,PortalRating:q,PortalUtil:v,PortalResult:u,
PortalListing:w};t("extend-esri")&&A.mixin(A.getObject("arcgis",!0,h),G);return G})},"ceviewer/ui/ShareUI":function(){define("dojo/string dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/topic ceviewer/utils/LocalizationHelper ceviewer/utils/WebViewerUtils".split(" "),function(G,A,a,m,p,t,n,h,c){var b={},e;return A(null,{constructor:function(f,k,u,v){function g(H,E){var I=new UIUtils.ComboButton({"class":"shareButton",text:H.label,icon1:"icon_"+H.id});I.button.onclick=
function(){var J=H.action(x(),u);H.self?location.href=J:window.open(J)};E&&E.appendChild(I.button);return I}function q(H){b.embButtonsGroup.setActive(H);that._embedCodeUpdate()}function x(){var H=v.toUrl(that.map.getLayerGroups(),that.map.getCamera(),!1,that.store.getShareUrlBase()),E=void 0===that._metadata?void 0:UIUtils.getItemDetails(that.store,that._metadata).sceneName;return{longUrlEncoded:H.encoded,longUrl:H.direct,noQuery:H.base,sceneName:E||w.this3dScene,shortUrl:e||!1}}var w=h.i18n();this.configuration=
v;this.map=k;this.store=u;this.container=f;this._metadata;that=this;var B=p.create("div",{id:"mainShareContainer"},f);f=p.create("div",{"class":"shareTitleD"},B);p.create("p",{innerHTML:w.shareSelectMethod},f);f=p.create("div",{"class":"shareLinksD"},B);p.create("p",{innerHTML:w.shareLinkToWebScene},f);k=p.create("div",{"class":"shareEmbedD"},B);b.embedText=p.create("p",{innerHTML:w.shareEmbed},k);B=p.create("div",{id:"shareContainerOverlay"},B);var z=function(H){function E(L,O){that.store.refreshItem().then(function(){var U=
that.store.itemIsPublic();UIUtils.setVisible(I,!U);O&&O(U)})}var I=p.create("div",{id:"warnNotPublic","class":"shareWarnings"},H);I.innerHTML="\x3ch3\x3e"+w.sharePaneDisabledTitle+"\x3c/h3\x3e";p.create("p",{innerHTML:w.shareNotPublicWarn+" "+w.shareNotPublicHint},I);H=p.create("div",{},I);var J=p.create("a",{innerHTML:w.shareNotPublicEditItem,href:"#"},H);t(J,"click",function(){window.open(AgolUtils.URLs().homeitem+"?id\x3d"+that.store.item.id)});var K=p.create("div",{id:"refreshShareEnabled",style:"display:inline-block",
"class":"icon_update active white",onclick:function(){E(!0,function(){m.remove(K,"spinner")});m.add(K,"spinner")}.bind(this)},H);UIUtils.spinner(H,"brightblue");p.create("button",{innerHTML:w.shareNotPublicAnyway,style:"margin-top:3em","class":"grey",onclick:function(){UIUtils.hide(I)}},I);UIUtils.hide(I);return I}(B),C=function(H){var E=p.create("div",{id:"warnPrivateNetwork","class":"shareWarnings"},H);E.innerHTML="\x3ch3\x3e"+w.sharePaneDisabledTitle+"\x3c/h3\x3e";E.innerHTML+="\x3cp\x3e"+w.sharePaneDisabledInfo+
"\x3c/p\x3e";H=p.create("button",{innerHTML:w.shareNotPublicAnyway,style:"margin-top:3em;","class":"grey"},E);t(H,"click",function(){UIUtils.hide(E)});UIUtils.hide(E);return E}(B),y=function(H){H=p.create("div",{id:"warnDisabledByOrg","class":"shareWarnings"},H);H.innerHTML="\x3ch3\x3e"+w.sharePaneDisabledTitle+"\x3c/h3\x3e";H.innerHTML+="\x3cp\x3e"+w.sharePaneDisabledByOrg+"\x3c/p\x3e";UIUtils.hide(H);return H}(B);"local"===c.evalLocal().host&&UIUtils.show(C);that._evalShareLimitationsFromPortal=
function(H){that.store&&that.store.item&&!that.store.itemIsPublic()?UIUtils.show(z):UIUtils.hide(z);that.store&&that.store.portal&&!1===that.store.portal.canSharePublic?UIUtils.show(y):UIUtils.hide(y)};n.subscribe("/portal/signedin",function(H){that._evalShareLimitationsFromPortal(that.store)});n.subscribe("/portal/signedout",function(H){that._evalShareLimitationsFromPortal(that.store)});that._updateLocked=!1;that._updateEnabled=!1;t(that.map.viewport,"view-change",function(){that._evalUrlUpdate()});
b.shortURL=p.create("textarea",{id:"shortURLBox",value:w.getUrl,readonly:!0},f);B=[{id:"email",label:w.shareEmail,action:UIUtils.mailto,self:!0},{id:"facebook",label:w.shareFacebook,action:UIUtils.fbookto},{id:"twitter",label:w.shareTwitter,action:UIUtils.tweetto}];B=B.reverse();for(C=0;C<B.length;C++)g(B[C],f);b.embedCodeBox=p.create("textarea",{id:"embedCodeBox",readonly:"readonly"},k);f=p.create("div",{"class":"embedControls"},k);b.autoplayButton=function(){var H=new UIUtils.ComboButton({text:w.enableAutoplay,
icon1:"icon_check white","class":"s0 simple right"});H.setEnabled=function(E){H.enabled=E;UIUtils.setVisible(H.button,E)};H.getEnabled=function(){return H.enabled};t(H.button,"click",a.hitch(H,function(){this.toggleState();that._embedCodeUpdate()}));H.enabled=!1;UIUtils.hide(H.button);H.setState(1);return H}();f.appendChild(b.autoplayButton.button);b.autoplayButton.setEnabled(!1);f=p.create("div",{id:"embedChoose"},f);k=[];B=new UIUtils.ComboButton({text:w.embedLarge,icon1:"icon_radio white","class":"simple"});
B.icon1.onclick=function(){q(0)};C=new UIUtils.ComboButton({text:w.embedSmall,icon1:"icon_radio white","class":"simple"});C.icon1.onclick=function(){q(1)};var D=p.create("span",{id:"embedCustomContainer"});b.inputW=p.create("input",{type:"text",placeholder:w.width},D);p.create("span",{innerHTML:"\x3cstrong\x3e\x26nbsp;\x26nbsp;x\x26nbsp;\x26nbsp;\x3c/strong\x3e"},D);b.inputH=p.create("input",{type:"text",placeholder:w.height},D);b.inputH.onkeyup=b.inputW.onkeyup=function(){that._embedCodeUpdate()};
b.inputH.onclick=b.inputW.onclick=function(){q(2)};var F=new UIUtils.ComboButton({text:w.embedCustom,icon1:"icon_radio white","class":"simple"});F.button.appendChild(D);F.icon1.onclick=function(){q(2)};k.push(B);k.push(C);k.push(F);b.embButtonsGroup=new UIUtils.RadioGroup(k,"embGroup");b.embButtonsGroup.setActive(0);f.appendChild(b.embButtonsGroup.listNode)},_embedCodeUpdate:function(){var f=isNaN(parseInt(b.inputW.value))?720:b.inputW.value,k=isNaN(parseInt(b.inputH.value))?540:b.inputH.value;h.i18n();
var u=this.configuration.toUrl(this.map.getLayerGroups(),this.map.getCamera(),!1,this.store.getShareUrlBase()).direct,v=b.embButtonsGroup.getActive();f={0:{w:1080,h:720},1:{w:600,h:400},2:{w:f,h:k}};k=960>=f[v].w||620>=f[v].h?"\x26reducedUI":"";b.autoplayButton.getEnabled()&&1===b.autoplayButton.getState()&&(u+="\x26autoplay");b.embedCodeBox.value='\x3ciframe allowfullscreen\x3d"true" width\x3d"'+f[v].w+'" height\x3d"'+f[v].h+'" frameborder\x3d"0" scrolling\x3d"no" marginheight\x3d"0" marginwidth\x3d"0" src\x3d"'+
u+k+'"\x3e\x3c/iframe\x3e'},_updateUrls:function(f,k){var u=this.configuration.toUrl(f.getLayerGroups(),k,!1,this.store.getShareUrlBase());that._embedCodeUpdate(u.direct);UIUtils.shortenUrl(u.direct,function(v){e=v||!1;b.shortURL.value=v||u.direct});return u},_evalUrlUpdate:function(){that._updateEnabled&&!that._updateLocked&&(that._updateLocked=!0,setTimeout(function(){that._updateUrls(that.map,that.map.getCamera());that._updateLocked=!1},1500))},show:function(f){that._evalShareLimitationsFromPortal();
UIUtils.setVisible(that.container,f);(that._updateEnabled=f)&&that._updateUrls(that.map,that.map.getCamera())},update:function(f,k){that._metadata=f;f=that.map.getLayerGroups();for(var u in f)t(f[u],"visibilityChange",that._evalUrlUpdate),t(f[u],"layerVisibilityChange",that._evalUrlUpdate);b.autoplayButton.setEnabled(1<Object.keys(k).length);that._evalShareLimitationsFromPortal()}})})},"ceviewer/ui/Nav":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on ./components/Slider engine/lib/Util engine/parts/Controller".split(" "),
function(G,A,a,m,p,t,n){return G(null,{constructor:function(h,c){function b(){var g=(u.getActive()+1)%2;u.setActive(g);e.setControls(0==g?n.TUMBLE:n.PAN)}var e=c.viewport._stage;h=a.create("div",{id:"navContainer"},h);var f=[],k=new UIUtils.ComboButton({"class":"navButton",icon1:"navTumble"});k.icon1.onclick=function(){b()};f.push(k);k=new UIUtils.ComboButton({"class":"navButton",icon1:"navPan"});k.icon1.onclick=function(){b()};f.push(k);var u=new UIUtils.RadioGroup(f,"navGroup");u.setActive(0);e.setControls(n.TUMBLE);
h.appendChild(u.listNode);h=a.create("div",{id:"navZoomContainer"},h);a.create("div",{id:"navZoomIn","class":"navButton"},h).onclick=function(){v.zoomIn()};var v=new function(g){function q(C,y){return vec3.add(vec3.scale(vec3.normalize(vec3.subtract(C[0],C[1],z)),y),C[1])}g=a.create("div",{id:"zoomSliderContainer","class":"sliderContainer"},g);var x=e.addCameraListener({targetViewChanged:function(C,y){B.set(Math.sqrt((vec3.dist(C,y)-x[0])/(x[1]-x[0])),!0)},poiDistRangeChanged:function(C,y){x=[C,y];
B.setRange(x[0],x[1])}}),w=e.getCamera();w=Math.sqrt((vec3.dist(w[0],w[1])-x[0])/(x[1]-x[0]));var B=new p("zoomSlider",function(C){var y=e.getCamera();e.setCamera(q(y,lerp(x[0],x[1],Math.pow(C,2))),y[1])},g,!0,void 0,!1);B.getBar().style.height="";B.setRange(x[0],x[1]);B.set(w);var z=vec3.create();this.zoomIn=function(){c.zoomIn()};this.zoomOut=function(){c.zoomOut()}}(h);a.create("div",{id:"navZoomOut","class":"navButton"},h).onclick=function(){v.zoomOut()};b()}})})},"ceviewer/ui/Progress":function(){define("dojo dojo/_base/declare dojo/_base/lang dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/on dojo/has dojo/sniff esri/domUtils ceviewer/utils/LocalizationHelper ceviewer/utils/UIUtils ceviewer/utils/AgolUtils engine/lib/Util".split(" "),
function(G,A,a,m,p,t,n,h,c,b,e,f,k,u,v,g){function q(w){var B=n.create("div",{id:"loadingHints"}),z="";"number"===typeof w?z+="\x3cdiv\x3e"+x.webglMinVersion.replace("${detectedWebglVersion}",0==10*w%10?w.toFixed(1):w)+"\x3c/div\x3e":b("ie")?z+="\x3cdiv\x3e"+x.ieMsg+"\x3c/div\x3e":!b("ios")&&b("safari")&&(z+="\x3cdiv\x3e"+x.safariMsg1,z+="\x3cul\x3e\x3cli\x3e"+x.safariMsg2+"\x3c/li\x3e",z+="\x3cli\x3e"+x.safariMsg3+"\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e");z+="\x3cdiv\x3e"+x.troubleMsg1+":\x3c/div\x3e\x3cbr/\x3e";
B.innerHTML=z;return B}var x=k.i18n();return A(null,{constructor:function(w,B){this._containerDiv=w;this._msgCnt=0;this._cstatus=void 0;this._startDate=new Date;w=n.create("div",{"class":"table",id:"loaderTable"},w);var z=n.create("div",{"class":"row progressWindowRow"},w);z=n.create("div",{"class":"col progressWindowCol"},z);this._progressWindow=z=n.create("div",{id:"progressWindow","class":""},z);UIUtils.show(z);var C=n.create("div",{id:"logo",style:"opacity:1"},z);n.create("img",{id:"logoImg",
src:"css/images/cewv_logo.png",style:"z-index:5"},C);this._itemDiv=n.create("div",{id:"itemDiv",style:"opacity:0"},z);this._dloadProgressBar=n.create("div",{id:"dloadProgressBar","class":"loading"},z);C=n.create("div",{id:"detailToggle",innerHTML:x.details},z);this._msgDiv=n.create("div",{id:"progressMsg"},z);n.create("div",{"class":"clr"},z);this._detailDiv=n.create("div",{id:"progressDetails"},z);this._glDetailDiv=n.create("div",{id:"glDetailDiv"});UIUtils.hide(this._detailDiv);UIUtils.hide(this._glDetailDiv);
c(C,"click",a.hitch(this,function(){UIUtils.toggle(this._detailDiv)}));this._glDetailToggle=n.create("span",{id:"glDetailToggle",innerHTML:"\x26nbsp;"+x.more});c(this._glDetailToggle,"click",a.hitch(this,function(){UIUtils.toggle(this._glDetailDiv)}));z=n.create("div",{id:"loadingHelpDiv"},z);w=n.create("div",{"class":"row progressFooterRow"},w);w=n.create("div",{"class":"col progressFooterCol"},w);this.footerDiv=n.create("div",{id:"progressFooter"},w);this._signOutDiv=function(y){y=n.create("div",
{id:"signOutD"},y);var D=n.create("a",{id:"signOutB",innerHTML:x.signOut},y);n.create("span",{id:"signOutT",innerHTML:" "+x.signOutDiffUser},y);D.onclick=function(){AgolUtils.destroyCredentials();location.reload(!0)};UIUtils.hide(y);return y}(z);this.isPortal=!1;this.helpUrls=B;this._createOrUpdateHelpLinks();this.update=a.hitch(this,this.update)},_updateProgressBar:function(w){this._dloadProgressBar.setAttribute("style","background-position:"+(w-1)*h.position(this._dloadProgressBar).w+"px 0px")},
hide:function(){UIUtils.hide(this._containerDiv)},show:function(){UIUtils.show(this._containerDiv)},updateHelpLinks:function(w,B){this.isPortal=w;this.helpUrls=B;this._createOrUpdateHelpLinks()},update:function(w,B,z){if("error"==w&&(UIUtils.hide(this._itemDiv),UIUtils.show(this._detailDiv),t.replace(this._dloadProgressBar,"failed","loading"),null==p.byId("loadingError"))){var C=n.create("div",{id:"loadingError"});null!=this.glErrorHelpTroubleshootLink&&null!=p.byId(this.glErrorHelpTroubleshootLink.id)||
C.appendChild(this.glErrorHelpAgolLink);this._progressWindow.appendChild(C)}"glerror"==w&&(UIUtils.hide(this._itemDiv),t.replace(this._dloadProgressBar,"failed","loading"),null==p.byId("loadingHints")&&(C=q(),null!=this.glErrorHelpAgolLink&&null!=p.byId(this.glErrorHelpAgolLink.id)||C.appendChild(this.glErrorHelpTroubleshootLink),this._progressWindow.appendChild(C)));"glerror_minversion"==w&&(UIUtils.hide(this._itemDiv),t.replace(this._dloadProgressBar,"failed","loading"),null==p.byId("loadingHints")&&
(C=q(z[0]),this.glErrorHelpTroubleshootLink.textContent=x.ceWebViewerTroubleshooting,null!=this.glErrorHelpAgolLink&&null!=p.byId(this.glErrorHelpAgolLink.id)||C.appendChild(this.glErrorHelpTroubleshootLink),this._progressWindow.appendChild(C)));if("item"==w)w=B.title.replace(".3ws",""),n.create("div",{innerText:w},this._itemDiv),setTimeout(a.hitch(this,function(){m.anim(this._itemDiv,{opacity:1},2E3)}),1E3);else{"hint"==w&&"signout"==B&&UIUtils.show(this._signOutDiv);if("download"==w||"parse"==w)z[1]?
(C=Math.min(z[1],z[0]),B+=" "+Math.round(C/z[1]*100)+"% ("+cround(C)+" of "+cround(z[1])+" MB)",this._updateProgressBar(C/z[1])):B+=" "+Math.round(z[0])+" MB";"progress"==w?this._updateProgressBar(B/z):("download"==w||"info"==w||"success"==w||"error"==w||"parse"==w?this._msgDiv.innerText=B:"gl"==w?(C="SHADING_LANGUAGE_VERSION: "+B.SHADING_LANGUAGE_VERSION+"\x3cbr\x3e",C+=" VENDOR: "+B.VENDOR+"\x3cbr\x3e",C+=" RENDERER: "+B.RENDERER+"\x3cbr\x3e",C+=" EXTENSIONS: "+(B.EXTENSIONS.join&&B.EXTENSIONS.join(", "))+
"\x3cbr\x3e",C+=" MAX_TEXTURE_SIZE: "+B.MAX_TEXTURE_SIZE+"\x3cbr\x3e",C+=" MAX_RENDERBUFFER_SIZE: "+B.MAX_RENDERBUFFER_SIZE+"\x3cbr\x3e",C+=" MAX_VERTEX_TEXTURE_IMAGE_UNITS: "+B.MAX_VERTEX_TEXTURE_IMAGE_UNITS,this._glDetailDiv.innerHTML=C,B="GL detect: "+B.VERSION,this._msgDiv.innerText=B):"glerror"==w&&(this._msgDiv.innerText=B),z&&"download"!=w&&"parse"!=w&&"glerror_minversion"!=w&&(B+=" "+z),this._cstatus&&("download"==this._cstatus&&"download"==w||"parse"==this._cstatus&&"parse"==w)||(this._msgCnt++,
currDiv=n.create("div",{id:"msg"+this._msgCnt,"class":"progress_"+w},this._detailDiv)),this._cstatus=w,B=Math.ceil(Date.now()-this._startDate)+"ms: "+B,currDiv.innerText=B,"gl"==w&&(currDiv.innerText=B,currDiv.appendChild(this._glDetailToggle),this._detailDiv.appendChild(this._glDetailDiv)))}},_createOrUpdateHelpLinks:function(){this.footerHelpLink?this.footerHelpLink.href=this.helpUrls.helpMain:(this.footerHelpLink=n.create("a",{href:this.helpUrls.helpMain,target:"_blank"},this.footerDiv),this.footerHelpLink.textContent=
x.ceWebViewerHelp);this.footerAgolLink||(this.footerAgolLink=n.create("a",{href:UIUtils.URLs().arcgisOnline,target:"_blank"},this.footerDiv),this.footerAgolLink.textContent=x.arcgisOnline);this.isPortal?this.onlineLinksSpan&&(this.onlineLinksSpan.style.display="none"):this.onlineLinksSpan?this.onlineLinksSpan.style.display="inline-block":(this.onlineLinksSpan=n.create("span",{},this.footerDiv),n.create("a",{href:UIUtils.URLs().ceProduct,target:"_blank",innerHTML:"CityEngine"},this.onlineLinksSpan),
n.create("a",{href:"http://www.esri.com",target:"_blank",innerHTML:"Esri.com"},this.onlineLinksSpan),n.create("a",{href:UIUtils.URLs().arcgisContactUs,target:"_blank",innerHTML:x.contactUs},this.onlineLinksSpan));this.glErrorHelpAgolLink?this.glErrorHelpAgolLink.href=this.helpUrls.helpMain:(this.glErrorHelpAgolLink=n.create("a",{href:this.helpUrls.helpMain,target:"_blank"}),this.glErrorHelpAgolLink.textContent=x.ceWebViewerHelp);this.glErrorHelpTroubleshootLink?this.glErrorHelpTroubleshootLink.href=
this.helpUrls.helpTroubleshoot:(this.glErrorHelpTroubleshootLink=n.create("a",{href:this.helpUrls.helpTroubleshoot,target:"_blank"}),this.glErrorHelpTroubleshootLink.textContent=x.ceWebViewerHelp);this.minGLVersionTroubleshootLink?this.minGLVersionTroubleshootLink.href=this.helpUrls.helpTroubleshoot:(this.minGLVersionTroubleshootLink=n.create("a",{href:this.helpUrls.helpTroubleshoot,target:"_blank"}),this.minGLVersionTroubleshootLink.textContent=x.learnMore)},enableDragAndDrop3ws:function(w){function B(E){f.hide(H);
if(1==E.length){E=E[0];if(E.name&&E.name.endsWith(".3ws")){y.className="dropValid";w&&w(E);return}H.innerHTML=x.wsFileInvalid;n.create("div",{className:"ellipsis"},H).textContent=E.name;f.show(H)}y.className="dropInvalid"}if(!this.dropZone){var z=[],C=p.byId("loaderTable"),y=n.create("div",{id:"dragAndDropMessage"},this._progressWindow),D=n.create("input",{type:"file",name:"files[]",id:"fileInput"},this._progressWindow);D.style.display="none";z.push(c(D,"change",function(E){B(D.files)}));var F=n.create("a",
{id:"browseLink"},y);F.textContent=x.browse;F.style.cursor="pointer";z.push(c(F,"click",function(){D.click()}));n.create("span",{},y).textContent=" "+x.wsDragHere;var H=n.create("div",{id:"errorMsg"},y);f.hide(H);F=c(C,"dragover",function(E){2>=(E.dataTransfer.mozItemCount+1||E.dataTransfer.items&&E.dataTransfer.items.length)&&(E.dataTransfer.types.indexOf&&0<=E.dataTransfer.types.indexOf("Files")||E.dataTransfer.types.contains&&E.dataTransfer.types.contains("Files"))?(E.stopPropagation(),E.preventDefault(),
E.dataTransfer.dropEffect="copy",y.className="over"):(E.dataTransfer.dropEffect="none",E.preventDefault())},!1);z.push(F);F=c(C,"dragleave",function(E){y.className=""});z.push(F);F=c(C,"drop",function(E){E.stopPropagation();E.preventDefault();B(E.dataTransfer.files)},!1);z.push(F);this.dropZone=C;this.dragAndDropOnSignals=z;return C}},disableDragAndDrop3ws:function(){for(var w=0;w<this.dragAndDropOnSignals.length;w++)this.dragAndDropOnSignals[w].remove();this.dragAndDropOnSignals.length=0},showExperimentalGLWarning:function(w,
B){var z=this._showExperimentalWebGLWarningMessage();if(localStorage.esriExperimentalWebglCheckWarningDisable){var C=localStorage.esriExperimentalWebglCheckWarningDisable;try{if(JSON.parse(C).version==w){B();return}}catch(E){}}var y=n.create("div",{className:"choiceButton"},z);y.textContent=x.continueConfirm;c.once(y,"click",function(){f.hide(D);f.hide(y);f.hide(F);H.checked?localStorage.esriExperimentalWebglCheckWarningDisable=JSON.stringify({version:w}):localStorage.esriExperimentalWebglCheckWarningDisable&&
delete localStorage.esriExperimentalWebglCheckWarningDisable;B()});var D=n.create("div",{className:"choiceButton"},z);D.textContent=x.learnMore;c(D,"click",function(){window.open(this.minGLVersionTroubleshootLink.href)}.bind(this));var F=n.create("div",{className:"remember"},z),H=n.create("input",{type:"checkbox",id:"checkboxRememberChoice"},F);n.create("label",{"for":"checkboxRememberChoice"},F).textContent=x.rememberChoice},_showExperimentalWebGLWarningMessage:function(){var w=n.create("div",{id:"experimentalGLWarning"},
this._progressWindow);n.create("div",{className:"warningIcon"},w);var B=n.create("div",{className:"warningMessage"},w);B.textContent=x.experimentalWebgl+" ";B.appendChild(this.minGLVersionTroubleshootLink);B.innerHTML+=".";return w}})})},"ceviewer/utils/Configuration":function(){define(["dojo","dojo/_base/window","dojo/io-query","./WebViewerUtils"],function(G,A,a,m){return function(){this.scene={};this.scene["3dWebScene"]=void 0;this.scene.camera;this.scene.layerVis;this.scene.shadows;this.scene.ao;
this.scene.reducedUI;this.scene.portal;this.scene.autoplay;this.scene.globe;this.scene.legacyDisplayOffset;this.scene.metadata;this.scene.version;this.load={};this.load.itemSize;this.load.streamParse;this.load.responseType;this.load.noglcheck;this.load.gzip;this.load.cookienoread;this.load.cookienowrite;this.update=function(p,t){this.scene.metadata=p;this.scene.version=p.version;!t&&p.displayOffset&&(this.scene.legacyDisplayOffset=p.displayOffset);this.scene.camera&&(this._evalPatchCoordinatesFromURL(this.scene.camera.target,
{v:this.scene.camera.version}),this._evalPatchCoordinatesFromURL(this.scene.camera.position,{v:this.scene.camera.version}))};this.loadFromUrl=function(){var p=a.queryToObject(A.doc.location.search.substr("?"===A.doc.location.search[0]?1:0));this.scene["3dWebScene"]=p["3dWebScene"]||this.scene["3dWebScene"];this.scene.camera=this.evalBookmarkFromURL(p,!0);this.scene.layerVis=this.evalLayerVisFromURL(p);this.scene.shadows="off"==p.shadows?!1:"on"==p.shadows?!0:void 0;this.scene.ao="off"==p.ao?!1:"on"==
p.ao?!0:void 0;this.scene.reducedUI="reducedUI"in p?!0:void 0;this.scene.portal="portal"in p?p.portal:void 0;this.scene.autoplay="autoplay"in p?!0:void 0;this.scene.globe=!1;this.load.itemSize=p.itemSize?parseInt(p.itemSize):void 0;this.load.noglcheck="noglcheck"in p?!0:void 0;this.load.gzip="true"==p.gzip?!0:"false"==p.gzip?!1:void 0;this.load.cookienoread="cookienoread"in p?!0:void 0;this.load.cookienowrite="cookienowrite"in p?!0:void 0};this.toUrl=function(p,t,n,h,c,b){var e=document.location.protocol+
"//"+document.location.host+document.location.pathname;h&&(e=h);h={};this.scene["3dWebScene"]&&(h["3dWebScene"]=this.scene["3dWebScene"]);this.scene.portal&&(h.portal=this.scene.portal);var f=vec3d.create(t.position),k=vec3d.create(t.target);this._evalPatchCoordinatesToURL(f);this._evalPatchCoordinatesToURL(k);f=UIUtils.croundv(f);k=UIUtils.croundv(k);t=[cround(t.fov)];h.view={target:k,position:f,fov:t};h.lyr=n?m.GetListFromMapVisibility(p,["layergroup___GeoComments"]):m.GetListFromMapVisibility(p);
c&&(p=vec3d.create(c),this._evalPatchCoordinatesToURL(p),p=UIUtils.croundv(p),h.loc=p);b&&(b=vec3d.create(b),b=UIUtils.croundv(b),h.norm=b);null!==this.scene.metadata.spatialReference.wkid&&(h.wkid=this.scene.metadata.spatialReference.wkid);h.v=2;p=b="";for(var u in h)p="view"==u?k.concat(f).concat(t).join(","):h[u],b+="\x26"+u+"\x3d"+p;u=e+"?"+b;f=e+encodeURIComponent("?")+encodeURIComponent(b);return{direct:u,encoded:f,base:e,params:h,queryString:b}};this.evalBookmarkFromURL=function(p,t){if("view"in
p){var n=p.view.split(",");if(7!=n.length)return!1;for(var h in n)n[h]=parseFloat(n[h]);h=n.slice(0,3);var c=n.slice(3,6);this._evalPatchCoordinatesFromURL(h,p);this._evalPatchCoordinatesFromURL(c,p);return t&&"v"in p&&parseFloat(p.v)?{target:h,position:c,fov:n[6],version:parseFloat(p.v)}:{target:h,position:c,fov:n[6]}}};this.evalLayerVisFromURL=function(p){if("lyr"in p)try{return JSON.parse("["+p.lyr+"]")}catch(t){return!1}};this.evalLocFromURL=function(p){if("loc"in p)try{var t=JSON.parse("["+p.loc+
"]");this._evalPatchCoordinatesFromURL(t,p);return t}catch(n){return!1}};this.evalNormFromURL=function(p){if("norm"in p)try{return JSON.parse("["+p.norm+"]")}catch(t){return!1}};this._setLegacyDisplayOffset=function(p){this.scene.legacyDisplayOffset=p};this._evalPatchCoordinatesFromURL=function(p,t){this.scene.legacyDisplayOffset&&(!("v"in t)||2>t.v)&&2<=this.scene.version?vec3d.add(p,this.scene.legacyDisplayOffset):2>this.scene.version&&"v"in t&&2<=t.v&&this.scene.legacyDisplayOffset&&vec3d.subtract(p,
this.scene.legacyDisplayOffset)};this._evalPatchCoordinatesToURL=function(p){2>this.scene.version&&this.scene.metadata.displayOffset&&vec3d.add(p,this.scene.metadata.displayOffset)}}})},"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n\t\t\t${!actionBarTemplate}\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\ttabIndex\x3d"-1" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\r\n/\x3e\x3c/span\x3e\r\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick" data-dojo-attach-point\x3d"valueNode" aria-hidden\x3d"true"\r\n/\x3e\x3c/span\x3e\r\n',
"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:__onClick,onkeydown:_onButtonKeyDown"\r\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\r\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\r\n\t\t\tdata-dojo-attach-event\x3d"onkeydown:_onArrowKeyDown"\r\n\t\t\ttitle\x3d"${optionsTitle}"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\r\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode"\r\n\t\t\t\tclass\x3d"dijitOffScreen" aria-hidden\x3d"true" data-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:esri/core/request/iframe.html":'\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n\x3chead\x3e\r\n  \x3cmeta http-equiv\x3d"Content-Security-Policy" content\x3d"default-src \'none\'; script-src * \'unsafe-inline\'"\x3e\r\n\r\n  \x3cscript\x3e\r\n    var dojoConfig \x3d {\r\n      async: true,\r\n      baseUrl: "../../../dojo/",\r\n      has: {\r\n        "csp-restrictions": true,\r\n        "dojo-preload-i18n-Api": false\r\n      }\r\n    };\r\n  \x3c/script\x3e\r\n  \x3c!--\r\n  This src is relative to this page and assumes dojo is a sibling to esri.\r\n  It is updated when this file is set as the iframe\'s `srcdoc` value.\r\n  --\x3e\r\n  \x3cscript src\x3d"../../../dojo/dojo.js"\x3e\x3c/script\x3e\r\n\r\n  \x3cscript\x3e\r\n    function windowMessageHandler(event) {\r\n      window.removeEventListener("message", windowMessageHandler);\r\n\r\n      var port \x3d event.ports[0];\r\n\r\n      require([\r\n        "dojo/request/script"\r\n      ], function(script) {\r\n        port.postMessage("ready");\r\n\r\n        port.addEventListener("message", function(event) {\r\n          var data \x3d event.data;\r\n          script.get(data.url, data.options)\r\n              .then(function(response) {\r\n                port.postMessage({\r\n                  id: data.id,\r\n                  response: response\r\n                });\r\n              })\r\n              .otherwise(function(error) {\r\n                port.postMessage({\r\n                  id: data.id,\r\n                  isError: true,\r\n                  message: error.message\r\n                });\r\n              });\r\n        });\r\n        port.start();\r\n      });\r\n    }\r\n\r\n    window.addEventListener("message", windowMessageHandler);\r\n  \x3c/script\x3e\r\n\x3c/head\x3e\r\n\x3cbody\x3e\r\n\x3c/body\x3e\r\n\x3c/html\x3e\r\n',
"url:esri/layers/vectorTiles/views/2d/engine/webgl/shaders/fillShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  // YF TODO: (doc)\r\n--\x3e\r\n\x3csnippets\x3e\r\n  \x3csnippet name\x3d"fillVVUniformsVS"\x3e\r\n    \x3c![CDATA[\r\n  #if defined(VV_COLOR)|| defined(VV_OPACITY)\r\n    attribute vec4 a_vv;\r\n  #endif // VV_COLOR || VV_OPACITY\r\n\r\n  #ifdef VV_COLOR\r\n    uniform float u_vvColorValues[8];\r\n    uniform vec4 u_vvColors[8];\r\n  #endif // VV_COLOR\r\n\r\n  #ifdef VV_OPACITY\r\n    uniform float u_vvOpacityValues[8];\r\n    uniform float u_vvOpacities[8];\r\n  #endif // VV_OPACITY\r\n\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"fillVVFunctions"\x3e\r\n    \x3c![CDATA[\r\n    bool isNan(float val) {\r\n      return !( val \x3c 0.0 || 0.0 \x3c val || val \x3d\x3d 0.0 );\r\n    }\r\n    \r\n  #ifdef VV_OPACITY\r\n    const int VV_OPACITY_N \x3d 8;\r\n\r\n    float getVVOpacity(float opacityValue) {\r\n      if (isNan(opacityValue)) { \r\n        return 1.0;\r\n      }\r\n\r\n      if (opacityValue \x3c\x3d u_vvOpacityValues[0]) {\r\n        return u_vvOpacities[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_OPACITY_N; ++i) {\r\n        if (u_vvOpacityValues[i] \x3e\x3d opacityValue) {\r\n          float f \x3d (opacityValue - u_vvOpacityValues[i-1]) / (u_vvOpacityValues[i] - u_vvOpacityValues[i-1]);\r\n          return mix(u_vvOpacities[i-1], u_vvOpacities[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvOpacities[VV_OPACITY_N - 1];\r\n    }\r\n  #endif // VV_OPACITY\r\n\r\n  #ifdef VV_COLOR\r\n    const int VV_COLOR_N \x3d 8;\r\n\r\n    vec4 getVVColor(float colorValue, vec4 fallback) {\r\n      if (isNan(colorValue)) { \r\n        return fallback;\r\n      }\r\n      \r\n      if (colorValue \x3c\x3d u_vvColorValues[0]) {\r\n        return u_vvColors[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_COLOR_N; ++i) {\r\n        if (u_vvColorValues[i] \x3e\x3d colorValue) {\r\n          float f \x3d (colorValue - u_vvColorValues[i-1]) / (u_vvColorValues[i] - u_vvColorValues[i-1]);\r\n          return mix(u_vvColors[i-1], u_vvColors[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvColors[VV_COLOR_N - 1];\r\n    }\r\n  #endif // VV_COLOR\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"fillVS"\x3e\r\n    \x3c![CDATA[\r\n      precision mediump float;\r\n\r\n      attribute vec2 a_pos;\r\n      attribute vec4 a_id; // since we need to render the Id as a color we need to break it into RGBA components. so just like a color, the Id is normalized.\r\n      attribute vec4 a_color;\r\n      attribute vec4 a_tlbr;\r\n      attribute vec4 a_aux;\r\n\r\n      uniform highp mat4 u_transformMatrix;\r\n      uniform highp vec2 u_normalized_origin;\r\n\r\n      varying lowp vec4 v_color;\r\n      varying lowp float v_opacity;\r\n\r\n      // import the VV inputs and functions (they are #ifdefed, so if the proper #define is not set it will end-up being a no-op)\r\n      $fillVVUniformsVS\r\n      $fillVVFunctions\r\n\r\n  #ifdef PATTERN\r\n    uniform mediump float u_zoomFactor;\r\n    uniform mediump vec2 u_mosaicSize;\r\n\r\n    varying mediump vec4 v_tlbr;\r\n    varying mediump vec2 v_tileTextureCoord;\r\n  #endif // PATTERN\r\n\r\n  #ifdef ID\r\n    varying highp vec4 v_id;\r\n  #endif // ID\r\n\r\n      void main()\r\n      {\r\n  #ifdef VV_OPACITY\r\n        v_opacity \x3d getVVOpacity(a_vv.y);\r\n  #else\r\n        v_opacity \x3d 1.0;\r\n  #endif\r\n\r\n  #ifdef VV_COLOR\r\n       v_color \x3d getVVColor(a_vv.x, a_color);\r\n  #else\r\n       v_color \x3d a_color;\r\n  #endif // VV_COLOR\r\n\r\n  #ifdef ID\r\n      v_id \x3d a_id;\r\n  #endif // ID\r\n\r\n  #ifdef PATTERN\r\n       // calculate the pattern matrix\r\n       mat3 patternMatrix \x3d mat3(1.0, 0.0, 0.0,\r\n                                 0.0, 1.0, 0.0,\r\n                                 0.0, 0.0, 1.0);\r\n       patternMatrix[0][0] \x3d 1.0 / (u_zoomFactor * a_aux.x);\r\n       patternMatrix[1][1] \x3d 1.0 / (u_zoomFactor * a_aux.y);\r\n\r\n       // calculate the texture coordinates of the current vertex. It will of course get interpolated.\r\n       // The pattern matrix is a 3x3 scale matrix which \'tiles\' the texture inside the tile, translating from\r\n       // tile coordinates to texture coordinates.\r\n       v_tileTextureCoord \x3d (patternMatrix * vec3(a_pos, 1.0)).xy;\r\n       v_tlbr \x3d vec4(a_tlbr.x / u_mosaicSize.x, a_tlbr.y / u_mosaicSize.y, a_tlbr.z / u_mosaicSize.x, a_tlbr.w / u_mosaicSize.y);\r\n  #endif // PATTERN\r\n\r\n        gl_Position \x3d vec4(u_normalized_origin, 0.0, 0.0) + u_transformMatrix * vec4(a_pos, 0, 1.0);\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"fillFS"\x3e\r\n    \x3c![CDATA[\r\n      precision lowp float;\r\n      uniform lowp float u_opacity;\r\n\r\n  #ifdef PATTERN\r\n      uniform lowp sampler2D u_texture;\r\n\r\n      varying mediump vec4 v_tlbr;\r\n      varying mediump vec2 v_tileTextureCoord;\r\n  #endif // PATTERN\r\n\r\n  #ifdef ID\r\n    varying highp vec4 v_id;\r\n  #endif // ID\r\n\r\n      varying lowp vec4 v_color;\r\n      varying lowp float v_opacity;\r\n\r\n      void main()\r\n      {\r\n  #ifdef PATTERN\r\n         // normalize the calculated texture coordinate such that it fits in the range of 0 to 1.\r\n         mediump vec2 normalizedTextureCoord \x3d mod(v_tileTextureCoord, 1.0);\r\n         // interpolate the image coordinate between the top-left and the bottom right to get the actual position to sample.\r\n         // after normalizing the position, we get a value ranging between 0 and 1 which refers to the entire texture, however\r\n         // we need to only sample from area that has our sprite in the mosaic.\r\n         mediump vec2 samplePos \x3d mix(v_tlbr.xy, v_tlbr.zw, normalizedTextureCoord);\r\n         // sample the sprite mosaic\r\n         lowp vec4 color \x3d texture2D(u_texture, samplePos);\r\n         gl_FragColor \x3d u_opacity * v_opacity * v_color * color;\r\n  #else\r\n        gl_FragColor \x3d u_opacity * v_opacity * v_color;\r\n  #endif // PATTERN\r\n\r\n  #ifdef HIGHLIGHT\r\n        gl_FragColor.a \x3d step(1.0 / 255.0, gl_FragColor.a);\r\n  #endif // HIGHLIGHT\r\n\r\n  #ifdef ID\r\n      //if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n      //  discard;\r\n      //}\r\n      gl_FragColor \x3d v_id;\r\n  #endif // ID\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/2d/engine/webgl/shaders/iconShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  Add your GLSL snippets to this file. You should start from\r\n  importing your old GLSL files. For instance, if you have a\r\n  file such as myShader.vs.glsl you should create a new \x3csnippet name\x3d"myShaderVS"\x3e\r\n  and then copy and paste the GLSL source as the content. You will then convert your\r\n  code to use the {@link esri/views/2d/engine/webgl/glShaderSnippets glShaderSnippets}\r\n  instance to access the GLSL code, instead of importing it directly with require("dojo/text!...").\r\n--\x3e\r\n\x3csnippets\x3e\r\n\r\n  \x3csnippet name\x3d"rgba2float"\x3e\x3c![CDATA[\r\n    // TODO consider moving this snippet into a util.xml file\r\n\r\n    // Factors to convert rgba back to float\r\n    const vec4 rgba2float_factors \x3d vec4(\r\n        255.0 / (256.0),\r\n        255.0 / (256.0 * 256.0),\r\n        255.0 / (256.0 * 256.0 * 256.0),\r\n        255.0 / (256.0 * 256.0 * 256.0 * 256.0)\r\n      );\r\n\r\n    float rgba2float(vec4 rgba) {\r\n      // Convert components from 0-\x3e1 back to 0-\x3e255 and then\r\n      // add the components together with their corresponding\r\n      // fixed point factors, i.e. (256^1, 256^2, 256^3, 256^4)\r\n      return dot(rgba, rgba2float_factors);\r\n    }\r\n  ]]\x3e\x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"iconVVUniformsVS"\x3e\r\n    \x3c![CDATA[\r\n  #if defined(VV_COLOR) || defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE) || defined(VV_OPACITY) || defined(VV_ROTATION)\r\n    attribute vec4 a_vv;\r\n  #endif // VV_COLOR || VV_SIZE_MIN_MAX_VALUE || VV_SIZE_SCALE_STOPS || VV_SIZE_FIELD_STOPS || VV_SIZE_UNIT_VALUE || VV_OPACITY || VV_ROTATION\r\n\r\n  #ifdef VV_COLOR\r\n    uniform float u_vvColorValues[8];\r\n    uniform vec4 u_vvColors[8];\r\n  #endif // VV_COLOR\r\n\r\n  #ifdef VV_SIZE_MIN_MAX_VALUE\r\n    uniform vec4 u_vvSizeMinMaxValue;\r\n  #endif // VV_SIZE_MIN_MAX_VALUE\r\n\r\n  #ifdef VV_SIZE_SCALE_STOPS\r\n    uniform float u_vvSizeScaleStopsValue;\r\n  #endif // VV_SIZE_SCALE_STOPS\r\n\r\n  #ifdef VV_SIZE_FIELD_STOPS\r\n    uniform float u_vvSizeFieldStopsValues[6];\r\n    uniform float u_vvSizeFieldStopsSizes[6];\r\n  #endif // VV_SIZE_FIELD_STOPS\r\n\r\n  #ifdef VV_SIZE_UNIT_VALUE\r\n    uniform float u_vvSizeUnitValueWorldToPixelsRatio;\r\n  #endif // VV_SIZE_UNIT_VALUE\r\n\r\n  #ifdef VV_OPACITY\r\n    uniform float u_vvOpacityValues[8];\r\n    uniform float u_vvOpacities[8];\r\n  #endif // VV_OPACITY\r\n\r\n  #ifdef VV_ROTATION\r\n    uniform lowp float u_vvRotationType;\r\n  #endif // VV_ROTATION\r\n\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"iconVVFunctions"\x3e\r\n    \x3c![CDATA[\r\n    bool isNan(float val) {\r\n      return !( val \x3c 0.0 || 0.0 \x3c val || val \x3d\x3d 0.0 );\r\n    }\r\n\r\n  #ifdef VV_SIZE_MIN_MAX_VALUE\r\n    float getVVMinMaxSize(float sizeValue, float fallback) {\r\n      if (isNan(sizeValue)) {\r\n        return fallback;\r\n      }\r\n\r\n      // we need to multiply by 8 in order to translate to tile coordinates\r\n      float interpolationRatio \x3d (sizeValue  - u_vvSizeMinMaxValue.x) / (u_vvSizeMinMaxValue.y - u_vvSizeMinMaxValue.x);\r\n      interpolationRatio \x3d clamp(interpolationRatio, 0.0, 1.0);\r\n      return u_vvSizeMinMaxValue.z + interpolationRatio * (u_vvSizeMinMaxValue.w - u_vvSizeMinMaxValue.z);\r\n    }\r\n  #endif // VV_SIZE_MIN_MAX_VALUE\r\n\r\n  #ifdef VV_SIZE_FIELD_STOPS\r\n    const int VV_SIZE_N \x3d 6;\r\n    float getVVStopsSize(float sizeValue, float fallback) {\r\n      if (isNan(sizeValue)) {\r\n        return fallback;\r\n      }\r\n\r\n      if (sizeValue \x3c\x3d u_vvSizeFieldStopsValues[0]) {\r\n        return u_vvSizeFieldStopsSizes[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_SIZE_N; ++i) {\r\n        if (u_vvSizeFieldStopsValues[i] \x3e\x3d sizeValue) {\r\n          float f \x3d (sizeValue - u_vvSizeFieldStopsValues[i-1]) / (u_vvSizeFieldStopsValues[i] - u_vvSizeFieldStopsValues[i-1]);\r\n          return mix(u_vvSizeFieldStopsSizes[i-1], u_vvSizeFieldStopsSizes[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvSizeFieldStopsSizes[VV_SIZE_N - 1];\r\n    }\r\n  #endif // VV_SIZE_FIELD_STOPS\r\n\r\n  #ifdef VV_SIZE_UNIT_VALUE\r\n    float getVVUnitValue(float sizeValue, float fallback) {\r\n      if (isNan(sizeValue)) {\r\n        return fallback;\r\n      }\r\n\r\n      return u_vvSizeUnitValueWorldToPixelsRatio * sizeValue;\r\n    }\r\n  #endif // VV_SIZE_UNIT_VALUE\r\n\r\n  #ifdef VV_OPACITY\r\n    const int VV_OPACITY_N \x3d 8;\r\n    float getVVOpacity(float opacityValue) {\r\n      if (isNan(opacityValue)) {\r\n        return 1.0;\r\n      }\r\n\r\n      if (opacityValue \x3c\x3d u_vvOpacityValues[0]) {\r\n        return u_vvOpacities[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_OPACITY_N; ++i) {\r\n        if (u_vvOpacityValues[i] \x3e\x3d opacityValue) {\r\n          float f \x3d (opacityValue - u_vvOpacityValues[i-1]) / (u_vvOpacityValues[i] - u_vvOpacityValues[i-1]);\r\n          return mix(u_vvOpacities[i-1], u_vvOpacities[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvOpacities[VV_OPACITY_N - 1];\r\n    }\r\n  #endif // VV_OPACITY\r\n\r\n  #ifdef VV_ROTATION\r\n    mat4 getVVRotation(float rotationValue) {\r\n      // YF TODO: if the symbol has rotation we need to combine the symbo\'s rotation with the VV one\r\n      if (isNan(rotationValue)) {\r\n        return mat4(1, 0, 0, 0,\r\n                    0, 1, 0, 0,\r\n                    0, 0, 1, 0,\r\n                    0, 0, 0, 1);\r\n      }\r\n\r\n      float rotation \x3d rotationValue;\r\n      if (u_vvRotationType \x3d\x3d 1.0) {\r\n        rotation \x3d 90.0 - rotation;\r\n      }\r\n\r\n      float angle \x3d C_DEG_TO_RAD * rotation;\r\n\r\n      float sinA \x3d sin(angle);\r\n      float cosA \x3d cos(angle);\r\n\r\n      return mat4(cosA, sinA, 0, 0,\r\n                  -sinA,  cosA, 0, 0,\r\n                  0,     0, 1, 0,\r\n                  0,     0, 0, 1);\r\n    }\r\n  #endif // VV_ROTATION\r\n\r\n  #ifdef VV_COLOR\r\n    const int VV_COLOR_N \x3d 8;\r\n\r\n    vec4 getVVColor(float colorValue, vec4 fallback) {\r\n      if (isNan(colorValue)) {\r\n        return fallback;\r\n      }\r\n\r\n      if (colorValue \x3c\x3d u_vvColorValues[0]) {\r\n        return u_vvColors[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_COLOR_N; ++i) {\r\n        if (u_vvColorValues[i] \x3e\x3d colorValue) {\r\n          float f \x3d (colorValue - u_vvColorValues[i-1]) / (u_vvColorValues[i] - u_vvColorValues[i-1]);\r\n          return mix(u_vvColors[i-1], u_vvColors[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvColors[VV_COLOR_N - 1];\r\n    }\r\n  #endif // VV_COLOR\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n\r\n  \x3csnippet name\x3d"iconVS"\x3e\r\n  \x3c![CDATA[\r\n    precision mediump float;\r\n\r\n    //const float C_256_TO_RAD \x3d 3.14159265359 / 128.0;\r\n    const float C_DEG_TO_RAD \x3d 3.14159265359 / 180.0;\r\n\r\n    // per quad (instance) attributes (20 bytes \x3d\x3d\x3e equivalent of 5 bytes per vertex)\r\n    attribute vec2 a_pos;\r\n    attribute vec2 a_vertexOffset;\r\n    attribute vec4 a_vertexTex;\r\n\r\n    attribute vec4 a_id; // since we need to render the Id as a color we need to break it into RGBA components. so just like a color, the Id is normalized.\r\n    attribute vec4 a_color;\r\n    attribute vec4 a_outlineColor;\r\n    attribute vec4 a_sizeAndOutlineWidth;\r\n\r\n    // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\r\n    // relative to the tile\'s upper left corner\r\n    // the extrusion vector.\r\n    uniform highp mat4 u_transformMatrix;\r\n    // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\r\n    uniform highp mat4 u_extrudeMatrix;\r\n    // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\r\n    uniform highp vec2 u_normalized_origin;\r\n\r\n    // the size of the mosaic given in pixels\r\n    uniform vec2 u_mosaicSize;\r\n\r\n    // the opacity of the layer given by the painter\r\n    uniform mediump float u_opacity;\r\n\r\n    // the interpolated texture coordinate value to be used by the fragment shader in order to sample the sprite texture\r\n    varying mediump vec2 v_tex;\r\n    // the calculated transparency to be applied by the fragment shader. It is incorporating both the fade as well as the\r\n    // opacity of the layer given by the painter\r\n    varying lowp float v_transparency;\r\n    // the of the icon given in pixels\r\n    varying mediump vec2 v_size;\r\n\r\n    // icon color. If is a picture-marker it is used to tint the texture color\r\n    varying lowp vec4 v_color;\r\n\r\n #ifdef SDF\r\n    varying lowp vec4 v_outlineColor;\r\n    varying mediump float v_outlineWidth;\r\n #endif // SDF\r\n\r\n #ifdef ID\r\n    varying highp vec4 v_id;\r\n #endif // ID\r\n\r\n #ifdef HEATMAP\r\n    attribute float a_heatmapWeight;\r\n    varying mediump float v_heatmapWeight;\r\n #endif // HEATMAP\r\n\r\n    // import the VV inputs and functions (they are #ifdefed, so if the proper #define is not set it will end-up being a no-op)\r\n    $iconVVUniformsVS\r\n    $iconVVFunctions\r\n\r\n    void main()\r\n    {\r\n      vec2 a_offset \x3d a_vertexOffset;\r\n      vec2 a_tex \x3d a_vertexTex.xy;\r\n      vec2 a_size \x3d a_sizeAndOutlineWidth.xy;\r\n\r\n      // default values (we need them for the variations to come)\r\n      float a_angle \x3d 0.0;\r\n      float delta_z \x3d 0.0;\r\n      float depth \x3d 0.0;\r\n      v_transparency \x3d 1.0;\r\n\r\n  #if defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\r\n\r\n  #ifdef VV_SIZE_MIN_MAX_VALUE\r\n      // vv size override the original symbol\'s size\r\n      float h \x3d getVVMinMaxSize(a_vv.x, a_size.y);\r\n  #endif // VV_SIZE_MIN_MAX_VALUE\r\n\r\n  #ifdef VV_SIZE_SCALE_STOPS\r\n      float h \x3d u_vvSizeScaleStopsValue;\r\n  #endif // VV_SIZE_SCALE_STOPS\r\n\r\n  #ifdef VV_SIZE_FIELD_STOPS\r\n      float h \x3d getVVStopsSize(a_vv.x, a_size.y);\r\n  #endif // VV_SIZE_FIELD_STOPS\r\n\r\n  #ifdef VV_SIZE_UNIT_VALUE\r\n      float h \x3d getVVUnitValue(a_vv.x, a_size.y);\r\n  #endif // VV_SIZE_UNIT_VALUE\r\n\r\n      // make sure to preserve the aspect ratio of the symbol\r\n      vec2 size \x3d vec2(h * a_size.x / a_size.y, h);\r\n      vec2 offset \x3d a_offset * size / a_size;\r\n      v_size \x3d size;\r\n  #else\r\n  #ifdef HEATMAP\r\n      // reconstruct the kernel size\r\n      a_size \x3d 9.0 * a_size + 1.0;\r\n  #endif // HEATMAP\r\n\r\n      vec2 offset \x3d a_offset;\r\n      v_size \x3d a_size;\r\n  #endif // defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\r\n\r\n  #ifdef SDF\r\n    offset *\x3d 2.0;\r\n  #endif // SDF\r\n\r\n  #ifdef VV_ROTATION\r\n      gl_Position \x3d vec4(u_normalized_origin, depth, 0.0) + u_transformMatrix * vec4(a_pos, 0.0, 1.0) + u_extrudeMatrix * getVVRotation(a_vv.w) * vec4(offset, delta_z, 0.0);\r\n  #else\r\n      gl_Position \x3d vec4(u_normalized_origin, depth, 0.0) + u_transformMatrix * vec4(a_pos, 0.0, 1.0) + u_extrudeMatrix * vec4(offset, delta_z, 0.0);\r\n  #endif // VV_ROTATION\r\n\r\n  #ifdef VV_OPACITY\r\n      v_transparency \x3d getVVOpacity(a_vv.z);\r\n  #else\r\n      v_transparency \x3d u_opacity;\r\n  #endif // VV_OPACITY\r\n\r\n  #ifdef VV_COLOR\r\n      v_color \x3d getVVColor(a_vv.y, a_color);\r\n  #else\r\n      v_color \x3d a_color;\r\n  #endif // VV_COLOR\r\n\r\n      // output the texture coordinates and the transparency\r\n      v_tex \x3d a_tex / u_mosaicSize;\r\n\r\n #ifdef SDF\r\n      v_outlineColor \x3d a_outlineColor;\r\n      v_outlineWidth \x3d a_sizeAndOutlineWidth.z;\r\n #endif // SDF\r\n\r\n #ifdef ID\r\n      v_id \x3d a_id;\r\n #endif // ID\r\n\r\n #ifdef HEATMAP\r\n    v_heatmapWeight \x3d a_heatmapWeight;\r\n #endif // HEATMAP\r\n    }\r\n  ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"iconFS"\x3e\r\n   \x3c![CDATA[\r\n    precision mediump float;\r\n\r\n    uniform lowp sampler2D u_texture;\r\n\r\n    varying lowp vec2 v_tex;\r\n    varying lowp float v_transparency;\r\n    varying mediump vec2 v_size;\r\n    varying lowp vec4 v_color;\r\n\r\n #ifdef SDF\r\n    varying lowp vec4 v_outlineColor;\r\n    varying mediump float v_outlineWidth;\r\n\r\n    // we need the conversion function from RGBA to float\r\n    $rgba2float\r\n #endif // SDF\r\n\r\n #ifdef ID\r\n    varying highp vec4 v_id;\r\n #endif // ID\r\n\r\n #ifdef HEATMAP\r\n    varying mediump float v_heatmapWeight;\r\n #endif // HEATMAP\r\n\r\n    const float softEdgeRatio \x3d 1.0; // use blur here if needed\r\n\r\n    void main()\r\n    {\r\n #ifdef SDF\r\n      lowp vec4 fillPixelColor \x3d v_color;\r\n\r\n      // calculate the distance from the edge [-0.5, 0.5]\r\n      float d \x3d 0.5 - rgba2float(texture2D(u_texture, v_tex));\r\n\r\n      // the soft edge ratio is about 1.5 pixels allocated for the soft edge.\r\n      float size \x3d max(v_size.x, v_size.y);\r\n      float dist \x3d d * size * softEdgeRatio;\r\n\r\n      // set the fragment\'s transparency according to the distance from the edge\r\n      fillPixelColor *\x3d clamp(0.5 - dist, 0.0, 1.0);\r\n\r\n      // count for the outline\r\n      // therefore tint the entire icon area.\r\n      if (v_outlineWidth \x3e 0.25) {\r\n        lowp vec4 outlinePixelColor \x3d v_outlineColor;\r\n\r\n        // outlines can\'t be larger than the size of the symbol\r\n        float clampedOutlineSize \x3d min(v_outlineWidth, size);\r\n\r\n        outlinePixelColor *\x3d clamp(0.5 - abs(dist) + clampedOutlineSize * 0.5, 0.0, 1.0);\r\n\r\n        // finally combine the outline and the fill colors (outline draws on top of fill)\r\n        gl_FragColor \x3d v_transparency * ((1.0 - outlinePixelColor.a) * fillPixelColor + outlinePixelColor);\r\n      }\r\n      else {\r\n        gl_FragColor \x3d v_transparency * fillPixelColor;\r\n      }\r\n #else // not an SDF\r\n      lowp vec4 texColor \x3d texture2D(u_texture, v_tex);\r\n\r\n #ifdef HEATMAP\r\n      texColor.r *\x3d v_heatmapWeight;\r\n #endif // HEATMAP\r\n\r\n      gl_FragColor \x3d v_transparency * texColor;\r\n #endif // SDF\r\n\r\n #ifdef HIGHLIGHT\r\n      gl_FragColor.a \x3d step(1.0 / 255.0, gl_FragColor.a);\r\n #endif // HIGHLIGHT\r\n\r\n #ifdef ID\r\n      if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n        discard;\r\n      }\r\n      gl_FragColor \x3d v_id;\r\n #endif // ID\r\n    }\r\n   ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n\r\n',
"url:esri/layers/vectorTiles/views/2d/engine/webgl/shaders/labelShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  Add your GLSL snippets to this file. You should start from\r\n  importing your old GLSL files. For instance, if you have a\r\n  file such as myShader.vs.glsl you should create a new \x3csnippet name\x3d"myShaderVS"\x3e\r\n  and then copy and paste the GLSL source as the content. You will then convert your\r\n  code to use the {@link esri/views/2d/engine/webgl/glShaderSnippets glShaderSnippets}\r\n  instance to access the GLSL code, instead of importing it directly with require("dojo/text!...").\r\n--\x3e\r\n\x3csnippets\x3e\r\n\r\n  \x3csnippet name\x3d"labelVS"\x3e\r\n  \x3c![CDATA[\r\n    precision mediump float;\r\n\r\n      attribute vec2 a_pos;                  // 2 * 2 (2 x signed 16)\r\n      attribute vec4 a_color;                // 4 (4 x unsigned byte)\r\n      attribute vec2 a_vertexOffset;         // 2 * 2 // (2 x signed 16) offset from the anchor point of the string\r\n      attribute vec4 a_texAndSize;          // 4 (4 x unsigned byte) texture coordinatesm and font size. w is for the halo size\r\n      attribute vec4 a_refSymbolAndPlacementOffset; // 4 (4 x unsigned byte) the offset of the reference symbol of the feature (x,y) and the placement offset (z, w) all given in pixels\r\n\r\n      attribute lowp float  a_visible; // a one byte controlling the visibility of the vertex (a separate visibility buffer), values are 0 or 1 (visible)\r\n\r\n      attribute mediump vec2 a_visibilityRange; // 2 x unsigned byte;\r\n\r\n      // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\r\n      // relative to the tile\'s upper left corner\r\n      // the extrusion vector.\r\n      uniform highp mat4 u_transformMatrix;\r\n      // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\r\n      uniform highp mat4 u_extrudeMatrix;\r\n      // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\r\n      uniform highp vec2 u_normalized_origin;\r\n      // the size of the mosaic given in pixels\r\n      uniform vec2 u_mosaicSize;\r\n      uniform float u_pixelRatio;\r\n\r\n      // the opacity of the layer\r\n      uniform mediump float u_opacity;\r\n\r\n      // the curent zoom\r\n      uniform mediump float u_zoomLevel; // the current zoom level X 10\r\n      uniform lowp float u_mapRotation;\r\n      uniform lowp float u_mapAligned;\r\n\r\n      varying mediump float v_antialiasingWidth;\r\n      varying mediump float v_edgeDistanceOffset;\r\n\r\n      // the interpolated texture coordinate value to be used by the fragment shader in order to sample the sprite texture\r\n      varying mediump vec2 v_tex;\r\n      // the calculated transparency to be applied by the fragment shader. It is incorporating both the fade as well as the\r\n      // opacity of the layer given by the painter\r\n      varying lowp float v_transparency;\r\n\r\n    #ifdef ID\r\n       uniform mediump float u_fadeStep;\r\n       varying mediump float v_fadeStep;\r\n    #else\r\n       varying mediump vec4 v_color;\r\n    #endif // ID\r\n\r\n      // the vertex offsets are given in integers, therefore in order to maintain a reasonable precission we multiply the values\r\n      // by 16 and then at the shader devide by the same number\r\n      const float offsetPrecision \x3d 1.0 / 8.0;\r\n      const float outlineScale \x3d 1.0 / 10.0;\r\n      const float sdfFontSize \x3d 24.0;\r\n\r\n      // maximum SDF distance of 8 pixels represent the distance values that range from -2 inside the geometry to 6 on the outside.\r\n      // 6 is actually the maximum distance outside the glyph, therefore it is the limitation of the halo which is 1/4 of the geometry size.\r\n      const float maxSdfDistance \x3d 8.0;\r\n\r\n      const float C_DEG_TO_RAD \x3d 3.14159265359 / 180.0;\r\n\r\n      void main()\r\n      {\r\n        // make sure to clip the vertices in case that given record is marked as invisible\r\n        float z \x3d 2.0 * (1.0 - a_visible);\r\n\r\n        // clip the vertex if we are beyond the visibility range of the vertex\r\n        // please note: min value of 0 is regarded infinity. max value of 255 is regarded infinity\r\n        z +\x3d 1.0 + sign(a_visibilityRange.x - u_zoomLevel);\r\n        z +\x3d 1.0 + sign(u_zoomLevel - a_visibilityRange.y);\r\n\r\n        // we use the list significant bit of the position in order to store the indication whethe the vertex is of a halow of a glyph\r\n        mediump float halo \x3d mod(a_pos, 2.0).x;\r\n\r\n        float fontSize \x3d a_texAndSize.z;\r\n\r\n        float fontScale \x3d fontSize / sdfFontSize;\r\n        // we need to scale the extrude matrix by the font-scale in order to get the right text size\r\n        mat4 extrudeMatrix \x3d fontScale * u_extrudeMatrix;\r\n\r\n        float mapRotation \x3d u_mapAligned * C_DEG_TO_RAD * -u_mapRotation;\r\n        float sinA \x3d sin(mapRotation);\r\n        float cosA \x3d cos(mapRotation);\r\n\r\n        mat4 mapRotationMat \x3d mat4(cosA, sinA, 0.0, 0.0,\r\n                                  -sinA, cosA, 0.0, 0.0,\r\n                                    0.0,  0.0, 1.0, 0.0,\r\n                                    0.0,  0.0, 0.0, 1.0);\r\n\r\n        vec4 refSymbolOffset \x3d mapRotationMat *  vec4(a_refSymbolAndPlacementOffset.xy, 0.0, 0.0);\r\n\r\n        gl_Position \x3d vec4(u_normalized_origin, 0.0, 0.0) +\r\n                      u_transformMatrix * vec4(floor(a_pos * 0.5), z, 1.0) +\r\n                      u_extrudeMatrix * vec4(refSymbolOffset.xy + a_refSymbolAndPlacementOffset.zw, 0.0, 0.0) +\r\n                      extrudeMatrix * vec4(offsetPrecision * a_vertexOffset, 0.0, 0.0);\r\n\r\n        v_tex \x3d a_texAndSize.xy / u_mosaicSize;\r\n        v_antialiasingWidth \x3d 0.106 * sdfFontSize / fontSize / u_pixelRatio;\r\n        // if halo.x is zero (not a halo) v_edgeDistanceOffset will end up being zero as well.\r\n        v_edgeDistanceOffset \x3d halo * outlineScale * a_texAndSize.w / fontScale / maxSdfDistance;\r\n\r\n        v_transparency \x3d u_opacity;\r\n\r\n      #ifdef ID\r\n        v_fadeStep \x3d u_fadeStep;\r\n      #else\r\n        v_color \x3d a_color;\r\n      #endif // ID\r\n      }\r\n  ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"labelFS"\x3e\r\n   \x3c![CDATA[\r\n      precision lowp float;\r\n\r\n      uniform mediump sampler2D u_referenceTex;\r\n      uniform mediump vec2 u_screenSize;\r\n      uniform mediump float u_pixelRatio;\r\n\r\n      varying mediump float v_antialiasingWidth;\r\n      varying mediump float v_edgeDistanceOffset;\r\n      varying mediump vec2 v_tex;\r\n      varying lowp float v_transparency;\r\n\r\n    #ifdef ID\r\n      varying mediump float v_fadeStep;\r\n    #else\r\n      uniform lowp sampler2D u_texture;\r\n      varying mediump vec4 v_color;\r\n    #endif // ID\r\n\r\n    const vec3 epsilon \x3d vec3(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);\r\n\r\n      void main()\r\n      {\r\n        mediump vec2 refTextPos \x3d gl_FragCoord.xy / (u_pixelRatio * u_screenSize.xy);\r\n        mediump vec4 referenceFragment \x3d texture2D(u_referenceTex, refTextPos);\r\n    #ifdef ID\r\n        mediump float alpha \x3d clamp(referenceFragment.a + v_fadeStep, 0.0, 1.0);\r\n        // fill the whole quad\r\n        gl_FragColor \x3d vec4(alpha);\r\n    #else\r\n        // read the fade alpha\r\n        lowp float fadeAlpha \x3d referenceFragment.a;\r\n\r\n        // read the distance from the SDF texture\r\n        lowp float dist \x3d texture2D(u_texture, v_tex).a;\r\n\r\n        // the edge distance if a factor of the outline width\r\n        float glyphEdgeDistance \x3d 0.75 - v_edgeDistanceOffset;\r\n\r\n        // use a smooth-step in order to calculate the geometry of the shape given by the distance field\r\n        lowp float sdfAlpha \x3d smoothstep(glyphEdgeDistance - v_antialiasingWidth, glyphEdgeDistance + v_antialiasingWidth, dist) * v_transparency;\r\n\r\n        gl_FragColor \x3d fadeAlpha * sdfAlpha * v_transparency * v_color;\r\n    #endif\r\n      }\r\n   ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n\r\n',
"url:esri/layers/vectorTiles/views/2d/engine/webgl/shaders/lineShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  // YF TODO: (doc)\r\n--\x3e\r\n\x3csnippets\x3e\r\n  \x3csnippet name\x3d"thinLineParams"\x3e\r\n     \x3c![CDATA[\r\n    float thinLineHalfWidth \x3d 1.0; // meaning that a 2 pixels line width is considered a thin line\r\n    float thinLineWidthFactor \x3d 1.1;\r\n     ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"lineVVUniformsVS"\x3e\r\n    \x3c![CDATA[\r\n  #if defined(VV_COLOR) || defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE) || defined(VV_OPACITY)\r\n    attribute vec3 a_vv;\r\n  #endif // VV_COLOR || VV_SIZE_MIN_MAX_VALUE || VV_SIZE_SCALE_STOPS || VV_SIZE_FIELD_STOPS || VV_SIZE_UNIT_VALUE || VV_OPACITY\r\n\r\n  #ifdef VV_COLOR\r\n    uniform float u_vvColorValues[8];\r\n    uniform vec4 u_vvColors[8];\r\n  #endif // VV_COLOR\r\n\r\n  #ifdef VV_SIZE_MIN_MAX_VALUE\r\n    uniform vec4 u_vvSizeMinMaxValue;\r\n  #endif // VV_SIZE_MIN_MAX_VALUE\r\n\r\n  #ifdef VV_SIZE_SCALE_STOPS\r\n    uniform float u_vvSizeScaleStopsValue;\r\n  #endif\r\n\r\n  #ifdef VV_SIZE_FIELD_STOPS\r\n    uniform float u_vvSizeFieldStopsValues[6];\r\n    uniform float u_vvSizeFieldStopsSizes[6];\r\n  #endif // VV_SIZE_FIELD_STOPS\r\n\r\n  #ifdef VV_SIZE_UNIT_VALUE\r\n    uniform float u_vvSizeUnitValueWorldToPixelsRatio;\r\n  #endif // VV_SIZE_UNIT_VALUE\r\n\r\n  #ifdef VV_OPACITY\r\n    uniform float u_vvOpacityValues[8];\r\n    uniform float u_vvOpacities[8];\r\n  #endif // VV_OPACITY\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"lineVVFunctions"\x3e\r\n    \x3c![CDATA[\r\n    bool isNan(float val) {\r\n      return !( val \x3c 0.0 || 0.0 \x3c val || val \x3d\x3d 0.0 );\r\n    }\r\n    \r\n  #ifdef VV_SIZE_MIN_MAX_VALUE\r\n    float getVVMinMaxSize(float sizeValue, float fallback) {\r\n      if (isNan(sizeValue)) { \r\n        return fallback;\r\n      }\r\n\r\n      float f \x3d (sizeValue - u_vvSizeMinMaxValue.x) / (u_vvSizeMinMaxValue.y - u_vvSizeMinMaxValue.x);\r\n      return clamp(mix(u_vvSizeMinMaxValue.z, u_vvSizeMinMaxValue.w, f), u_vvSizeMinMaxValue.z, u_vvSizeMinMaxValue.w);\r\n    }\r\n  #endif // VV_SIZE_MIN_MAX_VALUE\r\n\r\n  #ifdef VV_SIZE_FIELD_STOPS\r\n    const int VV_SIZE_N \x3d 6;\r\n    float getVVStopsSize(float sizeValue, float fallback) {\r\n      if (isNan(sizeValue)) { \r\n        return fallback;\r\n      }\r\n\r\n      if (sizeValue \x3c\x3d u_vvSizeFieldStopsValues[0]) {\r\n        return u_vvSizeFieldStopsSizes[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_SIZE_N; ++i) {\r\n        if (u_vvSizeFieldStopsValues[i] \x3e\x3d sizeValue) {\r\n          float f \x3d (sizeValue - u_vvSizeFieldStopsValues[i-1]) / (u_vvSizeFieldStopsValues[i] - u_vvSizeFieldStopsValues[i-1]);\r\n          return mix(u_vvSizeFieldStopsSizes[i-1], u_vvSizeFieldStopsSizes[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvSizeFieldStopsSizes[VV_SIZE_N - 1];\r\n    }\r\n  #endif // VV_SIZE_FIELD_STOPS\r\n\r\n  #ifdef VV_SIZE_UNIT_VALUE\r\n    float getVVUnitValue(float sizeValue, float fallback) {\r\n      if (isNan(sizeValue)) { \r\n        return fallback;\r\n      }\r\n\r\n      return u_vvSizeUnitValueWorldToPixelsRatio * sizeValue;\r\n    }\r\n  #endif // VV_SIZE_UNIT_VALUE\r\n\r\n  #ifdef VV_OPACITY\r\n    const int VV_OPACITY_N \x3d 8;\r\n    float getVVOpacity(float opacityValue) {\r\n      if (isNan(opacityValue)) { \r\n        return 1.0;\r\n      }\r\n\r\n      if (opacityValue \x3c\x3d u_vvOpacityValues[0]) {\r\n        return u_vvOpacities[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_OPACITY_N; ++i) {\r\n        if (u_vvOpacityValues[i] \x3e\x3d opacityValue) {\r\n          float f \x3d (opacityValue - u_vvOpacityValues[i-1]) / (u_vvOpacityValues[i] - u_vvOpacityValues[i-1]);\r\n          return mix(u_vvOpacities[i-1], u_vvOpacities[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvOpacities[VV_OPACITY_N - 1];\r\n    }\r\n  #endif // VV_OPACITY\r\n\r\n  #ifdef VV_COLOR\r\n    const int VV_COLOR_N \x3d 8;\r\n\r\n    vec4 getVVColor(float colorValue, vec4 fallback) {\r\n      if (isNan(colorValue)) { \r\n        return fallback;\r\n      }\r\n\r\n      if (colorValue \x3c\x3d u_vvColorValues[0]) {\r\n        return u_vvColors[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_COLOR_N; ++i) {\r\n        if (u_vvColorValues[i] \x3e\x3d colorValue) {\r\n          float f \x3d (colorValue - u_vvColorValues[i-1]) / (u_vvColorValues[i] - u_vvColorValues[i-1]);\r\n          return mix(u_vvColors[i-1], u_vvColors[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvColors[VV_COLOR_N - 1];\r\n    }\r\n  #endif // VV_COLOR\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"lineVS"\x3e\r\n    \x3c![CDATA[\r\n     precision mediump float;\r\n\r\n     attribute vec2 a_pos;\r\n     attribute vec4 a_id;\r\n     attribute vec4 a_color;\r\n     attribute vec4 a_offsetAndNormal;\r\n     attribute vec2 a_accumulatedDistanceAndHalfWidth;\r\n     attribute vec4 a_tlbr;\r\n     attribute vec4 a_segmentDirection;\r\n\r\n     // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\r\n     // relative to the tile\'s upper left corner\r\n     // the extrusion vector.\r\n     uniform highp mat4 u_transformMatrix;\r\n     // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\r\n     uniform highp mat4 u_extrudeMatrix;\r\n     // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\r\n     uniform highp vec2 u_normalized_origin;\r\n     uniform lowp float u_opacity; // the layer\'s opacity\r\n     uniform mediump float u_zoomFactor;\r\n     uniform mediump float u_antialiasing;\r\n\r\n     // the interpolated normal to the line. the information is packed into the two LSBs of the vertex coordinate\r\n     varying mediump vec2 v_normal;\r\n     varying mediump float v_lineHalfWidth;\r\n     varying lowp vec4 v_color;\r\n     varying lowp float v_transparency;\r\n\r\n     const float scale \x3d 1.0 / 31.0;\r\n#ifdef SDF\r\n     const float widthFactor \x3d 2.0;\r\n#else\r\n     const float widthFactor \x3d 1.0;\r\n#endif\r\n\r\n\r\n#ifdef PATTERN\r\n     uniform mediump vec2 u_mosaicSize;\r\n\r\n     varying mediump vec4 v_tlbr; // normalized pattern coordinates [0, 1]\r\n     varying mediump vec2 v_patternSize;\r\n#endif // PATTERN\r\n\r\n// we need to accumulated distance only if it is a pattern or an SDF line\r\n#if defined(PATTERN) || defined(SDF)\r\n     varying highp float v_accumulatedDistance;\r\n#endif // PATTERN SDF\r\n\r\n#ifdef ID\r\n     varying highp vec4 v_id;\r\n#endif // ID\r\n\r\n     // import the VV inputs and functions (they are #ifdefed, so if the proper #define is not set it will end-up being a no-op)\r\n     $lineVVUniformsVS\r\n     $lineVVFunctions\r\n\r\n     void main()\r\n     {\r\n     // size VV block\r\n#if defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\r\n\r\n#ifdef VV_SIZE_MIN_MAX_VALUE\r\n       mediump float lineHalfWidth \x3d 0.5 * getVVMinMaxSize(a_vv.x, 2.0 * a_accumulatedDistanceAndHalfWidth.y * scale);\r\n#endif // VV_SIZE_MIN_MAX_VALUE\r\n\r\n#ifdef VV_SIZE_SCALE_STOPS\r\n       mediump float lineHalfWidth \x3d 0.5 * u_vvSizeScaleStopsValue;\r\n#endif // VV_SIZE_SCALE_STOPS\r\n\r\n#ifdef VV_SIZE_FIELD_STOPS\r\n       mediump float lineHalfWidth \x3d 0.5 * getVVStopsSize(a_vv.x, 2.0 * a_accumulatedDistanceAndHalfWidth.y * scale);\r\n#endif // VV_SIZE_FIELD_STOPS\r\n\r\n#ifdef VV_SIZE_UNIT_VALUE\r\n       mediump float lineHalfWidth \x3d 0.5 * getVVUnitValue(a_vv.x, 2.0 * a_accumulatedDistanceAndHalfWidth.y * scale);\r\n#endif // VV_SIZE_UNIT_VALUE\r\n\r\n#else // no VV\r\n       mediump float lineHalfWidth \x3d a_accumulatedDistanceAndHalfWidth.y * scale;\r\n#endif // defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\r\n\r\n#ifdef VV_OPACITY\r\n      v_transparency \x3d u_opacity * getVVOpacity(a_vv.z);\r\n#else\r\n      v_transparency \x3d u_opacity;\r\n#endif // VV_OPACITY\r\n\r\n#ifdef VV_COLOR\r\n      v_color \x3d getVVColor(a_vv.y, a_color);\r\n#else\r\n      v_color \x3d a_color;\r\n#endif // VV_COLOR\r\n\r\n       // make sure to clip the vertices in case that the width of the line is 0 (or negative)\r\n       float z \x3d 2.0 * step(lineHalfWidth, 0.0);\r\n\r\n       // add an antialiasing distance. We use 0.2 rather than 0.5 in order to match the SVG renderer\r\n       // also limit the total line width to 1.3 pixels. Below this value lines don\'t look good compared to the SVG renderer\r\n       lineHalfWidth \x3d max(lineHalfWidth, 0.45) + 0.2 * u_antialiasing;\r\n\r\n       // include the thin line parameters (thinLineHalfWidth and thinLineWidthFactor)\r\n       $thinLineParams\r\n       // for now assume that a thin line is a line which is under 2 pixels (1 pixels on either sides of the centerline)\r\n       // in practice, a thin line is a line who\'s half width vary from 0.45px to the value of thinLineHalfWidth, as the value\r\n       // is claped in line 221 above\r\n       mediump float thinLineFactor \x3d max(thinLineWidthFactor * step(lineHalfWidth, thinLineHalfWidth), 1.0);\r\n\r\n       v_lineHalfWidth \x3d lineHalfWidth;\r\n\r\n       // calculate the relative distance from the centerline to the edge of the line. Since offset is given in integers (for the\r\n       // sake of using less attribute memory, we need to scale it back to the original range of ~ [0, 1])\r\n       // in a case of a thin line we move each vertex twice as far\r\n       mediump vec2 dist \x3d thinLineFactor * widthFactor * lineHalfWidth * a_offsetAndNormal.xy * scale;\r\n\r\n       // transform the vertex\r\n       gl_Position \x3d vec4(u_normalized_origin, 0.0, 0.0) + u_transformMatrix * vec4(a_pos, z, 1.0) + u_extrudeMatrix * vec4(dist, 0.0, 0.0);\r\n       v_normal \x3d a_offsetAndNormal.zw * scale;\r\n\r\n#if defined(PATTERN) || defined(SDF)\r\n       v_accumulatedDistance \x3d a_accumulatedDistanceAndHalfWidth.x + dot(scale * a_segmentDirection.xy, dist / u_zoomFactor);\r\n#endif // PATTERN || SDF\r\n\r\n#ifdef PATTERN\r\n      v_tlbr \x3d vec4(a_tlbr.x / u_mosaicSize.x, a_tlbr.y / u_mosaicSize.y, a_tlbr.z / u_mosaicSize.x, a_tlbr.w / u_mosaicSize.y);\r\n      v_patternSize \x3d vec2(a_tlbr.z - a_tlbr.x, a_tlbr.w - a_tlbr.y);\r\n#endif // PATTERN\r\n\r\n#ifdef ID\r\n      v_id \x3d a_id;\r\n#endif // ID\r\n     }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"lineFS"\x3e\r\n    \x3c![CDATA[\r\n       precision lowp float;\r\n\r\n       uniform lowp float u_blur;\r\n       uniform mediump float u_antialiasing;\r\n\r\n       varying mediump vec2 v_normal;\r\n       varying mediump float v_lineHalfWidth;\r\n       varying lowp vec4 v_color;\r\n       varying lowp float v_transparency;\r\n\r\n#if defined(PATTERN) || defined(SDF)\r\n      uniform sampler2D u_texture;\r\n      uniform mediump float u_zoomFactor;\r\n\r\n      varying mediump vec4 v_tlbr; // normalized pattern coordinates [0, 1]\r\n      varying mediump vec2 v_patternSize;\r\n      varying highp float v_accumulatedDistance;\r\n#endif // PATTERN SDF\r\n\r\n#ifdef SDF\r\n      const float sdfPatternHalfWidth \x3d 15.5; // YF: assumed that the width will be set to 31\r\n     const float widthFactor \x3d 2.0;\r\n\r\n    // Factors to convert rgba back to float\r\n    const vec4 rgba2float_factors \x3d vec4(\r\n        255.0 / (256.0),\r\n        255.0 / (256.0 * 256.0),\r\n        255.0 / (256.0 * 256.0 * 256.0),\r\n        255.0 / (256.0 * 256.0 * 256.0 * 256.0)\r\n      );\r\n\r\n    float rgba2float(vec4 rgba) {\r\n      // Convert components from 0-\x3e1 back to 0-\x3e255 and then\r\n      // add the components together with their corresponding\r\n      // fixed point factors, i.e. (256^1, 256^2, 256^3, 256^4)\r\n      return dot(rgba, rgba2float_factors);\r\n    }\r\n#endif // SDF\r\n\r\n#ifdef ID\r\n     varying highp vec4 v_id;\r\n#endif // ID\r\n\r\n       void main()\r\n       {\r\n         // include the thin line parameters (thinLineHalfWidth and thinLineWidthFactor)\r\n         $thinLineParams\r\n\r\n         // for now assume that a thin line is a line which is under 2 pixels (1 pixels on either sides of the centerline)\r\n         mediump float thinLineFactor \x3d max(thinLineWidthFactor * step(v_lineHalfWidth, thinLineHalfWidth), 1.0);\r\n\r\n         // dist represent the distance of the fragment from the line. 1.0 or -1.0 will be the values on the edge of the line,\r\n         // and any value in between will be inside the line (the sign represent the direction - right or left).\r\n         // since u_linewidth.s (half line width) is represented in pixels, dist is also given in pixels\r\n         mediump float fragDist \x3d length(v_normal) * v_lineHalfWidth;\r\n\r\n         // calculate the alpha given the difference between the line-width and the distance of the fragment from the center-line.\r\n         // when it is a thin line then use a slightly shallower slope in order to add more feathering\r\n         lowp float alpha \x3d clamp(thinLineFactor * (v_lineHalfWidth - fragDist) / (u_blur + thinLineFactor - 1.0), 0.0, 1.0);\r\n\r\n#if defined(SDF)\r\n         mediump float lineHalfWidth \x3d widthFactor * v_lineHalfWidth;\r\n         mediump float lineWidthRatio \x3d lineHalfWidth / sdfPatternHalfWidth;\r\n         mediump float relativeTexX \x3d mod((u_zoomFactor * v_accumulatedDistance + v_normal.x * lineHalfWidth) / (lineWidthRatio * v_patternSize.x), 1.0);\r\n         mediump float relativeTexY \x3d 0.5 + 0.5 * v_normal.y;\r\n\r\n          // claculate the actual texture coordinates by interpolating between the TL/BR pattern coordinates\r\n         mediump vec2 texCoord \x3d mix(v_tlbr.xy, v_tlbr.zw, vec2(relativeTexX, relativeTexY));\r\n\r\n         // calculate the distance from the edge [-0.5, 0.5]\r\n         mediump float d \x3d rgba2float(texture2D(u_texture, texCoord)) - 0.5;\r\n\r\n         // the distance is a proportional to the line width\r\n         float dist \x3d d * lineHalfWidth;\r\n\r\n         lowp vec4 fillPixelColor \x3d v_transparency * alpha * clamp(0.5 - dist, 0.0, 1.0) * v_color;\r\n        gl_FragColor \x3d fillPixelColor;\r\n#elif defined(PATTERN)\r\n         // we need to calculate the relative portion of the line texture along the line given the accumulated distance along the line\r\n         // The computed value should is anumber btween 0 and 1 which will later be used to interpolate btween the BR and TL values\r\n         mediump float relativeTexX \x3d mod((u_zoomFactor * v_accumulatedDistance + v_normal.x * v_lineHalfWidth) / v_patternSize.x, 1.0);\r\n\r\n         // in order to calculate the texture coordinates prependicular to the line (Y axis), we use the interpolated normal values\r\n         // which range from -1.0 to 1.0. On the line\'s centerline, the value of the interpolated normal is 0.0, however the relative\r\n         // texture value shpould be 0.5 (given that at the bottom of the line, the texture coordinate must be equal to 0.0)\r\n         // (TL) ---------------------------      --\x3e left edge of line. Interpolatedf normal is 1.0\r\n         //              | -\x3e line-width / 2\r\n         //      - - - - - - - - - - - - - -\r\n         //              | -\x3e line-width / 2\r\n         //      ---------------------------- (BR)--\x3e right edge of line. Interpolatedf normal is -1.0\r\n\r\n         mediump float relativeTexY \x3d 0.5 + (v_normal.y * v_lineHalfWidth / v_patternSize.y);\r\n\r\n         // claculate the actual texture coordinates by interpolating between the TL/BR pattern coordinates\r\n         mediump vec2 texCoord \x3d mix(v_tlbr.xy, v_tlbr.zw, vec2(relativeTexX, relativeTexY));\r\n\r\n         // get the color from the texture\r\n         lowp vec4 color \x3d texture2D(u_texture, texCoord);\r\n\r\n         gl_FragColor \x3d v_transparency * alpha * v_color * color;\r\n#else // solid line (no texture, no pattern)\r\n         // output the fragment color\r\n         gl_FragColor \x3d v_transparency * alpha * v_color;\r\n#endif // SDF\r\n\r\n#ifdef HIGHLIGHT\r\n         gl_FragColor.a \x3d step(1.0 / 255.0, gl_FragColor.a);\r\n#endif // HIGHLIGHT\r\n\r\n #ifdef ID\r\n         if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n           discard;\r\n         }\r\n         gl_FragColor \x3d v_id;\r\n #endif // ID\r\n       }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/2d/engine/webgl/shaders/textShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  Add your GLSL snippets to this file. You should start from\r\n  importing your old GLSL files. For instance, if you have a\r\n  file such as myShader.vs.glsl you should create a new \x3csnippet name\x3d"myShaderVS"\x3e\r\n  and then copy and paste the GLSL source as the content. You will then convert your\r\n  code to use the {@link esri/views/2d/engine/webgl/glShaderSnippets glShaderSnippets}\r\n  instance to access the GLSL code, instead of importing it directly with require("dojo/text!...").\r\n--\x3e\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"textVVUniformsVS"\x3e\r\n    \x3c![CDATA[\r\n  #if defined(VV_COLOR) || defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE) || defined(VV_OPACITY) || defined(VV_ROTATION)\r\n    attribute vec4 a_vv;\r\n  #endif // VV_COLOR || VV_SIZE_MIN_MAX_VALUE || VV_SIZE_SCALE_STOPS || VV_SIZE_FIELD_STOPS || VV_SIZE_UNIT_VALUE || VV_OPACITY || VV_ROTATION\r\n\r\n  #ifdef VV_COLOR\r\n    uniform float u_vvColorValues[8];\r\n    uniform vec4 u_vvColors[8];\r\n  #endif // VV_COLOR\r\n\r\n  #ifdef VV_SIZE_MIN_MAX_VALUE\r\n    uniform vec4 u_vvSizeMinMaxValue;\r\n  #endif // VV_SIZE_MIN_MAX_VALUE\r\n\r\n  #ifdef VV_SIZE_SCALE_STOPS\r\n    uniform float u_vvSizeScaleStopsValue;\r\n  #endif // VV_SIZE_SCALE_STOPS\r\n\r\n  #ifdef VV_SIZE_FIELD_STOPS\r\n    uniform float u_vvSizeFieldStopsValues[6];\r\n    uniform float u_vvSizeFieldStopsSizes[6];\r\n  #endif // VV_SIZE_FIELD_STOPS\r\n\r\n  #ifdef VV_SIZE_UNIT_VALUE\r\n    uniform float u_vvSizeUnitValueWorldToPixelsRatio;\r\n  #endif // VV_SIZE_UNIT_VALUE\r\n\r\n  #ifdef VV_OPACITY\r\n    uniform float u_vvOpacityValues[8];\r\n    uniform float u_vvOpacities[8];\r\n  #endif // VV_OPACITY\r\n\r\n  #ifdef VV_ROTATION\r\n    uniform lowp float u_vvRotationType;\r\n  #endif // VV_ROTATION\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"textVVFunctions"\x3e\r\n    \x3c![CDATA[\r\n    bool isNan(float val) {\r\n      return !( val \x3c 0.0 || 0.0 \x3c val || val \x3d\x3d 0.0 );\r\n    }\r\n\r\n  #ifdef VV_SIZE_MIN_MAX_VALUE\r\n    float getVVMinMaxSize(float sizeValue, float fallback) {\r\n      if (isNan(sizeValue)) {\r\n        return fallback;\r\n      }\r\n\r\n      // we need to multiply by 8 in order to translate to tile coordinates\r\n      float interpolationRatio \x3d (sizeValue  - u_vvSizeMinMaxValue.x) / (u_vvSizeMinMaxValue.y - u_vvSizeMinMaxValue.x);\r\n      return clamp(u_vvSizeMinMaxValue.z + interpolationRatio * (u_vvSizeMinMaxValue.w - u_vvSizeMinMaxValue.z), u_vvSizeMinMaxValue.z, u_vvSizeMinMaxValue.w);\r\n    }\r\n  #endif // VV_SIZE_MIN_MAX_VALUE\r\n\r\n  #ifdef VV_SIZE_FIELD_STOPS\r\n    const int VV_SIZE_N \x3d 6;\r\n    float getVVStopsSize(float sizeValue, float fallback) {\r\n      if (isNan(sizeValue)) {\r\n        return fallback;\r\n      }\r\n\r\n      if (sizeValue \x3c\x3d u_vvSizeFieldStopsValues[0]) {\r\n        return u_vvSizeFieldStopsSizes[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_SIZE_N; ++i) {\r\n        if (u_vvSizeFieldStopsValues[i] \x3e\x3d sizeValue) {\r\n          float f \x3d (sizeValue - u_vvSizeFieldStopsValues[i-1]) / (u_vvSizeFieldStopsValues[i] - u_vvSizeFieldStopsValues[i-1]);\r\n          return mix(u_vvSizeFieldStopsSizes[i-1], u_vvSizeFieldStopsSizes[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvSizeFieldStopsSizes[VV_SIZE_N - 1];\r\n    }\r\n  #endif // VV_SIZE_FIELD_STOPS\r\n\r\n  #ifdef VV_SIZE_UNIT_VALUE\r\n    float getVVUnitValue(float sizeValue, float fallback) {\r\n      if (isNan(sizeValue)) {\r\n        return fallback;\r\n      }\r\n\r\n      return u_vvSizeUnitValueWorldToPixelsRatio * sizeValue;\r\n    }\r\n  #endif // VV_SIZE_UNIT_VALUE\r\n\r\n  #ifdef VV_OPACITY\r\n    const int VV_OPACITY_N \x3d 8;\r\n    float getVVOpacity(float opacityValue) {\r\n      if (isNan(opacityValue)) {\r\n        return 1.0;\r\n      }\r\n\r\n      if (opacityValue \x3c\x3d u_vvOpacityValues[0]) {\r\n        return u_vvOpacities[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_OPACITY_N; ++i) {\r\n        if (u_vvOpacityValues[i] \x3e\x3d opacityValue) {\r\n          float f \x3d (opacityValue - u_vvOpacityValues[i-1]) / (u_vvOpacityValues[i] - u_vvOpacityValues[i-1]);\r\n          return mix(u_vvOpacities[i-1], u_vvOpacities[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvOpacities[VV_OPACITY_N - 1];\r\n    }\r\n  #endif // VV_OPACITY\r\n\r\n  #ifdef VV_ROTATION\r\n    mat4 getVVRotation(float rotationValue) {\r\n      // YF TODO: if the symbol has rotation we need to combine the symbo\'s rotation with the VV one\r\n      if (isNan(rotationValue)) {\r\n        return mat4(1, 0, 0, 0,\r\n                    0, 1, 0, 0,\r\n                    0, 0, 1, 0,\r\n                    0, 0, 0, 1);\r\n      }\r\n\r\n      float rotation \x3d rotationValue;\r\n      if (u_vvRotationType \x3d\x3d 1.0) {\r\n        rotation \x3d 90.0 - rotation;\r\n      }\r\n\r\n      float angle \x3d C_DEG_TO_RAD * rotation;\r\n\r\n      float sinA \x3d sin(angle);\r\n      float cosA \x3d cos(angle);\r\n\r\n      return mat4(cosA, sinA, 0, 0,\r\n                  -sinA,  cosA, 0, 0,\r\n                  0,     0, 1, 0,\r\n                  0,     0, 0, 1);\r\n    }\r\n  #endif // VV_ROTATION\r\n\r\n  #ifdef VV_COLOR\r\n    const int VV_COLOR_N \x3d 8;\r\n\r\n    vec4 getVVColor(float colorValue, vec4 fallback) {\r\n      if (isNan(colorValue)) {\r\n        return fallback;\r\n      }\r\n\r\n      if (colorValue \x3c\x3d u_vvColorValues[0]) {\r\n        return u_vvColors[0];\r\n      }\r\n\r\n      for (int i \x3d 1; i \x3c VV_COLOR_N; ++i) {\r\n        if (u_vvColorValues[i] \x3e\x3d colorValue) {\r\n          float f \x3d (colorValue - u_vvColorValues[i-1]) / (u_vvColorValues[i] - u_vvColorValues[i-1]);\r\n          return mix(u_vvColors[i-1], u_vvColors[i], f);\r\n        }\r\n      }\r\n\r\n      return u_vvColors[VV_COLOR_N - 1];\r\n    }\r\n  #endif // VV_COLOR\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"textVS"\x3e\r\n    \x3c![CDATA[\r\n      precision mediump float;\r\n\r\n      const float C_DEG_TO_RAD \x3d 3.14159265359 / 180.0;\r\n\r\n      attribute vec2 a_pos;           // 2 * 2 (2 x signed 16)\r\n      attribute vec4 a_id;            // 4 (4 x unsigned byte)\r\n      attribute vec4 a_color;         // 4 (4 x unsigned byte)\r\n      attribute vec2 a_vertexOffset; // 2 * 2 // (2 x signed 16) offset from the anchor point of the string\r\n      attribute vec4 a_texFontSize; // 4 (4 x unsigned byte) texture coordinatesm and font size\r\n\r\n      attribute lowp float  a_visible; // a one byte controlling the visibility of the vertex (a separate visibility buffer), values are 0 or 1 (visible)\r\n\r\n      // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\r\n      // relative to the tile\'s upper left corner\r\n      // the extrusion vector.\r\n      uniform highp mat4 u_transformMatrix;\r\n      // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\r\n      uniform highp mat4 u_extrudeMatrix;\r\n      // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\r\n      uniform highp vec2 u_normalized_origin;\r\n      // the size of the mosaic given in pixels\r\n      uniform vec2 u_mosaicSize;\r\n      uniform float u_pixelRatio;\r\n\r\n      // the opacity of the layer\r\n      uniform mediump float u_opacity;\r\n\r\n      varying mediump vec4 v_color;\r\n      varying mediump float v_antialiasingWidth;\r\n      varying mediump float v_edgeDistanceOffset;\r\n\r\n      // the interpolated texture coordinate value to be used by the fragment shader in order to sample the sprite texture\r\n      varying mediump vec2 v_tex;\r\n      // the calculated transparency to be applied by the fragment shader. It is incorporating both the fade as well as the\r\n      // opacity of the layer given by the painter\r\n      varying lowp float v_transparency;\r\n\r\n      // the vertex offsets are given in integers, therefore in order to maintain a reasonable precission we multiply the values\r\n      // by 16 and then at the shader devide by the same number\r\n      const float offsetPrecision \x3d 1.0 / 8.0;\r\n      const float outlineScale \x3d 1.0 / 10.0;\r\n      const float sdfFontSize \x3d 24.0;\r\n\r\n      // maximum SDF distance of 8 pixels represent the distance values that range from -2 inside the geometry to 6 on the outside.\r\n      // 6 is actually the maximum distance outside the glyph, therefore it is the limitation of the halo which is 1/4 of the geometry size.\r\n      const float maxSdfDistance \x3d 8.0;\r\n\r\n  #ifdef ID\r\n    varying highp vec4 v_id;\r\n  #endif // ID\r\n\r\n      // import the VV inputs and functions (they are #ifdefed, so if the proper #define is not set it will end-up being a no-op)\r\n      $textVVUniformsVS\r\n      $textVVFunctions\r\n\r\n      void main()\r\n      {\r\n        // make sure to clip the vertices in case that given record is marked as invisible\r\n        float z \x3d 2.0 * (1.0 - a_visible);\r\n\r\n        // we use the list significant bit of the position in order to store the indication whethe the vertex is of a halow of a glyph\r\n        mediump float halo \x3d mod(a_pos, 2.0).x;\r\n\r\n  #if defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\r\n\r\n  #ifdef VV_SIZE_MIN_MAX_VALUE\r\n        // vv size override the original symbol\'s size\r\n        vec2 size \x3d vec2(getVVMinMaxSize(a_vv.x, a_texFontSize.z));\r\n  #endif // VV_SIZE_MIN_MAX_VALUE\r\n\r\n  #ifdef VV_SIZE_SCALE_STOPS\r\n        vec2 size \x3d vec2(u_vvSizeScaleStopsValue);\r\n  #endif // VV_SIZE_SCALE_STOPS\r\n\r\n  #ifdef VV_SIZE_FIELD_STOPS\r\n        vec2 size \x3d vec2(getVVStopsSize(a_vv.x, a_texFontSize.z));\r\n  #endif // VV_SIZE_FIELD_STOPS\r\n\r\n  #ifdef VV_SIZE_UNIT_VALUE\r\n        vec2 size \x3d vec2(getVVUnitValue(a_vv.x, a_texFontSize.z));\r\n  #endif // VV_SIZE_UNIT_VALUE\r\n\r\n        float fontSize \x3d size.x;\r\n  #else // this generic case, no VV\r\n        float fontSize \x3d a_texFontSize.z;\r\n  #endif // defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\r\n\r\n        float fontScale \x3d fontSize / sdfFontSize;\r\n        // we need to scale the extrude matrix by the font-scale in order to get the right text size\r\n        mat4 extrudeMatrix \x3d fontScale * u_extrudeMatrix;\r\n\r\n        // If the label rotates with the map, and if the rotated label is upside down, hide it\r\n        //gl_Position \x3d vec4(u_normalized_origin, 0.0, 0.0) + u_transformMatrix * vec4(floor(a_pos * 0.5), z, 1.0) + extrudeMatrix * vec4(offsetPrecision * a_vertexOffset, 0.0, 0.0);\r\n\r\n    #ifdef VV_ROTATION\r\n        gl_Position \x3d vec4(u_normalized_origin, 0.0, 0.0) + u_transformMatrix * vec4(floor(a_pos * 0.5), z, 1.0) + extrudeMatrix * getVVRotation(a_vv.w) * vec4(offsetPrecision * a_vertexOffset, 0.0, 0.0);\r\n    #else\r\n        gl_Position \x3d vec4(u_normalized_origin, 0.0, 0.0) + u_transformMatrix * vec4(floor(a_pos * 0.5), z, 1.0) + extrudeMatrix * vec4(offsetPrecision * a_vertexOffset, 0.0, 0.0);\r\n    #endif // VV_ROTATION\r\n\r\n        v_tex \x3d a_texFontSize.xy / u_mosaicSize;\r\n        v_antialiasingWidth \x3d 0.105 * sdfFontSize / fontSize / u_pixelRatio;\r\n        // if halo.x is zero (not a halo) v_edgeDistanceOffset will end up being zero as well.\r\n        v_edgeDistanceOffset \x3d halo * outlineScale * a_texFontSize.w / fontScale / maxSdfDistance;\r\n\r\n    #ifdef VV_OPACITY\r\n        v_transparency \x3d getVVOpacity(a_vv.z);\r\n    #else\r\n        v_transparency \x3d u_opacity;\r\n    #endif // VV_OPACITY\r\n\r\n    #ifdef VV_COLOR\r\n       // we don\'t want to override the halo color\r\n       v_color \x3d halo * a_color + (1.0 - halo) * getVVColor(a_vv.y, a_color);\r\n    #else\r\n        v_color \x3d a_color;\r\n    #endif // VV_COLOR\r\n\r\n  #ifdef ID\r\n        v_id \x3d a_id;\r\n  #endif // ID\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"textFS"\x3e\r\n    \x3c![CDATA[\r\n      precision lowp float;\r\n\r\n      uniform lowp sampler2D u_texture;\r\n\r\n      varying mediump vec4 v_color;\r\n      varying mediump float v_antialiasingWidth;\r\n      varying mediump float v_edgeDistanceOffset;\r\n      varying mediump vec2 v_tex;\r\n      varying lowp float v_transparency;\r\n\r\n  #ifdef ID\r\n      varying highp vec4 v_id;\r\n  #endif // ID\r\n\r\n      void main()\r\n      {\r\n        // read the distance from the SDF texture\r\n        lowp float dist \x3d texture2D(u_texture, v_tex).a;\r\n\r\n        // the edge distance if a factor of the outline width\r\n        float glyphEdgeDistance \x3d 0.75 - v_edgeDistanceOffset;\r\n\r\n        // use a smooth-step in order to calculate the geometry of the shape given by the distance field\r\n        lowp float alpha \x3d smoothstep(glyphEdgeDistance - v_antialiasingWidth, glyphEdgeDistance + v_antialiasingWidth, dist) * v_transparency;\r\n\r\n        gl_FragColor \x3d alpha * v_color;\r\n\r\n  #ifdef ID\r\n        if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n          discard;\r\n        }\r\n        gl_FragColor \x3d v_id;\r\n  #endif // ID\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/2d/engine/webgl/shaders/backgroundShaders.xml":'\x3csnippets\x3e\r\n  \x3csnippet name\x3d"backgroundVS"\x3e\r\n  \x3c![CDATA[\r\n    attribute vec2 a_pos;\r\n\r\n    uniform highp mat4 u_transformMatrix;\r\n    uniform mediump vec2 u_normalized_origin;\r\n    uniform mediump float u_coord_range;\r\n    uniform mediump float u_depth;\r\n\r\n    void main() {\r\n      gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(u_coord_range * a_pos, 0.0, 1.0);\r\n    }\r\n  ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"backgroundFS"\x3e\r\n  \x3c![CDATA[\r\n    uniform lowp vec4 u_color;\r\n    void main() {\r\n      gl_FragColor \x3d u_color;\r\n    }\r\n  ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/2d/engine/webgl/shaders/bitblitShaders.xml":'\x3csnippets\x3e\r\n  \x3csnippet name\x3d"bitblitVS"\x3e\r\n  \x3c![CDATA[\r\n    attribute vec2 a_pos;\r\n    attribute vec2 a_tex;\r\n\r\n    varying mediump vec2 v_uv;\r\n\r\n    void main(void) {\r\n      gl_Position \x3d vec4(a_pos, 0.0, 1.0);\r\n      v_uv \x3d a_tex;\r\n    }\r\n  ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"bitblitFS"\x3e\r\n  \x3c![CDATA[\r\n    \tuniform lowp sampler2D u_tex;\r\n      uniform lowp float u_opacity;\r\n\r\n      varying mediump vec2 v_uv;\r\n\r\n      void main() {\r\n        lowp vec4 color \x3d texture2D(u_tex, v_uv);\r\n\r\n        // Note: output in pre-multiplied alpha for correct alpha compositing\r\n        gl_FragColor \x3d color *  u_opacity;\r\n      }\r\n  ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/2d/engine/webgl/shaders/stencilShaders.xml":'\x3csnippets\x3e\r\n  \x3csnippet name\x3d"stencilVS"\x3e\r\n  \x3c![CDATA[\r\n    attribute vec2 a_pos;\r\n\r\n    void main() {\r\n      gl_Position \x3d vec4(a_pos, 0.0, 1.0);\r\n    }\r\n  ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"stencilFS"\x3e\r\n  \x3c![CDATA[\r\n    void main() {\r\n      gl_FragColor \x3d vec4(1.0, 1.0, 1.0, 1.0);\r\n    }\r\n  ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/2d/engine/webgl/shaders/tileInfo.xml":'\x3csnippets\x3e\r\n  \x3csnippet name\x3d"tileInfoVS"\x3e\r\n  \x3c![CDATA[\r\n    attribute vec2 a_pos;\r\n\r\n    uniform highp mat4 u_transformMatrix;\r\n    uniform mediump vec2 u_normalized_origin;\r\n    uniform mediump float u_depth;\r\n    uniform mediump float u_coord_ratio;\r\n    uniform mediump vec2 u_delta; // in tile coordinates\r\n    uniform mediump vec2 u_dimensions; // in tile coordinates\r\n\r\n    varying mediump vec2 v_tex;\r\n\r\n    void main() {\r\n      mediump vec2 offests \x3d u_coord_ratio * vec2(u_delta + a_pos * u_dimensions);\r\n      gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(offests, 0.0, 1.0);\r\n\r\n      v_tex \x3d a_pos;\r\n    }\r\n  ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"tileInfoFS"\x3e\r\n  \x3c![CDATA[\r\n    uniform mediump sampler2D u_texture;\r\n    varying mediump vec2 v_tex;\r\n\r\n    void main(void) {\r\n      lowp vec4 color \x3d texture2D(u_texture, v_tex);\r\n      gl_FragColor \x3d 0.75 * color;\r\n    }\r\n  ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/2d/engine/webgl/shaders/hlShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  Highlight generation and rendering shaders.\r\n\r\n  These shader sources are loaded by hlShaderSnippets.ts which in turn\r\n  is used by HighlightRenderer to instantiate the programs needed for\r\n  generating and rendering the highlights.\r\n\r\n  These shaders are intended to be used with full screen quads.\r\n--\x3e\r\n\x3csnippets\x3e\r\n  \x3c!--\r\n    Vertex shader: texturedVS\r\n\r\n    Identity vertex shader that outputs an untransformed 2-D vertex\r\n    and passes its texture coordinates unchanged to the interpolator.\r\n  --\x3e\r\n  \x3csnippet name\x3d"texturedVS"\x3e\r\n    \x3c![CDATA[\r\n    // Vertex position.\r\n    attribute mediump vec2 a_position;\r\n\r\n    // Texture coordinates.\r\n    attribute mediump vec2 a_texcoord;\r\n\r\n    // Texture coordinates to be interpolated.\r\n    varying mediump vec2 v_texcoord;\r\n\r\n    void main(void) {\r\n      // Pass the position unchanged.\r\n      gl_Position \x3d vec4(a_position, 0.0, 1.0);\r\n\r\n      // Pass the texture coordinates unchanged.\r\n      v_texcoord \x3d a_texcoord;\r\n    }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3c!--\r\n    Fragment shader: blurFS\r\n\r\n    A gaussian blur shader. It blurs the alpha channel of its input\r\n    according to 4 different sigma and stores the results into the\r\n    four channel of the target framebuffer.\r\n\r\n    It is intended to be called twice; the first time to perform an\r\n    horizontal blur, and a second time to perform a vertical blur.\r\n\r\n    This shader is used to turn the highlight mask into a highlight\r\n    map. The highlight map is an approximation of the signed distance\r\n    field of the mask.\r\n  --\x3e\r\n  \x3csnippet name\x3d"blurFS"\x3e\r\n    \x3c![CDATA[\r\n    // Interpolated texture coordinates.\r\n    varying mediump vec2 v_texcoord;\r\n\r\n    // Blur direction information. There are two possible\r\n    // configurations that the host code can use.\r\n    //  - [1, 0, 1/WIDTH, 0] Used when blurring horizontally. In this\r\n    //    case u_direction[0] \x3d 1 is expressed in pixel and is fed to\r\n    //    the gauss function to produce the value of the gaussian weight\r\n    //    for that pixel, while u_direction[2] \x3d 1/WIDTH is in texel units\r\n    //    and is used to sample the right texel from the texture map.\r\n    //  - [0, 1, 0, 1/HEIGHT] Used when blurring vertically. In this\r\n    //    case u_direction[1] \x3d 1 is expressed in pixel and is fed to\r\n    //    the gauss function to produce the value of the gaussian weight\r\n    //    for that pixel, while u_direction[3] \x3d 1/HEIGHT is in texel units\r\n    //    and is used to sample the right texel from the texture map.\r\n    uniform mediump vec4 u_direction;\r\n\r\n    // Source to destination channel selection matrix.\r\n    uniform mediump mat4 u_channelSelector;\r\n\r\n    // The highlight map is obtained by blurring the alpha channel of the highlight\r\n    // mask accroding to these 4 values of the gaussian\'s sigma parameter.\r\n    uniform mediump vec4 u_sigmas;\r\n\r\n    // This is the highlight mask if we have not blurred horizontally yet, otherwise\r\n    // it is the horizontally blurred highlight map and blurring it one more time\r\n    // vertically will complete the process.\r\n    uniform sampler2D u_texture;\r\n\r\n    // The gaussian kernel. Note that it lacks the normalization constant, because\r\n    // we want to store it unnormalized in the highlight map (i.e. having a peak\r\n    // value of 1). Note also that we are using the SIMD (single instruction, multiple\r\n    // data) capabilities of the GPU to compute four different gaussian kernels, one\r\n    // for each sigma.\r\n    mediump vec4 gauss(mediump vec2 dir) {\r\n      return exp(-dot(dir, dir) / (2.0 * u_sigmas * u_sigmas));\r\n    }\r\n\r\n    mediump vec4 selectChannel(mediump vec4 sample) {\r\n      return u_channelSelector * sample;\r\n    }\r\n\r\n    // Sample the input texture and accumulated its gaussian weighted value and the\r\n    // total weight.\r\n    void accumGauss(mediump float i, inout mediump vec4 tot, inout mediump vec4 weight) {\r\n      // Computes the gaussian weights, one for each sigma.\r\n      // Note that u_direction.xy is [1, 0] when blurring horizontally and [0, 1] when blurring vertically.\r\n      mediump vec4 w \x3d gauss(i * u_direction.xy);\r\n\r\n      // Accumumates the values.\r\n      // Note that u_direction.xy is [1/WIDTH, 0] when blurring horizontally and [0, 1/HEIGHT] when blurring vertically.\r\n      tot +\x3d selectChannel(texture2D(u_texture, v_texcoord + i * u_direction.zw)) * w;\r\n\r\n      // Accumulates the weights.\r\n      weight +\x3d w;\r\n    }\r\n\r\n    void main(void) {\r\n      // Initialize accumulated values and weights to zero.\r\n      mediump vec4 tot \x3d vec4(0.0, 0.0, 0.0, 0.0);\r\n      mediump vec4 weight \x3d vec4(0.0, 0.0, 0.0, 0.0);\r\n\r\n      // Accumulates enough samples. These will be taken\r\n      // horizontally or vertically depending on the value\r\n      // of u_direction.\r\n      accumGauss(-5.0, tot, weight);\r\n      accumGauss(-4.0, tot, weight);\r\n      accumGauss(-3.0, tot, weight);\r\n      accumGauss(-2.0, tot, weight);\r\n      accumGauss(-1.0, tot, weight);\r\n      accumGauss(0.0, tot, weight);\r\n      accumGauss(1.0, tot, weight);\r\n      accumGauss(2.0, tot, weight);\r\n      accumGauss(3.0, tot, weight);\r\n      accumGauss(4.0, tot, weight);\r\n      accumGauss(5.0, tot, weight);\r\n\r\n      // Compute blurred values.\r\n      mediump vec4 rgba \x3d tot / weight;\r\n\r\n      // Return the values. Note that each channel will contain\r\n      // the result of a different blur operation, one for each\r\n      // of the four chosen sigma.\r\n      gl_FragColor \x3d vec4(rgba);\r\n    }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3c!--\r\n    Fragment shader: highlightFS\r\n\r\n    Takes as input the highlight map, estimated the signed distance field,\r\n    and shades the fragments according to their estimated distance from the\r\n    edge of the highlighted feature.\r\n\r\n    A shade texture is used to turn distance values into colors; the shade\r\n    texture is basically a color gradient and is recomputed on the host\r\n    every time that the user alters the highlight options.\r\n  --\x3e\r\n  \x3csnippet name\x3d"highlightFS"\x3e\r\n    \x3c![CDATA[\r\n    // Interpolated texture coordinates.\r\n    varying mediump vec2 v_texcoord;\r\n\r\n    // The highlight map. Each channel is a blurred\r\n    // version of the alpha channel of the highlight mask.\r\n    //  - Channel 0 (red) corresponds to a gaussian blur with sigma \x3d u_sigmas[0];\r\n    //  - Channel 1 (green) corresponds to a gaussian blur with sigma \x3d u_sigmas[1];\r\n    //  - Channel 2 (blue) corresponds to a gaussian blur with sigma \x3d u_sigmas[2];\r\n    //  - Channel 3 (alpha) corresponds to a gaussian blur with sigma \x3d u_sigmas[3];\r\n    // As of today, only channel 3 is used for distance estimation.\r\n    // But the availability of different amounts of blur leaves the\r\n    // door open to multi-scale approaches.\r\n    uniform sampler2D u_texture;\r\n\r\n    // The highlight map was obtained by blurring the alpha channel of the highlight\r\n    // mask accroding to these 4 values of the gaussian\'s sigma parameter.\r\n    uniform mediump vec4 u_sigmas;\r\n\r\n    // A 1-D texture used to shade the highlight.\r\n    uniform sampler2D u_shade;\r\n\r\n    // The 1-D shade texture is spreaded between u_minMaxDistance[0] and u_minMaxDistance[1].\r\n    uniform mediump vec2 u_minMaxDistance;\r\n\r\n    // Signed distance estimation.\r\n    mediump float estimateDistance() {\r\n      // Use the largest sigma and the corresponding distance value stored in the\r\n      // last channel of the highlight map.\r\n      mediump float sigma \x3d u_sigmas[3];\r\n      mediump float y \x3d texture2D(u_texture, v_texcoord)[3];\r\n\r\n      // Estimates the distance by linearization and local inversion around\r\n      // the inflection point. The inflection point is in x \x3d 0.\r\n      const mediump float y0 \x3d 0.5;                           // Value of the convolution at the inflection point.\r\n      mediump float m0 \x3d 1.0 / (sqrt(2.0 * 3.1415) * sigma);  // Slope of the convolution at the inflection point.\r\n      mediump float d \x3d (y - y0) / m0;                        // Inversion of a local linearization.\r\n\r\n      // Return the estimated distance.\r\n      return d;\r\n    }\r\n\r\n    // Shading based on estimated distance.\r\n    mediump vec4 shade(mediump float d) {\r\n      // Maps the sampled distance from the [A, D] range (see HighlightRenderer::setHighlightOptions) to [0, 1].\r\n      mediump float mappedDistance \x3d (d - u_minMaxDistance.x) / (u_minMaxDistance.y - u_minMaxDistance.x);\r\n\r\n      // Force to [0, 1]; it should not be necessary because the shade texture uses the CLAMP address mode, so\r\n      // this should happen anyway internally to the sampler, but in practice it is needed to avoid weird\r\n      // banding artifacts.\r\n      // We don\'t really know if we need this or not.\r\n      mappedDistance \x3d clamp(mappedDistance, 0.0, 1.0);\r\n\r\n      // Sample the 1-D shade texture on its center line (i.e. on t\x3d0.5).\r\n      return texture2D(u_shade, vec2(mappedDistance, 0.5));\r\n    }\r\n\r\n    void main(void) {\r\n      // Estimate the distance.\r\n      mediump float d \x3d estimateDistance();\r\n\r\n      // Shade the distance.\r\n      gl_FragColor \x3d shade(d);\r\n    }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/vectorTiles/renderers/shaders/backgroundShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  // YF TODO: (doc)\r\n--\x3e\r\n\x3csnippets\x3e\r\n  \x3csnippet name\x3d"backgroundVS"\x3e\r\n    \x3c![CDATA[\r\n    precision mediump float;\r\n\r\n    attribute vec2 a_pos;\r\n\r\n  #ifdef ID\r\n    uniform mediump vec4 u_id;\r\n    varying mediump vec4 v_id;\r\n  #endif // ID\r\n\r\n    uniform highp mat4 u_transformMatrix;\r\n    uniform mediump vec2 u_normalized_origin;\r\n    uniform mediump float u_coord_range;\r\n    uniform mediump float u_depth;\r\n\r\n  #ifdef PATTERN\r\n    uniform mediump mat3 u_pattern_matrix; // can we use medium precision?\r\n    varying mediump vec2 v_tileTextureCoord;\r\n  #endif // PATTERN\r\n\r\n    void main() {\r\n      gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(u_coord_range * a_pos, 0.0, 1.0);\r\n\r\n  #ifdef PATTERN\r\n      // calculate the texture coordinates of the current vertex. It will of course get interpolated.\r\n      // The pattern matrix is a 3x3 scale matrix which \'tiles\' the texture inside the tile, translating from tile coordinates\r\n      v_tileTextureCoord \x3d (u_pattern_matrix * vec3(a_pos, 1.0)).xy;\r\n  #endif // PATTERN\r\n\r\n  #ifdef ID\r\n      v_id \x3d u_id / 255.0;\r\n  #endif // ID\r\n    }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"backgroundFS"\x3e\r\n    \x3c![CDATA[\r\n  #ifdef PATTERN\r\n    uniform lowp float u_opacity;\r\n    uniform mediump vec2 u_pattern_tl;\r\n    uniform mediump vec2 u_pattern_br;\r\n    uniform sampler2D u_texture;\r\n\r\n    varying mediump vec2 v_tileTextureCoord;\r\n  #else\r\n    uniform lowp vec4 u_color;\r\n  #endif // PATTERN\r\n\r\n  #ifdef ID\r\n    varying mediump vec4 v_id;\r\n  #endif // ID\r\n\r\n    void main() {\r\n  #ifdef PATTERN\r\n      // normalize the calculated texture coordinate such that it fits in the range of 0 to 1.\r\n      mediump vec2 normalizedTextureCoord \x3d mod(v_tileTextureCoord, 1.0);\r\n\r\n      // interpolate the image coordinate between the top-left and the bottom right to get the actual position to sample.\r\n      // after normalizing the position, we get a value ranging between 0 and 1 which refers to the entire texture, however\r\n      // we need to only sample from area that has our sprite in the mosaic.\r\n      mediump vec2 samplePos \x3d mix(u_pattern_tl, u_pattern_br, normalizedTextureCoord);\r\n\r\n      // sample the sprite mosaic\r\n      lowp vec4 color \x3d texture2D(u_texture, samplePos);\r\n      gl_FragColor \x3d u_opacity * color;\r\n  #else\r\n      gl_FragColor \x3d u_color;\r\n  #endif // PATTERN\r\n\r\n  #ifdef ID\r\n      if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n        discard;\r\n      }\r\n      gl_FragColor \x3d v_id;\r\n  #endif // ID\r\n    }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/vectorTiles/renderers/shaders/circleShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  Add your GLSL snippets to this file. You should start from\r\n  importing your old GLSL files. For instance, if you have a\r\n  file such as myShader.vs.glsl you should create a new \x3csnippet name\x3d"myShaderVS"\x3e\r\n  and then copy and paste the GLSL source as the content. You will then convert your\r\n  code to use the {@link module:esri/views/vectorTiles/renderers/vtShaderSnippets vtShaderSnippets}\r\n  instance to access the GLSL code, instead of importing it directly with require("dojo/text!...").\r\n--\x3e\r\n\x3csnippets\x3e\r\n\r\n  \x3csnippet name\x3d"circleVS"\x3e\r\n    \x3c![CDATA[\r\n      precision mediump float;\r\n\r\n      attribute vec2 a_pos;\r\n      attribute vec4 a_color;\r\n      attribute vec4 a_stroke_color;\r\n      attribute vec4 a_data;\r\n\r\n      const float sizePrecision \x3d 0.25; // 1/4\r\n      const float blurPrecision \x3d 0.03125; // 1/32\r\n\r\n      varying lowp vec4 v_color;\r\n      varying lowp vec4 v_stroke_color;\r\n      varying mediump float v_blur;\r\n      varying mediump float v_stroke_width;\r\n      varying mediump float v_radius;\r\n      varying mediump vec2 v_offset;\r\n\r\n    #ifdef ID\r\n      uniform mediump vec4 u_id;\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n      // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\r\n      // relative to the tile\'s upper left corner\r\n      // the extrusion vector.\r\n      uniform highp mat4 u_transformMatrix;\r\n\r\n      // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\r\n      uniform highp mat4 u_extrudeMatrix;\r\n\r\n      // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\r\n      uniform highp vec2 u_normalized_origin;\r\n\r\n      // the z of the layer. Given by the order of the layers in the style\r\n      uniform mediump float u_depth;\r\n\r\n      // the opacity of the layer given by the painter\r\n      uniform mediump float u_radius;\r\n      uniform lowp vec4 u_color;\r\n      uniform mediump float u_blur;\r\n      uniform mediump float u_stroke_width;\r\n      uniform lowp vec4 u_stroke_color;\r\n\r\n      uniform mediump float u_antialiasingWidth; // antialiasing (factors in the pixel_ratio for high res devices)\r\n\r\n      void main()\r\n      {\r\n        v_color \x3d a_color * u_color;\r\n        v_stroke_color \x3d a_stroke_color * u_stroke_color;\r\n        v_stroke_width \x3d a_data[1] * sizePrecision * u_stroke_width;\r\n        v_radius \x3d a_data[2] * u_radius;\r\n        v_blur \x3d max(a_data[0] * blurPrecision + u_blur, u_antialiasingWidth / (v_radius + v_stroke_width));\r\n\r\n        mediump vec2 offset \x3d vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\r\n        v_offset \x3d offset;\r\n\r\n      #ifdef ID\r\n        v_id \x3d u_id / 255.0;\r\n      #endif // ID\r\n\r\n        gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(a_pos * 0.5, 0.0, 1.0) + u_extrudeMatrix * (v_radius + v_stroke_width) * vec4(offset, 0.0, 0.0);\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"circleFS"\x3e\r\n    \x3c![CDATA[\r\n      precision lowp float;\r\n\r\n      varying lowp vec4 v_color;\r\n      varying lowp vec4 v_stroke_color;\r\n      varying mediump float v_blur;\r\n      varying mediump float v_stroke_width;\r\n      varying mediump float v_radius;\r\n      varying mediump vec2 v_offset;\r\n\r\n    #ifdef ID\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n      void main()\r\n      {\r\n        mediump float dist \x3d length(v_offset);\r\n\r\n        mediump float alpha \x3d smoothstep(0.0, -v_blur, dist - 1.0);\r\n\r\n        lowp float color_mix_ratio \x3d v_stroke_width \x3c 0.01 ? 0.0 : smoothstep(-v_blur, 0.0, dist - v_radius / (v_radius + v_stroke_width));\r\n\r\n        gl_FragColor \x3d alpha * mix(v_color, v_stroke_color, color_mix_ratio);\r\n\r\n      #ifdef ID\r\n        if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n          discard;\r\n        }\r\n        gl_FragColor \x3d v_id;\r\n      #endif // ID\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e\r\n\r\n',
"url:esri/layers/vectorTiles/views/vectorTiles/renderers/shaders/fillShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  // YF TODO: (doc)\r\n--\x3e\r\n\x3csnippets\x3e\r\n  \x3csnippet name\x3d"fillVS"\x3e\r\n    \x3c![CDATA[\r\n      precision mediump float;\r\n\r\n      attribute vec2 a_pos;\r\n\r\n      uniform highp mat4 u_transformMatrix;\r\n      uniform highp vec2 u_normalized_origin;\r\n      uniform mediump float u_depth;\r\n\r\n    #ifdef PATTERN\r\n      uniform mediump mat3 u_pattern_matrix;\r\n      varying mediump vec2 v_tileTextureCoord;\r\n    #endif // PATTERN\r\n\r\n    #ifdef ID\r\n      uniform mediump vec4 u_id;\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n    #ifdef DD\r\n      attribute vec4 a_color;\r\n    #endif // DD\r\n      uniform lowp vec4 u_color;\r\n      varying lowp vec4 v_color;\r\n\r\n      void main()\r\n      {\r\n      #ifdef DD\r\n        v_color \x3d a_color * u_color;\r\n      #else\r\n        v_color \x3d u_color;\r\n      #endif // DD\r\n\r\n      #ifdef ID\r\n        v_id \x3d u_id / 255.0;\r\n      #endif // ID\r\n\r\n      #ifdef PATTERN\r\n        // calculate the texture coordinates of the current vertex. It will of course get interpolated.\r\n        // The pattern matrix is a 3x3 scale matrix which \'tiles\' the texture inside the tile, translating from tile coordinates\r\n        // (-4k to 8k -1) to texture coordinates.\r\n        v_tileTextureCoord \x3d (u_pattern_matrix * vec3(a_pos, 1.0)).xy;\r\n      #endif // PATTERN\r\n\r\n        gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(a_pos, 0, 1.0);\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"fillFS"\x3e\r\n    \x3c![CDATA[\r\n      precision lowp float;\r\n\r\n    #ifdef PATTERN\r\n      uniform mediump vec2 u_pattern_tl;\r\n      uniform mediump vec2 u_pattern_br;\r\n      uniform lowp sampler2D u_texture;\r\n      varying mediump vec2 v_tileTextureCoord;\r\n    #endif // PATTERN\r\n\r\n    #ifdef ID\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n      varying lowp vec4 v_color;\r\n\r\n      vec4 mixColors(vec4 color1, vec4 color2) {\r\n        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Alpha_blending)\r\n        // we use pre-multiplied colors hence the need for this kind of mixing. At lease we save ourselves an extra division...\r\n        float compositeAlpha \x3d color2.a + color1.a * (1.0 - color2.a);\r\n        vec3 compositeColor \x3d color2.rgb + color1.rgb * (1.0 - color2.a);\r\n\r\n        return vec4(compositeColor, compositeAlpha);\r\n      }\r\n      void main()\r\n      {\r\n      #ifdef PATTERN\r\n        // normalize the calculated texture coordinate such that it fits in the range of 0 to 1.\r\n        mediump vec2 normalizedTextureCoord \x3d mod(v_tileTextureCoord, 1.0);\r\n\r\n        // interpolate the image coordinate between the top-left and the bottom right to get the actual position to sample.\r\n        // after normalizing the position, we get a value ranging between 0 and 1 which refers to the entire texture, however\r\n        // we need to only sample from area that has our sprite in the mosaic.\r\n        mediump vec2 samplePos \x3d mix(u_pattern_tl, u_pattern_br, normalizedTextureCoord);\r\n\r\n        // sample the sprite mosaic\r\n        lowp vec4 color \x3d texture2D(u_texture, samplePos);\r\n        gl_FragColor \x3d v_color[3] * color;\r\n      #else\r\n        gl_FragColor \x3d v_color;\r\n      #endif // PATTERN\r\n\r\n      #ifdef ID\r\n        if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n          discard;\r\n        }\r\n        gl_FragColor \x3d v_id;\r\n      #endif // ID\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/vectorTiles/renderers/shaders/iconShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  Add your GLSL snippets to this file. You should start from\r\n  importing your old GLSL files. For instance, if you have a\r\n  file such as myShader.vs.glsl you should create a new \x3csnippet name\x3d"myShaderVS"\x3e\r\n  and then copy and paste the GLSL source as the content. You will then convert your\r\n  code to use the {@link module:esri/views/vectorTiles/renderers/vtShaderSnippets vtShaderSnippets}\r\n  instance to access the GLSL code, instead of importing it directly with require("dojo/text!...").\r\n--\x3e\r\n\x3csnippets\x3e\r\n\r\n  \x3csnippet name\x3d"rgba2float"\x3e\x3c![CDATA[\r\n    // TODO consider moving this snippet into a util.xml file\r\n    const vec4 rgba2float_factors \x3d vec4(\r\n        255.0 / (256.0),\r\n        255.0 / (256.0 * 256.0),\r\n        255.0 / (256.0 * 256.0 * 256.0),\r\n        255.0 / (256.0 * 256.0 * 256.0 * 256.0)\r\n      );\r\n\r\n    float rgba2float(vec4 rgba) {\r\n      // Convert components from 0-\x3e1 back to 0-\x3e255 and then\r\n      // add the components together with their corresponding\r\n      // fixed point factors, i.e. (256^1, 256^2, 256^3, 256^4)\r\n      return dot(rgba, rgba2float_factors);\r\n    }\r\n  ]]\x3e\x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"iconVS"\x3e\r\n    \x3c![CDATA[\r\n      attribute vec2 a_pos;\r\n      attribute vec2 a_vertexOffset;\r\n      attribute vec4 a_tex;\r\n      attribute vec4 a_levelInfo;\r\n\r\n    #ifdef DD\r\n      attribute vec4 a_color;\r\n      attribute mediump float a_size;\r\n    #endif // DD\r\n      uniform lowp vec4 u_color;\r\n      uniform mediump float u_size;\r\n\r\n    #ifdef ID\r\n      uniform mediump vec4 u_id;\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n      varying lowp vec4 v_color;\r\n\r\n      // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\r\n      // relative to the tile\'s upper left corner\r\n      // the extrusion vector.\r\n      uniform highp mat4 u_transformMatrix;\r\n\r\n      // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\r\n      uniform highp mat4 u_extrudeMatrix;\r\n\r\n      // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\r\n      uniform highp vec2 u_normalized_origin;\r\n\r\n      // the size of the mosaic given in pixels\r\n      uniform vec2 u_mosaicSize;\r\n\r\n      // the z of the layer. Given by the order of the layers in the style\r\n      uniform mediump float u_depth;\r\n\r\n      // the map\'s rotation from the north\r\n      uniform mediump float u_mapRotation;\r\n      uniform mediump float u_level;\r\n\r\n      // indicate whether the current set of iconst should be kept upright when the map is rotated\r\n      uniform lowp float u_keepUpright;\r\n\r\n      // the rate of the change in the opacity (fade) of the icons\r\n      uniform mediump float u_fadeSpeed;\r\n\r\n      // the low level we transition (to/from)\r\n      uniform mediump float u_minfadeLevel;\r\n\r\n      // the high level we transition (to/from)\r\n      uniform mediump float u_maxfadeLevel;\r\n\r\n      // the amount of fade given teh current time past the last recorded level\r\n      uniform mediump float u_fadeChange;\r\n\r\n      // the opacity of the layer given by the painter\r\n      uniform mediump float u_opacity;\r\n\r\n      // the interpolated texture coordinate value to be used by the fragment shader in order to sample the sprite texture\r\n      varying mediump vec2 v_tex;\r\n\r\n      // the calculated transparency to be applied by the fragment shader. It is incorporating both the fade as well as the\r\n      // opacity of the layer given by the painter\r\n      varying lowp float v_transparency;\r\n\r\n      varying mediump vec2 v_size;\r\n\r\n      // the vertex offsets are given in integers, therefore in order to maintain a reasonable precision we multiply the values\r\n      // by 8 and then at the shader devide by the same number\r\n      const float C_OFFSET_PRECISION \x3d 1.0 / 8.0;\r\n\r\n      const float C_256_TO_RAD \x3d 3.14159265359 / 128.0;\r\n      const float C_DEG_TO_RAD \x3d 3.14159265359 / 180.0;\r\n      const float tileCoordRatio \x3d 1.0 / 8.0;\r\n\r\n      void main()\r\n      {\r\n        mediump float a_labelMinLevel \x3d a_levelInfo[0];\r\n        mediump float a_angle         \x3d a_levelInfo[1];\r\n        mediump float a_minLevel      \x3d a_levelInfo[2];\r\n        mediump float a_maxLevel      \x3d a_levelInfo[3];\r\n\r\n        // if the given vertex should not be visible simply clip it by adding it a value that will push it outside the clipping plane\r\n        mediump float delta_z \x3d 0.0;\r\n\r\n        // If the label rotates with the map, and if the rotated label is upside down, hide it\r\n        mediump float rotated \x3d mod(a_angle + u_mapRotation, 256.0);\r\n        delta_z +\x3d (1.0 - step(u_keepUpright, 0.0)) * step(64.0, rotated) * (1.0 - step(192.0, rotated)); //ie. z +\x3d (flip \x3e 0) \x26\x26 (64 \x3c\x3d rotated) \x26\x26 (rotated \x3c 192)\r\n\r\n        // u_level is the current service level adjusted for the change in font size\r\n        delta_z +\x3d 1.0 - step(a_minLevel, u_level); // Test if (level \x3c minLevel)\r\n        delta_z +\x3d step(a_maxLevel, u_level); // Test if (maxLevel \x3c\x3d level)\r\n\r\n        // calculate the alpha given the change in the fade and the fade-speed\r\n        lowp float alpha \x3d clamp((u_fadeChange - a_labelMinLevel) / u_fadeSpeed, 0.0, 1.0);\r\n\r\n        // if the speed is positive we are zooming in and therefore we need to \'fade-in\'. Else we need to \'fade-out\'\r\n        v_transparency \x3d (u_fadeSpeed \x3e\x3d 0.0 ? alpha : 1.0 - alpha);\r\n\r\n        // now deal with the min/max fade-levels. If we exceeded the level we simply snap to 0 or 1\r\n        if (u_maxfadeLevel \x3c a_labelMinLevel)\r\n        {\r\n          v_transparency \x3d 0.0;\r\n        }\r\n        if (u_minfadeLevel \x3e\x3d a_labelMinLevel)\r\n        {\r\n          v_transparency \x3d 1.0;\r\n        }\r\n\r\n        // if label had been faded out, clip it\r\n        delta_z +\x3d step(v_transparency, 0.0);\r\n\r\n        vec2 offset \x3d C_OFFSET_PRECISION * a_vertexOffset;\r\n\r\n        v_size \x3d abs(offset);\r\n\r\n      #ifdef SDF\r\n        offset \x3d (120.0 / 86.0) * offset;\r\n      #endif // SDF\r\n\r\n      #ifdef DD\r\n        mediump float icon_size \x3d a_size * u_size;\r\n      #else\r\n        mediump float icon_size \x3d u_size;\r\n      #endif // DD\r\n        gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(a_pos, 0.0, 1.0) + u_extrudeMatrix * icon_size * vec4(offset, delta_z, 0.0);\r\n\r\n      #ifdef DD\r\n        v_color \x3d a_color * u_color;\r\n      #else\r\n        v_color \x3d u_color;\r\n      #endif // DD\r\n\r\n      #ifdef ID\r\n        v_id \x3d u_id / 255.0;\r\n      #endif // ID\r\n\r\n        v_tex \x3d a_tex.xy / u_mosaicSize;\r\n        v_transparency *\x3d v_color.w;\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"iconFS"\x3e\r\n    \x3c![CDATA[\r\n      precision mediump float;\r\n\r\n      uniform lowp sampler2D u_texture; // SDF texture\r\n    #ifdef SDF\r\n      uniform lowp vec4 u_color; // a color to override the one of the vertex\r\n      uniform lowp vec4 u_outlineColor;\r\n      uniform mediump float u_outlineSize;\r\n    #endif // SDF\r\n\r\n      varying mediump vec2 v_tex;\r\n      // the calculated transparency to be applied by the fragment shader. It is incorporating both the fade as well as the\r\n      // opacity of the layer given by the painter\r\n      varying lowp float v_transparency;\r\n\r\n      varying mediump vec2 v_size;\r\n\r\n      varying lowp vec4 v_color;\r\n\r\n    #ifdef ID\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n      // we need the conversion function from RGBA to float\r\n      $rgba2float\r\n\r\n      vec4 mixColors(vec4 color1, vec4 color2) {\r\n        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Alpha_blending)\r\n        // we use pre-multiplied colors hence the need for this kind of mixing. At lease we save ourselves an extra division...\r\n        float compositeAlpha \x3d color2.a + color1.a * (1.0 - color2.a);\r\n        vec3 compositeColor \x3d color2.rgb + color1.rgb * (1.0 - color2.a);\r\n\r\n        return vec4(compositeColor, compositeAlpha);\r\n      }\r\n\r\n      void main()\r\n      {\r\n      #ifdef SDF\r\n        lowp vec4 fillPixelColor \x3d v_color;\r\n\r\n        // calculate the distance from the edge [-0.5, 0.5]\r\n        float d \x3d rgba2float(texture2D(u_texture, v_tex)) - 0.5;\r\n\r\n        // the soft edge ratio is about 1.5 pixels allocated for the soft edge.\r\n        // 1 / 86 represents a single pixel given the size of the SDF is 128 and we add 4 pixels margins to deal with\r\n        // other non SDF types.\r\n        // The rasterized geometry takes only 86 pixels because of the extra 16 pixels margin for the outline.\r\n        const float sofetEdgeRatio \x3d 0.248062016; // \x3d\x3d\x3e (32.0 / 86.0) / 1.5;\r\n        float size \x3d max(v_size.x, v_size.y);\r\n        float dist \x3d d * sofetEdgeRatio * size;\r\n\r\n        // set the fragment\'s transparency according to the distance from the edge\r\n        fillPixelColor *\x3d clamp(0.5 - dist, 0.0, 1.0);\r\n\r\n        // count for the outline\r\n        // therefore tint the entire icon area.\r\n        if (u_outlineSize \x3e 0.25) {\r\n          lowp vec4 outlinePixelColor \x3d u_outlineColor;\r\n          // the outline limit ratio is derived from the 16 pixels allocated for the outline and the fact that 1/86 represents\r\n          // a single pixel.\r\n          const float outlineLimitRatio \x3d (16.0 / 86.0);\r\n          float clampedOutlineSize \x3d sofetEdgeRatio * min(u_outlineSize, outlineLimitRatio * max(v_size.x, v_size.y));\r\n\r\n          outlinePixelColor *\x3d clamp(0.5 - (abs(dist) - clampedOutlineSize), 0.0, 1.0);\r\n\r\n          // finally combine the outline and the fill colors\r\n          gl_FragColor \x3d v_transparency * mixColors(fillPixelColor, outlinePixelColor);\r\n        }\r\n        else {\r\n          gl_FragColor \x3d v_transparency * fillPixelColor;\r\n        }\r\n      #else // not an SDF\r\n        lowp vec4 texColor \x3d texture2D(u_texture, v_tex);\r\n        gl_FragColor \x3d v_transparency * texColor;\r\n      #endif // SDF\r\n\r\n      #ifdef ID\r\n        if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n          discard;\r\n        }\r\n        gl_FragColor \x3d v_id;\r\n      #endif // ID\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e\r\n\r\n',
"url:esri/layers/vectorTiles/views/vectorTiles/renderers/shaders/lineShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  // YF TODO: (doc)\r\n--\x3e\r\n\x3csnippets\x3e\r\n  \x3csnippet name\x3d"lineVS"\x3e\r\n    \x3c![CDATA[\r\n      /* The implementation of the renderer is based on the article and implementation of MB described here:\r\n      * https://www.mapbox.com/blog/drawing-antialiased-lines/\r\n      */\r\n\r\n      attribute vec2 a_pos;\r\n      attribute vec4 a_offsetAndNormal;\r\n      attribute vec2 a_accumulatedDistance;\r\n\r\n      // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\r\n      // relative to the tile\'s upper left corner\r\n      // the extrusion vector.\r\n      uniform highp mat4 u_transformMatrix;\r\n\r\n      // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\r\n      uniform highp mat4 u_extrudeMatrix;\r\n\r\n      // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\r\n      uniform highp vec2 u_normalized_origin;\r\n\r\n      uniform mediump float u_blur;\r\n      uniform mediump float u_antialiasing; // the feather distance at which the line edge fades out\r\n\r\n      // the z of the layer. Given by the order of the layers in the style\r\n      uniform mediump float u_depth;\r\n\r\n      // the interpolated normal to the line. the information is packed into the two LSBs of the vertex coordinate\r\n      varying mediump vec2 v_normal;\r\n\r\n      // the accumulated distance along the line. We need this information in order to render the dashes.\r\n      varying highp float v_accumulatedDistance;\r\n\r\n      const float scale \x3d 1.0 / 31.0;\r\n\r\n    #ifdef DD\r\n      attribute vec4 a_color;\r\n      attribute mediump float a_width;\r\n    #endif // DD\r\n      uniform lowp vec4 u_color;\r\n      uniform mediump float u_width;\r\n\r\n    #ifdef ID\r\n      uniform mediump vec4 u_id;\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n      varying lowp vec4 v_color;\r\n      varying mediump float v_lineHalfWidth; // the inset and outset of the line\r\n      varying mediump float v_blur;\r\n\r\n    #ifndef PATTERN\r\n      uniform mediump vec2 u_dasharray;\r\n      varying mediump vec2 v_dasharray;\r\n    #endif\r\n\r\n      void main()\r\n      {\r\n        v_normal \x3d a_offsetAndNormal.zw * scale;\r\n\r\n      #ifdef DD\r\n        v_lineHalfWidth \x3d a_width * u_width;\r\n      #else\r\n        v_lineHalfWidth \x3d u_width;\r\n      #endif // DD\r\n\r\n        v_lineHalfWidth +\x3d u_antialiasing;\r\n        v_lineHalfWidth *\x3d 0.5;\r\n\r\n      #ifndef PATTERN\r\n      #ifdef DD\r\n        v_dasharray \x3d u_dasharray * a_width;\r\n      #else\r\n        v_dasharray \x3d u_dasharray * u_width;\r\n      #endif // DD\r\n      #endif\r\n\r\n        // calculate the relative distance from the centerline to the edge of the line. Since offset is given in integers (for the\r\n        // sake of using less attribute memory, we need to scale it back to the original range of ~ 0: 1)\r\n        mediump vec2 dist \x3d v_lineHalfWidth * a_offsetAndNormal.xy * scale;\r\n\r\n        // transform the vertex\r\n        gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(a_pos, 0.0, 1.0) + u_extrudeMatrix * vec4(dist, 0.0, 0.0);\r\n\r\n        // the accumulated distance will be used to calculate the dashes (or the no-data...)\r\n        v_accumulatedDistance \x3d a_accumulatedDistance.x;\r\n\r\n        v_blur \x3d u_blur + u_antialiasing;\r\n\r\n        #ifdef DD\r\n          v_color \x3d a_color * u_color;\r\n        #else\r\n          v_color \x3d u_color;\r\n        #endif // DD\r\n\r\n        #ifdef ID\r\n          v_id \x3d u_id / 255.0;\r\n        #endif // ID\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"lineFS"\x3e\r\n    \x3c![CDATA[\r\n      varying mediump vec2 v_normal;\r\n      varying highp float v_accumulatedDistance;\r\n\r\n      varying mediump float v_lineHalfWidth;\r\n      varying lowp vec4 v_color;\r\n\r\n      varying mediump float v_blur;\r\n\r\n    #ifdef PATTERN\r\n      uniform mediump vec2 u_pattern_tl;\r\n      uniform mediump vec2 u_pattern_br;\r\n      uniform mediump vec2 u_spriteSize;\r\n      uniform sampler2D u_texture;\r\n\r\n      // Horizontal scale is used to scale the horizontal texture coordinate v_normal.x before adding it as an offset to the\r\n      // accumulated distance. Most vertices will have v_normal.x \x3d\x3d 0, because the pattern must be sampled only depending on\r\n      // the v_accumulatedDistance value. But tessellation at caps can have vertices with v_normal.x !\x3d 0, thus allowing to\r\n      // "keep moving" for a few more pixel even when the line has ended or has not started yet.\r\n      const mediump float tileCoordRatio \x3d 8.0;\r\n    #else\r\n      varying mediump vec2 v_dasharray;\r\n    #endif\r\n\r\n    #ifdef ID\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n      void main()\r\n      {\r\n        // dist represent the distance of the fragment from the line. 1.0 or -1.0 will be the values on the edge of the line,\r\n        // and any value in between will be inside the line (the sign represent the direction - right or left).\r\n        // since u_linewidth.s (half line width) is represented in pixels, dist is also given in pixels\r\n        mediump float fragDist \x3d length(v_normal) * v_lineHalfWidth;\r\n\r\n        // calculate the alpha given the difference between the line-width and the distance of the fragment from the center-line.\r\n        // We need to count for both sides of the line.\r\n        lowp float alpha \x3d clamp((v_lineHalfWidth - fragDist) / v_blur, 0.0, 1.0);\r\n\r\n      #ifdef PATTERN\r\n        // we need to calculate the relative portion of the line texture along the line given the accumulated distance aliong the line\r\n        // The computed value should is anumber btween 0 and 1 which will later be used to interpolate btween the BR and TL values\r\n        mediump float relativeTexX \x3d mod((v_accumulatedDistance + v_normal.x * v_lineHalfWidth * tileCoordRatio) / u_spriteSize.x, 1.0);\r\n\r\n        // in order to calculate the texture coordinates perpendicular to the line (Y axis), we use the interpolated normal values\r\n        // which range from -1.0 to 1.0. On the line\'s centerline, the value of the interpolated normal is 0.0, however the relative\r\n        // texture value should be 0.5 (given that at the bottom of the line, the texture coordinate must be equal to 0.0)\r\n        // (TL) ---------------------------      --\x3e left edge of line. Interpolated normal is 1.0\r\n        //              | -\x3e line-width / 2\r\n        //      - - - - - - - - - - - - - -\r\n        //              | -\x3e line-width / 2\r\n        //      ---------------------------- (BR)--\x3e right edge of line. Interpolated normal is -1.0\r\n\r\n        mediump float relativeTexY \x3d 0.5 + (v_normal.y * v_lineHalfWidth / u_spriteSize.y);\r\n\r\n        // claculate the actual texture coordinates by interpolating between the TL/BR pattern coordinates\r\n        mediump vec2 texCoord \x3d mix(u_pattern_tl, u_pattern_br, vec2(relativeTexX, relativeTexY));\r\n\r\n        // get the color from the texture\r\n        lowp vec4 color \x3d texture2D(u_texture, texCoord);\r\n\r\n        // finally write the fragment value\r\n        gl_FragColor \x3d alpha * v_color[3] * color;\r\n      #else\r\n        // now calculate the dashes given the accumulated distance of the line:\r\n        // start with calculating a normalized position along the line\r\n        lowp float dashPos \x3d  mod(v_accumulatedDistance, v_dasharray.x + v_dasharray.y);\r\n\r\n        // calculate the contribution to the alpha of the dash part. It is provided by the shortest portion of the position along the dash.\r\n        // we must clamp since the value might be bigger than 1 or smaller than zero (when over a dash).\r\n        //   | \x3c--- pos along the dash part\r\n        // -------_______-------_______\r\n        // when the dashPos is over the \'gap\' part of the dash dasharray.x - dashPos is negative and therefore the alpha will\r\n        // get clamped to zero.\r\n        // when dasharray.x - dashPos is positive, or when dashPos is smaller than 1.0, it gives us a soft edge to each dash part.\r\n        // along the direction of the line.\r\n        lowp float dashAlpha \x3d clamp(min(dashPos, v_dasharray.x - dashPos) + 0.5, 0.0, 1.0);\r\n\r\n        // if we don\'t have a no-data part to the dash then it is a solid line\r\n        dashAlpha \x3d max(sign(-v_dasharray.y), dashAlpha);\r\n        // finally multiply the fragment\'s alpha by the calculated dash-alpha\r\n        alpha *\x3d dashAlpha;\r\n\r\n        // output the fragment color\r\n        gl_FragColor \x3d alpha * v_color;\r\n      #endif // PATTERN\r\n\r\n      #ifdef ID\r\n        if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n          discard;\r\n        }\r\n        gl_FragColor \x3d v_id;\r\n      #endif // ID\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/vectorTiles/renderers/shaders/outlineShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  // YF TODO: (doc)\r\n--\x3e\r\n\x3csnippets\x3e\r\n  \x3csnippet name\x3d"outlineVS"\x3e\r\n    \x3c![CDATA[\r\n      attribute vec2 a_pos;\r\n      attribute vec2 a_offset;\r\n      attribute vec2 a_xnormal;\r\n\r\n    #ifdef DD\r\n      attribute vec4 a_color;\r\n    #endif // DD\r\n      uniform lowp vec4 u_color;\r\n      varying lowp vec4 v_color;\r\n\r\n    #ifdef ID\r\n      uniform mediump vec4 u_id;\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n      uniform highp mat4 u_transformMatrix;\r\n      uniform highp mat4 u_extrudeMatrix;\r\n      uniform highp vec2 u_normalized_origin;\r\n      uniform mediump float u_depth;\r\n      uniform mediump float u_outline_width;\r\n\r\n      varying lowp vec2 v_normal;\r\n\r\n      const float scale \x3d 1.0 / 15.0;\r\n\r\n      void main()\r\n      {\r\n      #ifdef DD\r\n        v_color \x3d a_color * u_color;\r\n      #else\r\n        v_color \x3d u_color;\r\n      #endif // DD\r\n\r\n      #ifdef ID\r\n        v_id \x3d u_id / 255.0;\r\n      #endif // ID\r\n\r\n        v_normal \x3d a_xnormal;\r\n\r\n        // calculate the relative distance from the centerline to the edge of the line. Since offset is given in integers (for the\r\n        // sake of using less attribute memory, we need to scale it back to the original range of ~ 0: 1)\r\n        mediump vec4 dist \x3d vec4(u_outline_width * a_offset * scale, 0.0, 0.0);\r\n\r\n        // Remove the texture normal bit of the position before scaling it with the\r\n        // model/view matrix. Add the extrusion vector *after* the model/view matrix\r\n        // because we\'re extruding the line in pixel space, regardless of the current\r\n        // tile\'s zoom level.\r\n        gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(a_pos, 0.0, 1.0) + u_extrudeMatrix * dist;\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"outlineFS"\x3e\r\n    \x3c![CDATA[\r\n      varying lowp vec4 v_color;\r\n      varying mediump vec2 v_normal;\r\n\r\n    #ifdef ID\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n      void main()\r\n      {\r\n        // Calculate the distance of the pixel from the line in pixels.\r\n        lowp float dist \x3d abs(v_normal.y);\r\n\r\n        lowp float alpha \x3d smoothstep(1.0, 0.0, dist);\r\n        gl_FragColor \x3d alpha * v_color;\r\n\r\n      #ifdef ID\r\n        if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n          discard;\r\n        }\r\n        gl_FragColor \x3d v_id;\r\n      #endif // ID\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/layers/vectorTiles/views/vectorTiles/renderers/shaders/textShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\x3c!--\r\n  Add your GLSL snippets to this file. You should start from\r\n  importing your old GLSL files. For instance, if you have a\r\n  file such as myShader.vs.glsl you should create a new \x3csnippet name\x3d"myShaderVS"\x3e\r\n  and then copy and paste the GLSL source as the content. You will then convert your\r\n  code to use the {@link module:esri/views/vectorTiles/renderers/vtShaderSnippets vtShaderSnippets}\r\n  instance to access the GLSL code, instead of importing it directly with require("dojo/text!...").\r\n--\x3e\r\n\x3csnippets\x3e\r\n\r\n  \x3csnippet name\x3d"rgba2float"\x3e\x3c![CDATA[\r\n    // TODO this snippet should only be in views/3d/webgl-engine/materials/internal/Util.xml\r\n\r\n    // Factors to convert rgba back to float\r\n    const vec4 toFloat \x3d vec4(\r\n        255.0 / (256.0),\r\n        255.0 / (256.0 * 256.0),\r\n        255.0 / (256.0 * 256.0 * 256.0),\r\n        255.0 / (256.0 * 256.0 * 256.0 * 256.0)\r\n      );\r\n\r\n    float rgba2float(vec4 rgba) {\r\n      // Convert components from 0-\x3e1 back to 0-\x3e255 and then\r\n      // add the components together with their corresponding\r\n      // fixed point factors, i.e. (256^1, 256^2, 256^3, 256^4)\r\n      return dot(rgba, toFloat);\r\n    }\r\n  ]]\x3e\x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"textVS"\x3e\r\n    \x3c![CDATA[\r\n      attribute vec2 a_pos;\r\n      attribute vec2 a_vertexOffset;\r\n      attribute vec4 a_tex;\r\n      attribute vec4 a_levelInfo;\r\n\r\n      uniform lowp vec4 u_color; // always defined as halo does not support data driven but text does\r\n    #ifdef DD\r\n      attribute vec4 a_color;\r\n    #endif // DD\r\n      varying lowp vec4 v_color;\r\n\r\n      uniform mediump float u_size;\r\n    #ifdef DD\r\n      attribute mediump float a_size;\r\n    #endif // DD\r\n      varying mediump float v_size;\r\n\r\n    #ifdef ID\r\n      uniform mediump vec4 u_id;\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n\r\n      // attribute bool a_visible; // --\x3e a one bit controlling the visibility of the vertex\r\n\r\n      // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\r\n      // relative to the tile\'s upper left corner\r\n      // the extrusion vector.\r\n      uniform highp mat4 u_transformMatrix;\r\n\r\n      // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\r\n      uniform highp mat4 u_extrudeMatrix;\r\n\r\n      // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\r\n      uniform highp vec2 u_normalized_origin;\r\n\r\n      // the size of the mosaic given in pixels\r\n      uniform vec2 u_mosaicSize;\r\n\r\n      // the z of the layer. Given by the order of the layers in the style\r\n      uniform mediump float u_depth;\r\n\r\n      // the map\'s rotation from the north\r\n      uniform mediump float u_mapRotation;\r\n      uniform mediump float u_level;\r\n\r\n      // indicate whether the current set of iconst should be kept upright when the map is rotated\r\n      uniform lowp float u_keepUpright;\r\n\r\n      // the rate of the change in the opacity (fade) of the icons\r\n      uniform mediump float u_fadeSpeed;\r\n\r\n      // the low level we transition (to/from)\r\n      uniform mediump float u_minfadeLevel;\r\n\r\n      // the high level we transition (to/from)\r\n      uniform mediump float u_maxfadeLevel;\r\n\r\n      // the amount of fade given teh current time past the last recorded level\r\n      uniform mediump float u_fadeChange;\r\n\r\n      // the opacity of the layer given by the painter\r\n      uniform mediump float u_opacity;\r\n\r\n      // the interpolated texture coordinate value to be used by the fragment shader in order to sample the sprite texture\r\n      varying lowp vec2 v_tex;\r\n\r\n      // the calculated transparency to be applied by the fragment shader. It is incorporating both the fade as well as the\r\n      // opacity of the layer given by the painter\r\n      varying lowp float v_transparency;\r\n\r\n      // the vertex offsets are given in integers, therefore in order to maintain a reasonable precision we multiply the values\r\n      // by 8 and then at the shader divide by the same number\r\n      const float offsetPrecision \x3d 1.0 / 8.0;\r\n\r\n      // outline position and appearance\r\n      const mediump float edgePos \x3d 0.75; // defined by the SDF encoding\r\n      uniform mediump float u_edgeDistance;\r\n      uniform mediump float u_edgeBlur;\r\n      uniform mediump float u_antialiasingWidth; // antialiasing (factors in the pixel_ratio for high res devices)\r\n\r\n      varying mediump float v_edgeDistance; // will factor in the size\r\n      varying mediump float v_edgeWidth; // will factor in the size\r\n\r\n      uniform lowp float u_halo; // needed to avoid using the color attribute for halo\r\n\r\n      void main()\r\n      {\r\n        mediump float a_labelMinLevel \x3d a_levelInfo[0];\r\n        mediump float a_angle        \x3d a_levelInfo[1];\r\n        mediump float a_minLevel    \x3d a_levelInfo[2];\r\n        mediump float a_maxLevel    \x3d a_levelInfo[3];\r\n\r\n        // if the given vertex should not be visible simply clip it by adding it a value that will push it outside the clipping plane\r\n        mediump float delta_z \x3d 0.0;\r\n\r\n        // TODO: force clipping the vertex in case that the vertex isn\'t visible\r\n        //delta_z +\x3d a_visible ? 0.0 : 1.0;\r\n\r\n        // If the label rotates with the map, and if the rotated label is upside down, hide it\r\n        mediump float rotated \x3d mod(a_angle + u_mapRotation, 256.0);\r\n        delta_z +\x3d (1.0 - step(u_keepUpright, 0.0)) * step(64.0, rotated) * (1.0 - step(192.0, rotated)); //ie. z +\x3d (flip \x3e 0) \x26\x26 (64 \x3c\x3d rotated) \x26\x26 (rotated \x3c 192)\r\n\r\n        // u_level is the current service level adjusted for the change in font size\r\n        delta_z +\x3d 1.0 - step(a_minLevel, u_level); // Test if (level \x3c minLevel)\r\n        delta_z +\x3d step(a_maxLevel, u_level); // Test if (maxLevel \x3c\x3d level)\r\n\r\n        // calculate the alpha given the change in the fade and the fade-speed\r\n        lowp float alpha \x3d clamp((u_fadeChange - a_labelMinLevel) / u_fadeSpeed, 0.0, 1.0);\r\n\r\n        // if the speed is positive we are zooming in and therefore we need to \'fade-in\'. Else we need to \'fade-out\'\r\n        v_transparency \x3d (u_fadeSpeed \x3e\x3d 0.0 ? alpha : 1.0 - alpha);\r\n\r\n        // now deal with the min/max fade-levels. If we exceeded the level we simply snap to 0 or 1\r\n        if (u_maxfadeLevel \x3c a_labelMinLevel)\r\n        {\r\n          v_transparency \x3d 0.0;\r\n        }\r\n        if (u_minfadeLevel \x3e\x3d a_labelMinLevel)\r\n        {\r\n          v_transparency \x3d 1.0;\r\n        }\r\n\r\n        // if label has been faded out, clip it\r\n        delta_z +\x3d step(v_transparency, 0.0);\r\n\r\n        v_tex \x3d a_tex.xy / u_mosaicSize;\r\n\r\n      #ifdef DD\r\n        if (u_halo \x3e 0.5)\r\n        {\r\n          v_color \x3d u_color;\r\n        }\r\n        else\r\n        {\r\n          v_color \x3d a_color * u_color;\r\n          // opacity already factored in a_color\r\n        }\r\n      #else\r\n        v_color \x3d u_color;\r\n      #endif // DD\r\n\r\n      #ifdef DD\r\n        v_size \x3d a_size * u_size;\r\n      #else\r\n        v_size \x3d u_size;\r\n      #endif // DD\r\n\r\n      #ifdef ID\r\n        v_id \x3d u_id / 255.0;\r\n      #endif // ID\r\n\r\n        v_edgeDistance \x3d edgePos - u_edgeDistance / v_size;\r\n        v_edgeWidth \x3d (u_antialiasingWidth + u_edgeBlur) / v_size;\r\n\r\n        gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(a_pos, 0.0, 1.0) + u_extrudeMatrix * v_size * vec4(offsetPrecision * a_vertexOffset, delta_z, 0.0);\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n  \x3csnippet name\x3d"textFS"\x3e\r\n    \x3c![CDATA[\r\n      uniform lowp sampler2D u_texture;\r\n      uniform mediump float u_edgeDistance;\r\n\r\n      varying lowp vec2 v_tex;\r\n      varying lowp float v_transparency;\r\n      varying lowp vec4 v_color;\r\n      varying mediump float v_edgeWidth;\r\n      varying mediump float v_edgeDistance;\r\n\r\n    #ifdef ID\r\n      varying mediump vec4 v_id;\r\n    #endif // ID\r\n\r\n      // this is taken from http://www.valvesoftware.com/publications/2007/SIGGRAPH2007_AlphaTestedMagnification.pdf\r\n      // and https://www.mapbox.com/blog/text-signed-distance-fields/\r\n      // http://metalbyexample.com/rendering-text-in-metal-with-signed-distance-fields/\r\n\r\n      void main()\r\n      {\r\n        // read the distance from the SDF texture\r\n        lowp float dist \x3d texture2D(u_texture, v_tex).a;\r\n\r\n        // use a smooth-step in order to calculate the geometry of the shape given by the distance field\r\n        mediump float alpha \x3d smoothstep(v_edgeDistance - v_edgeWidth, v_edgeDistance + v_edgeWidth, dist) * v_transparency;\r\n\r\n        gl_FragColor \x3d alpha * v_color;\r\n\r\n      #ifdef ID\r\n        if (gl_FragColor.a \x3c 1.0 / 255.0) {\r\n          discard;\r\n        }\r\n        gl_FragColor \x3d v_id;\r\n      #endif // ID\r\n      }\r\n    ]]\x3e\r\n  \x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e\r\n\r\n',
"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\r\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\r\n\t${!actionBarTemplate}\r\n\x3c/div\x3e\r\n\r\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tid\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:engine/materials/internal/util.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"float2rgba"\x3e\x3c![CDATA[\r\n\tvec4 float2rgba(const in float v) { \r\n\t\tvec4 enc \x3d vec4(1.0, 255.0, 65025.0, 160581375.0) * v; \r\n\t\tenc \x3d fract(enc); \r\n\t\tenc -\x3d enc.yzww * vec4(1.0/255.0, 1.0/255.0, 1.0/255.0, 0.0); \r\n\t\treturn enc; \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"rgba2float"\x3e\x3c![CDATA[\r\n\tfloat rgba2float(vec4 rgba) { \r\n\t\treturn dot(rgba, vec4(1.0, 1.0/255.0, 1.0/65025.0, 1.0/160581375.0)); \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\t\r\n\r\n\x3csnippet name\x3d"calcFragDepth"\x3e\x3c![CDATA[\r\n\t#extension GL_OES_standard_derivatives : enable \r\n\r\n\tfloat calcFragDepth(const in float depth) {\r\n\t\t//calc polygon offset\r\n\t\tconst float SLOPE_SCALE \x3d 2.0; \r\n\t\tconst float BIAS \x3d 2.0 * .000015259;\t\t// 1 / (2^16 - 1) \r\n\t\tfloat m \x3d max(abs(dFdx(depth)), abs(dFdy(depth))); \r\n\t\tfloat result \x3d depth + SLOPE_SCALE * m + BIAS; \r\n\t\treturn clamp(result, .0, .999999); \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"evalShadow"\x3e\x3c![CDATA[\r\n\t$rgba2float\r\n\r\n\t// "matrix" parameter used to have const qualifier as well, but IE11 couldn\'t deal with it at time of writing.\r\n\t// once IE11 is fine with it, const should probably be re-introduced\r\n\tfloat evalShadow(const in vec3 vpos, const in float depth, const in sampler2D depthTex, const int num, const in vec4 distance, in mat4 matrix[4], const in float halfPxSz) {\r\n\t\tif (halfPxSz \x3c .0) return .0;\r\n\t\t\r\n\t\t//choose correct cascade\r\n\t\tint i \x3d depth \x3c distance[1] ? 0 : depth \x3c distance[2] ? 1 : depth \x3c distance[3] ? 2 : 3;\t\t\r\n\t\tmat4 mat \x3d i \x3d\x3d 0 ? matrix[0] : i \x3d\x3d 1 ? matrix[1] : i \x3d\x3d 2 ? matrix[2] : matrix[3];\r\n\t\t\r\n\t\tvec4 lv \x3d mat * vec4(vpos, 1.0);\r\n\t\tlv.xy /\x3d lv.w;\r\n\t\t\r\n\t\t//vertex completely outside? -\x3e no shadow\r\n\t\tvec3 lvpos \x3d .5 * lv.xyz + vec3(.5);\t\t\r\n\t\tif (lvpos.z \x3e\x3d 1.0) return .0;\t\t\r\n\t\tif (lvpos.x \x3c .0 || lvpos.x \x3e 1.0 || lvpos.y \x3c .0 || lvpos.y \x3e 1.0) return .0;\r\n\t\t\r\n\t\t//calc coord in cascade texture\r\n\t\tvec2 uv \x3d vec2(float(i - 2 * (i / 2)) *.5, float(i / 2) * .5) + .5 * lvpos.xy;\r\n\t\t\r\n\t\tfloat texSize \x3d .5 / halfPxSz; \r\n\r\n\t\t//filter, offset by half pixels\r\n\t\tvec2 st \x3d fract((vec2(halfPxSz) + uv) * texSize);\r\n\t\t\r\n\t\tfloat s00 \x3d rgba2float(texture2D(depthTex, uv + vec2(-halfPxSz, -halfPxSz))) \x3c lvpos.z ? 1.0 : .0; \r\n\t\tfloat s10 \x3d rgba2float(texture2D(depthTex, uv + vec2(halfPxSz, -halfPxSz))) \x3c lvpos.z ? 1.0 : .0; \r\n\t\tfloat s11 \x3d rgba2float(texture2D(depthTex, uv + vec2(halfPxSz, halfPxSz))) \x3c lvpos.z ? 1.0 : .0; \r\n\t\tfloat s01 \x3d rgba2float(texture2D(depthTex, uv + vec2(-halfPxSz, halfPxSz))) \x3c lvpos.z ? 1.0 : .0; \r\n\r\n\t\treturn mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y); \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"normal2envTC"\x3e\x3c![CDATA[\r\n\tvec2 normal2envTC(vec3 normal) { \r\n\t\tfloat v \x3d .5 + .5 * asin(normal.y) * 0.63661977; \r\n\t\tfloat u \x3d .5 - .5 * atan(normal.z, normal.x) * 0.31830988; \r\n\t\treturn vec2(u, v);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"matchPixelOrigin"\x3e\x3c![CDATA[\r\n\tvec4 matchPixelOrigin(vec4 clipCoord, vec2 widthHeight) { \r\n\t\tvec2 xy \x3d vec2(.5) + .5 * clipCoord.xy / clipCoord.w; \r\n\t\tvec2 pixelSz \x3d vec2(1.0) / widthHeight; \r\n\t\tvec2 ij \x3d floor((xy + .5 * pixelSz) * widthHeight);\t\t\t\r\n\t\tvec2 result \x3d ((ij * pixelSz) * 2.0 - vec2(1.0)) * clipCoord.w; \r\n\t\treturn vec4(result.x, result.y, clipCoord.z, clipCoord.w); \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\t\r\n\r\n\x3csnippet name\x3d"matchPixelCenter"\x3e\x3c![CDATA[\r\n\tvec4 matchPixelCenter(vec4 clipCoord, vec2 widthHeight) { \r\n\t\tvec2 xy \x3d vec2(.500123) + .5 * clipCoord.xy / clipCoord.w; \r\n\t\tvec2 ij \x3d floor(xy * widthHeight);\t\t\t\r\n\t\tvec2 pixelSz \x3d vec2(1.0) / widthHeight; \r\n\t\tvec2 result \x3d (((vec2(.5) + ij) * pixelSz) * 2.0 - vec2(1.0)) * clipCoord.w; \r\n\t\treturn vec4(result.x, result.y, clipCoord.z, clipCoord.w); \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"calcPosMatchPixelCenter"\x3e\x3c![CDATA[\r\n\t\tvec3 posModel \x3d (model * vec4($position, 1.0)).xyz; \r\n\t\tvec3 posView \x3d (view * vec4(posModel, 1.0)).xyz; \r\n\t\tvec3 vnormal \x3d (modelNormal * vec4($normal, 1.0)).xyz; \r\n\t\tfloat cosAlpha \x3d dot(vnormal, normalize(camPos - posModel)); \r\n\t\tif (cosAlpha \x3e .05) {\r\n\t\t\tfloat tanAlpha \x3d sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;\t\t\t\r\n\t\t\tposView *\x3d 1.0 - .0005 - tanAlpha / viewport[2]; \r\n\t\t} \r\n\t\tvec4 posProj \x3d proj * vec4(posView, 1.0);\r\n\t\tvec4 posProjCenter \x3d matchPixelCenter(posProj, viewport.zw); \r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\t\x3csnippet name\x3d"vertexShaderShowDepth"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tattribute vec2 $position;\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\r\n\tvoid main(void) {\r\n\t\tgl_Position \x3d proj * vec4($position.x, $position.y, .0, 1.0);\r\n\t\tvtc \x3d $uv0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\t\x3csnippet name\x3d"fragmentShaderShowDepth"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D depthTex;\r\n\tvarying vec2 vtc;\r\n\t$rgba2float\r\n\tvoid main() {\r\n\t//\tgl_FragColor \x3d vec4(vec3(texture2D(depthTex, vtc).a), 1.0);\r\n\t\tgl_FragColor \x3d vec4(rgba2float(texture2D(depthTex, vtc)));\r\n\t//\tgl_FragColor \x3d texture2D(depthTex, vtc);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsUVQuad"\x3e\x3c![CDATA[\r\n\tattribute vec2 $position; \r\n\tvarying vec2 uv; \r\n\r\n\tvoid main(void) { \r\n\t\tgl_Position \x3d vec4($position.x, $position.y, .0, 1.0); \r\n\t\tuv \x3d $position * .5 + vec2(.5); \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\t\r\n\r\n\x3csnippet name\x3d"toScreenCoords"\x3e\x3c![CDATA[\r\n\tvec4 toScreenCoords(vec3 vertex) {\r\n\t\tvec4 vClipSpace \x3d proj * view * vec4((model * vec4(vertex, 1.0)).xyz, 1.0);\r\n\t\tvClipSpace.xy *\x3d screenSize;\r\n\t\treturn vClipSpace/abs(vClipSpace.w);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e\r\n\t',
"url:engine/materials/internal/SimpleGLMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderSimple"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tattribute vec3 $position;\r\n\r\n\tvoid main(void) {\r\n\t\tgl_Position \x3d proj * view * vec4((model * vec4($position, 1.0)).xyz, 1.0);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderSimpleMatchPixelCenter"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tuniform vec4 viewport;\r\n\tuniform vec3 camPos;\r\n\tattribute vec3 $position;\r\n\tattribute vec3 $normal;\r\n\t$matchPixelCenter\r\n\r\n\tvoid main(void) {\r\n\t\t$calcPosMatchPixelCenter\r\n\r\n\t\tgl_Position \x3d posProjCenter;\r\n\t\tgl_PointSize \x3d 1.0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderSimple"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec4 color;\r\n\r\n\tvoid main() {\r\n\t\tgl_FragColor \x3d color;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\x3c/snippets\x3e',
"url:engine/materials/internal/TexOnlyGLMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderTexOnly"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tattribute vec3 $position;\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\r\n\tvoid main(void) {\r\n\t\tgl_Position \x3d proj * view * vec4((model * vec4(position, 1.0)).xyz, 1.0);\r\n\t\tvtc \x3d $uv0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderTexOnly"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tuniform vec4 color;\r\n\tvarying vec2 vtc;\r\n\r\n\tvoid main() {\r\n\t\tvec4 texColor \x3d texture2D(tex, vtc);\r\n\t\tgl_FragColor \x3d texColor * color;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:engine/materials/AtmosphereMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vsAtmosphere"\x3e\x3c![CDATA[\r\n\tconst float TWICEPI \x3d 2.0*3.14159265;\r\n\tconst float ATMOSPHERE_RIM_SEGMENTS \x3d 128.0;\r\n\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\r\n\tuniform vec3 silCircleCenter;\r\n\tuniform vec3 silCircleV1;\r\n\tuniform vec3 silCircleV2;\r\n\r\n\tuniform vec2 texV;\r\n\r\n\tattribute vec3 $position;\r\n\tvarying vec2 vtc;\r\n\r\n\tvoid main(void) {\r\n\t\tfloat phi \x3d $position.x*(TWICEPI / ATMOSPHERE_RIM_SEGMENTS) + 1.0;\r\n\r\n\t\tgl_Position.xyz \x3d (sin(phi)*silCircleV1 + cos(phi)*silCircleV2 + silCircleCenter) * $position.y;\r\n\t\tgl_Position.w \x3d 1.0;\r\n\r\n\t\tgl_Position \x3d proj * view * model * gl_Position;\r\n\t\tvtc.x \x3d $position.x/ATMOSPHERE_RIM_SEGMENTS;\r\n\t\tvtc.y \x3d texV.x*(1.0 - $position.z) + texV.y*$position.z;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:engine/materials/BillboardMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderBillboard"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tattribute vec3 $position;\r\n\tattribute vec3 $normal;\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\tvarying vec3 vnormal;\r\n\tconst float size \x3d 1.05;\r\n\r\n\tvoid main(void) {\r\n\t\tvec3 pos \x3d (view * model * vec4($position, 1.0)).xyz;\r\n\t\tvec2 uv01 \x3d floor($uv0);\r\n\t\tvec2 uv \x3d $uv0 - uv01;\r\n\t\tvec3 zDir \x3d normalize(-pos);\r\n\t\tvec3 xDir \x3d normalize(cross(vec3(.0, 1.0, .0), zDir));\r\n\t\tvec3 yDir \x3d cross(zDir, xDir);\r\n\t\tpos +\x3d xDir * (uv01.x - .5) * size;\r\n\t\tpos +\x3d yDir * (uv01.y - .5) * size;\r\n\t\tvec4 pos4 \x3d proj * vec4(pos, 1.0);\r\n\t\tgl_Position \x3d pos4;\r\n\t\tvtc \x3d uv;\r\n\t\tvnormal \x3d normalize((modelNormal * vec4($normal, 1.0)).xyz);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderBillboard"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec4 lightAmbient;\r\n\tuniform vec4 lightDiffuse;\r\n\tuniform vec3 lightDirection;\r\n\tuniform sampler2D tex;\r\n\tvarying vec2 vtc;\r\n\tvarying vec3 vnormal;\r\n\r\n\tvoid main() {\r\n\t\tvec4 texColor \x3d texture2D(tex, vtc);\r\n\t\tif (texColor.a \x3c .15) discard;\r\n\t\tgl_FragColor \x3d texColor;\r\n\t\tgl_FragColor.rgb *\x3d lightAmbient.rgb * lightAmbient.w + lightDiffuse.rgb * lightDiffuse.w * dot(lightDirection, vnormal);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderBillboardDepth"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform vec2 nearFar;\r\n\tattribute vec3 $position;\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\tvarying float depth;\r\n\tconst float size \x3d 1.05;\r\n\r\n\tvoid main(void) {\r\n\t\tvec3 pos \x3d (view * model * vec4($position, 1.0)).xyz;\r\n\t\tvec2 uv01 \x3d floor($uv0);\r\n\t\tvec2 uv \x3d $uv0 - uv01;\r\n\t\tpos.x +\x3d (uv01.x - .5) * size;\r\n\t\tpos.y +\x3d (uv01.y - .5) * size;\r\n\t\tvec4 eye \x3d vec4(pos, 1.0);\r\n\t\tgl_Position \x3d proj * eye;\r\n\t\tdepth \x3d (-eye.z - nearFar[0]) / (nearFar[1] - nearFar[0]);\r\n\t\tvtc \x3d uv;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:engine/materials/HUDMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderHUD"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tuniform vec4 viewport;\r\n\tuniform vec3 camPos;\r\n\tattribute vec3 $position;\r\n\tattribute vec2 $uv0;\r\n#ifdef OCCL_PIXELSHADER\r\n \tvarying vec4 vtc;\r\n#else\r\n\tvarying vec2 vtc;\r\n\tuniform sampler2D framebufferTex;\r\n\tuniform vec3 markerColor;\r\n#endif\r\n\tuniform vec2 size;\r\n\tuniform vec2 screenOffset;\r\n\tuniform vec2 anchorPos;\r\n\tattribute vec3 $normal;\r\n\t$matchPixelCenter\r\n\t$matchPixelOrigin\r\n\r\n\tvoid main(void) {\r\n\r\n\r\n\t\t$calcPosMatchPixelCenter\r\n\r\n#ifdef OCCL_TEST\r\n\t\tif (texture2D(framebufferTex, .5 + .5 * posProjCenter.xy / posProjCenter.w).rgb \x3d\x3d markerColor) {\r\n#endif\r\n\t\t\tvec2 uv01 \x3d floor($uv0);\r\n\t\t\tvec2 uv \x3d $uv0 - uv01;\r\n\t\t\tfloat dist \x3d distance(camPos, posModel);\r\n\t\t\tposProj.xy +\x3d ((uv01 - anchorPos) * 2.0 * size + screenOffset)/ viewport.zw * posProj.w;\r\n\t\t\tvtc.xy \x3d uv;\r\n#ifdef OCCL_TEST\r\n\t\t} else {\r\n\t\t\tvtc \x3d vec2(.0);\r\n\t\t}\r\n#endif\r\n\r\n#ifdef OCCL_PIXELSHADER\r\n\tvtc.zw \x3d .5 + .5 * posProjCenter.xy / posProjCenter.w;\r\n#endif\r\n\t\tgl_Position \x3d matchPixelOrigin(posProj, viewport.zw);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderHUDworldScale"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform vec2 minMaxWorldSizeFactor;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tuniform vec4 viewport;\r\n\tuniform vec3 camPos;\r\n\tattribute vec3 $position;\r\n\tattribute vec2 $uv0;\r\n#ifdef OCCL_PIXELSHADER\r\n \tvarying vec4 vtc;\r\n#else\r\n\tvarying vec2 vtc;\r\n\tuniform sampler2D framebufferTex;\r\n\tuniform vec3 markerColor;\r\n#endif\r\n\tuniform vec2 size;\r\n\tuniform vec2 screenOffset;\r\n\tuniform vec2 anchorPos;\r\n\tuniform vec2 texScale;\r\n\tattribute vec3 $normal;\r\n\t$matchPixelCenter\r\n\t$matchPixelOrigin\r\n\r\n\tvoid main(void) {\r\n\t\t$calcPosMatchPixelCenter\r\n\r\n#ifdef OCCL_TEST\r\n\t\tif (texture2D(framebufferTex, .5 + .5 * posProjCenter.xy / posProjCenter.w).rgb \x3d\x3d markerColor) {\r\n#endif\r\n\t\t\tfloat scale \x3d 1.0;\r\n\t\t\tvec2 minMaxWorldSize \x3d distance(camPos, position)*minMaxWorldSizeFactor;\r\n\t\t\tif (minMaxWorldSize.x \x3e size.y)\r\n\t\t\t\tscale \x3d minMaxWorldSize.x / size.y;\r\n\t\t\telse if (minMaxWorldSize.y \x3e 0.0)\r\n\t\t\t\tscale \x3d min(1.0, minMaxWorldSize.y / size.y);\r\n\r\n\t\t\tvec2 uv01 \x3d floor($uv0);\r\n\t\t\tvec2 uv \x3d $uv0 - uv01;\r\n\t\t\tposView.xy +\x3d (uv01 - anchorPos) * size * scale;\r\n\t\t\tuv.y +\x3d (1.0 - texScale.y);\r\n\t\t\tvtc.xy \x3d uv;\r\n#ifdef OCCL_TEST\r\n\t\t} else {\r\n\t\t\tvtc \x3d vec2(.0);\r\n\t\t}\r\n#endif\r\n\r\n#ifdef OCCL_PIXELSHADER\r\n\tvtc.zw \x3d .5 + .5 * posProjCenter.xy / posProjCenter.w;\r\n#endif\r\n\t\tposProj \x3d proj * vec4(posView,1.0);\r\n\t\tposProj.xy +\x3d screenOffset / viewport.zw * posProj.w;\r\n\t\tgl_Position \x3d posProj;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\r\n\x3csnippet name\x3d"calcLabelDirections"\x3e\x3c![CDATA[\r\n\tvec2 uv01 \x3d floor($uv0);\r\n\tvec2 uv \x3d $uv0 - uv01;\r\n\r\n\tvec3 labelDir, labelDirOrtho;\r\n\r\n\tint isUp \x3d 0;\r\n\tvec2 vId \x3d (uv01 - vec2(.5, .5))*2.0;\r\n\r\n\tvec3 viewDirInNormalPlane \x3d normalize(camDir.xyz - dot(camDir.xyz, direction)*direction);\r\n\tfloat angleToNormal \x3d abs(dot(viewDirInNormalPlane,up));\r\n\tfloat angleToDirection \x3d abs(dot(camDir.xyz, direction));\r\n\tif (angleToDirection \x3c 0.985 \x26\x26 angleToNormal \x3c 0.500)\r\n\t{\r\n\t    if (angleToNormal \x3c 0.422) {\r\n\t\t    isUp \x3d 1;\r\n\t\t    labelDir \x3d direction;\r\n\t\t    labelDirOrtho \x3d up;\r\n\t\t    vId.y +\x3d 0.5;\r\n\t\t} else {\r\n\t\t    labelDir \x3d direction;\r\n            labelDirOrtho \x3d cross(viewDirInNormalPlane, direction);\r\n            vId.y +\x3d dot(labelDirOrtho, up)*0.5;\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tlabelDir \x3d direction;\r\n\t\tlabelDirOrtho \x3d normalize(cross(up,direction));\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderHUDdirection"\x3e\x3c![CDATA[\r\n \tuniform mat4 proj;\r\n \tuniform mat4 view;\r\n \tuniform mat4 model;\r\n \tuniform mat4 modelNormal;\r\n \tuniform vec4 viewport;\r\n \tuniform vec3 camPos;\r\n \tattribute vec3 $position;\r\n \tattribute vec2 $uv0;\r\n #ifdef OCCL_PIXELSHADER\r\n \tvarying vec4 vtc;\r\n#else\r\n\tvarying vec2 vtc;\r\n\tuniform sampler2D framebufferTex;\r\n\tuniform vec3 markerColor;\r\n#endif\r\n \tuniform vec2 size;\r\n \tuniform vec3 direction;\r\n \tuniform vec2 texScale;\r\n \tattribute vec3 $normal;\r\n \t$matchPixelCenter\r\n \t$matchPixelOrigin\r\n\r\n \tvoid main(void) {\r\n\r\n \t\t$calcPosMatchPixelCenter\r\n\r\n \t\tvec3 direction \x3d normalize(direction);\r\n \t\tvec3 up \x3d vnormal;\r\n \t\tvec3 camDir \x3d normalize(vec3(view[0][2],view[1][2],view[2][2]));\r\n\r\n #ifdef OCCL_TEST\r\n \t\tif (texture2D(framebufferTex, .5 + .5 * posProjCenter.xy / posProjCenter.w).rgb \x3d\x3d markerColor) {\r\n #endif\r\n\r\n \t\t\t$calcLabelDirections\r\n\r\n\t\t    float scale;\r\n\t\t    if (proj[2][3] !\x3d 0.0)  // perspective projection\r\n \t\t\t    scale \x3d posProj.w*0.5/viewport[2];\r\n \t\t\telse                    // othographic projection\r\n \t\t\t    scale \x3d 2.0/proj[0][0]/viewport[2];\r\n\r\n \t\t\tposModel.xyz +\x3d labelDir * vId.x * size.x * scale ;\r\n \t\t\tposModel.xyz +\x3d labelDirOrtho * vId.y * size.y * scale;\r\n\r\n \t\t\tvec4 posDirProj \x3d proj*view*model * vec4($position+direction, 1.0);\r\n \t\t\tvec4 posProjUnmodified \x3d proj*view*model * vec4($position, 1.0);\r\n \t\t\tif (posDirProj.x\x3cposProjUnmodified.x)\r\n \t\t\t{\r\n \t\t\t\tif (isUp\x3d\x3d1)\r\n \t\t\t\t\tuv.x \x3d texScale.x-uv.x;\r\n \t\t\t\telse\r\n \t\t\t\t\tuv \x3d texScale-uv;\r\n \t\t\t}\r\n \t\t\tvtc.xy \x3d uv;\r\n #ifdef OCCL_TEST\r\n \t\t} else {\r\n \t\t\tvtc \x3d vec2(.0);\r\n \t\t}\r\n #endif\r\n\r\n #ifdef OCCL_PIXELSHADER\r\n\tvtc.zw \x3d .5 + .5 * posProjCenter.xy / posProjCenter.w;\r\n#endif\r\n \t\tvec4 pos4 \x3d proj * view * vec4(posModel,1.0);\r\n \t\tgl_Position \x3d pos4;\r\n \t}\r\n ]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"vertexShaderHUDdirectionWorldScale"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform vec2 minMaxWorldSizeFactor;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tuniform vec4 viewport;\r\n\tuniform vec3 camPos;\r\n\tattribute vec3 $position;\r\n\tattribute vec2 $uv0;\r\n#ifdef OCCL_PIXELSHADER\r\n \tvarying vec4 vtc;\r\n#else\r\n\tvarying vec2 vtc;\r\n\tuniform sampler2D framebufferTex;\r\n\tuniform vec3 markerColor;\r\n#endif\r\n\tuniform vec2 size;\r\n\tuniform vec3 direction;\r\n\tuniform vec2 texScale;\r\n\tattribute vec3 $normal;\r\n\t$matchPixelCenter\r\n\t$matchPixelOrigin\r\n\r\n\tvoid main(void) {\r\n\r\n\t\t$calcPosMatchPixelCenter\r\n\r\n\t\tvec3 direction \x3d normalize(direction);\r\n\t\tvec3 up \x3d vnormal;\r\n\t\tvec3 camDir \x3d normalize(vec3(view[0][2],view[1][2],view[2][2]));\r\n\r\n#ifdef OCCL_TEST\r\n\t\tif (texture2D(framebufferTex, .5 + .5 * posProjCenter.xy / posProjCenter.w).rgb \x3d\x3d markerColor) {\r\n#endif\r\n\r\n\t\t\t$calcLabelDirections\r\n\r\n\t\t\tfloat scale \x3d 1.0;\r\n\t\t\tvec2 minMaxWorldSize \x3d minMaxWorldSizeFactor;\r\n\t\t\tif (proj[2][3] !\x3d 0.0)  // perspective projection\r\n\t\t\t\tminMaxWorldSize \x3d distance(camPos, position)*minMaxWorldSizeFactor;\r\n\t\t\tif (minMaxWorldSize.x \x3e size.y)\r\n\t\t\t\tscale \x3d minMaxWorldSize.x / size.y;\r\n\t\t\telse if (minMaxWorldSize.y \x3e 0.0)\r\n\t\t\t\tscale \x3d min(1.0, minMaxWorldSize.y / size.y);\r\n\r\n\t\t\tposModel.xyz +\x3d labelDir*vId.x*size.x*scale;\r\n\t\t\tposModel.xyz +\x3d labelDirOrtho*vId.y*size.y*scale;\r\n\r\n\t\t\tvec4 posDirProj \x3d proj*view*model * vec4($position+direction, 1.0);\r\n\t\t\tvec4 posProjUnmodified \x3d proj*view*model * vec4($position, 1.0);\r\n \t\t\tif (posDirProj.x\x3cposProjUnmodified.x)\r\n \t\t\t{\r\n \t\t\t\tif (isUp\x3d\x3d1)\r\n \t\t\t\t\tuv.x \x3d texScale.x-uv.x;\r\n \t\t\t\telse\r\n \t\t\t\t\tuv \x3d texScale-uv;\r\n \t\t\t}\r\n \t\t\tuv.y +\x3d (1.0 - texScale.y);\r\n\t\t\tvtc.xy \x3d uv;\r\n#ifdef OCCL_TEST\r\n\t\t} else {\r\n\t\t\tvtc \x3d vec2(.0);\r\n\t\t}\r\n#endif\r\n\r\n#ifdef OCCL_PIXELSHADER\r\n\tvtc.zw \x3d .5 + .5 * posProjCenter.xy / posProjCenter.w;\r\n#endif\r\n\t\tvec4 pos4 \x3d proj * view * vec4(posModel,1.0);\r\n\t\tgl_Position \x3d pos4;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"fragmentShaderHUD"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tuniform vec4 color;\r\n\tvarying vec2 vtc;\r\n\r\n\tvoid main() {\r\n\t\tgl_FragColor \x3d texture2D(tex, vtc) * color;\r\n\t\tif (gl_FragColor.a \x3c .1) discard;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderHUDoccl"\x3e\r\n\x3c![CDATA[\r\n   \tprecision mediump float;\r\n\r\n   \tuniform sampler2D tex;\r\n   \tuniform vec4 color;\r\n   \tvarying vec4 vtc;\r\n\tuniform vec3 markerColor;\r\n\tuniform sampler2D framebufferTex;\r\n\r\n   \tvoid main() {\r\n\r\n   \t\tif (texture2D(framebufferTex, vtc.zw).rgb !\x3d markerColor)\r\n   \t\t\tdiscard;\r\n\r\n   \t\tgl_FragColor \x3d texture2D(tex, vtc.xy) * color;\r\n\r\n   \t\tif (gl_FragColor.a \x3c .1) discard;\r\n   \t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:engine/materials/LeafCardMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderLeafCard"\x3e\r\n\t\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tattribute vec3 $position;\r\n\tattribute vec4 $normal;\r\n\tattribute vec4 $uv0;\r\n\tvarying vec2 vtc;\r\n\tvarying vec3 vnormal;\r\n\tvarying float ambientLeaf;\r\n\r\n\tuniform float trafoScale;\r\n\tvarying vec3 vpos;\r\n\r\n\t// TODO optimize?\r\n\tvec2 rotate(vec2 pos, float angle) {\r\n\t\tfloat c \x3d cos(angle);\r\n\t\tfloat s \x3d sin(angle);\r\n\t\treturn vec2(c * pos.x - s * pos.y, s * pos.x + c * pos.y);\r\n\t}\r\n\r\n\tvoid main(void) {\r\n\r\n\t\tvpos \x3d (model * vec4($position, 1.0)).xyz;\r\n\r\n\t\tvec3 pos \x3d (view * model * vec4($position, 1.0)).xyz;\r\n\t\tvec2 uv01 \x3d floor($uv0.xy);\r\n\t\tvec2 uv \x3d $uv0.xy - uv01;\r\n\r\n   \t\tvec2 up \x3d rotate(vec2(1,0), $uv0.z);\r\n   \t\tvec3 xDir \x3d  vec3(up.x,up.y,0.0);\r\n   \t\tvec3 yDir \x3d  vec3(-up.y,up.x,0.0);\r\n\r\n\t\tpos +\x3d xDir * (uv01.x - .5) * $uv0.w *trafoScale;\r\n\t\tpos +\x3d yDir * (uv01.y - .5) * $uv0.w *trafoScale;;\r\n\t\tvec4 pos4 \x3d proj * vec4(pos, 1.0);\r\n\t\tgl_Position \x3d pos4;\r\n\t\tvtc \x3d uv;\r\n\t\tambientLeaf \x3d normal.w;\r\n\t\tvnormal \x3d normalize((modelNormal * vec4($normal.xyz, 1.0)).xyz);\r\n\t}\r\n]]\x3e\r\n\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderLeafCard"\x3e\r\n\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec3 camPos;\r\n\r\n\tuniform vec4 lightAmbient;\r\n\tuniform vec4 lightDiffuse;\r\n\tuniform vec4 lightSpecular;\r\n\tuniform vec3 lightDirection;\r\n\r\n\tuniform vec3 ambient;\r\n\tuniform vec3 diffuse;\r\n\tuniform vec3 specular;\r\n\tuniform float shininess;\r\n\r\n\tuniform sampler2D tex;\r\n\tvarying vec2 vtc;\r\n\tvarying vec3 vnormal;\r\n\tvarying float ambientLeaf;\r\n\r\n\tvarying vec3 vpos;\r\n\r\n\tvoid main() {\r\n\t\tvec4 texColor \x3d texture2D(tex, vtc);\r\n\t\tif (texColor.a \x3c .33) discard;\r\n\r\n\t\tvec3 a \x3d ambient * lightAmbient.rgb * lightAmbient.w;\r\n\t\tvec3 d \x3d diffuse * lightDiffuse.rgb * lightDiffuse.w * clamp(dot(vnormal, lightDirection), .0, 1.0);\r\n\r\n\t\tvec3 reflDir \x3d normalize(reflect(vpos - camPos, vnormal));\r\n\t\tfloat specDot \x3d max(dot(reflDir, lightDirection), .001);\r\n\t\tvec3 s \x3d specular * lightSpecular.rgb * lightSpecular.w * pow(specDot, shininess);\r\n\r\n\t\tgl_FragColor \x3d vec4(ambientLeaf * texColor.rgb * (a + d) + s, texColor.a);\r\n\r\n\t\t//gl_FragColor \x3d vec4(ambient,1.0);\r\n\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"vertexShaderLeafCardDepth"\x3e\x3c![CDATA[\r\n   \tuniform mat4 proj;\r\n   \tuniform mat4 view;\r\n   \tuniform mat4 model;\r\n   \tuniform vec2 nearFar;\r\n\r\n   \tattribute vec3 $position;\r\n   \tattribute vec4 $uv0;\r\n\r\n   \tuniform float trafoScale;\r\n\r\n   \tvarying vec2 vtc;\r\n   \tvarying float depth;\r\n\r\n   \t// TODO optimize?\r\n   \tvec2 rotate(vec2 pos, float angle) {\r\n   \t\tfloat c \x3d cos(angle);\r\n   \t\tfloat s \x3d sin(angle);\r\n   \t\treturn vec2(c * pos.x - s * pos.y, s * pos.x + c * pos.y);\r\n   \t}\r\n\r\n   \tvoid main(void) {\r\n   \t\tvec3 pos \x3d (view * model * vec4($position, 1.0)).xyz;\r\n   \t\tvec2 uv01 \x3d floor($uv0.xy);\r\n   \t\tvec2 uv \x3d $uv0.xy - uv01;\r\n\r\n   \t\tvec2 up \x3d rotate(vec2(1,0), $uv0.z);\r\n   \t\tvec3 xDir \x3d  vec3(up.x,up.y,0.0);\r\n   \t\tvec3 yDir \x3d  vec3(-up.y,up.x,0.0);\r\n\r\n   \t\tpos +\x3d xDir * (uv01.x - .5) * $uv0.w*trafoScale;\r\n   \t\tpos +\x3d yDir * (uv01.y - .5) * $uv0.w*trafoScale;\r\n   \t\tvec4 pos4 \x3d proj * vec4(pos, 1.0);\r\n   \t\tgl_Position \x3d pos4;\r\n   \t\tvtc \x3d uv;\r\n\r\n   \t\tdepth \x3d (-pos.z - nearFar[0]) / (nearFar[1] - nearFar[0]);\r\n\r\n   \t}\r\n ]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:engine/materials/Material.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vsDefaultSrc"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tattribute vec3 $position;\r\n\tattribute vec3 $normal;\r\n\tvarying vec3 vpos;\r\n\tvarying vec3 vnormal;\r\n\r\n\tvoid main(void) {\r\n\t\tvpos \x3d (model * vec4($position, 1.0)).xyz;\r\n\t\tvnormal \x3d normalize((modelNormal * vec4($normal, 1.0)).xyz);\r\n\t\tgl_Position \x3d proj * view * vec4(vpos, 1.0);\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDefaultSrc"\x3e\x3c![CDATA[\r\n\tuniform vec3 camPos;\r\n\tuniform vec4 lightAmbient;\r\n\tuniform vec4 lightDiffuse;\r\n\tuniform vec4 lightSpecular;\r\n\tuniform vec3 lightDirection;\r\n\tuniform vec3 ambient;\r\n\tuniform vec3 diffuse;\r\n\tuniform vec3 specular;\r\n\tuniform float shininess;\r\n\tuniform float opacity;\r\n\tuniform sampler2D depthTex;\r\n\tuniform int shadowMapNum;\r\n\tuniform vec4 shadowMapDistance;\r\n\tuniform mat4 shadowMapMatrix[4];\r\n\tuniform float depthHalfPixelSz;\r\n\tuniform sampler2D ssaoTex;\r\n\tuniform vec4 viewportPixelSz;\r\n\tvarying vec3 vpos;\r\n\tvarying vec3 vnormal;\r\n\t$evalShadow\r\n\tvoid main() {\r\n\t\tvec3 a \x3d ambient * lightAmbient.rgb * lightAmbient.w;\r\n\r\n\t\tfloat shadow \x3d evalShadow(vpos, 1.0 / gl_FragCoord.w, depthTex, shadowMapNum, shadowMapDistance, shadowMapMatrix, depthHalfPixelSz);\r\n\t\tvec3 d \x3d (1.0 - shadow) * diffuse * lightDiffuse.rgb * lightDiffuse.w * clamp(dot(vnormal, lightDirection), .0, 1.0);\r\n\r\n\t\tvec3 reflDir \x3d normalize(reflect(vpos - camPos, vnormal));\r\n\t\tfloat specDot \x3d max(dot(reflDir, lightDirection), .001);\r\n\t\tvec3 s \x3d (1.0 - shadow) * specular * lightSpecular.rgb * lightSpecular.w * pow(specDot, shininess);\r\n\r\n\t\tfloat ssaoSample \x3d texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\r\n\t\tfloat ssao \x3d viewportPixelSz.w \x3c .0 ? 1.0 : ssaoSample;\r\n\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsDefault"\x3e\x3c![CDATA[\r\n\t$vsDefaultSrc\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDefault"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\t$fsDefaultSrc\r\n\t\tgl_FragColor \x3d vec4(ssao * (a + d) + s, opacity);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsDefaultTextured"\x3e\x3c![CDATA[\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\t$vsDefaultSrc\r\n\t\tvtc \x3d $uv0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDefaultTextured"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tvarying vec2 vtc;\r\n\t$fsDefaultSrc\r\n\t\tvec4 texColor \x3d texture2D(tex, vtc);\r\n\t\tif (texColor.a \x3c .33) discard;\r\n\t\tgl_FragColor \x3d vec4(ssao * texColor.rgb * (a + d) + s, texColor.a * opacity);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsDefaultAtlasTextured"\x3e\x3c![CDATA[\r\n\tuniform vec4 atlasRegions[200];\r\n\tattribute vec3 $uvw;\r\n\tvarying vec2 vtc;\r\n\tvarying vec4 region;\r\n\t$vsDefaultSrc\r\n\t\tvtc \x3d $uvw.xy;\r\n\t    int atlasVec \x3d int(floor(uvw[2] / 2.0));\r\n\t    int atlasComp \x3d int(uvw[2]) - atlasVec*2;\r\n\t    float regionU, regionV;\r\n\t    if (atlasComp \x3d\x3d 0) {\r\n\t\t\tregionU \x3d atlasRegions[atlasVec].x;\r\n\t\t\tregionV \x3d atlasRegions[atlasVec].y;\r\n\t\t} else {\r\n\t\t\tregionU \x3d atlasRegions[atlasVec].z;\r\n\t\t\tregionV \x3d atlasRegions[atlasVec].w;\r\n\t\t}\r\n\t\tregion \x3d vec4(floor(regionU)/65536.0, regionU-floor(regionU), floor(regionV)/65536.0, regionV-floor(regionV));\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDefaultAtlasTextured"\x3e\x3c![CDATA[\r\n\t#extension GL_OES_standard_derivatives : enable\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tvarying vec2 vtc;\r\n\tvarying vec4 region;\r\n\r\n\tfloat mip_map_level(in vec2 texture_coordinate) {\r\n\t    // The OpenGL Graphics System: A Specification 4.2\r\n\t    //  - chapter 3.9.11, equation 3.21\r\n\t    vec2  dx_vtc        \x3d dFdx(texture_coordinate);\r\n\t    vec2  dy_vtc        \x3d dFdy(texture_coordinate);\r\n\t    float delta_max_sqr \x3d max(dot(dx_vtc, dx_vtc), dot(dy_vtc, dy_vtc));\r\n\t    return 0.5 * log2(delta_max_sqr); // \x3d\x3d log2(sqrt(delta_max_sqr));\r\n\t}\r\n\r\n\t$fsDefaultSrc\r\n\t\tvec2 uv \x3d vtc;\r\n\t\tuv \x3d fract(uv);\r\n\t\tuv \x3d vec2(uv.x * region[1] + region[0], uv.y * region[3] + region[2]);\r\n\t\t//float bias \x3d mip_map_level(uv) - 1.0;\r\n\t\tvec4 texColor \x3d texture2D(tex, uv);\r\n\t\tif (texColor.a \x3c .33) discard;\r\n\t\tgl_FragColor \x3d vec4(ssao * texColor.rgb * (a + d) + s, texColor.a * opacity);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDefaultTexturedRefl"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tuniform sampler2D reflTex;\r\n\tuniform float reflectivity;\r\n\tvarying vec2 vtc;\r\n\r\n\t$normal2envTC\r\n\r\n\t$fsDefaultSrc\r\n\t\tvec4 texColor \x3d texture2D(tex, vtc);\r\n\t\tif (texColor.a \x3c .33) discard;\r\n\t\tvec4 reflColor \x3d texture2D(reflTex, normal2envTC(reflDir));\r\n\t\tgl_FragColor \x3d vec4(ssao * mix(texColor.rgb * (a + d), reflColor.rgb * lightAmbient.rgb*lightSpecular.w, reflectivity) + s, texColor.a * opacity);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsDepthSrc"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform vec2 nearFar;\r\n\tattribute vec3 $position;\r\n\tattribute vec3 $normal;\r\n\tvarying float depth;\r\n\r\n\tvoid main(void) {\r\n\t\tvec4 eye \x3d view * model * vec4($position, 1.0);\r\n\t\tgl_Position \x3d proj * eye;\r\n\t\tdepth \x3d (-eye.z - nearFar[0]) / (nearFar[1] - nearFar[0]) ;\r\n\t\tdepth +\x3d $normal.x * .000001; //hack to prevent performance issue in chrome\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsDepth"\x3e\x3c![CDATA[\r\n\t$vsDepthSrc\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsDepthTextured"\x3e\x3c![CDATA[\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\t$vsDepthSrc\r\n\t\tvtc \x3d $uv0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsNormalSrc"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 viewNormal;\r\n\tuniform mat4 modelNormal;\r\n\tattribute vec3 $position;\r\n\tattribute vec3 $normal;\r\n\tvarying vec3 vnormal;\r\n\r\n\tvoid main(void) {\r\n\t\tgl_Position \x3d proj * view * model * vec4($position, 1.0);\r\n\t\tvnormal \x3d normalize((viewNormal * modelNormal * vec4($normal, 1.0)).xyz);\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsNormal"\x3e\x3c![CDATA[\r\n\t$vsNormalSrc\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsNormalTextured"\x3e\x3c![CDATA[\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\t$vsNormalSrc\r\n\t\tvtc \x3d $uv0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDepthSrc"\x3e\x3c![CDATA[\r\n\tvarying float depth;\r\n\r\n\tvoid main() {\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDepth"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\t$calcFragDepth\r\n\t$float2rgba\r\n\t$fsDepthSrc\r\n\t\tgl_FragColor \x3d float2rgba(calcFragDepth(depth));\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDepthTextured"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tvarying vec2 vtc;\r\n\t$calcFragDepth\r\n\t$float2rgba\r\n\r\n\t$fsDepthSrc\r\n\t\tif (texture2D(tex, vtc).a \x3c .33) discard;\r\n\t\tgl_FragColor \x3d float2rgba(calcFragDepth(depth));\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsNormal"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tvarying vec3 vnormal;\r\n\tvoid main() {\r\n\t\tvec3 normal \x3d normalize(vnormal);\r\n\t\tif (gl_FrontFacing \x3d\x3d false) normal \x3d -normal;\r\n\t\tgl_FragColor \x3d vec4(vec3(.5) + .5 * normal, 1.0);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsNormalTextured"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tvarying vec3 vnormal;\r\n\tvarying vec2 vtc;\r\n\tuniform sampler2D tex;\r\n\tvoid main() {\r\n\t\tif (texture2D(tex, vtc).a \x3c .33) discard;\r\n\t\tvec3 normal \x3d normalize(vnormal);\r\n\t\tif (gl_FrontFacing \x3d\x3d false) normal \x3d -normal;\r\n\t\tgl_FragColor \x3d vec4(vec3(.5) + .5 * normal, 1.0);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:engine/materials/RibbonLineMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vsRibbonLine"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\r\n\tuniform float lineWidth;\r\n\r\n\tattribute vec3 $position;\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\r\n#ifndef WALL\r\n\tuniform float miterLimit;\r\n\tattribute vec3 $auxpos1;\r\n\tattribute vec3 $auxpos2;\r\n#endif\r\n\r\n#ifdef SCREENSCALE\r\n\tuniform vec2 screenSize;\r\n\t$toScreenCoords\r\n#define VECTYPE vec2\r\n#define ZEROVEC vec2(0.0, 0.0)\r\n#define PERPENDICULAR(v) vec2(v.y, -v.x);\r\n#define ISOUTSIDE (left.x * right.y - left.y * right.x)*$uv0.y \x3e 0.0\r\n\r\n#else //ifdef SCREENSCALE\r\n\r\n#define VECTYPE vec3\r\n#define ZEROVEC vec3(0.0, 0.0, 0.0)\r\n// these macros are only valid for "strip" type lines:\r\n#define PERPENDICULAR(v) cross(up/*vec3(0.0, 1.0, 0.0)*/, v)\r\n#define ISOUTSIDE dot(cross(left, right), up/*vec3(0.0, 1.0, 0.0)*/)*$uv0.y \x3c 0.0\r\n\r\n#endif //ifdef SCREENSCALE\r\n\r\n\tvoid main(void) {\r\n\r\n#ifdef SCREENSCALE\r\n\t\tvec4 pos \x3d toScreenCoords($position);\r\n\t\tvec2 left \x3d (pos - toScreenCoords($auxpos1)).xy;\r\n\t\tvec2 right \x3d (toScreenCoords($auxpos2) - pos).xy;\r\n#else // ifdef SCREENSCALE\r\n\t\tvec4 pos \x3d vec4($position, 1.0);\r\n#ifndef WALL\r\n\t\tvec3 left \x3d $position - $auxpos1;\r\n\t\tvec3 right \x3d $auxpos2 - $position;\r\n\t\tvec3 up \x3d normalize($position);\r\n#endif // ifndef WALL\r\n#endif // ifdef SCREENSCALE\r\n\r\n#ifdef WALL\r\n\t\tfloat displacementLen \x3d lineWidth;\r\n\t\tvec3 displacementDir \x3d normalize($position);//vec3(0.0, 1.0, 0.0);\r\n#else // ifdef WALL\r\n\r\n\t\tfloat leftLen \x3d length(left);\r\n\t\tleft \x3d (leftLen \x3e 0.001) ? left/leftLen : ZEROVEC;\r\n\r\n\t\tfloat rightLen \x3d length(right);\r\n\t\tright \x3d (rightLen \x3e 0.001) ? right/rightLen : ZEROVEC;\r\n\r\n\t\t// determine if vertex is on the "outside or "inside" of the join\r\n\t\tbool isOutside \x3d ISOUTSIDE;\r\n\r\n\t\t// compute miter join position first\r\n\t\tfloat displacementLen \x3d lineWidth;\r\n\t\tVECTYPE displacementDir \x3d normalize(left + right);\r\n\t\tdisplacementDir \x3d PERPENDICULAR(displacementDir);\r\n\t\tif (leftLen \x3e 0.001 \x26\x26 rightLen \x3e 0.001) {\r\n\t\t\tfloat nDotSeg \x3d dot(displacementDir, left);\r\n\t\t\tdisplacementLen /\x3d length(nDotSeg*left - displacementDir);\r\n\r\n\t\t\t// limit displacement of inner vertices\r\n\t\t\tif (!isOutside)\r\n\t\t\t\tdisplacementLen \x3d min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));\r\n\t\t}\r\n\r\n\t\tif (isOutside \x26\x26 (displacementLen \x3e miterLimit*lineWidth)) {\r\n\t\t\t// convert to bevel join if miterLimit is exceeded\r\n\t\t\tif (leftLen \x3c 0.001)\r\n\t\t\t    displacementDir \x3d right;\r\n\t\t\telse if (rightLen \x3c 0.001)\r\n\t\t\t\tdisplacementDir \x3d left;\r\n\t\t\telse\r\n\t\t\t\tdisplacementDir \x3d (abs($uv0.y) - 1.1 \x3c 0.0) ? left : right;\r\n\t\t\tdisplacementDir \x3d normalize(displacementDir);\r\n\t\t\tdisplacementDir \x3d PERPENDICULAR(displacementDir);\r\n\t\t\tdisplacementLen \x3d lineWidth;\r\n\t\t}\r\n\r\n#endif // ifdef WALL\r\n\r\n#ifdef SCREENSCALE\r\n\t\tpos.xy +\x3d displacementDir * floor($uv0.y + 0.5) * displacementLen;\r\n\t\tpos.xy /\x3d screenSize;\r\n#else\r\n\t\tpos.xyz +\x3d displacementDir * floor($uv0.y + 0.5) * displacementLen;\r\n\t\tpos \x3d proj * view * model * pos;\r\n#endif\r\n\r\n\t\tgl_Position \x3d pos;\r\n\t\tvtc \x3d $uv0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsRibbonLine"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec4 color;\r\n\tuniform float lineWidth2;\r\n\tvarying vec2 vtc;\r\n\r\n\tvoid main() {\r\n\t\tgl_FragColor \x3d color;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:engine/materials/TerrainMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vsTerrain"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform vec3 origin;\r\n\tuniform vec2 texOffset;\r\n\tuniform float texScale;\r\n\tuniform vec2 overlayTexOffset;\r\n\tuniform float overlayTexScale;\r\n\r\n\tuniform mat4 model;\r\n\r\n\tattribute vec3 $position;\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\tvarying vec2 vtcOverlay;\r\n\tvarying vec3 vpos;\r\n\tvarying vec3 vnormal;\r\n\r\n\tvoid main(void) {\r\n\t\tvpos \x3d (model * vec4($position, 1.0)).xyz; //$position;\r\n\r\n#ifdef SPHERICAL\r\n\t\tvnormal \x3d normalize(vpos + origin);\r\n#else\r\n\t\tvnormal \x3d vec3(0, 1, 0);\r\n#endif\r\n\t\tgl_Position \x3d proj * view * vec4(vpos, 1.0);\r\n\t\tvtc \x3d $uv0*texScale + texOffset;\r\n\t\tvtcOverlay \x3d $uv0*overlayTexScale + overlayTexOffset;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsTerrainCommon"\x3e\x3c![CDATA[\r\n\tuniform vec3 camPos;\r\n\tuniform vec3 lightDirection;\r\n\tuniform sampler2D depthTex;\r\n\tuniform int shadowMapNum;\r\n\tuniform vec4 shadowMapDistance;\r\n\tuniform mat4 shadowMapMatrix[4];\r\n\tuniform float depthHalfPixelSz;\r\n\tuniform sampler2D ssaoTex;\r\n\tuniform vec4 viewportPixelSz;\r\n\tuniform sampler2D tex;\r\n\tuniform sampler2D overlayTex;\r\n\r\n\tvarying vec3 vpos;\r\n\tvarying vec3 vnormal;\r\n\tvarying vec2 vtc;\r\n\tvarying vec2 vtcOverlay;\r\n\r\n\tconst vec3 ambient \x3d vec3(0.2,0.2,0.2);\r\n\tconst vec3 diffuse \x3d vec3(0.8,0.8,0.8);\r\n\tconst float diffuseHardness \x3d 2.5;\r\n\r\n\t$evalShadow\r\n\r\n\tvoid main() {\r\n\t\tvec3 a \x3d ambient;\r\n\r\n\t\tfloat shadow \x3d evalShadow(vpos, 1.0 / gl_FragCoord.w, depthTex, shadowMapNum, shadowMapDistance, shadowMapMatrix, depthHalfPixelSz);\r\n\t\tvec3 d \x3d (1.0 - shadow) * diffuse * clamp(dot(vnormal, lightDirection)*diffuseHardness, .0, 1.0);\r\n\r\n\t\tfloat ssao \x3d viewportPixelSz.w \x3c .0 ? 1.0 : texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\r\n\r\n\t\tvec3 texCol \x3d texture2D(tex, vtc).rgb;\r\n\t\tvec4 overlayTexCol \x3d texture2D(overlayTex, vtcOverlay);\r\n\t\ttexCol \x3d mix(texCol, overlayTexCol.rgb, overlayTexCol.a);\r\n\t\tgl_FragColor \x3d vec4(texCol * (a + d) * ssao, 1.0);\r\n\r\n\t// closing } is missing here\r\n\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsTerrainTileBorders"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n#extension GL_OES_standard_derivatives : enable\r\n\tuniform vec2 texOffset;\r\n\tuniform float texScale;\r\n\r\n\t$fsTerrainCommon\r\n\r\n\t\tvec2 onePixel \x3d vec2(fwidth(vtc.x), fwidth(vtc.y));\r\n\t\tvec2 borderMin \x3d texOffset + onePixel;\r\n\t\tvec2 borderMax \x3d texOffset + texScale - onePixel;\r\n\t\tfloat whitex \x3d max(1. - smoothstep(texOffset.x, borderMin.x, vtc.x), smoothstep(borderMax.x, texOffset.x + texScale, vtc.x));\r\n\t\tfloat whitey \x3d max(1. - smoothstep(texOffset.y, borderMin.y, vtc.y), smoothstep(borderMax.y, texOffset.y + texScale, vtc.y));\r\n\t\tgl_FragColor \x3d mix(gl_FragColor, vec4(1., 1., 1., 1.), max(whitex, whitey));\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsTerrain"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\t$fsTerrainCommon\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:engine/materials/WaterMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderWater"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tattribute vec3 $position;\r\n\tvarying vec3 vpos;\r\n\r\n\tvoid main(void) {\r\n\t\tvpos \x3d (model * vec4($position, 1.0)).xyz;\r\n\t\tgl_Position \x3d proj * view * vec4(vpos, 1.0);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderWater"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec3 color;\r\n\tuniform float scale;\r\n\tuniform float speed;\r\n\r\n\tuniform vec4 lightAmbient;\r\n\tuniform vec4 lightDiffuse;\r\n\tuniform vec4 lightSpecular;\r\n\tuniform vec3 lightDirection;\r\n\r\n\tuniform vec3 camPos;\r\n\r\n\tuniform sampler2D noiseTex;\r\n\tuniform sampler2D reflTex;\r\n\r\n\tuniform sampler2D depthTex;\r\n\tuniform int shadowMapNum;\r\n\tuniform vec4 shadowMapDistance;\r\n\tuniform mat4 shadowMapMatrix[4];\r\n\tuniform float depthHalfPixelSz;\r\n\r\n\tvarying vec3 vpos;\r\n\r\n\t$evalShadow\r\n\r\n\t$normal2envTC\r\n\r\n\t// TODO optimize?\r\n\tvec2 rotate(vec2 pos, float angle) {\r\n\t\tfloat c \x3d cos(angle);\r\n\t\tfloat s \x3d sin(angle);\r\n\t\treturn vec2(c * pos.x - s * pos.y, s * pos.x + c * pos.y);\r\n\t}\r\n\r\n\tfloat compDelta(vec2 pos) {\r\n\t\tconst float PI_THIRD \x3d 1.04719755;\r\n\r\n\t\tfloat result \x3d .0;\r\n\t\tfloat s \x3d 1.0;\r\n\t\tfor (int i \x3d 0; i \x3c 6; ++i) {\r\n\t\t\tvec2 tc \x3d pos / (20.0 * s);\r\n\t\t\ttc +\x3d rotate(vec2(1.0 + speed, .0), PI_THIRD * float(i));\r\n\t\t\tresult +\x3d s * texture2D(noiseTex, tc).r;\r\n\t\t\ts *\x3d 1.5;\r\n\t\t}\r\n\t\treturn result * scale * .2;\r\n\t}\r\n\r\n\tvoid main() {\r\n\t\tvec3 viewVec \x3d normalize(camPos - vpos);\r\n\r\n\t\tfloat d0 \x3d compDelta(vpos.xz);\r\n\t\tfloat dx \x3d compDelta(vpos.xz + vec2(.05, .0));\r\n\t\tfloat dz \x3d compDelta(vpos.xz + vec2(.0, .05));\r\n\r\n\t\tvec3 normal \x3d normalize(vec3(d0 - dx, .05, d0 - dz));\r\n\r\n\t\tfloat fresnel \x3d clamp(1.0 - 1.25 * dot(viewVec, normal), .0, 1.0);\r\n\r\n\t\tfloat shadow \x3d evalShadow(vpos, 1.0 / gl_FragCoord.w, depthTex, shadowMapNum, shadowMapDistance, shadowMapMatrix, depthHalfPixelSz);\r\n\r\n\t\tvec3 reflDir \x3d reflect(-viewVec, normal);\r\n\t\tif (reflDir.y \x3c .02) reflDir.y \x3d 0.04 - reflDir.y;\r\n\r\n\t\tvec3 reflCol \x3d texture2D(reflTex, normal2envTC(reflDir)).rgb * lightAmbient.rgb*lightSpecular.w;\r\n\t\treflCol *\x3d .5 + max(lightDirection.y, .0) * .5; // ?\t+\r\n\t\tvec3 waterColor \x3d color * (lightAmbient.rgb * lightAmbient.w + (1.0 - shadow) * max(lightDirection.y, .0) * lightDiffuse.rgb * lightDiffuse.w);\r\n\t\tvec3 finalColor \x3d mix(waterColor, reflCol, .15 + .6 * fresnel);\r\n\r\n\t\tvec3 spec \x3d pow(max(dot(reflDir, lightDirection), .001), 80.0) * lightSpecular.rgb * lightSpecular.w * 2.0;\r\n\t\tfinalColor +\x3d (1.0 - shadow) * lightDiffuse.w * spec;\r\n\r\n\t\tgl_FragColor \x3d vec4(finalColor, 1.0);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:engine/materials/internal/ssao.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"createFsSSAOSrc"\x3e\x3c![CDATA[\r\n\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D rnm;\r\n\tuniform sampler2D normalMap;\r\n\tuniform sampler2D depthMap;\r\n\tuniform float\t\tssaoAtt;\r\n\tuniform vec2\t\trnmScale;\r\n\tuniform float\t\tradius;\r\n\tuniform vec2\t\tnearFar;\r\n\tuniform vec3\t\tpSphere[64];\r\n\r\n\tvarying vec2\t\tuv;\r\n\r\n\tconst\tint\t\t samples \x3d\t$samples;\r\n\tconst\tfloat\t\tstrength \x3d .07;\r\n\tconst\tfloat\t\tfalloff \x3d .000002;\r\n\r\n\t$rgba2float\r\n\tvoid main(void) {\r\n\t\tvec3 fres \x3d normalize((texture2D(rnm, uv * rnmScale).xyz * 2.0) - vec3(1.0));\r\n\t\tfloat currentPixelDepth \x3d rgba2float(texture2D(depthMap, uv));\r\n\t\tvec3 ep \x3d vec3(uv.xy, currentPixelDepth);\r\n\t\tvec3 norm \x3d vec3(-1.0) + 2.0 * texture2D(normalMap, uv).xyz;\r\n\t\tfloat bl \x3d .0;\r\n\t\tfloat f \x3d mix(nearFar.x, nearFar.y, currentPixelDepth) / nearFar.x;\r\n\t\tfloat radD \x3d radius / f;\r\n\t\tradD \x3d min(radD, .5);\r\n\t\tfloat depthDifference;\r\n\t\tvec3 ray;\r\n\r\n\t\tfor(int i \x3d 0; i \x3c samples; ++i) {\r\n\t\t\tray \x3d radD*reflect(pSphere[i], fres);\r\n\t\t\tvec2 tc \x3d ep.xy + sign(dot(ray, norm) ) * ray.xy;\r\n\t\t\tif (tc.x \x3e\x3d .0 \x26\x26 tc.y \x3e\x3d .0 \x26\x26 tc.x \x3c\x3d 1.0 \x26\x26 tc.y \x3c\x3d 1.0) {\r\n\t\t\t\tfloat occluderDepth \x3d rgba2float(texture2D(depthMap, tc));\r\n\t\t\t\tvec3 occluderNormal \x3d vec3(-1.0) + 2.0 * texture2D(normalMap, tc).xyz;\r\n\t\t\t\tdepthDifference \x3d currentPixelDepth - occluderDepth;\r\n\t\t\t\tbl +\x3d step(falloff, depthDifference) * (1.0 - dot(occluderNormal, norm)) * (1.0 - smoothstep(falloff, strength, depthDifference));\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tfloat ao \x3d 1.0 + bl * (-1.38 / float(samples)) * ssaoAtt;\r\n\t\tgl_FragColor.a \x3d ao;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\r\n\x3csnippet name\x3d"fsBlurSrc0"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tuniform float blurSize;\r\n\tvarying vec2 uv;\r\n\r\n\tvoid main() {\r\n\t\tint rad \x3d RADIUS - 1;\r\n\r\n\t\tvec4 sum \x3d vec4(0.0);\r\n\t\tfor (int k \x3d -RADIUS; k \x3c\x3d RADIUS; ++k) { \t\t// NOTE for-variable-init must be a const expression\r\n\t\t\tfloat fi \x3d float(k);\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsBlurSrc1"\x3e\x3c![CDATA[\r\n\t\t}\r\n\r\n\t\tgl_FragColor \x3d sum / float(RADIUS * RADIUS);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsBlurH"\x3e\x3c![CDATA[\r\n\t$fsBlurSrc0\r\n\t\t\tsum +\x3d texture2D(tex, vec2(uv.x + fi * blurSize, uv.y)) * (float(rad) - abs(fi) + 1.0);\r\n\t$fsBlurSrc1\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsBlurV"\x3e\x3c![CDATA[\r\n\t$fsBlurSrc0\r\n\t\t\tsum +\x3d texture2D(tex, vec2(uv.x, uv.y + fi * blurSize)) * (float(rad) - abs(fi) + 1.0);\r\n\t$fsBlurSrc1\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/form/templates/VerticalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderV" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"leftDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderDecorationC" style\x3d"height:100%;"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3ccenter class\x3d"dijitReset dijitSliderBarContainerV" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c!--#5629--\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,rightDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"*now":function(G){G(['dojo/i18n!*preload*dojo/nls/dojo*["ar","az","bs","bg","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","et","fi","fi-fi","fr","fr-fr","he","he-il","hi","hr","hu","id","it","it-it","ja","ja-jp","kk","ko","ko-kr","lt","lv","nl","nl-nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh","zh-tw","zh-cn","ROOT"]'])}}});(function(){var G=this.require;G({cache:{}});!G.async&&G(["dojo"]);G.boot&&G.apply(null,G.boot)})();