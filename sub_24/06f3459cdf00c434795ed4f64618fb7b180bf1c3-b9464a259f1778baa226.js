(self.webpackChunkafd_site=self.webpackChunkafd_site||[]).push([[1372],{21732:function(e){"use strict";e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a `string`, got `".concat(typeof e,"`"));return!/^[a-zA-Z]:\\/.test(e)&&/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}},27443:function(e,t,r){"use strict";var n=r(21732);e.exports=function(e){return!n(e)}},9004:function(e,t,r){"use strict";r.d(t,{_Q:function(){return i},iD:function(){return a}});var n=r(37273);function i(e,t){var r="".concat((0,n.bw)(e).replace("/rest/services","/rest/admin/services"),"/addToDefinition");return t.params=Object.assign({addToDefinition:{}},t.params),t.layers&&t.layers.length>0&&(t.params.addToDefinition.layers=t.layers),t.tables&&t.tables.length>0&&(t.params.addToDefinition.tables=t.tables),(0,n.WY)(r,t)}r(39752);function a(e,t){var r="".concat((0,n.bw)(e).replace("/rest/services","/rest/admin/services"),"/updateDefinition");return t.params=Object.assign({updateDefinition:{}},t.params),t.updateDefinition&&(t.params.updateDefinition=t.updateDefinition),(0,n.WY)(r,t)}},16269:function(e,t,r){"use strict";r.d(t,{L:function(){return i}});var n=r(26597),i=[{label:"Geocoding",domain:"geocode",path:"/arcgis/rest/services/World/GeocodeServer",documentation:"https://developers.arcgis.com/rest/geocode/api-reference/overview-world-geocoding-service.htm",privileges:n.Z.GEOCODE},{label:"Routing and Directions",domain:"route",path:"/arcgis/rest/services/World/Route/NAServer/Route_World",documentation:"https://developers.arcgis.com/rest/network/api-reference/route-synchronous-service.htm",privileges:n.Z.NETWORK_ANALYSIS},{label:"Routing and Directions (Async)",domain:"logistics",path:"/arcgis/rest/services/World/Route/GPServer",documentation:"https://developers.arcgis.com/rest/network/api-reference/route-asynchronous-service.htm",privileges:n.Z.NETWORK_ANALYSIS},{label:"Routing Utilities",domain:"logistics",path:"/arcgis/rest/services/World/Utilities/GPServer",documentation:"https://developers.arcgis.com/rest/network/api-reference/gettoolinfo-synchronous-task.htm",privileges:n.Z.NETWORK_ANALYSIS},{label:"Traffic Layer",domain:"traffic",path:"/arcgis/rest/services/World/Traffic/MapServer",documentation:"https://developers.arcgis.com/rest/network/api-reference/traffic-service.htm",privileges:n.Z.NETWORK_ANALYSIS},{label:"Service Area",domain:"route",path:"/arcgis/rest/services/World/ServiceAreas/NAServer/ServiceArea_World",documentation:"https://developers.arcgis.com/rest/network/api-reference/service-area-synchronous-service.htm",privileges:n.Z.NETWORK_ANALYSIS},{label:"Service Area (Async)",domain:"logistics",path:"/arcgis/rest/services/World/ServiceAreas/GPServer/GenerateServiceAreas",documentation:"https://developers.arcgis.com/rest/network/api-reference/service-area-asynchronous-service.htm",privileges:n.Z.NETWORK_ANALYSIS},{label:"Closest Facility",domain:"route",path:"/arcgis/rest/services/World/ClosestFacility/NAServer/ClosestFacility_World",documentation:"https://developers.arcgis.com/rest/network/api-reference/closest-facility-synchronous-service.htm",privileges:n.Z.CLOSEST_FACILITY},{label:"Closest Facility (Async)",domain:"logistics",path:"/arcgis/rest/services/World/ClosestFacility/GPServer/FindClosestFacilities",documentation:"https://developers.arcgis.com/rest/network/api-reference/closest-facility-asynchronous-service.htm",privileges:n.Z.CLOSEST_FACILITY},{label:"Location Allocation",domain:"logistics",path:"/arcgis/rest/services/World/LocationAllocation/GPServer",documentation:"https://developers.arcgis.com/rest/network/api-reference/location-allocation-service.htm)",privileges:n.Z.LOCATION_ALLOCATION},{label:"Vehicle Routing Problem",domain:"logistics",path:"/arcgis/rest/services/World/VehicleRoutingProblemSync/GPServer/EditVehicleRoutingProblem",documentation:"https://developers.arcgis.com/rest/network/api-reference/vehicle-routing-problem-service.htm",privileges:n.Z.VEHICLE_ROUTING},{label:"Vehicle Routing Problem (Async)",domain:"logistics",path:"/arcgis/rest/services/World/VehicleRoutingProblem/GPServer/SolveVehicleRoutingProblem",documentation:"https://developers.arcgis.com/rest/network/api-reference/vehicle-routing-problem-service.htm",privileges:n.Z.VEHICLE_ROUTING},{label:"Origin Destination Cost Matrix",domain:"logistics",path:"/arcgis/rest/services/World/OriginDestinationCostMatrix/GPServer",documentation:"https://developers.arcgis.com/rest/network/api-reference/origin-destination-cost-matrix-service.htm",privileges:n.Z.ORIGIN_DESTINATION_COST_MATRIX},{label:"Demographics and Geoenrichment",domain:"geoenrich",path:"/arcgis/rest/services/World/GeoenrichmentServer",documentation:"https://developers.arcgis.com/rest/geoenrichment/api-reference/geoenrichment-service-overview.htm",privileges:n.Z.GEOENRICHMENT},{label:"ElevationSync",domain:"elevation",path:"/arcgis/rest/services/Tools/ElevationSync/GPServer",documentation:"https://developers.arcgis.com/rest/elevation/api-reference/get-started-with-elevation-services.htm",privileges:n.Z.ELEVATION},{label:"Elevation Analysis",domain:"elevation",path:"/arcgis/rest/services/Tools/Elevation/GPServer",documentation:"https://developers.arcgis.com/rest/elevation/api-reference/get-started-with-elevation-services.htm",privileges:n.Z.ELEVATION},{label:"Hydrology",domain:"hydro",path:"/arcgis/rest/services/Tools/Hydrology/GPServer",documentation:"https://developers.arcgis.com/rest/elevation/api-reference/get-started-with-elevation-services.htm",privileges:n.Z.ELEVATION}]},67705:function(e,t,r){"use strict";var n=r(27378),i=r(50855);t.Z=function(e){var t=e.children,r=e.to,a=e.href,o=e.iconStart,s=e.iconEnd,c=e.appearance,l=e.color,u=e.state,p=e.scale,d=void 0===p?"m":p,m=e.openNewTab;return n.createElement("calcite-button",{"icon-start":o,"icon-end":s,appearance:c||"transparent",color:l||"blue",href:r||a,target:m?"_blank":null,rel:m?"noopener noreferrer":null,scale:d,onClick:function(e){r&&!a&&(e.preventDefault(),(0,i.navigate)(r,{state:u}))}},t)}},18150:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(27791),i=r(50824),a=r.n(i),o=r(27378),s=r(50855),c=r(45449),l=r(30888),u=r(71884),p=r(37620),d=r(72173),m=function(e){var t=(0,u.i)(e),r=t.itemType,i=t.itemTypeLabel,m=e.create,f=e.children,v=(0,l.aF)(),y=v.userSession,h=v.user,b=(0,o.useState)(!1),g=b[0],E=b[1],S=(0,c.cI)({mode:"onBlur",defaultValues:{title:"",description:""}}),w=S.handleSubmit,O=S.reset,T=(0,o.useState)(!1),x=T[0],A=T[1],I=(0,l.MZ)().addAlert,P=(0,o.useRef)(null),k=(0,p.t)("CreateItem"),D=(0,p.t)("CreateItemForm");if(!r)throw new Error("itemType prop is required since it cannot be found by useMatch");if(!f||Array.isArray(f)||"button"!==f.type&&"calcite-button"!==f.type)throw new Error("Children must be a single button or calcite-button");var L=o.cloneElement(f,{onClick:function(){A(!0)}});function C(){var e;A(!1),O(),null===(e=P.current)||void 0===e||e.reset()}function F(e){return N.apply(this,arguments)}function N(){return(N=(0,n.Z)(a().mark((function e(t){var n,o,c,l,p,f,v,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,o=t.description,c=void 0===o?"":o,E(!0),e.prev=2,l={title:n,description:c,authentication:y},r===u._Q.API_KEYS&&(l.privileges=(0,d.x1)((null==h?void 0:h.privileges)||[],null==h||null===(p=h.subscription)||void 0===p?void 0:p.isDeveloperAccount,null==h||null===(f=h.subscription)||void 0===f?void 0:f.isOrganization)),e.next=7,m(l);case 7:v=e.sent,b=v.itemId,E(!1),C(),(0,s.navigate)("/"+r+"/"+b),I({title:i.sentenceCase+" created.",color:"green"}),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0),E(!1),I({title:"An error occurred.",color:"red",overModal:!0});case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}return o.createElement(o.Fragment,null,L,o.createElement(l.d3,{active:x,labelledBy:k,onClose:C},o.createElement("h3",{slot:"header",id:k},"Create new ",i.lowerCase),o.createElement("div",{slot:"content"},o.createElement(c.RV,S,o.createElement("form",{id:D,name:"createForm",ref:P,onSubmit:w(F)},o.createElement(l.sp,{name:"title",label:"Title",rules:{required:"Title is required."}}),o.createElement(l.sp,{name:"description",label:"Description",rules:null}),o.createElement("button",{className:"create-item-module--hidden--gInjp",type:"submit"})))),o.createElement("calcite-button",{slot:"secondary",width:"full",appearance:"outline",color:"neutral",onClick:C},"Cancel"),o.createElement("calcite-button",{slot:"primary",type:"submit",width:"full",loading:g||null,form:D,onClick:w(F)},"Create ",i.lowerCase)))}},7483:function(e,t,r){"use strict";var n=r(27791),i=r(50824),a=r.n(i),o=r(27378),s=r(50855),c=r(44513),l=r(30888),u=r(39752),p=r(71884),d=r(37620),m=r(77133),f=["button","calcite-button","CalciteButton"];t.Z=function(e){var t,r,i=(0,c.useQueryClient)(),v=(0,p.i)(e),y=v.itemType,h=v.itemId,b=v.itemTypeLabel,g=v.isOnItemPage,E=e.children,S=e.isProtected,w=e.hideWhenProtected,O=void 0===w||w,T=e.type,x=(0,o.useContext)(l.a4).userSession,A=(0,o.useState)(!1),I=A[0],P=A[1],k=(0,o.useState)(!1),D=k[0],L=k[1],C=(0,l.MZ)().addAlert,F=(0,d.t)("DeleteItem"),N=(0,p.JH)(h,["Service2Service"],"forward","Feature Service"===T).relatedItems;if(!h)throw new Error("itemId prop is required since it cannot be found by useMatch");if(!y)throw new Error("itemType prop is required since it cannot be found by useMatch");var R=(null===(t=E.type)||void 0===t||null===(r=t.render)||void 0===r?void 0:r.displayName)||E.type;if(!E||Array.isArray(E)||-1===f.indexOf(R))throw new Error('The "children" property must one of the following elements: '+f.join(", ")+'. Received "'+R+'"');var _=o.cloneElement(E,{onClick:function(){L(!0)},disabled:S||null});function G(){L(!1)}function Z(){return(Z=(0,n.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,(0,u.cl)({id:h,authentication:x});case 4:P(!1),G(),i.refetchQueries(y),t=g?"/"+y:"",(0,s.navigate)(t,{state:{deletedItemId:h}}),C({title:b.sentenceCase+" deleted.",color:"green"}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),r=e.t0,P(!1),"CONT_0048"===r.code?C({title:"Delete protection enabled",message:"This "+b.lowerCase+" has delete protection enabled. You can disable delete protection in settings.",linkText:"Go to settings",href:"/"+y+"/"+h+"/settings",color:"red",overModal:!0}):(console.error(r),C({title:"An error occurred.",color:"red",overModal:!0}));case 17:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return S&&O?null:o.createElement(o.Fragment,null,_,o.createElement(l.d3,{active:D,labelledBy:F,onClose:G},"Feature Service"===T&&N.length>0?o.createElement(o.Fragment,null,o.createElement("h3",{slot:"header",id:F},"Unable to delete layer"),o.createElement("div",{slot:"content"},"This layer cannot be deleted until these dependent layers are deleted:",o.createElement("ul",null,N.map((function(e){return o.createElement("li",{key:e.id},o.createElement("a",{href:"/layers/"+e.id},e.title)," ",o.createElement("span",null,"(",e.type.replace("Service","Layer"),")"))})))),o.createElement(m.ln,{id:"closeLayerModal",slot:"primary",type:"button",width:"full",onClick:G},"Close")):o.createElement(o.Fragment,null,o.createElement("h3",{slot:"header",id:F},"Delete ",b.titleCase),o.createElement("div",{slot:"content"},o.createElement("p",null,"Are you sure you want to delete this ",b.lowerCase,"?")),o.createElement(m.ln,{id:"cancelDelete"+b.titleCase,slot:"secondary",width:"full",appearance:"outline",color:"neutral",onClick:G},"Cancel"),o.createElement(m.ln,{id:"confirmDelete"+b.titleCase,slot:"primary",type:"button",width:"full",loading:I||null,onClick:function(){return Z.apply(this,arguments)}},"Delete ",b.titleCase))))}},88227:function(e,t,r){"use strict";var n=r(27378),i=r(13106),a=r(30888),o=function(){return n.createElement(n.Fragment,null,"Use API keys to access ",n.createElement(a.Rh,{term:"location service"},"location services")," and premium content in your applications. Learn more about using ",n.createElement("a",{href:"/documentation/mapping-apis-and-services/security/api-keys/"},"API keys")," to access services in the"," ",n.createElement("a",{href:"/documentation/mapping-apis-and-services/"},"Mapping APIs and location services guide"),".")},s=function(){return n.createElement(n.Fragment,null,"Application definitions are used to authenticate ArcGIS users, work with user content, and access"," ",n.createElement(a.Rh,{term:"location service"},"location services")," on behalf of authenticated users. Learn more about creating and using"," ",n.createElement("a",{href:"/documentation/mapping-apis-and-services/security/oauth-2.0/"},"OAuth 2.0 applications")," in the"," ",n.createElement("a",{href:"/documentation/mapping-apis-and-services/"},"Mapping APIs and location services guide"),".")},c=function(){return n.createElement(n.Fragment,null,"Use ",n.createElement(a.Rh,{term:"layer"},"layers")," to store, style, and render data for use in your applications. Learn more about"," ",n.createElement("a",{href:"/documentation/mapping-apis-and-services/maps/data-layers/"},"how to use layers")," and"," ",n.createElement("a",{href:"/documentation/mapping-apis-and-services/data-hosting/"},"how to manage and host your data")," in the"," ",n.createElement("a",{href:"/documentation/mapping-apis-and-services/"},"Mapping APIs and location services guide"),".")};t.Z=function(e){var t=e.type;return n.createElement(i.V2,null,n.createElement(i.V2.When,{condition:"api-keys"===t},n.createElement(o,null)),n.createElement(i.V2.When,{condition:"applications"===t},n.createElement(s,null)),n.createElement(i.V2.When,{condition:"layers"===t},n.createElement(c,null)))}},67307:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(27378),i="item-empty-state-module--caption--6RHaZ",a="item-empty-state-module--container--N8OdX",o="item-empty-state-module--new-link--21aWD",s=r(30888),c=r(18150),l=r(40867),u=r(71884),p=r(72173),d=function(){return n.createElement("div",{id:"noApiKeysMessage",className:a},n.createElement(s.JO,{icon:"qtdevelopertools",set:"meridian",size:48}),n.createElement("h2",{className:i},"You don't have any API keys."),n.createElement(c.Z,{create:p.Qd,itemType:u._Q.API_KEYS},n.createElement("button",{id:"createNewApiKey",className:o},"Create your first API key")),".")},m=function(){return n.createElement("div",{id:"noApplicationsMessage",className:a},n.createElement(s.JO,{icon:"qtdevelopertools",set:"meridian",size:48}),n.createElement("h2",{className:i},"You don't have any applications."),n.createElement(c.Z,{create:l.W3,itemType:u._Q.APPLICATIONS},n.createElement("button",{id:"createNewApplication",className:o},"Create your first application")),".")},f=function(){return n.createElement("div",{id:"noLayersMessage",className:a},n.createElement(s.JO,{icon:"arcgis",set:"meridian",size:48}),n.createElement("h2",{className:i},"You don't have any layers."),n.createElement("p",{className:"item-empty-state-module--subcaption--o3183"},"Layers are used to store and render data for use in your applications. Try the"," ",n.createElement("a",{id:"featureLayerTutorialLink",href:"/documentation/mapping-apis-and-services/data-hosting/tutorials/tools/create-a-new-feature-layer/"},"create a new feature layer tutorial")," ","or"," ",n.createElement("a",{id:"importDataTutorialLink",href:"/documentation/mapping-apis-and-services/data-hosting/tutorials/tools/import-data-as-a-feature-layer/"},"import your data tutorial")," ","to learn how to create your first layer."))},v=function(e){var t=e.type,r=e.icon,i=e.caption;switch(t){case"api-keys":return n.createElement(d,null);case"applications":return n.createElement(m,null);case"layers":return n.createElement(f,null);default:return n.createElement("div",{className:a},r||n.createElement(s.JO,{icon:"qtdevelopertools",set:"meridian",size:48}),n.createElement("p",{className:i},i))}}},87505:function(e,t,r){"use strict";var n=r(27791),i=r(50824),a=r.n(i),o=r(27378),s=r(30888),c=r(71884),l=r(44513);t.Z=function(e){var t=(0,l.useQueryClient)(),r=(0,c.i)(e),i=r.itemId,u=r.itemTypeLabel,p=(0,s.aF)(),d=p.userSession,m=p.user,f=(0,o.useState)(!1),v=f[0],y=f[1],h=(0,o.useState)(!1),b=h[0],g=h[1],E=(0,s.MZ)().addAlert,S=(0,c.Yv)(),w=S.items,O=S.status,T=w.map((function(e){return e.id})).indexOf(i)>-1;(0,o.useEffect)((function(){y(T)}),[T]);var x=function(){var e=(0,n.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&"loading"!==O&&!b){e.next=2;break}return e.abrupt("return");case 2:return g(!0),y(!v),r=v?c.mA:c.Vx,e.prev=5,e.next=8,r(i,m.favoritesGroupId,d);case 8:t.refetchQueries("favorites"),g(!1),E({title:v?u.sentenceCase+" removed from favorites.":u.sentenceCase+" added to favorites.",color:"green"}),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(5),g(!1),y(v),console.error(e.t0),E({title:"An error occurred.",color:"red"});case 19:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}();return o.createElement("calcite-button",{"icon-start":v?"starF":"star",appearance:"transparent",onClick:x,label:v?"Remove "+u.lowerCase+" from favorites.":"Add "+u.lowerCase+" to favorites."})}},89766:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(27378),i=r(13106),a=r(30888),o=r(37122),s=r(6057),c=r(50451),l=r.n(c),u=r(93),p=r.n(u),d=r(29176),m=r.n(d),f=r(81541),v=r.n(f),y=r(76556),h=function(e){var t=e.access;return"private"===t?n.createElement("span",null,n.createElement(a.JO,{icon:l(),size:16})," Private (Authentication required)"):"org"===t?n.createElement("span",null,n.createElement(a.JO,{icon:p(),size:16})," Shared (Authentication required)"):n.createElement("span",null,n.createElement(a.JO,{icon:m(),size:16})," Public (No authentication required)")},b=function(e){var t=e.type,r=e.url,i=e.tileUrl,o=e.styleUrl,s=e.label,c=e.layers;if(!r)return null;if("Vector Tile Style"===t)return n.createElement(a.v$,{label:s,value:o,mode:"value-with-button"});var l=function(e){return e.length-(e.indexOf("rest/services")+"rest/services".length)};return"Feature Service"===t&&c?c.map((function(e){var t;return n.createElement(a.v$,{key:e.name,label:(null===(t=e.geometryType)||void 0===t?void 0:t.label)+" Layer URL",value:e.url,mode:"value-with-button",showFinalChars:l(e.url)})})):n.createElement(n.Fragment,null,n.createElement(a.v$,{label:s,value:r,mode:"value-with-button",showFinalChars:l(r)}),i?n.createElement(a.v$,{label:"Tile URL",value:i,mode:"value-with-button",showFinalChars:l(i)}):null)},g=function(e){var t,r=e.item,c=e.hideExtraDetails,l=e.isOverview,u=r.access,p=r.snippet,d=r.id,m=r.type,f=r.url,g=r.created,E=r.modified,S=r.size,w=(0,o.x3)(f,m).data,O=(0,o.dK)(f,m);if(!O)return null;var T="Vector Tile Style"===O.type?(0,o.z)(d):null,x="GeoJson"===O.type?(0,o.mP)(d):null;return n.createElement("div",{className:"layer-details-module--container---UICy"},n.createElement("p",{className:"layer-details-module--layer-snippet--993Yl"},p||"No summary."),n.createElement("div",{className:"layer-details-module--subdetails--4f6AX"},n.createElement("span",{className:(0,i.AK)((t={},t["layer-details-module--list-term--Ac8FM"]=!l,t))},n.createElement(a.JO,{icon:O.icon,size:16})," ",O.term?n.createElement(a.Rh,{term:O.term},O.label):O.label),c?null:n.createElement(n.Fragment,null,n.createElement("span",null,n.createElement(a.JO,{icon:v(),size:16})," Created ",(0,s.i)(g)),n.createElement(h,{access:u}),n.createElement("span",null,n.createElement(a.JO,{icon:v(),size:16})," Modified ",(0,s.i)(E)),n.createElement("span",null,"Size: ",(0,y.zN)(S).valueWithUnit))),n.createElement(a.v$,{label:"Item ID",value:d,mode:"value-with-button"}),w&&n.createElement(b,{type:O.type,layers:w.layers,url:"GeoJson"===O.type?x:f,tileUrl:w.tileUrl,styleUrl:T,label:O.urlLabel}))}},9923:function(e,t,r){"use strict";var n=r(27378),i=r(17833),a=r(13106),o=r(71884),s=r(6252),c=r(6057),l=r(7483),u=r(87505),p=r(67705);t.Z=function(e){var t,r=(0,o.i)(e),d=r.itemType,m=r.itemTypeLabel,f=r.isOnListView,v=e.item,y=e.children,h=e.links,b=void 0===h?[]:h,g=v.title,E=v.id,S=v.type,w=v.modified,O=v.protected;return n.createElement("div",{className:(0,a.AK)(i.qb,(t={},t[i.VQ]=!f,t))},f?n.createElement("div",{className:i.GD},n.createElement(u.Z,{itemId:E})):null,n.createElement("div",null,n.createElement("div",{className:i.Fs},n.createElement("h2",{className:i.qP},n.createElement(s.Z,{to:"/"+d+"/"+E,state:{title:g},className:i.p4},g),n.createElement("span",{className:i.Xq},"Modified ",(0,c.$)(w))),n.createElement("div",{className:i.v_},b.filter(Boolean).map((function(e){var t=e.label,r=e.url,i=e.icon,a=e.external;return n.createElement(p.Z,{key:t+r,to:a?null:"/"+d+"/"+E+"/"+r,href:a?r:null,iconStart:i,color:"neutral",openNewTab:a},t)})),f&&n.createElement(l.Z,{itemId:E,itemType:d,isProtected:O,type:S},n.createElement("calcite-button",{"icon-start":"trash",color:"neutral",appearance:"transparent"},"Delete ",m.titleCase)))),y))}},41523:function(e,t,r){"use strict";r.d(t,{G:function(){return f}});var n=r(64649),i=r(27791),a=r(50824),o=r.n(a),s=r(27378),c=r(44513),l=r(30888),u=r(36542),p=r(92157);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t=e.title,r=e.stepData,n=e.verticalLayout,a=e.showSubtitles,d=(0,c.useQueryClient)(),f=(0,l.aF)(),v=f.user,y=f.userSession,h=(0,u.o4)(),b=h.pagesVisited,g=h.product,E=h.audience,S=(0,s.useState)(!1),w=S[0],O=S[1],T=(0,s.useState)(),x=T[0],A=T[1],I=(0,s.useRef)(),P=function(e){var t=b?e.map((function(e){return e.id&&b.find((function(t){return t===e.id}))?m(m({},e),{},{complete:!0,active:!1}):e})):e,r=t.findIndex((function(e){return!e.complete}));return t.map((function(e,t){return t===r?m(m({},e),{},{active:!0}):e}))}(r),k=function(e){return e.reduce((function(e,t,r){return e[r]={title:t.title,subtitle:t.subtitle,complete:t.complete},e}),{})}(P),D=function(){O(!1)};function L(e,t){return C.apply(this,arguments)}function C(){return(C=(0,i.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v&&t&&!r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n=b.concat([t]),e.next=6,(0,u.il)({pagesVisited:n},{audience:E,product:g,pagesVisited:b},y);case 6:d.refetchQueries("user-preferences"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return s.createElement(l.Zo,null,s.createElement(l.xR,{verticalLayout:n},P.map((function(e,t){var r=e.title,n=e.active,i=e.complete,o=e.id,c=e.subtitle;return s.createElement(l.Gy,{key:o,active:!!n,complete:!!i,onClick:function(){return function(e,t,r){O(!0),A(r),L(e,t)}(o,i,t)}},s.createElement(l.Um,null,r),a&&c?s.createElement(l.dy,null,c):null)}))),s.createElement(l.d3,{active:w,onClose:D,labelledBy:"onboarding-modal-title",width:"l",firstFocus:I},s.createElement("h4",{slot:"header",id:"onboarding-modal-title"},t),s.createElement("div",{slot:"content",className:"onboarding-next-steps-module--modal-content--0v910"},s.createElement(l.Gq,{icon:!0,numbered:!0,currentStep:(x||0).toString(),steps:k,onChange:function(e){if(w){var t=P[e.position];L(t.id,t.complete),A(e.position)}}},P.map((function(e,t){return s.createElement(s.Fragment,{key:e.id},x===t?s.createElement(p.MDXRenderer,null,e.body):null)})))),x<P.length-1?s.createElement(s.Fragment,null,s.createElement("calcite-button",{ref:I,slot:"primary","icon-end":"chevron-right",onClick:function(){A(x+1)}},"Next"),")"):s.createElement("calcite-button",{ref:I,slot:"primary",onClick:D},"Done"),x>0?s.createElement("calcite-button",{slot:"secondary",appearance:"outline","icon-start":"chevron-left",onClick:function(){A(x-1)}},"Previous"):null,s.createElement("calcite-button",{slot:"back",color:"neutral",onClick:D},"Close")))}},63630:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(27378),i=r(13106),a=function(e){var t=e.className,r=e.children;return n.createElement("div",{className:(0,i.AK)("rounded-box-module--container---8pWJ",t)},r)}},6252:function(e,t,r){"use strict";var n=r(64649),i=r(27378),a=r(50855);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.to,r=e.className,n=e.activeClassName,o=e.style,c=e.activeStyle,l=e.partiallyActive,u=e.children,p=e.state;return i.createElement(a.Link,{to:t,getProps:function(e){var t=e.isPartiallyCurrent,i=e.isCurrent,a=e.href,u=e.location.pathname.replace(/(.*)\//,"$1"),p=i||u===encodeURI(a);return(l?t:p)?{className:[r,n].filter(Boolean).join(" "),style:s(s({},o),c)}:null},children:u,className:r,state:p})}},96049:function(e,t,r){"use strict";r.d(t,{s:function(){return i}});var n=r(87296);function i(e){var t=(0,n.useStaticQuery)("1609689022");return{mdx:e.map((function(e){var r=t.allMdx.nodes.find((function(t){return t.frontmatter.id===e}));return{id:e,title:r.frontmatter.title,subtitle:r.frontmatter.subtitle,body:r.body}}))}}},72173:function(e,t,r){"use strict";r.d(t,{Bd:function(){return f},Qd:function(){return y},gV:function(){return v},uA:function(){return g},x1:function(){return b}});var n=r(27791),i=r(64649),a=r(50824),o=r.n(a),s=r(37273),c=r(39752),l=r(71884),u=r(94517),p=r(26597);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){return(0,l.kk)(m(m({},e),{},{types:["API Key"],typeKeywords:["Registered App"],includeAppInfo:!0}),t)}function v(){return(0,l.S2)(l._Q.API_KEYS,(function(e){return"API Key"===e.type&&e.typeKeywords.includes("Registered App")}),f)}function y(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(o().mark((function e(t){var r,n,i,a,s,l,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,n=t.description,i=void 0===n?"":n,a=t.privileges,s=t.authentication,e.next=3,(0,c.fC)({authentication:s,item:{title:r,snippet:i,type:"API Key"}});case 3:return l=e.sent,u=l.id,e.abrupt("return",S({authentication:s,itemId:u,privileges:a}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,r){var n,i=((n={})[p.Z.GEOCODE_TEMPORARY]=t||r,n[p.Z.ROUTING]=t,n[p.Z.SERVICE_AREA]=t,n);return Object.keys(i).filter((function(t){return e.includes(t)&&i[t]}))}function g(e){return E.apply(this,arguments)}function E(){return(E=(0,n.Z)(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.AW)({authentication:t});case 2:return n=e.sent,e.next=5,y({title:"Default API Key",description:"This API key was created by default when you created your ArcGIS developer account.",privileges:b(null==n||null===(r=n.user)||void 0===r?void 0:r.privileges,!0,!1),authentication:t});case 5:return i=e.sent,a=i.itemId,e.next=9,(0,l.Vx)(a,n.user.favGroupId,t);case 9:return e.next=11,(0,c.Q4)({id:a,authentication:t});case 11:return e.abrupt("return",{itemId:a});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var t=(0,c.al)(e)+"/oauth2/registerApp",r=u.H.filter((function(e){return e.isDefault})).map((function(e){return e.id})),n=(e.privileges||[]).concat(r);return(0,s.WY)(t,{authentication:e.authentication,params:m({appType:"apikey",httpReferrers:JSON.stringify(e.httpReferrers||[]),redirect_uris:JSON.stringify(e.redirectUris||[]),privileges:JSON.stringify(n),itemId:e.itemId},e.params)})}},40867:function(e,t,r){"use strict";r.d(t,{A:function(){return h},DM:function(){return S},Jc:function(){return O},M0:function(){return x},RV:function(){return f},W3:function(){return b},ir:function(){return y},zO:function(){return I}});var n=r(64649),i=r(27791),a=r(50824),o=r.n(a),s=r(39752),c=r(37273),l=r(71884),u=r(50033),p=r(16269);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.kk)(m(m({},t),{},{types:["Web Mapping Application","Mobile Application","Application"],includeAppInfo:!0,typeKeywords:["Registered App"]}),r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(0,l.S2)(l._Q.APPLICATIONS,(function(e){return"Web Mapping Application"===e.type||"Mobile Application"===e.type||"Application"===e.type}),f)}function h(e,t,r){return(0,c.EC)(r.portal+"/oauth2/token",{params:{client_id:e,client_secret:t,grant_type:"client_credentials"}})}function b(e){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)(o().mark((function e(t){var r,n,i,a,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,n=t.description,i=void 0===n?"":n,a=t.authentication,e.next=3,(0,s.fC)({authentication:a,item:{title:r,snippet:i,type:"Application"}});case 3:return c=e.sent,l=c.id,e.abrupt("return",E({authentication:a,itemId:l}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var t=(0,s.al)(e)+"/oauth2/registerApp";return e.params=m({appType:"multiple",redirect_uris:JSON.stringify(e.redirectUris||[]),itemId:e.itemId},e.params),(0,c.WY)(t,e)}function S(e){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.authentication.username,i=u.Z.portal+"/content/users/"+n+"/items/"+r+"/createProxies",a=t.proxies.map((function(e){return{sourceUrl:k(e.path),hitsPerInterval:e.hitsPerInterval,intervalSeconds:e.intervalSeconds}})),t.params=m({proxies:a,serviceProxyParams:t.serviceProxyParams},t.params),e.abrupt("return",(0,c.WY)(i,t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return T.apply(this,arguments)}function T(){return(T=(0,i.Z)(o().mark((function e(t){var r,n,i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.proxy,n=t.itemId,i=t.authentication,a=r.proxyId,s=i.username,l=u.Z.portal+"/content/users/"+s+"/items/"+n+"/proxies/"+a+"/update",e.abrupt("return",(0,c.WY)(l,{params:{proxy:r},authentication:i}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return A.apply(this,arguments)}function A(){return(A=(0,i.Z)(o().mark((function e(t){var r,n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.proxyId,n=t.itemId,i=t.authentication,a=i.username,s=u.Z.portal+"/content/users/"+a+"/items/"+n+"/proxies/"+r+"/delete",e.abrupt("return",(0,c.WY)(s,{authentication:i}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return P.apply(this,arguments)}function P(){return(P=(0,i.Z)(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.referrers,i=t.authentication,a={serviceProxyParams:{referrers:n}},e.abrupt("return",(0,s.$G)({item:{id:r},params:a,authentication:i}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return"https://"+p.L.filter((function(t){return t.path===e}))[0].domain+u.Z.ago.split(".")[0].replace("ext","").replace("www","")+".arcgis.com"+e}},37122:function(e,t,r){"use strict";r.d(t,{Gv:function(){return R},JB:function(){return De},KM:function(){return Ee},KV:function(){return le},LJ:function(){return Re},M_:function(){return oe},Mu:function(){return Ze},PH:function(){return we},PN:function(){return B},RX:function(){return K},Sj:function(){return G},WM:function(){return ue},Xj:function(){return Me},Yw:function(){return j},cT:function(){return Ce},dK:function(){return Q},gK:function(){return Y},jC:function(){return _},jr:function(){return Ye},l7:function(){return je},lE:function(){return Z},lG:function(){return Oe},lc:function(){return N},mD:function(){return Le},mP:function(){return z},ml:function(){return i},p6:function(){return X},sV:function(){return ve},tB:function(){return ae},tT:function(){return q},x3:function(){return Ve},xb:function(){return W},z:function(){return J}});var n,i,a=r(649),o=r(27791),s=r(30808),c=r(64649),l=r(50824),u=r.n(l),p=r(39752),d=r(37273),m=r(9004),f=r(71884),v=r(85117),y=r.n(v),h=r(79289),b=r.n(h),g=r(25865),E=r.n(g),S=r(50033),w=r(44513),O=r(30888),T=r(27443),x=r.n(T),A=r(82926),I=r.n(A),P=["data"],k=["data"],D=["data"],L=["data"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.SHAPEFILE="shapefile",e.FILE_GEODATABASE="filegeodatabase",e.CSV="csv",e.GEOJSON="geojson",e.SLPK="scene layer package"}(i||(i={}));var N,R,_,G=((n={})[i.SHAPEFILE]={label:"Shapefile",uploadType:"Shapefile",publishType:"Shapefile",serviceType:"Feature Service"},n[i.FILE_GEODATABASE]={label:"File Geodatabase",uploadType:"File Geodatabase",publishType:"filegeodatabase",serviceType:"Feature Service"},n[i.CSV]={label:"CSV",uploadType:"CSV",publishType:"CSV",serviceType:"Feature Service"},n[i.GEOJSON]={label:"GeoJSON",uploadType:"GeoJson",publishType:"GeoJson",serviceType:"Feature Service"},n[i.SLPK]={label:"Scene Layer Package",uploadType:"Scene Package",publishType:"scenepackage",serviceType:"Scene Service"},n),Z={esriGeometryPoint:{label:"Point",icon:"point",drawingToolType:"esriFeatureEditToolPoint",defaultRenderer:{type:"simple",symbol:{color:[20,158,206,130],size:18,angle:0,xoffset:0,yoffset:0,type:"esriSMS",style:"esriSMSCircle",outline:{color:[255,255,255,220],width:2.25,type:"esriSLS",style:"esriSLSSolid"}}}},esriGeometryPolyline:{label:"Line",icon:"line",drawingToolType:"esriFeatureEditToolLine",defaultRenderer:{type:"simple",symbol:{color:[0,169,230,220],width:2.25,type:"esriSLS",style:"esriSLSSolid"}}},esriGeometryPolygon:{label:"Polygon",icon:"polygon",drawingToolType:"esriFeatureEditToolPolygon",defaultRenderer:{type:"simple",symbol:{color:[20,158,206,70],outline:{color:[255,255,255,229],width:2.25,type:"esriSLS",style:"esriSLSSolid"},type:"esriSFS",style:"esriSFSSolid"}}}},j={esriFieldTypeString:{label:"String",sqlType:"sqlTypeNVarchar",defaultValue:""},esriFieldTypeInteger:{label:"Integer",sqlType:"sqlTypeInteger",defaultValue:0},esriFieldTypeDouble:{label:"Double",sqlType:"sqlTypeFloat",defaultValue:0},esriFieldTypeDate:{label:"Date",sqlType:"sqlTypeTimestamp2",defaultValue:new Date(0).getTime()}},U=[{type:"Feature Service",term:"feature layer",icon:b(),label:"Feature Layer (hosted)",urlLabel:"Layer URL"},{type:"Vector Tile Service",term:"vector tile layer",icon:y(),label:"Vector Tile Layer (hosted)",urlLabel:"Service URL"},{type:"Vector Tile Style",term:"vector tile style",icon:y(),label:"Vector Basemap Layer Style",urlLabel:"Style URL"},{type:"Map Service",term:"map service",icon:y(),label:"Map Service (hosted)",urlLabel:"Service URL"},{type:"Image Service",term:"image tile layer",icon:y(),label:"Image Tile Layer (hosted)",urlLabel:"Service URL"},{type:"Scene Service",term:"scene layer",icon:b(),label:"Scene Layer (hosted)",urlLabel:"Service URL"},{type:"Shapefile",term:"shapefile",icon:E(),label:"Shapefile(file)"},{type:"GeoJson",term:"geojson",icon:E(),label:"GeoJSON (file)",urlLabel:"Raw Data"},{type:"File Geodatabase",term:"geodatabase",icon:E(),label:"File Geodatabase (file)"},{type:"CSV",icon:E(),label:"CSV (file)"}],V=["Feature Service","Vector Tile Service","Scene Service"],M=/basemaps.*.arcgis.com/;function W(e,t){return(0,f.kk)(F(F({},e),{},{types:["Feature Service","Vector Tile Service","Scene Service","Shapefile","File Geodatabase","GeoJSON","CSV","Map Service","Image Service"]}),t)}function Y(){return(0,f.S2)(f._Q.LAYERS,(function(e){return"Feature Service"===e.type}),W)}function q(e){var t=(0,O.aF)().userSession,r=null==e?void 0:e.url.replace("/arcgis/rest/services","/arcgis/rest/admin/services"),n=(0,w.useQuery)({enabled:!!e&&!!t,queryKey:["admin-service-data",r],queryFn:function(){return(0,d.WY)(r,{authentication:t})}});return F({adminServiceData:n.data},(0,s.Z)(n,P))}function K(e){var t=(0,O.aF)().userSession,r=(0,w.useQuery)({enabled:!!e,queryKey:["service-layers",null==e?void 0:e.id],queryFn:function(){return"Feature Service"!==e.type?Promise.resolve(null):(0,d.WY)(e.url+"/layers",{authentication:t}).then((function(e){return e.layers}))}});return F({layers:r.data},(0,s.Z)(r,k))}function Q(e,t){var r=M.test(e);return"Vector Tile Service"===t&&r?U.find((function(e){return"Vector Tile Style"===e.type})):U.find((function(e){return e.type===t}))}function J(e){return"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/"+e+"?type=style&token=YOUR_API_KEY"}function z(e){return S.Z.portal+"/content/items/"+e+"/data"}function B(e){return H.apply(this,arguments)}function H(){return(H=(0,o.Z)(u().mark((function e(t){var r,n,i,a,o,s,c,l,d,v,y;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.title,i=t.tags,a=t.description,o=t.extent,s=t.geometry,c=t.fields,l=t.authentication,e.next=3,$({name:r,tags:i,extent:o,authentication:l});case 3:return d=e.sent,v=d.itemId,y=d.encodedServiceURL,e.next=8,Promise.all([(0,p.$G)({item:{id:v,title:n,tags:i,snippet:a,typeKeywords:ie("EMPTY",null)},authentication:l}),(0,f.wW)(v,f._Q.LAYERS,l),(0,m._Q)(y,{layers:[{name:r,type:"Feature Layer",displayField:"",description:"",copyrightText:"",defaultVisibility:!0,relationships:[],isDataVersioned:!1,supportsRollbackOnFailureParameter:!0,supportsAdvancedQueries:!0,geometryType:s,minScale:0,maxScale:0,extent:o,drawingInfo:{transparency:0,labelingInfo:null,renderer:Z[s].defaultRenderer},allowGeometryUpdates:!0,hasAttachments:!0,htmlPopupType:"esriServerHTMLPopupTypeNone",hasM:!1,hasZ:!1,objectIdField:"OBJECTID",globalIdField:"",typeIdField:"",fields:te(c),indexes:[],types:[],templates:[{name:"New Feature",description:"",drawingTool:Z[s].drawingToolType,prototype:{attributes:ne(c)}}],supportedQueryFormats:"JSON",hasStaticData:!0,maxRecordCount:1e4,capabilities:"Query,Extract"}],authentication:l})]).catch((function(e){throw(0,p.cl)({id:v,authentication:l}).catch((function(){})),e}));case 8:return e.abrupt("return",v);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){var t=e.name,r=e.tags,n=e.extent,i=e.authentication;return(0,d.WY)(i.portal+"/content/users/"+i.username+"/createService",{authentication:i,params:{typeKeywords:"ArcGIS Server,Data,Feature Access,Feature Service,Service,Hosted Service",outputType:"featureService",createParameters:{maxRecordCount:2e3,supportedQueryFormats:"JSON",capabilities:"Query,Extract",description:"",allowGeometryUpdates:!0,hasStaticData:!0,units:"esriMeters",syncEnabled:!1,editorTrackingInfo:{enableEditorTracking:!1,enableOwnershipAccessControl:!1,allowOthersToQuery:!0,allowOthersToUpdate:!0,allowOthersToDelete:!1,allowAnonymousToUpdate:!0,allowAnonymousToDelete:!1},xssPreventionInfo:{xssPreventionEnabled:!0,xssPreventionRule:"InputOnly",xssInputRule:"rejectInvalid"},initialExtent:n,spatialReference:n.spatialReference,tables:[],name:t},tags:r.join()}}).then((function(e){if(!1===e.success)throw new Error("CREATE_SERVICE_FAILURE");return e}))}function X(e){return new Date(e.replace(/([0-9]{4})-([0-9]{2})-([0-9]{2})/,"$2/$3/$1"))}function ee(e,t){var r=e;switch(t){case"esriFieldTypeDate":r=X(r).getTime();break;case"esriFieldTypeDouble":r=parseFloat(r);break;case"esriFieldTypeInteger":r=parseInt(r)}return r}function te(e){return[{name:"OBJECTID",type:"esriFieldTypeOID",alias:"OBJECTID",sqlType:"sqlTypeOther",nullable:!1,editable:!1,domain:null,defaultValue:null}].concat((0,a.Z)(e.map(re)))}function re(e){var t,r=e.domain||null,n={name:e.name,type:e.type,alias:e.alias,sqlType:(null===(t=j[e.type])||void 0===t?void 0:t.sqlType)||"sqlTypeOther",nullable:!e.required,editable:!0,domain:null,defaultValue:null};return r&&(n.domain="codedValues"===r?{name:e.name,type:"codedValue",codedValues:e.codedValues.map((function(t){return function(e,t){return{name:e.name,code:ee(e.code,t)}}(t,e.type)}))}:"range"===r?{name:e.name,type:"range",range:[ee(e.min,e.type),ee(e.max,e.type)]}:null),"esriFieldTypeString"===e.type&&(n.length=256),n}function ne(e){return e.reduce((function(e,t){var r;return e[t.name]=t.required?null===(r=j[t.type])||void 0===r?void 0:r.defaultValue:null,e}),{})}function ie(e,t){var r=["ArcGIS Server","Data","Feature Access","Feature Service","Service","Hosted Service"],n=r.concat(["Singlelayer"]);switch(e){case"EMPTY":return n;case i.CSV:return t&&"address"===t.locationType?n.concat(["Involved Lookup"]):n;case i.SLPK:return["Data,Service","Scene Service","ArcGIS Server","Point","Hosted Service"];default:return r}}function ae(e,t){return(0,d.WY)("https://tasks.arcgisonline.com/ArcGIS/rest/services/Geometry/GeometryServer/project",{params:{inSR:t.spatialReference.wkid,outSR:e,geometries:{geometryType:"esriGeometryEnvelope",geometries:[t]},transformForward:!1}}).then((function(t){var r=t.geometries[0];return r.spatialReference={wkid:e},102100===e&&(r.spatialReference.latestWkid=3857),r}))}function oe(e,t,r,n,i){return se.apply(this,arguments)}function se(){return(se=(0,o.Z)(u().mark((function e(t,r,n,i,a){var o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=0),o=t+(a||""),e.next=4,ce(o,r,n,i).catch((function(){return!0}));case 4:return s=e.sent,e.abrupt("return",s?o:oe(t,r,n,i,a+1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t,r,n){return(0,d.WY)(n.portal+"/portals/"+r+"/isServiceNameAvailable",{httpMethod:"POST",params:{name:e,type:t,token:n.token}}).then((function(e){return e.available}))}function le(e,t){var r=e.extent&&e.extent.length>0?{xmin:e.extent[0][0],xmax:e.extent[1][0],ymin:e.extent[0][1],ymax:e.extent[1][1],spatialReference:e.spatialReference}:null;return(null==t?void 0:t.fullExtent)||(null==t?void 0:t.initialExtent)||r}function ue(e){return pe.apply(this,arguments)}function pe(){return(pe=(0,o.Z)(u().mark((function e(t){var r,n,i,a,o,s,c,l,d,m,f,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.itemId,n=t.serviceName,i=t.title,a=t.tags,o=t.description,s=t.spatialRef,c=t.customFields,l=t.layers,d=t.authentication,e.next=3,de({itemId:r,serviceName:n,spatialRef:s,customFields:c,layers:l,authentication:d});case 3:return m=e.sent,f=m.serviceItemId,v=m.jobId,e.next=8,me((function(){return ye({itemId:f,jobId:v,authentication:d})}));case 8:return e.next=10,(0,p.$G)({item:{id:f,type:"Vector Tile Service",title:i,tags:a,snippet:o},authentication:d});case 10:return e.abrupt("return",f);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){var t=e.itemId,r=e.serviceName,n=e.spatialRef,i=e.customFields,o=e.layers,s=e.authentication,c={minScale:Math.min.apply(Math,(0,a.Z)(o.map((function(e){return e.minScale})))),maxScale:Math.max.apply(Math,(0,a.Z)(o.map((function(e){return e.maxScale})))),name:r,tilingSchema:{tileCacheInfo:{spatialReference:n,origin:{x:-20037508.342787,y:20037508.342787},rows:512,cols:512,dpi:96,preciseDpi:96,lods:[{level:0,resolution:78271.51696399994,scale:295828763.795777},{level:1,resolution:39135.75848200009,scale:147914381.897889},{level:2,resolution:19567.87924099992,scale:73957190.948944},{level:3,resolution:9783.93962049996,scale:36978595.474472},{level:4,resolution:4891.96981024998,scale:18489297.737236},{level:5,resolution:2445.98490512499,scale:9244648.868618},{level:6,resolution:1222.992452562495,scale:4622324.434309},{level:7,resolution:611.4962262813797,scale:2311162.217155},{level:8,resolution:305.74811314055756,scale:1155581.108577},{level:9,resolution:152.87405657041106,scale:577790.554289},{level:10,resolution:76.43702828507324,scale:288895.277144},{level:11,resolution:38.21851414253662,scale:144447.638572},{level:12,resolution:19.10925707126831,scale:72223.819286},{level:13,resolution:9.554628535634155,scale:36111.909643},{level:14,resolution:4.77731426794937,scale:18055.954822},{level:15,resolution:2.388657133974685,scale:9027.977411},{level:16,resolution:1.1943285668550503,scale:4513.988705},{level:17,resolution:.5971642835598172,scale:2256.994353},{level:18,resolution:.29858214164761665,scale:1128.497176},{level:19,resolution:.14929107082380833,scale:564.248588},{level:20,resolution:.07464553541190416,scale:282.124294},{level:21,resolution:.03732276770595208,scale:141.062147},{level:22,resolution:.01866138385297604,scale:70.5310735},{level:23,resolution:.009330691929342804,scale:35.265536760789715}]},tileImageInfo:{format:"indexedVector",compressionQuality:0,antialiasing:!1},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128}}};return i&&i.length&&(c.layerProperties=i),(0,d.WY)(s.portal+"/content/users/"+s.username+"/publish",{authentication:s,params:{itemid:t,filetype:"featureService",outputType:"vectorTiles",buildInitialCache:"false",publishParameters:c}}).then((function(e){return e.services[0]}))}function me(e){return fe.apply(this,arguments)}function fe(){return(fe=(0,o.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1;case 1:if(r){e.next=10;break}return e.next=4,t();case 4:if(r=e.sent){e.next=8;break}return e.next=8,new Promise((function(e){return setTimeout(e,2e3)}));case 8:e.next=1;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){var e=(0,O.aF)().userSession,t=(0,f.YM)(),r=t.item,n=t.status,i=(0,w.useQuery)({enabled:!!r,queryKey:["service-item-id-check",null==r?void 0:r.id],queryFn:function(){return"Vector Tile Service"!==r.type||(0,d.WY)(r.url,{httpMethod:"GET",authentication:e}).then((function(e){return e.serviceItemId===r.id})).catch((function(){return!0}))},retry:!1}),a=i.data,o=i.status,s=!!r&&V.includes(r.type)&&!!a,c=function(){return Promise.resolve(!0)};r&&(c=function(){return"Feature Service"===r.type?ye({itemId:r.id,authentication:e}).catch((function(){return!0})):"Vector Tile Service"===r.type?function(e){return be.apply(this,arguments)}({serverUrl:r.url,authentication:e}).catch((function(){return!0})):"Scene Service"===r.type?function(e){return ge.apply(this,arguments)}({serverUrl:r.url,authentication:e}).catch((function(){return!0})):Promise.resolve(!0)});var l=(0,w.useQuery)({enabled:s,queryKey:["initial-publish-status",null==r?void 0:r.id],queryFn:c}),u=l.data,p=l.status,m="success"===p&&!u,v=(0,w.useQuery)({enabled:s&&m,queryKey:["publish-status",null==r?void 0:r.id],queryFn:function(){return me(c)},retry:!1}),y=v.status;return{isLoading:"loading"===n||"loading"===o||s&&"loading"===p,isPublishing:m&&!("success"===y),error:v.error}}function ye(e){return he.apply(this,arguments)}function he(){return(he=(0,o.Z)(u().mark((function e(t){var r,n,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.itemId,n=t.jobId,i=t.authentication,e.next=3,(0,d.WY)(i.portal+"/content/users/"+i.username+"/items/"+r+"/status",{authentication:i,params:{jobId:n}});case 3:if("processing"!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",!1);case 8:if("completed"!==a.status&&(""!==a.status||"Item status doesn't exist"!==a.statusMessage)){e.next=10;break}return e.abrupt("return",!0);case 10:throw new Error("Publish job status is "+a.status+(a.statusMessage?": "+a.statusMessage:""));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=(0,o.Z)(u().mark((function e(t){var r,n,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.serverUrl,n=t.authentication,i=""+r.replace("rest/services","rest/admin/services"),e.next=4,(0,d.WY)(i,{httpMethod:"GET",authentication:n});case 4:if("SUBMITTED"!==(a=e.sent).jobStatus&&"PROCESSING"!==a.jobStatus){e.next=9;break}return e.abrupt("return",!1);case 9:if("DONE"!==a.jobStatus){e.next=11;break}return e.abrupt("return",!0);case 11:throw new Error("Server job status is "+a.jobStatus);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=(0,o.Z)(u().mark((function e(t){var r,n,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.serverUrl,n=t.authentication,i=""+r.replace("rest/services","rest/admin/services"),e.next=4,(0,d.WY)(i,{httpMethod:"GET",authentication:n});case 4:if("SUBMITTED"!==(a=e.sent).cacheExecutionStatus&&"PROCESSING"!==a.cacheExecutionStatus){e.next=9;break}return e.abrupt("return",!1);case 9:if("NONE"!==a.cacheExecutionStatus){e.next=11;break}return e.abrupt("return",!0);case 11:throw new Error("Server job status is "+a.jobStatus);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,t,r){return Se.apply(this,arguments)}function Se(){return(Se=(0,o.Z)(u().mark((function e(t,r,n){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.url.replace("/arcgis/rest/services","/arcgis/rest/admin/services"),a=r.map((function(e){return e.layerId})).join(","),e.abrupt("return",(0,d.WY)(i+"/rebuildCache",{params:{layers:a},authentication:n}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){var t=(0,O.aF)().userSession,r=(0,w.useQuery)({enabled:!!e&&!!t,queryKey:["service-settings",null==e?void 0:e.id],queryFn:function(){return"Feature Service"!==e.type?Promise.resolve(null):(0,d.WY)(e.url,{authentication:t}).then((function(e){var t=e.capabilities.split(","),r=e.editorTrackingInfo||{},n={editingEnabled:t.indexOf("Editing")>-1&&!1===e.hasStaticData,syncEnabled:t.indexOf("Sync")>-1,exportEnabled:t.indexOf("Extract")>-1,changeTrackingEnabled:t.indexOf("ChangeTracking")>-1,editorTrackingEnabled:r.enableEditorTracking,editingPerm:Ae(t),editorViewPerm:Ie(t,r),editorEditPerm:Pe(r),anonEditorPerm:ke(r)};return{capabilities:t,options:n}}))}});return F({settings:r.data},(0,s.Z)(r,D))}function Oe(e,t,r,n){return Te.apply(this,arguments)}function Te(){return(Te=(0,o.Z)(u().mark((function e(t,r,n,i){var a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xe(r,n),o=a.updateOptions,s=a.addOptions,c=t.replace("/rest/services","/rest/admin/services").replace("http://","https://"),e.abrupt("return",s?Promise.all([(0,d.WY)(c+"/updateDefinition",{params:{updateDefinition:o},authentication:i}),(0,d.WY)(c+"/addToDefinition",{params:{addToDefinition:s},authentication:i})]):(0,d.WY)(c+"/updateDefinition",{params:{updateDefinition:o},authentication:i}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){var r=[];if(e.editorViewPerm!==R.NO_FEATURES&&r.push("Query"),e.editingEnabled)switch(r.push("Editing"),e.editingPerm){case N.FULL_EDITING:r=r.concat(["Create","Update","Delete"]);break;case N.ONLY_ADD:r.push("Create");break;case N.ONLY_UPDATE:r.push("Update")}e.syncEnabled&&r.push("Sync"),e.changeTrackingEnabled&&r.push("ChangeTracking");var n=["Query","Editing","Create","Update","Delete","Sync","Extract","ChangeTracking"],i=t.capabilities.filter((function(e){return-1===n.indexOf(e)})),a=!e.editingEnabled,o=r.concat(i).join(),s=F(F({},a?{capabilities:o,hasStaticData:a}:{hasStaticData:a,capabilities:o}),{},{allowGeometryUpdates:e.editingPerm!==N.ONLY_UPDATE,editorTrackingInfo:{enableEditorTracking:e.editorTrackingEnabled,enableOwnershipAccessControl:e.editorViewPerm===R.OWN_FEATURES||e.editorEditPerm===R.OWN_FEATURES||e.anonEditorPerm===_.ONLY_ADD,allowOthersToUpdate:e.editorEditPerm===R.ALL_FEATURES,allowOthersToDelete:e.editorEditPerm===R.ALL_FEATURES,allowOthersToQuery:e.editorViewPerm!==R.OWN_FEATURES,allowAnonymousToUpdate:e.anonEditorPerm===_.SAME_AS_EDITOR,allowAnonymousToDelete:e.anonEditorPerm===_.SAME_AS_EDITOR}}),c=null;return function(e,t){if(e.editorTrackingEnabled)return!1;return!t.editorTrackingEnabled||e.editorEditPerm!==t.editorEditPerm||e.anonEditorPerm!==t.anonEditorPerm||e.editorViewPerm===R.OWN_FEATURES&&t.editorViewPerm!==R.OWN_FEATURES||e.editorViewPerm!==R.OWN_FEATURES&&t.editorViewPerm===R.OWN_FEATURES}(e,t.options)&&(c={editFieldsInfo:{creationDateField:"",creatorField:"",editDateField:"",editorField:""}}),{updateOptions:s,addOptions:c}}function Ae(e){return-1===e.indexOf("Editing")?N.FULL_EDITING:e.indexOf("Create")>-1?e.indexOf("Update")>-1?N.FULL_EDITING:N.ONLY_ADD:e.indexOf("Update")>-1?N.ONLY_UPDATE:N.FULL_EDITING}function Ie(e,t){return t.allowOthersToQuery?e.indexOf("Query")>-1?R.ALL_FEATURES:R.NO_FEATURES:R.OWN_FEATURES}function Pe(e){return e.allowOthersToUpdate&&e.allowOthersToDelete||e.allowOthersToUpdate||e.allowOthersToDelete?R.ALL_FEATURES:R.OWN_FEATURES}function ke(e){return e.allowAnonymousToUpdate&&e.allowAnonymousToDelete||e.allowAnonymousToUpdate||e.allowAnonymousToDelete?_.SAME_AS_EDITOR:_.ONLY_ADD}function De(e){switch(null==e?void 0:e.name.replace(/.*\.([^.]+)$/,"$1")){case"csv":return i.CSV;case"geojson":return i.GEOJSON;case"slpk":return i.SLPK;default:return null}}function Le(e){return null==e?void 0:e.name.replace(/.*\.([^.]+)$/,"$1")}function Ce(e,t,r){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,o.Z)(u().mark((function e(t,r,n){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t,r,n);case 2:return i=e.sent,a=i.id,e.next=6,me((function(){return ye({itemId:a,authentication:n})})).catch((function(e){if(e.message.match(/Error in adding file item: Item '.+' already exists\./g))throw new Error("FILE_EXISTS");if(e.message.match(/Invalid Shapefile/g))throw new Error("INVALID_SHAPEFILE");if(e.message.match(/Invalid File Geodatabase/g))throw new Error("INVALID_FILE_GEODATABASE");if(e.message.match(/Invalid GeoJson/g)||e.message.match(/Error in adding file item: Error while analyzing GeoJson '.+' GeoJson file is not a valid json/g))throw new Error("INVALID_GEOJSON");throw e}));case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,t,r){var n=e.name.replace(/\.[^/.]+$/,""),i=e.name.replace(/.*\.([^.]+)$/,"$1");return(0,p.fC)({authentication:r,item:{title:n,type:t},file:e,async:!0,params:{fileName:n+"-"+Date.now()+"."+i}})}function Re(e){return _e.apply(this,arguments)}function _e(){return(_e=(0,o.Z)(u().mark((function e(t){var r,n,i,a,o,s,c,l,d,m,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fileItemId,n=t.fileType,i=t.publishParameters,a=t.orgId,o=t.title,s=t.tags,c=t.description,l=t.authentication,d=i||{name:"",hasStaticData:!0,maxRecordCount:2e3,layerInfo:{capabilities:"Query"}},e.next=4,oe(I()(o,"_"),G[n].serviceType,a,l);case 4:return d.name=e.sent,e.next=7,Ge(r,n,d,l);case 7:return m=e.sent,f=m.serviceItemId,e.next=11,Promise.all([(0,p.$G)({authentication:l,item:{id:f,title:o,snippet:c,tags:s,typeKeywords:ie(n,d)}}),(0,p.$G)({authentication:l,item:{id:r,tags:s}})]).catch((function(e){throw(0,p.cl)({id:f,authentication:l}).catch((function(){})),e}));case 11:return e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t,r,n){var a={token:n.token,itemId:e,filetype:G[t].publishType,publishParameters:r};return t===i.SLPK&&(a.outputType="sceneService",a.buildInitialCache=!0),(0,d.WY)(n.portal+"/content/users/"+n.username+"/publish",{params:a}).then((function(e){if(e.services[0].error)throw new Error(e.services[0].error.message);if(!1===e.services[0].success)throw new Error("PUBLISH_SERVICE_FAILURE");return e.services[0]}))}function Ze(e){var t=e.fileId,r=e.locationType,n=e.countryCode,i=e.culture,a=e.authentication,o=S.Z.ago.split(".")[0].replace("ext","").replace("www",""),s={filetype:"csv",itemid:t,analyzeParameters:{enableGlobalGeocoding:!0,sourceLocale:i,geocodeServiceUrl:"https://geocode"+o+".arcgis.com/arcgis/rest/services/World/GeocodeServer",sourceCountry:"",sourceCountryHint:"world"}};return"address"===r&&(s.analyzeParameters.locationType="address",s.analyzeParameters.sourceCountry=n,s.analyzeParameters.sourceCountryHint=""),"coordinates"===r&&(s.analyzeParameters.locationType="coordinates",s.analyzeParameters.sourceCountry="world",s.analyzeParameters.sourceCountryHint=""),(0,d.WY)(a.portal+"/content/features/analyze",{authentication:a,params:s}).then((function(e){var r;if("unknown"===(null===(r=e.publishParameters)||void 0===r?void 0:r.locationType))return Ze({fileId:t,locationType:"address",countryCode:n,culture:i,authentication:a});var o=e.publishParameters;return o.maxRecordCount=2e3,o.layerInfo.capabilities="Query",o.hasStaticData=!0,o.persistErrorRecordsForReview=!0,o}))}function je(e,t,r,n,i){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,o.Z)(u().mark((function e(t,r,n,i,a){var o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.id,s=S.Z.portal+"/content/users/"+a.username+"/items/"+o,c={everyone:"public"===r,org:"org"===r,groups:n,items:o},e.abrupt("return",i?Promise.all([(0,d.WY)(s+"/share",{params:c,authentication:a}),(0,d.WY)(s+"/unshare",{params:{groups:i},authentication:a})]):(0,d.WY)(s+"/share",{params:c,authentication:a}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e,t){var r=(0,O.aF)().userSession;return(0,w.useQuery)({enabled:!!r&&!!e,queryKey:["serviceData",e,t],queryFn:function(){return function(e,t,r){return V.includes(t)?(0,d.WY)(e,{authentication:r,httpMethod:"GET"}).then((function(t){return t.tileUrl=t.tiles?e+"/"+t.tiles[0]:null,t.layers=t.layers?t.layers.map((function(t,r){return{name:t.name,geometryType:Z[t.geometryType],url:e+"/"+r}})):null,t})):null}(e,t,r)}})}function Me(e,t){var r=(0,O.aF)().userSession,n=e&&"Vector Tile Service"===e.type,i=(0,w.useQuery)({enabled:n&&!!t&&!!r,queryKey:["vtlStyle",null==e?void 0:e.id],queryFn:function(){return function(e,t,r){var n=r.portal+"/content/items/"+e.id,i="/resources/styles/root.json";return We(""+n+i,r).catch((function(t){if(function(e){return"SyntaxError"===e.name||"HTTP 404: Not Found"===e.message||"404: Resource does not exist or is inaccessible."===e.message}(t))return e.url?We(""+e.url+i,r):function(e,t){return(0,p.m_)(e,{authentication:t}).then((function(e){try{return e.baseMap.baseMapLayers[0].styleUrl}catch(t){throw new Error("Failed to find style url in item data.")}})).then((function(e){return We(e,t)}))}(e.id,r);throw t})).then((function(r){return x()(r.sprite)&&(r.sprite=new URL(r.sprite,r.metadata.arcgisStyleUrl).href),x()(r.glyphs)&&(r.glyphs=decodeURI(new URL(r.glyphs,r.metadata.arcgisStyleUrl).href)),r.sprite&&r.sprite.replace&&(r.sprite=r.sprite.replace("http://","https://")),r.glyphs&&r.glyphs.replace&&(r.glyphs=r.glyphs.replace("http://","https://")),Object.keys(r.sources).forEach((function(n){x()(r.sources[n].url)&&(r.sources[n].url=new URL(r.sources[n].url,r.metadata.arcgisStyleUrl).href),r.sources[n].tiles=t.tiles.map((function(t){return e.url+"/"+t})),r.sources[n].url=r.sources[n].url.replace("http://","https://")})),r}))}(e,t,r)}});return F({style:i.data},(0,s.Z)(i,L))}function We(e,t){return(0,d.WY)(e,{httpMethod:"GET",authentication:t,params:{t:Date.now()}}).then((function(t){return t.metadata=Object.assign(t.metadata||{},{arcgisStyleUrl:e}),t}))}function Ye(e,t,r,n){return qe.apply(this,arguments)}function qe(){return(qe=(0,o.Z)(u().mark((function e(t,r,n,i){var a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.WY)("https://utility"+S.Z.suffix+".arcgisonline.com/arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task/execute",{params:{Web_Map_as_JSON:Ke(t,r,n,i),Format:"png32",Layout_Template:"MAP_ONLY"}});case 2:if(c=e.sent,l=null==c||null===(a=c.results)||void 0===a||null===(o=a[0])||void 0===o||null===(s=o.value)||void 0===s?void 0:s.url){e.next=6;break}throw new Error("No thumbnail url returned.");case 6:return e.abrupt("return",(0,p.$G)({item:{id:t.id,thumbnailUrl:l},authentication:i}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,t,r,n){var i=function(e,t){var r=e.fullExtent;t.forEach((function(e){r.xmin>e.extent.xmin&&(r.xmin=e.extent.xmin),r.xmax<e.extent.xmax&&(r.xmax=e.extent.xmax),r.ymin>e.extent.ymin&&(r.ymin=e.extent.ymin),r.ymax<e.extent.ymax&&(r.ymax=e.extent.ymax)}));var n=.05*(r.xmax-r.xmin),i=.05*(r.ymax-r.ymin);return r.xmin=r.xmin-n,r.xmax=r.xmax+n,r.ymin=r.ymin-i,r.ymax=r.ymax+i,r}(t,r);return{baseMap:{baseMapLayers:[{url:"https://services"+S.Z.suffix+".arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer"}],title:"basemap"},mapOptions:{showAttribution:!1,extent:i,spatialReference:i.spatialReference},operationalLayers:r.map((function(t){return{id:e.id+"_"+t.id,opacity:1,minScale:t.minScale,maxScale:t.maxScale,title:t.name,layerDefinition:{drawingInfo:t.drawingInfo},token:n.token,url:e.url+"/"+t.id}})),exportOptions:{outputSize:[600,400],dpi:96}}}!function(e){e.FULL_EDITING="0",e.ONLY_UPDATE="1",e.ONLY_ADD="2"}(N||(N={})),function(e){e.ALL_FEATURES="0",e.OWN_FEATURES="1",e.NO_FEATURES="2"}(R||(R={})),function(e){e.SAME_AS_EDITOR="0",e.ONLY_ADD="1"}(_||(_={}))},60652:function(e,t,r){"use strict";r.d(t,{G:function(){return s},s:function(){return o}});var n=r(27791),i=r(50824),a=r.n(i);function o(e,t,r){try{var n,i=null===(n=window)||void 0===n?void 0:n.formHandlerApi;if(i){var a={formId:t};r&&(a.dataLayerProps={ssoPltfrm:r,ssoRtn:!0}),i.initAnalytics(e,a)}}catch(o){console.error(o)}}function s(e,t,r){return c.apply(this,arguments)}function c(){return(c=(0,n.Z)(a().mark((function e(t,r,n){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(o=null===(i=window)||void 0===i?void 0:i.formHandlerApi)){e.next=5;break}return e.next=5,o.submit({pardotFormHandlerUrl:t,organicSfId:r,formData:n});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},94517:function(e,t,r){"use strict";r.d(t,{H:function(){return i}});var n=r(26597),i=[{id:n.Z.BASEMAPS,label:"Basemaps",icon:"basemap",isDefault:!0},{id:n.Z.GEOCODE_STORED,label:"Geocoding (stored)",description:"Access the geocoding service to perform forward and reverse geocodes including support for suggestions and place searching. You may store the results.",icon:"pin"},{id:n.Z.GEOCODE_TEMPORARY,label:"Geocoding (not stored)",description:"Access the geocoding service to perform forward and reverse geocodes including support for suggestions and place searching. You may not store the results.",icon:"pin"},{id:n.Z.ROUTING,label:"Routing",description:"Access the Routing service to find the best way to get from one location to another or to visit several locations.",icon:"tour"},{id:n.Z.OPTIMIZED_ROUTING,label:"Optimized routing",description:"Access the Routing service to find the best sequence in which to visit the locations.",icon:"tour"},{id:n.Z.CLOSEST_FACILITY,label:"Closest facility",description:"Access the Closest Facility service to find one or more facilities that are closest to an incident based on travel time or travel distance.",icon:"pins"},{id:n.Z.SERVICE_AREA,label:"Service area",description:"Access the Service Area service to generate an area that represents the distance that can be reached when traveling in a street network.",icon:"color-coded-map"},{id:n.Z.LOCATION_ALLOCATION,label:"Location allocation",description:"Access the Location Allocation service to choose which facilities from a set of facilities to operate based on their potential interaction with demand points.",icon:"analysis"},{id:n.Z.VEHICLE_ROUTING,label:"Multi-vehicle routing",description:"Access the Vehicle Routing Problem service to determine what stops should be serviced by each route and in what sequence the stops should be visited.",icon:"road-sign"},{id:n.Z.ORIGIN_DESTINATION_COST_MATRIX,label:"Origin/destination cost matrix",description:"Access the OD Matrix service to create an origin-destination (OD) cost matrix from multiple origins to multiple destinations.",icon:"deep-learning"},{id:n.Z.GEOENRICHMENT,label:"GeoEnrichment",description:"Access the GeoEnrichment service to obtain attributes, reports, and data-driven Infographics which describe demographic, business, and other location-based characteristics for study areas and locations.",icon:"image-segmentation"}]},36542:function(e,t,r){"use strict";r.d(t,{dL:function(){return O},il:function(){return g},jE:function(){return T},o4:function(){return h}});var n=r(27791),i=r(64649),a=r(30808),o=r(50824),s=r.n(o),c=r(37273),l=r(50033),u=r(30888),p=r(44513),d=r(87743),m=r(60652),f=["data"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){var e=(0,u.aF)(),t=e.user,r=e.userSession,n=(0,p.useQuery)({enabled:!!t,queryKey:["user-preferences",null==t?void 0:t.tags],queryFn:function(){return function(e,t){return b.apply(this,arguments)}(r,t.tags)}}),i=n.data,o=(0,a.Z)(n,f);return y({product:null==i?void 0:i.product,audience:null==i?void 0:i.audience,pagesVisited:null==i?void 0:i.pagesVisited},o)};function b(){return(b=(0,n.Z)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w(t).then((function(e){if(!e.product||!e.audience){var t=(0,d.kD)(r),n=t.audience,i=t.product;e.audience=n,e.product=i}if("experience-builder"===e.product&&(e.product="arcgis-experience-builder"),"mapbox-gl-js"===e.product&&(e.product="maplibre-gl-js"),!e.pagesVisited){var a=(0,d.VL)(r);e.pagesVisited=a||[]}return e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,r){return E.apply(this,arguments)}function E(){return(E=(0,n.Z)(s().mark((function e(t,r,n){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=y(y({},r),t),e.abrupt("return",S(i,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){var r=l.Z.portal+"/community/users/"+t.username+"/addResource";return x(t).then((function(t){return(0,c.WY)(r,{params:{key:"afd",text:e,token:t}})}))}function w(e){var t=l.Z.portal+"/community/users/"+e.username+"/resources/afd";return x(e).then((function(e){return(0,c.WY)(t,{params:{key:"afd",token:e},httpMethod:"GET"})})).catch((function(e){if("COM_1177: User resource does not exist or is inaccessible."!==e.message)throw e;return{}}))}function O(){(0,m.s)("ArcGIS Developer Account Preferences","ArcGIS Developer Account Preferences - developers.arcgis.com:dashboard")}function T(e,t){return(0,m.G)("https://go.esri.com/l/82202/2021-03-01/n9swhm","7015x000000iNwqAAE",{api_preference:e,email:t})}function x(e){return(0,c.Ov)(e.token,"arcgisonline",l.Z.portal).catch((function(){return e.token}))}},87743:function(e,t,r){"use strict";r.d(t,{LO:function(){return d},VL:function(){return p},kD:function(){return u}});var n=r(39752),i=r(30888),a=r(27378),o=r(44513),s=/^devSiteMeta\|products\|.*/,c=/^devSiteMeta\|audience\|.*/,l=/^devSiteMeta\|pagesVisited\|.*/;function u(e){var t=m(e,s),r=m(e,c);return{product:t&&1===t.length?t[0]:null,audience:r&&1===r.length?r[0]:null}}function p(e){return m(e,l)}var d=function(){var e=(0,a.useContext)(i.a4).userSession;return(0,o.useQuery)({enabled:!!e,queryKey:"user-tags",queryFn:function(){return(0,n.dc)({username:e.username,authentication:e}).then((function(e){return e.tags.map((function(e){return e.tag}))}))}})};function m(e,t){if(!e||!e.length)return null;var r=e.find((function(e){return t.test(e)}));return r?r.split("|")[2].split(";"):null}},17833:function(e,t,r){"use strict";r.d(t,{Fs:function(){return s},GD:function(){return a},Mv:function(){return o},RE:function(){return v},VQ:function(){return f},WL:function(){return i},Xq:function(){return l},ZY:function(){return n},eK:function(){return y},p4:function(){return p},pb:function(){return d},qP:function(){return u},qb:function(){return m},v_:function(){return c}});var n="list-view-module--buttons--eKp26",i="list-view-module--description--uIS1+",a="list-view-module--favorite--oMUCA",o="list-view-module--footer--h0lvC",s="list-view-module--header--MWbVy",c="list-view-module--header-end--16bFC",l="list-view-module--is-modified--TQ5sW",u="list-view-module--item-title--OdNJm",p="list-view-module--link--bwYBo",d="list-view-module--list--JB-pO",m="list-view-module--list-item--Hbcu1",f="list-view-module--no-favorite--5GYYY",v="list-view-module--search-container--W4K5X",y="list-view-module--search-input--mjfS2"},81541:function(e){e.exports={id:"clock-16-usage",viewBox:"0 0 16 16",url:"/assets/sprites/sprite.b1bb331a40d66bdc4f608ebf264c8dc0.svg#clock-16",toString:function(){return this.url}}},79289:function(e){e.exports={id:"feature-layer-16-usage",viewBox:"0 0 16 16",url:"/assets/sprites/sprite.b1bb331a40d66bdc4f608ebf264c8dc0.svg#feature-layer-16",toString:function(){return this.url}}},25865:function(e){e.exports={id:"file-text-16-usage",viewBox:"0 0 16 16",url:"/assets/sprites/sprite.b1bb331a40d66bdc4f608ebf264c8dc0.svg#file-text-16",toString:function(){return this.url}}},29176:function(e){e.exports={id:"globe-16-usage",viewBox:"0 0 16 16",url:"/assets/sprites/sprite.b1bb331a40d66bdc4f608ebf264c8dc0.svg#globe-16",toString:function(){return this.url}}},93:function(e){e.exports={id:"group-16-usage",viewBox:"0 0 16 16",url:"/assets/sprites/sprite.b1bb331a40d66bdc4f608ebf264c8dc0.svg#group-16",toString:function(){return this.url}}},50451:function(e){e.exports={id:"key-16-usage",viewBox:"0 0 16 16",url:"/assets/sprites/sprite.b1bb331a40d66bdc4f608ebf264c8dc0.svg#key-16",toString:function(){return this.url}}},85117:function(e){e.exports={id:"tile-layer-16-usage",viewBox:"0 0 16 16",url:"/assets/sprites/sprite.b1bb331a40d66bdc4f608ebf264c8dc0.svg#tile-layer-16",toString:function(){return this.url}}}}]);