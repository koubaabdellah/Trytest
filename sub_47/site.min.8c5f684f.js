!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.2.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a))&&(!(b=e(a))||(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;d<c;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];e=b.getElementsByName(a),d=0;while(f=e[d++])if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}f=V.needsContext.test(a)?0:i.length;while(f--){if(j=i[f],d.relative[k=j.type])break;if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext;function B(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,D=/^.[^:#\[\.,]*$/;function E(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):D.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(E(this,a||[],!1))},not:function(a){return this.pushStack(E(this,a||[],!0))},is:function(a){return!!E(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var F,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,H=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||F,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:G.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),C.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};H.prototype=r.fn,F=r(d);var I=/^(?:parents|prev(?:Until|All))/,J={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function K(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return K(a,"nextSibling")},prev:function(a){return K(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return B(a,"iframe")?a.contentDocument:(B(a,"template")&&(a=a.content||a),r.merge([],a.childNodes))}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(J[a]||r.uniqueSort(e),I.test(a)&&e.reverse()),this.pushStack(e)}});var L=/[^\x20\t\r\n\f]+/g;function M(a){var b={};return r.each(a.match(L)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?M(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=e||a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function N(a){return a}function O(a){throw a}function P(a,b,c,d){var e;try{a&&r.isFunction(e=a.promise)?e.call(a).done(b).fail(c):a&&r.isFunction(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,N,e),g(f,c,O,e)):(f++,j.call(a,g(f,c,N,e),g(f,c,O,e),g(f,c,N,c.notifyWith))):(d!==N&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==O&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:N,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:N)),c[2][3].add(g(0,a,r.isFunction(d)?d:O))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(P(a,g.done(h(c)).resolve,g.reject,!b),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)P(e[c],h(c),g.reject);return g.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Q.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var R=r.Deferred();r.fn.ready=function(a){return R.then(a)["catch"](function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||R.resolveWith(d,[r]))}}),r.ready.then=R.then;function S(){d.removeEventListener("DOMContentLoaded",S),a.removeEventListener("load",S),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",S),a.addEventListener("load",S));var T=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)T(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},U=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function V(){this.expando=r.expando+V.uid++}V.uid=1,V.prototype={cache:function(a){var b=a[this.expando];return b||(b={},U(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(L)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var W=new V,X=new V,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function $(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Y.test(a)?JSON.parse(a):a)}function _(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Z,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=$(c)}catch(e){}X.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return X.hasData(a)||W.hasData(a)},data:function(a,b,c){return X.access(a,b,c)},removeData:function(a,b){X.remove(a,b)},_data:function(a,b,c){return W.access(a,b,c)},_removeData:function(a,b){W.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=X.get(f),1===f.nodeType&&!W.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),_(f,d,e[d])));W.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){X.set(this,a)}):T(this,function(b){var c;if(f&&void 0===b){if(c=X.get(f,a),void 0!==c)return c;if(c=_(f,a),void 0!==c)return c}else this.each(function(){X.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){X.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=W.get(a,b),c&&(!d||Array.isArray(c)?d=W.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return W.get(a,c)||W.access(a,c,{empty:r.Callbacks("once memory").add(function(){W.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=W.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ba=new RegExp("^(?:([+-])=|)("+aa+")([a-z%]*)$","i"),ca=["Top","Right","Bottom","Left"],da=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},ea=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function fa(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&ba.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var ga={};function ha(a){var b,c=a.ownerDocument,d=a.nodeName,e=ga[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),ga[d]=e,e)}function ia(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=W.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&da(d)&&(e[f]=ha(d))):"none"!==c&&(e[f]="none",W.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ia(this,!0)},hide:function(){return ia(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){da(this)?r(this).show():r(this).hide()})}});var ja=/^(?:checkbox|radio)$/i,ka=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,la=/^$|\/(?:java|ecma)script/i,ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ma.optgroup=ma.option,ma.tbody=ma.tfoot=ma.colgroup=ma.caption=ma.thead,ma.th=ma.td;function na(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&B(a,b)?r.merge([a],c):c}function oa(a,b){for(var c=0,d=a.length;c<d;c++)W.set(a[c],"globalEval",!b||W.get(b[c],"globalEval"))}var pa=/<|&#?\w+;/;function qa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(pa.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ka.exec(f)||["",""])[1].toLowerCase(),i=ma[h]||ma._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=na(l.appendChild(f),"script"),j&&oa(g),c){k=0;while(f=g[k++])la.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var ra=d.documentElement,sa=/^key/,ta=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ua=/^([^.]*)(?:\.(.+)|)/;function va(){return!0}function wa(){return!1}function xa(){try{return d.activeElement}catch(a){}}function ya(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ya(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=wa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(ra,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(L)||[""],j=b.length;while(j--)h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.hasData(a)&&W.get(a);if(q&&(i=q.events)){b=(b||"").match(L)||[""],j=b.length;while(j--)if(h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&W.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(W.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&B(this,"input"))return this.click(),!1},_default:function(a){return B(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?va:wa,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:wa,isPropagationStopped:wa,isImmediatePropagationStopped:wa,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=va,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=va,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=va,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&sa.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&ta.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return ya(this,a,b,c,d)},one:function(a,b,c,d){return ya(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=wa),this.each(function(){r.event.remove(this,a,c,b)})}});var za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Aa=/<script|<style|<link/i,Ba=/checked\s*(?:[^=]|=\s*.checked.)/i,Ca=/^true\/(.*)/,Da=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ea(a,b){return B(a,"table")&&B(11!==b.nodeType?b:b.firstChild,"tr")?r(">tbody",a)[0]||a:a}function Fa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Ga(a){var b=Ca.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ha(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(W.hasData(a)&&(f=W.access(a),g=W.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}X.hasData(a)&&(h=X.access(a),i=r.extend({},h),X.set(b,i))}}function Ia(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ja.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ja(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Ba.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ja(f,b,c,d)});if(m&&(e=qa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(na(e,"script"),Fa),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,na(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Ga),l=0;l<i;l++)j=h[l],la.test(j.type||"")&&!W.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Da,""),k))}return a}function Ka(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(na(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&oa(na(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(za,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=na(h),f=na(a),d=0,e=f.length;d<e;d++)Ia(f[d],g[d]);if(b)if(c)for(f=f||na(a),g=g||na(h),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);else Ha(a,h);return g=na(h,"script"),g.length>0&&oa(g,!i&&na(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(U(c)){if(b=c[W.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[W.expando]=void 0}c[X.expando]&&(c[X.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ka(this,a,!0)},remove:function(a){return Ka(this,a)},text:function(a){return T(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.appendChild(a)}})},prepend:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(na(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return T(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Aa.test(a)&&!ma[(ka.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(na(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ja(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(na(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var La=/^margin/,Ma=new RegExp("^("+aa+")(?!px)[a-z%]+$","i"),Na=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",ra.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,ra.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Oa(a,b,c){var d,e,f,g,h=a.style;return c=c||Na(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&Ma.test(g)&&La.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Pa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Qa=/^(none|table(?!-c[ea]).+)/,Ra=/^--/,Sa={position:"absolute",visibility:"hidden",display:"block"},Ta={letterSpacing:"0",fontWeight:"400"},Ua=["Webkit","Moz","ms"],Va=d.createElement("div").style;function Wa(a){if(a in Va)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ua.length;while(c--)if(a=Ua[c]+b,a in Va)return a}function Xa(a){var b=r.cssProps[a];return b||(b=r.cssProps[a]=Wa(a)||a),b}function Ya(a,b,c){var d=ba.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Za(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ca[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ca[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ca[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ca[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ca[f]+"Width",!0,e)));return g}function $a(a,b,c){var d,e=Na(a),f=Oa(a,b,e),g="border-box"===r.css(a,"boxSizing",!1,e);return Ma.test(f)?f:(d=g&&(o.boxSizingReliable()||f===a.style[b]),"auto"===f&&(f=a["offset"+b[0].toUpperCase()+b.slice(1)]),f=parseFloat(f)||0,f+Za(a,b,c||(g?"border":"content"),d,e)+"px")}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Oa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=Ra.test(b),j=a.style;return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b]:(f=typeof c,"string"===f&&(e=ba.exec(c))&&e[1]&&(c=fa(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b),i=Ra.test(b);return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Oa(a,b,d)),"normal"===e&&b in Ta&&(e=Ta[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Qa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?$a(a,b,d):ea(a,Sa,function(){return $a(a,b,d)})},set:function(a,c,d){var e,f=d&&Na(a),g=d&&Za(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=ba.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Ya(a,c,g)}}}),r.cssHooks.marginLeft=Pa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Oa(a,"marginLeft"))||a.getBoundingClientRect().left-ea(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ca[d]+b]=f[d]||f[d-2]||f[0];return e}},La.test(a)||(r.cssHooks[a+b].set=Ya)}),r.fn.extend({css:function(a,b){return T(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=Na(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function _a(a,b,c,d,e){return new _a.prototype.init(a,b,c,d,e)}r.Tween=_a,_a.prototype={constructor:_a,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=_a.propHooks[this.prop];return a&&a.get?a.get(this):_a.propHooks._default.get(this)},run:function(a){var b,c=_a.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):_a.propHooks._default.set(this),this}},_a.prototype.init.prototype=_a.prototype,_a.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},_a.propHooks.scrollTop=_a.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=_a.prototype.init,r.fx.step={};var ab,bb,cb=/^(?:toggle|show|hide)$/,db=/queueHooks$/;function eb(){bb&&(d.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(eb):a.setTimeout(eb,r.fx.interval),r.fx.tick())}function fb(){return a.setTimeout(function(){ab=void 0}),ab=r.now()}function gb(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ca[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function hb(a,b,c){for(var d,e=(kb.tweeners[b]||[]).concat(kb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&da(a),q=W.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],cb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=W.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ia([a],!0),j=a.style.display||j,k=r.css(a,"display"),ia([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=W.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ia([a],!0),m.done(function(){p||ia([a]),W.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=hb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=kb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ab||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:ab||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);f<g;f++)if(d=kb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,hb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}r.Animation=r.extend(kb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return fa(c.elem,a,ba.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(L);for(var c,d=0,e=a.length;d<e;d++)c=a[d],kb.tweeners[c]=kb.tweeners[c]||[],kb.tweeners[c].unshift(b)},prefilters:[ib],prefilter:function(a,b){b?kb.prefilters.unshift(a):kb.prefilters.push(a)}}),r.speed=function(a,b,c){var d=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in r.fx.speeds?d.duration=r.fx.speeds[d.duration]:d.duration=r.fx.speeds._default),null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){r.isFunction(d.old)&&d.old.call(this),d.queue&&r.dequeue(this,d.queue)},d},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(da).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=kb(this,r.extend({},a),f);(e||W.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=W.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&db.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=W.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),r.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(ab=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),ab=void 0},r.fx.timer=function(a){r.timers.push(a),r.fx.start()},r.fx.interval=13,r.fx.start=function(){bb||(bb=!0,eb())},r.fx.stop=function(){bb=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var lb,mb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return T(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?lb:void 0)),void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&B(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(L);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c)}}),lb={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=mb[b]||r.find.attr;mb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=mb[g],mb[g]=e,e=null!=c(a,b,d)?g:null,mb[g]=f),e}});var nb=/^(?:input|select|textarea|button)$/i,ob=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return T(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):nb.test(a.nodeName)||ob.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function pb(a){var b=a.match(L)||[];return b.join(" ")}function qb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,qb(this)))});if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,qb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,qb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(L)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=qb(this),b&&W.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":W.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+pb(qb(c))+" ").indexOf(b)>-1)return!0;return!1}});var rb=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:pb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!B(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var sb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!sb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,sb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(W.get(h,"events")||{})[b.type]&&W.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&U(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!U(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=W.access(d,b);e||d.addEventListener(a,c,!0),W.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=W.access(d,b)-1;e?W.access(d,b,e):(d.removeEventListener(a,c,!0),W.remove(d,b))}}});var tb=a.location,ub=r.now(),vb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(Array.isArray(b))r.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!ja.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:Array.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}});var Bb=/%20/g,Cb=/#.*$/,Db=/([?&])_=[^&]*/,Eb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gb=/^(?:GET|HEAD)$/,Hb=/^\/\//,Ib={},Jb={},Kb="*/".concat("*"),Lb=d.createElement("a");Lb.href=tb.href;function Mb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(L)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nb(a,b,c,d){var e={},f=a===Jb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Ob(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Pb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Qb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tb.href,type:"GET",isLocal:Fb.test(tb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Ob(Ob(a,r.ajaxSettings),b):Ob(r.ajaxSettings,a)},ajaxPrefilter:Mb(Ib),ajaxTransport:Mb(Jb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Eb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||tb.href)+"").replace(Hb,tb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(L)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Lb.protocol+"//"+Lb.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Nb(Ib,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Gb.test(o.type),f=o.url.replace(Cb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Bb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(vb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Db,"$1"),n=(vb.test(f)?"&":"?")+"_="+ub++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Kb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Nb(Jb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Pb(o,y,d)),v=Qb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Rb={0:200,1223:204},Sb=r.ajaxSettings.xhr();o.cors=!!Sb&&"withCredentials"in Sb,o.ajax=Sb=!!Sb,r.ajaxTransport(function(b){var c,d;if(o.cors||Sb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Rb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Tb=[],Ub=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Tb.pop()||r.expando+"_"+ub++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ub.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ub.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ub,"$1"+e):b.jsonp!==!1&&(b.url+=(vb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Tb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=C.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=qa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=pb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length},r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),b=f.ownerDocument,c=b.documentElement,e=b.defaultView,{top:d.top+e.pageYOffset-c.clientTop,left:d.left+e.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),B(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||ra})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return T(this,function(a,d,e){var f;return r.isWindow(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Pa(o.pixelPosition,function(a,c){if(c)return c=Oa(a,b),Ma.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return T(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.holdReady=function(a){a?r.readyWait++:r.ready(!0)},r.isArray=Array.isArray,r.parseJSON=JSON.parse,r.nodeName=B,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Vb=a.jQuery,Wb=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Wb),b&&a.jQuery===r&&(a.jQuery=Vb),r},b||(a.jQuery=a.$=r),r});(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}t.ui=t.ui||{},t.ui.version="1.12.1";var i=0,s=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:h}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,n,o=s.call(arguments,1),a=0,r=o.length;r>a;a++)for(i in o[a])n=o[a][i],o[a].hasOwnProperty(i)&&void 0!==n&&(e[i]=t.isPlainObject(n)?t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=s.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?n.on(h,c,r):i.on(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,l=t(this),h=l.outerWidth(),c=l.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=h+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),T=e(k.my,l.outerWidth(),l.outerHeight());"right"===n.my[0]?D.left-=h:"center"===n.my[0]&&(D.left-=h/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=T[0],D.top+=T[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:h,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+T[0],u[1]+T[1]],my:n.my,at:n.at,within:b,elem:l})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-h,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:D.left,top:D.top,width:h,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};h>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),l.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-r-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-r-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(i,s){var n,o,a,r,l,h=i.nodeName.toLowerCase();return"area"===h?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(h)?(r=!i.disabled,r&&(l=t(i).closest("fieldset")[0],l&&(r=!l.disabled))):r="a"===h?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var n=!1;t(document).on("mouseup",function(){n=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!n){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,o="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),n=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,n=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,l,h,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)l=s.snapElements[d].left-s.margins.left,h=l+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,l-g>_||m>h+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(l-_),r=g>=Math.abs(h-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(l-m),r=g>=Math.abs(h-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&o(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var o=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,l=a+e.helperProportions.height,h=i.offset.left,c=i.offset.top,u=h+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=h&&u>=r&&a>=c&&d>=l;case"intersect":return o+e.helperProportions.width/2>h&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>l-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,h,i.proportions().width);case"touch":return(a>=c&&d>=a||l>=c&&d>=l||c>a&&l>d)&&(o>=h&&u>=o||r>=h&&u>=r||h>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&o(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,r=o(e,this,this.options.tolerance,i),l=!r&&this.isover?"isout":r&&!this.isover?"isover":null;l&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),a.length&&(s=t(a[0]).droppable("instance"),s.greedyChild="isover"===l)),s&&"isover"===l&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,i),s&&"isout"===l&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+h>r&&l>s+h,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],l=[],h=this._connectWith();if(h&&e)for(s=h.length-1;s>=0;s--)for(o=t(h[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=l.length-1;s>=0;s--)l[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,h=r.length;h>s;s++)l=t(r[s]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,l,h,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(l=this.items[s].item.offset()[a],h=!1,e[u]-l>this.items[s][r]/2&&(h=!0),n>Math.abs(e[u]-l)&&(n=Math.abs(e[u]-l),o=this.items[s],this.direction=h?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete});(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Chart=f()}})(function(){var define,module,exports;return(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){},{}],2:[function(require,module,exports){var colorNames=require(6);module.exports={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword}
function getRgba(string){if(!string){return}
var abbr=/^#([a-fA-F0-9]{3})$/i,hex=/^#([a-fA-F0-9]{6})$/i,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,keyword=/(\w+)/;var rgb=[0,0,0],a=1,match=string.match(abbr);if(match){match=match[1];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i]+match[i],16)}}
else if(match=string.match(hex)){match=match[1];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match.slice(i*2,i*2+2),16)}}
else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i+1])}
a=parseFloat(match[4])}
else if(match=string.match(per)){for(var i=0;i<rgb.length;i++){rgb[i]=Math.round(parseFloat(match[i+1])*2.55)}
a=parseFloat(match[4])}
else if(match=string.match(keyword)){if(match[1]=="transparent"){return[0,0,0,0]}
rgb=colorNames[match[1]];if(!rgb){return}}
for(var i=0;i<rgb.length;i++){rgb[i]=scale(rgb[i],0,255)}
if(!a&&a!=0){a=1}
else{a=scale(a,0,1)}
rgb[3]=a;return rgb}
function getHsla(string){if(!string){return}
var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hsl);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a]}}
function getHwb(string){if(!string){return}
var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hwb);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a]}}
function getRgb(string){var rgba=getRgba(string);return rgba&&rgba.slice(0,3)}
function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3)}
function getAlpha(string){var vals=getRgba(string);if(vals){return vals[3]}
else if(vals=getHsla(string)){return vals[3]}
else if(vals=getHwb(string)){return vals[3]}}
function hexString(rgb){return "#"+hexDouble(rgb[0])+hexDouble(rgb[1])+hexDouble(rgb[2])}
function rgbString(rgba,alpha){if(alpha<1||(rgba[3]&&rgba[3]<1)){return rgbaString(rgba,alpha)}
return "rgb("+rgba[0]+", "+rgba[1]+", "+rgba[2]+")"}
function rgbaString(rgba,alpha){if(alpha===undefined){alpha=(rgba[3]!==undefined?rgba[3]:1)}
return "rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]+", "+alpha+")"}
function percentString(rgba,alpha){if(alpha<1||(rgba[3]&&rgba[3]<1)){return percentaString(rgba,alpha)}
var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return "rgb("+r+"%, "+g+"%, "+b+"%)"}
function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return "rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")"}
function hslString(hsla,alpha){if(alpha<1||(hsla[3]&&hsla[3]<1)){return hslaString(hsla,alpha)}
return "hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)"}
function hslaString(hsla,alpha){if(alpha===undefined){alpha=(hsla[3]!==undefined?hsla[3]:1)}
return "hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+alpha+")"}
function hwbString(hwb,alpha){if(alpha===undefined){alpha=(hwb[3]!==undefined?hwb[3]:1)}
return "hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"+(alpha!==undefined&&alpha!==1?", "+alpha:"")+")"}
function keyword(rgb){return reverseNames[rgb.slice(0,3)]}
function scale(num,min,max){return Math.min(Math.max(min,num),max)}
function hexDouble(num){var str=num.toString(16).toUpperCase();return(str.length<2)?"0"+str:str}
var reverseNames={};for(var name in colorNames){reverseNames[colorNames[name]]=name}},{"6":6}],3:[function(require,module,exports){var convert=require(5);var string=require(2);var Color=function(obj){if(obj instanceof Color){return obj}
if(!(this instanceof Color)){return new Color(obj)}
this.valid=!1;this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var vals;if(typeof obj==='string'){vals=string.getRgba(obj);if(vals){this.setValues('rgb',vals)}else if(vals=string.getHsla(obj)){this.setValues('hsl',vals)}else if(vals=string.getHwb(obj)){this.setValues('hwb',vals)}}else if(typeof obj==='object'){vals=obj;if(vals.r!==undefined||vals.red!==undefined){this.setValues('rgb',vals)}else if(vals.l!==undefined||vals.lightness!==undefined){this.setValues('hsl',vals)}else if(vals.v!==undefined||vals.value!==undefined){this.setValues('hsv',vals)}else if(vals.w!==undefined||vals.whiteness!==undefined){this.setValues('hwb',vals)}else if(vals.c!==undefined||vals.cyan!==undefined){this.setValues('cmyk',vals)}}};Color.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace('rgb',arguments)},hsl:function(){return this.setSpace('hsl',arguments)},hsv:function(){return this.setSpace('hsv',arguments)},hwb:function(){return this.setSpace('hwb',arguments)},cmyk:function(){return this.setSpace('cmyk',arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var values=this.values;if(values.alpha!==1){return values.hwb.concat([values.alpha])}
return values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var values=this.values;return values.rgb.concat([values.alpha])},hslaArray:function(){var values=this.values;return values.hsl.concat([values.alpha])},alpha:function(val){if(val===undefined){return this.values.alpha}
this.setValues('alpha',val);return this},red:function(val){return this.setChannel('rgb',0,val)},green:function(val){return this.setChannel('rgb',1,val)},blue:function(val){return this.setChannel('rgb',2,val)},hue:function(val){if(val){val%=360;val=val<0?360+val:val}
return this.setChannel('hsl',0,val)},saturation:function(val){return this.setChannel('hsl',1,val)},lightness:function(val){return this.setChannel('hsl',2,val)},saturationv:function(val){return this.setChannel('hsv',1,val)},whiteness:function(val){return this.setChannel('hwb',1,val)},blackness:function(val){return this.setChannel('hwb',2,val)},value:function(val){return this.setChannel('hsv',2,val)},cyan:function(val){return this.setChannel('cmyk',0,val)},magenta:function(val){return this.setChannel('cmyk',1,val)},yellow:function(val){return this.setChannel('cmyk',2,val)},black:function(val){return this.setChannel('cmyk',3,val)},hexString:function(){return string.hexString(this.values.rgb)},rgbString:function(){return string.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return string.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return string.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return string.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return string.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return string.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return string.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var rgb=this.values.rgb;return(rgb[0]<<16)|(rgb[1]<<8)|rgb[2]},luminosity:function(){var rgb=this.values.rgb;var lum=[];for(var i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=(chan<=0.03928)?chan/12.92:Math.pow(((chan+0.055)/1.055),2.4)}
return 0.2126*lum[0]+0.7152*lum[1]+0.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity();var lum2=color2.luminosity();if(lum1>lum2){return(lum1+0.05)/(lum2+0.05)}
return(lum2+0.05)/(lum1+0.05)},level:function(color2){var contrastRatio=this.contrast(color2);if(contrastRatio>=7.1){return 'AAA'}
return(contrastRatio>=4.5)?'AA':''},dark:function(){var rgb=this.values.rgb;var yiq=(rgb[0]*299+rgb[1]*587+rgb[2]*114)/1000;return yiq<128},light:function(){return!this.dark()},negate:function(){var rgb=[];for(var i=0;i<3;i++){rgb[i]=255-this.values.rgb[i]}
this.setValues('rgb',rgb);return this},lighten:function(ratio){var hsl=this.values.hsl;hsl[2]+=hsl[2]*ratio;this.setValues('hsl',hsl);return this},darken:function(ratio){var hsl=this.values.hsl;hsl[2]-=hsl[2]*ratio;this.setValues('hsl',hsl);return this},saturate:function(ratio){var hsl=this.values.hsl;hsl[1]+=hsl[1]*ratio;this.setValues('hsl',hsl);return this},desaturate:function(ratio){var hsl=this.values.hsl;hsl[1]-=hsl[1]*ratio;this.setValues('hsl',hsl);return this},whiten:function(ratio){var hwb=this.values.hwb;hwb[1]+=hwb[1]*ratio;this.setValues('hwb',hwb);return this},blacken:function(ratio){var hwb=this.values.hwb;hwb[2]+=hwb[2]*ratio;this.setValues('hwb',hwb);return this},greyscale:function(){var rgb=this.values.rgb;var val=rgb[0]*0.3+rgb[1]*0.59+rgb[2]*0.11;this.setValues('rgb',[val,val,val]);return this},clearer:function(ratio){var alpha=this.values.alpha;this.setValues('alpha',alpha-(alpha*ratio));return this},opaquer:function(ratio){var alpha=this.values.alpha;this.setValues('alpha',alpha+(alpha*ratio));return this},rotate:function(degrees){var hsl=this.values.hsl;var hue=(hsl[0]+degrees)%360;hsl[0]=hue<0?360+hue:hue;this.setValues('hsl',hsl);return this},mix:function(mixinColor,weight){var color1=this;var color2=mixinColor;var p=weight===undefined?0.5:weight;var w=2*p-1;var a=color1.alpha()-color2.alpha();var w1=(((w*a===-1)?w:(w+a)/(1+w*a))+1)/2.0;var w2=1-w1;return this.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue()).alpha(color1.alpha()*p+color2.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){var result=new Color();var source=this.values;var target=result.values;var value,type;for(var prop in source){if(source.hasOwnProperty(prop)){value=source[prop];type=({}).toString.call(value);if(type==='[object Array]'){target[prop]=value.slice(0)}else if(type==='[object Number]'){target[prop]=value}else{console.error('unexpected color value:',value)}}}
return result}};Color.prototype.spaces={rgb:['red','green','blue'],hsl:['hue','saturation','lightness'],hsv:['hue','saturation','value'],hwb:['hue','whiteness','blackness'],cmyk:['cyan','magenta','yellow','black']};Color.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};Color.prototype.getValues=function(space){var values=this.values;var vals={};for(var i=0;i<space.length;i++){vals[space.charAt(i)]=values[space][i]}
if(values.alpha!==1){vals.a=values.alpha}
return vals};Color.prototype.setValues=function(space,vals){var values=this.values;var spaces=this.spaces;var maxes=this.maxes;var alpha=1;var i;this.valid=!0;if(space==='alpha'){alpha=vals}else if(vals.length){values[space]=vals.slice(0,space.length);alpha=vals[space.length]}else if(vals[space.charAt(0)]!==undefined){for(i=0;i<space.length;i++){values[space][i]=vals[space.charAt(i)]}
alpha=vals.a}else if(vals[spaces[space][0]]!==undefined){var chans=spaces[space];for(i=0;i<space.length;i++){values[space][i]=vals[chans[i]]}
alpha=vals.alpha}
values.alpha=Math.max(0,Math.min(1,(alpha===undefined?values.alpha:alpha)));if(space==='alpha'){return!1}
var capped;for(i=0;i<space.length;i++){capped=Math.max(0,Math.min(maxes[space][i],values[space][i]));values[space][i]=Math.round(capped)}
for(var sname in spaces){if(sname!==space){values[sname]=convert[space][sname](values[space])}}
return!0};Color.prototype.setSpace=function(space,args){var vals=args[0];if(vals===undefined){return this.getValues(space)}
if(typeof vals==='number'){vals=Array.prototype.slice.call(args)}
this.setValues(space,vals);return this};Color.prototype.setChannel=function(space,index,val){var svalues=this.values[space];if(val===undefined){return svalues[index]}else if(val===svalues[index]){return this}
svalues[index]=val;this.setValues(space,svalues);return this};if(typeof window!=='undefined'){window.Color=Color}
module.exports=Color},{"2":2,"5":5}],4:[function(require,module,exports){module.exports={rgb2hsl:rgb2hsl,rgb2hsv:rgb2hsv,rgb2hwb:rgb2hwb,rgb2cmyk:rgb2cmyk,rgb2keyword:rgb2keyword,rgb2xyz:rgb2xyz,rgb2lab:rgb2lab,rgb2lch:rgb2lch,hsl2rgb:hsl2rgb,hsl2hsv:hsl2hsv,hsl2hwb:hsl2hwb,hsl2cmyk:hsl2cmyk,hsl2keyword:hsl2keyword,hsv2rgb:hsv2rgb,hsv2hsl:hsv2hsl,hsv2hwb:hsv2hwb,hsv2cmyk:hsv2cmyk,hsv2keyword:hsv2keyword,hwb2rgb:hwb2rgb,hwb2hsl:hwb2hsl,hwb2hsv:hwb2hsv,hwb2cmyk:hwb2cmyk,hwb2keyword:hwb2keyword,cmyk2rgb:cmyk2rgb,cmyk2hsl:cmyk2hsl,cmyk2hsv:cmyk2hsv,cmyk2hwb:cmyk2hwb,cmyk2keyword:cmyk2keyword,keyword2rgb:keyword2rgb,keyword2hsl:keyword2hsl,keyword2hsv:keyword2hsv,keyword2hwb:keyword2hwb,keyword2cmyk:keyword2cmyk,keyword2lab:keyword2lab,keyword2xyz:keyword2xyz,xyz2rgb:xyz2rgb,xyz2lab:xyz2lab,xyz2lch:xyz2lch,lab2xyz:lab2xyz,lab2rgb:lab2rgb,lab2lch:lab2lch,lch2lab:lch2lab,lch2xyz:lch2xyz,lch2rgb:lch2rgb}
function rgb2hsl(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min,h,s,l;if(max==min)
h=0;else if(r==max)
h=(g-b)/delta;else if(g==max)
h=2+(b-r)/delta;else if(b==max)
h=4+(r-g)/delta;h=Math.min(h*60,360);if(h<0)
h+=360;l=(min+max)/2;if(max==min)
s=0;else if(l<=0.5)
s=delta/(max+min);else s=delta/(2-max-min);return[h,s*100,l*100]}
function rgb2hsv(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min,h,s,v;if(max==0)
s=0;else s=(delta/max*1000)/10;if(max==min)
h=0;else if(r==max)
h=(g-b)/delta;else if(g==max)
h=2+(b-r)/delta;else if(b==max)
h=4+(r-g)/delta;h=Math.min(h*60,360);if(h<0)
h+=360;v=((max/255)*1000)/10;return[h,s,v]}
function rgb2hwb(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],h=rgb2hsl(rgb)[0],w=1/255*Math.min(r,Math.min(g,b)),b=1-1/255*Math.max(r,Math.max(g,b));return[h,w*100,b*100]}
function rgb2cmyk(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,c,m,y,k;k=Math.min(1-r,1-g,1-b);c=(1-r-k)/(1-k)||0;m=(1-g-k)/(1-k)||0;y=(1-b-k)/(1-k)||0;return[c*100,m*100,y*100,k*100]}
function rgb2keyword(rgb){return reverseKeywords[JSON.stringify(rgb)]}
function rgb2xyz(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;r=r>0.04045?Math.pow(((r+0.055)/1.055),2.4):(r/12.92);g=g>0.04045?Math.pow(((g+0.055)/1.055),2.4):(g/12.92);b=b>0.04045?Math.pow(((b+0.055)/1.055),2.4):(b/12.92);var x=(r*0.4124)+(g*0.3576)+(b*0.1805);var y=(r*0.2126)+(g*0.7152)+(b*0.0722);var z=(r*0.0193)+(g*0.1192)+(b*0.9505);return[x*100,y*100,z*100]}
function rgb2lab(rgb){var xyz=rgb2xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2],l,a,b;x/=95.047;y/=100;z/=108.883;x=x>0.008856?Math.pow(x,1/3):(7.787*x)+(16/116);y=y>0.008856?Math.pow(y,1/3):(7.787*y)+(16/116);z=z>0.008856?Math.pow(z,1/3):(7.787*z)+(16/116);l=(116*y)-16;a=500*(x-y);b=200*(y-z);return[l,a,b]}
function rgb2lch(args){return lab2lch(rgb2lab(args))}
function hsl2rgb(hsl){var h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100,t1,t2,t3,rgb,val;if(s==0){val=l*255;return[val,val,val]}
if(l<0.5)
t2=l*(1+s);else t2=l+s-l*s;t1=2*l-t2;rgb=[0,0,0];for(var i=0;i<3;i++){t3=h+1/3*-(i-1);t3<0&&t3++;t3>1&&t3--;if(6*t3<1)
val=t1+(t2-t1)*6*t3;else if(2*t3<1)
val=t2;else if(3*t3<2)
val=t1+(t2-t1)*(2/3-t3)*6;else val=t1;rgb[i]=val*255}
return rgb}
function hsl2hsv(hsl){var h=hsl[0],s=hsl[1]/100,l=hsl[2]/100,sv,v;if(l===0){return[0,0,0]}
l*=2;s*=(l<=1)?l:2-l;v=(l+s)/2;sv=(2*s)/(l+s);return[h,sv*100,v*100]}
function hsl2hwb(args){return rgb2hwb(hsl2rgb(args))}
function hsl2cmyk(args){return rgb2cmyk(hsl2rgb(args))}
function hsl2keyword(args){return rgb2keyword(hsl2rgb(args))}
function hsv2rgb(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6;var f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-(s*f)),t=255*v*(1-(s*(1-f))),v=255*v;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}}
function hsv2hsl(hsv){var h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,sl,l;l=(2-s)*v;sl=s*v;sl/=(l<=1)?l:2-l;sl=sl||0;l/=2;return[h,sl*100,l*100]}
function hsv2hwb(args){return rgb2hwb(hsv2rgb(args))}
function hsv2cmyk(args){return rgb2cmyk(hsv2rgb(args))}
function hsv2keyword(args){return rgb2keyword(hsv2rgb(args))}
function hwb2rgb(hwb){var h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl,i,v,f,n;if(ratio>1){wh/=ratio;bl/=ratio}
i=Math.floor(6*h);v=1-bl;f=6*h-i;if((i&0x01)!=0){f=1-f}
n=wh+f*(v-wh);switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break}
return[r*255,g*255,b*255]}
function hwb2hsl(args){return rgb2hsl(hwb2rgb(args))}
function hwb2hsv(args){return rgb2hsv(hwb2rgb(args))}
function hwb2cmyk(args){return rgb2cmyk(hwb2rgb(args))}
function hwb2keyword(args){return rgb2keyword(hwb2rgb(args))}
function cmyk2rgb(cmyk){var c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100,r,g,b;r=1-Math.min(1,c*(1-k)+k);g=1-Math.min(1,m*(1-k)+k);b=1-Math.min(1,y*(1-k)+k);return[r*255,g*255,b*255]}
function cmyk2hsl(args){return rgb2hsl(cmyk2rgb(args))}
function cmyk2hsv(args){return rgb2hsv(cmyk2rgb(args))}
function cmyk2hwb(args){return rgb2hwb(cmyk2rgb(args))}
function cmyk2keyword(args){return rgb2keyword(cmyk2rgb(args))}
function xyz2rgb(xyz){var x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100,r,g,b;r=(x*3.2406)+(y*-1.5372)+(z*-0.4986);g=(x*-0.9689)+(y*1.8758)+(z*0.0415);b=(x*0.0557)+(y*-0.2040)+(z*1.0570);r=r>0.0031308?((1.055*Math.pow(r,1.0/2.4))-0.055):r=(r*12.92);g=g>0.0031308?((1.055*Math.pow(g,1.0/2.4))-0.055):g=(g*12.92);b=b>0.0031308?((1.055*Math.pow(b,1.0/2.4))-0.055):b=(b*12.92);r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255]}
function xyz2lab(xyz){var x=xyz[0],y=xyz[1],z=xyz[2],l,a,b;x/=95.047;y/=100;z/=108.883;x=x>0.008856?Math.pow(x,1/3):(7.787*x)+(16/116);y=y>0.008856?Math.pow(y,1/3):(7.787*y)+(16/116);z=z>0.008856?Math.pow(z,1/3):(7.787*z)+(16/116);l=(116*y)-16;a=500*(x-y);b=200*(y-z);return[l,a,b]}
function xyz2lch(args){return lab2lch(xyz2lab(args))}
function lab2xyz(lab){var l=lab[0],a=lab[1],b=lab[2],x,y,z,y2;if(l<=8){y=(l*100)/903.3;y2=(7.787*(y/100))+(16/116)}else{y=100*Math.pow((l+16)/116,3);y2=Math.pow(y/100,1/3)}
x=x/95.047<=0.008856?x=(95.047*((a/500)+y2-(16/116)))/7.787:95.047*Math.pow((a/500)+y2,3);z=z/108.883<=0.008859?z=(108.883*(y2-(b/200)-(16/116)))/7.787:108.883*Math.pow(y2-(b/200),3);return[x,y,z]}
function lab2lch(lab){var l=lab[0],a=lab[1],b=lab[2],hr,h,c;hr=Math.atan2(b,a);h=hr*360/2/Math.PI;if(h<0){h+=360}
c=Math.sqrt(a*a+b*b);return[l,c,h]}
function lab2rgb(args){return xyz2rgb(lab2xyz(args))}
function lch2lab(lch){var l=lch[0],c=lch[1],h=lch[2],a,b,hr;hr=h/360*2*Math.PI;a=c*Math.cos(hr);b=c*Math.sin(hr);return[l,a,b]}
function lch2xyz(args){return lab2xyz(lch2lab(args))}
function lch2rgb(args){return lab2rgb(lch2lab(args))}
function keyword2rgb(keyword){return cssKeywords[keyword]}
function keyword2hsl(args){return rgb2hsl(keyword2rgb(args))}
function keyword2hsv(args){return rgb2hsv(keyword2rgb(args))}
function keyword2hwb(args){return rgb2hwb(keyword2rgb(args))}
function keyword2cmyk(args){return rgb2cmyk(keyword2rgb(args))}
function keyword2lab(args){return rgb2lab(keyword2rgb(args))}
function keyword2xyz(args){return rgb2xyz(keyword2rgb(args))}
var cssKeywords={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var reverseKeywords={};for(var key in cssKeywords){reverseKeywords[JSON.stringify(cssKeywords[key])]=key}},{}],5:[function(require,module,exports){var conversions=require(4);var convert=function(){return new Converter()}
for(var func in conversions){convert[func+"Raw"]=(function(func){return function(arg){if(typeof arg=="number")
arg=Array.prototype.slice.call(arguments);return conversions[func](arg)}})(func);var pair=/(\w+)2(\w+)/.exec(func),from=pair[1],to=pair[2];convert[from]=convert[from]||{};convert[from][to]=convert[func]=(function(func){return function(arg){if(typeof arg=="number")
arg=Array.prototype.slice.call(arguments);var val=conversions[func](arg);if(typeof val=="string"||val===undefined)
return val;for(var i=0;i<val.length;i++)
val[i]=Math.round(val[i]);return val}})(func)}
var Converter=function(){this.convs={}};Converter.prototype.routeSpace=function(space,args){var values=args[0];if(values===undefined){return this.getValues(space)}
if(typeof values=="number"){values=Array.prototype.slice.call(args)}
return this.setValues(space,values)};Converter.prototype.setValues=function(space,values){this.space=space;this.convs={};this.convs[space]=values;return this};Converter.prototype.getValues=function(space){var vals=this.convs[space];if(!vals){var fspace=this.space,from=this.convs[fspace];vals=convert[fspace][space](from);this.convs[space]=vals}
return vals};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(space){Converter.prototype[space]=function(vals){return this.routeSpace(space,arguments)}});module.exports=convert},{"4":4}],6:[function(require,module,exports){'use strict'
module.exports={"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aqua":[0,255,255],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"black":[0,0,0],"blanchedalmond":[255,235,205],"blue":[0,0,255],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"fuchsia":[255,0,255],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"gray":[128,128,128],"green":[0,128,0],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"lime":[0,255,0],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"maroon":[128,0,0],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"navy":[0,0,128],"oldlace":[253,245,230],"olive":[128,128,0],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"purple":[128,0,128],"rebeccapurple":[102,51,153],"red":[255,0,0],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"silver":[192,192,192],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"teal":[0,128,128],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"white":[255,255,255],"whitesmoke":[245,245,245],"yellow":[255,255,0],"yellowgreen":[154,205,50]}},{}],7:[function(require,module,exports){var Chart=require(29)();Chart.helpers=require(45);require(27)(Chart);Chart.defaults=require(25);Chart.Element=require(26);Chart.elements=require(40);Chart.Interaction=require(28);Chart.layouts=require(30);Chart.platform=require(48);Chart.plugins=require(31);Chart.Ticks=require(34);require(22)(Chart);require(23)(Chart);require(24)(Chart);require(33)(Chart);require(32)(Chart);require(35)(Chart);require(55)(Chart);require(53)(Chart);require(54)(Chart);require(56)(Chart);require(57)(Chart);require(58)(Chart);require(15)(Chart);require(16)(Chart);require(17)(Chart);require(18)(Chart);require(19)(Chart);require(20)(Chart);require(21)(Chart);require(8)(Chart);require(9)(Chart);require(10)(Chart);require(11)(Chart);require(12)(Chart);require(13)(Chart);require(14)(Chart);var plugins=require(49);for(var k in plugins){if(plugins.hasOwnProperty(k)){Chart.plugins.register(plugins[k])}}
Chart.platform.initialize();module.exports=Chart;if(typeof window!=='undefined'){window.Chart=Chart}
Chart.Legend=plugins.legend._element;Chart.Title=plugins.title._element;Chart.pluginService=Chart.plugins;Chart.PluginBase=Chart.Element.extend({});Chart.canvasHelpers=Chart.helpers.canvas;Chart.layoutService=Chart.layouts},{"10":10,"11":11,"12":12,"13":13,"14":14,"15":15,"16":16,"17":17,"18":18,"19":19,"20":20,"21":21,"22":22,"23":23,"24":24,"25":25,"26":26,"27":27,"28":28,"29":29,"30":30,"31":31,"32":32,"33":33,"34":34,"35":35,"40":40,"45":45,"48":48,"49":49,"53":53,"54":54,"55":55,"56":56,"57":57,"58":58,"8":8,"9":9}],8:[function(require,module,exports){'use strict';module.exports=function(Chart){Chart.Bar=function(context,config){config.type='bar';return new Chart(context,config)}}},{}],9:[function(require,module,exports){'use strict';module.exports=function(Chart){Chart.Bubble=function(context,config){config.type='bubble';return new Chart(context,config)}}},{}],10:[function(require,module,exports){'use strict';module.exports=function(Chart){Chart.Doughnut=function(context,config){config.type='doughnut';return new Chart(context,config)}}},{}],11:[function(require,module,exports){'use strict';module.exports=function(Chart){Chart.Line=function(context,config){config.type='line';return new Chart(context,config)}}},{}],12:[function(require,module,exports){'use strict';module.exports=function(Chart){Chart.PolarArea=function(context,config){config.type='polarArea';return new Chart(context,config)}}},{}],13:[function(require,module,exports){'use strict';module.exports=function(Chart){Chart.Radar=function(context,config){config.type='radar';return new Chart(context,config)}}},{}],14:[function(require,module,exports){'use strict';module.exports=function(Chart){Chart.Scatter=function(context,config){config.type='scatter';return new Chart(context,config)}}},{}],15:[function(require,module,exports){'use strict';var defaults=require(25);var elements=require(40);var helpers=require(45);defaults._set('bar',{hover:{mode:'label'},scales:{xAxes:[{type:'category',categoryPercentage:0.8,barPercentage:0.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:'linear'}]}});defaults._set('horizontalBar',{hover:{mode:'index',axis:'y'},scales:{xAxes:[{type:'linear',position:'bottom'}],yAxes:[{position:'left',type:'category',categoryPercentage:0.8,barPercentage:0.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:'left'}},tooltips:{callbacks:{title:function(item,data){var title='';if(item.length>0){if(item[0].yLabel){title=item[0].yLabel}else if(data.labels.length>0&&item[0].index<data.labels.length){title=data.labels[item[0].index]}}
return title},label:function(item,data){var datasetLabel=data.datasets[item.datasetIndex].label||'';return datasetLabel+': '+item.xLabel}},mode:'index',axis:'y'}});function computeMinSampleSize(scale,pixels){var min=scale.isHorizontal()?scale.width:scale.height;var ticks=scale.getTicks();var prev,curr,i,ilen;for(i=1,ilen=pixels.length;i<ilen;++i){min=Math.min(min,pixels[i]-pixels[i-1])}
for(i=0,ilen=ticks.length;i<ilen;++i){curr=scale.getPixelForTick(i);min=i>0?Math.min(min,curr-prev):min;prev=curr}
return min}
function computeFitCategoryTraits(index,ruler,options){var thickness=options.barThickness;var count=ruler.stackCount;var curr=ruler.pixels[index];var size,ratio;if(helpers.isNullOrUndef(thickness)){size=ruler.min*options.categoryPercentage;ratio=options.barPercentage}else{size=thickness*count;ratio=1}
return{chunk:size/count,ratio:ratio,start:curr-(size/2)}}
function computeFlexCategoryTraits(index,ruler,options){var pixels=ruler.pixels;var curr=pixels[index];var prev=index>0?pixels[index-1]:null;var next=index<pixels.length-1?pixels[index+1]:null;var percent=options.categoryPercentage;var start,size;if(prev===null){prev=curr-(next===null?ruler.end-curr:next-curr)}
if(next===null){next=curr+curr-prev}
start=curr-((curr-prev)/2)*percent;size=((next-prev)/2)*percent;return{chunk:size/ruler.stackCount,ratio:options.barPercentage,start:start}}
module.exports=function(Chart){Chart.controllers.bar=Chart.DatasetController.extend({dataElementType:elements.Rectangle,initialize:function(){var me=this;var meta;Chart.DatasetController.prototype.initialize.apply(me,arguments);meta=me.getMeta();meta.stack=me.getDataset().stack;meta.bar=!0},update:function(reset){var me=this;var rects=me.getMeta().data;var i,ilen;me._ruler=me.getRuler();for(i=0,ilen=rects.length;i<ilen;++i){me.updateElement(rects[i],i,reset)}},updateElement:function(rectangle,index,reset){var me=this;var chart=me.chart;var meta=me.getMeta();var dataset=me.getDataset();var custom=rectangle.custom||{};var rectangleOptions=chart.options.elements.rectangle;rectangle._xScale=me.getScaleForId(meta.xAxisID);rectangle._yScale=me.getScaleForId(meta.yAxisID);rectangle._datasetIndex=me.index;rectangle._index=index;rectangle._model={datasetLabel:dataset.label,label:chart.data.labels[index],borderSkipped:custom.borderSkipped?custom.borderSkipped:rectangleOptions.borderSkipped,backgroundColor:custom.backgroundColor?custom.backgroundColor:helpers.valueAtIndexOrDefault(dataset.backgroundColor,index,rectangleOptions.backgroundColor),borderColor:custom.borderColor?custom.borderColor:helpers.valueAtIndexOrDefault(dataset.borderColor,index,rectangleOptions.borderColor),borderWidth:custom.borderWidth?custom.borderWidth:helpers.valueAtIndexOrDefault(dataset.borderWidth,index,rectangleOptions.borderWidth)};me.updateElementGeometry(rectangle,index,reset);rectangle.pivot()},updateElementGeometry:function(rectangle,index,reset){var me=this;var model=rectangle._model;var vscale=me.getValueScale();var base=vscale.getBasePixel();var horizontal=vscale.isHorizontal();var ruler=me._ruler||me.getRuler();var vpixels=me.calculateBarValuePixels(me.index,index);var ipixels=me.calculateBarIndexPixels(me.index,index,ruler);model.horizontal=horizontal;model.base=reset?base:vpixels.base;model.x=horizontal?reset?base:vpixels.head:ipixels.center;model.y=horizontal?ipixels.center:reset?base:vpixels.head;model.height=horizontal?ipixels.size:undefined;model.width=horizontal?undefined:ipixels.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},_getStacks:function(last){var me=this;var chart=me.chart;var scale=me.getIndexScale();var stacked=scale.options.stacked;var ilen=last===undefined?chart.data.datasets.length:last+1;var stacks=[];var i,meta;for(i=0;i<ilen;++i){meta=chart.getDatasetMeta(i);if(meta.bar&&chart.isDatasetVisible(i)&&(stacked===!1||(stacked===!0&&stacks.indexOf(meta.stack)===-1)||(stacked===undefined&&(meta.stack===undefined||stacks.indexOf(meta.stack)===-1)))){stacks.push(meta.stack)}}
return stacks},getStackCount:function(){return this._getStacks().length},getStackIndex:function(datasetIndex,name){var stacks=this._getStacks(datasetIndex);var index=(name!==undefined)?stacks.indexOf(name):-1;return(index===-1)?stacks.length-1:index},getRuler:function(){var me=this;var scale=me.getIndexScale();var stackCount=me.getStackCount();var datasetIndex=me.index;var isHorizontal=scale.isHorizontal();var start=isHorizontal?scale.left:scale.top;var end=start+(isHorizontal?scale.width:scale.height);var pixels=[];var i,ilen,min;for(i=0,ilen=me.getMeta().data.length;i<ilen;++i){pixels.push(scale.getPixelForValue(null,i,datasetIndex))}
min=helpers.isNullOrUndef(scale.options.barThickness)?computeMinSampleSize(scale,pixels):-1;return{min:min,pixels:pixels,start:start,end:end,stackCount:stackCount,scale:scale}},calculateBarValuePixels:function(datasetIndex,index){var me=this;var chart=me.chart;var meta=me.getMeta();var scale=me.getValueScale();var datasets=chart.data.datasets;var value=scale.getRightValue(datasets[datasetIndex].data[index]);var stacked=scale.options.stacked;var stack=meta.stack;var start=0;var i,imeta,ivalue,base,head,size;if(stacked||(stacked===undefined&&stack!==undefined)){for(i=0;i<datasetIndex;++i){imeta=chart.getDatasetMeta(i);if(imeta.bar&&imeta.stack===stack&&imeta.controller.getValueScaleId()===scale.id&&chart.isDatasetVisible(i)){ivalue=scale.getRightValue(datasets[i].data[index]);if((value<0&&ivalue<0)||(value>=0&&ivalue>0)){start+=ivalue}}}}
base=scale.getPixelForValue(start);head=scale.getPixelForValue(start+value);size=(head-base)/2;return{size:size,base:base,head:head,center:head+size/2}},calculateBarIndexPixels:function(datasetIndex,index,ruler){var me=this;var options=ruler.scale.options;var range=options.barThickness==='flex'?computeFlexCategoryTraits(index,ruler,options):computeFitCategoryTraits(index,ruler,options);var stackIndex=me.getStackIndex(datasetIndex,me.getMeta().stack);var center=range.start+(range.chunk*stackIndex)+(range.chunk/2);var size=Math.min(helpers.valueOrDefault(options.maxBarThickness,Infinity),range.chunk*range.ratio);return{base:center-size/2,head:center+size/2,center:center,size:size}},draw:function(){var me=this;var chart=me.chart;var scale=me.getValueScale();var rects=me.getMeta().data;var dataset=me.getDataset();var ilen=rects.length;var i=0;helpers.canvas.clipArea(chart.ctx,chart.chartArea);for(;i<ilen;++i){if(!isNaN(scale.getRightValue(dataset.data[i]))){rects[i].draw()}}
helpers.canvas.unclipArea(chart.ctx)},setHoverStyle:function(rectangle){var dataset=this.chart.data.datasets[rectangle._datasetIndex];var index=rectangle._index;var custom=rectangle.custom||{};var model=rectangle._model;model.backgroundColor=custom.hoverBackgroundColor?custom.hoverBackgroundColor:helpers.valueAtIndexOrDefault(dataset.hoverBackgroundColor,index,helpers.getHoverColor(model.backgroundColor));model.borderColor=custom.hoverBorderColor?custom.hoverBorderColor:helpers.valueAtIndexOrDefault(dataset.hoverBorderColor,index,helpers.getHoverColor(model.borderColor));model.borderWidth=custom.hoverBorderWidth?custom.hoverBorderWidth:helpers.valueAtIndexOrDefault(dataset.hoverBorderWidth,index,model.borderWidth)},removeHoverStyle:function(rectangle){var dataset=this.chart.data.datasets[rectangle._datasetIndex];var index=rectangle._index;var custom=rectangle.custom||{};var model=rectangle._model;var rectangleElementOptions=this.chart.options.elements.rectangle;model.backgroundColor=custom.backgroundColor?custom.backgroundColor:helpers.valueAtIndexOrDefault(dataset.backgroundColor,index,rectangleElementOptions.backgroundColor);model.borderColor=custom.borderColor?custom.borderColor:helpers.valueAtIndexOrDefault(dataset.borderColor,index,rectangleElementOptions.borderColor);model.borderWidth=custom.borderWidth?custom.borderWidth:helpers.valueAtIndexOrDefault(dataset.borderWidth,index,rectangleElementOptions.borderWidth)}});Chart.controllers.horizontalBar=Chart.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{"25":25,"40":40,"45":45}],16:[function(require,module,exports){'use strict';var defaults=require(25);var elements=require(40);var helpers=require(45);defaults._set('bubble',{hover:{mode:'single'},scales:{xAxes:[{type:'linear',position:'bottom',id:'x-axis-0'}],yAxes:[{type:'linear',position:'left',id:'y-axis-0'}]},tooltips:{callbacks:{title:function(){return ''},label:function(item,data){var datasetLabel=data.datasets[item.datasetIndex].label||'';var dataPoint=data.datasets[item.datasetIndex].data[item.index];return datasetLabel+': ('+item.xLabel+', '+item.yLabel+', '+dataPoint.r+')'}}}});module.exports=function(Chart){Chart.controllers.bubble=Chart.DatasetController.extend({dataElementType:elements.Point,update:function(reset){var me=this;var meta=me.getMeta();var points=meta.data;helpers.each(points,function(point,index){me.updateElement(point,index,reset)})},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var xScale=me.getScaleForId(meta.xAxisID);var yScale=me.getScaleForId(meta.yAxisID);var options=me._resolveElementOptions(point,index);var data=me.getDataset().data[index];var dsIndex=me.index;var x=reset?xScale.getPixelForDecimal(0.5):xScale.getPixelForValue(typeof data==='object'?data:NaN,index,dsIndex);var y=reset?yScale.getBasePixel():yScale.getPixelForValue(data,index,dsIndex);point._xScale=xScale;point._yScale=yScale;point._options=options;point._datasetIndex=dsIndex;point._index=index;point._model={backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,hitRadius:options.hitRadius,pointStyle:options.pointStyle,radius:reset?0:options.radius,skip:custom.skip||isNaN(x)||isNaN(y),x:x,y:y,};point.pivot()},setHoverStyle:function(point){var model=point._model;var options=point._options;model.backgroundColor=helpers.valueOrDefault(options.hoverBackgroundColor,helpers.getHoverColor(options.backgroundColor));model.borderColor=helpers.valueOrDefault(options.hoverBorderColor,helpers.getHoverColor(options.borderColor));model.borderWidth=helpers.valueOrDefault(options.hoverBorderWidth,options.borderWidth);model.radius=options.radius+options.hoverRadius},removeHoverStyle:function(point){var model=point._model;var options=point._options;model.backgroundColor=options.backgroundColor;model.borderColor=options.borderColor;model.borderWidth=options.borderWidth;model.radius=options.radius},_resolveElementOptions:function(point,index){var me=this;var chart=me.chart;var datasets=chart.data.datasets;var dataset=datasets[me.index];var custom=point.custom||{};var options=chart.options.elements.point;var resolve=helpers.options.resolve;var data=dataset.data[index];var values={};var i,ilen,key;var context={chart:chart,dataIndex:index,dataset:dataset,datasetIndex:me.index};var keys=['backgroundColor','borderColor','borderWidth','hoverBackgroundColor','hoverBorderColor','hoverBorderWidth','hoverRadius','hitRadius','pointStyle'];for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];values[key]=resolve([custom[key],dataset[key],options[key]],context,index)}
values.radius=resolve([custom.radius,data?data.r:undefined,dataset.radius,options.radius],context,index);return values}})}},{"25":25,"40":40,"45":45}],17:[function(require,module,exports){'use strict';var defaults=require(25);var elements=require(40);var helpers=require(45);defaults._set('doughnut',{animation:{animateRotate:!0,animateScale:!1},hover:{mode:'single'},legendCallback:function(chart){var text=[];text.push('<ul class="'+chart.id+'-legend">');var data=chart.data;var datasets=data.datasets;var labels=data.labels;if(datasets.length){for(var i=0;i<datasets[0].data.length;++i){text.push('<li><span style="background-color:'+datasets[0].backgroundColor[i]+'"></span>');if(labels[i]){text.push(labels[i])}
text.push('</li>')}}
text.push('</ul>');return text.join('')},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var ds=data.datasets[0];var arc=meta.data[i];var custom=arc&&arc.custom||{};var valueAtIndexOrDefault=helpers.valueAtIndexOrDefault;var arcOpts=chart.options.elements.arc;var fill=custom.backgroundColor?custom.backgroundColor:valueAtIndexOrDefault(ds.backgroundColor,i,arcOpts.backgroundColor);var stroke=custom.borderColor?custom.borderColor:valueAtIndexOrDefault(ds.borderColor,i,arcOpts.borderColor);var bw=custom.borderWidth?custom.borderWidth:valueAtIndexOrDefault(ds.borderWidth,i,arcOpts.borderWidth);return{text:label,fillStyle:fill,strokeStyle:stroke,lineWidth:bw,hidden:isNaN(ds.data[i])||meta.data[i].hidden,index:i}})}
return[]}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);if(meta.data[index]){meta.data[index].hidden=!meta.data[index].hidden}}
chart.update()}},cutoutPercentage:50,rotation:Math.PI*-0.5,circumference:Math.PI*2.0,tooltips:{callbacks:{title:function(){return ''},label:function(tooltipItem,data){var dataLabel=data.labels[tooltipItem.index];var value=': '+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];if(helpers.isArray(dataLabel)){dataLabel=dataLabel.slice();dataLabel[0]+=value}else{dataLabel+=value}
return dataLabel}}}});defaults._set('pie',helpers.clone(defaults.doughnut));defaults._set('pie',{cutoutPercentage:0});module.exports=function(Chart){Chart.controllers.doughnut=Chart.controllers.pie=Chart.DatasetController.extend({dataElementType:elements.Arc,linkScales:helpers.noop,getRingIndex:function(datasetIndex){var ringIndex=0;for(var j=0;j<datasetIndex;++j){if(this.chart.isDatasetVisible(j)){++ringIndex}}
return ringIndex},update:function(reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var arcOpts=opts.elements.arc;var availableWidth=chartArea.right-chartArea.left-arcOpts.borderWidth;var availableHeight=chartArea.bottom-chartArea.top-arcOpts.borderWidth;var minSize=Math.min(availableWidth,availableHeight);var offset={x:0,y:0};var meta=me.getMeta();var cutoutPercentage=opts.cutoutPercentage;var circumference=opts.circumference;if(circumference<Math.PI*2.0){var startAngle=opts.rotation%(Math.PI*2.0);startAngle+=Math.PI*2.0*(startAngle>=Math.PI?-1:startAngle<-Math.PI?1:0);var endAngle=startAngle+circumference;var start={x:Math.cos(startAngle),y:Math.sin(startAngle)};var end={x:Math.cos(endAngle),y:Math.sin(endAngle)};var contains0=(startAngle<=0&&endAngle>=0)||(startAngle<=Math.PI*2.0&&Math.PI*2.0<=endAngle);var contains90=(startAngle<=Math.PI*0.5&&Math.PI*0.5<=endAngle)||(startAngle<=Math.PI*2.5&&Math.PI*2.5<=endAngle);var contains180=(startAngle<=-Math.PI&&-Math.PI<=endAngle)||(startAngle<=Math.PI&&Math.PI<=endAngle);var contains270=(startAngle<=-Math.PI*0.5&&-Math.PI*0.5<=endAngle)||(startAngle<=Math.PI*1.5&&Math.PI*1.5<=endAngle);var cutout=cutoutPercentage/100.0;var min={x:contains180?-1:Math.min(start.x*(start.x<0?1:cutout),end.x*(end.x<0?1:cutout)),y:contains270?-1:Math.min(start.y*(start.y<0?1:cutout),end.y*(end.y<0?1:cutout))};var max={x:contains0?1:Math.max(start.x*(start.x>0?1:cutout),end.x*(end.x>0?1:cutout)),y:contains90?1:Math.max(start.y*(start.y>0?1:cutout),end.y*(end.y>0?1:cutout))};var size={width:(max.x-min.x)*0.5,height:(max.y-min.y)*0.5};minSize=Math.min(availableWidth/size.width,availableHeight/size.height);offset={x:(max.x+min.x)*-0.5,y:(max.y+min.y)*-0.5}}
chart.borderWidth=me.getMaxBorderWidth(meta.data);chart.outerRadius=Math.max((minSize-chart.borderWidth)/2,0);chart.innerRadius=Math.max(cutoutPercentage?(chart.outerRadius/100)*(cutoutPercentage):0,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/chart.getVisibleDatasetCount();chart.offsetX=offset.x*chart.outerRadius;chart.offsetY=offset.y*chart.outerRadius;meta.total=me.calculateTotal();me.outerRadius=chart.outerRadius-(chart.radiusLength*me.getRingIndex(me.index));me.innerRadius=Math.max(me.outerRadius-chart.radiusLength,0);helpers.each(meta.data,function(arc,index){me.updateElement(arc,index,reset)})},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var animationOpts=opts.animation;var centerX=(chartArea.left+chartArea.right)/2;var centerY=(chartArea.top+chartArea.bottom)/2;var startAngle=opts.rotation;var endAngle=opts.rotation;var dataset=me.getDataset();var circumference=reset&&animationOpts.animateRotate?0:arc.hidden?0:me.calculateCircumference(dataset.data[index])*(opts.circumference/(2.0*Math.PI));var innerRadius=reset&&animationOpts.animateScale?0:me.innerRadius;var outerRadius=reset&&animationOpts.animateScale?0:me.outerRadius;var valueAtIndexOrDefault=helpers.valueAtIndexOrDefault;helpers.extend(arc,{_datasetIndex:me.index,_index:index,_model:{x:centerX+chart.offsetX,y:centerY+chart.offsetY,startAngle:startAngle,endAngle:endAngle,circumference:circumference,outerRadius:outerRadius,innerRadius:innerRadius,label:valueAtIndexOrDefault(dataset.label,index,chart.data.labels[index])}});var model=arc._model;this.removeHoverStyle(arc);if(!reset||!animationOpts.animateRotate){if(index===0){model.startAngle=opts.rotation}else{model.startAngle=me.getMeta().data[index-1]._model.endAngle}
model.endAngle=model.startAngle+model.circumference}
arc.pivot()},removeHoverStyle:function(arc){Chart.DatasetController.prototype.removeHoverStyle.call(this,arc,this.chart.options.elements.arc)},calculateTotal:function(){var dataset=this.getDataset();var meta=this.getMeta();var total=0;var value;helpers.each(meta.data,function(element,index){value=dataset.data[index];if(!isNaN(value)&&!element.hidden){total+=Math.abs(value)}});return total},calculateCircumference:function(value){var total=this.getMeta().total;if(total>0&&!isNaN(value)){return(Math.PI*2.0)*(Math.abs(value)/total)}
return 0},getMaxBorderWidth:function(arcs){var max=0;var index=this.index;var length=arcs.length;var borderWidth;var hoverWidth;for(var i=0;i<length;i++){borderWidth=arcs[i]._model?arcs[i]._model.borderWidth:0;hoverWidth=arcs[i]._chart?arcs[i]._chart.config.data.datasets[index].hoverBorderWidth:0;max=borderWidth>max?borderWidth:max;max=hoverWidth>max?hoverWidth:max}
return max}})}},{"25":25,"40":40,"45":45}],18:[function(require,module,exports){'use strict';var defaults=require(25);var elements=require(40);var helpers=require(45);defaults._set('line',{showLines:!0,spanGaps:!1,hover:{mode:'label'},scales:{xAxes:[{type:'category',id:'x-axis-0'}],yAxes:[{type:'linear',id:'y-axis-0'}]}});module.exports=function(Chart){function lineEnabled(dataset,options){return helpers.valueOrDefault(dataset.showLine,options.showLines)}
Chart.controllers.line=Chart.DatasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data||[];var options=me.chart.options;var lineElementOptions=options.elements.line;var scale=me.getScaleForId(meta.yAxisID);var i,ilen,custom;var dataset=me.getDataset();var showLine=lineEnabled(dataset,options);if(showLine){custom=line.custom||{};if((dataset.tension!==undefined)&&(dataset.lineTension===undefined)){dataset.lineTension=dataset.tension}
line._scale=scale;line._datasetIndex=me.index;line._children=points;line._model={spanGaps:dataset.spanGaps?dataset.spanGaps:options.spanGaps,tension:custom.tension?custom.tension:helpers.valueOrDefault(dataset.lineTension,lineElementOptions.tension),backgroundColor:custom.backgroundColor?custom.backgroundColor:(dataset.backgroundColor||lineElementOptions.backgroundColor),borderWidth:custom.borderWidth?custom.borderWidth:(dataset.borderWidth||lineElementOptions.borderWidth),borderColor:custom.borderColor?custom.borderColor:(dataset.borderColor||lineElementOptions.borderColor),borderCapStyle:custom.borderCapStyle?custom.borderCapStyle:(dataset.borderCapStyle||lineElementOptions.borderCapStyle),borderDash:custom.borderDash?custom.borderDash:(dataset.borderDash||lineElementOptions.borderDash),borderDashOffset:custom.borderDashOffset?custom.borderDashOffset:(dataset.borderDashOffset||lineElementOptions.borderDashOffset),borderJoinStyle:custom.borderJoinStyle?custom.borderJoinStyle:(dataset.borderJoinStyle||lineElementOptions.borderJoinStyle),fill:custom.fill?custom.fill:(dataset.fill!==undefined?dataset.fill:lineElementOptions.fill),steppedLine:custom.steppedLine?custom.steppedLine:helpers.valueOrDefault(dataset.steppedLine,lineElementOptions.stepped),cubicInterpolationMode:custom.cubicInterpolationMode?custom.cubicInterpolationMode:helpers.valueOrDefault(dataset.cubicInterpolationMode,lineElementOptions.cubicInterpolationMode),};line.pivot()}
for(i=0,ilen=points.length;i<ilen;++i){me.updateElement(points[i],i,reset)}
if(showLine&&line._model.tension!==0){me.updateBezierControlPoints()}
for(i=0,ilen=points.length;i<ilen;++i){points[i].pivot()}},getPointBackgroundColor:function(point,index){var backgroundColor=this.chart.options.elements.point.backgroundColor;var dataset=this.getDataset();var custom=point.custom||{};if(custom.backgroundColor){backgroundColor=custom.backgroundColor}else if(dataset.pointBackgroundColor){backgroundColor=helpers.valueAtIndexOrDefault(dataset.pointBackgroundColor,index,backgroundColor)}else if(dataset.backgroundColor){backgroundColor=dataset.backgroundColor}
return backgroundColor},getPointBorderColor:function(point,index){var borderColor=this.chart.options.elements.point.borderColor;var dataset=this.getDataset();var custom=point.custom||{};if(custom.borderColor){borderColor=custom.borderColor}else if(dataset.pointBorderColor){borderColor=helpers.valueAtIndexOrDefault(dataset.pointBorderColor,index,borderColor)}else if(dataset.borderColor){borderColor=dataset.borderColor}
return borderColor},getPointBorderWidth:function(point,index){var borderWidth=this.chart.options.elements.point.borderWidth;var dataset=this.getDataset();var custom=point.custom||{};if(!isNaN(custom.borderWidth)){borderWidth=custom.borderWidth}else if(!isNaN(dataset.pointBorderWidth)||helpers.isArray(dataset.pointBorderWidth)){borderWidth=helpers.valueAtIndexOrDefault(dataset.pointBorderWidth,index,borderWidth)}else if(!isNaN(dataset.borderWidth)){borderWidth=dataset.borderWidth}
return borderWidth},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var dataset=me.getDataset();var datasetIndex=me.index;var value=dataset.data[index];var yScale=me.getScaleForId(meta.yAxisID);var xScale=me.getScaleForId(meta.xAxisID);var pointOptions=me.chart.options.elements.point;var x,y;if((dataset.radius!==undefined)&&(dataset.pointRadius===undefined)){dataset.pointRadius=dataset.radius}
if((dataset.hitRadius!==undefined)&&(dataset.pointHitRadius===undefined)){dataset.pointHitRadius=dataset.hitRadius}
x=xScale.getPixelForValue(typeof value==='object'?value:NaN,index,datasetIndex);y=reset?yScale.getBasePixel():me.calculatePointY(value,index,datasetIndex);point._xScale=xScale;point._yScale=yScale;point._datasetIndex=datasetIndex;point._index=index;point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:custom.radius||helpers.valueAtIndexOrDefault(dataset.pointRadius,index,pointOptions.radius),pointStyle:custom.pointStyle||helpers.valueAtIndexOrDefault(dataset.pointStyle,index,pointOptions.pointStyle),backgroundColor:me.getPointBackgroundColor(point,index),borderColor:me.getPointBorderColor(point,index),borderWidth:me.getPointBorderWidth(point,index),tension:meta.dataset._model?meta.dataset._model.tension:0,steppedLine:meta.dataset._model?meta.dataset._model.steppedLine:!1,hitRadius:custom.hitRadius||helpers.valueAtIndexOrDefault(dataset.pointHitRadius,index,pointOptions.hitRadius)}},calculatePointY:function(value,index,datasetIndex){var me=this;var chart=me.chart;var meta=me.getMeta();var yScale=me.getScaleForId(meta.yAxisID);var sumPos=0;var sumNeg=0;var i,ds,dsMeta;if(yScale.options.stacked){for(i=0;i<datasetIndex;i++){ds=chart.data.datasets[i];dsMeta=chart.getDatasetMeta(i);if(dsMeta.type==='line'&&dsMeta.yAxisID===yScale.id&&chart.isDatasetVisible(i)){var stackedRightValue=Number(yScale.getRightValue(ds.data[index]));if(stackedRightValue<0){sumNeg+=stackedRightValue||0}else{sumPos+=stackedRightValue||0}}}
var rightValue=Number(yScale.getRightValue(value));if(rightValue<0){return yScale.getPixelForValue(sumNeg+rightValue)}
return yScale.getPixelForValue(sumPos+rightValue)}
return yScale.getPixelForValue(value)},updateBezierControlPoints:function(){var me=this;var meta=me.getMeta();var area=me.chart.chartArea;var points=(meta.data||[]);var i,ilen,point,model,controlPoints;if(meta.dataset._model.spanGaps){points=points.filter(function(pt){return!pt._model.skip})}
function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min)}
if(meta.dataset._model.cubicInterpolationMode==='monotone'){helpers.splineCurveMonotone(points)}else{for(i=0,ilen=points.length;i<ilen;++i){point=points[i];model=point._model;controlPoints=helpers.splineCurve(helpers.previousItem(points,i)._model,model,helpers.nextItem(points,i)._model,meta.dataset._model.tension);model.controlPointPreviousX=controlPoints.previous.x;model.controlPointPreviousY=controlPoints.previous.y;model.controlPointNextX=controlPoints.next.x;model.controlPointNextY=controlPoints.next.y}}
if(me.chart.options.elements.line.capBezierPoints){for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;model.controlPointPreviousX=capControlPoint(model.controlPointPreviousX,area.left,area.right);model.controlPointPreviousY=capControlPoint(model.controlPointPreviousY,area.top,area.bottom);model.controlPointNextX=capControlPoint(model.controlPointNextX,area.left,area.right);model.controlPointNextY=capControlPoint(model.controlPointNextY,area.top,area.bottom)}}},draw:function(){var me=this;var chart=me.chart;var meta=me.getMeta();var points=meta.data||[];var area=chart.chartArea;var ilen=points.length;var i=0;helpers.canvas.clipArea(chart.ctx,area);if(lineEnabled(me.getDataset(),chart.options)){meta.dataset.draw()}
helpers.canvas.unclipArea(chart.ctx);for(;i<ilen;++i){points[i].draw(area)}},setHoverStyle:function(point){var dataset=this.chart.data.datasets[point._datasetIndex];var index=point._index;var custom=point.custom||{};var model=point._model;model.radius=custom.hoverRadius||helpers.valueAtIndexOrDefault(dataset.pointHoverRadius,index,this.chart.options.elements.point.hoverRadius);model.backgroundColor=custom.hoverBackgroundColor||helpers.valueAtIndexOrDefault(dataset.pointHoverBackgroundColor,index,helpers.getHoverColor(model.backgroundColor));model.borderColor=custom.hoverBorderColor||helpers.valueAtIndexOrDefault(dataset.pointHoverBorderColor,index,helpers.getHoverColor(model.borderColor));model.borderWidth=custom.hoverBorderWidth||helpers.valueAtIndexOrDefault(dataset.pointHoverBorderWidth,index,model.borderWidth)},removeHoverStyle:function(point){var me=this;var dataset=me.chart.data.datasets[point._datasetIndex];var index=point._index;var custom=point.custom||{};var model=point._model;if((dataset.radius!==undefined)&&(dataset.pointRadius===undefined)){dataset.pointRadius=dataset.radius}
model.radius=custom.radius||helpers.valueAtIndexOrDefault(dataset.pointRadius,index,me.chart.options.elements.point.radius);model.backgroundColor=me.getPointBackgroundColor(point,index);model.borderColor=me.getPointBorderColor(point,index);model.borderWidth=me.getPointBorderWidth(point,index)}})}},{"25":25,"40":40,"45":45}],19:[function(require,module,exports){'use strict';var defaults=require(25);var elements=require(40);var helpers=require(45);defaults._set('polarArea',{scale:{type:'radialLinear',angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-0.5*Math.PI,legendCallback:function(chart){var text=[];text.push('<ul class="'+chart.id+'-legend">');var data=chart.data;var datasets=data.datasets;var labels=data.labels;if(datasets.length){for(var i=0;i<datasets[0].data.length;++i){text.push('<li><span style="background-color:'+datasets[0].backgroundColor[i]+'"></span>');if(labels[i]){text.push(labels[i])}
text.push('</li>')}}
text.push('</ul>');return text.join('')},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var ds=data.datasets[0];var arc=meta.data[i];var custom=arc.custom||{};var valueAtIndexOrDefault=helpers.valueAtIndexOrDefault;var arcOpts=chart.options.elements.arc;var fill=custom.backgroundColor?custom.backgroundColor:valueAtIndexOrDefault(ds.backgroundColor,i,arcOpts.backgroundColor);var stroke=custom.borderColor?custom.borderColor:valueAtIndexOrDefault(ds.borderColor,i,arcOpts.borderColor);var bw=custom.borderWidth?custom.borderWidth:valueAtIndexOrDefault(ds.borderWidth,i,arcOpts.borderWidth);return{text:label,fillStyle:fill,strokeStyle:stroke,lineWidth:bw,hidden:isNaN(ds.data[i])||meta.data[i].hidden,index:i}})}
return[]}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);meta.data[index].hidden=!meta.data[index].hidden}
chart.update()}},tooltips:{callbacks:{title:function(){return ''},label:function(item,data){return data.labels[item.index]+': '+item.yLabel}}}});module.exports=function(Chart){Chart.controllers.polarArea=Chart.DatasetController.extend({dataElementType:elements.Arc,linkScales:helpers.noop,update:function(reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var meta=me.getMeta();var opts=chart.options;var arcOpts=opts.elements.arc;var minSize=Math.min(chartArea.right-chartArea.left,chartArea.bottom-chartArea.top);chart.outerRadius=Math.max((minSize-arcOpts.borderWidth/2)/2,0);chart.innerRadius=Math.max(opts.cutoutPercentage?(chart.outerRadius/100)*(opts.cutoutPercentage):1,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/chart.getVisibleDatasetCount();me.outerRadius=chart.outerRadius-(chart.radiusLength*me.index);me.innerRadius=me.outerRadius-chart.radiusLength;meta.count=me.countVisibleElements();helpers.each(meta.data,function(arc,index){me.updateElement(arc,index,reset)})},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var dataset=me.getDataset();var opts=chart.options;var animationOpts=opts.animation;var scale=chart.scale;var labels=chart.data.labels;var circumference=me.calculateCircumference(dataset.data[index]);var centerX=scale.xCenter;var centerY=scale.yCenter;var visibleCount=0;var meta=me.getMeta();for(var i=0;i<index;++i){if(!isNaN(dataset.data[i])&&!meta.data[i].hidden){++visibleCount}}
var datasetStartAngle=opts.startAngle;var distance=arc.hidden?0:scale.getDistanceFromCenterForValue(dataset.data[index]);var startAngle=datasetStartAngle+(circumference*visibleCount);var endAngle=startAngle+(arc.hidden?0:circumference);var resetRadius=animationOpts.animateScale?0:scale.getDistanceFromCenterForValue(dataset.data[index]);helpers.extend(arc,{_datasetIndex:me.index,_index:index,_scale:scale,_model:{x:centerX,y:centerY,innerRadius:0,outerRadius:reset?resetRadius:distance,startAngle:reset&&animationOpts.animateRotate?datasetStartAngle:startAngle,endAngle:reset&&animationOpts.animateRotate?datasetStartAngle:endAngle,label:helpers.valueAtIndexOrDefault(labels,index,labels[index])}});me.removeHoverStyle(arc);arc.pivot()},removeHoverStyle:function(arc){Chart.DatasetController.prototype.removeHoverStyle.call(this,arc,this.chart.options.elements.arc)},countVisibleElements:function(){var dataset=this.getDataset();var meta=this.getMeta();var count=0;helpers.each(meta.data,function(element,index){if(!isNaN(dataset.data[index])&&!element.hidden){count++}});return count},calculateCircumference:function(value){var count=this.getMeta().count;if(count>0&&!isNaN(value)){return(2*Math.PI)/count}
return 0}})}},{"25":25,"40":40,"45":45}],20:[function(require,module,exports){'use strict';var defaults=require(25);var elements=require(40);var helpers=require(45);defaults._set('radar',{scale:{type:'radialLinear'},elements:{line:{tension:0}}});module.exports=function(Chart){Chart.controllers.radar=Chart.DatasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,linkScales:helpers.noop,update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data;var custom=line.custom||{};var dataset=me.getDataset();var lineElementOptions=me.chart.options.elements.line;var scale=me.chart.scale;if((dataset.tension!==undefined)&&(dataset.lineTension===undefined)){dataset.lineTension=dataset.tension}
helpers.extend(meta.dataset,{_datasetIndex:me.index,_scale:scale,_children:points,_loop:!0,_model:{tension:custom.tension?custom.tension:helpers.valueOrDefault(dataset.lineTension,lineElementOptions.tension),backgroundColor:custom.backgroundColor?custom.backgroundColor:(dataset.backgroundColor||lineElementOptions.backgroundColor),borderWidth:custom.borderWidth?custom.borderWidth:(dataset.borderWidth||lineElementOptions.borderWidth),borderColor:custom.borderColor?custom.borderColor:(dataset.borderColor||lineElementOptions.borderColor),fill:custom.fill?custom.fill:(dataset.fill!==undefined?dataset.fill:lineElementOptions.fill),borderCapStyle:custom.borderCapStyle?custom.borderCapStyle:(dataset.borderCapStyle||lineElementOptions.borderCapStyle),borderDash:custom.borderDash?custom.borderDash:(dataset.borderDash||lineElementOptions.borderDash),borderDashOffset:custom.borderDashOffset?custom.borderDashOffset:(dataset.borderDashOffset||lineElementOptions.borderDashOffset),borderJoinStyle:custom.borderJoinStyle?custom.borderJoinStyle:(dataset.borderJoinStyle||lineElementOptions.borderJoinStyle),}});meta.dataset.pivot();helpers.each(points,function(point,index){me.updateElement(point,index,reset)},me);me.updateBezierControlPoints()},updateElement:function(point,index,reset){var me=this;var custom=point.custom||{};var dataset=me.getDataset();var scale=me.chart.scale;var pointElementOptions=me.chart.options.elements.point;var pointPosition=scale.getPointPositionForValue(index,dataset.data[index]);if((dataset.radius!==undefined)&&(dataset.pointRadius===undefined)){dataset.pointRadius=dataset.radius}
if((dataset.hitRadius!==undefined)&&(dataset.pointHitRadius===undefined)){dataset.pointHitRadius=dataset.hitRadius}
helpers.extend(point,{_datasetIndex:me.index,_index:index,_scale:scale,_model:{x:reset?scale.xCenter:pointPosition.x,y:reset?scale.yCenter:pointPosition.y,tension:custom.tension?custom.tension:helpers.valueOrDefault(dataset.lineTension,me.chart.options.elements.line.tension),radius:custom.radius?custom.radius:helpers.valueAtIndexOrDefault(dataset.pointRadius,index,pointElementOptions.radius),backgroundColor:custom.backgroundColor?custom.backgroundColor:helpers.valueAtIndexOrDefault(dataset.pointBackgroundColor,index,pointElementOptions.backgroundColor),borderColor:custom.borderColor?custom.borderColor:helpers.valueAtIndexOrDefault(dataset.pointBorderColor,index,pointElementOptions.borderColor),borderWidth:custom.borderWidth?custom.borderWidth:helpers.valueAtIndexOrDefault(dataset.pointBorderWidth,index,pointElementOptions.borderWidth),pointStyle:custom.pointStyle?custom.pointStyle:helpers.valueAtIndexOrDefault(dataset.pointStyle,index,pointElementOptions.pointStyle),hitRadius:custom.hitRadius?custom.hitRadius:helpers.valueAtIndexOrDefault(dataset.pointHitRadius,index,pointElementOptions.hitRadius)}});point._model.skip=custom.skip?custom.skip:(isNaN(point._model.x)||isNaN(point._model.y))},updateBezierControlPoints:function(){var chartArea=this.chart.chartArea;var meta=this.getMeta();helpers.each(meta.data,function(point,index){var model=point._model;var controlPoints=helpers.splineCurve(helpers.previousItem(meta.data,index,!0)._model,model,helpers.nextItem(meta.data,index,!0)._model,model.tension);model.controlPointPreviousX=Math.max(Math.min(controlPoints.previous.x,chartArea.right),chartArea.left);model.controlPointPreviousY=Math.max(Math.min(controlPoints.previous.y,chartArea.bottom),chartArea.top);model.controlPointNextX=Math.max(Math.min(controlPoints.next.x,chartArea.right),chartArea.left);model.controlPointNextY=Math.max(Math.min(controlPoints.next.y,chartArea.bottom),chartArea.top);point.pivot()})},setHoverStyle:function(point){var dataset=this.chart.data.datasets[point._datasetIndex];var custom=point.custom||{};var index=point._index;var model=point._model;model.radius=custom.hoverRadius?custom.hoverRadius:helpers.valueAtIndexOrDefault(dataset.pointHoverRadius,index,this.chart.options.elements.point.hoverRadius);model.backgroundColor=custom.hoverBackgroundColor?custom.hoverBackgroundColor:helpers.valueAtIndexOrDefault(dataset.pointHoverBackgroundColor,index,helpers.getHoverColor(model.backgroundColor));model.borderColor=custom.hoverBorderColor?custom.hoverBorderColor:helpers.valueAtIndexOrDefault(dataset.pointHoverBorderColor,index,helpers.getHoverColor(model.borderColor));model.borderWidth=custom.hoverBorderWidth?custom.hoverBorderWidth:helpers.valueAtIndexOrDefault(dataset.pointHoverBorderWidth,index,model.borderWidth)},removeHoverStyle:function(point){var dataset=this.chart.data.datasets[point._datasetIndex];var custom=point.custom||{};var index=point._index;var model=point._model;var pointElementOptions=this.chart.options.elements.point;model.radius=custom.radius?custom.radius:helpers.valueAtIndexOrDefault(dataset.pointRadius,index,pointElementOptions.radius);model.backgroundColor=custom.backgroundColor?custom.backgroundColor:helpers.valueAtIndexOrDefault(dataset.pointBackgroundColor,index,pointElementOptions.backgroundColor);model.borderColor=custom.borderColor?custom.borderColor:helpers.valueAtIndexOrDefault(dataset.pointBorderColor,index,pointElementOptions.borderColor);model.borderWidth=custom.borderWidth?custom.borderWidth:helpers.valueAtIndexOrDefault(dataset.pointBorderWidth,index,pointElementOptions.borderWidth)}})}},{"25":25,"40":40,"45":45}],21:[function(require,module,exports){'use strict';var defaults=require(25);defaults._set('scatter',{hover:{mode:'single'},scales:{xAxes:[{id:'x-axis-1',type:'linear',position:'bottom'}],yAxes:[{id:'y-axis-1',type:'linear',position:'left'}]},showLines:!1,tooltips:{callbacks:{title:function(){return ''},label:function(item){return '('+item.xLabel+', '+item.yLabel+')'}}}});module.exports=function(Chart){Chart.controllers.scatter=Chart.controllers.line}},{"25":25}],22:[function(require,module,exports){'use strict';var defaults=require(25);var Element=require(26);var helpers=require(45);defaults._set('global',{animation:{duration:1000,easing:'easeOutQuart',onProgress:helpers.noop,onComplete:helpers.noop}});module.exports=function(Chart){Chart.Animation=Element.extend({chart:null,currentStep:0,numSteps:60,easing:'',render:null,onAnimationProgress:null,onAnimationComplete:null,});Chart.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(chart,animation,duration,lazy){var animations=this.animations;var i,ilen;animation.chart=chart;if(!lazy){chart.animating=!0}
for(i=0,ilen=animations.length;i<ilen;++i){if(animations[i].chart===chart){animations[i]=animation;return}}
animations.push(animation);if(animations.length===1){this.requestAnimationFrame()}},cancelAnimation:function(chart){var index=helpers.findIndex(this.animations,function(animation){return animation.chart===chart});if(index!==-1){this.animations.splice(index,1);chart.animating=!1}},requestAnimationFrame:function(){var me=this;if(me.request===null){me.request=helpers.requestAnimFrame.call(window,function(){me.request=null;me.startDigest()})}},startDigest:function(){var me=this;var startTime=Date.now();var framesToDrop=0;if(me.dropFrames>1){framesToDrop=Math.floor(me.dropFrames);me.dropFrames=me.dropFrames%1}
me.advance(1+framesToDrop);var endTime=Date.now();me.dropFrames+=(endTime-startTime)/me.frameDuration;if(me.animations.length>0){me.requestAnimationFrame()}},advance:function(count){var animations=this.animations;var animation,chart;var i=0;while(i<animations.length){animation=animations[i];chart=animation.chart;animation.currentStep=(animation.currentStep||0)+count;animation.currentStep=Math.min(animation.currentStep,animation.numSteps);helpers.callback(animation.render,[chart,animation],chart);helpers.callback(animation.onAnimationProgress,[animation],chart);if(animation.currentStep>=animation.numSteps){helpers.callback(animation.onAnimationComplete,[animation],chart);chart.animating=!1;animations.splice(i,1)}else{++i}}}};Object.defineProperty(Chart.Animation.prototype,'animationObject',{get:function(){return this}});Object.defineProperty(Chart.Animation.prototype,'chartInstance',{get:function(){return this.chart},set:function(value){this.chart=value}})}},{"25":25,"26":26,"45":45}],23:[function(require,module,exports){'use strict';var defaults=require(25);var helpers=require(45);var Interaction=require(28);var layouts=require(30);var platform=require(48);var plugins=require(31);module.exports=function(Chart){Chart.types={};Chart.instances={};Chart.controllers={};function initConfig(config){config=config||{};var data=config.data=config.data||{};data.datasets=data.datasets||[];data.labels=data.labels||[];config.options=helpers.configMerge(defaults.global,defaults[config.type],config.options||{});return config}
function updateConfig(chart){var newOptions=chart.options;helpers.each(chart.scales,function(scale){layouts.removeBox(chart,scale)});newOptions=helpers.configMerge(Chart.defaults.global,Chart.defaults[chart.config.type],newOptions);chart.options=chart.config.options=newOptions;chart.ensureScalesHaveIDs();chart.buildOrUpdateScales();chart.tooltip._options=newOptions.tooltips;chart.tooltip.initialize()}
function positionIsHorizontal(position){return position==='top'||position==='bottom'}
helpers.extend(Chart.prototype,{construct:function(item,config){var me=this;config=initConfig(config);var context=platform.acquireContext(item,config);var canvas=context&&context.canvas;var height=canvas&&canvas.height;var width=canvas&&canvas.width;me.id=helpers.uid();me.ctx=context;me.canvas=canvas;me.config=config;me.width=width;me.height=height;me.aspectRatio=height?width/height:null;me.options=config.options;me._bufferedRender=!1;me.chart=me;me.controller=me;Chart.instances[me.id]=me;Object.defineProperty(me,'data',{get:function(){return me.config.data},set:function(value){me.config.data=value}});if(!context||!canvas){console.error("Failed to create chart: can't acquire context from the given item");return}
me.initialize();me.update()},initialize:function(){var me=this;plugins.notify(me,'beforeInit');helpers.retinaScale(me,me.options.devicePixelRatio);me.bindEvents();if(me.options.responsive){me.resize(!0)}
me.ensureScalesHaveIDs();me.buildOrUpdateScales();me.initToolTip();plugins.notify(me,'afterInit');return me},clear:function(){helpers.canvas.clear(this);return this},stop:function(){Chart.animationService.cancelAnimation(this);return this},resize:function(silent){var me=this;var options=me.options;var canvas=me.canvas;var aspectRatio=(options.maintainAspectRatio&&me.aspectRatio)||null;var newWidth=Math.max(0,Math.floor(helpers.getMaximumWidth(canvas)));var newHeight=Math.max(0,Math.floor(aspectRatio?newWidth/aspectRatio:helpers.getMaximumHeight(canvas)));if(me.width===newWidth&&me.height===newHeight){return}
canvas.width=me.width=newWidth;canvas.height=me.height=newHeight;canvas.style.width=newWidth+'px';canvas.style.height=newHeight+'px';helpers.retinaScale(me,options.devicePixelRatio);if(!silent){var newSize={width:newWidth,height:newHeight};plugins.notify(me,'resize',[newSize]);if(me.options.onResize){me.options.onResize(me,newSize)}
me.stop();me.update(me.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var options=this.options;var scalesOptions=options.scales||{};var scaleOptions=options.scale;helpers.each(scalesOptions.xAxes,function(xAxisOptions,index){xAxisOptions.id=xAxisOptions.id||('x-axis-'+index)});helpers.each(scalesOptions.yAxes,function(yAxisOptions,index){yAxisOptions.id=yAxisOptions.id||('y-axis-'+index)});if(scaleOptions){scaleOptions.id=scaleOptions.id||'scale'}},buildOrUpdateScales:function(){var me=this;var options=me.options;var scales=me.scales||{};var items=[];var updated=Object.keys(scales).reduce(function(obj,id){obj[id]=!1;return obj},{});if(options.scales){items=items.concat((options.scales.xAxes||[]).map(function(xAxisOptions){return{options:xAxisOptions,dtype:'category',dposition:'bottom'}}),(options.scales.yAxes||[]).map(function(yAxisOptions){return{options:yAxisOptions,dtype:'linear',dposition:'left'}}))}
if(options.scale){items.push({options:options.scale,dtype:'radialLinear',isDefault:!0,dposition:'chartArea'})}
helpers.each(items,function(item){var scaleOptions=item.options;var id=scaleOptions.id;var scaleType=helpers.valueOrDefault(scaleOptions.type,item.dtype);if(positionIsHorizontal(scaleOptions.position)!==positionIsHorizontal(item.dposition)){scaleOptions.position=item.dposition}
updated[id]=!0;var scale=null;if(id in scales&&scales[id].type===scaleType){scale=scales[id];scale.options=scaleOptions;scale.ctx=me.ctx;scale.chart=me}else{var scaleClass=Chart.scaleService.getScaleConstructor(scaleType);if(!scaleClass){return}
scale=new scaleClass({id:id,type:scaleType,options:scaleOptions,ctx:me.ctx,chart:me});scales[scale.id]=scale}
scale.mergeTicksOptions();if(item.isDefault){me.scale=scale}});helpers.each(updated,function(hasUpdated,id){if(!hasUpdated){delete scales[id]}});me.scales=scales;Chart.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var me=this;var types=[];var newControllers=[];helpers.each(me.data.datasets,function(dataset,datasetIndex){var meta=me.getDatasetMeta(datasetIndex);var type=dataset.type||me.config.type;if(meta.type&&meta.type!==type){me.destroyDatasetMeta(datasetIndex);meta=me.getDatasetMeta(datasetIndex)}
meta.type=type;types.push(meta.type);if(meta.controller){meta.controller.updateIndex(datasetIndex);meta.controller.linkScales()}else{var ControllerClass=Chart.controllers[meta.type];if(ControllerClass===undefined){throw new Error('"'+meta.type+'" is not a chart type.')}
meta.controller=new ControllerClass(me,datasetIndex);newControllers.push(meta.controller)}},me);return newControllers},resetElements:function(){var me=this;helpers.each(me.data.datasets,function(dataset,datasetIndex){me.getDatasetMeta(datasetIndex).controller.reset()},me)},reset:function(){this.resetElements();this.tooltip.initialize()},update:function(config){var me=this;if(!config||typeof config!=='object'){config={duration:config,lazy:arguments[1]}}
updateConfig(me);plugins._invalidate(me);if(plugins.notify(me,'beforeUpdate')===!1){return}
me.tooltip._data=me.data;var newControllers=me.buildOrUpdateControllers();helpers.each(me.data.datasets,function(dataset,datasetIndex){me.getDatasetMeta(datasetIndex).controller.buildOrUpdateElements()},me);me.updateLayout();if(me.options.animation&&me.options.animation.duration){helpers.each(newControllers,function(controller){controller.reset()})}
me.updateDatasets();me.tooltip.initialize();me.lastActive=[];plugins.notify(me,'afterUpdate');if(me._bufferedRender){me._bufferedRequest={duration:config.duration,easing:config.easing,lazy:config.lazy}}else{me.render(config)}},updateLayout:function(){var me=this;if(plugins.notify(me,'beforeLayout')===!1){return}
layouts.update(this,this.width,this.height);plugins.notify(me,'afterScaleUpdate');plugins.notify(me,'afterLayout')},updateDatasets:function(){var me=this;if(plugins.notify(me,'beforeDatasetsUpdate')===!1){return}
for(var i=0,ilen=me.data.datasets.length;i<ilen;++i){me.updateDataset(i)}
plugins.notify(me,'afterDatasetsUpdate')},updateDataset:function(index){var me=this;var meta=me.getDatasetMeta(index);var args={meta:meta,index:index};if(plugins.notify(me,'beforeDatasetUpdate',[args])===!1){return}
meta.controller.update();plugins.notify(me,'afterDatasetUpdate',[args])},render:function(config){var me=this;if(!config||typeof config!=='object'){config={duration:config,lazy:arguments[1]}}
var duration=config.duration;var lazy=config.lazy;if(plugins.notify(me,'beforeRender')===!1){return}
var animationOptions=me.options.animation;var onComplete=function(animation){plugins.notify(me,'afterRender');helpers.callback(animationOptions&&animationOptions.onComplete,[animation],me)};if(animationOptions&&((typeof duration!=='undefined'&&duration!==0)||(typeof duration==='undefined'&&animationOptions.duration!==0))){var animation=new Chart.Animation({numSteps:(duration||animationOptions.duration)/16.66,easing:config.easing||animationOptions.easing,render:function(chart,animationObject){var easingFunction=helpers.easing.effects[animationObject.easing];var currentStep=animationObject.currentStep;var stepDecimal=currentStep/animationObject.numSteps;chart.draw(easingFunction(stepDecimal),stepDecimal,currentStep)},onAnimationProgress:animationOptions.onProgress,onAnimationComplete:onComplete});Chart.animationService.addAnimation(me,animation,duration,lazy)}else{me.draw();onComplete(new Chart.Animation({numSteps:0,chart:me}))}
return me},draw:function(easingValue){var me=this;me.clear();if(helpers.isNullOrUndef(easingValue)){easingValue=1}
me.transition(easingValue);if(plugins.notify(me,'beforeDraw',[easingValue])===!1){return}
helpers.each(me.boxes,function(box){box.draw(me.chartArea)},me);if(me.scale){me.scale.draw()}
me.drawDatasets(easingValue);me._drawTooltip(easingValue);plugins.notify(me,'afterDraw',[easingValue])},transition:function(easingValue){var me=this;for(var i=0,ilen=(me.data.datasets||[]).length;i<ilen;++i){if(me.isDatasetVisible(i)){me.getDatasetMeta(i).controller.transition(easingValue)}}
me.tooltip.transition(easingValue)},drawDatasets:function(easingValue){var me=this;if(plugins.notify(me,'beforeDatasetsDraw',[easingValue])===!1){return}
for(var i=(me.data.datasets||[]).length-1;i>=0;--i){if(me.isDatasetVisible(i)){me.drawDataset(i,easingValue)}}
plugins.notify(me,'afterDatasetsDraw',[easingValue])},drawDataset:function(index,easingValue){var me=this;var meta=me.getDatasetMeta(index);var args={meta:meta,index:index,easingValue:easingValue};if(plugins.notify(me,'beforeDatasetDraw',[args])===!1){return}
meta.controller.draw(easingValue);plugins.notify(me,'afterDatasetDraw',[args])},_drawTooltip:function(easingValue){var me=this;var tooltip=me.tooltip;var args={tooltip:tooltip,easingValue:easingValue};if(plugins.notify(me,'beforeTooltipDraw',[args])===!1){return}
tooltip.draw();plugins.notify(me,'afterTooltipDraw',[args])},getElementAtEvent:function(e){return Interaction.modes.single(this,e)},getElementsAtEvent:function(e){return Interaction.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return Interaction.modes['x-axis'](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,mode,options){var method=Interaction.modes[mode];if(typeof method==='function'){return method(this,e,options)}
return[]},getDatasetAtEvent:function(e){return Interaction.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(datasetIndex){var me=this;var dataset=me.data.datasets[datasetIndex];if(!dataset._meta){dataset._meta={}}
var meta=dataset._meta[me.id];if(!meta){meta=dataset._meta[me.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}}
return meta},getVisibleDatasetCount:function(){var count=0;for(var i=0,ilen=this.data.datasets.length;i<ilen;++i){if(this.isDatasetVisible(i)){count++}}
return count},isDatasetVisible:function(datasetIndex){var meta=this.getDatasetMeta(datasetIndex);return typeof meta.hidden==='boolean'?!meta.hidden:!this.data.datasets[datasetIndex].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(datasetIndex){var id=this.id;var dataset=this.data.datasets[datasetIndex];var meta=dataset._meta&&dataset._meta[id];if(meta){meta.controller.destroy();delete dataset._meta[id]}},destroy:function(){var me=this;var canvas=me.canvas;var i,ilen;me.stop();for(i=0,ilen=me.data.datasets.length;i<ilen;++i){me.destroyDatasetMeta(i)}
if(canvas){me.unbindEvents();helpers.canvas.clear(me);platform.releaseContext(me.ctx);me.canvas=null;me.ctx=null}
plugins.notify(me,'destroy');delete Chart.instances[me.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var me=this;me.tooltip=new Chart.Tooltip({_chart:me,_chartInstance:me,_data:me.data,_options:me.options.tooltips},me)},bindEvents:function(){var me=this;var listeners=me._listeners={};var listener=function(){me.eventHandler.apply(me,arguments)};helpers.each(me.options.events,function(type){platform.addEventListener(me,type,listener);listeners[type]=listener});if(me.options.responsive){listener=function(){me.resize()};platform.addEventListener(me,'resize',listener);listeners.resize=listener}},unbindEvents:function(){var me=this;var listeners=me._listeners;if(!listeners){return}
delete me._listeners;helpers.each(listeners,function(listener,type){platform.removeEventListener(me,type,listener)})},updateHoverStyle:function(elements,mode,enabled){var method=enabled?'setHoverStyle':'removeHoverStyle';var element,i,ilen;for(i=0,ilen=elements.length;i<ilen;++i){element=elements[i];if(element){this.getDatasetMeta(element._datasetIndex).controller[method](element)}}},eventHandler:function(e){var me=this;var tooltip=me.tooltip;if(plugins.notify(me,'beforeEvent',[e])===!1){return}
me._bufferedRender=!0;me._bufferedRequest=null;var changed=me.handleEvent(e);if(tooltip){changed=tooltip._start?tooltip.handleEvent(e):changed|tooltip.handleEvent(e)}
plugins.notify(me,'afterEvent',[e]);var bufferedRequest=me._bufferedRequest;if(bufferedRequest){me.render(bufferedRequest)}else if(changed&&!me.animating){me.stop();me.render(me.options.hover.animationDuration,!0)}
me._bufferedRender=!1;me._bufferedRequest=null;return me},handleEvent:function(e){var me=this;var options=me.options||{};var hoverOptions=options.hover;var changed=!1;me.lastActive=me.lastActive||[];if(e.type==='mouseout'){me.active=[]}else{me.active=me.getElementsAtEventForMode(e,hoverOptions.mode,hoverOptions)}
helpers.callback(options.onHover||options.hover.onHover,[e.native,me.active],me);if(e.type==='mouseup'||e.type==='click'){if(options.onClick){options.onClick.call(me,e.native,me.active)}}
if(me.lastActive.length){me.updateHoverStyle(me.lastActive,hoverOptions.mode,!1)}
if(me.active.length&&hoverOptions.mode){me.updateHoverStyle(me.active,hoverOptions.mode,!0)}
changed=!helpers.arrayEquals(me.active,me.lastActive);me.lastActive=me.active;return changed}});Chart.Controller=Chart}},{"25":25,"28":28,"30":30,"31":31,"45":45,"48":48}],24:[function(require,module,exports){'use strict';var helpers=require(45);module.exports=function(Chart){var arrayEvents=['push','pop','shift','splice','unshift'];function listenArrayEvents(array,listener){if(array._chartjs){array._chartjs.listeners.push(listener);return}
Object.defineProperty(array,'_chartjs',{configurable:!0,enumerable:!1,value:{listeners:[listener]}});arrayEvents.forEach(function(key){var method='onData'+key.charAt(0).toUpperCase()+key.slice(1);var base=array[key];Object.defineProperty(array,key,{configurable:!0,enumerable:!1,value:function(){var args=Array.prototype.slice.call(arguments);var res=base.apply(this,args);helpers.each(array._chartjs.listeners,function(object){if(typeof object[method]==='function'){object[method].apply(object,args)}});return res}})})}
function unlistenArrayEvents(array,listener){var stub=array._chartjs;if(!stub){return}
var listeners=stub.listeners;var index=listeners.indexOf(listener);if(index!==-1){listeners.splice(index,1)}
if(listeners.length>0){return}
arrayEvents.forEach(function(key){delete array[key]});delete array._chartjs}
Chart.DatasetController=function(chart,datasetIndex){this.initialize(chart,datasetIndex)};helpers.extend(Chart.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(chart,datasetIndex){var me=this;me.chart=chart;me.index=datasetIndex;me.linkScales();me.addElements()},updateIndex:function(datasetIndex){this.index=datasetIndex},linkScales:function(){var me=this;var meta=me.getMeta();var dataset=me.getDataset();if(meta.xAxisID===null||!(meta.xAxisID in me.chart.scales)){meta.xAxisID=dataset.xAxisID||me.chart.options.scales.xAxes[0].id}
if(meta.yAxisID===null||!(meta.yAxisID in me.chart.scales)){meta.yAxisID=dataset.yAxisID||me.chart.options.scales.yAxes[0].id}},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(scaleID){return this.chart.scales[scaleID]},reset:function(){this.update(!0)},destroy:function(){if(this._data){unlistenArrayEvents(this._data,this)}},createMetaDataset:function(){var me=this;var type=me.datasetElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index})},createMetaData:function(index){var me=this;var type=me.dataElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index,_index:index})},addElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data||[];var metaData=meta.data;var i,ilen;for(i=0,ilen=data.length;i<ilen;++i){metaData[i]=metaData[i]||me.createMetaData(i)}
meta.dataset=meta.dataset||me.createMetaDataset()},addElementAndReset:function(index){var element=this.createMetaData(index);this.getMeta().data.splice(index,0,element);this.updateElement(element,index,!0)},buildOrUpdateElements:function(){var me=this;var dataset=me.getDataset();var data=dataset.data||(dataset.data=[]);if(me._data!==data){if(me._data){unlistenArrayEvents(me._data,me)}
listenArrayEvents(data,me);me._data=data}
me.resyncElements()},update:helpers.noop,transition:function(easingValue){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;for(;i<ilen;++i){elements[i].transition(easingValue)}
if(meta.dataset){meta.dataset.transition(easingValue)}},draw:function(){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;if(meta.dataset){meta.dataset.draw()}
for(;i<ilen;++i){elements[i].draw()}},removeHoverStyle:function(element,elementOpts){var dataset=this.chart.data.datasets[element._datasetIndex];var index=element._index;var custom=element.custom||{};var valueOrDefault=helpers.valueAtIndexOrDefault;var model=element._model;model.backgroundColor=custom.backgroundColor?custom.backgroundColor:valueOrDefault(dataset.backgroundColor,index,elementOpts.backgroundColor);model.borderColor=custom.borderColor?custom.borderColor:valueOrDefault(dataset.borderColor,index,elementOpts.borderColor);model.borderWidth=custom.borderWidth?custom.borderWidth:valueOrDefault(dataset.borderWidth,index,elementOpts.borderWidth)},setHoverStyle:function(element){var dataset=this.chart.data.datasets[element._datasetIndex];var index=element._index;var custom=element.custom||{};var valueOrDefault=helpers.valueAtIndexOrDefault;var getHoverColor=helpers.getHoverColor;var model=element._model;model.backgroundColor=custom.hoverBackgroundColor?custom.hoverBackgroundColor:valueOrDefault(dataset.hoverBackgroundColor,index,getHoverColor(model.backgroundColor));model.borderColor=custom.hoverBorderColor?custom.hoverBorderColor:valueOrDefault(dataset.hoverBorderColor,index,getHoverColor(model.borderColor));model.borderWidth=custom.hoverBorderWidth?custom.hoverBorderWidth:valueOrDefault(dataset.hoverBorderWidth,index,model.borderWidth)},resyncElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data;var numMeta=meta.data.length;var numData=data.length;if(numData<numMeta){meta.data.splice(numData,numMeta-numData)}else if(numData>numMeta){me.insertElements(numMeta,numData-numMeta)}},insertElements:function(start,count){for(var i=0;i<count;++i){this.addElementAndReset(start+i)}},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(start,count){this.getMeta().data.splice(start,count);this.insertElements(start,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}});Chart.DatasetController.extend=helpers.inherits}},{"45":45}],25:[function(require,module,exports){'use strict';var helpers=require(45);module.exports={_set:function(scope,values){return helpers.merge(this[scope]||(this[scope]={}),values)}}},{"45":45}],26:[function(require,module,exports){'use strict';var color=require(3);var helpers=require(45);function interpolate(start,view,model,ease){var keys=Object.keys(model);var i,ilen,key,actual,origin,target,type,c0,c1;for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];target=model[key];if(!view.hasOwnProperty(key)){view[key]=target}
actual=view[key];if(actual===target||key[0]==='_'){continue}
if(!start.hasOwnProperty(key)){start[key]=actual}
origin=start[key];type=typeof target;if(type===typeof origin){if(type==='string'){c0=color(origin);if(c0.valid){c1=color(target);if(c1.valid){view[key]=c1.mix(c0,ease).rgbString();continue}}}else if(type==='number'&&isFinite(origin)&&isFinite(target)){view[key]=origin+(target-origin)*ease;continue}}
view[key]=target}}
var Element=function(configuration){helpers.extend(this,configuration);this.initialize.apply(this,arguments)};helpers.extend(Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var me=this;if(!me._view){me._view=helpers.clone(me._model)}
me._start={};return me},transition:function(ease){var me=this;var model=me._model;var start=me._start;var view=me._view;if(!model||ease===1){me._view=model;me._start=null;return me}
if(!view){view=me._view={}}
if(!start){start=me._start={}}
interpolate(start,view,model,ease);return me},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return helpers.isNumber(this._model.x)&&helpers.isNumber(this._model.y)}});Element.extend=helpers.inherits;module.exports=Element},{"3":3,"45":45}],27:[function(require,module,exports){'use strict';var color=require(3);var defaults=require(25);var helpers=require(45);module.exports=function(Chart){helpers.configMerge=function(){return helpers.merge(helpers.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(key,target,source,options){var tval=target[key]||{};var sval=source[key];if(key==='scales'){target[key]=helpers.scaleMerge(tval,sval)}else if(key==='scale'){target[key]=helpers.merge(tval,[Chart.scaleService.getScaleDefaults(sval.type),sval])}else{helpers._merger(key,target,source,options)}}})};helpers.scaleMerge=function(){return helpers.merge(helpers.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(key,target,source,options){if(key==='xAxes'||key==='yAxes'){var slen=source[key].length;var i,type,scale;if(!target[key]){target[key]=[]}
for(i=0;i<slen;++i){scale=source[key][i];type=helpers.valueOrDefault(scale.type,key==='xAxes'?'category':'linear');if(i>=target[key].length){target[key].push({})}
if(!target[key][i].type||(scale.type&&scale.type!==target[key][i].type)){helpers.merge(target[key][i],[Chart.scaleService.getScaleDefaults(type),scale])}else{helpers.merge(target[key][i],scale)}}}else{helpers._merger(key,target,source,options)}}})};helpers.where=function(collection,filterCallback){if(helpers.isArray(collection)&&Array.prototype.filter){return collection.filter(filterCallback)}
var filtered=[];helpers.each(collection,function(item){if(filterCallback(item)){filtered.push(item)}});return filtered};helpers.findIndex=Array.prototype.findIndex?function(array,callback,scope){return array.findIndex(callback,scope)}:function(array,callback,scope){scope=scope===undefined?array:scope;for(var i=0,ilen=array.length;i<ilen;++i){if(callback.call(scope,array[i],i,array)){return i}}
return-1};helpers.findNextWhere=function(arrayToSearch,filterCallback,startIndex){if(helpers.isNullOrUndef(startIndex)){startIndex=-1}
for(var i=startIndex+1;i<arrayToSearch.length;i++){var currentItem=arrayToSearch[i];if(filterCallback(currentItem)){return currentItem}}};helpers.findPreviousWhere=function(arrayToSearch,filterCallback,startIndex){if(helpers.isNullOrUndef(startIndex)){startIndex=arrayToSearch.length}
for(var i=startIndex-1;i>=0;i--){var currentItem=arrayToSearch[i];if(filterCallback(currentItem)){return currentItem}}};helpers.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};helpers.almostEquals=function(x,y,epsilon){return Math.abs(x-y)<epsilon};helpers.almostWhole=function(x,epsilon){var rounded=Math.round(x);return(((rounded-epsilon)<x)&&((rounded+epsilon)>x))};helpers.max=function(array){return array.reduce(function(max,value){if(!isNaN(value)){return Math.max(max,value)}
return max},Number.NEGATIVE_INFINITY)};helpers.min=function(array){return array.reduce(function(min,value){if(!isNaN(value)){return Math.min(min,value)}
return min},Number.POSITIVE_INFINITY)};helpers.sign=Math.sign?function(x){return Math.sign(x)}:function(x){x=+x;if(x===0||isNaN(x)){return x}
return x>0?1:-1};helpers.log10=Math.log10?function(x){return Math.log10(x)}:function(x){var exponent=Math.log(x)*Math.LOG10E;var powerOf10=Math.round(exponent);var isPowerOf10=x===Math.pow(10,powerOf10);return isPowerOf10?powerOf10:exponent};helpers.toRadians=function(degrees){return degrees*(Math.PI/180)};helpers.toDegrees=function(radians){return radians*(180/Math.PI)};helpers.getAngleFromPoint=function(centrePoint,anglePoint){var distanceFromXCenter=anglePoint.x-centrePoint.x;var distanceFromYCenter=anglePoint.y-centrePoint.y;var radialDistanceFromCenter=Math.sqrt(distanceFromXCenter*distanceFromXCenter+distanceFromYCenter*distanceFromYCenter);var angle=Math.atan2(distanceFromYCenter,distanceFromXCenter);if(angle<(-0.5*Math.PI)){angle+=2.0*Math.PI}
return{angle:angle,distance:radialDistanceFromCenter}};helpers.distanceBetweenPoints=function(pt1,pt2){return Math.sqrt(Math.pow(pt2.x-pt1.x,2)+Math.pow(pt2.y-pt1.y,2))};helpers.aliasPixel=function(pixelWidth){return(pixelWidth%2===0)?0:0.5};helpers.splineCurve=function(firstPoint,middlePoint,afterPoint,t){var previous=firstPoint.skip?middlePoint:firstPoint;var current=middlePoint;var next=afterPoint.skip?middlePoint:afterPoint;var d01=Math.sqrt(Math.pow(current.x-previous.x,2)+Math.pow(current.y-previous.y,2));var d12=Math.sqrt(Math.pow(next.x-current.x,2)+Math.pow(next.y-current.y,2));var s01=d01/(d01+d12);var s12=d12/(d01+d12);s01=isNaN(s01)?0:s01;s12=isNaN(s12)?0:s12;var fa=t*s01;var fb=t*s12;return{previous:{x:current.x-fa*(next.x-previous.x),y:current.y-fa*(next.y-previous.y)},next:{x:current.x+fb*(next.x-previous.x),y:current.y+fb*(next.y-previous.y)}}};helpers.EPSILON=Number.EPSILON||1e-14;helpers.splineCurveMonotone=function(points){var pointsWithTangents=(points||[]).map(function(point){return{model:point._model,deltaK:0,mK:0}});var pointsLen=pointsWithTangents.length;var i,pointBefore,pointCurrent,pointAfter;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip){continue}
pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointAfter&&!pointAfter.model.skip){var slopeDeltaX=(pointAfter.model.x-pointCurrent.model.x);pointCurrent.deltaK=slopeDeltaX!==0?(pointAfter.model.y-pointCurrent.model.y)/slopeDeltaX:0}
if(!pointBefore||pointBefore.model.skip){pointCurrent.mK=pointCurrent.deltaK}else if(!pointAfter||pointAfter.model.skip){pointCurrent.mK=pointBefore.deltaK}else if(this.sign(pointBefore.deltaK)!==this.sign(pointCurrent.deltaK)){pointCurrent.mK=0}else{pointCurrent.mK=(pointBefore.deltaK+pointCurrent.deltaK)/2}}
var alphaK,betaK,tauK,squaredMagnitude;for(i=0;i<pointsLen-1;++i){pointCurrent=pointsWithTangents[i];pointAfter=pointsWithTangents[i+1];if(pointCurrent.model.skip||pointAfter.model.skip){continue}
if(helpers.almostEquals(pointCurrent.deltaK,0,this.EPSILON)){pointCurrent.mK=pointAfter.mK=0;continue}
alphaK=pointCurrent.mK/pointCurrent.deltaK;betaK=pointAfter.mK/pointCurrent.deltaK;squaredMagnitude=Math.pow(alphaK,2)+Math.pow(betaK,2);if(squaredMagnitude<=9){continue}
tauK=3/Math.sqrt(squaredMagnitude);pointCurrent.mK=alphaK*tauK*pointCurrent.deltaK;pointAfter.mK=betaK*tauK*pointCurrent.deltaK}
var deltaX;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip){continue}
pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointBefore&&!pointBefore.model.skip){deltaX=(pointCurrent.model.x-pointBefore.model.x)/3;pointCurrent.model.controlPointPreviousX=pointCurrent.model.x-deltaX;pointCurrent.model.controlPointPreviousY=pointCurrent.model.y-deltaX*pointCurrent.mK}
if(pointAfter&&!pointAfter.model.skip){deltaX=(pointAfter.model.x-pointCurrent.model.x)/3;pointCurrent.model.controlPointNextX=pointCurrent.model.x+deltaX;pointCurrent.model.controlPointNextY=pointCurrent.model.y+deltaX*pointCurrent.mK}}};helpers.nextItem=function(collection,index,loop){if(loop){return index>=collection.length-1?collection[0]:collection[index+1]}
return index>=collection.length-1?collection[collection.length-1]:collection[index+1]};helpers.previousItem=function(collection,index,loop){if(loop){return index<=0?collection[collection.length-1]:collection[index-1]}
return index<=0?collection[0]:collection[index-1]};helpers.niceNum=function(range,round){var exponent=Math.floor(helpers.log10(range));var fraction=range/Math.pow(10,exponent);var niceFraction;if(round){if(fraction<1.5){niceFraction=1}else if(fraction<3){niceFraction=2}else if(fraction<7){niceFraction=5}else{niceFraction=10}}else if(fraction<=1.0){niceFraction=1}else if(fraction<=2){niceFraction=2}else if(fraction<=5){niceFraction=5}else{niceFraction=10}
return niceFraction*Math.pow(10,exponent)};helpers.requestAnimFrame=(function(){if(typeof window==='undefined'){return function(callback){callback()}}
return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000/60)}}());helpers.getRelativePosition=function(evt,chart){var mouseX,mouseY;var e=evt.originalEvent||evt;var canvas=evt.currentTarget||evt.srcElement;var boundingRect=canvas.getBoundingClientRect();var touches=e.touches;if(touches&&touches.length>0){mouseX=touches[0].clientX;mouseY=touches[0].clientY}else{mouseX=e.clientX;mouseY=e.clientY}
var paddingLeft=parseFloat(helpers.getStyle(canvas,'padding-left'));var paddingTop=parseFloat(helpers.getStyle(canvas,'padding-top'));var paddingRight=parseFloat(helpers.getStyle(canvas,'padding-right'));var paddingBottom=parseFloat(helpers.getStyle(canvas,'padding-bottom'));var width=boundingRect.right-boundingRect.left-paddingLeft-paddingRight;var height=boundingRect.bottom-boundingRect.top-paddingTop-paddingBottom;mouseX=Math.round((mouseX-boundingRect.left-paddingLeft)/(width)*canvas.width/chart.currentDevicePixelRatio);mouseY=Math.round((mouseY-boundingRect.top-paddingTop)/(height)*canvas.height/chart.currentDevicePixelRatio);return{x:mouseX,y:mouseY}};function parseMaxStyle(styleValue,node,parentProperty){var valueInPixels;if(typeof styleValue==='string'){valueInPixels=parseInt(styleValue,10);if(styleValue.indexOf('%')!==-1){valueInPixels=valueInPixels/100*node.parentNode[parentProperty]}}else{valueInPixels=styleValue}
return valueInPixels}
function isConstrainedValue(value){return value!==undefined&&value!==null&&value!=='none'}
function getConstraintDimension(domNode,maxStyle,percentageProperty){var view=document.defaultView;var parentNode=domNode.parentNode;var constrainedNode=view.getComputedStyle(domNode)[maxStyle];var constrainedContainer=view.getComputedStyle(parentNode)[maxStyle];var hasCNode=isConstrainedValue(constrainedNode);var hasCContainer=isConstrainedValue(constrainedContainer);var infinity=Number.POSITIVE_INFINITY;if(hasCNode||hasCContainer){return Math.min(hasCNode?parseMaxStyle(constrainedNode,domNode,percentageProperty):infinity,hasCContainer?parseMaxStyle(constrainedContainer,parentNode,percentageProperty):infinity)}
return 'none'}
helpers.getConstraintWidth=function(domNode){return getConstraintDimension(domNode,'max-width','clientWidth')};helpers.getConstraintHeight=function(domNode){return getConstraintDimension(domNode,'max-height','clientHeight')};helpers.getMaximumWidth=function(domNode){var container=domNode.parentNode;if(!container){return domNode.clientWidth}
var paddingLeft=parseInt(helpers.getStyle(container,'padding-left'),10);var paddingRight=parseInt(helpers.getStyle(container,'padding-right'),10);var w=container.clientWidth-paddingLeft-paddingRight;var cw=helpers.getConstraintWidth(domNode);return isNaN(cw)?w:Math.min(w,cw)};helpers.getMaximumHeight=function(domNode){var container=domNode.parentNode;if(!container){return domNode.clientHeight}
var paddingTop=parseInt(helpers.getStyle(container,'padding-top'),10);var paddingBottom=parseInt(helpers.getStyle(container,'padding-bottom'),10);var h=container.clientHeight-paddingTop-paddingBottom;var ch=helpers.getConstraintHeight(domNode);return isNaN(ch)?h:Math.min(h,ch)};helpers.getStyle=function(el,property){return el.currentStyle?el.currentStyle[property]:document.defaultView.getComputedStyle(el,null).getPropertyValue(property)};helpers.retinaScale=function(chart,forceRatio){var pixelRatio=chart.currentDevicePixelRatio=forceRatio||window.devicePixelRatio||1;if(pixelRatio===1){return}
var canvas=chart.canvas;var height=chart.height;var width=chart.width;canvas.height=height*pixelRatio;canvas.width=width*pixelRatio;chart.ctx.scale(pixelRatio,pixelRatio);if(!canvas.style.height&&!canvas.style.width){canvas.style.height=height+'px';canvas.style.width=width+'px'}};helpers.fontString=function(pixelSize,fontStyle,fontFamily){return fontStyle+' '+pixelSize+'px '+fontFamily};helpers.longestText=function(ctx,font,arrayOfThings,cache){cache=cache||{};var data=cache.data=cache.data||{};var gc=cache.garbageCollect=cache.garbageCollect||[];if(cache.font!==font){data=cache.data={};gc=cache.garbageCollect=[];cache.font=font}
ctx.font=font;var longest=0;helpers.each(arrayOfThings,function(thing){if(thing!==undefined&&thing!==null&&helpers.isArray(thing)!==!0){longest=helpers.measureText(ctx,data,gc,longest,thing)}else if(helpers.isArray(thing)){helpers.each(thing,function(nestedThing){if(nestedThing!==undefined&&nestedThing!==null&&!helpers.isArray(nestedThing)){longest=helpers.measureText(ctx,data,gc,longest,nestedThing)}})}});var gcLen=gc.length/2;if(gcLen>arrayOfThings.length){for(var i=0;i<gcLen;i++){delete data[gc[i]]}
gc.splice(0,gcLen)}
return longest};helpers.measureText=function(ctx,data,gc,longest,string){var textWidth=data[string];if(!textWidth){textWidth=data[string]=ctx.measureText(string).width;gc.push(string)}
if(textWidth>longest){longest=textWidth}
return longest};helpers.numberOfLabelLines=function(arrayOfThings){var numberOfLines=1;helpers.each(arrayOfThings,function(thing){if(helpers.isArray(thing)){if(thing.length>numberOfLines){numberOfLines=thing.length}}});return numberOfLines};helpers.color=!color?function(value){console.error('Color.js not found!');return value}:function(value){if(value instanceof CanvasGradient){value=defaults.global.defaultColor}
return color(value)};helpers.getHoverColor=function(colorValue){return(colorValue instanceof CanvasPattern)?colorValue:helpers.color(colorValue).saturate(0.5).darken(0.1).rgbString()}}},{"25":25,"3":3,"45":45}],28:[function(require,module,exports){'use strict';var helpers=require(45);function getRelativePosition(e,chart){if(e.native){return{x:e.x,y:e.y}}
return helpers.getRelativePosition(e,chart)}
function parseVisibleItems(chart,handler){var datasets=chart.data.datasets;var meta,i,j,ilen,jlen;for(i=0,ilen=datasets.length;i<ilen;++i){if(!chart.isDatasetVisible(i)){continue}
meta=chart.getDatasetMeta(i);for(j=0,jlen=meta.data.length;j<jlen;++j){var element=meta.data[j];if(!element._view.skip){handler(element)}}}}
function getIntersectItems(chart,position){var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element)}});return elements}
function getNearestItems(chart,position,intersect,distanceMetric){var minDistance=Number.POSITIVE_INFINITY;var nearestItems=[];parseVisibleItems(chart,function(element){if(intersect&&!element.inRange(position.x,position.y)){return}
var center=element.getCenterPoint();var distance=distanceMetric(position,center);if(distance<minDistance){nearestItems=[element];minDistance=distance}else if(distance===minDistance){nearestItems.push(element)}});return nearestItems}
function getDistanceMetricForAxis(axis){var useX=axis.indexOf('x')!==-1;var useY=axis.indexOf('y')!==-1;return function(pt1,pt2){var deltaX=useX?Math.abs(pt1.x-pt2.x):0;var deltaY=useY?Math.abs(pt1.y-pt2.y):0;return Math.sqrt(Math.pow(deltaX,2)+Math.pow(deltaY,2))}}
function indexMode(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'x';var distanceMetric=getDistanceMetricForAxis(options.axis);var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,!1,distanceMetric);var elements=[];if(!items.length){return[]}
chart.data.datasets.forEach(function(dataset,datasetIndex){if(chart.isDatasetVisible(datasetIndex)){var meta=chart.getDatasetMeta(datasetIndex);var element=meta.data[items[0]._index];if(element&&!element._view.skip){elements.push(element)}}});return elements}
module.exports={modes:{single:function(chart,e){var position=getRelativePosition(e,chart);var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element);return elements}});return elements.slice(0,1)},label:indexMode,index:indexMode,dataset:function(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'xy';var distanceMetric=getDistanceMetricForAxis(options.axis);var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,!1,distanceMetric);if(items.length>0){items=chart.getDatasetMeta(items[0]._datasetIndex).data}
return items},'x-axis':function(chart,e){return indexMode(chart,e,{intersect:!1})},point:function(chart,e){var position=getRelativePosition(e,chart);return getIntersectItems(chart,position)},nearest:function(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'xy';var distanceMetric=getDistanceMetricForAxis(options.axis);var nearestItems=getNearestItems(chart,position,options.intersect,distanceMetric);if(nearestItems.length>1){nearestItems.sort(function(a,b){var sizeA=a.getArea();var sizeB=b.getArea();var ret=sizeA-sizeB;if(ret===0){ret=a._datasetIndex-b._datasetIndex}
return ret})}
return nearestItems.slice(0,1)},x:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=!1;parseVisibleItems(chart,function(element){if(element.inXRange(position.x)){items.push(element)}
if(element.inRange(position.x,position.y)){intersectsItem=!0}});if(options.intersect&&!intersectsItem){items=[]}
return items},y:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=!1;parseVisibleItems(chart,function(element){if(element.inYRange(position.y)){items.push(element)}
if(element.inRange(position.x,position.y)){intersectsItem=!0}});if(options.intersect&&!intersectsItem){items=[]}
return items}}}},{"45":45}],29:[function(require,module,exports){'use strict';var defaults=require(25);defaults._set('global',{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:['mousemove','mouseout','click','touchstart','touchmove'],hover:{onHover:null,mode:'nearest',intersect:!0,animationDuration:400},onClick:null,defaultColor:'rgba(0,0,0,0.1)',defaultFontColor:'#666',defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:'normal',showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}});module.exports=function(){var Chart=function(item,config){this.construct(item,config);return this};Chart.Chart=Chart;return Chart}},{"25":25}],30:[function(require,module,exports){'use strict';var helpers=require(45);function filterByPosition(array,position){return helpers.where(array,function(v){return v.position===position})}
function sortByWeight(array,reverse){array.forEach(function(v,i){v._tmpIndex_=i;return v});array.sort(function(a,b){var v0=reverse?b:a;var v1=reverse?a:b;return v0.weight===v1.weight?v0._tmpIndex_-v1._tmpIndex_:v0.weight-v1.weight});array.forEach(function(v){delete v._tmpIndex_})}
module.exports={defaults:{},addBox:function(chart,item){if(!chart.boxes){chart.boxes=[]}
item.fullWidth=item.fullWidth||!1;item.position=item.position||'top';item.weight=item.weight||0;chart.boxes.push(item)},removeBox:function(chart,layoutItem){var index=chart.boxes?chart.boxes.indexOf(layoutItem):-1;if(index!==-1){chart.boxes.splice(index,1)}},configure:function(chart,item,options){var props=['fullWidth','position','weight'];var ilen=props.length;var i=0;var prop;for(;i<ilen;++i){prop=props[i];if(options.hasOwnProperty(prop)){item[prop]=options[prop]}}},update:function(chart,width,height){if(!chart){return}
var layoutOptions=chart.options.layout||{};var padding=helpers.options.toPadding(layoutOptions.padding);var leftPadding=padding.left;var rightPadding=padding.right;var topPadding=padding.top;var bottomPadding=padding.bottom;var leftBoxes=filterByPosition(chart.boxes,'left');var rightBoxes=filterByPosition(chart.boxes,'right');var topBoxes=filterByPosition(chart.boxes,'top');var bottomBoxes=filterByPosition(chart.boxes,'bottom');var chartAreaBoxes=filterByPosition(chart.boxes,'chartArea');sortByWeight(leftBoxes,!0);sortByWeight(rightBoxes,!1);sortByWeight(topBoxes,!0);sortByWeight(bottomBoxes,!1);var chartWidth=width-leftPadding-rightPadding;var chartHeight=height-topPadding-bottomPadding;var chartAreaWidth=chartWidth/2;var chartAreaHeight=chartHeight/2;var verticalBoxWidth=(width-chartAreaWidth)/(leftBoxes.length+rightBoxes.length);var horizontalBoxHeight=(height-chartAreaHeight)/(topBoxes.length+bottomBoxes.length);var maxChartAreaWidth=chartWidth;var maxChartAreaHeight=chartHeight;var minBoxSizes=[];function getMinimumBoxSize(box){var minSize;var isHorizontal=box.isHorizontal();if(isHorizontal){minSize=box.update(box.fullWidth?chartWidth:maxChartAreaWidth,horizontalBoxHeight);maxChartAreaHeight-=minSize.height}else{minSize=box.update(verticalBoxWidth,maxChartAreaHeight);maxChartAreaWidth-=minSize.width}
minBoxSizes.push({horizontal:isHorizontal,minSize:minSize,box:box,})}
helpers.each(leftBoxes.concat(rightBoxes,topBoxes,bottomBoxes),getMinimumBoxSize);var maxHorizontalLeftPadding=0;var maxHorizontalRightPadding=0;var maxVerticalTopPadding=0;var maxVerticalBottomPadding=0;helpers.each(topBoxes.concat(bottomBoxes),function(horizontalBox){if(horizontalBox.getPadding){var boxPadding=horizontalBox.getPadding();maxHorizontalLeftPadding=Math.max(maxHorizontalLeftPadding,boxPadding.left);maxHorizontalRightPadding=Math.max(maxHorizontalRightPadding,boxPadding.right)}});helpers.each(leftBoxes.concat(rightBoxes),function(verticalBox){if(verticalBox.getPadding){var boxPadding=verticalBox.getPadding();maxVerticalTopPadding=Math.max(maxVerticalTopPadding,boxPadding.top);maxVerticalBottomPadding=Math.max(maxVerticalBottomPadding,boxPadding.bottom)}});var totalLeftBoxesWidth=leftPadding;var totalRightBoxesWidth=rightPadding;var totalTopBoxesHeight=topPadding;var totalBottomBoxesHeight=bottomPadding;function fitBox(box){var minBoxSize=helpers.findNextWhere(minBoxSizes,function(minBox){return minBox.box===box});if(minBoxSize){if(box.isHorizontal()){var scaleMargin={left:Math.max(totalLeftBoxesWidth,maxHorizontalLeftPadding),right:Math.max(totalRightBoxesWidth,maxHorizontalRightPadding),top:0,bottom:0};box.update(box.fullWidth?chartWidth:maxChartAreaWidth,chartHeight/2,scaleMargin)}else{box.update(minBoxSize.minSize.width,maxChartAreaHeight)}}}
helpers.each(leftBoxes.concat(rightBoxes),fitBox);helpers.each(leftBoxes,function(box){totalLeftBoxesWidth+=box.width});helpers.each(rightBoxes,function(box){totalRightBoxesWidth+=box.width});helpers.each(topBoxes.concat(bottomBoxes),fitBox);helpers.each(topBoxes,function(box){totalTopBoxesHeight+=box.height});helpers.each(bottomBoxes,function(box){totalBottomBoxesHeight+=box.height});function finalFitVerticalBox(box){var minBoxSize=helpers.findNextWhere(minBoxSizes,function(minSize){return minSize.box===box});var scaleMargin={left:0,right:0,top:totalTopBoxesHeight,bottom:totalBottomBoxesHeight};if(minBoxSize){box.update(minBoxSize.minSize.width,maxChartAreaHeight,scaleMargin)}}
helpers.each(leftBoxes.concat(rightBoxes),finalFitVerticalBox);totalLeftBoxesWidth=leftPadding;totalRightBoxesWidth=rightPadding;totalTopBoxesHeight=topPadding;totalBottomBoxesHeight=bottomPadding;helpers.each(leftBoxes,function(box){totalLeftBoxesWidth+=box.width});helpers.each(rightBoxes,function(box){totalRightBoxesWidth+=box.width});helpers.each(topBoxes,function(box){totalTopBoxesHeight+=box.height});helpers.each(bottomBoxes,function(box){totalBottomBoxesHeight+=box.height});var leftPaddingAddition=Math.max(maxHorizontalLeftPadding-totalLeftBoxesWidth,0);totalLeftBoxesWidth+=leftPaddingAddition;totalRightBoxesWidth+=Math.max(maxHorizontalRightPadding-totalRightBoxesWidth,0);var topPaddingAddition=Math.max(maxVerticalTopPadding-totalTopBoxesHeight,0);totalTopBoxesHeight+=topPaddingAddition;totalBottomBoxesHeight+=Math.max(maxVerticalBottomPadding-totalBottomBoxesHeight,0);var newMaxChartAreaHeight=height-totalTopBoxesHeight-totalBottomBoxesHeight;var newMaxChartAreaWidth=width-totalLeftBoxesWidth-totalRightBoxesWidth;if(newMaxChartAreaWidth!==maxChartAreaWidth||newMaxChartAreaHeight!==maxChartAreaHeight){helpers.each(leftBoxes,function(box){box.height=newMaxChartAreaHeight});helpers.each(rightBoxes,function(box){box.height=newMaxChartAreaHeight});helpers.each(topBoxes,function(box){if(!box.fullWidth){box.width=newMaxChartAreaWidth}});helpers.each(bottomBoxes,function(box){if(!box.fullWidth){box.width=newMaxChartAreaWidth}});maxChartAreaHeight=newMaxChartAreaHeight;maxChartAreaWidth=newMaxChartAreaWidth}
var left=leftPadding+leftPaddingAddition;var top=topPadding+topPaddingAddition;function placeBox(box){if(box.isHorizontal()){box.left=box.fullWidth?leftPadding:totalLeftBoxesWidth;box.right=box.fullWidth?width-rightPadding:totalLeftBoxesWidth+maxChartAreaWidth;box.top=top;box.bottom=top+box.height;top=box.bottom}else{box.left=left;box.right=left+box.width;box.top=totalTopBoxesHeight;box.bottom=totalTopBoxesHeight+maxChartAreaHeight;left=box.right}}
helpers.each(leftBoxes.concat(topBoxes),placeBox);left+=maxChartAreaWidth;top+=maxChartAreaHeight;helpers.each(rightBoxes,placeBox);helpers.each(bottomBoxes,placeBox);chart.chartArea={left:totalLeftBoxesWidth,top:totalTopBoxesHeight,right:totalLeftBoxesWidth+maxChartAreaWidth,bottom:totalTopBoxesHeight+maxChartAreaHeight};helpers.each(chartAreaBoxes,function(box){box.left=chart.chartArea.left;box.top=chart.chartArea.top;box.right=chart.chartArea.right;box.bottom=chart.chartArea.bottom;box.update(maxChartAreaWidth,maxChartAreaHeight)})}}},{"45":45}],31:[function(require,module,exports){'use strict';var defaults=require(25);var helpers=require(45);defaults._set('global',{plugins:{}});module.exports={_plugins:[],_cacheId:0,register:function(plugins){var p=this._plugins;([]).concat(plugins).forEach(function(plugin){if(p.indexOf(plugin)===-1){p.push(plugin)}});this._cacheId++},unregister:function(plugins){var p=this._plugins;([]).concat(plugins).forEach(function(plugin){var idx=p.indexOf(plugin);if(idx!==-1){p.splice(idx,1)}});this._cacheId++},clear:function(){this._plugins=[];this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(chart,hook,args){var descriptors=this.descriptors(chart);var ilen=descriptors.length;var i,descriptor,plugin,params,method;for(i=0;i<ilen;++i){descriptor=descriptors[i];plugin=descriptor.plugin;method=plugin[hook];if(typeof method==='function'){params=[chart].concat(args||[]);params.push(descriptor.options);if(method.apply(plugin,params)===!1){return!1}}}
return!0},descriptors:function(chart){var cache=chart.$plugins||(chart.$plugins={});if(cache.id===this._cacheId){return cache.descriptors}
var plugins=[];var descriptors=[];var config=(chart&&chart.config)||{};var options=(config.options&&config.options.plugins)||{};this._plugins.concat(config.plugins||[]).forEach(function(plugin){var idx=plugins.indexOf(plugin);if(idx!==-1){return}
var id=plugin.id;var opts=options[id];if(opts===!1){return}
if(opts===!0){opts=helpers.clone(defaults.global.plugins[id])}
plugins.push(plugin);descriptors.push({plugin:plugin,options:opts||{}})});cache.descriptors=descriptors;cache.id=this._cacheId;return descriptors},_invalidate:function(chart){delete chart.$plugins}}},{"25":25,"45":45}],32:[function(require,module,exports){'use strict';var defaults=require(25);var Element=require(26);var helpers=require(45);var Ticks=require(34);defaults._set('scale',{display:!0,position:'left',offset:!1,gridLines:{display:!0,color:'rgba(0, 0, 0, 0.1)',lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:'rgba(0,0,0,0.25)',zeroLineBorderDash:[],zeroLineBorderDashOffset:0.0,offsetGridLines:!1,borderDash:[],borderDashOffset:0.0},scaleLabel:{display:!1,labelString:'',lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{}}});function labelsFromTicks(ticks){var labels=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;++i){labels.push(ticks[i].label)}
return labels}
function getLineValue(scale,index,offsetGridLines){var lineValue=scale.getPixelForTick(index);if(offsetGridLines){if(index===0){lineValue-=(scale.getPixelForTick(1)-lineValue)/2}else{lineValue-=(lineValue-scale.getPixelForTick(index-1))/2}}
return lineValue}
module.exports=function(Chart){function computeTextSize(context,tick,font){return helpers.isArray(tick)?helpers.longestText(context,font,tick):context.measureText(tick).width}
function parseFontOptions(options){var valueOrDefault=helpers.valueOrDefault;var globalDefaults=defaults.global;var size=valueOrDefault(options.fontSize,globalDefaults.defaultFontSize);var style=valueOrDefault(options.fontStyle,globalDefaults.defaultFontStyle);var family=valueOrDefault(options.fontFamily,globalDefaults.defaultFontFamily);return{size:size,style:style,family:family,font:helpers.fontString(size,style,family)}}
function parseLineHeight(options){return helpers.options.toLineHeight(helpers.valueOrDefault(options.lineHeight,1.2),helpers.valueOrDefault(options.fontSize,defaults.global.defaultFontSize))}
Chart.Scale=Element.extend({getPadding:function(){var me=this;return{left:me.paddingLeft||0,top:me.paddingTop||0,right:me.paddingRight||0,bottom:me.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var ticks=this.options.ticks;if(ticks.minor===!1){ticks.minor={display:!1}}
if(ticks.major===!1){ticks.major={display:!1}}
for(var key in ticks){if(key!=='major'&&key!=='minor'){if(typeof ticks.minor[key]==='undefined'){ticks.minor[key]=ticks[key]}
if(typeof ticks.major[key]==='undefined'){ticks.major[key]=ticks[key]}}}},beforeUpdate:function(){helpers.callback(this.options.beforeUpdate,[this])},update:function(maxWidth,maxHeight,margins){var me=this;var i,ilen,labels,label,ticks,tick;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=helpers.extend({left:0,right:0,top:0,bottom:0},margins);me.longestTextCache=me.longestTextCache||{};me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeDataLimits();me.determineDataLimits();me.afterDataLimits();me.beforeBuildTicks();ticks=me.buildTicks()||[];me.afterBuildTicks();me.beforeTickToLabelConversion();labels=me.convertTicksToLabels(ticks)||me.ticks;me.afterTickToLabelConversion();me.ticks=labels;for(i=0,ilen=labels.length;i<ilen;++i){label=labels[i];tick=ticks[i];if(!tick){ticks.push(tick={label:label,major:!1})}else{tick.label=label}}
me._ticks=ticks;me.beforeCalculateTickRotation();me.calculateTickRotation();me.afterCalculateTickRotation();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize},afterUpdate:function(){helpers.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){helpers.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0},afterSetDimensions:function(){helpers.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){helpers.callback(this.options.beforeDataLimits,[this])},determineDataLimits:helpers.noop,afterDataLimits:function(){helpers.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){helpers.callback(this.options.beforeBuildTicks,[this])},buildTicks:helpers.noop,afterBuildTicks:function(){helpers.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){helpers.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var me=this;var tickOpts=me.options.ticks;me.ticks=me.ticks.map(tickOpts.userCallback||tickOpts.callback,this)},afterTickToLabelConversion:function(){helpers.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){helpers.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var me=this;var context=me.ctx;var tickOpts=me.options.ticks;var labels=labelsFromTicks(me._ticks);var tickFont=parseFontOptions(tickOpts);context.font=tickFont.font;var labelRotation=tickOpts.minRotation||0;if(labels.length&&me.options.display&&me.isHorizontal()){var originalLabelWidth=helpers.longestText(context,tickFont.font,labels,me.longestTextCache);var labelWidth=originalLabelWidth;var cosRotation,sinRotation;var tickWidth=me.getPixelForTick(1)-me.getPixelForTick(0)-6;while(labelWidth>tickWidth&&labelRotation<tickOpts.maxRotation){var angleRadians=helpers.toRadians(labelRotation);cosRotation=Math.cos(angleRadians);sinRotation=Math.sin(angleRadians);if(sinRotation*originalLabelWidth>me.maxHeight){labelRotation--;break}
labelRotation++;labelWidth=cosRotation*originalLabelWidth}}
me.labelRotation=labelRotation},afterCalculateTickRotation:function(){helpers.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){helpers.callback(this.options.beforeFit,[this])},fit:function(){var me=this;var minSize=me.minSize={width:0,height:0};var labels=labelsFromTicks(me._ticks);var opts=me.options;var tickOpts=opts.ticks;var scaleLabelOpts=opts.scaleLabel;var gridLineOpts=opts.gridLines;var display=opts.display;var isHorizontal=me.isHorizontal();var tickFont=parseFontOptions(tickOpts);var tickMarkLength=opts.gridLines.tickMarkLength;if(isHorizontal){minSize.width=me.isFullWidth()?me.maxWidth-me.margins.left-me.margins.right:me.maxWidth}else{minSize.width=display&&gridLineOpts.drawTicks?tickMarkLength:0}
if(isHorizontal){minSize.height=display&&gridLineOpts.drawTicks?tickMarkLength:0}else{minSize.height=me.maxHeight}
if(scaleLabelOpts.display&&display){var scaleLabelLineHeight=parseLineHeight(scaleLabelOpts);var scaleLabelPadding=helpers.options.toPadding(scaleLabelOpts.padding);var deltaHeight=scaleLabelLineHeight+scaleLabelPadding.height;if(isHorizontal){minSize.height+=deltaHeight}else{minSize.width+=deltaHeight}}
if(tickOpts.display&&display){var largestTextWidth=helpers.longestText(me.ctx,tickFont.font,labels,me.longestTextCache);var tallestLabelHeightInLines=helpers.numberOfLabelLines(labels);var lineSpace=tickFont.size*0.5;var tickPadding=me.options.ticks.padding;if(isHorizontal){me.longestLabelWidth=largestTextWidth;var angleRadians=helpers.toRadians(me.labelRotation);var cosRotation=Math.cos(angleRadians);var sinRotation=Math.sin(angleRadians);var labelHeight=(sinRotation*largestTextWidth)+(tickFont.size*tallestLabelHeightInLines)+(lineSpace*(tallestLabelHeightInLines-1))+lineSpace;minSize.height=Math.min(me.maxHeight,minSize.height+labelHeight+tickPadding);me.ctx.font=tickFont.font;var firstLabelWidth=computeTextSize(me.ctx,labels[0],tickFont.font);var lastLabelWidth=computeTextSize(me.ctx,labels[labels.length-1],tickFont.font);if(me.labelRotation!==0){me.paddingLeft=opts.position==='bottom'?(cosRotation*firstLabelWidth)+3:(cosRotation*lineSpace)+3;me.paddingRight=opts.position==='bottom'?(cosRotation*lineSpace)+3:(cosRotation*lastLabelWidth)+3}else{me.paddingLeft=firstLabelWidth/2+3;me.paddingRight=lastLabelWidth/2+3}}else{if(tickOpts.mirror){largestTextWidth=0}else{largestTextWidth+=tickPadding+lineSpace}
minSize.width=Math.min(me.maxWidth,minSize.width+largestTextWidth);me.paddingTop=tickFont.size/2;me.paddingBottom=tickFont.size/2}}
me.handleMargins();me.width=minSize.width;me.height=minSize.height},handleMargins:function(){var me=this;if(me.margins){me.paddingLeft=Math.max(me.paddingLeft-me.margins.left,0);me.paddingTop=Math.max(me.paddingTop-me.margins.top,0);me.paddingRight=Math.max(me.paddingRight-me.margins.right,0);me.paddingBottom=Math.max(me.paddingBottom-me.margins.bottom,0)}},afterFit:function(){helpers.callback(this.options.afterFit,[this])},isHorizontal:function(){return this.options.position==='top'||this.options.position==='bottom'},isFullWidth:function(){return(this.options.fullWidth)},getRightValue:function(rawValue){if(helpers.isNullOrUndef(rawValue)){return NaN}
if(typeof rawValue==='number'&&!isFinite(rawValue)){return NaN}
if(rawValue){if(this.isHorizontal()){if(rawValue.x!==undefined){return this.getRightValue(rawValue.x)}}else if(rawValue.y!==undefined){return this.getRightValue(rawValue.y)}}
return rawValue},getLabelForIndex:helpers.noop,getPixelForValue:helpers.noop,getValueForPixel:helpers.noop,getPixelForTick:function(index){var me=this;var offset=me.options.offset;if(me.isHorizontal()){var innerWidth=me.width-(me.paddingLeft+me.paddingRight);var tickWidth=innerWidth/Math.max((me._ticks.length-(offset?0:1)),1);var pixel=(tickWidth*index)+me.paddingLeft;if(offset){pixel+=tickWidth/2}
var finalVal=me.left+Math.round(pixel);finalVal+=me.isFullWidth()?me.margins.left:0;return finalVal}
var innerHeight=me.height-(me.paddingTop+me.paddingBottom);return me.top+(index*(innerHeight/(me._ticks.length-1)))},getPixelForDecimal:function(decimal){var me=this;if(me.isHorizontal()){var innerWidth=me.width-(me.paddingLeft+me.paddingRight);var valueOffset=(innerWidth*decimal)+me.paddingLeft;var finalVal=me.left+Math.round(valueOffset);finalVal+=me.isFullWidth()?me.margins.left:0;return finalVal}
return me.top+(decimal*me.height)},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var me=this;var min=me.min;var max=me.max;return me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0},_autoSkip:function(ticks){var skipRatio;var me=this;var isHorizontal=me.isHorizontal();var optionTicks=me.options.ticks.minor;var tickCount=ticks.length;var labelRotationRadians=helpers.toRadians(me.labelRotation);var cosRotation=Math.cos(labelRotationRadians);var longestRotatedLabel=me.longestLabelWidth*cosRotation;var result=[];var i,tick,shouldSkip;var maxTicks;if(optionTicks.maxTicksLimit){maxTicks=optionTicks.maxTicksLimit}
if(isHorizontal){skipRatio=!1;if((longestRotatedLabel+optionTicks.autoSkipPadding)*tickCount>(me.width-(me.paddingLeft+me.paddingRight))){skipRatio=1+Math.floor(((longestRotatedLabel+optionTicks.autoSkipPadding)*tickCount)/(me.width-(me.paddingLeft+me.paddingRight)))}
if(maxTicks&&tickCount>maxTicks){skipRatio=Math.max(skipRatio,Math.floor(tickCount/maxTicks))}}
for(i=0;i<tickCount;i++){tick=ticks[i];shouldSkip=(skipRatio>1&&i%skipRatio>0)||(i%skipRatio===0&&i+skipRatio>=tickCount);if(shouldSkip&&i!==tickCount-1){delete tick.label}
result.push(tick)}
return result},draw:function(chartArea){var me=this;var options=me.options;if(!options.display){return}
var context=me.ctx;var globalDefaults=defaults.global;var optionTicks=options.ticks.minor;var optionMajorTicks=options.ticks.major||optionTicks;var gridLines=options.gridLines;var scaleLabel=options.scaleLabel;var isRotated=me.labelRotation!==0;var isHorizontal=me.isHorizontal();var ticks=optionTicks.autoSkip?me._autoSkip(me.getTicks()):me.getTicks();var tickFontColor=helpers.valueOrDefault(optionTicks.fontColor,globalDefaults.defaultFontColor);var tickFont=parseFontOptions(optionTicks);var majorTickFontColor=helpers.valueOrDefault(optionMajorTicks.fontColor,globalDefaults.defaultFontColor);var majorTickFont=parseFontOptions(optionMajorTicks);var tl=gridLines.drawTicks?gridLines.tickMarkLength:0;var scaleLabelFontColor=helpers.valueOrDefault(scaleLabel.fontColor,globalDefaults.defaultFontColor);var scaleLabelFont=parseFontOptions(scaleLabel);var scaleLabelPadding=helpers.options.toPadding(scaleLabel.padding);var labelRotationRadians=helpers.toRadians(me.labelRotation);var itemsToDraw=[];var axisWidth=me.options.gridLines.lineWidth;var xTickStart=options.position==='right'?me.right:me.right-axisWidth-tl;var xTickEnd=options.position==='right'?me.right+tl:me.right;var yTickStart=options.position==='bottom'?me.top+axisWidth:me.bottom-tl-axisWidth;var yTickEnd=options.position==='bottom'?me.top+axisWidth+tl:me.bottom+axisWidth;helpers.each(ticks,function(tick,index){if(helpers.isNullOrUndef(tick.label)){return}
var label=tick.label;var lineWidth,lineColor,borderDash,borderDashOffset;if(index===me.zeroLineIndex&&options.offset===gridLines.offsetGridLines){lineWidth=gridLines.zeroLineWidth;lineColor=gridLines.zeroLineColor;borderDash=gridLines.zeroLineBorderDash;borderDashOffset=gridLines.zeroLineBorderDashOffset}else{lineWidth=helpers.valueAtIndexOrDefault(gridLines.lineWidth,index);lineColor=helpers.valueAtIndexOrDefault(gridLines.color,index);borderDash=helpers.valueOrDefault(gridLines.borderDash,globalDefaults.borderDash);borderDashOffset=helpers.valueOrDefault(gridLines.borderDashOffset,globalDefaults.borderDashOffset)}
var tx1,ty1,tx2,ty2,x1,y1,x2,y2,labelX,labelY;var textAlign='middle';var textBaseline='middle';var tickPadding=optionTicks.padding;if(isHorizontal){var labelYOffset=tl+tickPadding;if(options.position==='bottom'){textBaseline=!isRotated?'top':'middle';textAlign=!isRotated?'center':'right';labelY=me.top+labelYOffset}else{textBaseline=!isRotated?'bottom':'middle';textAlign=!isRotated?'center':'left';labelY=me.bottom-labelYOffset}
var xLineValue=getLineValue(me,index,gridLines.offsetGridLines&&ticks.length>1);if(xLineValue<me.left){lineColor='rgba(0,0,0,0)'}
xLineValue+=helpers.aliasPixel(lineWidth);labelX=me.getPixelForTick(index)+optionTicks.labelOffset;tx1=tx2=x1=x2=xLineValue;ty1=yTickStart;ty2=yTickEnd;y1=chartArea.top;y2=chartArea.bottom+axisWidth}else{var isLeft=options.position==='left';var labelXOffset;if(optionTicks.mirror){textAlign=isLeft?'left':'right';labelXOffset=tickPadding}else{textAlign=isLeft?'right':'left';labelXOffset=tl+tickPadding}
labelX=isLeft?me.right-labelXOffset:me.left+labelXOffset;var yLineValue=getLineValue(me,index,gridLines.offsetGridLines&&ticks.length>1);if(yLineValue<me.top){lineColor='rgba(0,0,0,0)'}
yLineValue+=helpers.aliasPixel(lineWidth);labelY=me.getPixelForTick(index)+optionTicks.labelOffset;tx1=xTickStart;tx2=xTickEnd;x1=chartArea.left;x2=chartArea.right+axisWidth;ty1=ty2=y1=y2=yLineValue}
itemsToDraw.push({tx1:tx1,ty1:ty1,tx2:tx2,ty2:ty2,x1:x1,y1:y1,x2:x2,y2:y2,labelX:labelX,labelY:labelY,glWidth:lineWidth,glColor:lineColor,glBorderDash:borderDash,glBorderDashOffset:borderDashOffset,rotation:-1*labelRotationRadians,label:label,major:tick.major,textBaseline:textBaseline,textAlign:textAlign})});helpers.each(itemsToDraw,function(itemToDraw){if(gridLines.display){context.save();context.lineWidth=itemToDraw.glWidth;context.strokeStyle=itemToDraw.glColor;if(context.setLineDash){context.setLineDash(itemToDraw.glBorderDash);context.lineDashOffset=itemToDraw.glBorderDashOffset}
context.beginPath();if(gridLines.drawTicks){context.moveTo(itemToDraw.tx1,itemToDraw.ty1);context.lineTo(itemToDraw.tx2,itemToDraw.ty2)}
if(gridLines.drawOnChartArea){context.moveTo(itemToDraw.x1,itemToDraw.y1);context.lineTo(itemToDraw.x2,itemToDraw.y2)}
context.stroke();context.restore()}
if(optionTicks.display){context.save();context.translate(itemToDraw.labelX,itemToDraw.labelY);context.rotate(itemToDraw.rotation);context.font=itemToDraw.major?majorTickFont.font:tickFont.font;context.fillStyle=itemToDraw.major?majorTickFontColor:tickFontColor;context.textBaseline=itemToDraw.textBaseline;context.textAlign=itemToDraw.textAlign;var label=itemToDraw.label;if(helpers.isArray(label)){var lineCount=label.length;var lineHeight=tickFont.size*1.5;var y=me.isHorizontal()?0:-lineHeight*(lineCount-1)/2;for(var i=0;i<lineCount;++i){context.fillText(''+label[i],0,y);y+=lineHeight}}else{context.fillText(label,0,0)}
context.restore()}});if(scaleLabel.display){var scaleLabelX;var scaleLabelY;var rotation=0;var halfLineHeight=parseLineHeight(scaleLabel)/2;if(isHorizontal){scaleLabelX=me.left+((me.right-me.left)/2);scaleLabelY=options.position==='bottom'?me.bottom-halfLineHeight-scaleLabelPadding.bottom:me.top+halfLineHeight+scaleLabelPadding.top}else{var isLeft=options.position==='left';scaleLabelX=isLeft?me.left+halfLineHeight+scaleLabelPadding.top:me.right-halfLineHeight-scaleLabelPadding.top;scaleLabelY=me.top+((me.bottom-me.top)/2);rotation=isLeft?-0.5*Math.PI:0.5*Math.PI}
context.save();context.translate(scaleLabelX,scaleLabelY);context.rotate(rotation);context.textAlign='center';context.textBaseline='middle';context.fillStyle=scaleLabelFontColor;context.font=scaleLabelFont.font;context.fillText(scaleLabel.labelString,0,0);context.restore()}
if(gridLines.drawBorder){context.lineWidth=helpers.valueAtIndexOrDefault(gridLines.lineWidth,0);context.strokeStyle=helpers.valueAtIndexOrDefault(gridLines.color,0);var x1=me.left;var x2=me.right+axisWidth;var y1=me.top;var y2=me.bottom+axisWidth;var aliasPixel=helpers.aliasPixel(context.lineWidth);if(isHorizontal){y1=y2=options.position==='top'?me.bottom:me.top;y1+=aliasPixel;y2+=aliasPixel}else{x1=x2=options.position==='left'?me.right:me.left;x1+=aliasPixel;x2+=aliasPixel}
context.beginPath();context.moveTo(x1,y1);context.lineTo(x2,y2);context.stroke()}}})}},{"25":25,"26":26,"34":34,"45":45}],33:[function(require,module,exports){'use strict';var defaults=require(25);var helpers=require(45);var layouts=require(30);module.exports=function(Chart){Chart.scaleService={constructors:{},defaults:{},registerScaleType:function(type,scaleConstructor,scaleDefaults){this.constructors[type]=scaleConstructor;this.defaults[type]=helpers.clone(scaleDefaults)},getScaleConstructor:function(type){return this.constructors.hasOwnProperty(type)?this.constructors[type]:undefined},getScaleDefaults:function(type){return this.defaults.hasOwnProperty(type)?helpers.merge({},[defaults.scale,this.defaults[type]]):{}},updateScaleDefaults:function(type,additions){var me=this;if(me.defaults.hasOwnProperty(type)){me.defaults[type]=helpers.extend(me.defaults[type],additions)}},addScalesToLayout:function(chart){helpers.each(chart.scales,function(scale){scale.fullWidth=scale.options.fullWidth;scale.position=scale.options.position;scale.weight=scale.options.weight;layouts.addBox(chart,scale)})}}}},{"25":25,"30":30,"45":45}],34:[function(require,module,exports){'use strict';var helpers=require(45);module.exports={formatters:{values:function(value){return helpers.isArray(value)?value:''+value},linear:function(tickValue,index,ticks){var delta=ticks.length>3?ticks[2]-ticks[1]:ticks[1]-ticks[0];if(Math.abs(delta)>1){if(tickValue!==Math.floor(tickValue)){delta=tickValue-Math.floor(tickValue)}}
var logDelta=helpers.log10(Math.abs(delta));var tickString='';if(tickValue!==0){var numDecimal=-1*Math.floor(logDelta);numDecimal=Math.max(Math.min(numDecimal,20),0);tickString=tickValue.toFixed(numDecimal)}else{tickString='0'}
return tickString},logarithmic:function(tickValue,index,ticks){var remain=tickValue/(Math.pow(10,Math.floor(helpers.log10(tickValue))));if(tickValue===0){return '0'}else if(remain===1||remain===2||remain===5||index===0||index===ticks.length-1){return tickValue.toExponential()}
return ''}}}},{"45":45}],35:[function(require,module,exports){'use strict';var defaults=require(25);var Element=require(26);var helpers=require(45);defaults._set('global',{tooltips:{enabled:!0,custom:null,mode:'nearest',position:'average',intersect:!0,backgroundColor:'rgba(0,0,0,0.8)',titleFontStyle:'bold',titleSpacing:2,titleMarginBottom:6,titleFontColor:'#fff',titleAlign:'left',bodySpacing:2,bodyFontColor:'#fff',bodyAlign:'left',footerFontStyle:'bold',footerSpacing:2,footerMarginTop:6,footerFontColor:'#fff',footerAlign:'left',yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:'#fff',displayColors:!0,borderColor:'rgba(0,0,0,0)',borderWidth:0,callbacks:{beforeTitle:helpers.noop,title:function(tooltipItems,data){var title='';var labels=data.labels;var labelCount=labels?labels.length:0;if(tooltipItems.length>0){var item=tooltipItems[0];if(item.xLabel){title=item.xLabel}else if(labelCount>0&&item.index<labelCount){title=labels[item.index]}}
return title},afterTitle:helpers.noop,beforeBody:helpers.noop,beforeLabel:helpers.noop,label:function(tooltipItem,data){var label=data.datasets[tooltipItem.datasetIndex].label||'';if(label){label+=': '}
label+=tooltipItem.yLabel;return label},labelColor:function(tooltipItem,chart){var meta=chart.getDatasetMeta(tooltipItem.datasetIndex);var activeElement=meta.data[tooltipItem.index];var view=activeElement._view;return{borderColor:view.borderColor,backgroundColor:view.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:helpers.noop,afterBody:helpers.noop,beforeFooter:helpers.noop,footer:helpers.noop,afterFooter:helpers.noop}}});module.exports=function(Chart){function mergeOpacity(colorString,opacity){var color=helpers.color(colorString);return color.alpha(opacity*color.alpha()).rgbaString()}
function pushOrConcat(base,toPush){if(toPush){if(helpers.isArray(toPush)){Array.prototype.push.apply(base,toPush)}else{base.push(toPush)}}
return base}
function createTooltipItem(element){var xScale=element._xScale;var yScale=element._yScale||element._scale;var index=element._index;var datasetIndex=element._datasetIndex;return{xLabel:xScale?xScale.getLabelForIndex(index,datasetIndex):'',yLabel:yScale?yScale.getLabelForIndex(index,datasetIndex):'',index:index,datasetIndex:datasetIndex,x:element._model.x,y:element._model.y}}
function getBaseModel(tooltipOpts){var globalDefaults=defaults.global;var valueOrDefault=helpers.valueOrDefault;return{xPadding:tooltipOpts.xPadding,yPadding:tooltipOpts.yPadding,xAlign:tooltipOpts.xAlign,yAlign:tooltipOpts.yAlign,bodyFontColor:tooltipOpts.bodyFontColor,_bodyFontFamily:valueOrDefault(tooltipOpts.bodyFontFamily,globalDefaults.defaultFontFamily),_bodyFontStyle:valueOrDefault(tooltipOpts.bodyFontStyle,globalDefaults.defaultFontStyle),_bodyAlign:tooltipOpts.bodyAlign,bodyFontSize:valueOrDefault(tooltipOpts.bodyFontSize,globalDefaults.defaultFontSize),bodySpacing:tooltipOpts.bodySpacing,titleFontColor:tooltipOpts.titleFontColor,_titleFontFamily:valueOrDefault(tooltipOpts.titleFontFamily,globalDefaults.defaultFontFamily),_titleFontStyle:valueOrDefault(tooltipOpts.titleFontStyle,globalDefaults.defaultFontStyle),titleFontSize:valueOrDefault(tooltipOpts.titleFontSize,globalDefaults.defaultFontSize),_titleAlign:tooltipOpts.titleAlign,titleSpacing:tooltipOpts.titleSpacing,titleMarginBottom:tooltipOpts.titleMarginBottom,footerFontColor:tooltipOpts.footerFontColor,_footerFontFamily:valueOrDefault(tooltipOpts.footerFontFamily,globalDefaults.defaultFontFamily),_footerFontStyle:valueOrDefault(tooltipOpts.footerFontStyle,globalDefaults.defaultFontStyle),footerFontSize:valueOrDefault(tooltipOpts.footerFontSize,globalDefaults.defaultFontSize),_footerAlign:tooltipOpts.footerAlign,footerSpacing:tooltipOpts.footerSpacing,footerMarginTop:tooltipOpts.footerMarginTop,caretSize:tooltipOpts.caretSize,cornerRadius:tooltipOpts.cornerRadius,backgroundColor:tooltipOpts.backgroundColor,opacity:0,legendColorBackground:tooltipOpts.multiKeyBackground,displayColors:tooltipOpts.displayColors,borderColor:tooltipOpts.borderColor,borderWidth:tooltipOpts.borderWidth}}
function getTooltipSize(tooltip,model){var ctx=tooltip._chart.ctx;var height=model.yPadding*2;var width=0;var body=model.body;var combinedBodyLength=body.reduce(function(count,bodyItem){return count+bodyItem.before.length+bodyItem.lines.length+bodyItem.after.length},0);combinedBodyLength+=model.beforeBody.length+model.afterBody.length;var titleLineCount=model.title.length;var footerLineCount=model.footer.length;var titleFontSize=model.titleFontSize;var bodyFontSize=model.bodyFontSize;var footerFontSize=model.footerFontSize;height+=titleLineCount*titleFontSize;height+=titleLineCount?(titleLineCount-1)*model.titleSpacing:0;height+=titleLineCount?model.titleMarginBottom:0;height+=combinedBodyLength*bodyFontSize;height+=combinedBodyLength?(combinedBodyLength-1)*model.bodySpacing:0;height+=footerLineCount?model.footerMarginTop:0;height+=footerLineCount*(footerFontSize);height+=footerLineCount?(footerLineCount-1)*model.footerSpacing:0;var widthPadding=0;var maxLineWidth=function(line){width=Math.max(width,ctx.measureText(line).width+widthPadding)};ctx.font=helpers.fontString(titleFontSize,model._titleFontStyle,model._titleFontFamily);helpers.each(model.title,maxLineWidth);ctx.font=helpers.fontString(bodyFontSize,model._bodyFontStyle,model._bodyFontFamily);helpers.each(model.beforeBody.concat(model.afterBody),maxLineWidth);widthPadding=model.displayColors?(bodyFontSize+2):0;helpers.each(body,function(bodyItem){helpers.each(bodyItem.before,maxLineWidth);helpers.each(bodyItem.lines,maxLineWidth);helpers.each(bodyItem.after,maxLineWidth)});widthPadding=0;ctx.font=helpers.fontString(footerFontSize,model._footerFontStyle,model._footerFontFamily);helpers.each(model.footer,maxLineWidth);width+=2*model.xPadding;return{width:width,height:height}}
function determineAlignment(tooltip,size){var model=tooltip._model;var chart=tooltip._chart;var chartArea=tooltip._chart.chartArea;var xAlign='center';var yAlign='center';if(model.y<size.height){yAlign='top'}else if(model.y>(chart.height-size.height)){yAlign='bottom'}
var lf,rf;var olf,orf;var yf;var midX=(chartArea.left+chartArea.right)/2;var midY=(chartArea.top+chartArea.bottom)/2;if(yAlign==='center'){lf=function(x){return x<=midX};rf=function(x){return x>midX}}else{lf=function(x){return x<=(size.width/2)};rf=function(x){return x>=(chart.width-(size.width/2))}}
olf=function(x){return x+size.width+model.caretSize+model.caretPadding>chart.width};orf=function(x){return x-size.width-model.caretSize-model.caretPadding<0};yf=function(y){return y<=midY?'top':'bottom'};if(lf(model.x)){xAlign='left';if(olf(model.x)){xAlign='center';yAlign=yf(model.y)}}else if(rf(model.x)){xAlign='right';if(orf(model.x)){xAlign='center';yAlign=yf(model.y)}}
var opts=tooltip._options;return{xAlign:opts.xAlign?opts.xAlign:xAlign,yAlign:opts.yAlign?opts.yAlign:yAlign}}
function getBackgroundPoint(vm,size,alignment,chart){var x=vm.x;var y=vm.y;var caretSize=vm.caretSize;var caretPadding=vm.caretPadding;var cornerRadius=vm.cornerRadius;var xAlign=alignment.xAlign;var yAlign=alignment.yAlign;var paddingAndSize=caretSize+caretPadding;var radiusAndPadding=cornerRadius+caretPadding;if(xAlign==='right'){x-=size.width}else if(xAlign==='center'){x-=(size.width/2);if(x+size.width>chart.width){x=chart.width-size.width}
if(x<0){x=0}}
if(yAlign==='top'){y+=paddingAndSize}else if(yAlign==='bottom'){y-=size.height+paddingAndSize}else{y-=(size.height/2)}
if(yAlign==='center'){if(xAlign==='left'){x+=paddingAndSize}else if(xAlign==='right'){x-=paddingAndSize}}else if(xAlign==='left'){x-=radiusAndPadding}else if(xAlign==='right'){x+=radiusAndPadding}
return{x:x,y:y}}
Chart.Tooltip=Element.extend({initialize:function(){this._model=getBaseModel(this._options);this._lastActive=[]},getTitle:function(){var me=this;var opts=me._options;var callbacks=opts.callbacks;var beforeTitle=callbacks.beforeTitle.apply(me,arguments);var title=callbacks.title.apply(me,arguments);var afterTitle=callbacks.afterTitle.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,beforeTitle);lines=pushOrConcat(lines,title);lines=pushOrConcat(lines,afterTitle);return lines},getBeforeBody:function(){var lines=this._options.callbacks.beforeBody.apply(this,arguments);return helpers.isArray(lines)?lines:lines!==undefined?[lines]:[]},getBody:function(tooltipItems,data){var me=this;var callbacks=me._options.callbacks;var bodyItems=[];helpers.each(tooltipItems,function(tooltipItem){var bodyItem={before:[],lines:[],after:[]};pushOrConcat(bodyItem.before,callbacks.beforeLabel.call(me,tooltipItem,data));pushOrConcat(bodyItem.lines,callbacks.label.call(me,tooltipItem,data));pushOrConcat(bodyItem.after,callbacks.afterLabel.call(me,tooltipItem,data));bodyItems.push(bodyItem)});return bodyItems},getAfterBody:function(){var lines=this._options.callbacks.afterBody.apply(this,arguments);return helpers.isArray(lines)?lines:lines!==undefined?[lines]:[]},getFooter:function(){var me=this;var callbacks=me._options.callbacks;var beforeFooter=callbacks.beforeFooter.apply(me,arguments);var footer=callbacks.footer.apply(me,arguments);var afterFooter=callbacks.afterFooter.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,beforeFooter);lines=pushOrConcat(lines,footer);lines=pushOrConcat(lines,afterFooter);return lines},update:function(changed){var me=this;var opts=me._options;var existingModel=me._model;var model=me._model=getBaseModel(opts);var active=me._active;var data=me._data;var alignment={xAlign:existingModel.xAlign,yAlign:existingModel.yAlign};var backgroundPoint={x:existingModel.x,y:existingModel.y};var tooltipSize={width:existingModel.width,height:existingModel.height};var tooltipPosition={x:existingModel.caretX,y:existingModel.caretY};var i,len;if(active.length){model.opacity=1;var labelColors=[];var labelTextColors=[];tooltipPosition=Chart.Tooltip.positioners[opts.position].call(me,active,me._eventPosition);var tooltipItems=[];for(i=0,len=active.length;i<len;++i){tooltipItems.push(createTooltipItem(active[i]))}
if(opts.filter){tooltipItems=tooltipItems.filter(function(a){return opts.filter(a,data)})}
if(opts.itemSort){tooltipItems=tooltipItems.sort(function(a,b){return opts.itemSort(a,b,data)})}
helpers.each(tooltipItems,function(tooltipItem){labelColors.push(opts.callbacks.labelColor.call(me,tooltipItem,me._chart));labelTextColors.push(opts.callbacks.labelTextColor.call(me,tooltipItem,me._chart))});model.title=me.getTitle(tooltipItems,data);model.beforeBody=me.getBeforeBody(tooltipItems,data);model.body=me.getBody(tooltipItems,data);model.afterBody=me.getAfterBody(tooltipItems,data);model.footer=me.getFooter(tooltipItems,data);model.x=Math.round(tooltipPosition.x);model.y=Math.round(tooltipPosition.y);model.caretPadding=opts.caretPadding;model.labelColors=labelColors;model.labelTextColors=labelTextColors;model.dataPoints=tooltipItems;tooltipSize=getTooltipSize(this,model);alignment=determineAlignment(this,tooltipSize);backgroundPoint=getBackgroundPoint(model,tooltipSize,alignment,me._chart)}else{model.opacity=0}
model.xAlign=alignment.xAlign;model.yAlign=alignment.yAlign;model.x=backgroundPoint.x;model.y=backgroundPoint.y;model.width=tooltipSize.width;model.height=tooltipSize.height;model.caretX=tooltipPosition.x;model.caretY=tooltipPosition.y;me._model=model;if(changed&&opts.custom){opts.custom.call(me,model)}
return me},drawCaret:function(tooltipPoint,size){var ctx=this._chart.ctx;var vm=this._view;var caretPosition=this.getCaretPosition(tooltipPoint,size,vm);ctx.lineTo(caretPosition.x1,caretPosition.y1);ctx.lineTo(caretPosition.x2,caretPosition.y2);ctx.lineTo(caretPosition.x3,caretPosition.y3)},getCaretPosition:function(tooltipPoint,size,vm){var x1,x2,x3,y1,y2,y3;var caretSize=vm.caretSize;var cornerRadius=vm.cornerRadius;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var ptX=tooltipPoint.x;var ptY=tooltipPoint.y;var width=size.width;var height=size.height;if(yAlign==='center'){y2=ptY+(height/2);if(xAlign==='left'){x1=ptX;x2=x1-caretSize;x3=x1;y1=y2+caretSize;y3=y2-caretSize}else{x1=ptX+width;x2=x1+caretSize;x3=x1;y1=y2-caretSize;y3=y2+caretSize}}else{if(xAlign==='left'){x2=ptX+cornerRadius+(caretSize);x1=x2-caretSize;x3=x2+caretSize}else if(xAlign==='right'){x2=ptX+width-cornerRadius-caretSize;x1=x2-caretSize;x3=x2+caretSize}else{x2=vm.caretX;x1=x2-caretSize;x3=x2+caretSize}
if(yAlign==='top'){y1=ptY;y2=y1-caretSize;y3=y1}else{y1=ptY+height;y2=y1+caretSize;y3=y1;var tmp=x3;x3=x1;x1=tmp}}
return{x1:x1,x2:x2,x3:x3,y1:y1,y2:y2,y3:y3}},drawTitle:function(pt,vm,ctx,opacity){var title=vm.title;if(title.length){ctx.textAlign=vm._titleAlign;ctx.textBaseline='top';var titleFontSize=vm.titleFontSize;var titleSpacing=vm.titleSpacing;ctx.fillStyle=mergeOpacity(vm.titleFontColor,opacity);ctx.font=helpers.fontString(titleFontSize,vm._titleFontStyle,vm._titleFontFamily);var i,len;for(i=0,len=title.length;i<len;++i){ctx.fillText(title[i],pt.x,pt.y);pt.y+=titleFontSize+titleSpacing;if(i+1===title.length){pt.y+=vm.titleMarginBottom-titleSpacing}}}},drawBody:function(pt,vm,ctx,opacity){var bodyFontSize=vm.bodyFontSize;var bodySpacing=vm.bodySpacing;var body=vm.body;ctx.textAlign=vm._bodyAlign;ctx.textBaseline='top';ctx.font=helpers.fontString(bodyFontSize,vm._bodyFontStyle,vm._bodyFontFamily);var xLinePadding=0;var fillLineOfText=function(line){ctx.fillText(line,pt.x+xLinePadding,pt.y);pt.y+=bodyFontSize+bodySpacing};ctx.fillStyle=mergeOpacity(vm.bodyFontColor,opacity);helpers.each(vm.beforeBody,fillLineOfText);var drawColorBoxes=vm.displayColors;xLinePadding=drawColorBoxes?(bodyFontSize+2):0;helpers.each(body,function(bodyItem,i){var textColor=mergeOpacity(vm.labelTextColors[i],opacity);ctx.fillStyle=textColor;helpers.each(bodyItem.before,fillLineOfText);helpers.each(bodyItem.lines,function(line){if(drawColorBoxes){ctx.fillStyle=mergeOpacity(vm.legendColorBackground,opacity);ctx.fillRect(pt.x,pt.y,bodyFontSize,bodyFontSize);ctx.lineWidth=1;ctx.strokeStyle=mergeOpacity(vm.labelColors[i].borderColor,opacity);ctx.strokeRect(pt.x,pt.y,bodyFontSize,bodyFontSize);ctx.fillStyle=mergeOpacity(vm.labelColors[i].backgroundColor,opacity);ctx.fillRect(pt.x+1,pt.y+1,bodyFontSize-2,bodyFontSize-2);ctx.fillStyle=textColor}
fillLineOfText(line)});helpers.each(bodyItem.after,fillLineOfText)});xLinePadding=0;helpers.each(vm.afterBody,fillLineOfText);pt.y-=bodySpacing},drawFooter:function(pt,vm,ctx,opacity){var footer=vm.footer;if(footer.length){pt.y+=vm.footerMarginTop;ctx.textAlign=vm._footerAlign;ctx.textBaseline='top';ctx.fillStyle=mergeOpacity(vm.footerFontColor,opacity);ctx.font=helpers.fontString(vm.footerFontSize,vm._footerFontStyle,vm._footerFontFamily);helpers.each(footer,function(line){ctx.fillText(line,pt.x,pt.y);pt.y+=vm.footerFontSize+vm.footerSpacing})}},drawBackground:function(pt,vm,ctx,tooltipSize,opacity){ctx.fillStyle=mergeOpacity(vm.backgroundColor,opacity);ctx.strokeStyle=mergeOpacity(vm.borderColor,opacity);ctx.lineWidth=vm.borderWidth;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var x=pt.x;var y=pt.y;var width=tooltipSize.width;var height=tooltipSize.height;var radius=vm.cornerRadius;ctx.beginPath();ctx.moveTo(x+radius,y);if(yAlign==='top'){this.drawCaret(pt,tooltipSize)}
ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);if(yAlign==='center'&&xAlign==='right'){this.drawCaret(pt,tooltipSize)}
ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);if(yAlign==='bottom'){this.drawCaret(pt,tooltipSize)}
ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius);if(yAlign==='center'&&xAlign==='left'){this.drawCaret(pt,tooltipSize)}
ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);ctx.closePath();ctx.fill();if(vm.borderWidth>0){ctx.stroke()}},draw:function(){var ctx=this._chart.ctx;var vm=this._view;if(vm.opacity===0){return}
var tooltipSize={width:vm.width,height:vm.height};var pt={x:vm.x,y:vm.y};var opacity=Math.abs(vm.opacity<1e-3)?0:vm.opacity;var hasTooltipContent=vm.title.length||vm.beforeBody.length||vm.body.length||vm.afterBody.length||vm.footer.length;if(this._options.enabled&&hasTooltipContent){this.drawBackground(pt,vm,ctx,tooltipSize,opacity);pt.x+=vm.xPadding;pt.y+=vm.yPadding;this.drawTitle(pt,vm,ctx,opacity);this.drawBody(pt,vm,ctx,opacity);this.drawFooter(pt,vm,ctx,opacity)}},handleEvent:function(e){var me=this;var options=me._options;var changed=!1;me._lastActive=me._lastActive||[];if(e.type==='mouseout'){me._active=[]}else{me._active=me._chart.getElementsAtEventForMode(e,options.mode,options)}
changed=!helpers.arrayEquals(me._active,me._lastActive);if(changed){me._lastActive=me._active;if(options.enabled||options.custom){me._eventPosition={x:e.x,y:e.y};me.update(!0);me.pivot()}}
return changed}});Chart.Tooltip.positioners={average:function(elements){if(!elements.length){return!1}
var i,len;var x=0;var y=0;var count=0;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var pos=el.tooltipPosition();x+=pos.x;y+=pos.y;++count}}
return{x:Math.round(x/count),y:Math.round(y/count)}},nearest:function(elements,eventPosition){var x=eventPosition.x;var y=eventPosition.y;var minDistance=Number.POSITIVE_INFINITY;var i,len,nearestElement;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var center=el.getCenterPoint();var d=helpers.distanceBetweenPoints(eventPosition,center);if(d<minDistance){minDistance=d;nearestElement=el}}}
if(nearestElement){var tp=nearestElement.tooltipPosition();x=tp.x;y=tp.y}
return{x:x,y:y}}}}},{"25":25,"26":26,"45":45}],36:[function(require,module,exports){'use strict';var defaults=require(25);var Element=require(26);var helpers=require(45);defaults._set('global',{elements:{arc:{backgroundColor:defaults.global.defaultColor,borderColor:'#fff',borderWidth:2}}});module.exports=Element.extend({inLabelRange:function(mouseX){var vm=this._view;if(vm){return(Math.pow(mouseX-vm.x,2)<Math.pow(vm.radius+vm.hoverRadius,2))}
return!1},inRange:function(chartX,chartY){var vm=this._view;if(vm){var pointRelativePosition=helpers.getAngleFromPoint(vm,{x:chartX,y:chartY});var angle=pointRelativePosition.angle;var distance=pointRelativePosition.distance;var startAngle=vm.startAngle;var endAngle=vm.endAngle;while(endAngle<startAngle){endAngle+=2.0*Math.PI}
while(angle>endAngle){angle-=2.0*Math.PI}
while(angle<startAngle){angle+=2.0*Math.PI}
var betweenAngles=(angle>=startAngle&&angle<=endAngle);var withinRadius=(distance>=vm.innerRadius&&distance<=vm.outerRadius);return(betweenAngles&&withinRadius)}
return!1},getCenterPoint:function(){var vm=this._view;var halfAngle=(vm.startAngle+vm.endAngle)/2;var halfRadius=(vm.innerRadius+vm.outerRadius)/2;return{x:vm.x+Math.cos(halfAngle)*halfRadius,y:vm.y+Math.sin(halfAngle)*halfRadius}},getArea:function(){var vm=this._view;return Math.PI*((vm.endAngle-vm.startAngle)/(2*Math.PI))*(Math.pow(vm.outerRadius,2)-Math.pow(vm.innerRadius,2))},tooltipPosition:function(){var vm=this._view;var centreAngle=vm.startAngle+((vm.endAngle-vm.startAngle)/2);var rangeFromCentre=(vm.outerRadius-vm.innerRadius)/2+vm.innerRadius;return{x:vm.x+(Math.cos(centreAngle)*rangeFromCentre),y:vm.y+(Math.sin(centreAngle)*rangeFromCentre)}},draw:function(){var ctx=this._chart.ctx;var vm=this._view;var sA=vm.startAngle;var eA=vm.endAngle;ctx.beginPath();ctx.arc(vm.x,vm.y,vm.outerRadius,sA,eA);ctx.arc(vm.x,vm.y,vm.innerRadius,eA,sA,!0);ctx.closePath();ctx.strokeStyle=vm.borderColor;ctx.lineWidth=vm.borderWidth;ctx.fillStyle=vm.backgroundColor;ctx.fill();ctx.lineJoin='bevel';if(vm.borderWidth){ctx.stroke()}}})},{"25":25,"26":26,"45":45}],37:[function(require,module,exports){'use strict';var defaults=require(25);var Element=require(26);var helpers=require(45);var globalDefaults=defaults.global;defaults._set('global',{elements:{line:{tension:0.4,backgroundColor:globalDefaults.defaultColor,borderWidth:3,borderColor:globalDefaults.defaultColor,borderCapStyle:'butt',borderDash:[],borderDashOffset:0.0,borderJoinStyle:'miter',capBezierPoints:!0,fill:!0,}}});module.exports=Element.extend({draw:function(){var me=this;var vm=me._view;var ctx=me._chart.ctx;var spanGaps=vm.spanGaps;var points=me._children.slice();var globalOptionLineElements=globalDefaults.elements.line;var lastDrawnIndex=-1;var index,current,previous,currentVM;if(me._loop&&points.length){points.push(points[0])}
ctx.save();ctx.lineCap=vm.borderCapStyle||globalOptionLineElements.borderCapStyle;if(ctx.setLineDash){ctx.setLineDash(vm.borderDash||globalOptionLineElements.borderDash)}
ctx.lineDashOffset=vm.borderDashOffset||globalOptionLineElements.borderDashOffset;ctx.lineJoin=vm.borderJoinStyle||globalOptionLineElements.borderJoinStyle;ctx.lineWidth=vm.borderWidth||globalOptionLineElements.borderWidth;ctx.strokeStyle=vm.borderColor||globalDefaults.defaultColor;ctx.beginPath();lastDrawnIndex=-1;for(index=0;index<points.length;++index){current=points[index];previous=helpers.previousItem(points,index);currentVM=current._view;if(index===0){if(!currentVM.skip){ctx.moveTo(currentVM.x,currentVM.y);lastDrawnIndex=index}}else{previous=lastDrawnIndex===-1?previous:points[lastDrawnIndex];if(!currentVM.skip){if((lastDrawnIndex!==(index-1)&&!spanGaps)||lastDrawnIndex===-1){ctx.moveTo(currentVM.x,currentVM.y)}else{helpers.canvas.lineTo(ctx,previous._view,current._view)}
lastDrawnIndex=index}}}
ctx.stroke();ctx.restore()}})},{"25":25,"26":26,"45":45}],38:[function(require,module,exports){'use strict';var defaults=require(25);var Element=require(26);var helpers=require(45);var defaultColor=defaults.global.defaultColor;defaults._set('global',{elements:{point:{radius:3,pointStyle:'circle',backgroundColor:defaultColor,borderColor:defaultColor,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function xRange(mouseX){var vm=this._view;return vm?(Math.abs(mouseX-vm.x)<vm.radius+vm.hitRadius):!1}
function yRange(mouseY){var vm=this._view;return vm?(Math.abs(mouseY-vm.y)<vm.radius+vm.hitRadius):!1}
module.exports=Element.extend({inRange:function(mouseX,mouseY){var vm=this._view;return vm?((Math.pow(mouseX-vm.x,2)+Math.pow(mouseY-vm.y,2))<Math.pow(vm.hitRadius+vm.radius,2)):!1},inLabelRange:xRange,inXRange:xRange,inYRange:yRange,getCenterPoint:function(){var vm=this._view;return{x:vm.x,y:vm.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y,padding:vm.radius+vm.borderWidth}},draw:function(chartArea){var vm=this._view;var model=this._model;var ctx=this._chart.ctx;var pointStyle=vm.pointStyle;var radius=vm.radius;var x=vm.x;var y=vm.y;var color=helpers.color;var errMargin=1.01;var ratio=0;if(vm.skip){return}
ctx.strokeStyle=vm.borderColor||defaultColor;ctx.lineWidth=helpers.valueOrDefault(vm.borderWidth,defaults.global.elements.point.borderWidth);ctx.fillStyle=vm.backgroundColor||defaultColor;if((chartArea!==undefined)&&((model.x<chartArea.left)||(chartArea.right*errMargin<model.x)||(model.y<chartArea.top)||(chartArea.bottom*errMargin<model.y))){if(model.x<chartArea.left){ratio=(x-model.x)/(chartArea.left-model.x)}else if(chartArea.right*errMargin<model.x){ratio=(model.x-x)/(model.x-chartArea.right)}else if(model.y<chartArea.top){ratio=(y-model.y)/(chartArea.top-model.y)}else if(chartArea.bottom*errMargin<model.y){ratio=(model.y-y)/(model.y-chartArea.bottom)}
ratio=Math.round(ratio*100)/100;ctx.strokeStyle=color(ctx.strokeStyle).alpha(ratio).rgbString();ctx.fillStyle=color(ctx.fillStyle).alpha(ratio).rgbString()}
helpers.canvas.drawPoint(ctx,pointStyle,radius,x,y)}})},{"25":25,"26":26,"45":45}],39:[function(require,module,exports){'use strict';var defaults=require(25);var Element=require(26);defaults._set('global',{elements:{rectangle:{backgroundColor:defaults.global.defaultColor,borderColor:defaults.global.defaultColor,borderSkipped:'bottom',borderWidth:0}}});function isVertical(bar){return bar._view.width!==undefined}
function getBarBounds(bar){var vm=bar._view;var x1,x2,y1,y2;if(isVertical(bar)){var halfWidth=vm.width/2;x1=vm.x-halfWidth;x2=vm.x+halfWidth;y1=Math.min(vm.y,vm.base);y2=Math.max(vm.y,vm.base)}else{var halfHeight=vm.height/2;x1=Math.min(vm.x,vm.base);x2=Math.max(vm.x,vm.base);y1=vm.y-halfHeight;y2=vm.y+halfHeight}
return{left:x1,top:y1,right:x2,bottom:y2}}
module.exports=Element.extend({draw:function(){var ctx=this._chart.ctx;var vm=this._view;var left,right,top,bottom,signX,signY,borderSkipped;var borderWidth=vm.borderWidth;if(!vm.horizontal){left=vm.x-vm.width/2;right=vm.x+vm.width/2;top=vm.y;bottom=vm.base;signX=1;signY=bottom>top?1:-1;borderSkipped=vm.borderSkipped||'bottom'}else{left=vm.base;right=vm.x;top=vm.y-vm.height/2;bottom=vm.y+vm.height/2;signX=right>left?1:-1;signY=1;borderSkipped=vm.borderSkipped||'left'}
if(borderWidth){var barSize=Math.min(Math.abs(left-right),Math.abs(top-bottom));borderWidth=borderWidth>barSize?barSize:borderWidth;var halfStroke=borderWidth/2;var borderLeft=left+(borderSkipped!=='left'?halfStroke*signX:0);var borderRight=right+(borderSkipped!=='right'?-halfStroke*signX:0);var borderTop=top+(borderSkipped!=='top'?halfStroke*signY:0);var borderBottom=bottom+(borderSkipped!=='bottom'?-halfStroke*signY:0);if(borderLeft!==borderRight){top=borderTop;bottom=borderBottom}
if(borderTop!==borderBottom){left=borderLeft;right=borderRight}}
ctx.beginPath();ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=vm.borderColor;ctx.lineWidth=borderWidth;var corners=[[left,bottom],[left,top],[right,top],[right,bottom]];var borders=['bottom','left','top','right'];var startCorner=borders.indexOf(borderSkipped,0);if(startCorner===-1){startCorner=0}
function cornerAt(index){return corners[(startCorner+index)%4]}
var corner=cornerAt(0);ctx.moveTo(corner[0],corner[1]);for(var i=1;i<4;i++){corner=cornerAt(i);ctx.lineTo(corner[0],corner[1])}
ctx.fill();if(borderWidth){ctx.stroke()}},height:function(){var vm=this._view;return vm.base-vm.y},inRange:function(mouseX,mouseY){var inRange=!1;if(this._view){var bounds=getBarBounds(this);inRange=mouseX>=bounds.left&&mouseX<=bounds.right&&mouseY>=bounds.top&&mouseY<=bounds.bottom}
return inRange},inLabelRange:function(mouseX,mouseY){var me=this;if(!me._view){return!1}
var inRange=!1;var bounds=getBarBounds(me);if(isVertical(me)){inRange=mouseX>=bounds.left&&mouseX<=bounds.right}else{inRange=mouseY>=bounds.top&&mouseY<=bounds.bottom}
return inRange},inXRange:function(mouseX){var bounds=getBarBounds(this);return mouseX>=bounds.left&&mouseX<=bounds.right},inYRange:function(mouseY){var bounds=getBarBounds(this);return mouseY>=bounds.top&&mouseY<=bounds.bottom},getCenterPoint:function(){var vm=this._view;var x,y;if(isVertical(this)){x=vm.x;y=(vm.y+vm.base)/2}else{x=(vm.x+vm.base)/2;y=vm.y}
return{x:x,y:y}},getArea:function(){var vm=this._view;return vm.width*Math.abs(vm.y-vm.base)},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y}}})},{"25":25,"26":26}],40:[function(require,module,exports){'use strict';module.exports={};module.exports.Arc=require(36);module.exports.Line=require(37);module.exports.Point=require(38);module.exports.Rectangle=require(39)},{"36":36,"37":37,"38":38,"39":39}],41:[function(require,module,exports){'use strict';var helpers=require(42);var exports=module.exports={clear:function(chart){chart.ctx.clearRect(0,0,chart.width,chart.height)},roundedRect:function(ctx,x,y,width,height,radius){if(radius){var rx=Math.min(radius,width/2);var ry=Math.min(radius,height/2);ctx.moveTo(x+rx,y);ctx.lineTo(x+width-rx,y);ctx.quadraticCurveTo(x+width,y,x+width,y+ry);ctx.lineTo(x+width,y+height-ry);ctx.quadraticCurveTo(x+width,y+height,x+width-rx,y+height);ctx.lineTo(x+rx,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-ry);ctx.lineTo(x,y+ry);ctx.quadraticCurveTo(x,y,x+rx,y)}else{ctx.rect(x,y,width,height)}},drawPoint:function(ctx,style,radius,x,y){var type,edgeLength,xOffset,yOffset,height,size;if(style&&typeof style==='object'){type=style.toString();if(type==='[object HTMLImageElement]'||type==='[object HTMLCanvasElement]'){ctx.drawImage(style,x-style.width/2,y-style.height/2,style.width,style.height);return}}
if(isNaN(radius)||radius<=0){return}
switch(style){default:ctx.beginPath();ctx.arc(x,y,radius,0,Math.PI*2);ctx.closePath();ctx.fill();break;case 'triangle':ctx.beginPath();edgeLength=3*radius/Math.sqrt(3);height=edgeLength*Math.sqrt(3)/2;ctx.moveTo(x-edgeLength/2,y+height/3);ctx.lineTo(x+edgeLength/2,y+height/3);ctx.lineTo(x,y-2*height/3);ctx.closePath();ctx.fill();break;case 'rect':size=1/Math.SQRT2*radius;ctx.beginPath();ctx.fillRect(x-size,y-size,2*size,2*size);ctx.strokeRect(x-size,y-size,2*size,2*size);break;case 'rectRounded':var offset=radius/Math.SQRT2;var leftX=x-offset;var topY=y-offset;var sideSize=Math.SQRT2*radius;ctx.beginPath();this.roundedRect(ctx,leftX,topY,sideSize,sideSize,radius/2);ctx.closePath();ctx.fill();break;case 'rectRot':size=1/Math.SQRT2*radius;ctx.beginPath();ctx.moveTo(x-size,y);ctx.lineTo(x,y+size);ctx.lineTo(x+size,y);ctx.lineTo(x,y-size);ctx.closePath();ctx.fill();break;case 'cross':ctx.beginPath();ctx.moveTo(x,y+radius);ctx.lineTo(x,y-radius);ctx.moveTo(x-radius,y);ctx.lineTo(x+radius,y);ctx.closePath();break;case 'crossRot':ctx.beginPath();xOffset=Math.cos(Math.PI/4)*radius;yOffset=Math.sin(Math.PI/4)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x-xOffset,y+yOffset);ctx.lineTo(x+xOffset,y-yOffset);ctx.closePath();break;case 'star':ctx.beginPath();ctx.moveTo(x,y+radius);ctx.lineTo(x,y-radius);ctx.moveTo(x-radius,y);ctx.lineTo(x+radius,y);xOffset=Math.cos(Math.PI/4)*radius;yOffset=Math.sin(Math.PI/4)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x-xOffset,y+yOffset);ctx.lineTo(x+xOffset,y-yOffset);ctx.closePath();break;case 'line':ctx.beginPath();ctx.moveTo(x-radius,y);ctx.lineTo(x+radius,y);ctx.closePath();break;case 'dash':ctx.beginPath();ctx.moveTo(x,y);ctx.lineTo(x+radius,y);ctx.closePath();break}
ctx.stroke()},clipArea:function(ctx,area){ctx.save();ctx.beginPath();ctx.rect(area.left,area.top,area.right-area.left,area.bottom-area.top);ctx.clip()},unclipArea:function(ctx){ctx.restore()},lineTo:function(ctx,previous,target,flip){if(target.steppedLine){if((target.steppedLine==='after'&&!flip)||(target.steppedLine!=='after'&&flip)){ctx.lineTo(previous.x,target.y)}else{ctx.lineTo(target.x,previous.y)}
ctx.lineTo(target.x,target.y);return}
if(!target.tension){ctx.lineTo(target.x,target.y);return}
ctx.bezierCurveTo(flip?previous.controlPointPreviousX:previous.controlPointNextX,flip?previous.controlPointPreviousY:previous.controlPointNextY,flip?target.controlPointNextX:target.controlPointPreviousX,flip?target.controlPointNextY:target.controlPointPreviousY,target.x,target.y)}};helpers.clear=exports.clear;helpers.drawRoundedRectangle=function(ctx){ctx.beginPath();exports.roundedRect.apply(exports,arguments);ctx.closePath()}},{"42":42}],42:[function(require,module,exports){'use strict';var helpers={noop:function(){},uid:(function(){var id=0;return function(){return id++}}()),isNullOrUndef:function(value){return value===null||typeof value==='undefined'},isArray:Array.isArray?Array.isArray:function(value){return Object.prototype.toString.call(value)==='[object Array]'},isObject:function(value){return value!==null&&Object.prototype.toString.call(value)==='[object Object]'},valueOrDefault:function(value,defaultValue){return typeof value==='undefined'?defaultValue:value},valueAtIndexOrDefault:function(value,index,defaultValue){return helpers.valueOrDefault(helpers.isArray(value)?value[index]:value,defaultValue)},callback:function(fn,args,thisArg){if(fn&&typeof fn.call==='function'){return fn.apply(thisArg,args)}},each:function(loopable,fn,thisArg,reverse){var i,len,keys;if(helpers.isArray(loopable)){len=loopable.length;if(reverse){for(i=len-1;i>=0;i--){fn.call(thisArg,loopable[i],i)}}else{for(i=0;i<len;i++){fn.call(thisArg,loopable[i],i)}}}else if(helpers.isObject(loopable)){keys=Object.keys(loopable);len=keys.length;for(i=0;i<len;i++){fn.call(thisArg,loopable[keys[i]],keys[i])}}},arrayEquals:function(a0,a1){var i,ilen,v0,v1;if(!a0||!a1||a0.length!==a1.length){return!1}
for(i=0,ilen=a0.length;i<ilen;++i){v0=a0[i];v1=a1[i];if(v0 instanceof Array&&v1 instanceof Array){if(!helpers.arrayEquals(v0,v1)){return!1}}else if(v0!==v1){return!1}}
return!0},clone:function(source){if(helpers.isArray(source)){return source.map(helpers.clone)}
if(helpers.isObject(source)){var target={};var keys=Object.keys(source);var klen=keys.length;var k=0;for(;k<klen;++k){target[keys[k]]=helpers.clone(source[keys[k]])}
return target}
return source},_merger:function(key,target,source,options){var tval=target[key];var sval=source[key];if(helpers.isObject(tval)&&helpers.isObject(sval)){helpers.merge(tval,sval,options)}else{target[key]=helpers.clone(sval)}},_mergerIf:function(key,target,source){var tval=target[key];var sval=source[key];if(helpers.isObject(tval)&&helpers.isObject(sval)){helpers.mergeIf(tval,sval)}else if(!target.hasOwnProperty(key)){target[key]=helpers.clone(sval)}},merge:function(target,source,options){var sources=helpers.isArray(source)?source:[source];var ilen=sources.length;var merge,i,keys,klen,k;if(!helpers.isObject(target)){return target}
options=options||{};merge=options.merger||helpers._merger;for(i=0;i<ilen;++i){source=sources[i];if(!helpers.isObject(source)){continue}
keys=Object.keys(source);for(k=0,klen=keys.length;k<klen;++k){merge(keys[k],target,source,options)}}
return target},mergeIf:function(target,source){return helpers.merge(target,source,{merger:helpers._mergerIf})},extend:function(target){var setFn=function(value,key){target[key]=value};for(var i=1,ilen=arguments.length;i<ilen;++i){helpers.each(arguments[i],setFn)}
return target},inherits:function(extensions){var me=this;var ChartElement=(extensions&&extensions.hasOwnProperty('constructor'))?extensions.constructor:function(){return me.apply(this,arguments)};var Surrogate=function(){this.constructor=ChartElement};Surrogate.prototype=me.prototype;ChartElement.prototype=new Surrogate();ChartElement.extend=helpers.inherits;if(extensions){helpers.extend(ChartElement.prototype,extensions)}
ChartElement.__super__=me.prototype;return ChartElement}};module.exports=helpers;helpers.callCallback=helpers.callback;helpers.indexOf=function(array,item,fromIndex){return Array.prototype.indexOf.call(array,item,fromIndex)};helpers.getValueOrDefault=helpers.valueOrDefault;helpers.getValueAtIndexOrDefault=helpers.valueAtIndexOrDefault},{}],43:[function(require,module,exports){'use strict';var helpers=require(42);var effects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){if((t/=0.5)<1){return 0.5*t*t}
return-0.5*((--t)*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t=t-1)*t*t+1},easeInOutCubic:function(t){if((t/=0.5)<1){return 0.5*t*t*t}
return 0.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t=t-1)*t*t*t-1)},easeInOutQuart:function(t){if((t/=0.5)<1){return 0.5*t*t*t*t}
return-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t=t-1)*t*t*t*t+1},easeInOutQuint:function(t){if((t/=0.5)<1){return 0.5*t*t*t*t*t}
return 0.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return(t===0)?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return(t===1)?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){if(t===0){return 0}
if(t===1){return 1}
if((t/=0.5)<1){return 0.5*Math.pow(2,10*(t-1))}
return 0.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){if(t>=1){return t}
return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t=t-1)*t)},easeInOutCirc:function(t){if((t/=0.5)<1){return-0.5*(Math.sqrt(1-t*t)-1)}
return 0.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0}
if(t===1){return 1}
if(!p){p=0.3}
if(a<1){a=1;s=p/4}else{s=p/(2*Math.PI)*Math.asin(1/a)}
return-(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p))},easeOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0}
if(t===1){return 1}
if(!p){p=0.3}
if(a<1){a=1;s=p/4}else{s=p/(2*Math.PI)*Math.asin(1/a)}
return a*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/p)+1},easeInOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0}
if((t/=0.5)===2){return 1}
if(!p){p=0.45}
if(a<1){a=1;s=p/4}else{s=p/(2*Math.PI)*Math.asin(1/a)}
if(t<1){return-0.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p))}
return a*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p)*0.5+1},easeInBack:function(t){var s=1.70158;return t*t*((s+1)*t-s)},easeOutBack:function(t){var s=1.70158;return(t=t-1)*t*((s+1)*t+s)+1},easeInOutBack:function(t){var s=1.70158;if((t/=0.5)<1){return 0.5*(t*t*(((s*=(1.525))+1)*t-s))}
return 0.5*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)},easeInBounce:function(t){return 1-effects.easeOutBounce(1-t)},easeOutBounce:function(t){if(t<(1/2.75)){return 7.5625*t*t}
if(t<(2/2.75)){return 7.5625*(t-=(1.5/2.75))*t+0.75}
if(t<(2.5/2.75)){return 7.5625*(t-=(2.25/2.75))*t+0.9375}
return 7.5625*(t-=(2.625/2.75))*t+0.984375},easeInOutBounce:function(t){if(t<0.5){return effects.easeInBounce(t*2)*0.5}
return effects.easeOutBounce(t*2-1)*0.5+0.5}};module.exports={effects:effects};helpers.easingEffects=effects},{"42":42}],44:[function(require,module,exports){'use strict';var helpers=require(42);module.exports={toLineHeight:function(value,size){var matches=(''+value).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!matches||matches[1]==='normal'){return size*1.2}
value=+matches[2];switch(matches[3]){case 'px':return value;case '%':value/=100;break;default:break}
return size*value},toPadding:function(value){var t,r,b,l;if(helpers.isObject(value)){t=+value.top||0;r=+value.right||0;b=+value.bottom||0;l=+value.left||0}else{t=r=b=l=+value||0}
return{top:t,right:r,bottom:b,left:l,height:t+b,width:l+r}},resolve:function(inputs,context,index){var i,ilen,value;for(i=0,ilen=inputs.length;i<ilen;++i){value=inputs[i];if(value===undefined){continue}
if(context!==undefined&&typeof value==='function'){value=value(context)}
if(index!==undefined&&helpers.isArray(value)){value=value[index]}
if(value!==undefined){return value}}}}},{"42":42}],45:[function(require,module,exports){'use strict';module.exports=require(42);module.exports.easing=require(43);module.exports.canvas=require(41);module.exports.options=require(44)},{"41":41,"42":42,"43":43,"44":44}],46:[function(require,module,exports){module.exports={acquireContext:function(item){if(item&&item.canvas){item=item.canvas}
return item&&item.getContext('2d')||null}}},{}],47:[function(require,module,exports){'use strict';var helpers=require(45);var EXPANDO_KEY='$chartjs';var CSS_PREFIX='chartjs-';var CSS_RENDER_MONITOR=CSS_PREFIX+'render-monitor';var CSS_RENDER_ANIMATION=CSS_PREFIX+'render-animation';var ANIMATION_START_EVENTS=['animationstart','webkitAnimationStart'];var EVENT_TYPES={touchstart:'mousedown',touchmove:'mousemove',touchend:'mouseup',pointerenter:'mouseenter',pointerdown:'mousedown',pointermove:'mousemove',pointerup:'mouseup',pointerleave:'mouseout',pointerout:'mouseout'};function readUsedSize(element,property){var value=helpers.getStyle(element,property);var matches=value&&value.match(/^(\d+)(\.\d+)?px$/);return matches?Number(matches[1]):undefined}
function initCanvas(canvas,config){var style=canvas.style;var renderHeight=canvas.getAttribute('height');var renderWidth=canvas.getAttribute('width');canvas[EXPANDO_KEY]={initial:{height:renderHeight,width:renderWidth,style:{display:style.display,height:style.height,width:style.width}}};style.display=style.display||'block';if(renderWidth===null||renderWidth===''){var displayWidth=readUsedSize(canvas,'width');if(displayWidth!==undefined){canvas.width=displayWidth}}
if(renderHeight===null||renderHeight===''){if(canvas.style.height===''){canvas.height=canvas.width/(config.options.aspectRatio||2)}else{var displayHeight=readUsedSize(canvas,'height');if(displayWidth!==undefined){canvas.height=displayHeight}}}
return canvas}
var supportsEventListenerOptions=(function(){var supports=!1;try{var options=Object.defineProperty({},'passive',{get:function(){supports=!0}});window.addEventListener('e',null,options)}catch(e){}
return supports}());var eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addEventListener(node,type,listener){node.addEventListener(type,listener,eventListenerOptions)}
function removeEventListener(node,type,listener){node.removeEventListener(type,listener,eventListenerOptions)}
function createEvent(type,chart,x,y,nativeEvent){return{type:type,chart:chart,native:nativeEvent||null,x:x!==undefined?x:null,y:y!==undefined?y:null,}}
function fromNativeEvent(event,chart){var type=EVENT_TYPES[event.type]||event.type;var pos=helpers.getRelativePosition(event,chart);return createEvent(type,chart,pos.x,pos.y,event)}
function throttled(fn,thisArg){var ticking=!1;var args=[];return function(){args=Array.prototype.slice.call(arguments);thisArg=thisArg||this;if(!ticking){ticking=!0;helpers.requestAnimFrame.call(window,function(){ticking=!1;fn.apply(thisArg,args)})}}}
function createResizer(handler){var resizer=document.createElement('div');var cls=CSS_PREFIX+'size-monitor';var maxSize=1000000;var style='position:absolute;'+'left:0;'+'top:0;'+'right:0;'+'bottom:0;'+'overflow:hidden;'+'pointer-events:none;'+'visibility:hidden;'+'z-index:-1;';resizer.style.cssText=style;resizer.className=cls;resizer.innerHTML='<div class="'+cls+'-expand" style="'+style+'">'+'<div style="'+'position:absolute;'+'width:'+maxSize+'px;'+'height:'+maxSize+'px;'+'left:0;'+'top:0">'+'</div>'+'</div>'+'<div class="'+cls+'-shrink" style="'+style+'">'+'<div style="'+'position:absolute;'+'width:200%;'+'height:200%;'+'left:0; '+'top:0">'+'</div>'+'</div>';var expand=resizer.childNodes[0];var shrink=resizer.childNodes[1];resizer._reset=function(){expand.scrollLeft=maxSize;expand.scrollTop=maxSize;shrink.scrollLeft=maxSize;shrink.scrollTop=maxSize};var onScroll=function(){resizer._reset();handler()};addEventListener(expand,'scroll',onScroll.bind(expand,'expand'));addEventListener(shrink,'scroll',onScroll.bind(shrink,'shrink'));return resizer}
function watchForRender(node,handler){var expando=node[EXPANDO_KEY]||(node[EXPANDO_KEY]={});var proxy=expando.renderProxy=function(e){if(e.animationName===CSS_RENDER_ANIMATION){handler()}};helpers.each(ANIMATION_START_EVENTS,function(type){addEventListener(node,type,proxy)});expando.reflow=!!node.offsetParent;node.classList.add(CSS_RENDER_MONITOR)}
function unwatchForRender(node){var expando=node[EXPANDO_KEY]||{};var proxy=expando.renderProxy;if(proxy){helpers.each(ANIMATION_START_EVENTS,function(type){removeEventListener(node,type,proxy)});delete expando.renderProxy}
node.classList.remove(CSS_RENDER_MONITOR)}
function addResizeListener(node,listener,chart){var expando=node[EXPANDO_KEY]||(node[EXPANDO_KEY]={});var resizer=expando.resizer=createResizer(throttled(function(){if(expando.resizer){return listener(createEvent('resize',chart))}}));watchForRender(node,function(){if(expando.resizer){var container=node.parentNode;if(container&&container!==resizer.parentNode){container.insertBefore(resizer,container.firstChild)}
resizer._reset()}})}
function removeResizeListener(node){var expando=node[EXPANDO_KEY]||{};var resizer=expando.resizer;delete expando.resizer;unwatchForRender(node);if(resizer&&resizer.parentNode){resizer.parentNode.removeChild(resizer)}}
function injectCSS(platform,css){var style=platform._style||document.createElement('style');if(!platform._style){platform._style=style;css='/* Chart.js */\n'+css;style.setAttribute('type','text/css');document.getElementsByTagName('head')[0].appendChild(style)}
style.appendChild(document.createTextNode(css))}
module.exports={_enabled:typeof window!=='undefined'&&typeof document!=='undefined',initialize:function(){var keyframes='from{opacity:0.99}to{opacity:1}';injectCSS(this,'@-webkit-keyframes '+CSS_RENDER_ANIMATION+'{'+keyframes+'}'+'@keyframes '+CSS_RENDER_ANIMATION+'{'+keyframes+'}'+'.'+CSS_RENDER_MONITOR+'{'+'-webkit-animation:'+CSS_RENDER_ANIMATION+' 0.001s;'+'animation:'+CSS_RENDER_ANIMATION+' 0.001s;'+'}')},acquireContext:function(item,config){if(typeof item==='string'){item=document.getElementById(item)}else if(item.length){item=item[0]}
if(item&&item.canvas){item=item.canvas}
var context=item&&item.getContext&&item.getContext('2d');if(context&&context.canvas===item){initCanvas(item,config);return context}
return null},releaseContext:function(context){var canvas=context.canvas;if(!canvas[EXPANDO_KEY]){return}
var initial=canvas[EXPANDO_KEY].initial;['height','width'].forEach(function(prop){var value=initial[prop];if(helpers.isNullOrUndef(value)){canvas.removeAttribute(prop)}else{canvas.setAttribute(prop,value)}});helpers.each(initial.style||{},function(value,key){canvas.style[key]=value});canvas.width=canvas.width;delete canvas[EXPANDO_KEY]},addEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==='resize'){addResizeListener(canvas,listener,chart);return}
var expando=listener[EXPANDO_KEY]||(listener[EXPANDO_KEY]={});var proxies=expando.proxies||(expando.proxies={});var proxy=proxies[chart.id+'_'+type]=function(event){listener(fromNativeEvent(event,chart))};addEventListener(canvas,type,proxy)},removeEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==='resize'){removeResizeListener(canvas,listener);return}
var expando=listener[EXPANDO_KEY]||{};var proxies=expando.proxies||{};var proxy=proxies[chart.id+'_'+type];if(!proxy){return}
removeEventListener(canvas,type,proxy)}};helpers.addEvent=addEventListener;helpers.removeEvent=removeEventListener},{"45":45}],48:[function(require,module,exports){'use strict';var helpers=require(45);var basic=require(46);var dom=require(47);var implementation=dom._enabled?dom:basic;module.exports=helpers.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},implementation)},{"45":45,"46":46,"47":47}],49:[function(require,module,exports){'use strict';module.exports={};module.exports.filler=require(50);module.exports.legend=require(51);module.exports.title=require(52)},{"50":50,"51":51,"52":52}],50:[function(require,module,exports){'use strict';var defaults=require(25);var elements=require(40);var helpers=require(45);defaults._set('global',{plugins:{filler:{propagate:!0}}});var mappers={dataset:function(source){var index=source.fill;var chart=source.chart;var meta=chart.getDatasetMeta(index);var visible=meta&&chart.isDatasetVisible(index);var points=(visible&&meta.dataset._children)||[];var length=points.length||0;return!length?null:function(point,i){return(i<length&&points[i]._view)||null}},boundary:function(source){var boundary=source.boundary;var x=boundary?boundary.x:null;var y=boundary?boundary.y:null;return function(point){return{x:x===null?point.x:x,y:y===null?point.y:y,}}}};function decodeFill(el,index,count){var model=el._model||{};var fill=model.fill;var target;if(fill===undefined){fill=!!model.backgroundColor}
if(fill===!1||fill===null){return!1}
if(fill===!0){return 'origin'}
target=parseFloat(fill,10);if(isFinite(target)&&Math.floor(target)===target){if(fill[0]==='-'||fill[0]==='+'){target=index+target}
if(target===index||target<0||target>=count){return!1}
return target}
switch(fill){case 'bottom':return 'start';case 'top':return 'end';case 'zero':return 'origin';case 'origin':case 'start':case 'end':return fill;default:return!1}}
function computeBoundary(source){var model=source.el._model||{};var scale=source.el._scale||{};var fill=source.fill;var target=null;var horizontal;if(isFinite(fill)){return null}
if(fill==='start'){target=model.scaleBottom===undefined?scale.bottom:model.scaleBottom}else if(fill==='end'){target=model.scaleTop===undefined?scale.top:model.scaleTop}else if(model.scaleZero!==undefined){target=model.scaleZero}else if(scale.getBasePosition){target=scale.getBasePosition()}else if(scale.getBasePixel){target=scale.getBasePixel()}
if(target!==undefined&&target!==null){if(target.x!==undefined&&target.y!==undefined){return target}
if(typeof target==='number'&&isFinite(target)){horizontal=scale.isHorizontal();return{x:horizontal?target:null,y:horizontal?null:target}}}
return null}
function resolveTarget(sources,index,propagate){var source=sources[index];var fill=source.fill;var visited=[index];var target;if(!propagate){return fill}
while(fill!==!1&&visited.indexOf(fill)===-1){if(!isFinite(fill)){return fill}
target=sources[fill];if(!target){return!1}
if(target.visible){return fill}
visited.push(fill);fill=target.fill}
return!1}
function createMapper(source){var fill=source.fill;var type='dataset';if(fill===!1){return null}
if(!isFinite(fill)){type='boundary'}
return mappers[type](source)}
function isDrawable(point){return point&&!point.skip}
function drawArea(ctx,curve0,curve1,len0,len1){var i;if(!len0||!len1){return}
ctx.moveTo(curve0[0].x,curve0[0].y);for(i=1;i<len0;++i){helpers.canvas.lineTo(ctx,curve0[i-1],curve0[i])}
ctx.lineTo(curve1[len1-1].x,curve1[len1-1].y);for(i=len1-1;i>0;--i){helpers.canvas.lineTo(ctx,curve1[i],curve1[i-1],!0)}}
function doFill(ctx,points,mapper,view,color,loop){var count=points.length;var span=view.spanGaps;var curve0=[];var curve1=[];var len0=0;var len1=0;var i,ilen,index,p0,p1,d0,d1;ctx.beginPath();for(i=0,ilen=(count+!!loop);i<ilen;++i){index=i%count;p0=points[index]._view;p1=mapper(p0,index,view);d0=isDrawable(p0);d1=isDrawable(p1);if(d0&&d1){len0=curve0.push(p0);len1=curve1.push(p1)}else if(len0&&len1){if(!span){drawArea(ctx,curve0,curve1,len0,len1);len0=len1=0;curve0=[];curve1=[]}else{if(d0){curve0.push(p0)}
if(d1){curve1.push(p1)}}}}
drawArea(ctx,curve0,curve1,len0,len1);ctx.closePath();ctx.fillStyle=color;ctx.fill()}
module.exports={id:'filler',afterDatasetsUpdate:function(chart,options){var count=(chart.data.datasets||[]).length;var propagate=options.propagate;var sources=[];var meta,i,el,source;for(i=0;i<count;++i){meta=chart.getDatasetMeta(i);el=meta.dataset;source=null;if(el&&el._model&&el instanceof elements.Line){source={visible:chart.isDatasetVisible(i),fill:decodeFill(el,i,count),chart:chart,el:el}}
meta.$filler=source;sources.push(source)}
for(i=0;i<count;++i){source=sources[i];if(!source){continue}
source.fill=resolveTarget(sources,i,propagate);source.boundary=computeBoundary(source);source.mapper=createMapper(source)}},beforeDatasetDraw:function(chart,args){var meta=args.meta.$filler;if(!meta){return}
var ctx=chart.ctx;var el=meta.el;var view=el._view;var points=el._children||[];var mapper=meta.mapper;var color=view.backgroundColor||defaults.global.defaultColor;if(mapper&&color&&points.length){helpers.canvas.clipArea(ctx,chart.chartArea);doFill(ctx,points,mapper,view,color,el._loop);helpers.canvas.unclipArea(ctx)}}}},{"25":25,"40":40,"45":45}],51:[function(require,module,exports){'use strict';var defaults=require(25);var Element=require(26);var helpers=require(45);var layouts=require(30);var noop=helpers.noop;defaults._set('global',{legend:{display:!0,position:'top',fullWidth:!0,reverse:!1,weight:1000,onClick:function(e,legendItem){var index=legendItem.datasetIndex;var ci=this.chart;var meta=ci.getDatasetMeta(index);meta.hidden=meta.hidden===null?!ci.data.datasets[index].hidden:null;ci.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(chart){var data=chart.data;return helpers.isArray(data.datasets)?data.datasets.map(function(dataset,i){return{text:dataset.label,fillStyle:(!helpers.isArray(dataset.backgroundColor)?dataset.backgroundColor:dataset.backgroundColor[0]),hidden:!chart.isDatasetVisible(i),lineCap:dataset.borderCapStyle,lineDash:dataset.borderDash,lineDashOffset:dataset.borderDashOffset,lineJoin:dataset.borderJoinStyle,lineWidth:dataset.borderWidth,strokeStyle:dataset.borderColor,pointStyle:dataset.pointStyle,datasetIndex:i}},this):[]}}},legendCallback:function(chart){var text=[];text.push('<ul class="'+chart.id+'-legend">');for(var i=0;i<chart.data.datasets.length;i++){text.push('<li><span style="background-color:'+chart.data.datasets[i].backgroundColor+'"></span>');if(chart.data.datasets[i].label){text.push(chart.data.datasets[i].label)}
text.push('</li>')}
text.push('</ul>');return text.join('')}});function getBoxWidth(labelOpts,fontSize){return labelOpts.usePointStyle?fontSize*Math.SQRT2:labelOpts.boxWidth}
var Legend=Element.extend({initialize:function(config){helpers.extend(this,config);this.legendHitBoxes=[];this.doughnutMode=!1},beforeUpdate:noop,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize},afterUpdate:noop,beforeSetDimensions:noop,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0}},afterSetDimensions:noop,beforeBuildLabels:noop,buildLabels:function(){var me=this;var labelOpts=me.options.labels||{};var legendItems=helpers.callback(labelOpts.generateLabels,[me.chart],me)||[];if(labelOpts.filter){legendItems=legendItems.filter(function(item){return labelOpts.filter(item,me.chart.data)})}
if(me.options.reverse){legendItems.reverse()}
me.legendItems=legendItems},afterBuildLabels:noop,beforeFit:noop,fit:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var display=opts.display;var ctx=me.ctx;var globalDefault=defaults.global;var valueOrDefault=helpers.valueOrDefault;var fontSize=valueOrDefault(labelOpts.fontSize,globalDefault.defaultFontSize);var fontStyle=valueOrDefault(labelOpts.fontStyle,globalDefault.defaultFontStyle);var fontFamily=valueOrDefault(labelOpts.fontFamily,globalDefault.defaultFontFamily);var labelFont=helpers.fontString(fontSize,fontStyle,fontFamily);var hitboxes=me.legendHitBoxes=[];var minSize=me.minSize;var isHorizontal=me.isHorizontal();if(isHorizontal){minSize.width=me.maxWidth;minSize.height=display?10:0}else{minSize.width=display?10:0;minSize.height=me.maxHeight}
if(display){ctx.font=labelFont;if(isHorizontal){var lineWidths=me.lineWidths=[0];var totalHeight=me.legendItems.length?fontSize+(labelOpts.padding):0;ctx.textAlign='left';ctx.textBaseline='top';helpers.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var width=boxWidth+(fontSize/2)+ctx.measureText(legendItem.text).width;if(lineWidths[lineWidths.length-1]+width+labelOpts.padding>=me.width){totalHeight+=fontSize+(labelOpts.padding);lineWidths[lineWidths.length]=me.left}
hitboxes[i]={left:0,top:0,width:width,height:fontSize};lineWidths[lineWidths.length-1]+=width+labelOpts.padding});minSize.height+=totalHeight}else{var vPadding=labelOpts.padding;var columnWidths=me.columnWidths=[];var totalWidth=labelOpts.padding;var currentColWidth=0;var currentColHeight=0;var itemHeight=fontSize+vPadding;helpers.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var itemWidth=boxWidth+(fontSize/2)+ctx.measureText(legendItem.text).width;if(currentColHeight+itemHeight>minSize.height){totalWidth+=currentColWidth+labelOpts.padding;columnWidths.push(currentColWidth);currentColWidth=0;currentColHeight=0}
currentColWidth=Math.max(currentColWidth,itemWidth);currentColHeight+=itemHeight;hitboxes[i]={left:0,top:0,width:itemWidth,height:fontSize}});totalWidth+=currentColWidth;columnWidths.push(currentColWidth);minSize.width+=totalWidth}}
me.width=minSize.width;me.height=minSize.height},afterFit:noop,isHorizontal:function(){return this.options.position==='top'||this.options.position==='bottom'},draw:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var globalDefault=defaults.global;var lineDefault=globalDefault.elements.line;var legendWidth=me.width;var lineWidths=me.lineWidths;if(opts.display){var ctx=me.ctx;var valueOrDefault=helpers.valueOrDefault;var fontColor=valueOrDefault(labelOpts.fontColor,globalDefault.defaultFontColor);var fontSize=valueOrDefault(labelOpts.fontSize,globalDefault.defaultFontSize);var fontStyle=valueOrDefault(labelOpts.fontStyle,globalDefault.defaultFontStyle);var fontFamily=valueOrDefault(labelOpts.fontFamily,globalDefault.defaultFontFamily);var labelFont=helpers.fontString(fontSize,fontStyle,fontFamily);var cursor;ctx.textAlign='left';ctx.textBaseline='middle';ctx.lineWidth=0.5;ctx.strokeStyle=fontColor;ctx.fillStyle=fontColor;ctx.font=labelFont;var boxWidth=getBoxWidth(labelOpts,fontSize);var hitboxes=me.legendHitBoxes;var drawLegendBox=function(x,y,legendItem){if(isNaN(boxWidth)||boxWidth<=0){return}
ctx.save();ctx.fillStyle=valueOrDefault(legendItem.fillStyle,globalDefault.defaultColor);ctx.lineCap=valueOrDefault(legendItem.lineCap,lineDefault.borderCapStyle);ctx.lineDashOffset=valueOrDefault(legendItem.lineDashOffset,lineDefault.borderDashOffset);ctx.lineJoin=valueOrDefault(legendItem.lineJoin,lineDefault.borderJoinStyle);ctx.lineWidth=valueOrDefault(legendItem.lineWidth,lineDefault.borderWidth);ctx.strokeStyle=valueOrDefault(legendItem.strokeStyle,globalDefault.defaultColor);var isLineWidthZero=(valueOrDefault(legendItem.lineWidth,lineDefault.borderWidth)===0);if(ctx.setLineDash){ctx.setLineDash(valueOrDefault(legendItem.lineDash,lineDefault.borderDash))}
if(opts.labels&&opts.labels.usePointStyle){var radius=fontSize*Math.SQRT2/2;var offSet=radius/Math.SQRT2;var centerX=x+offSet;var centerY=y+offSet;helpers.canvas.drawPoint(ctx,legendItem.pointStyle,radius,centerX,centerY)}else{if(!isLineWidthZero){ctx.strokeRect(x,y,boxWidth,fontSize)}
ctx.fillRect(x,y,boxWidth,fontSize)}
ctx.restore()};var fillText=function(x,y,legendItem,textWidth){var halfFontSize=fontSize/2;var xLeft=boxWidth+halfFontSize+x;var yMiddle=y+halfFontSize;ctx.fillText(legendItem.text,xLeft,yMiddle);if(legendItem.hidden){ctx.beginPath();ctx.lineWidth=2;ctx.moveTo(xLeft,yMiddle);ctx.lineTo(xLeft+textWidth,yMiddle);ctx.stroke()}};var isHorizontal=me.isHorizontal();if(isHorizontal){cursor={x:me.left+((legendWidth-lineWidths[0])/2),y:me.top+labelOpts.padding,line:0}}else{cursor={x:me.left+labelOpts.padding,y:me.top+labelOpts.padding,line:0}}
var itemHeight=fontSize+labelOpts.padding;helpers.each(me.legendItems,function(legendItem,i){var textWidth=ctx.measureText(legendItem.text).width;var width=boxWidth+(fontSize/2)+textWidth;var x=cursor.x;var y=cursor.y;if(isHorizontal){if(x+width>=legendWidth){y=cursor.y+=itemHeight;cursor.line++;x=cursor.x=me.left+((legendWidth-lineWidths[cursor.line])/2)}}else if(y+itemHeight>me.bottom){x=cursor.x=x+me.columnWidths[cursor.line]+labelOpts.padding;y=cursor.y=me.top+labelOpts.padding;cursor.line++}
drawLegendBox(x,y,legendItem);hitboxes[i].left=x;hitboxes[i].top=y;fillText(x,y,legendItem,textWidth);if(isHorizontal){cursor.x+=width+(labelOpts.padding)}else{cursor.y+=itemHeight}})}},handleEvent:function(e){var me=this;var opts=me.options;var type=e.type==='mouseup'?'click':e.type;var changed=!1;if(type==='mousemove'){if(!opts.onHover){return}}else if(type==='click'){if(!opts.onClick){return}}else{return}
var x=e.x;var y=e.y;if(x>=me.left&&x<=me.right&&y>=me.top&&y<=me.bottom){var lh=me.legendHitBoxes;for(var i=0;i<lh.length;++i){var hitBox=lh[i];if(x>=hitBox.left&&x<=hitBox.left+hitBox.width&&y>=hitBox.top&&y<=hitBox.top+hitBox.height){if(type==='click'){opts.onClick.call(me,e.native,me.legendItems[i]);changed=!0;break}else if(type==='mousemove'){opts.onHover.call(me,e.native,me.legendItems[i]);changed=!0;break}}}}
return changed}});function createNewLegendAndAttach(chart,legendOpts){var legend=new Legend({ctx:chart.ctx,options:legendOpts,chart:chart});layouts.configure(chart,legend,legendOpts);layouts.addBox(chart,legend);chart.legend=legend}
module.exports={id:'legend',_element:Legend,beforeInit:function(chart){var legendOpts=chart.options.legend;if(legendOpts){createNewLegendAndAttach(chart,legendOpts)}},beforeUpdate:function(chart){var legendOpts=chart.options.legend;var legend=chart.legend;if(legendOpts){helpers.mergeIf(legendOpts,defaults.global.legend);if(legend){layouts.configure(chart,legend,legendOpts);legend.options=legendOpts}else{createNewLegendAndAttach(chart,legendOpts)}}else if(legend){layouts.removeBox(chart,legend);delete chart.legend}},afterEvent:function(chart,e){var legend=chart.legend;if(legend){legend.handleEvent(e)}}}},{"25":25,"26":26,"30":30,"45":45}],52:[function(require,module,exports){'use strict';var defaults=require(25);var Element=require(26);var helpers=require(45);var layouts=require(30);var noop=helpers.noop;defaults._set('global',{title:{display:!1,fontStyle:'bold',fullWidth:!0,lineHeight:1.2,padding:10,position:'top',text:'',weight:2000}});var Title=Element.extend({initialize:function(config){var me=this;helpers.extend(me,config);me.legendHitBoxes=[]},beforeUpdate:noop,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize},afterUpdate:noop,beforeSetDimensions:noop,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0}},afterSetDimensions:noop,beforeBuildLabels:noop,buildLabels:noop,afterBuildLabels:noop,beforeFit:noop,fit:function(){var me=this;var valueOrDefault=helpers.valueOrDefault;var opts=me.options;var display=opts.display;var fontSize=valueOrDefault(opts.fontSize,defaults.global.defaultFontSize);var minSize=me.minSize;var lineCount=helpers.isArray(opts.text)?opts.text.length:1;var lineHeight=helpers.options.toLineHeight(opts.lineHeight,fontSize);var textSize=display?(lineCount*lineHeight)+(opts.padding*2):0;if(me.isHorizontal()){minSize.width=me.maxWidth;minSize.height=textSize}else{minSize.width=textSize;minSize.height=me.maxHeight}
me.width=minSize.width;me.height=minSize.height},afterFit:noop,isHorizontal:function(){var pos=this.options.position;return pos==='top'||pos==='bottom'},draw:function(){var me=this;var ctx=me.ctx;var valueOrDefault=helpers.valueOrDefault;var opts=me.options;var globalDefaults=defaults.global;if(opts.display){var fontSize=valueOrDefault(opts.fontSize,globalDefaults.defaultFontSize);var fontStyle=valueOrDefault(opts.fontStyle,globalDefaults.defaultFontStyle);var fontFamily=valueOrDefault(opts.fontFamily,globalDefaults.defaultFontFamily);var titleFont=helpers.fontString(fontSize,fontStyle,fontFamily);var lineHeight=helpers.options.toLineHeight(opts.lineHeight,fontSize);var offset=lineHeight/2+opts.padding;var rotation=0;var top=me.top;var left=me.left;var bottom=me.bottom;var right=me.right;var maxWidth,titleX,titleY;ctx.fillStyle=valueOrDefault(opts.fontColor,globalDefaults.defaultFontColor);ctx.font=titleFont;if(me.isHorizontal()){titleX=left+((right-left)/2);titleY=top+offset;maxWidth=right-left}else{titleX=opts.position==='left'?left+offset:right-offset;titleY=top+((bottom-top)/2);maxWidth=bottom-top;rotation=Math.PI*(opts.position==='left'?-0.5:0.5)}
ctx.save();ctx.translate(titleX,titleY);ctx.rotate(rotation);ctx.textAlign='center';ctx.textBaseline='middle';var text=opts.text;if(helpers.isArray(text)){var y=0;for(var i=0;i<text.length;++i){ctx.fillText(text[i],0,y,maxWidth);y+=lineHeight}}else{ctx.fillText(text,0,0,maxWidth)}
ctx.restore()}}});function createNewTitleBlockAndAttach(chart,titleOpts){var title=new Title({ctx:chart.ctx,options:titleOpts,chart:chart});layouts.configure(chart,title,titleOpts);layouts.addBox(chart,title);chart.titleBlock=title}
module.exports={id:'title',_element:Title,beforeInit:function(chart){var titleOpts=chart.options.title;if(titleOpts){createNewTitleBlockAndAttach(chart,titleOpts)}},beforeUpdate:function(chart){var titleOpts=chart.options.title;var titleBlock=chart.titleBlock;if(titleOpts){helpers.mergeIf(titleOpts,defaults.global.title);if(titleBlock){layouts.configure(chart,titleBlock,titleOpts);titleBlock.options=titleOpts}else{createNewTitleBlockAndAttach(chart,titleOpts)}}else if(titleBlock){layouts.removeBox(chart,titleBlock);delete chart.titleBlock}}}},{"25":25,"26":26,"30":30,"45":45}],53:[function(require,module,exports){'use strict';module.exports=function(Chart){var defaultConfig={position:'bottom'};var DatasetScale=Chart.Scale.extend({getLabels:function(){var data=this.chart.data;return this.options.labels||(this.isHorizontal()?data.xLabels:data.yLabels)||data.labels},determineDataLimits:function(){var me=this;var labels=me.getLabels();me.minIndex=0;me.maxIndex=labels.length-1;var findIndex;if(me.options.ticks.min!==undefined){findIndex=labels.indexOf(me.options.ticks.min);me.minIndex=findIndex!==-1?findIndex:me.minIndex}
if(me.options.ticks.max!==undefined){findIndex=labels.indexOf(me.options.ticks.max);me.maxIndex=findIndex!==-1?findIndex:me.maxIndex}
me.min=labels[me.minIndex];me.max=labels[me.maxIndex]},buildTicks:function(){var me=this;var labels=me.getLabels();me.ticks=(me.minIndex===0&&me.maxIndex===labels.length-1)?labels:labels.slice(me.minIndex,me.maxIndex+1)},getLabelForIndex:function(index,datasetIndex){var me=this;var data=me.chart.data;var isHorizontal=me.isHorizontal();if(data.yLabels&&!isHorizontal){return me.getRightValue(data.datasets[datasetIndex].data[index])}
return me.ticks[index-me.minIndex]},getPixelForValue:function(value,index){var me=this;var offset=me.options.offset;var offsetAmt=Math.max((me.maxIndex+1-me.minIndex-(offset?0:1)),1);var valueCategory;if(value!==undefined&&value!==null){valueCategory=me.isHorizontal()?value.x:value.y}
if(valueCategory!==undefined||(value!==undefined&&isNaN(index))){var labels=me.getLabels();value=valueCategory||value;var idx=labels.indexOf(value);index=idx!==-1?idx:index}
if(me.isHorizontal()){var valueWidth=me.width/offsetAmt;var widthOffset=(valueWidth*(index-me.minIndex));if(offset){widthOffset+=(valueWidth/2)}
return me.left+Math.round(widthOffset)}
var valueHeight=me.height/offsetAmt;var heightOffset=(valueHeight*(index-me.minIndex));if(offset){heightOffset+=(valueHeight/2)}
return me.top+Math.round(heightOffset)},getPixelForTick:function(index){return this.getPixelForValue(this.ticks[index],index+this.minIndex,null)},getValueForPixel:function(pixel){var me=this;var offset=me.options.offset;var value;var offsetAmt=Math.max((me._ticks.length-(offset?0:1)),1);var horz=me.isHorizontal();var valueDimension=(horz?me.width:me.height)/offsetAmt;pixel-=horz?me.left:me.top;if(offset){pixel-=(valueDimension/2)}
if(pixel<=0){value=0}else{value=Math.round(pixel/valueDimension)}
return value+me.minIndex},getBasePixel:function(){return this.bottom}});Chart.scaleService.registerScaleType('category',DatasetScale,defaultConfig)}},{}],54:[function(require,module,exports){'use strict';var defaults=require(25);var helpers=require(45);var Ticks=require(34);module.exports=function(Chart){var defaultConfig={position:'left',ticks:{callback:Ticks.formatters.linear}};var LinearScale=Chart.LinearScaleBase.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var data=chart.data;var datasets=data.datasets;var isHorizontal=me.isHorizontal();var DEFAULT_MIN=0;var DEFAULT_MAX=1;function IDMatches(meta){return isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id}
me.min=null;me.max=null;var hasStacks=opts.stacked;if(hasStacks===undefined){helpers.each(datasets,function(dataset,datasetIndex){if(hasStacks){return}
var meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&meta.stack!==undefined){hasStacks=!0}})}
if(opts.stacked||hasStacks){var valuesPerStack={};helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);var key=[meta.type,((opts.stacked===undefined&&meta.stack===undefined)?datasetIndex:''),meta.stack].join('.');if(valuesPerStack[key]===undefined){valuesPerStack[key]={positiveValues:[],negativeValues:[]}}
var positiveValues=valuesPerStack[key].positiveValues;var negativeValues=valuesPerStack[key].negativeValues;if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden){return}
positiveValues[index]=positiveValues[index]||0;negativeValues[index]=negativeValues[index]||0;if(opts.relativePoints){positiveValues[index]=100}else if(value<0){negativeValues[index]+=value}else{positiveValues[index]+=value}})}});helpers.each(valuesPerStack,function(valuesForType){var values=valuesForType.positiveValues.concat(valuesForType.negativeValues);var minVal=helpers.min(values);var maxVal=helpers.max(values);me.min=me.min===null?minVal:Math.min(me.min,minVal);me.max=me.max===null?maxVal:Math.max(me.max,maxVal)})}else{helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden){return}
if(me.min===null){me.min=value}else if(value<me.min){me.min=value}
if(me.max===null){me.max=value}else if(value>me.max){me.max=value}})}})}
me.min=isFinite(me.min)&&!isNaN(me.min)?me.min:DEFAULT_MIN;me.max=isFinite(me.max)&&!isNaN(me.max)?me.max:DEFAULT_MAX;this.handleTickRangeOptions()},getTickLimit:function(){var maxTicks;var me=this;var tickOpts=me.options.ticks;if(me.isHorizontal()){maxTicks=Math.min(tickOpts.maxTicksLimit?tickOpts.maxTicksLimit:11,Math.ceil(me.width/50))}else{var tickFontSize=helpers.valueOrDefault(tickOpts.fontSize,defaults.global.defaultFontSize);maxTicks=Math.min(tickOpts.maxTicksLimit?tickOpts.maxTicksLimit:11,Math.ceil(me.height/(2*tickFontSize)))}
return maxTicks},handleDirectionalChanges:function(){if(!this.isHorizontal()){this.ticks.reverse()}},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index])},getPixelForValue:function(value){var me=this;var start=me.start;var rightValue=+me.getRightValue(value);var pixel;var range=me.end-start;if(me.isHorizontal()){pixel=me.left+(me.width/range*(rightValue-start))}else{pixel=me.bottom-(me.height/range*(rightValue-start))}
return pixel},getValueForPixel:function(pixel){var me=this;var isHorizontal=me.isHorizontal();var innerDimension=isHorizontal?me.width:me.height;var offset=(isHorizontal?pixel-me.left:me.bottom-pixel)/innerDimension;return me.start+((me.end-me.start)*offset)},getPixelForTick:function(index){return this.getPixelForValue(this.ticksAsNumbers[index])}});Chart.scaleService.registerScaleType('linear',LinearScale,defaultConfig)}},{"25":25,"34":34,"45":45}],55:[function(require,module,exports){'use strict';var helpers=require(45);function generateTicks(generationOptions,dataRange){var ticks=[];var spacing;if(generationOptions.stepSize&&generationOptions.stepSize>0){spacing=generationOptions.stepSize}else{var niceRange=helpers.niceNum(dataRange.max-dataRange.min,!1);spacing=helpers.niceNum(niceRange/(generationOptions.maxTicks-1),!0)}
var niceMin=Math.floor(dataRange.min/spacing)*spacing;var niceMax=Math.ceil(dataRange.max/spacing)*spacing;if(generationOptions.min&&generationOptions.max&&generationOptions.stepSize){if(helpers.almostWhole((generationOptions.max-generationOptions.min)/generationOptions.stepSize,spacing/1000)){niceMin=generationOptions.min;niceMax=generationOptions.max}}
var numSpaces=(niceMax-niceMin)/spacing;if(helpers.almostEquals(numSpaces,Math.round(numSpaces),spacing/1000)){numSpaces=Math.round(numSpaces)}else{numSpaces=Math.ceil(numSpaces)}
var precision=1;if(spacing<1){precision=Math.pow(10,spacing.toString().length-2);niceMin=Math.round(niceMin*precision)/precision;niceMax=Math.round(niceMax*precision)/precision}
ticks.push(generationOptions.min!==undefined?generationOptions.min:niceMin);for(var j=1;j<numSpaces;++j){ticks.push(Math.round((niceMin+j*spacing)*precision)/precision)}
ticks.push(generationOptions.max!==undefined?generationOptions.max:niceMax);return ticks}
module.exports=function(Chart){var noop=helpers.noop;Chart.LinearScaleBase=Chart.Scale.extend({getRightValue:function(value){if(typeof value==='string'){return+value}
return Chart.Scale.prototype.getRightValue.call(this,value)},handleTickRangeOptions:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;if(tickOpts.beginAtZero){var minSign=helpers.sign(me.min);var maxSign=helpers.sign(me.max);if(minSign<0&&maxSign<0){me.max=0}else if(minSign>0&&maxSign>0){me.min=0}}
var setMin=tickOpts.min!==undefined||tickOpts.suggestedMin!==undefined;var setMax=tickOpts.max!==undefined||tickOpts.suggestedMax!==undefined;if(tickOpts.min!==undefined){me.min=tickOpts.min}else if(tickOpts.suggestedMin!==undefined){if(me.min===null){me.min=tickOpts.suggestedMin}else{me.min=Math.min(me.min,tickOpts.suggestedMin)}}
if(tickOpts.max!==undefined){me.max=tickOpts.max}else if(tickOpts.suggestedMax!==undefined){if(me.max===null){me.max=tickOpts.suggestedMax}else{me.max=Math.max(me.max,tickOpts.suggestedMax)}}
if(setMin!==setMax){if(me.min>=me.max){if(setMin){me.max=me.min+1}else{me.min=me.max-1}}}
if(me.min===me.max){me.max++;if(!tickOpts.beginAtZero){me.min--}}},getTickLimit:noop,handleDirectionalChanges:noop,buildTicks:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;var maxTicks=me.getTickLimit();maxTicks=Math.max(2,maxTicks);var numericGeneratorOptions={maxTicks:maxTicks,min:tickOpts.min,max:tickOpts.max,stepSize:helpers.valueOrDefault(tickOpts.fixedStepSize,tickOpts.stepSize)};var ticks=me.ticks=generateTicks(numericGeneratorOptions,me);me.handleDirectionalChanges();me.max=helpers.max(ticks);me.min=helpers.min(ticks);if(tickOpts.reverse){ticks.reverse();me.start=me.max;me.end=me.min}else{me.start=me.min;me.end=me.max}},convertTicksToLabels:function(){var me=this;me.ticksAsNumbers=me.ticks.slice();me.zeroLineIndex=me.ticks.indexOf(0);Chart.Scale.prototype.convertTicksToLabels.call(me)}})}},{"45":45}],56:[function(require,module,exports){'use strict';var helpers=require(45);var Ticks=require(34);function generateTicks(generationOptions,dataRange){var ticks=[];var valueOrDefault=helpers.valueOrDefault;var tickVal=valueOrDefault(generationOptions.min,Math.pow(10,Math.floor(helpers.log10(dataRange.min))));var endExp=Math.floor(helpers.log10(dataRange.max));var endSignificand=Math.ceil(dataRange.max/Math.pow(10,endExp));var exp,significand;if(tickVal===0){exp=Math.floor(helpers.log10(dataRange.minNotZero));significand=Math.floor(dataRange.minNotZero/Math.pow(10,exp));ticks.push(tickVal);tickVal=significand*Math.pow(10,exp)}else{exp=Math.floor(helpers.log10(tickVal));significand=Math.floor(tickVal/Math.pow(10,exp))}
var precision=exp<0?Math.pow(10,Math.abs(exp)):1;do{ticks.push(tickVal);++significand;if(significand===10){significand=1;++exp;precision=exp>=0?1:precision}
tickVal=Math.round(significand*Math.pow(10,exp)*precision)/precision}while(exp<endExp||(exp===endExp&&significand<endSignificand));var lastTick=valueOrDefault(generationOptions.max,tickVal);ticks.push(lastTick);return ticks}
module.exports=function(Chart){var defaultConfig={position:'left',ticks:{callback:Ticks.formatters.logarithmic}};var LogarithmicScale=Chart.Scale.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var data=chart.data;var datasets=data.datasets;var isHorizontal=me.isHorizontal();function IDMatches(meta){return isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id}
me.min=null;me.max=null;me.minNotZero=null;var hasStacks=opts.stacked;if(hasStacks===undefined){helpers.each(datasets,function(dataset,datasetIndex){if(hasStacks){return}
var meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&meta.stack!==undefined){hasStacks=!0}})}
if(opts.stacked||hasStacks){var valuesPerStack={};helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);var key=[meta.type,((opts.stacked===undefined&&meta.stack===undefined)?datasetIndex:''),meta.stack].join('.');if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){if(valuesPerStack[key]===undefined){valuesPerStack[key]=[]}
helpers.each(dataset.data,function(rawValue,index){var values=valuesPerStack[key];var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden||value<0){return}
values[index]=values[index]||0;values[index]+=value})}});helpers.each(valuesPerStack,function(valuesForType){if(valuesForType.length>0){var minVal=helpers.min(valuesForType);var maxVal=helpers.max(valuesForType);me.min=me.min===null?minVal:Math.min(me.min,minVal);me.max=me.max===null?maxVal:Math.max(me.max,maxVal)}})}else{helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden||value<0){return}
if(me.min===null){me.min=value}else if(value<me.min){me.min=value}
if(me.max===null){me.max=value}else if(value>me.max){me.max=value}
if(value!==0&&(me.minNotZero===null||value<me.minNotZero)){me.minNotZero=value}})}})}
this.handleTickRangeOptions()},handleTickRangeOptions:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;var valueOrDefault=helpers.valueOrDefault;var DEFAULT_MIN=1;var DEFAULT_MAX=10;me.min=valueOrDefault(tickOpts.min,me.min);me.max=valueOrDefault(tickOpts.max,me.max);if(me.min===me.max){if(me.min!==0&&me.min!==null){me.min=Math.pow(10,Math.floor(helpers.log10(me.min))-1);me.max=Math.pow(10,Math.floor(helpers.log10(me.max))+1)}else{me.min=DEFAULT_MIN;me.max=DEFAULT_MAX}}
if(me.min===null){me.min=Math.pow(10,Math.floor(helpers.log10(me.max))-1)}
if(me.max===null){me.max=me.min!==0?Math.pow(10,Math.floor(helpers.log10(me.min))+1):DEFAULT_MAX}
if(me.minNotZero===null){if(me.min>0){me.minNotZero=me.min}else if(me.max<1){me.minNotZero=Math.pow(10,Math.floor(helpers.log10(me.max)))}else{me.minNotZero=DEFAULT_MIN}}},buildTicks:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;var reverse=!me.isHorizontal();var generationOptions={min:tickOpts.min,max:tickOpts.max};var ticks=me.ticks=generateTicks(generationOptions,me);me.max=helpers.max(ticks);me.min=helpers.min(ticks);if(tickOpts.reverse){reverse=!reverse;me.start=me.max;me.end=me.min}else{me.start=me.min;me.end=me.max}
if(reverse){ticks.reverse()}},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();Chart.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index])},getPixelForTick:function(index){return this.getPixelForValue(this.tickValues[index])},_getFirstTickValue:function(value){var exp=Math.floor(helpers.log10(value));var significand=Math.floor(value/Math.pow(10,exp));return significand*Math.pow(10,exp)},getPixelForValue:function(value){var me=this;var reverse=me.options.ticks.reverse;var log10=helpers.log10;var firstTickValue=me._getFirstTickValue(me.minNotZero);var offset=0;var innerDimension,pixel,start,end,sign;value=+me.getRightValue(value);if(reverse){start=me.end;end=me.start;sign=-1}else{start=me.start;end=me.end;sign=1}
if(me.isHorizontal()){innerDimension=me.width;pixel=reverse?me.right:me.left}else{innerDimension=me.height;sign*=-1;pixel=reverse?me.top:me.bottom}
if(value!==start){if(start===0){offset=helpers.getValueOrDefault(me.options.ticks.fontSize,Chart.defaults.global.defaultFontSize);innerDimension-=offset;start=firstTickValue}
if(value!==0){offset+=innerDimension/(log10(end)-log10(start))*(log10(value)-log10(start))}
pixel+=sign*offset}
return pixel},getValueForPixel:function(pixel){var me=this;var reverse=me.options.ticks.reverse;var log10=helpers.log10;var firstTickValue=me._getFirstTickValue(me.minNotZero);var innerDimension,start,end,value;if(reverse){start=me.end;end=me.start}else{start=me.start;end=me.end}
if(me.isHorizontal()){innerDimension=me.width;value=reverse?me.right-pixel:pixel-me.left}else{innerDimension=me.height;value=reverse?pixel-me.top:me.bottom-pixel}
if(value!==start){if(start===0){var offset=helpers.getValueOrDefault(me.options.ticks.fontSize,Chart.defaults.global.defaultFontSize);value-=offset;innerDimension-=offset;start=firstTickValue}
value*=log10(end)-log10(start);value/=innerDimension;value=Math.pow(10,log10(start)+value)}
return value}});Chart.scaleService.registerScaleType('logarithmic',LogarithmicScale,defaultConfig)}},{"34":34,"45":45}],57:[function(require,module,exports){'use strict';var defaults=require(25);var helpers=require(45);var Ticks=require(34);module.exports=function(Chart){var globalDefaults=defaults.global;var defaultConfig={display:!0,animate:!0,position:'chartArea',angleLines:{display:!0,color:'rgba(0, 0, 0, 0.1)',lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:'rgba(255,255,255,0.75)',backdropPaddingY:2,backdropPaddingX:2,callback:Ticks.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(label){return label}}};function getValueCount(scale){var opts=scale.options;return opts.angleLines.display||opts.pointLabels.display?scale.chart.data.labels.length:0}
function getPointLabelFontOptions(scale){var pointLabelOptions=scale.options.pointLabels;var fontSize=helpers.valueOrDefault(pointLabelOptions.fontSize,globalDefaults.defaultFontSize);var fontStyle=helpers.valueOrDefault(pointLabelOptions.fontStyle,globalDefaults.defaultFontStyle);var fontFamily=helpers.valueOrDefault(pointLabelOptions.fontFamily,globalDefaults.defaultFontFamily);var font=helpers.fontString(fontSize,fontStyle,fontFamily);return{size:fontSize,style:fontStyle,family:fontFamily,font:font}}
function measureLabelSize(ctx,fontSize,label){if(helpers.isArray(label)){return{w:helpers.longestText(ctx,ctx.font,label),h:(label.length*fontSize)+((label.length-1)*1.5*fontSize)}}
return{w:ctx.measureText(label).width,h:fontSize}}
function determineLimits(angle,pos,size,min,max){if(angle===min||angle===max){return{start:pos-(size/2),end:pos+(size/2)}}else if(angle<min||angle>max){return{start:pos-size-5,end:pos}}
return{start:pos,end:pos+size+5}}
function fitWithPointLabels(scale){var plFont=getPointLabelFontOptions(scale);var largestPossibleRadius=Math.min(scale.height/2,scale.width/2);var furthestLimits={r:scale.width,l:0,t:scale.height,b:0};var furthestAngles={};var i,textSize,pointPosition;scale.ctx.font=plFont.font;scale._pointLabelSizes=[];var valueCount=getValueCount(scale);for(i=0;i<valueCount;i++){pointPosition=scale.getPointPosition(i,largestPossibleRadius);textSize=measureLabelSize(scale.ctx,plFont.size,scale.pointLabels[i]||'');scale._pointLabelSizes[i]=textSize;var angleRadians=scale.getIndexAngle(i);var angle=helpers.toDegrees(angleRadians)%360;var hLimits=determineLimits(angle,pointPosition.x,textSize.w,0,180);var vLimits=determineLimits(angle,pointPosition.y,textSize.h,90,270);if(hLimits.start<furthestLimits.l){furthestLimits.l=hLimits.start;furthestAngles.l=angleRadians}
if(hLimits.end>furthestLimits.r){furthestLimits.r=hLimits.end;furthestAngles.r=angleRadians}
if(vLimits.start<furthestLimits.t){furthestLimits.t=vLimits.start;furthestAngles.t=angleRadians}
if(vLimits.end>furthestLimits.b){furthestLimits.b=vLimits.end;furthestAngles.b=angleRadians}}
scale.setReductions(largestPossibleRadius,furthestLimits,furthestAngles)}
function fit(scale){var largestPossibleRadius=Math.min(scale.height/2,scale.width/2);scale.drawingArea=Math.round(largestPossibleRadius);scale.setCenterPoint(0,0,0,0)}
function getTextAlignForAngle(angle){if(angle===0||angle===180){return 'center'}else if(angle<180){return 'left'}
return 'right'}
function fillText(ctx,text,position,fontSize){if(helpers.isArray(text)){var y=position.y;var spacing=1.5*fontSize;for(var i=0;i<text.length;++i){ctx.fillText(text[i],position.x,y);y+=spacing}}else{ctx.fillText(text,position.x,position.y)}}
function adjustPointPositionForLabelHeight(angle,textSize,position){if(angle===90||angle===270){position.y-=(textSize.h/2)}else if(angle>270||angle<90){position.y-=textSize.h}}
function drawPointLabels(scale){var ctx=scale.ctx;var opts=scale.options;var angleLineOpts=opts.angleLines;var pointLabelOpts=opts.pointLabels;ctx.lineWidth=angleLineOpts.lineWidth;ctx.strokeStyle=angleLineOpts.color;var outerDistance=scale.getDistanceFromCenterForValue(opts.ticks.reverse?scale.min:scale.max);var plFont=getPointLabelFontOptions(scale);ctx.textBaseline='top';for(var i=getValueCount(scale)-1;i>=0;i--){if(angleLineOpts.display){var outerPosition=scale.getPointPosition(i,outerDistance);ctx.beginPath();ctx.moveTo(scale.xCenter,scale.yCenter);ctx.lineTo(outerPosition.x,outerPosition.y);ctx.stroke();ctx.closePath()}
if(pointLabelOpts.display){var pointLabelPosition=scale.getPointPosition(i,outerDistance+5);var pointLabelFontColor=helpers.valueAtIndexOrDefault(pointLabelOpts.fontColor,i,globalDefaults.defaultFontColor);ctx.font=plFont.font;ctx.fillStyle=pointLabelFontColor;var angleRadians=scale.getIndexAngle(i);var angle=helpers.toDegrees(angleRadians);ctx.textAlign=getTextAlignForAngle(angle);adjustPointPositionForLabelHeight(angle,scale._pointLabelSizes[i],pointLabelPosition);fillText(ctx,scale.pointLabels[i]||'',pointLabelPosition,plFont.size)}}}
function drawRadiusLine(scale,gridLineOpts,radius,index){var ctx=scale.ctx;ctx.strokeStyle=helpers.valueAtIndexOrDefault(gridLineOpts.color,index-1);ctx.lineWidth=helpers.valueAtIndexOrDefault(gridLineOpts.lineWidth,index-1);if(scale.options.gridLines.circular){ctx.beginPath();ctx.arc(scale.xCenter,scale.yCenter,radius,0,Math.PI*2);ctx.closePath();ctx.stroke()}else{var valueCount=getValueCount(scale);if(valueCount===0){return}
ctx.beginPath();var pointPosition=scale.getPointPosition(0,radius);ctx.moveTo(pointPosition.x,pointPosition.y);for(var i=1;i<valueCount;i++){pointPosition=scale.getPointPosition(i,radius);ctx.lineTo(pointPosition.x,pointPosition.y)}
ctx.closePath();ctx.stroke()}}
function numberOrZero(param){return helpers.isNumber(param)?param:0}
var LinearRadialScale=Chart.LinearScaleBase.extend({setDimensions:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;me.width=me.maxWidth;me.height=me.maxHeight;me.xCenter=Math.round(me.width/2);me.yCenter=Math.round(me.height/2);var minSize=helpers.min([me.height,me.width]);var tickFontSize=helpers.valueOrDefault(tickOpts.fontSize,globalDefaults.defaultFontSize);me.drawingArea=opts.display?(minSize/2)-(tickFontSize/2+tickOpts.backdropPaddingY):(minSize/2)},determineDataLimits:function(){var me=this;var chart=me.chart;var min=Number.POSITIVE_INFINITY;var max=Number.NEGATIVE_INFINITY;helpers.each(chart.data.datasets,function(dataset,datasetIndex){if(chart.isDatasetVisible(datasetIndex)){var meta=chart.getDatasetMeta(datasetIndex);helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden){return}
min=Math.min(value,min);max=Math.max(value,max)})}});me.min=(min===Number.POSITIVE_INFINITY?0:min);me.max=(max===Number.NEGATIVE_INFINITY?0:max);me.handleTickRangeOptions()},getTickLimit:function(){var tickOpts=this.options.ticks;var tickFontSize=helpers.valueOrDefault(tickOpts.fontSize,globalDefaults.defaultFontSize);return Math.min(tickOpts.maxTicksLimit?tickOpts.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*tickFontSize)))},convertTicksToLabels:function(){var me=this;Chart.LinearScaleBase.prototype.convertTicksToLabels.call(me);me.pointLabels=me.chart.data.labels.map(me.options.pointLabels.callback,me)},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index])},fit:function(){if(this.options.pointLabels.display){fitWithPointLabels(this)}else{fit(this)}},setReductions:function(largestPossibleRadius,furthestLimits,furthestAngles){var me=this;var radiusReductionLeft=furthestLimits.l/Math.sin(furthestAngles.l);var radiusReductionRight=Math.max(furthestLimits.r-me.width,0)/Math.sin(furthestAngles.r);var radiusReductionTop=-furthestLimits.t/Math.cos(furthestAngles.t);var radiusReductionBottom=-Math.max(furthestLimits.b-me.height,0)/Math.cos(furthestAngles.b);radiusReductionLeft=numberOrZero(radiusReductionLeft);radiusReductionRight=numberOrZero(radiusReductionRight);radiusReductionTop=numberOrZero(radiusReductionTop);radiusReductionBottom=numberOrZero(radiusReductionBottom);me.drawingArea=Math.min(Math.round(largestPossibleRadius-(radiusReductionLeft+radiusReductionRight)/2),Math.round(largestPossibleRadius-(radiusReductionTop+radiusReductionBottom)/2));me.setCenterPoint(radiusReductionLeft,radiusReductionRight,radiusReductionTop,radiusReductionBottom)},setCenterPoint:function(leftMovement,rightMovement,topMovement,bottomMovement){var me=this;var maxRight=me.width-rightMovement-me.drawingArea;var maxLeft=leftMovement+me.drawingArea;var maxTop=topMovement+me.drawingArea;var maxBottom=me.height-bottomMovement-me.drawingArea;me.xCenter=Math.round(((maxLeft+maxRight)/2)+me.left);me.yCenter=Math.round(((maxTop+maxBottom)/2)+me.top)},getIndexAngle:function(index){var angleMultiplier=(Math.PI*2)/getValueCount(this);var startAngle=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0;var startAngleRadians=startAngle*Math.PI*2/360;return index*angleMultiplier+startAngleRadians},getDistanceFromCenterForValue:function(value){var me=this;if(value===null){return 0}
var scalingFactor=me.drawingArea/(me.max-me.min);if(me.options.ticks.reverse){return(me.max-value)*scalingFactor}
return(value-me.min)*scalingFactor},getPointPosition:function(index,distanceFromCenter){var me=this;var thisAngle=me.getIndexAngle(index)-(Math.PI/2);return{x:Math.round(Math.cos(thisAngle)*distanceFromCenter)+me.xCenter,y:Math.round(Math.sin(thisAngle)*distanceFromCenter)+me.yCenter}},getPointPositionForValue:function(index,value){return this.getPointPosition(index,this.getDistanceFromCenterForValue(value))},getBasePosition:function(){var me=this;var min=me.min;var max=me.max;return me.getPointPositionForValue(0,me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0)},draw:function(){var me=this;var opts=me.options;var gridLineOpts=opts.gridLines;var tickOpts=opts.ticks;var valueOrDefault=helpers.valueOrDefault;if(opts.display){var ctx=me.ctx;var startAngle=this.getIndexAngle(0);var tickFontSize=valueOrDefault(tickOpts.fontSize,globalDefaults.defaultFontSize);var tickFontStyle=valueOrDefault(tickOpts.fontStyle,globalDefaults.defaultFontStyle);var tickFontFamily=valueOrDefault(tickOpts.fontFamily,globalDefaults.defaultFontFamily);var tickLabelFont=helpers.fontString(tickFontSize,tickFontStyle,tickFontFamily);helpers.each(me.ticks,function(label,index){if(index>0||tickOpts.reverse){var yCenterOffset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);if(gridLineOpts.display&&index!==0){drawRadiusLine(me,gridLineOpts,yCenterOffset,index)}
if(tickOpts.display){var tickFontColor=valueOrDefault(tickOpts.fontColor,globalDefaults.defaultFontColor);ctx.font=tickLabelFont;ctx.save();ctx.translate(me.xCenter,me.yCenter);ctx.rotate(startAngle);if(tickOpts.showLabelBackdrop){var labelWidth=ctx.measureText(label).width;ctx.fillStyle=tickOpts.backdropColor;ctx.fillRect(-labelWidth/2-tickOpts.backdropPaddingX,-yCenterOffset-tickFontSize/2-tickOpts.backdropPaddingY,labelWidth+tickOpts.backdropPaddingX*2,tickFontSize+tickOpts.backdropPaddingY*2)}
ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillStyle=tickFontColor;ctx.fillText(label,0,-yCenterOffset);ctx.restore()}}});if(opts.angleLines.display||opts.pointLabels.display){drawPointLabels(me)}}}});Chart.scaleService.registerScaleType('radialLinear',LinearRadialScale,defaultConfig)}},{"25":25,"34":34,"45":45}],58:[function(require,module,exports){'use strict';var moment=require(1);moment=typeof moment==='function'?moment:window.moment;var defaults=require(25);var helpers=require(45);var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991;var MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;var INTERVALS={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1000,steps:[1,2,5,10,30]},minute:{common:!0,size:60000,steps:[1,2,5,10,30]},hour:{common:!0,size:3600000,steps:[1,2,3,6,12]},day:{common:!0,size:86400000,steps:[1,2,5]},week:{common:!1,size:604800000,steps:[1,2,3,4]},month:{common:!0,size:2.628e9,steps:[1,2,3]},quarter:{common:!1,size:7.884e9,steps:[1,2,3,4]},year:{common:!0,size:3.154e10}};var UNITS=Object.keys(INTERVALS);function sorter(a,b){return a-b}
function arrayUnique(items){var hash={};var out=[];var i,ilen,item;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];if(!hash[item]){hash[item]=!0;out.push(item)}}
return out}
function buildLookupTable(timestamps,min,max,distribution){if(distribution==='linear'||!timestamps.length){return[{time:min,pos:0},{time:max,pos:1}]}
var table=[];var items=[min];var i,ilen,prev,curr,next;for(i=0,ilen=timestamps.length;i<ilen;++i){curr=timestamps[i];if(curr>min&&curr<max){items.push(curr)}}
items.push(max);for(i=0,ilen=items.length;i<ilen;++i){next=items[i+1];prev=items[i-1];curr=items[i];if(prev===undefined||next===undefined||Math.round((next+prev)/2)!==curr){table.push({time:curr,pos:i/(ilen-1)})}}
return table}
function lookup(table,key,value){var lo=0;var hi=table.length-1;var mid,i0,i1;while(lo>=0&&lo<=hi){mid=(lo+hi)>>1;i0=table[mid-1]||null;i1=table[mid];if(!i0){return{lo:null,hi:i1}}else if(i1[key]<value){lo=mid+1}else if(i0[key]>value){hi=mid-1}else{return{lo:i0,hi:i1}}}
return{lo:i1,hi:null}}
function interpolate(table,skey,sval,tkey){var range=lookup(table,skey,sval);var prev=!range.lo?table[0]:!range.hi?table[table.length-2]:range.lo;var next=!range.lo?table[1]:!range.hi?table[table.length-1]:range.hi;var span=next[skey]-prev[skey];var ratio=span?(sval-prev[skey])/span:0;var offset=(next[tkey]-prev[tkey])*ratio;return prev[tkey]+offset}
function momentify(value,options){var parser=options.parser;var format=options.parser||options.format;if(typeof parser==='function'){return parser(value)}
if(typeof value==='string'&&typeof format==='string'){return moment(value,format)}
if(!(value instanceof moment)){value=moment(value)}
if(value.isValid()){return value}
if(typeof format==='function'){return format(value)}
return value}
function parse(input,scale){if(helpers.isNullOrUndef(input)){return null}
var options=scale.options.time;var value=momentify(scale.getRightValue(input),options);if(!value.isValid()){return null}
if(options.round){value.startOf(options.round)}
return value.valueOf()}
function determineStepSize(min,max,unit,capacity){var range=max-min;var interval=INTERVALS[unit];var milliseconds=interval.size;var steps=interval.steps;var i,ilen,factor;if(!steps){return Math.ceil(range/(capacity*milliseconds))}
for(i=0,ilen=steps.length;i<ilen;++i){factor=steps[i];if(Math.ceil(range/(milliseconds*factor))<=capacity){break}}
return factor}
function determineUnitForAutoTicks(minUnit,min,max,capacity){var ilen=UNITS.length;var i,interval,factor;for(i=UNITS.indexOf(minUnit);i<ilen-1;++i){interval=INTERVALS[UNITS[i]];factor=interval.steps?interval.steps[interval.steps.length-1]:MAX_INTEGER;if(interval.common&&Math.ceil((max-min)/(factor*interval.size))<=capacity){return UNITS[i]}}
return UNITS[ilen-1]}
function determineUnitForFormatting(ticks,minUnit,min,max){var duration=moment.duration(moment(max).diff(moment(min)));var ilen=UNITS.length;var i,unit;for(i=ilen-1;i>=UNITS.indexOf(minUnit);i--){unit=UNITS[i];if(INTERVALS[unit].common&&duration.as(unit)>=ticks.length){return unit}}
return UNITS[minUnit?UNITS.indexOf(minUnit):0]}
function determineMajorUnit(unit){for(var i=UNITS.indexOf(unit)+1,ilen=UNITS.length;i<ilen;++i){if(INTERVALS[UNITS[i]].common){return UNITS[i]}}}
function generate(min,max,capacity,options){var timeOpts=options.time;var minor=timeOpts.unit||determineUnitForAutoTicks(timeOpts.minUnit,min,max,capacity);var major=determineMajorUnit(minor);var stepSize=helpers.valueOrDefault(timeOpts.stepSize,timeOpts.unitStepSize);var weekday=minor==='week'?timeOpts.isoWeekday:!1;var majorTicksEnabled=options.ticks.major.enabled;var interval=INTERVALS[minor];var first=moment(min);var last=moment(max);var ticks=[];var time;if(!stepSize){stepSize=determineStepSize(min,max,minor,capacity)}
if(weekday){first=first.isoWeekday(weekday);last=last.isoWeekday(weekday)}
first=first.startOf(weekday?'day':minor);last=last.startOf(weekday?'day':minor);if(last<max){last.add(1,minor)}
time=moment(first);if(majorTicksEnabled&&major&&!weekday&&!timeOpts.round){time.startOf(major);time.add(~~((first-time)/(interval.size*stepSize))*stepSize,minor)}
for(;time<last;time.add(stepSize,minor)){ticks.push(+time)}
ticks.push(+time);return ticks}
function computeOffsets(table,ticks,min,max,options){var left=0;var right=0;var upper,lower;if(options.offset&&ticks.length){if(!options.time.min){upper=ticks.length>1?ticks[1]:max;lower=ticks[0];left=(interpolate(table,'time',upper,'pos')-interpolate(table,'time',lower,'pos'))/2}
if(!options.time.max){upper=ticks[ticks.length-1];lower=ticks.length>1?ticks[ticks.length-2]:min;right=(interpolate(table,'time',upper,'pos')-interpolate(table,'time',lower,'pos'))/2}}
return{left:left,right:right}}
function ticksFromTimestamps(values,majorUnit){var ticks=[];var i,ilen,value,major;for(i=0,ilen=values.length;i<ilen;++i){value=values[i];major=majorUnit?value===+moment(value).startOf(majorUnit):!1;ticks.push({value:value,major:major})}
return ticks}
function determineLabelFormat(data,timeOpts){var i,momentDate,hasTime;var ilen=data.length;for(i=0;i<ilen;i++){momentDate=momentify(data[i],timeOpts);if(momentDate.millisecond()!==0){return 'MMM D, YYYY h:mm:ss.SSS a'}
if(momentDate.second()!==0||momentDate.minute()!==0||momentDate.hour()!==0){hasTime=!0}}
if(hasTime){return 'MMM D, YYYY h:mm:ss a'}
return 'MMM D, YYYY'}
module.exports=function(Chart){var defaultConfig={position:'bottom',distribution:'linear',bounds:'data',time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:'millisecond',displayFormats:{millisecond:'h:mm:ss.SSS a',second:'h:mm:ss a',minute:'h:mm a',hour:'hA',day:'MMM D',week:'ll',month:'MMM YYYY',quarter:'[Q]Q - YYYY',year:'YYYY'},},ticks:{autoSkip:!1,source:'auto',major:{enabled:!1}}};var TimeScale=Chart.Scale.extend({initialize:function(){if(!moment){throw new Error('Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com')}
this.mergeTicksOptions();Chart.Scale.prototype.initialize.call(this)},update:function(){var me=this;var options=me.options;if(options.time&&options.time.format){console.warn('options.time.format is deprecated and replaced by options.time.parser.')}
return Chart.Scale.prototype.update.apply(me,arguments)},getRightValue:function(rawValue){if(rawValue&&rawValue.t!==undefined){rawValue=rawValue.t}
return Chart.Scale.prototype.getRightValue.call(this,rawValue)},determineDataLimits:function(){var me=this;var chart=me.chart;var timeOpts=me.options.time;var unit=timeOpts.unit||'day';var min=MAX_INTEGER;var max=MIN_INTEGER;var timestamps=[];var datasets=[];var labels=[];var i,j,ilen,jlen,data,timestamp;for(i=0,ilen=chart.data.labels.length;i<ilen;++i){labels.push(parse(chart.data.labels[i],me))}
for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){if(chart.isDatasetVisible(i)){data=chart.data.datasets[i].data;if(helpers.isObject(data[0])){datasets[i]=[];for(j=0,jlen=data.length;j<jlen;++j){timestamp=parse(data[j],me);timestamps.push(timestamp);datasets[i][j]=timestamp}}else{timestamps.push.apply(timestamps,labels);datasets[i]=labels.slice(0)}}else{datasets[i]=[]}}
if(labels.length){labels=arrayUnique(labels).sort(sorter);min=Math.min(min,labels[0]);max=Math.max(max,labels[labels.length-1])}
if(timestamps.length){timestamps=arrayUnique(timestamps).sort(sorter);min=Math.min(min,timestamps[0]);max=Math.max(max,timestamps[timestamps.length-1])}
min=parse(timeOpts.min,me)||min;max=parse(timeOpts.max,me)||max;min=min===MAX_INTEGER?+moment().startOf(unit):min;max=max===MIN_INTEGER?+moment().endOf(unit)+1:max;me.min=Math.min(min,max);me.max=Math.max(min+1,max);me._horizontal=me.isHorizontal();me._table=[];me._timestamps={data:timestamps,datasets:datasets,labels:labels}},buildTicks:function(){var me=this;var min=me.min;var max=me.max;var options=me.options;var timeOpts=options.time;var timestamps=[];var ticks=[];var i,ilen,timestamp;switch(options.ticks.source){case 'data':timestamps=me._timestamps.data;break;case 'labels':timestamps=me._timestamps.labels;break;case 'auto':default:timestamps=generate(min,max,me.getLabelCapacity(min),options)}
if(options.bounds==='ticks'&&timestamps.length){min=timestamps[0];max=timestamps[timestamps.length-1]}
min=parse(timeOpts.min,me)||min;max=parse(timeOpts.max,me)||max;for(i=0,ilen=timestamps.length;i<ilen;++i){timestamp=timestamps[i];if(timestamp>=min&&timestamp<=max){ticks.push(timestamp)}}
me.min=min;me.max=max;me._unit=timeOpts.unit||determineUnitForFormatting(ticks,timeOpts.minUnit,me.min,me.max);me._majorUnit=determineMajorUnit(me._unit);me._table=buildLookupTable(me._timestamps.data,min,max,options.distribution);me._offsets=computeOffsets(me._table,ticks,min,max,options);me._labelFormat=determineLabelFormat(me._timestamps.data,timeOpts);return ticksFromTimestamps(ticks,me._majorUnit)},getLabelForIndex:function(index,datasetIndex){var me=this;var data=me.chart.data;var timeOpts=me.options.time;var label=data.labels&&index<data.labels.length?data.labels[index]:'';var value=data.datasets[datasetIndex].data[index];if(helpers.isObject(value)){label=me.getRightValue(value)}
if(timeOpts.tooltipFormat){return momentify(label,timeOpts).format(timeOpts.tooltipFormat)}
if(typeof label==='string'){return label}
return momentify(label,timeOpts).format(me._labelFormat)},tickFormatFunction:function(tick,index,ticks,formatOverride){var me=this;var options=me.options;var time=tick.valueOf();var formats=options.time.displayFormats;var minorFormat=formats[me._unit];var majorUnit=me._majorUnit;var majorFormat=formats[majorUnit];var majorTime=tick.clone().startOf(majorUnit).valueOf();var majorTickOpts=options.ticks.major;var major=majorTickOpts.enabled&&majorUnit&&majorFormat&&time===majorTime;var label=tick.format(formatOverride?formatOverride:major?majorFormat:minorFormat);var tickOpts=major?majorTickOpts:options.ticks.minor;var formatter=helpers.valueOrDefault(tickOpts.callback,tickOpts.userCallback);return formatter?formatter(label,index,ticks):label},convertTicksToLabels:function(ticks){var labels=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;++i){labels.push(this.tickFormatFunction(moment(ticks[i].value),i,ticks))}
return labels},getPixelForOffset:function(time){var me=this;var size=me._horizontal?me.width:me.height;var start=me._horizontal?me.left:me.top;var pos=interpolate(me._table,'time',time,'pos');return start+size*(me._offsets.left+pos)/(me._offsets.left+1+me._offsets.right)},getPixelForValue:function(value,index,datasetIndex){var me=this;var time=null;if(index!==undefined&&datasetIndex!==undefined){time=me._timestamps.datasets[datasetIndex][index]}
if(time===null){time=parse(value,me)}
if(time!==null){return me.getPixelForOffset(time)}},getPixelForTick:function(index){var ticks=this.getTicks();return index>=0&&index<ticks.length?this.getPixelForOffset(ticks[index].value):null},getValueForPixel:function(pixel){var me=this;var size=me._horizontal?me.width:me.height;var start=me._horizontal?me.left:me.top;var pos=(size?(pixel-start)/size:0)*(me._offsets.left+1+me._offsets.left)-me._offsets.right;var time=interpolate(me._table,'pos',pos,'time');return moment(time)},getLabelWidth:function(label){var me=this;var ticksOpts=me.options.ticks;var tickLabelWidth=me.ctx.measureText(label).width;var angle=helpers.toRadians(ticksOpts.maxRotation);var cosRotation=Math.cos(angle);var sinRotation=Math.sin(angle);var tickFontSize=helpers.valueOrDefault(ticksOpts.fontSize,defaults.global.defaultFontSize);return(tickLabelWidth*cosRotation)+(tickFontSize*sinRotation)},getLabelCapacity:function(exampleTime){var me=this;var formatOverride=me.options.time.displayFormats.millisecond;var exampleLabel=me.tickFormatFunction(moment(exampleTime),0,[],formatOverride);var tickLabelWidth=me.getLabelWidth(exampleLabel);var innerWidth=me.isHorizontal()?me.width:me.height;var capacity=Math.floor(innerWidth/tickLabelWidth);return capacity>0?capacity:1}});Chart.scaleService.registerScaleType('time',TimeScale,defaultConfig)}},{"1":1,"25":25,"45":45}]},{},[7])(7)});(function(window,document,$,undefined){"use strict";window.console=window.console||{info:function(stuff){}};if(!$){return}
if($.fn.fancybox){console.info("fancyBox already initialized");return}
var defaults={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}">'+'<source src="{{src}}" type="{{format}}" />'+'Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!'+"</video>",format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1">'+'<div class="fancybox-bg"></div>'+'<div class="fancybox-inner">'+'<div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>'+'<div class="fancybox-toolbar">{{buttons}}</div>'+'<div class="fancybox-navigation">{{arrows}}</div>'+'<div class="fancybox-stage"></div>'+'<div class="fancybox-caption"></div>'+"</div>"+"</div>",spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg>'+"</a>",zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg>'+"</button>",close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg>'+"</button>",arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}">'+'<div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div>'+"</button>",arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}">'+'<div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div>'+"</button>",smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}">'+'<svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg>'+"</button>"},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3000},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeClose:$.noop,afterClose:$.noop,onActivate:$.noop,onDeactivate:$.noop,clickContent:function(current,event){return current.type==="image"?"zoom":!1},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(current,event){return current.type==="image"?"toggleControls":!1},clickSlide:function(current,event){return current.type==="image"?"toggleControls":"close"},dblclickContent:function(current,event){return current.type==="image"?"zoom":!1},dblclickSlide:function(current,event){return current.type==="image"?"zoom":!1}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Mastab"}}};var $W=$(window);var $D=$(document);var called=0;var isQuery=function(obj){return obj&&obj.hasOwnProperty&&obj instanceof $};var requestAFrame=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000/60)})})();var cancelAFrame=(function(){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(id){window.clearTimeout(id)})})();var transitionEnd=(function(){var el=document.createElement("fakeelement"),t;var transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions){if(el.style[t]!==undefined){return transitions[t]}}
return "transitionend"})();var forceRedraw=function($el){return $el&&$el.length&&$el[0].offsetHeight};var mergeOpts=function(opts1,opts2){var rez=$.extend(!0,{},opts1,opts2);$.each(opts2,function(key,value){if($.isArray(value)){rez[key]=value}});return rez};var inViewport=function(elem){var elemCenter,rez;if(!elem||elem.ownerDocument!==document){return!1}
$(".fancybox-container").css("pointer-events","none");elemCenter={x:elem.getBoundingClientRect().left+elem.offsetWidth/2,y:elem.getBoundingClientRect().top+elem.offsetHeight/2};rez=document.elementFromPoint(elemCenter.x,elemCenter.y)===elem;$(".fancybox-container").css("pointer-events","");return rez};var FancyBox=function(content,opts,index){var self=this;self.opts=mergeOpts({index:index},$.fancybox.defaults);if($.isPlainObject(opts)){self.opts=mergeOpts(self.opts,opts)}
if($.fancybox.isMobile){self.opts=mergeOpts(self.opts,self.opts.mobile)}
self.id=self.opts.id||++called;self.currIndex=parseInt(self.opts.index,10)||0;self.prevIndex=null;self.prevPos=null;self.currPos=0;self.firstRun=!0;self.group=[];self.slides={};self.addContent(content);if(!self.group.length){return}
self.init()};$.extend(FancyBox.prototype,{init:function(){var self=this,firstItem=self.group[self.currIndex],firstItemOpts=firstItem.opts,$container,buttonStr;if(firstItemOpts.closeExisting){$.fancybox.close(!0)}
$("body").addClass("fancybox-active");if(!$.fancybox.getInstance()&&firstItemOpts.hideScrollbar!==!1&&!$.fancybox.isMobile&&document.body.scrollHeight>window.innerHeight){$("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(window.innerWidth-document.documentElement.clientWidth)+"px;}</style>");$("body").addClass("compensate-for-scrollbar")}
buttonStr="";$.each(firstItemOpts.buttons,function(index,value){buttonStr+=firstItemOpts.btnTpl[value]||""});$container=$(self.translate(self,firstItemOpts.baseTpl.replace("{{buttons}}",buttonStr).replace("{{arrows}}",firstItemOpts.btnTpl.arrowLeft+firstItemOpts.btnTpl.arrowRight))).attr("id","fancybox-container-"+self.id).addClass(firstItemOpts.baseClass).data("FancyBox",self).appendTo(firstItemOpts.parentEl);self.$refs={container:$container};["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(item){self.$refs[item]=$container.find(".fancybox-"+item)});self.trigger("onInit");self.activate();self.jumpTo(self.currIndex)},translate:function(obj,str){var arr=obj.opts.i18n[obj.opts.lang]||obj.opts.i18n.en;return str.replace(/\{\{(\w+)\}\}/g,function(match,n){var value=arr[n];if(value===undefined){return match}
return value})},addContent:function(content){var self=this,items=$.makeArray(content),thumbs;$.each(items,function(i,item){var obj={},opts={},$item,type,found,src,srcParts;if($.isPlainObject(item)){obj=item;opts=item.opts||item}else if($.type(item)==="object"&&$(item).length){$item=$(item);opts=$item.data()||{};opts=$.extend(!0,{},opts,opts.options);opts.$orig=$item;obj.src=self.opts.src||opts.src||$item.attr("href");if(!obj.type&&!obj.src){obj.type="inline";obj.src=item}}else{obj={type:"html",src:item+""}}
obj.opts=$.extend(!0,{},self.opts,opts);if($.isArray(opts.buttons)){obj.opts.buttons=opts.buttons}
if($.fancybox.isMobile&&obj.opts.mobile){obj.opts=mergeOpts(obj.opts,obj.opts.mobile)}
type=obj.type||obj.opts.type;src=obj.src||"";if(!type&&src){if((found=src.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))){type="video";if(!obj.opts.video.format){obj.opts.video.format="video/"+(found[1]==="ogv"?"ogg":found[1])}}else if(src.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)){type="image"}else if(src.match(/\.(pdf)((\?|#).*)?$/i)){type="iframe";obj=$.extend(!0,obj,{contentType:"pdf",opts:{iframe:{preload:!1}}})}else if(src.charAt(0)==="#"){type="inline"}}
if(type){obj.type=type}else{self.trigger("objectNeedsType",obj)}
if(!obj.contentType){obj.contentType=$.inArray(obj.type,["html","inline","ajax"])>-1?"html":obj.type}
obj.index=self.group.length;if(obj.opts.smallBtn=="auto"){obj.opts.smallBtn=$.inArray(obj.type,["html","inline","ajax"])>-1}
if(obj.opts.toolbar==="auto"){obj.opts.toolbar=!obj.opts.smallBtn}
obj.$thumb=obj.opts.$thumb||null;if(obj.opts.$trigger&&obj.index===self.opts.index){obj.$thumb=obj.opts.$trigger.find("img:first");if(obj.$thumb.length){obj.opts.$orig=obj.opts.$trigger}}
if(!(obj.$thumb&&obj.$thumb.length)&&obj.opts.$orig){obj.$thumb=obj.opts.$orig.find("img:first")}
if(obj.$thumb&&!obj.$thumb.length){obj.$thumb=null}
obj.thumb=obj.opts.thumb||(obj.$thumb?obj.$thumb[0].src:null);if($.type(obj.opts.caption)==="function"){obj.opts.caption=obj.opts.caption.apply(item,[self,obj])}
if($.type(self.opts.caption)==="function"){obj.opts.caption=self.opts.caption.apply(item,[self,obj])}
if(!(obj.opts.caption instanceof $)){obj.opts.caption=obj.opts.caption===undefined?"":obj.opts.caption+""}
if(obj.type==="ajax"){srcParts=src.split(/\s+/,2);if(srcParts.length>1){obj.src=srcParts.shift();obj.opts.filter=srcParts.shift()}}
if(obj.opts.modal){obj.opts=$.extend(!0,obj.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})}
self.group.push(obj)});if(Object.keys(self.slides).length){self.updateControls();thumbs=self.Thumbs;if(thumbs&&thumbs.isActive){thumbs.create();thumbs.focus()}}},addEvents:function(){var self=this;self.removeEvents();self.$refs.container.on("click.fb-close","[data-fancybox-close]",function(e){e.stopPropagation();e.preventDefault();self.close(e)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(e){e.stopPropagation();e.preventDefault();self.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(e){e.stopPropagation();e.preventDefault();self.next()}).on("click.fb","[data-fancybox-zoom]",function(e){self[self.isScaledDown()?"scaleToActual":"scaleToFit"]()});$W.on("orientationchange.fb resize.fb",function(e){if(e&&e.originalEvent&&e.originalEvent.type==="resize"){if(self.requestId){cancelAFrame(self.requestId)}
self.requestId=requestAFrame(function(){self.update(e)})}else{if(self.current&&self.current.type==="iframe"){self.$refs.stage.hide()}
setTimeout(function(){self.$refs.stage.show();self.update(e)},$.fancybox.isMobile?600:250)}});$D.on("keydown.fb",function(e){var instance=$.fancybox?$.fancybox.getInstance():null,current=instance.current,keycode=e.keyCode||e.which;if(keycode==9){if(current.opts.trapFocus){self.focus(e)}
return}
if(!current.opts.keyboard||e.ctrlKey||e.altKey||e.shiftKey||$(e.target).is("input")||$(e.target).is("textarea")){return}
if(keycode===8||keycode===27){e.preventDefault();self.close(e);return}
if(keycode===37||keycode===38){e.preventDefault();self.previous();return}
if(keycode===39||keycode===40){e.preventDefault();self.next();return}
self.trigger("afterKeydown",e,keycode)});if(self.group[self.currIndex].opts.idleTime){self.idleSecondsCounter=0;$D.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(e){self.idleSecondsCounter=0;if(self.isIdle){self.showControls()}
self.isIdle=!1});self.idleInterval=window.setInterval(function(){self.idleSecondsCounter++;if(self.idleSecondsCounter>=self.group[self.currIndex].opts.idleTime&&!self.isDragging){self.isIdle=!0;self.idleSecondsCounter=0;self.hideControls()}},1000)}},removeEvents:function(){var self=this;$W.off("orientationchange.fb resize.fb");$D.off("keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next");if(self.idleInterval){window.clearInterval(self.idleInterval);self.idleInterval=null}},previous:function(duration){return this.jumpTo(this.currPos-1,duration)},next:function(duration){return this.jumpTo(this.currPos+1,duration)},jumpTo:function(pos,duration){var self=this,groupLen=self.group.length,firstRun,isMoved,loop,current,previous,slidePos,stagePos,prop,diff;if(self.isDragging||self.isClosing||(self.isAnimating&&self.firstRun)){return}
pos=parseInt(pos,10);loop=self.current?self.current.opts.loop:self.opts.loop;if(!loop&&(pos<0||pos>=groupLen)){return!1}
firstRun=self.firstRun=!Object.keys(self.slides).length;previous=self.current;self.prevIndex=self.currIndex;self.prevPos=self.currPos;current=self.createSlide(pos);if(groupLen>1){if(loop||current.index<groupLen-1){self.createSlide(pos+1)}
if(loop||current.index>0){self.createSlide(pos-1)}}
self.current=current;self.currIndex=current.index;self.currPos=current.pos;self.trigger("beforeShow",firstRun);self.updateControls();current.forcedDuration=undefined;if($.isNumeric(duration)){current.forcedDuration=duration}else{duration=current.opts[firstRun?"animationDuration":"transitionDuration"]}
duration=parseInt(duration,10);isMoved=self.isMoved(current);current.$slide.addClass("fancybox-slide--current");if(firstRun){if(current.opts.animationEffect&&duration){self.$refs.container.css("transition-duration",duration+"ms")}
self.$refs.container.addClass("fancybox-is-open").trigger("focus");self.loadSlide(current);self.preload("image");return}
slidePos=$.fancybox.getTranslate(previous.$slide);stagePos=$.fancybox.getTranslate(self.$refs.stage);$.each(self.slides,function(index,slide){$.fancybox.stop(slide.$slide,!0)});if(previous.pos!==current.pos){previous.isComplete=!1}
previous.$slide.removeClass("fancybox-slide--complete fancybox-slide--current");if(isMoved){diff=slidePos.left-(previous.pos*slidePos.width+previous.pos*previous.opts.gutter);$.each(self.slides,function(index,slide){slide.$slide.removeClass("fancybox-animated").removeClass(function(index,className){return(className.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var leftPos=slide.pos*slidePos.width+slide.pos*slide.opts.gutter;$.fancybox.setTranslate(slide.$slide,{top:0,left:leftPos-stagePos.left+diff});if(slide.pos!==current.pos){slide.$slide.addClass("fancybox-slide--"+(slide.pos>current.pos?"next":"previous"))}
forceRedraw(slide.$slide);$.fancybox.animate(slide.$slide,{top:0,left:(slide.pos-current.pos)*slidePos.width+(slide.pos-current.pos)*slide.opts.gutter},duration,function(){slide.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous");if(slide.pos===self.currPos){self.complete()}})})}else if(duration&&current.opts.transitionEffect){prop="fancybox-animated fancybox-fx-"+current.opts.transitionEffect;previous.$slide.addClass("fancybox-slide--"+(previous.pos>current.pos?"next":"previous"));$.fancybox.animate(previous.$slide,prop,duration,function(){previous.$slide.removeClass(prop).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)}
if(current.isLoaded){self.revealContent(current)}else{self.loadSlide(current)}
self.preload("image")},createSlide:function(pos){var self=this,$slide,index;index=pos%self.group.length;index=index<0?self.group.length+index:index;if(!self.slides[pos]&&self.group[index]){$slide=$('<div class="fancybox-slide"></div>').appendTo(self.$refs.stage);self.slides[pos]=$.extend(!0,{},self.group[index],{pos:pos,$slide:$slide,isLoaded:!1});self.updateSlide(self.slides[pos])}
return self.slides[pos]},scaleToActual:function(x,y,duration){var self=this,current=self.current,$content=current.$content,canvasWidth=$.fancybox.getTranslate(current.$slide).width,canvasHeight=$.fancybox.getTranslate(current.$slide).height,newImgWidth=current.width,newImgHeight=current.height,imgPos,posX,posY,scaleX,scaleY;if(self.isAnimating||self.isMoved()||!$content||!(current.type=="image"&&current.isLoaded&&!current.hasError)){return}
self.isAnimating=!0;$.fancybox.stop($content);x=x===undefined?canvasWidth*0.5:x;y=y===undefined?canvasHeight*0.5:y;imgPos=$.fancybox.getTranslate($content);imgPos.top-=$.fancybox.getTranslate(current.$slide).top;imgPos.left-=$.fancybox.getTranslate(current.$slide).left;scaleX=newImgWidth/imgPos.width;scaleY=newImgHeight/imgPos.height;posX=canvasWidth*0.5-newImgWidth*0.5;posY=canvasHeight*0.5-newImgHeight*0.5;if(newImgWidth>canvasWidth){posX=imgPos.left*scaleX-(x*scaleX-x);if(posX>0){posX=0}
if(posX<canvasWidth-newImgWidth){posX=canvasWidth-newImgWidth}}
if(newImgHeight>canvasHeight){posY=imgPos.top*scaleY-(y*scaleY-y);if(posY>0){posY=0}
if(posY<canvasHeight-newImgHeight){posY=canvasHeight-newImgHeight}}
self.updateCursor(newImgWidth,newImgHeight);$.fancybox.animate($content,{top:posY,left:posX,scaleX:scaleX,scaleY:scaleY},duration||330,function(){self.isAnimating=!1});if(self.SlideShow&&self.SlideShow.isActive){self.SlideShow.stop()}},scaleToFit:function(duration){var self=this,current=self.current,$content=current.$content,end;if(self.isAnimating||self.isMoved()||!$content||!(current.type=="image"&&current.isLoaded&&!current.hasError)){return}
self.isAnimating=!0;$.fancybox.stop($content);end=self.getFitPos(current);self.updateCursor(end.width,end.height);$.fancybox.animate($content,{top:end.top,left:end.left,scaleX:end.width/$content.width(),scaleY:end.height/$content.height()},duration||330,function(){self.isAnimating=!1})},getFitPos:function(slide){var self=this,$content=slide.$content,$slide=slide.$slide,width=slide.width||slide.opts.width,height=slide.height||slide.opts.height,maxWidth,maxHeight,minRatio,aspectRatio,rez={};if(!slide.isLoaded||!$content||!$content.length){return!1}
maxWidth=$.fancybox.getTranslate(self.$refs.stage).width;maxHeight=$.fancybox.getTranslate(self.$refs.stage).height;maxWidth-=parseFloat($slide.css("paddingLeft"))+parseFloat($slide.css("paddingRight"))+parseFloat($content.css("marginLeft"))+parseFloat($content.css("marginRight"));maxHeight-=parseFloat($slide.css("paddingTop"))+parseFloat($slide.css("paddingBottom"))+parseFloat($content.css("marginTop"))+parseFloat($content.css("marginBottom"));if(!width||!height){width=maxWidth;height=maxHeight}
minRatio=Math.min(1,maxWidth/width,maxHeight/height);width=minRatio*width;height=minRatio*height;if(width>maxWidth-0.5){width=maxWidth}
if(height>maxHeight-0.5){height=maxHeight}
if(slide.type==="image"){rez.top=Math.floor((maxHeight-height)*0.5)+parseFloat($slide.css("paddingTop"));rez.left=Math.floor((maxWidth-width)*0.5)+parseFloat($slide.css("paddingLeft"))}else if(slide.contentType==="video"){aspectRatio=slide.opts.width&&slide.opts.height?width/height:slide.opts.ratio||16/9;if(height>width/aspectRatio){height=width/aspectRatio}else if(width>height*aspectRatio){width=height*aspectRatio}}
rez.width=width;rez.height=height;return rez},update:function(e){var self=this;$.each(self.slides,function(key,slide){self.updateSlide(slide,e)})},updateSlide:function(slide,e){var self=this,$content=slide&&slide.$content,width=slide.width||slide.opts.width,height=slide.height||slide.opts.height,$slide=slide.$slide;self.adjustCaption(slide);if($content&&(width||height||slide.contentType==="video")&&!slide.hasError){$.fancybox.stop($content);$.fancybox.setTranslate($content,self.getFitPos(slide));if(slide.pos===self.currPos){self.isAnimating=!1;self.updateCursor()}}
self.adjustLayout(slide);if($slide.length){$slide.trigger("refresh");if(slide.pos===self.currPos){self.$refs.toolbar.add(self.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",$slide.get(0).scrollHeight>$slide.get(0).clientHeight)}}
self.trigger("onUpdate",slide,e)},centerSlide:function(duration){var self=this,current=self.current,$slide=current.$slide;if(self.isClosing||!current){return}
$slide.siblings().css({transform:"",opacity:""});$slide.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next");$.fancybox.animate($slide,{top:0,left:0,opacity:1},duration===undefined?0:duration,function(){$slide.css({transform:"",opacity:""});if(!current.isComplete){self.complete()}},!1)},isMoved:function(slide){var current=slide||this.current,slidePos,stagePos;if(!current){return!1}
stagePos=$.fancybox.getTranslate(this.$refs.stage);slidePos=$.fancybox.getTranslate(current.$slide);return(!current.$slide.hasClass("fancybox-animated")&&(Math.abs(slidePos.top-stagePos.top)>0.5||Math.abs(slidePos.left-stagePos.left)>0.5))},updateCursor:function(nextWidth,nextHeight){var self=this,current=self.current,$container=self.$refs.container,canPan,isZoomable;if(!current||self.isClosing||!self.Guestures){return}
$container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan");canPan=self.canPan(nextWidth,nextHeight);isZoomable=canPan?!0:self.isZoomable();$container.toggleClass("fancybox-is-zoomable",isZoomable);$("[data-fancybox-zoom]").prop("disabled",!isZoomable);if(canPan){$container.addClass("fancybox-can-pan")}else if(isZoomable&&(current.opts.clickContent==="zoom"||($.isFunction(current.opts.clickContent)&&current.opts.clickContent(current)=="zoom"))){$container.addClass("fancybox-can-zoomIn")}else if(current.opts.touch&&(current.opts.touch.vertical||self.group.length>1)&&current.contentType!=="video"){$container.addClass("fancybox-can-swipe")}},isZoomable:function(){var self=this,current=self.current,fitPos;if(current&&!self.isClosing&&current.type==="image"&&!current.hasError){if(!current.isLoaded){return!0}
fitPos=self.getFitPos(current);if(fitPos&&(current.width>fitPos.width||current.height>fitPos.height)){return!0}}
return!1},isScaledDown:function(nextWidth,nextHeight){var self=this,rez=!1,current=self.current,$content=current.$content;if(nextWidth!==undefined&&nextHeight!==undefined){rez=nextWidth<current.width&&nextHeight<current.height}else if($content){rez=$.fancybox.getTranslate($content);rez=rez.width<current.width&&rez.height<current.height}
return rez},canPan:function(nextWidth,nextHeight){var self=this,current=self.current,pos=null,rez=!1;if(current.type==="image"&&(current.isComplete||(nextWidth&&nextHeight))&&!current.hasError){rez=self.getFitPos(current);if(nextWidth!==undefined&&nextHeight!==undefined){pos={width:nextWidth,height:nextHeight}}else if(current.isComplete){pos=$.fancybox.getTranslate(current.$content)}
if(pos&&rez){rez=Math.abs(pos.width-rez.width)>1.5||Math.abs(pos.height-rez.height)>1.5}}
return rez},loadSlide:function(slide){var self=this,type,$slide,ajaxLoad;if(slide.isLoading||slide.isLoaded){return}
slide.isLoading=!0;if(self.trigger("beforeLoad",slide)===!1){slide.isLoading=!1;return!1}
type=slide.type;$slide=slide.$slide;$slide.off("refresh").trigger("onReset").addClass(slide.opts.slideClass);switch(type){case "image":self.setImage(slide);break;case "iframe":self.setIframe(slide);break;case "html":self.setContent(slide,slide.src||slide.content);break;case "video":self.setContent(slide,slide.opts.video.tpl.replace(/\{\{src\}\}/gi,slide.src).replace("{{format}}",slide.opts.videoFormat||slide.opts.video.format||"").replace("{{poster}}",slide.thumb||""));break;case "inline":if($(slide.src).length){self.setContent(slide,$(slide.src))}else{self.setError(slide)}
break;case "ajax":self.showLoading(slide);ajaxLoad=$.ajax($.extend({},slide.opts.ajax.settings,{url:slide.src,success:function(data,textStatus){if(textStatus==="success"){self.setContent(slide,data)}},error:function(jqXHR,textStatus){if(jqXHR&&textStatus!=="abort"){self.setError(slide)}}}));$slide.one("onReset",function(){ajaxLoad.abort()});break;default:self.setError(slide);break}
return!0},setImage:function(slide){var self=this,ghost;setTimeout(function(){var $img=slide.$image;if(!self.isClosing&&slide.isLoading&&(!$img||!$img.length||!$img[0].complete)&&!slide.hasError){self.showLoading(slide)}},50);self.checkSrcset(slide);slide.$content=$('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(slide.$slide.addClass("fancybox-slide--image"));if(slide.opts.preload!==!1&&slide.opts.width&&slide.opts.height&&slide.thumb){slide.width=slide.opts.width;slide.height=slide.opts.height;ghost=document.createElement("img");ghost.onerror=function(){$(this).remove();slide.$ghost=null};ghost.onload=function(){self.afterLoad(slide)};slide.$ghost=$(ghost).addClass("fancybox-image").appendTo(slide.$content).attr("src",slide.thumb)}
self.setBigImage(slide)},checkSrcset:function(slide){var srcset=slide.opts.srcset||slide.opts.image.srcset,found,temp,pxRatio,windowWidth;if(srcset){pxRatio=window.devicePixelRatio||1;windowWidth=window.innerWidth*pxRatio;temp=srcset.split(",").map(function(el){var ret={};el.trim().split(/\s+/).forEach(function(el,i){var value=parseInt(el.substring(0,el.length-1),10);if(i===0){return(ret.url=el)}
if(value){ret.value=value;ret.postfix=el[el.length-1]}});return ret});temp.sort(function(a,b){return a.value-b.value});for(var j=0;j<temp.length;j++){var el=temp[j];if((el.postfix==="w"&&el.value>=windowWidth)||(el.postfix==="x"&&el.value>=pxRatio)){found=el;break}}
if(!found&&temp.length){found=temp[temp.length-1]}
if(found){slide.src=found.url;if(slide.width&&slide.height&&found.postfix=="w"){slide.height=(slide.width/slide.height)*found.value;slide.width=found.value}
slide.opts.srcset=srcset}}},setBigImage:function(slide){var self=this,img=document.createElement("img"),$img=$(img);slide.$image=$img.one("error",function(){self.setError(slide)}).one("load",function(){var sizes;if(!slide.$ghost){self.resolveImageSlideSize(slide,this.naturalWidth,this.naturalHeight);self.afterLoad(slide)}
if(self.isClosing){return}
if(slide.opts.srcset){sizes=slide.opts.sizes;if(!sizes||sizes==="auto"){sizes=(slide.width/slide.height>1&&$W.width()/$W.height()>1?"100":Math.round((slide.width/slide.height)*100))+"vw"}
$img.attr("sizes",sizes).attr("srcset",slide.opts.srcset)}
if(slide.$ghost){setTimeout(function(){if(slide.$ghost&&!self.isClosing){slide.$ghost.hide()}},Math.min(300,Math.max(1000,slide.height/1600)))}
self.hideLoading(slide)}).addClass("fancybox-image").attr("src",slide.src).appendTo(slide.$content);if((img.complete||img.readyState=="complete")&&$img.naturalWidth&&$img.naturalHeight){$img.trigger("load")}else if(img.error){$img.trigger("error")}},resolveImageSlideSize:function(slide,imgWidth,imgHeight){var maxWidth=parseInt(slide.opts.width,10),maxHeight=parseInt(slide.opts.height,10);slide.width=imgWidth;slide.height=imgHeight;if(maxWidth>0){slide.width=maxWidth;slide.height=Math.floor((maxWidth*imgHeight)/imgWidth)}
if(maxHeight>0){slide.width=Math.floor((maxHeight*imgWidth)/imgHeight);slide.height=maxHeight}},setIframe:function(slide){var self=this,opts=slide.opts.iframe,$slide=slide.$slide,$iframe;if($.fancybox.isMobile){opts.css.overflow="scroll"}
slide.$content=$('<div class="fancybox-content'+(opts.preload?" fancybox-is-hidden":"")+'"></div>').css(opts.css).appendTo($slide);$slide.addClass("fancybox-slide--"+slide.contentType);slide.$iframe=$iframe=$(opts.tpl.replace(/\{rnd\}/g,new Date().getTime())).attr(opts.attr).appendTo(slide.$content);if(opts.preload){self.showLoading(slide);$iframe.on("load.fb error.fb",function(e){this.isReady=1;slide.$slide.trigger("refresh");self.afterLoad(slide)});$slide.on("refresh.fb",function(){var $content=slide.$content,frameWidth=opts.css.width,frameHeight=opts.css.height,$contents,$body;if($iframe[0].isReady!==1){return}
try{$contents=$iframe.contents();$body=$contents.find("body")}catch(ignore){}
if($body&&$body.length&&$body.children().length){$slide.css("overflow","visible");$content.css({width:"100%","max-width":"100%",height:"9999px"});if(frameWidth===undefined){frameWidth=Math.ceil(Math.max($body[0].clientWidth,$body.outerWidth(!0)))}
$content.css("width",frameWidth?frameWidth:"").css("max-width","");if(frameHeight===undefined){frameHeight=Math.ceil(Math.max($body[0].clientHeight,$body.outerHeight(!0)))}
$content.css("height",frameHeight?frameHeight:"");$slide.css("overflow","auto")}
$content.removeClass("fancybox-is-hidden")})}else{self.afterLoad(slide)}
$iframe.attr("src",slide.src);$slide.one("onReset",function(){try{$(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(ignore){}
$(this).off("refresh.fb").empty();slide.isLoaded=!1;slide.isRevealed=!1})},setContent:function(slide,content){var self=this;if(self.isClosing){return}
self.hideLoading(slide);if(slide.$content){$.fancybox.stop(slide.$content)}
slide.$slide.empty();if(isQuery(content)&&content.parent().length){if(content.hasClass("fancybox-content")||content.parent().hasClass("fancybox-content")){content.parents(".fancybox-slide").trigger("onReset")}
slide.$placeholder=$("<div>").hide().insertAfter(content);content.css("display","inline-block")}else if(!slide.hasError){if($.type(content)==="string"){content=$("<div>").append($.trim(content)).contents()}
if(slide.opts.filter){content=$("<div>").html(content).find(slide.opts.filter)}}
slide.$slide.one("onReset",function(){$(this).find("video,audio").trigger("pause");if(slide.$placeholder){slide.$placeholder.after(content.removeClass("fancybox-content").hide()).remove();slide.$placeholder=null}
if(slide.$smallBtn){slide.$smallBtn.remove();slide.$smallBtn=null}
if(!slide.hasError){$(this).empty();slide.isLoaded=!1;slide.isRevealed=!1}});$(content).appendTo(slide.$slide);if($(content).is("video,audio")){$(content).addClass("fancybox-video");$(content).wrap("<div></div>");slide.contentType="video";slide.opts.width=slide.opts.width||$(content).attr("width");slide.opts.height=slide.opts.height||$(content).attr("height")}
slide.$content=slide.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first();slide.$content.siblings().hide();if(!slide.$content.length){slide.$content=slide.$slide.wrapInner("<div></div>").children().first()}
slide.$content.addClass("fancybox-content");slide.$slide.addClass("fancybox-slide--"+slide.contentType);self.afterLoad(slide)},setError:function(slide){slide.hasError=!0;slide.$slide.trigger("onReset").removeClass("fancybox-slide--"+slide.contentType).addClass("fancybox-slide--error");slide.contentType="html";this.setContent(slide,this.translate(slide,slide.opts.errorTpl));if(slide.pos===this.currPos){this.isAnimating=!1}},showLoading:function(slide){var self=this;slide=slide||self.current;if(slide&&!slide.$spinner){slide.$spinner=$(self.translate(self,self.opts.spinnerTpl)).appendTo(slide.$slide).hide().fadeIn("fast")}},hideLoading:function(slide){var self=this;slide=slide||self.current;if(slide&&slide.$spinner){slide.$spinner.stop().remove();delete slide.$spinner}},afterLoad:function(slide){var self=this;if(self.isClosing){return}
slide.isLoading=!1;slide.isLoaded=!0;self.trigger("afterLoad",slide);self.hideLoading(slide);if(slide.opts.smallBtn&&(!slide.$smallBtn||!slide.$smallBtn.length)){slide.$smallBtn=$(self.translate(slide,slide.opts.btnTpl.smallBtn)).appendTo(slide.$content)}
if(slide.opts.protect&&slide.$content&&!slide.hasError){slide.$content.on("contextmenu.fb",function(e){if(e.button==2){e.preventDefault()}
return!0});if(slide.type==="image"){$('<div class="fancybox-spaceball"></div>').appendTo(slide.$content)}}
self.adjustCaption(slide);self.adjustLayout(slide);if(slide.pos===self.currPos){self.updateCursor()}
self.revealContent(slide)},adjustCaption:function(slide){var self=this,current=slide||self.current,caption=current.opts.caption,$caption=self.$refs.caption,captionH=!1;if(current.opts.preventCaptionOverlap&&caption&&caption.length){if(current.pos!==self.currPos){$caption=$caption.clone().empty().appendTo($caption.parent());$caption.html(caption);captionH=$caption.outerHeight(!0);$caption.empty().remove()}else if(self.$caption){captionH=self.$caption.outerHeight(!0)}
current.$slide.css("padding-bottom",captionH||"")}},adjustLayout:function(slide){var self=this,current=slide||self.current,scrollHeight,marginBottom,inlinePadding,actualPadding;if(current.isLoaded&&current.opts.disableLayoutFix!==!0){current.$content.css("margin-bottom","");if(current.$content.outerHeight()>current.$slide.height()+0.5){inlinePadding=current.$slide[0].style["padding-bottom"];actualPadding=current.$slide.css("padding-bottom");if(parseFloat(actualPadding)>0){scrollHeight=current.$slide[0].scrollHeight;current.$slide.css("padding-bottom",0);if(Math.abs(scrollHeight-current.$slide[0].scrollHeight)<1){marginBottom=actualPadding}
current.$slide.css("padding-bottom",inlinePadding)}}
current.$content.css("margin-bottom",marginBottom)}},revealContent:function(slide){var self=this,$slide=slide.$slide,end=!1,start=!1,isMoved=self.isMoved(slide),isRevealed=slide.isRevealed,effect,effectClassName,duration,opacity;slide.isRevealed=!0;effect=slide.opts[self.firstRun?"animationEffect":"transitionEffect"];duration=slide.opts[self.firstRun?"animationDuration":"transitionDuration"];duration=parseInt(slide.forcedDuration===undefined?duration:slide.forcedDuration,10);if(isMoved||slide.pos!==self.currPos||!duration){effect=!1}
if(effect==="zoom"){if(slide.pos===self.currPos&&duration&&slide.type==="image"&&!slide.hasError&&(start=self.getThumbPos(slide))){end=self.getFitPos(slide)}else{effect="fade"}}
if(effect==="zoom"){self.isAnimating=!0;end.scaleX=end.width/start.width;end.scaleY=end.height/start.height;opacity=slide.opts.zoomOpacity;if(opacity=="auto"){opacity=Math.abs(slide.width/slide.height-start.width/start.height)>0.1}
if(opacity){start.opacity=0.1;end.opacity=1}
$.fancybox.setTranslate(slide.$content.removeClass("fancybox-is-hidden"),start);forceRedraw(slide.$content);$.fancybox.animate(slide.$content,end,duration,function(){self.isAnimating=!1;self.complete()});return}
self.updateSlide(slide);if(!effect){slide.$content.removeClass("fancybox-is-hidden");if(!isRevealed&&isMoved&&slide.type==="image"&&!slide.hasError){slide.$content.hide().fadeIn("fast")}
if(slide.pos===self.currPos){self.complete()}
return}
$.fancybox.stop($slide);effectClassName="fancybox-slide--"+(slide.pos>=self.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+effect;$slide.addClass(effectClassName).removeClass("fancybox-slide--current");slide.$content.removeClass("fancybox-is-hidden");forceRedraw($slide);if(slide.type!=="image"){slide.$content.hide().show(0)}
$.fancybox.animate($slide,"fancybox-slide--current",duration,function(){$slide.removeClass(effectClassName).css({transform:"",opacity:""});if(slide.pos===self.currPos){self.complete()}},!0)},getThumbPos:function(slide){var rez=!1,$thumb=slide.$thumb,thumbPos,btw,brw,bbw,blw;if(!$thumb||!inViewport($thumb[0])){return!1}
thumbPos=$.fancybox.getTranslate($thumb);btw=parseFloat($thumb.css("border-top-width")||0);brw=parseFloat($thumb.css("border-right-width")||0);bbw=parseFloat($thumb.css("border-bottom-width")||0);blw=parseFloat($thumb.css("border-left-width")||0);rez={top:thumbPos.top+btw,left:thumbPos.left+blw,width:thumbPos.width-brw-blw,height:thumbPos.height-btw-bbw,scaleX:1,scaleY:1};return thumbPos.width>0&&thumbPos.height>0?rez:!1},complete:function(){var self=this,current=self.current,slides={},$el;if(self.isMoved()||!current.isLoaded){return}
if(!current.isComplete){current.isComplete=!0;current.$slide.siblings().trigger("onReset");self.preload("inline");forceRedraw(current.$slide);current.$slide.addClass("fancybox-slide--complete");$.each(self.slides,function(key,slide){if(slide.pos>=self.currPos-1&&slide.pos<=self.currPos+1){slides[slide.pos]=slide}else if(slide){$.fancybox.stop(slide.$slide);slide.$slide.off().remove()}});self.slides=slides}
self.isAnimating=!1;self.updateCursor();self.trigger("afterShow");if(!!current.opts.video.autoStart){current.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){if(this.webkitExitFullscreen){this.webkitExitFullscreen()}
self.next()})}
if(current.opts.autoFocus&&current.contentType==="html"){$el=current.$content.find("input[autofocus]:enabled:visible:first");if($el.length){$el.trigger("focus")}else{self.focus(null,!0)}}
current.$slide.scrollTop(0).scrollLeft(0)},preload:function(type){var self=this,prev,next;if(self.group.length<2){return}
next=self.slides[self.currPos+1];prev=self.slides[self.currPos-1];if(prev&&prev.type===type){self.loadSlide(prev)}
if(next&&next.type===type){self.loadSlide(next)}},focus:function(e,firstRun){var self=this,focusableStr=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(","),focusableItems,focusedItemIndex;if(self.isClosing){return}
if(e||!self.current||!self.current.isComplete){focusableItems=self.$refs.container.find("*:visible")}else{focusableItems=self.current.$slide.find("*:visible"+(firstRun?":not(.fancybox-close-small)":""))}
focusableItems=focusableItems.filter(focusableStr).filter(function(){return $(this).css("visibility")!=="hidden"&&!$(this).hasClass("disabled")});if(focusableItems.length){focusedItemIndex=focusableItems.index(document.activeElement);if(e&&e.shiftKey){if(focusedItemIndex<0||focusedItemIndex==0){e.preventDefault();focusableItems.eq(focusableItems.length-1).trigger("focus")}}else{if(focusedItemIndex<0||focusedItemIndex==focusableItems.length-1){if(e){e.preventDefault()}
focusableItems.eq(0).trigger("focus")}}}else{self.$refs.container.trigger("focus")}},activate:function(){var self=this;$(".fancybox-container").each(function(){var instance=$(this).data("FancyBox");if(instance&&instance.id!==self.id&&!instance.isClosing){instance.trigger("onDeactivate");instance.removeEvents();instance.isVisible=!1}});self.isVisible=!0;if(self.current||self.isIdle){self.update();self.updateControls()}
self.trigger("onActivate");self.addEvents()},close:function(e,d){var self=this,current=self.current,effect,duration,$content,domRect,opacity,start,end;var done=function(){self.cleanUp(e)};if(self.isClosing){return!1}
self.isClosing=!0;if(self.trigger("beforeClose",e)===!1){self.isClosing=!1;requestAFrame(function(){self.update()});return!1}
self.removeEvents();$content=current.$content;effect=current.opts.animationEffect;duration=$.isNumeric(d)?d:effect?current.opts.animationDuration:0;current.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated");if(e!==!0){$.fancybox.stop(current.$slide)}else{effect=!1}
current.$slide.siblings().trigger("onReset").remove();if(duration){self.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",duration+"ms")}
self.hideLoading(current);self.hideControls(!0);self.updateCursor();if(effect==="zoom"&&!($content&&duration&&current.type==="image"&&!self.isMoved()&&!current.hasError&&(end=self.getThumbPos(current)))){effect="fade"}
if(effect==="zoom"){$.fancybox.stop($content);domRect=$.fancybox.getTranslate($content);start={top:domRect.top,left:domRect.left,scaleX:domRect.width/end.width,scaleY:domRect.height/end.height,width:end.width,height:end.height};opacity=current.opts.zoomOpacity;if(opacity=="auto"){opacity=Math.abs(current.width/current.height-end.width/end.height)>0.1}
if(opacity){end.opacity=0}
$.fancybox.setTranslate($content,start);forceRedraw($content);$.fancybox.animate($content,end,duration,done);return!0}
if(effect&&duration){$.fancybox.animate(current.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+effect,duration,done)}else{if(e===!0){setTimeout(done,duration)}else{done()}}
return!0},cleanUp:function(e){var self=this,instance,$focus=self.current.opts.$orig,x,y;self.current.$slide.trigger("onReset");self.$refs.container.empty().remove();self.trigger("afterClose",e);if(!!self.current.opts.backFocus){if(!$focus||!$focus.length||!$focus.is(":visible")){$focus=self.$trigger}
if($focus&&$focus.length){x=window.scrollX;y=window.scrollY;$focus.trigger("focus");$("html, body").scrollTop(y).scrollLeft(x)}}
self.current=null;instance=$.fancybox.getInstance();if(instance){instance.activate()}else{$("body").removeClass("fancybox-active compensate-for-scrollbar");$("#fancybox-style-noscroll").remove()}},trigger:function(name,slide){var args=Array.prototype.slice.call(arguments,1),self=this,obj=slide&&slide.opts?slide:self.current,rez;if(obj){args.unshift(obj)}else{obj=self}
args.unshift(self);if($.isFunction(obj.opts[name])){rez=obj.opts[name].apply(obj,args)}
if(rez===!1){return rez}
if(name==="afterClose"||!self.$refs){$D.trigger(name+".fb",args)}else{self.$refs.container.trigger(name+".fb",args)}},updateControls:function(){var self=this,current=self.current,index=current.index,$container=self.$refs.container,$caption=self.$refs.caption,caption=current.opts.caption;current.$slide.trigger("refresh");self.$caption=caption&&caption.length?$caption.html(caption):null;if(!self.hasHiddenControls&&!self.isIdle){self.showControls()}
$container.find("[data-fancybox-count]").html(self.group.length);$container.find("[data-fancybox-index]").html(index+1);$container.find("[data-fancybox-prev]").prop("disabled",!current.opts.loop&&index<=0);$container.find("[data-fancybox-next]").prop("disabled",!current.opts.loop&&index>=self.group.length-1);if(current.type==="image"){$container.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",current.opts.image.src||current.src).show()}else if(current.opts.toolbar){$container.find("[data-fancybox-download],[data-fancybox-zoom]").hide()}
if($(document.activeElement).is(":hidden,[disabled]")){self.$refs.container.trigger("focus")}},hideControls:function(andCaption){var self=this,arr=["infobar","toolbar","nav"];if(andCaption||!self.current.opts.preventCaptionOverlap){arr.push("caption")}
this.$refs.container.removeClass(arr.map(function(i){return "fancybox-show-"+i}).join(" "));this.hasHiddenControls=!0},showControls:function(){var self=this,opts=self.current?self.current.opts:self.opts,$container=self.$refs.container;self.hasHiddenControls=!1;self.idleSecondsCounter=0;$container.toggleClass("fancybox-show-toolbar",!!(opts.toolbar&&opts.buttons)).toggleClass("fancybox-show-infobar",!!(opts.infobar&&self.group.length>1)).toggleClass("fancybox-show-caption",!!self.$caption).toggleClass("fancybox-show-nav",!!(opts.arrows&&self.group.length>1)).toggleClass("fancybox-is-modal",!!opts.modal)},toggleControls:function(){if(this.hasHiddenControls){this.showControls()}else{this.hideControls()}}});$.fancybox={version:"3.5.2",defaults:defaults,getInstance:function(command){var instance=$('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),args=Array.prototype.slice.call(arguments,1);if(instance instanceof FancyBox){if($.type(command)==="string"){instance[command].apply(instance,args)}else if($.type(command)==="function"){command.apply(instance,args)}
return instance}
return!1},open:function(items,opts,index){return new FancyBox(items,opts,index)},close:function(all){var instance=this.getInstance();if(instance){instance.close();if(all===!0){this.close(all)}}},destroy:function(){this.close(!0);$D.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(function(){var div=document.createElement("div");return(window.getComputedStyle&&window.getComputedStyle(div)&&window.getComputedStyle(div).getPropertyValue("transform")&&!(document.documentMode&&document.documentMode<11))})(),getTranslate:function($el){var domRect;if(!$el||!$el.length){return!1}
domRect=$el[0].getBoundingClientRect();return{top:domRect.top||0,left:domRect.left||0,width:domRect.width,height:domRect.height,opacity:parseFloat($el.css("opacity"))}},setTranslate:function($el,props){var str="",css={};if(!$el||!props){return}
if(props.left!==undefined||props.top!==undefined){str=(props.left===undefined?$el.position().left:props.left)+"px, "+(props.top===undefined?$el.position().top:props.top)+"px";if(this.use3d){str="translate3d("+str+", 0px)"}else{str="translate("+str+")"}}
if(props.scaleX!==undefined&&props.scaleY!==undefined){str+=" scale("+props.scaleX+", "+props.scaleY+")"}else if(props.scaleX!==undefined){str+=" scaleX("+props.scaleX+")"}
if(str.length){css.transform=str}
if(props.opacity!==undefined){css.opacity=props.opacity}
if(props.width!==undefined){css.width=props.width}
if(props.height!==undefined){css.height=props.height}
return $el.css(css)},animate:function($el,to,duration,callback,leaveAnimationName){var self=this,from;if($.isFunction(duration)){callback=duration;duration=null}
self.stop($el);from=self.getTranslate($el);$el.on(transitionEnd,function(e){if(e&&e.originalEvent&&(!$el.is(e.originalEvent.target)||e.originalEvent.propertyName=="z-index")){return}
self.stop($el);if($.isNumeric(duration)){$el.css("transition-duration","")}
if($.isPlainObject(to)){if(to.scaleX!==undefined&&to.scaleY!==undefined){self.setTranslate($el,{top:to.top,left:to.left,width:from.width*to.scaleX,height:from.height*to.scaleY,scaleX:1,scaleY:1})}}else if(leaveAnimationName!==!0){$el.removeClass(to)}
if($.isFunction(callback)){callback(e)}});if($.isNumeric(duration)){$el.css("transition-duration",duration+"ms")}
if($.isPlainObject(to)){if(to.scaleX!==undefined&&to.scaleY!==undefined){delete to.width;delete to.height;if($el.parent().hasClass("fancybox-slide--image")){$el.parent().addClass("fancybox-is-scaling")}}
$.fancybox.setTranslate($el,to)}else{$el.addClass(to)}
$el.data("timer",setTimeout(function(){$el.trigger(transitionEnd)},duration+33))},stop:function($el,callCallback){if($el&&$el.length){clearTimeout($el.data("timer"));if(callCallback){$el.trigger(transitionEnd)}
$el.off(transitionEnd).css("transition-duration","");$el.parent().removeClass("fancybox-is-scaling")}}};function _run(e,opts){var items=[],index=0,$target,value,instance;if(e&&e.isDefaultPrevented()){return}
e.preventDefault();opts=opts||{};if(e&&e.data){opts=mergeOpts(e.data.options,opts)}
$target=opts.$target||$(e.currentTarget).trigger("blur");instance=$.fancybox.getInstance();if(instance&&instance.$trigger&&instance.$trigger.is($target)){return}
if(opts.selector){items=$(opts.selector)}else{value=$target.attr("data-fancybox")||"";if(value){items=e.data?e.data.items:[];items=items.length?items.filter('[data-fancybox="'+value+'"]'):$('[data-fancybox="'+value+'"]')}else{items=[$target]}}
index=$(items).index($target);if(index<0){index=0}
instance=$.fancybox.open(items,opts,index);instance.$trigger=$target}
$.fn.fancybox=function(options){var selector;options=options||{};selector=options.selector||!1;if(selector){$("body").off("click.fb-start",selector).on("click.fb-start",selector,{options:options},_run)}else{this.off("click.fb-start").on("click.fb-start",{items:this,options:options},_run)}
return this};$D.on("click.fb-start","[data-fancybox]",_run);$D.on("click.fb-start","[data-fancybox-trigger]",function(e){$('[data-fancybox="'+$(this).attr("data-fancybox-trigger")+'"]').eq($(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:$(this)})});(function(){var buttonStr=".fancybox-button",focusStr="fancybox-focus",$pressed=null;$D.on("mousedown mouseup focus blur",buttonStr,function(e){switch(e.type){case "mousedown":$pressed=$(this);break;case "mouseup":$pressed=null;break;case "focusin":$(buttonStr).removeClass(focusStr);if(!$(this).is($pressed)&&!$(this).is("[disabled]")){$(this).addClass(focusStr)}
break;case "focusout":$(buttonStr).removeClass(focusStr);break}})})()})(window,document,jQuery);(function($){"use strict";var defaults={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube-nocookie.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(rez){return("//maps.google."+rez[2]+"/?ll="+(rez[9]?rez[9]+"&z="+Math.floor(rez[10])+(rez[12]?rez[12].replace(/^\//,"&"):""):rez[12]+"").replace(/\?/,"&")+"&output="+(rez[12]&&rez[12].indexOf("layer=c")>0?"svembed":"embed"))}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(rez){return "//maps.google."+rez[2]+"/maps?q="+rez[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};var format=function(url,rez,params){if(!url){return}
params=params||"";if($.type(params)==="object"){params=$.param(params,!0)}
$.each(rez,function(key,value){url=url.replace("$"+key,value||"")});if(params.length){url+=(url.indexOf("?")>0?"&":"?")+params}
return url};$(document).on("objectNeedsType.fb",function(e,instance,item){var url=item.src||"",type=!1,media,thumb,rez,params,urlParams,paramObj,provider;media=$.extend(!0,{},defaults,item.opts.media);$.each(media,function(providerName,providerOpts){rez=url.match(providerOpts.matcher);if(!rez){return}
type=providerOpts.type;provider=providerName;paramObj={};if(providerOpts.paramPlace&&rez[providerOpts.paramPlace]){urlParams=rez[providerOpts.paramPlace];if(urlParams[0]=="?"){urlParams=urlParams.substring(1)}
urlParams=urlParams.split("&");for(var m=0;m<urlParams.length;++m){var p=urlParams[m].split("=",2);if(p.length==2){paramObj[p[0]]=decodeURIComponent(p[1].replace(/\+/g," "))}}}
params=$.extend(!0,{},providerOpts.params,item.opts[providerName],paramObj);url=$.type(providerOpts.url)==="function"?providerOpts.url.call(this,rez,params,item):format(providerOpts.url,rez,params);thumb=$.type(providerOpts.thumb)==="function"?providerOpts.thumb.call(this,rez,params,item):format(providerOpts.thumb,rez);if(providerName==="youtube"){url=url.replace(/&t=((\d+)m)?(\d+)s/,function(match,p1,m,s){return "&start="+((m?parseInt(m,10)*60:0)+parseInt(s,10))})}else if(providerName==="vimeo"){url=url.replace("&%23","#")}
return!1});if(type){if(!item.opts.thumb&&!(item.opts.$thumb&&item.opts.$thumb.length)){item.opts.thumb=thumb}
if(type==="iframe"){item.opts=$.extend(!0,item.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})}
$.extend(item,{type:type,src:url,origSrc:item.src,contentSource:provider,contentType:type==="image"?"image":provider=="gmap_place"||provider=="gmap_search"?"map":"video"})}else if(url){item.type=item.opts.defaultType}});var VideoAPILoader={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(vendor){var _this=this,script;if(this[vendor].loaded){setTimeout(function(){_this.done(vendor)});return}
if(this[vendor].loading){return}
this[vendor].loading=!0;script=document.createElement("script");script.type="text/javascript";script.src=this[vendor].src;if(vendor==="youtube"){window.onYouTubeIframeAPIReady=function(){_this[vendor].loaded=!0;_this.done(vendor)}}else{script.onload=function(){_this[vendor].loaded=!0;_this.done(vendor)}}
document.body.appendChild(script)},done:function(vendor){var instance,$el,player;if(vendor==="youtube"){delete window.onYouTubeIframeAPIReady}
instance=$.fancybox.getInstance();if(instance){$el=instance.current.$content.find("iframe");if(vendor==="youtube"&&YT!==undefined&&YT){player=new YT.Player($el.attr("id"),{events:{onStateChange:function(e){if(e.data==0){instance.next()}}}})}else if(vendor==="vimeo"&&Vimeo!==undefined&&Vimeo){player=new Vimeo.Player($el);player.on("ended",function(){instance.next()})}}}};$(document).on({"afterShow.fb":function(e,instance,current){if(instance.group.length>1&&(current.contentSource==="youtube"||current.contentSource==="vimeo")){VideoAPILoader.load(current.contentSource)}}})})(jQuery);(function(window,document,$){"use strict";var requestAFrame=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000/60)})})();var cancelAFrame=(function(){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(id){window.clearTimeout(id)})})();var getPointerXY=function(e){var result=[];e=e.originalEvent||e||window.e;e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var key in e){if(e[key].pageX){result.push({x:e[key].pageX,y:e[key].pageY})}else if(e[key].clientX){result.push({x:e[key].clientX,y:e[key].clientY})}}
return result};var distance=function(point2,point1,what){if(!point1||!point2){return 0}
if(what==="x"){return point2.x-point1.x}else if(what==="y"){return point2.y-point1.y}
return Math.sqrt(Math.pow(point2.x-point1.x,2)+Math.pow(point2.y-point1.y,2))};var isClickable=function($el){if($el.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||$.isFunction($el.get(0).onclick)||$el.data("selectable")){return!0}
for(var i=0,atts=$el[0].attributes,n=atts.length;i<n;i++){if(atts[i].nodeName.substr(0,14)==="data-fancybox-"){return!0}}
return!1};var hasScrollbars=function(el){var overflowY=window.getComputedStyle(el)["overflow-y"],overflowX=window.getComputedStyle(el)["overflow-x"],vertical=(overflowY==="scroll"||overflowY==="auto")&&el.scrollHeight>el.clientHeight,horizontal=(overflowX==="scroll"||overflowX==="auto")&&el.scrollWidth>el.clientWidth;return vertical||horizontal};var isScrollable=function($el){var rez=!1;while(!0){rez=hasScrollbars($el.get(0));if(rez){break}
$el=$el.parent();if(!$el.length||$el.hasClass("fancybox-stage")||$el.is("body")){break}}
return rez};var Guestures=function(instance){var self=this;self.instance=instance;self.$bg=instance.$refs.bg;self.$stage=instance.$refs.stage;self.$container=instance.$refs.container;self.destroy();self.$container.on("touchstart.fb.touch mousedown.fb.touch",$.proxy(self,"ontouchstart"))};Guestures.prototype.destroy=function(){var self=this;self.$container.off(".fb.touch");$(document).off(".fb.touch");if(self.requestId){cancelAFrame(self.requestId);self.requestId=null}
if(self.tapped){clearTimeout(self.tapped);self.tapped=null}};Guestures.prototype.ontouchstart=function(e){var self=this,$target=$(e.target),instance=self.instance,current=instance.current,$slide=current.$slide,$content=current.$content,isTouchDevice=e.type=="touchstart";if(isTouchDevice){self.$container.off("mousedown.fb.touch")}
if(e.originalEvent&&e.originalEvent.button==2){return}
if(!$slide.length||!$target.length||isClickable($target)||isClickable($target.parent())){return}
if(!$target.is("img")&&e.originalEvent.clientX>$target[0].clientWidth+$target.offset().left){return}
if(!current||instance.isAnimating||current.$slide.hasClass("fancybox-animated")){e.stopPropagation();e.preventDefault();return}
self.realPoints=self.startPoints=getPointerXY(e);if(!self.startPoints.length){return}
if(current.touch){e.stopPropagation()}
self.startEvent=e;self.canTap=!0;self.$target=$target;self.$content=$content;self.opts=current.opts.touch;self.isPanning=!1;self.isSwiping=!1;self.isZooming=!1;self.isScrolling=!1;self.canPan=instance.canPan();self.startTime=new Date().getTime();self.distanceX=self.distanceY=self.distance=0;self.canvasWidth=Math.round($slide[0].clientWidth);self.canvasHeight=Math.round($slide[0].clientHeight);self.contentLastPos=null;self.contentStartPos=$.fancybox.getTranslate(self.$content)||{top:0,left:0};self.sliderStartPos=$.fancybox.getTranslate($slide);self.stagePos=$.fancybox.getTranslate(instance.$refs.stage);self.sliderStartPos.top-=self.stagePos.top;self.sliderStartPos.left-=self.stagePos.left;self.contentStartPos.top-=self.stagePos.top;self.contentStartPos.left-=self.stagePos.left;$(document).off(".fb.touch").on(isTouchDevice?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",$.proxy(self,"ontouchend")).on(isTouchDevice?"touchmove.fb.touch":"mousemove.fb.touch",$.proxy(self,"ontouchmove"));if($.fancybox.isMobile){document.addEventListener("scroll",self.onscroll,!0)}
if(!(self.opts||self.canPan)||!($target.is(self.$stage)||self.$stage.find($target).length)){if($target.is(".fancybox-image")){e.preventDefault()}
if(!($.fancybox.isMobile&&$target.hasClass("fancybox-caption"))){return}}
self.isScrollable=isScrollable($target)||isScrollable($target.parent());if(!($.fancybox.isMobile&&self.isScrollable)){e.preventDefault()}
if(self.startPoints.length===1||current.hasError){if(self.canPan){$.fancybox.stop(self.$content);self.isPanning=!0}else{self.isSwiping=!0}
self.$container.addClass("fancybox-is-grabbing")}
if(self.startPoints.length===2&&current.type==="image"&&(current.isLoaded||current.$ghost)){self.canTap=!1;self.isSwiping=!1;self.isPanning=!1;self.isZooming=!0;$.fancybox.stop(self.$content);self.centerPointStartX=(self.startPoints[0].x+self.startPoints[1].x)*0.5-$(window).scrollLeft();self.centerPointStartY=(self.startPoints[0].y+self.startPoints[1].y)*0.5-$(window).scrollTop();self.percentageOfImageAtPinchPointX=(self.centerPointStartX-self.contentStartPos.left)/self.contentStartPos.width;self.percentageOfImageAtPinchPointY=(self.centerPointStartY-self.contentStartPos.top)/self.contentStartPos.height;self.startDistanceBetweenFingers=distance(self.startPoints[0],self.startPoints[1])}};Guestures.prototype.onscroll=function(e){var self=this;self.isScrolling=!0;document.removeEventListener("scroll",self.onscroll,!0)};Guestures.prototype.ontouchmove=function(e){var self=this;if(e.originalEvent.buttons!==undefined&&e.originalEvent.buttons===0){self.ontouchend(e);return}
if(self.isScrolling){self.canTap=!1;return}
self.newPoints=getPointerXY(e);if(!(self.opts||self.canPan)||!self.newPoints.length||!self.newPoints.length){return}
if(!(self.isSwiping&&self.isSwiping===!0)){e.preventDefault()}
self.distanceX=distance(self.newPoints[0],self.startPoints[0],"x");self.distanceY=distance(self.newPoints[0],self.startPoints[0],"y");self.distance=distance(self.newPoints[0],self.startPoints[0]);if(self.distance>0){if(self.isSwiping){self.onSwipe(e)}else if(self.isPanning){self.onPan()}else if(self.isZooming){self.onZoom()}}};Guestures.prototype.onSwipe=function(e){var self=this,instance=self.instance,swiping=self.isSwiping,left=self.sliderStartPos.left||0,angle;if(swiping===!0){if(Math.abs(self.distance)>10){self.canTap=!1;if(instance.group.length<2&&self.opts.vertical){self.isSwiping="y"}else if(instance.isDragging||self.opts.vertical===!1||(self.opts.vertical==="auto"&&$(window).width()>800)){self.isSwiping="x"}else{angle=Math.abs((Math.atan2(self.distanceY,self.distanceX)*180)/Math.PI);self.isSwiping=angle>45&&angle<135?"y":"x"}
if(self.isSwiping==="y"&&$.fancybox.isMobile&&self.isScrollable){self.isScrolling=!0;return}
instance.isDragging=self.isSwiping;self.startPoints=self.newPoints;$.each(instance.slides,function(index,slide){var slidePos,stagePos;$.fancybox.stop(slide.$slide);slidePos=$.fancybox.getTranslate(slide.$slide);stagePos=$.fancybox.getTranslate(instance.$refs.stage);slide.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(index,className){return(className.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});if(slide.pos===instance.current.pos){self.sliderStartPos.top=slidePos.top-stagePos.top;self.sliderStartPos.left=slidePos.left-stagePos.left}
$.fancybox.setTranslate(slide.$slide,{top:slidePos.top-stagePos.top,left:slidePos.left-stagePos.left})});if(instance.SlideShow&&instance.SlideShow.isActive){instance.SlideShow.stop()}}
return}
if(swiping=="x"){if(self.distanceX>0&&(self.instance.group.length<2||(self.instance.current.index===0&&!self.instance.current.opts.loop))){left=left+Math.pow(self.distanceX,0.8)}else if(self.distanceX<0&&(self.instance.group.length<2||(self.instance.current.index===self.instance.group.length-1&&!self.instance.current.opts.loop))){left=left-Math.pow(-self.distanceX,0.8)}else{left=left+self.distanceX}}
self.sliderLastPos={top:swiping=="x"?0:self.sliderStartPos.top+self.distanceY,left:left};if(self.requestId){cancelAFrame(self.requestId);self.requestId=null}
self.requestId=requestAFrame(function(){if(self.sliderLastPos){$.each(self.instance.slides,function(index,slide){var pos=slide.pos-self.instance.currPos;$.fancybox.setTranslate(slide.$slide,{top:self.sliderLastPos.top,left:self.sliderLastPos.left+pos*self.canvasWidth+pos*slide.opts.gutter})});self.$container.addClass("fancybox-is-sliding")}})};Guestures.prototype.onPan=function(){var self=this;if(distance(self.newPoints[0],self.realPoints[0])<($.fancybox.isMobile?10:5)){self.startPoints=self.newPoints;return}
self.canTap=!1;self.contentLastPos=self.limitMovement();if(self.requestId){cancelAFrame(self.requestId)}
self.requestId=requestAFrame(function(){$.fancybox.setTranslate(self.$content,self.contentLastPos)})};Guestures.prototype.limitMovement=function(){var self=this;var canvasWidth=self.canvasWidth;var canvasHeight=self.canvasHeight;var distanceX=self.distanceX;var distanceY=self.distanceY;var contentStartPos=self.contentStartPos;var currentOffsetX=contentStartPos.left;var currentOffsetY=contentStartPos.top;var currentWidth=contentStartPos.width;var currentHeight=contentStartPos.height;var minTranslateX,minTranslateY,maxTranslateX,maxTranslateY,newOffsetX,newOffsetY;if(currentWidth>canvasWidth){newOffsetX=currentOffsetX+distanceX}else{newOffsetX=currentOffsetX}
newOffsetY=currentOffsetY+distanceY;minTranslateX=Math.max(0,canvasWidth*0.5-currentWidth*0.5);minTranslateY=Math.max(0,canvasHeight*0.5-currentHeight*0.5);maxTranslateX=Math.min(canvasWidth-currentWidth,canvasWidth*0.5-currentWidth*0.5);maxTranslateY=Math.min(canvasHeight-currentHeight,canvasHeight*0.5-currentHeight*0.5);if(distanceX>0&&newOffsetX>minTranslateX){newOffsetX=minTranslateX-1+Math.pow(-minTranslateX+currentOffsetX+distanceX,0.8)||0}
if(distanceX<0&&newOffsetX<maxTranslateX){newOffsetX=maxTranslateX+1-Math.pow(maxTranslateX-currentOffsetX-distanceX,0.8)||0}
if(distanceY>0&&newOffsetY>minTranslateY){newOffsetY=minTranslateY-1+Math.pow(-minTranslateY+currentOffsetY+distanceY,0.8)||0}
if(distanceY<0&&newOffsetY<maxTranslateY){newOffsetY=maxTranslateY+1-Math.pow(maxTranslateY-currentOffsetY-distanceY,0.8)||0}
return{top:newOffsetY,left:newOffsetX}};Guestures.prototype.limitPosition=function(newOffsetX,newOffsetY,newWidth,newHeight){var self=this;var canvasWidth=self.canvasWidth;var canvasHeight=self.canvasHeight;if(newWidth>canvasWidth){newOffsetX=newOffsetX>0?0:newOffsetX;newOffsetX=newOffsetX<canvasWidth-newWidth?canvasWidth-newWidth:newOffsetX}else{newOffsetX=Math.max(0,canvasWidth/2-newWidth/2)}
if(newHeight>canvasHeight){newOffsetY=newOffsetY>0?0:newOffsetY;newOffsetY=newOffsetY<canvasHeight-newHeight?canvasHeight-newHeight:newOffsetY}else{newOffsetY=Math.max(0,canvasHeight/2-newHeight/2)}
return{top:newOffsetY,left:newOffsetX}};Guestures.prototype.onZoom=function(){var self=this;var contentStartPos=self.contentStartPos;var currentWidth=contentStartPos.width;var currentHeight=contentStartPos.height;var currentOffsetX=contentStartPos.left;var currentOffsetY=contentStartPos.top;var endDistanceBetweenFingers=distance(self.newPoints[0],self.newPoints[1]);var pinchRatio=endDistanceBetweenFingers/self.startDistanceBetweenFingers;var newWidth=Math.floor(currentWidth*pinchRatio);var newHeight=Math.floor(currentHeight*pinchRatio);var translateFromZoomingX=(currentWidth-newWidth)*self.percentageOfImageAtPinchPointX;var translateFromZoomingY=(currentHeight-newHeight)*self.percentageOfImageAtPinchPointY;var centerPointEndX=(self.newPoints[0].x+self.newPoints[1].x)/2-$(window).scrollLeft();var centerPointEndY=(self.newPoints[0].y+self.newPoints[1].y)/2-$(window).scrollTop();var translateFromTranslatingX=centerPointEndX-self.centerPointStartX;var translateFromTranslatingY=centerPointEndY-self.centerPointStartY;var newOffsetX=currentOffsetX+(translateFromZoomingX+translateFromTranslatingX);var newOffsetY=currentOffsetY+(translateFromZoomingY+translateFromTranslatingY);var newPos={top:newOffsetY,left:newOffsetX,scaleX:pinchRatio,scaleY:pinchRatio};self.canTap=!1;self.newWidth=newWidth;self.newHeight=newHeight;self.contentLastPos=newPos;if(self.requestId){cancelAFrame(self.requestId)}
self.requestId=requestAFrame(function(){$.fancybox.setTranslate(self.$content,self.contentLastPos)})};Guestures.prototype.ontouchend=function(e){var self=this;var swiping=self.isSwiping;var panning=self.isPanning;var zooming=self.isZooming;var scrolling=self.isScrolling;self.endPoints=getPointerXY(e);self.dMs=Math.max(new Date().getTime()-self.startTime,1);self.$container.removeClass("fancybox-is-grabbing");$(document).off(".fb.touch");document.removeEventListener("scroll",self.onscroll,!0);if(self.requestId){cancelAFrame(self.requestId);self.requestId=null}
self.isSwiping=!1;self.isPanning=!1;self.isZooming=!1;self.isScrolling=!1;self.instance.isDragging=!1;if(self.canTap){return self.onTap(e)}
self.speed=100;self.velocityX=(self.distanceX/self.dMs)*0.5;self.velocityY=(self.distanceY/self.dMs)*0.5;if(panning){self.endPanning()}else if(zooming){self.endZooming()}else{self.endSwiping(swiping,scrolling)}
return};Guestures.prototype.endSwiping=function(swiping,scrolling){var self=this,ret=!1,len=self.instance.group.length,distanceX=Math.abs(self.distanceX),canAdvance=swiping=="x"&&len>1&&((self.dMs>130&&distanceX>10)||distanceX>50),speedX=300;self.sliderLastPos=null;if(swiping=="y"&&!scrolling&&Math.abs(self.distanceY)>50){$.fancybox.animate(self.instance.current.$slide,{top:self.sliderStartPos.top+self.distanceY+self.velocityY*150,opacity:0},200);ret=self.instance.close(!0,250)}else if(canAdvance&&self.distanceX>0){ret=self.instance.previous(speedX)}else if(canAdvance&&self.distanceX<0){ret=self.instance.next(speedX)}
if(ret===!1&&(swiping=="x"||swiping=="y")){self.instance.centerSlide(200)}
self.$container.removeClass("fancybox-is-sliding")};Guestures.prototype.endPanning=function(){var self=this,newOffsetX,newOffsetY,newPos;if(!self.contentLastPos){return}
if(self.opts.momentum===!1||self.dMs>350){newOffsetX=self.contentLastPos.left;newOffsetY=self.contentLastPos.top}else{newOffsetX=self.contentLastPos.left+self.velocityX*500;newOffsetY=self.contentLastPos.top+self.velocityY*500}
newPos=self.limitPosition(newOffsetX,newOffsetY,self.contentStartPos.width,self.contentStartPos.height);newPos.width=self.contentStartPos.width;newPos.height=self.contentStartPos.height;$.fancybox.animate(self.$content,newPos,330)};Guestures.prototype.endZooming=function(){var self=this;var current=self.instance.current;var newOffsetX,newOffsetY,newPos,reset;var newWidth=self.newWidth;var newHeight=self.newHeight;if(!self.contentLastPos){return}
newOffsetX=self.contentLastPos.left;newOffsetY=self.contentLastPos.top;reset={top:newOffsetY,left:newOffsetX,width:newWidth,height:newHeight,scaleX:1,scaleY:1};$.fancybox.setTranslate(self.$content,reset);if(newWidth<self.canvasWidth&&newHeight<self.canvasHeight){self.instance.scaleToFit(150)}else if(newWidth>current.width||newHeight>current.height){self.instance.scaleToActual(self.centerPointStartX,self.centerPointStartY,150)}else{newPos=self.limitPosition(newOffsetX,newOffsetY,newWidth,newHeight);$.fancybox.animate(self.$content,newPos,150)}};Guestures.prototype.onTap=function(e){var self=this;var $target=$(e.target);var instance=self.instance;var current=instance.current;var endPoints=(e&&getPointerXY(e))||self.startPoints;var tapX=endPoints[0]?endPoints[0].x-$(window).scrollLeft()-self.stagePos.left:0;var tapY=endPoints[0]?endPoints[0].y-$(window).scrollTop()-self.stagePos.top:0;var where;var process=function(prefix){var action=current.opts[prefix];if($.isFunction(action)){action=action.apply(instance,[current,e])}
if(!action){return}
switch(action){case "close":instance.close(self.startEvent);break;case "toggleControls":instance.toggleControls();break;case "next":instance.next();break;case "nextOrClose":if(instance.group.length>1){instance.next()}else{instance.close(self.startEvent)}
break;case "zoom":if(current.type=="image"&&(current.isLoaded||current.$ghost)){if(instance.canPan()){instance.scaleToFit()}else if(instance.isScaledDown()){instance.scaleToActual(tapX,tapY)}else if(instance.group.length<2){instance.close(self.startEvent)}}
break}};if(e.originalEvent&&e.originalEvent.button==2){return}
if(!$target.is("img")&&tapX>$target[0].clientWidth+$target.offset().left){return}
if($target.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container")){where="Outside"}else if($target.is(".fancybox-slide")){where="Slide"}else if(instance.current.$content&&instance.current.$content.find($target).addBack().filter($target).length){where="Content"}else{return}
if(self.tapped){clearTimeout(self.tapped);self.tapped=null;if(Math.abs(tapX-self.tapX)>50||Math.abs(tapY-self.tapY)>50){return this}
process("dblclick"+where)}else{self.tapX=tapX;self.tapY=tapY;if(current.opts["dblclick"+where]&&current.opts["dblclick"+where]!==current.opts["click"+where]){self.tapped=setTimeout(function(){self.tapped=null;if(!instance.isAnimating){process("click"+where)}},500)}else{process("click"+where)}}
return this};$(document).on("onActivate.fb",function(e,instance){if(instance&&!instance.Guestures){instance.Guestures=new Guestures(instance)}}).on("beforeClose.fb",function(e,instance){if(instance&&instance.Guestures){instance.Guestures.destroy()}})})(window,document,jQuery);(function(document,$){"use strict";$.extend(!0,$.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg>'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg>'+"</button>"},slideShow:{autoStart:!1,speed:3000,progress:!0}});var SlideShow=function(instance){this.instance=instance;this.init()};$.extend(SlideShow.prototype,{timer:null,isActive:!1,$button:null,init:function(){var self=this,instance=self.instance,opts=instance.group[instance.currIndex].opts.slideShow;self.$button=instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){self.toggle()});if(instance.group.length<2||!opts){self.$button.hide()}else if(opts.progress){self.$progress=$('<div class="fancybox-progress"></div>').appendTo(instance.$refs.inner)}},set:function(force){var self=this,instance=self.instance,current=instance.current;if(current&&(force===!0||current.opts.loop||instance.currIndex<instance.group.length-1)){if(self.isActive&&current.contentType!=="video"){if(self.$progress){$.fancybox.animate(self.$progress.show(),{scaleX:1},current.opts.slideShow.speed)}
self.timer=setTimeout(function(){if(!instance.current.opts.loop&&instance.current.index==instance.group.length-1){instance.jumpTo(0)}else{instance.next()}},current.opts.slideShow.speed)}}else{self.stop();instance.idleSecondsCounter=0;instance.showControls()}},clear:function(){var self=this;clearTimeout(self.timer);self.timer=null;if(self.$progress){self.$progress.removeAttr("style").hide()}},start:function(){var self=this,current=self.instance.current;if(current){self.$button.attr("title",(current.opts.i18n[current.opts.lang]||current.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause");self.isActive=!0;if(current.isComplete){self.set(!0)}
self.instance.trigger("onSlideShowChange",!0)}},stop:function(){var self=this,current=self.instance.current;self.clear();self.$button.attr("title",(current.opts.i18n[current.opts.lang]||current.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play");self.isActive=!1;self.instance.trigger("onSlideShowChange",!1);if(self.$progress){self.$progress.removeAttr("style").hide()}},toggle:function(){var self=this;if(self.isActive){self.stop()}else{self.start()}}});$(document).on({"onInit.fb":function(e,instance){if(instance&&!instance.SlideShow){instance.SlideShow=new SlideShow(instance)}},"beforeShow.fb":function(e,instance,current,firstRun){var SlideShow=instance&&instance.SlideShow;if(firstRun){if(SlideShow&&current.opts.slideShow.autoStart){SlideShow.start()}}else if(SlideShow&&SlideShow.isActive){SlideShow.clear()}},"afterShow.fb":function(e,instance,current){var SlideShow=instance&&instance.SlideShow;if(SlideShow&&SlideShow.isActive){SlideShow.set()}},"afterKeydown.fb":function(e,instance,current,keypress,keycode){var SlideShow=instance&&instance.SlideShow;if(SlideShow&&current.opts.slideShow&&(keycode===80||keycode===32)&&!$(document.activeElement).is("button,a,input")){keypress.preventDefault();SlideShow.toggle()}},"beforeClose.fb onDeactivate.fb":function(e,instance){var SlideShow=instance&&instance.SlideShow;if(SlideShow){SlideShow.stop()}}});$(document).on("visibilitychange",function(){var instance=$.fancybox.getInstance(),SlideShow=instance&&instance.SlideShow;if(SlideShow&&SlideShow.isActive){if(document.hidden){SlideShow.clear()}else{SlideShow.set()}}})})(document,jQuery);(function(document,$){"use strict";var fn=(function(){var fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var ret={};for(var i=0;i<fnMap.length;i++){var val=fnMap[i];if(val&&val[1]in document){for(var j=0;j<val.length;j++){ret[fnMap[0][j]]=val[j]}
return ret}}
return!1})();if(fn){var FullScreen={request:function(elem){elem=elem||document.documentElement;elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT)},exit:function(){document[fn.exitFullscreen]()},toggle:function(elem){elem=elem||document.documentElement;if(this.isFullscreen()){this.exit()}else{this.request(elem)}},isFullscreen:function(){return Boolean(document[fn.fullscreenElement])},enabled:function(){return Boolean(document[fn.fullscreenEnabled])}};$.extend(!0,$.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg>'+"</button>"},fullScreen:{autoStart:!1}});$(document).on(fn.fullscreenchange,function(){var isFullscreen=FullScreen.isFullscreen(),instance=$.fancybox.getInstance();if(instance){if(instance.current&&instance.current.type==="image"&&instance.isAnimating){instance.current.$content.css("transition","none");instance.isAnimating=!1;instance.update(!0,!0,0)}
instance.trigger("onFullscreenChange",isFullscreen);instance.$refs.container.toggleClass("fancybox-is-fullscreen",isFullscreen);instance.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!isFullscreen).toggleClass("fancybox-button--fsexit",isFullscreen)}})}
$(document).on({"onInit.fb":function(e,instance){var $container;if(!fn){instance.$refs.toolbar.find("[data-fancybox-fullscreen]").remove();return}
if(instance&&instance.group[instance.currIndex].opts.fullScreen){$container=instance.$refs.container;$container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(e){e.stopPropagation();e.preventDefault();FullScreen.toggle()});if(instance.opts.fullScreen&&instance.opts.fullScreen.autoStart===!0){FullScreen.request()}
instance.FullScreen=FullScreen}else if(instance){instance.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()}},"afterKeydown.fb":function(e,instance,current,keypress,keycode){if(instance&&instance.FullScreen&&keycode===70){keypress.preventDefault();instance.FullScreen.toggle()}},"beforeClose.fb":function(e,instance){if(instance&&instance.FullScreen&&instance.$refs.container.hasClass("fancybox-is-fullscreen")){FullScreen.exit()}}})})(document,jQuery);(function(document,$){"use strict";var CLASS="fancybox-thumbs",CLASS_ACTIVE=CLASS+"-active";$.fancybox.defaults=$.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg>'+"</button>"},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},$.fancybox.defaults);var FancyThumbs=function(instance){this.init(instance)};$.extend(FancyThumbs.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(instance){var self=this,group=instance.group,enabled=0;self.instance=instance;self.opts=group[instance.currIndex].opts.thumbs;instance.Thumbs=self;self.$button=instance.$refs.toolbar.find("[data-fancybox-thumbs]");for(var i=0,len=group.length;i<len;i++){if(group[i].thumb){enabled++}
if(enabled>1){break}}
if(enabled>1&&!!self.opts){self.$button.removeAttr("style").on("click",function(){self.toggle()});self.isActive=!0}else{self.$button.hide()}},create:function(){var self=this,instance=self.instance,parentEl=self.opts.parentEl,list=[],src;if(!self.$grid){self.$grid=$('<div class="'+CLASS+" "+CLASS+"-"+self.opts.axis+'"></div>').appendTo(instance.$refs.container.find(parentEl).addBack().filter(parentEl));self.$grid.on("click","a",function(){instance.jumpTo($(this).attr("data-index"))})}
if(!self.$list){self.$list=$('<div class="'+CLASS+'__list">').appendTo(self.$grid)}
$.each(instance.group,function(i,item){src=item.thumb;if(!src&&item.type==="image"){src=item.src}
list.push('<a href="javascript:;" tabindex="0" data-index="'+i+'"'+(src&&src.length?' style="background-image:url('+src+')"':'class="fancybox-thumbs-missing"')+"></a>")});self.$list[0].innerHTML=list.join("");if(self.opts.axis==="x"){self.$list.width(parseInt(self.$grid.css("padding-right"),10)+instance.group.length*self.$list.children().eq(0).outerWidth(!0))}},focus:function(duration){var self=this,$list=self.$list,$grid=self.$grid,thumb,thumbPos;if(!self.instance.current){return}
thumb=$list.children().removeClass(CLASS_ACTIVE).filter('[data-index="'+self.instance.current.index+'"]').addClass(CLASS_ACTIVE);thumbPos=thumb.position();if(self.opts.axis==="y"&&(thumbPos.top<0||thumbPos.top>$list.height()-thumb.outerHeight())){$list.stop().animate({scrollTop:$list.scrollTop()+thumbPos.top},duration)}else if(self.opts.axis==="x"&&(thumbPos.left<$grid.scrollLeft()||thumbPos.left>$grid.scrollLeft()+($grid.width()-thumb.outerWidth()))){$list.parent().stop().animate({scrollLeft:thumbPos.left},duration)}},update:function(){var that=this;that.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible);if(that.isVisible){if(!that.$grid){that.create()}
that.instance.trigger("onThumbsShow");that.focus(0)}else if(that.$grid){that.instance.trigger("onThumbsHide")}
that.instance.update()},hide:function(){this.isVisible=!1;this.update()},show:function(){this.isVisible=!0;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});$(document).on({"onInit.fb":function(e,instance){var Thumbs;if(instance&&!instance.Thumbs){Thumbs=new FancyThumbs(instance);if(Thumbs.isActive&&Thumbs.opts.autoStart===!0){Thumbs.show()}}},"beforeShow.fb":function(e,instance,item,firstRun){var Thumbs=instance&&instance.Thumbs;if(Thumbs&&Thumbs.isVisible){Thumbs.focus(firstRun?0:250)}},"afterKeydown.fb":function(e,instance,current,keypress,keycode){var Thumbs=instance&&instance.Thumbs;if(Thumbs&&Thumbs.isActive&&keycode===71){keypress.preventDefault();Thumbs.toggle()}},"beforeClose.fb":function(e,instance){var Thumbs=instance&&instance.Thumbs;if(Thumbs&&Thumbs.isVisible&&Thumbs.opts.hideOnClose!==!1){Thumbs.$grid.hide()}}})})(document,jQuery);(function(document,$){"use strict";$.extend(!0,$.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg>'+"</button>"},share:{url:function(instance,item){return((!instance.currentHash&&!(item.type==="inline"||item.type==="html")?item.origSrc||item.src:!1)||window.location)},tpl:'<div class="fancybox-share">'+"<h1>{{SHARE}}</h1>"+"<p>"+'<a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}">'+'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg>'+"<span>Facebook</span>"+"</a>"+'<a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}">'+'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg>'+"<span>Twitter</span>"+"</a>"+'<a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}">'+'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg>'+"<span>Pinterest</span>"+"</a>"+"</p>"+'<p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p>'+"</div>"}});function escapeHtml(string){var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(string).replace(/[&<>"'`=\/]/g,function(s){return entityMap[s]})}
$(document).on("click","[data-fancybox-share]",function(){var instance=$.fancybox.getInstance(),current=instance.current||null,url,tpl;if(!current){return}
if($.type(current.opts.share.url)==="function"){url=current.opts.share.url.apply(current,[instance,current])}
tpl=current.opts.share.tpl.replace(/\{\{media\}\}/g,current.type==="image"?encodeURIComponent(current.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(url)).replace(/\{\{url_raw\}\}/g,escapeHtml(url)).replace(/\{\{descr\}\}/g,instance.$caption?encodeURIComponent(instance.$caption.text()):"");$.fancybox.open({src:instance.translate(instance,tpl),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(shareInstance,shareCurrent){instance.$refs.container.one("beforeClose.fb",function(){shareInstance.close(null,0)});shareCurrent.$content.find(".fancybox-share__button").click(function(){window.open(this.href,"Share","width=550, height=450");return!1})},mobile:{autoFocus:!1}}})})})(document,jQuery);(function(window,document,$){"use strict";if(!$.escapeSelector){$.escapeSelector=function(sel){var rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;var fcssescape=function(ch,asCodePoint){if(asCodePoint){if(ch==="\0"){return "\uFFFD"}
return ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" "}
return "\\"+ch};return(sel+"").replace(rcssescape,fcssescape)}}
function parseUrl(){var hash=window.location.hash.substr(1),rez=hash.split("-"),index=rez.length>1&&/^\+?\d+$/.test(rez[rez.length-1])?parseInt(rez.pop(-1),10)||1:1,gallery=rez.join("-");return{hash:hash,index:index<1?1:index,gallery:gallery}}
function triggerFromUrl(url){if(url.gallery!==""){$("[data-fancybox='"+$.escapeSelector(url.gallery)+"']").eq(url.index-1).focus().trigger("click.fb-start")}}
function getGalleryID(instance){var opts,ret;if(!instance){return!1}
opts=instance.current?instance.current.opts:instance.opts;ret=opts.hash||(opts.$orig?opts.$orig.data("fancybox")||opts.$orig.data("fancybox-trigger"):"");return ret===""?!1:ret}
$(function(){if($.fancybox.defaults.hash===!1){return}
$(document).on({"onInit.fb":function(e,instance){var url,gallery;if(instance.group[instance.currIndex].opts.hash===!1){return}
url=parseUrl();gallery=getGalleryID(instance);if(gallery&&url.gallery&&gallery==url.gallery){instance.currIndex=url.index-1}},"beforeShow.fb":function(e,instance,current,firstRun){var gallery;if(!current||current.opts.hash===!1){return}
gallery=getGalleryID(instance);if(!gallery){return}
instance.currentHash=gallery+(instance.group.length>1?"-"+(current.index+1):"");if(window.location.hash==="#"+instance.currentHash){return}
if(firstRun&&!instance.origHash){instance.origHash=window.location.hash}
if(instance.hashTimer){clearTimeout(instance.hashTimer)}
instance.hashTimer=setTimeout(function(){if("replaceState" in window.history){window.history[firstRun?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+"#"+instance.currentHash);if(firstRun){instance.hasCreatedHistory=!0}}else{window.location.hash=instance.currentHash}
instance.hashTimer=null},300)},"beforeClose.fb":function(e,instance,current){if(current.opts.hash===!1){return}
clearTimeout(instance.hashTimer);if(instance.currentHash&&instance.hasCreatedHistory){window.history.back()}else if(instance.currentHash){if("replaceState" in window.history){window.history.replaceState({},document.title,window.location.pathname+window.location.search+(instance.origHash||""))}else{window.location.hash=instance.origHash}}
instance.currentHash=null}});$(window).on("hashchange.fb",function(){var url=parseUrl(),fb=null;$.each($(".fancybox-container").get().reverse(),function(index,value){var tmp=$(value).data("FancyBox");if(tmp&&tmp.currentHash){fb=tmp;return!1}});if(fb){if(fb.currentHash!==url.gallery+"-"+url.index&&!(url.index===1&&fb.currentHash==url.gallery)){fb.currentHash=null;fb.close()}}else if(url.gallery!==""){triggerFromUrl(url)}});setTimeout(function(){if(!$.fancybox.getInstance()){triggerFromUrl(parseUrl())}},50)})})(window,document,jQuery);(function(document,$){"use strict";var prevTime=new Date().getTime();$(document).on({"onInit.fb":function(e,instance,current){instance.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(e){var current=instance.current,currTime=new Date().getTime();if(instance.group.length<2||current.opts.wheel===!1||(current.opts.wheel==="auto"&&current.type!=="image")){return}
e.preventDefault();e.stopPropagation();if(current.$slide.hasClass("fancybox-animated")){return}
e=e.originalEvent||e;if(currTime-prevTime<250){return}
prevTime=currTime;instance[(-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)<0?"next":"previous"]()})}})})(document,jQuery);(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?factory(exports):typeof define==='function'&&define.amd?define(['exports'],factory):(factory((global.nl={})))}(this,(function(exports){'use strict';var fp=typeof window!=="undefined"&&window.flatpickr!==undefined?window.flatpickr:{l10ns:{}};var Dutch={weekdays:{shorthand:["zo","ma","di","wo","do","vr","za"],longhand:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},months:{shorthand:["jan","feb","mrt","apr","mei","jun","jul","aug","sept","okt","nov","dec"],longhand:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},firstDayOfWeek:1,weekAbbreviation:"wk",rangeSeparator:" tot ",scrollTitle:"Scroll voor volgende / vorige",toggleTitle:"Klik om te wisselen",ordinal:function ordinal(nth){if(nth===1||nth===8||nth>=20)return "ste";return "de"}};fp.l10ns.nl=Dutch;var nl=fp.l10ns;exports.Dutch=Dutch;exports.default=nl;Object.defineProperty(exports,'__esModule',{value:!0})})));(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global.flatpickr=factory())}(this,(function(){'use strict';var pad=function pad(number){return("0"+number).slice(-2)};var int=function int(bool){return bool===!0?1:0};function debounce(func,wait,immediate){if(immediate===void 0){immediate=!1}
var timeout;return function(){var context=this,args=arguments;timeout!==null&&clearTimeout(timeout);timeout=window.setTimeout(function(){timeout=null;if(!immediate)func.apply(context,args)},wait);if(immediate&&!timeout)func.apply(context,args)}}
var arrayify=function arrayify(obj){return obj instanceof Array?obj:[obj]};var do_nothing=function do_nothing(){return undefined};var monthToStr=function monthToStr(monthNumber,shorthand,locale){return locale.months[shorthand?"shorthand":"longhand"][monthNumber]};var revFormat={D:do_nothing,F:function F(dateObj,monthName,locale){dateObj.setMonth(locale.months.longhand.indexOf(monthName))},G:function G(dateObj,hour){dateObj.setHours(parseFloat(hour))},H:function H(dateObj,hour){dateObj.setHours(parseFloat(hour))},J:function J(dateObj,day){dateObj.setDate(parseFloat(day))},K:function K(dateObj,amPM,locale){dateObj.setHours(dateObj.getHours()%12+12*int(new RegExp(locale.amPM[1],"i").test(amPM)))},M:function M(dateObj,shortMonth,locale){dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth))},S:function S(dateObj,seconds){dateObj.setSeconds(parseFloat(seconds))},U:function U(_,unixSeconds){return new Date(parseFloat(unixSeconds)*1000)},W:function W(dateObj,weekNum){var weekNumber=parseInt(weekNum);return new Date(dateObj.getFullYear(),0,2+(weekNumber-1)*7,0,0,0,0)},Y:function Y(dateObj,year){dateObj.setFullYear(parseFloat(year))},Z:function Z(_,ISODate){return new Date(ISODate)},d:function d(dateObj,day){dateObj.setDate(parseFloat(day))},h:function h(dateObj,hour){dateObj.setHours(parseFloat(hour))},i:function i(dateObj,minutes){dateObj.setMinutes(parseFloat(minutes))},j:function j(dateObj,day){dateObj.setDate(parseFloat(day))},l:do_nothing,m:function m(dateObj,month){dateObj.setMonth(parseFloat(month)-1)},n:function n(dateObj,month){dateObj.setMonth(parseFloat(month)-1)},s:function s(dateObj,seconds){dateObj.setSeconds(parseFloat(seconds))},w:do_nothing,y:function y(dateObj,year){dateObj.setFullYear(2000+parseFloat(year))}};var tokenRegex={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",w:"(\\d\\d|\\d)",y:"(\\d{2})"};var formats={Z:function Z(date){return date.toISOString()},D:function D(date,locale,options){return locale.weekdays.shorthand[formats.w(date,locale,options)]},F:function F(date,locale,options){return monthToStr(formats.n(date,locale,options)-1,!1,locale)},G:function G(date,locale,options){return pad(formats.h(date,locale,options))},H:function H(date){return pad(date.getHours())},J:function J(date,locale){return locale.ordinal!==undefined?date.getDate()+locale.ordinal(date.getDate()):date.getDate()},K:function K(date,locale){return locale.amPM[int(date.getHours()>11)]},M:function M(date,locale){return monthToStr(date.getMonth(),!0,locale)},S:function S(date){return pad(date.getSeconds())},U:function U(date){return date.getTime()/1000},W:function W(date,_,options){return options.getWeek(date)},Y:function Y(date){return date.getFullYear()},d:function d(date){return pad(date.getDate())},h:function h(date){return date.getHours()%12?date.getHours()%12:12},i:function i(date){return pad(date.getMinutes())},j:function j(date){return date.getDate()},l:function l(date,locale){return locale.weekdays.longhand[date.getDay()]},m:function m(date){return pad(date.getMonth()+1)},n:function n(date){return date.getMonth()+1},s:function s(date){return date.getSeconds()},w:function w(date){return date.getDay()},y:function y(date){return String(date.getFullYear()).substring(2)}};var english={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function ordinal(nth){var s=nth%100;if(s>3&&s<21)return "th";switch(s%10){case 1:return "st";case 2:return "nd";case 3:return "rd";default:return "th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year"};var createDateFormatter=function createDateFormatter(_ref){var _ref$config=_ref.config,config=_ref$config===void 0?defaults:_ref$config,_ref$l10n=_ref.l10n,l10n=_ref$l10n===void 0?english:_ref$l10n;return function(dateObj,frmt,overrideLocale){var locale=overrideLocale||l10n;if(config.formatDate!==undefined){return config.formatDate(dateObj,frmt,locale)}
return frmt.split("").map(function(c,i,arr){return formats[c]&&arr[i-1]!=="\\"?formats[c](dateObj,locale,config):c!=="\\"?c:""}).join("")}};var createDateParser=function createDateParser(_ref2){var _ref2$config=_ref2.config,config=_ref2$config===void 0?defaults:_ref2$config,_ref2$l10n=_ref2.l10n,l10n=_ref2$l10n===void 0?english:_ref2$l10n;return function(date,givenFormat,timeless,customLocale){if(date!==0&&!date)return undefined;var locale=customLocale||l10n;var parsedDate;var date_orig=date;if(date instanceof Date)parsedDate=new Date(date.getTime());else if(typeof date!=="string"&&date.toFixed!==undefined)parsedDate=new Date(date);else if(typeof date==="string"){var format=givenFormat||(config||defaults).dateFormat;var datestr=String(date).trim();if(datestr==="today"){parsedDate=new Date();timeless=!0}else if(/Z$/.test(datestr)||/GMT$/.test(datestr))parsedDate=new Date(date);else if(config&&config.parseDate)parsedDate=config.parseDate(date,format);else{parsedDate=!config||!config.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0));var matched,ops=[];for(var i=0,matchIndex=0,regexStr="";i<format.length;i++){var token=format[i];var isBackSlash=token==="\\";var escaped=format[i-1]==="\\"||isBackSlash;if(tokenRegex[token]&&!escaped){regexStr+=tokenRegex[token];var match=new RegExp(regexStr).exec(date);if(match&&(matched=!0)){ops[token!=="Y"?"push":"unshift"]({fn:revFormat[token],val:match[++matchIndex]})}}else if(!isBackSlash)regexStr+=".";ops.forEach(function(_ref3){var fn=_ref3.fn,val=_ref3.val;return parsedDate=fn(parsedDate,val,locale)||parsedDate})}
parsedDate=matched?parsedDate:undefined}}
if(!(parsedDate instanceof Date&&!isNaN(parsedDate.getTime()))){config.errorHandler(new Error("Invalid date provided: "+date_orig));return undefined}
if(timeless===!0)parsedDate.setHours(0,0,0,0);return parsedDate}};function compareDates(date1,date2,timeless){if(timeless===void 0){timeless=!0}
if(timeless!==!1){return new Date(date1.getTime()).setHours(0,0,0,0)-new Date(date2.getTime()).setHours(0,0,0,0)}
return date1.getTime()-date2.getTime()}
var getWeek=function getWeek(givenDate){var date=new Date(givenDate.getTime());date.setHours(0,0,0,0);date.setDate(date.getDate()+3-(date.getDay()+6)%7);var week1=new Date(date.getFullYear(),0,4);return 1+Math.round(((date.getTime()-week1.getTime())/86400000-3+(week1.getDay()+6)%7)/7)};var isBetween=function isBetween(ts,ts1,ts2){return ts>Math.min(ts1,ts2)&&ts<Math.max(ts1,ts2)};var duration={DAY:86400000};var HOOKS=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"];var defaults={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window==="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function errorHandler(err){return typeof console!=="undefined"&&console.warn(err)},getWeek:getWeek,hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date(),onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:undefined,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};function toggleClass(elem,className,bool){if(bool===!0)return elem.classList.add(className);elem.classList.remove(className)}
function createElement(tag,className,content){var e=window.document.createElement(tag);className=className||"";content=content||"";e.className=className;if(content!==undefined)e.textContent=content;return e}
function clearNode(node){while(node.firstChild){node.removeChild(node.firstChild)}}
function findParent(node,condition){if(condition(node))return node;else if(node.parentNode)return findParent(node.parentNode,condition);return undefined}
function createNumberInput(inputClassName,opts){var wrapper=createElement("div","numInputWrapper"),numInput=createElement("input","numInput "+inputClassName),arrowUp=createElement("span","arrowUp"),arrowDown=createElement("span","arrowDown");numInput.type="text";numInput.pattern="\\d*";if(opts!==undefined)for(var key in opts){numInput.setAttribute(key,opts[key])}
wrapper.appendChild(numInput);wrapper.appendChild(arrowUp);wrapper.appendChild(arrowDown);return wrapper}
if(typeof Object.assign!=="function"){Object.assign=function(target){if(!target){throw TypeError("Cannot convert undefined or null to object")}
for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}
var _loop=function _loop(){var source=args[_i];if(source){Object.keys(source).forEach(function(key){return target[key]=source[key]})}};for(var _i=0;_i<args.length;_i++){_loop()}
return target}}
var DEBOUNCED_CHANGE_MS=300;function FlatpickrInstance(element,instanceConfig){var self={config:Object.assign({},flatpickr.defaultConfig),l10n:english};self.parseDate=createDateParser({config:self.config,l10n:self.l10n});self._handlers=[];self._bind=bind;self._setHoursFromDate=setHoursFromDate;self._positionCalendar=positionCalendar;self.changeMonth=changeMonth;self.changeYear=changeYear;self.clear=clear;self.close=close;self._createElement=createElement;self.destroy=destroy;self.isEnabled=isEnabled;self.jumpToDate=jumpToDate;self.open=open;self.redraw=redraw;self.set=set;self.setDate=setDate;self.toggle=toggle;function setupHelperFunctions(){self.utils={getDaysInMonth:function getDaysInMonth(month,yr){if(month===void 0){month=self.currentMonth}
if(yr===void 0){yr=self.currentYear}
if(month===1&&(yr%4===0&&yr%100!==0||yr%400===0))return 29;return self.l10n.daysInMonth[month]}}}
function init(){self.element=self.input=element;self.isOpen=!1;parseConfig();setupLocale();setupInputs();setupDates();setupHelperFunctions();if(!self.isMobile)build();bindEvents();if(self.selectedDates.length||self.config.noCalendar){if(self.config.enableTime){setHoursFromDate(self.config.noCalendar?self.latestSelectedDateObj||self.config.minDate:undefined)}
updateValue(!1)}
setCalendarWidth();self.showTimeInput=self.selectedDates.length>0||self.config.noCalendar;var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(!self.isMobile&&isSafari){positionCalendar()}
triggerEvent("onReady")}
function bindToInstance(fn){return fn.bind(self)}
function setCalendarWidth(){var config=self.config;if(config.weekNumbers===!1&&config.showMonths===1)return;else if(config.noCalendar!==!0){window.requestAnimationFrame(function(){self.calendarContainer.style.visibility="hidden";self.calendarContainer.style.display="block";if(self.daysContainer!==undefined){var daysWidth=(self.days.offsetWidth+1)*config.showMonths;self.daysContainer.style.width=daysWidth+"px";self.calendarContainer.style.width=daysWidth+(self.weekWrapper!==undefined?self.weekWrapper.offsetWidth:0)+"px";self.calendarContainer.style.removeProperty("visibility");self.calendarContainer.style.removeProperty("display")}})}}
function updateTime(e){if(self.selectedDates.length===0)return;if(e!==undefined&&e.type!=="blur"){timeWrapper(e)}
var prevValue=self._input.value;setHoursFromInputs();updateValue();if(self._input.value!==prevValue){self._debouncedChange()}}
function ampm2military(hour,amPM){return hour%12+12*int(amPM===self.l10n.amPM[1])}
function military2ampm(hour){switch(hour%24){case 0:case 12:return 12;default:return hour%12}}
function setHoursFromInputs(){if(self.hourElement===undefined||self.minuteElement===undefined)return;var hours=(parseInt(self.hourElement.value.slice(-2),10)||0)%24,minutes=(parseInt(self.minuteElement.value,10)||0)%60,seconds=self.secondElement!==undefined?(parseInt(self.secondElement.value,10)||0)%60:0;if(self.amPM!==undefined){hours=ampm2military(hours,self.amPM.textContent)}
var limitMinHours=self.config.minTime!==undefined||self.config.minDate&&self.minDateHasTime&&self.latestSelectedDateObj&&compareDates(self.latestSelectedDateObj,self.config.minDate,!0)===0;var limitMaxHours=self.config.maxTime!==undefined||self.config.maxDate&&self.maxDateHasTime&&self.latestSelectedDateObj&&compareDates(self.latestSelectedDateObj,self.config.maxDate,!0)===0;if(limitMaxHours){var maxTime=self.config.maxTime!==undefined?self.config.maxTime:self.config.maxDate;hours=Math.min(hours,maxTime.getHours());if(hours===maxTime.getHours())minutes=Math.min(minutes,maxTime.getMinutes());if(minutes===maxTime.getMinutes())seconds=Math.min(seconds,maxTime.getSeconds())}
if(limitMinHours){var minTime=self.config.minTime!==undefined?self.config.minTime:self.config.minDate;hours=Math.max(hours,minTime.getHours());if(hours===minTime.getHours())minutes=Math.max(minutes,minTime.getMinutes());if(minutes===minTime.getMinutes())seconds=Math.max(seconds,minTime.getSeconds())}
setHours(hours,minutes,seconds)}
function setHoursFromDate(dateObj){var date=dateObj||self.latestSelectedDateObj;if(date)setHours(date.getHours(),date.getMinutes(),date.getSeconds())}
function setDefaultHours(){var hours=self.config.defaultHour;var minutes=self.config.defaultMinute;var seconds=self.config.defaultSeconds;if(self.config.minDate!==undefined){var min_hr=self.config.minDate.getHours();var min_minutes=self.config.minDate.getMinutes();hours=Math.max(hours,min_hr);if(hours===min_hr)minutes=Math.max(min_minutes,minutes);if(hours===min_hr&&minutes===min_minutes)seconds=self.config.minDate.getSeconds()}
if(self.config.maxDate!==undefined){var max_hr=self.config.maxDate.getHours();var max_minutes=self.config.maxDate.getMinutes();hours=Math.min(hours,max_hr);if(hours===max_hr)minutes=Math.min(max_minutes,minutes);if(hours===max_hr&&minutes===max_minutes)seconds=self.config.maxDate.getSeconds()}
setHours(hours,minutes,seconds)}
function setHours(hours,minutes,seconds){if(self.latestSelectedDateObj!==undefined){self.latestSelectedDateObj.setHours(hours%24,minutes,seconds||0,0)}
if(!self.hourElement||!self.minuteElement||self.isMobile)return;self.hourElement.value=pad(!self.config.time_24hr?(12+hours)%12+12*int(hours%12===0):hours);self.minuteElement.value=pad(minutes);if(self.amPM!==undefined)self.amPM.textContent=self.l10n.amPM[int(hours>=12)];if(self.secondElement!==undefined)self.secondElement.value=pad(seconds)}
function onYearInput(event){var year=parseInt(event.target.value)+(event.delta||0);if(year/ 1000 > 1 || event.key === "Enter" && !/[^\d]/.test(year.toString())){changeYear(year)}}
function bind(element,event,handler,options){if(event instanceof Array)return event.forEach(function(ev){return bind(element,ev,handler,options)});if(element instanceof Array)return element.forEach(function(el){return bind(el,event,handler,options)});element.addEventListener(event,handler,options);self._handlers.push({element:element,event:event,handler:handler,options:options})}
function onClick(handler){return function(evt){evt.which===1&&handler(evt)}}
function triggerChange(){triggerEvent("onChange")}
function bindEvents(){if(self.config.wrap){["open","close","toggle","clear"].forEach(function(evt){Array.prototype.forEach.call(self.element.querySelectorAll("[data-"+evt+"]"),function(el){return bind(el,"click",self[evt])})})}
if(self.isMobile){setupMobile();return}
var debouncedResize=debounce(onResize,50);self._debouncedChange=debounce(triggerChange,DEBOUNCED_CHANGE_MS);if(self.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent))bind(self.daysContainer,"mouseover",function(e){if(self.config.mode==="range")onMouseOver(e.target)});bind(window.document.body,"keydown",onKeyDown);if(!self.config.static)bind(self._input,"keydown",onKeyDown);if(!self.config.inline&&!self.config.static)bind(window,"resize",debouncedResize);if(window.ontouchstart!==undefined)bind(window.document,"click",documentClick);else bind(window.document,"mousedown",onClick(documentClick));bind(window.document,"focus",documentClick,{capture:!0});if(self.config.clickOpens===!0){bind(self._input,"focus",self.open);bind(self._input,"mousedown",onClick(self.open))}
if(self.daysContainer!==undefined){bind(self.monthNav,"mousedown",onClick(onMonthNavClick));bind(self.monthNav,["keyup","increment"],onYearInput);bind(self.daysContainer,"mousedown",onClick(selectDate))}
if(self.timeContainer!==undefined&&self.minuteElement!==undefined&&self.hourElement!==undefined){var selText=function selText(e){return e.target.select()};bind(self.timeContainer,["increment"],updateTime);bind(self.timeContainer,"blur",updateTime,{capture:!0});bind(self.timeContainer,"mousedown",onClick(timeIncrement));bind([self.hourElement,self.minuteElement],["focus","click"],selText);if(self.secondElement!==undefined)bind(self.secondElement,"focus",function(){return self.secondElement&&self.secondElement.select()});if(self.amPM!==undefined){bind(self.amPM,"mousedown",onClick(function(e){updateTime(e);triggerChange()}))}}}
function jumpToDate(jumpDate){var jumpTo=jumpDate!==undefined?self.parseDate(jumpDate):self.latestSelectedDateObj||(self.config.minDate&&self.config.minDate>self.now?self.config.minDate:self.config.maxDate&&self.config.maxDate<self.now?self.config.maxDate:self.now);try{if(jumpTo!==undefined){self.currentYear=jumpTo.getFullYear();self.currentMonth=jumpTo.getMonth()}}catch(e){e.message="Invalid date supplied: "+jumpTo;self.config.errorHandler(e)}
self.redraw()}
function timeIncrement(e){if(~e.target.className.indexOf("arrow"))incrementNumInput(e,e.target.classList.contains("arrowUp")?1:-1)}
function incrementNumInput(e,delta,inputElem){var target=e&&e.target;var input=inputElem||target&&target.parentNode&&target.parentNode.firstChild;var event=createEvent("increment");event.delta=delta;input&&input.dispatchEvent(event)}
function build(){var fragment=window.document.createDocumentFragment();self.calendarContainer=createElement("div","flatpickr-calendar");self.calendarContainer.tabIndex=-1;if(!self.config.noCalendar){fragment.appendChild(buildMonthNav());self.innerContainer=createElement("div","flatpickr-innerContainer");if(self.config.weekNumbers){var _buildWeeks=buildWeeks(),weekWrapper=_buildWeeks.weekWrapper,weekNumbers=_buildWeeks.weekNumbers;self.innerContainer.appendChild(weekWrapper);self.weekNumbers=weekNumbers;self.weekWrapper=weekWrapper}
self.rContainer=createElement("div","flatpickr-rContainer");self.rContainer.appendChild(buildWeekdays());if(!self.daysContainer){self.daysContainer=createElement("div","flatpickr-days");self.daysContainer.tabIndex=-1}
buildDays();self.rContainer.appendChild(self.daysContainer);self.innerContainer.appendChild(self.rContainer);fragment.appendChild(self.innerContainer)}
if(self.config.enableTime){fragment.appendChild(buildTime())}
toggleClass(self.calendarContainer,"rangeMode",self.config.mode==="range");toggleClass(self.calendarContainer,"animate",self.config.animate===!0);toggleClass(self.calendarContainer,"multiMonth",self.config.showMonths>1);self.calendarContainer.appendChild(fragment);var customAppend=self.config.appendTo!==undefined&&self.config.appendTo.nodeType!==undefined;if(self.config.inline||self.config.static){self.calendarContainer.classList.add(self.config.inline?"inline":"static");if(self.config.inline){if(!customAppend&&self.element.parentNode)self.element.parentNode.insertBefore(self.calendarContainer,self._input.nextSibling);else if(self.config.appendTo!==undefined)self.config.appendTo.appendChild(self.calendarContainer)}
if(self.config.static){var wrapper=createElement("div","flatpickr-wrapper");if(self.element.parentNode)self.element.parentNode.insertBefore(wrapper,self.element);wrapper.appendChild(self.element);if(self.altInput)wrapper.appendChild(self.altInput);wrapper.appendChild(self.calendarContainer)}}
if(!self.config.static&&!self.config.inline)(self.config.appendTo!==undefined?self.config.appendTo:window.document.body).appendChild(self.calendarContainer)}
function createDay(className,date,dayNumber,i){var dateIsEnabled=isEnabled(date,!0),dayElement=createElement("span","flatpickr-day "+className,date.getDate().toString());dayElement.dateObj=date;dayElement.$i=i;dayElement.setAttribute("aria-label",self.formatDate(date,self.config.ariaDateFormat));if(className.indexOf("hidden")===-1&&compareDates(date,self.now)===0){self.todayDateElem=dayElement;dayElement.classList.add("today");dayElement.setAttribute("aria-current","date")}
if(dateIsEnabled){dayElement.tabIndex=-1;if(isDateSelected(date)){dayElement.classList.add("selected");self.selectedDateElem=dayElement;if(self.config.mode==="range"){toggleClass(dayElement,"startRange",self.selectedDates[0]&&compareDates(date,self.selectedDates[0],!0)===0);toggleClass(dayElement,"endRange",self.selectedDates[1]&&compareDates(date,self.selectedDates[1],!0)===0);if(className==="nextMonthDay")dayElement.classList.add("inRange")}}}else{dayElement.classList.add("disabled")}
if(self.config.mode==="range"){if(isDateInRange(date)&&!isDateSelected(date))dayElement.classList.add("inRange")}
if(self.weekNumbers&&self.config.showMonths===1&&className!=="prevMonthDay"&&dayNumber%7===1){self.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+self.config.getWeek(date)+"</span>")}
triggerEvent("onDayCreate",dayElement);return dayElement}
function focusOnDayElem(targetNode){targetNode.focus();if(self.config.mode==="range")onMouseOver(targetNode)}
function getFirstAvailableDay(delta){var startMonth=delta>0?0:self.config.showMonths-1;var endMonth=delta>0?self.config.showMonths:-1;for(var m=startMonth;m!=endMonth;m+=delta){var month=self.daysContainer.children[m];var startIndex=delta>0?0:month.children.length-1;var endIndex=delta>0?month.children.length:-1;for(var i=startIndex;i!=endIndex;i+=delta){var c=month.children[i];if(c.className.indexOf("hidden")===-1&&isEnabled(c.dateObj))return c}}
return undefined}
function getNextAvailableDay(current,delta){var givenMonth=current.className.indexOf("Month")===-1?current.dateObj.getMonth():self.currentMonth;var endMonth=delta>0?self.config.showMonths:-1;var loopDelta=delta>0?1:-1;for(var m=givenMonth-self.currentMonth;m!=endMonth;m+=loopDelta){var month=self.daysContainer.children[m];var startIndex=givenMonth-self.currentMonth===m?current.$i+delta:delta<0?month.children.length-1:0;var numMonthDays=month.children.length;for(var i=startIndex;i>=0&&i<numMonthDays&&i!=(delta>0?numMonthDays:-1);i+=loopDelta){var c=month.children[i];if(c.className.indexOf("hidden")===-1&&isEnabled(c.dateObj)&&Math.abs(current.$i-i)>=Math.abs(delta))return focusOnDayElem(c)}}
self.changeMonth(loopDelta);focusOnDay(getFirstAvailableDay(loopDelta),0);return undefined}
function focusOnDay(current,offset){var dayFocused=isInView(document.activeElement||document.body);var startElem=current!==undefined?current:dayFocused?document.activeElement:self.selectedDateElem!==undefined&&isInView(self.selectedDateElem)?self.selectedDateElem:self.todayDateElem!==undefined&&isInView(self.todayDateElem)?self.todayDateElem:getFirstAvailableDay(offset>0?1:-1);if(startElem===undefined)return self._input.focus();if(!dayFocused)return focusOnDayElem(startElem);getNextAvailableDay(startElem,offset)}
function buildMonthDays(year,month){var firstOfMonth=(new Date(year,month,1).getDay()-self.l10n.firstDayOfWeek+7)%7;var prevMonthDays=self.utils.getDaysInMonth((month-1+12)%12);var daysInMonth=self.utils.getDaysInMonth(month),days=window.document.createDocumentFragment(),isMultiMonth=self.config.showMonths>1,prevMonthDayClass=isMultiMonth?"prevMonthDay hidden":"prevMonthDay",nextMonthDayClass=isMultiMonth?"nextMonthDay hidden":"nextMonthDay";var dayNumber=prevMonthDays+1-firstOfMonth,dayIndex=0;for(;dayNumber<=prevMonthDays;dayNumber++,dayIndex++){days.appendChild(createDay(prevMonthDayClass,new Date(year,month-1,dayNumber),dayNumber,dayIndex))}
for(dayNumber=1;dayNumber<=daysInMonth;dayNumber++,dayIndex++){days.appendChild(createDay("",new Date(year,month,dayNumber),dayNumber,dayIndex))}
for(var dayNum=daysInMonth+1;dayNum<=42-firstOfMonth&&(self.config.showMonths===1||dayIndex%7!==0);dayNum++,dayIndex++){days.appendChild(createDay(nextMonthDayClass,new Date(year,month+1,dayNum%daysInMonth),dayNum,dayIndex))}
var dayContainer=createElement("div","dayContainer");dayContainer.appendChild(days);return dayContainer}
function buildDays(){if(self.daysContainer===undefined){return}
clearNode(self.daysContainer);if(self.weekNumbers)clearNode(self.weekNumbers);var frag=document.createDocumentFragment();for(var i=0;i<self.config.showMonths;i++){var d=new Date(self.currentYear,self.currentMonth,1);d.setMonth(self.currentMonth+i);frag.appendChild(buildMonthDays(d.getFullYear(),d.getMonth()))}
self.daysContainer.appendChild(frag);self.days=self.daysContainer.firstChild;if(self.config.mode==="range"&&self.selectedDates.length===1){onMouseOver()}}
function buildMonth(){var container=createElement("div","flatpickr-month");var monthNavFragment=window.document.createDocumentFragment();var monthElement=createElement("span","cur-month");var yearInput=createNumberInput("cur-year",{tabindex:"-1"});var yearElement=yearInput.getElementsByTagName("input")[0];yearElement.setAttribute("aria-label",self.l10n.yearAriaLabel);if(self.config.minDate)yearElement.setAttribute("data-min",self.config.minDate.getFullYear().toString());if(self.config.maxDate){yearElement.setAttribute("data-max",self.config.maxDate.getFullYear().toString());yearElement.disabled=!!self.config.minDate&&self.config.minDate.getFullYear()===self.config.maxDate.getFullYear()}
var currentMonth=createElement("div","flatpickr-current-month");currentMonth.appendChild(monthElement);currentMonth.appendChild(yearInput);monthNavFragment.appendChild(currentMonth);container.appendChild(monthNavFragment);return{container:container,yearElement:yearElement,monthElement:monthElement}}
function buildMonths(){clearNode(self.monthNav);self.monthNav.appendChild(self.prevMonthNav);for(var m=self.config.showMonths;m--;){var month=buildMonth();self.yearElements.push(month.yearElement);self.monthElements.push(month.monthElement);self.monthNav.appendChild(month.container)}
self.monthNav.appendChild(self.nextMonthNav)}
function buildMonthNav(){self.monthNav=createElement("div","flatpickr-months");self.yearElements=[];self.monthElements=[];self.prevMonthNav=createElement("span","flatpickr-prev-month");self.prevMonthNav.innerHTML=self.config.prevArrow;self.nextMonthNav=createElement("span","flatpickr-next-month");self.nextMonthNav.innerHTML=self.config.nextArrow;buildMonths();Object.defineProperty(self,"_hidePrevMonthArrow",{get:function get(){return self.__hidePrevMonthArrow},set:function set(bool){if(self.__hidePrevMonthArrow!==bool){toggleClass(self.prevMonthNav,"disabled",bool);self.__hidePrevMonthArrow=bool}}});Object.defineProperty(self,"_hideNextMonthArrow",{get:function get(){return self.__hideNextMonthArrow},set:function set(bool){if(self.__hideNextMonthArrow!==bool){toggleClass(self.nextMonthNav,"disabled",bool);self.__hideNextMonthArrow=bool}}});self.currentYearElement=self.yearElements[0];updateNavigationCurrentMonth();return self.monthNav}
function buildTime(){self.calendarContainer.classList.add("hasTime");if(self.config.noCalendar)self.calendarContainer.classList.add("noCalendar");self.timeContainer=createElement("div","flatpickr-time");self.timeContainer.tabIndex=-1;var separator=createElement("span","flatpickr-time-separator",":");var hourInput=createNumberInput("flatpickr-hour");self.hourElement=hourInput.getElementsByTagName("input")[0];var minuteInput=createNumberInput("flatpickr-minute");self.minuteElement=minuteInput.getElementsByTagName("input")[0];self.hourElement.tabIndex=self.minuteElement.tabIndex=-1;self.hourElement.value=pad(self.latestSelectedDateObj?self.latestSelectedDateObj.getHours():self.config.time_24hr?self.config.defaultHour:military2ampm(self.config.defaultHour));self.minuteElement.value=pad(self.latestSelectedDateObj?self.latestSelectedDateObj.getMinutes():self.config.defaultMinute);self.hourElement.setAttribute("data-step",self.config.hourIncrement.toString());self.minuteElement.setAttribute("data-step",self.config.minuteIncrement.toString());self.hourElement.setAttribute("data-min",self.config.time_24hr?"0":"1");self.hourElement.setAttribute("data-max",self.config.time_24hr?"23":"12");self.minuteElement.setAttribute("data-min","0");self.minuteElement.setAttribute("data-max","59");self.timeContainer.appendChild(hourInput);self.timeContainer.appendChild(separator);self.timeContainer.appendChild(minuteInput);if(self.config.time_24hr)self.timeContainer.classList.add("time24hr");if(self.config.enableSeconds){self.timeContainer.classList.add("hasSeconds");var secondInput=createNumberInput("flatpickr-second");self.secondElement=secondInput.getElementsByTagName("input")[0];self.secondElement.value=pad(self.latestSelectedDateObj?self.latestSelectedDateObj.getSeconds():self.config.defaultSeconds);self.secondElement.setAttribute("data-step",self.minuteElement.getAttribute("data-step"));self.secondElement.setAttribute("data-min",self.minuteElement.getAttribute("data-min"));self.secondElement.setAttribute("data-max",self.minuteElement.getAttribute("data-max"));self.timeContainer.appendChild(createElement("span","flatpickr-time-separator",":"));self.timeContainer.appendChild(secondInput)}
if(!self.config.time_24hr){self.amPM=createElement("span","flatpickr-am-pm",self.l10n.amPM[int((self.latestSelectedDateObj?self.hourElement.value:self.config.defaultHour)>11)]);self.amPM.title=self.l10n.toggleTitle;self.amPM.tabIndex=-1;self.timeContainer.appendChild(self.amPM)}
return self.timeContainer}
function buildWeekdays(){if(!self.weekdayContainer)self.weekdayContainer=createElement("div","flatpickr-weekdays");else clearNode(self.weekdayContainer);for(var i=self.config.showMonths;i--;){var container=createElement("div","flatpickr-weekdaycontainer");self.weekdayContainer.appendChild(container)}
updateWeekdays();return self.weekdayContainer}
function updateWeekdays(){var firstDayOfWeek=self.l10n.firstDayOfWeek;var weekdays=self.l10n.weekdays.shorthand.concat();if(firstDayOfWeek>0&&firstDayOfWeek<weekdays.length){weekdays=weekdays.splice(firstDayOfWeek,weekdays.length).concat(weekdays.splice(0,firstDayOfWeek))}
for(var i=self.config.showMonths;i--;){self.weekdayContainer.children[i].innerHTML="\n      <span class=flatpickr-weekday>\n        "+weekdays.join("</span><span class=flatpickr-weekday>")+"\n      </span>\n      "}}
function buildWeeks(){self.calendarContainer.classList.add("hasWeeks");var weekWrapper=createElement("div","flatpickr-weekwrapper");weekWrapper.appendChild(createElement("span","flatpickr-weekday",self.l10n.weekAbbreviation));var weekNumbers=createElement("div","flatpickr-weeks");weekWrapper.appendChild(weekNumbers);return{weekWrapper:weekWrapper,weekNumbers:weekNumbers}}
function changeMonth(value,is_offset){if(is_offset===void 0){is_offset=!0}
var delta=is_offset?value:value-self.currentMonth;if(delta<0&&self._hidePrevMonthArrow===!0||delta>0&&self._hideNextMonthArrow===!0)return;self.currentMonth+=delta;if(self.currentMonth<0||self.currentMonth>11){self.currentYear+=self.currentMonth>11?1:-1;self.currentMonth=(self.currentMonth+12)%12;triggerEvent("onYearChange")}
buildDays();triggerEvent("onMonthChange");updateNavigationCurrentMonth()}
function clear(triggerChangeEvent){if(triggerChangeEvent===void 0){triggerChangeEvent=!0}
self.input.value="";if(self.altInput!==undefined)self.altInput.value="";if(self.mobileInput!==undefined)self.mobileInput.value="";self.selectedDates=[];self.latestSelectedDateObj=undefined;self.showTimeInput=!1;if(self.config.enableTime===!0){setDefaultHours()}
self.redraw();if(triggerChangeEvent)triggerEvent("onChange")}
function close(){self.isOpen=!1;if(!self.isMobile){self.calendarContainer.classList.remove("open");self._input.classList.remove("active")}
triggerEvent("onClose")}
function destroy(){if(self.config!==undefined)triggerEvent("onDestroy");for(var i=self._handlers.length;i--;){var h=self._handlers[i];h.element.removeEventListener(h.event,h.handler,h.options)}
self._handlers=[];if(self.mobileInput){if(self.mobileInput.parentNode)self.mobileInput.parentNode.removeChild(self.mobileInput);self.mobileInput=undefined}else if(self.calendarContainer&&self.calendarContainer.parentNode){if(self.config.static&&self.calendarContainer.parentNode){var wrapper=self.calendarContainer.parentNode;wrapper.lastChild&&wrapper.removeChild(wrapper.lastChild);if(wrapper.parentNode){while(wrapper.firstChild){wrapper.parentNode.insertBefore(wrapper.firstChild,wrapper)}
wrapper.parentNode.removeChild(wrapper)}}else self.calendarContainer.parentNode.removeChild(self.calendarContainer)}
if(self.altInput){self.input.type="text";if(self.altInput.parentNode)self.altInput.parentNode.removeChild(self.altInput);delete self.altInput}
if(self.input){self.input.type=self.input._type;self.input.classList.remove("flatpickr-input");self.input.removeAttribute("readonly");self.input.value=""}["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(k){try{delete self[k]}catch(_){}})}
function isCalendarElem(elem){if(self.config.appendTo&&self.config.appendTo.contains(elem))return!0;return self.calendarContainer.contains(elem)}
function documentClick(e){if(self.isOpen&&!self.config.inline){var isCalendarElement=isCalendarElem(e.target);var isInput=e.target===self.input||e.target===self.altInput||self.element.contains(e.target)||e.path&&e.path.indexOf&&(~e.path.indexOf(self.input)||~e.path.indexOf(self.altInput));var lostFocus=e.type==="blur"?isInput&&e.relatedTarget&&!isCalendarElem(e.relatedTarget):!isInput&&!isCalendarElement;var isIgnored=!self.config.ignoredFocusElements.some(function(elem){return elem.contains(e.target)});if(lostFocus&&isIgnored){self.close();if(self.config.mode==="range"&&self.selectedDates.length===1){self.clear(!1);self.redraw()}}}}
function changeYear(newYear){if(!newYear||self.config.minDate&&newYear<self.config.minDate.getFullYear()||self.config.maxDate&&newYear>self.config.maxDate.getFullYear())return;var newYearNum=newYear,isNewYear=self.currentYear!==newYearNum;self.currentYear=newYearNum||self.currentYear;if(self.config.maxDate&&self.currentYear===self.config.maxDate.getFullYear()){self.currentMonth=Math.min(self.config.maxDate.getMonth(),self.currentMonth)}else if(self.config.minDate&&self.currentYear===self.config.minDate.getFullYear()){self.currentMonth=Math.max(self.config.minDate.getMonth(),self.currentMonth)}
if(isNewYear){self.redraw();triggerEvent("onYearChange")}}
function isEnabled(date,timeless){if(timeless===void 0){timeless=!0}
var dateToCheck=self.parseDate(date,undefined,timeless);if(self.config.minDate&&dateToCheck&&compareDates(dateToCheck,self.config.minDate,timeless!==undefined?timeless:!self.minDateHasTime)<0||self.config.maxDate&&dateToCheck&&compareDates(dateToCheck,self.config.maxDate,timeless!==undefined?timeless:!self.maxDateHasTime)>0)return!1;if(self.config.enable.length===0&&self.config.disable.length===0)return!0;if(dateToCheck===undefined)return!1;var bool=self.config.enable.length>0,array=bool?self.config.enable:self.config.disable;for(var i=0,d;i<array.length;i++){d=array[i];if(typeof d==="function"&&d(dateToCheck))return bool;else if(d instanceof Date&&dateToCheck!==undefined&&d.getTime()===dateToCheck.getTime())return bool;else if(typeof d==="string"&&dateToCheck!==undefined){var parsed=self.parseDate(d,undefined,!0);return parsed&&parsed.getTime()===dateToCheck.getTime()?bool:!bool}else if(typeof d==="object"&&dateToCheck!==undefined&&d.from&&d.to&&dateToCheck.getTime()>=d.from.getTime()&&dateToCheck.getTime()<=d.to.getTime())return bool}
return!bool}
function isInView(elem){if(self.daysContainer!==undefined)return elem.className.indexOf("hidden")===-1&&self.daysContainer.contains(elem);return!1}
function onKeyDown(e){var isInput=e.target===self._input;var allowInput=self.config.allowInput;var allowKeydown=self.isOpen&&(!allowInput||!isInput);var allowInlineKeydown=self.config.inline&&isInput&&!allowInput;if(e.keyCode===13&&isInput){if(allowInput){self.setDate(self._input.value,!0,e.target===self.altInput?self.config.altFormat:self.config.dateFormat);return e.target.blur()}else self.open()}else if(isCalendarElem(e.target)||allowKeydown||allowInlineKeydown){var isTimeObj=!!self.timeContainer&&self.timeContainer.contains(e.target);switch(e.keyCode){case 13:if(isTimeObj)updateTime();else selectDate(e);break;case 27:e.preventDefault();focusAndClose();break;case 8:case 46:if(isInput&&!self.config.allowInput){e.preventDefault();self.clear()}
break;case 37:case 39:if(!isTimeObj){e.preventDefault();if(self.daysContainer!==undefined&&(allowInput===!1||isInView(document.activeElement))){var _delta=e.keyCode===39?1:-1;if(!e.ctrlKey)focusOnDay(undefined,_delta);else{changeMonth(_delta);focusOnDay(getFirstAvailableDay(1),0)}}}else if(self.hourElement)self.hourElement.focus();break;case 38:case 40:e.preventDefault();var delta=e.keyCode===40?1:-1;if(self.daysContainer&&e.target.$i!==undefined){if(e.ctrlKey){changeYear(self.currentYear-delta);focusOnDay(getFirstAvailableDay(1),0)}else if(!isTimeObj)focusOnDay(undefined,delta*7)}else if(self.config.enableTime){if(!isTimeObj&&self.hourElement)self.hourElement.focus();updateTime(e);self._debouncedChange()}
break;case 9:if(!isTimeObj){self.element.focus();break}
var elems=[self.hourElement,self.minuteElement,self.secondElement,self.amPM].filter(function(x){return x});var i=elems.indexOf(e.target);if(i!==-1){var target=elems[i+(e.shiftKey?-1:1)];if(target!==undefined){e.preventDefault();target.focus()}else{self.element.focus()}}
break;default:break}}
if(self.amPM!==undefined&&e.target===self.amPM){switch(e.key){case self.l10n.amPM[0].charAt(0):case self.l10n.amPM[0].charAt(0).toLowerCase():self.amPM.textContent=self.l10n.amPM[0];setHoursFromInputs();updateValue();break;case self.l10n.amPM[1].charAt(0):case self.l10n.amPM[1].charAt(0).toLowerCase():self.amPM.textContent=self.l10n.amPM[1];setHoursFromInputs();updateValue();break}}
triggerEvent("onKeyDown",e)}
function onMouseOver(elem){if(self.selectedDates.length!==1||elem&&(!elem.classList.contains("flatpickr-day")||elem.classList.contains("disabled")))return;var hoverDate=elem?elem.dateObj.getTime():self.days.firstElementChild.dateObj.getTime(),initialDate=self.parseDate(self.selectedDates[0],undefined,!0).getTime(),rangeStartDate=Math.min(hoverDate,self.selectedDates[0].getTime()),rangeEndDate=Math.max(hoverDate,self.selectedDates[0].getTime()),lastDate=self.daysContainer.lastChild.lastChild.dateObj.getTime();var containsDisabled=!1;var minRange=0,maxRange=0;for(var t=rangeStartDate;t<lastDate;t+=duration.DAY){if(!isEnabled(new Date(t),!0)){containsDisabled=containsDisabled||t>rangeStartDate&&t<rangeEndDate;if(t<initialDate&&(!minRange||t>minRange))minRange=t;else if(t>initialDate&&(!maxRange||t<maxRange))maxRange=t}}
for(var m=0;m<self.config.showMonths;m++){var month=self.daysContainer.children[m];var prevMonth=self.daysContainer.children[m-1];var _loop=function _loop(i,l){var dayElem=month.children[i],date=dayElem.dateObj;var timestamp=date.getTime();var outOfRange=minRange>0&&timestamp<minRange||maxRange>0&&timestamp>maxRange;if(outOfRange){dayElem.classList.add("notAllowed");["inRange","startRange","endRange"].forEach(function(c){dayElem.classList.remove(c)});return "continue"}else if(containsDisabled&&!outOfRange)return "continue";["startRange","inRange","endRange","notAllowed"].forEach(function(c){dayElem.classList.remove(c)});if(elem!==undefined){elem.classList.add(hoverDate<self.selectedDates[0].getTime()?"startRange":"endRange");if(month.contains(elem)||!(m>0&&prevMonth&&prevMonth.lastChild.dateObj.getTime()>=timestamp)){if(initialDate<hoverDate&&timestamp===initialDate)dayElem.classList.add("startRange");else if(initialDate>hoverDate&&timestamp===initialDate)dayElem.classList.add("endRange");if(timestamp>=minRange&&(maxRange===0||timestamp<=maxRange)&&isBetween(timestamp,initialDate,hoverDate))dayElem.classList.add("inRange")}}};for(var i=0,l=month.children.length;i<l;i++){var _ret=_loop(i,l);if(_ret==="continue")continue}}}
function onResize(){if(self.isOpen&&!self.config.static&&!self.config.inline)positionCalendar()}
function open(e,positionElement){if(positionElement===void 0){positionElement=self._positionElement}
if(self.isMobile===!0){if(e){e.preventDefault();e.target&&e.target.blur()}
if(self.mobileInput!==undefined){self.mobileInput.focus();self.mobileInput.click()}
triggerEvent("onOpen");return}
if(self._input.disabled||self.config.inline)return;var wasOpen=self.isOpen;self.isOpen=!0;if(!wasOpen){self.calendarContainer.classList.add("open");self._input.classList.add("active");triggerEvent("onOpen");positionCalendar(positionElement)}
if(self.config.enableTime===!0&&self.config.noCalendar===!0){if(self.selectedDates.length===0){self.setDate(self.config.minDate!==undefined?new Date(self.config.minDate.getTime()):new Date(),!1);setDefaultHours();updateValue()}
if(self.config.allowInput===!1&&(e===undefined||!self.timeContainer.contains(e.relatedTarget))){setTimeout(function(){return self.hourElement.select()},50)}}}
function minMaxDateSetter(type){return function(date){var dateObj=self.config["_"+type+"Date"]=self.parseDate(date,self.config.dateFormat);var inverseDateObj=self.config["_"+(type==="min"?"max":"min")+"Date"];if(dateObj!==undefined){self[type==="min"?"minDateHasTime":"maxDateHasTime"]=dateObj.getHours()>0||dateObj.getMinutes()>0||dateObj.getSeconds()>0}
if(self.selectedDates){self.selectedDates=self.selectedDates.filter(function(d){return isEnabled(d)});if(!self.selectedDates.length&&type==="min")setHoursFromDate(dateObj);updateValue()}
if(self.daysContainer){redraw();if(dateObj!==undefined)self.currentYearElement[type]=dateObj.getFullYear().toString();else self.currentYearElement.removeAttribute(type);self.currentYearElement.disabled=!!inverseDateObj&&dateObj!==undefined&&inverseDateObj.getFullYear()===dateObj.getFullYear()}}}
function parseConfig(){var boolOpts=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"];var userConfig=Object.assign({},instanceConfig,JSON.parse(JSON.stringify(element.dataset||{})));var formats$$1={};self.config.parseDate=userConfig.parseDate;self.config.formatDate=userConfig.formatDate;Object.defineProperty(self.config,"enable",{get:function get(){return self.config._enable},set:function set(dates){self.config._enable=parseDateRules(dates)}});Object.defineProperty(self.config,"disable",{get:function get(){return self.config._disable},set:function set(dates){self.config._disable=parseDateRules(dates)}});var timeMode=userConfig.mode==="time";if(!userConfig.dateFormat&&(userConfig.enableTime||timeMode)){formats$$1.dateFormat=userConfig.noCalendar||timeMode?"H:i"+(userConfig.enableSeconds?":S":""):flatpickr.defaultConfig.dateFormat+" H:i"+(userConfig.enableSeconds?":S":"")}
if(userConfig.altInput&&(userConfig.enableTime||timeMode)&&!userConfig.altFormat){formats$$1.altFormat=userConfig.noCalendar||timeMode?"h:i"+(userConfig.enableSeconds?":S K":" K"):flatpickr.defaultConfig.altFormat+(" h:i"+(userConfig.enableSeconds?":S":"")+" K")}
Object.defineProperty(self.config,"minDate",{get:function get(){return self.config._minDate},set:minMaxDateSetter("min")});Object.defineProperty(self.config,"maxDate",{get:function get(){return self.config._maxDate},set:minMaxDateSetter("max")});var minMaxTimeSetter=function minMaxTimeSetter(type){return function(val){self.config[type==="min"?"_minTime":"_maxTime"]=self.parseDate(val,"H:i")}};Object.defineProperty(self.config,"minTime",{get:function get(){return self.config._minTime},set:minMaxTimeSetter("min")});Object.defineProperty(self.config,"maxTime",{get:function get(){return self.config._maxTime},set:minMaxTimeSetter("max")});if(userConfig.mode==="time"){self.config.noCalendar=!0;self.config.enableTime=!0}
Object.assign(self.config,formats$$1,userConfig);for(var i=0;i<boolOpts.length;i++){self.config[boolOpts[i]]=self.config[boolOpts[i]]===!0||self.config[boolOpts[i]]==="true"}
HOOKS.filter(function(hook){return self.config[hook]!==undefined}).forEach(function(hook){self.config[hook]=arrayify(self.config[hook]||[]).map(bindToInstance)});self.isMobile=!self.config.disableMobile&&!self.config.inline&&self.config.mode==="single"&&!self.config.disable.length&&!self.config.enable.length&&!self.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var _i=0;_i<self.config.plugins.length;_i++){var pluginConf=self.config.plugins[_i](self)||{};for(var key in pluginConf){if(HOOKS.indexOf(key)>-1){self.config[key]=arrayify(pluginConf[key]).map(bindToInstance).concat(self.config[key])}else if(typeof userConfig[key]==="undefined")self.config[key]=pluginConf[key]}}
triggerEvent("onParseConfig")}
function setupLocale(){if(typeof self.config.locale!=="object"&&typeof flatpickr.l10ns[self.config.locale]==="undefined")self.config.errorHandler(new Error("flatpickr: invalid locale "+self.config.locale));self.l10n=Object.assign({},flatpickr.l10ns.default,typeof self.config.locale==="object"?self.config.locale:self.config.locale!=="default"?flatpickr.l10ns[self.config.locale]:undefined);tokenRegex.K="("+self.l10n.amPM[0]+"|"+self.l10n.amPM[1]+"|"+self.l10n.amPM[0].toLowerCase()+"|"+self.l10n.amPM[1].toLowerCase()+")";self.formatDate=createDateFormatter(self);self.parseDate=createDateParser({config:self.config,l10n:self.l10n})}
function positionCalendar(customPositionElement){if(self.calendarContainer===undefined)return;triggerEvent("onPreCalendarPosition");var positionElement=customPositionElement||self._positionElement;var calendarHeight=Array.prototype.reduce.call(self.calendarContainer.children,function(acc,child){return acc+child.offsetHeight},0),calendarWidth=self.calendarContainer.offsetWidth,configPos=self.config.position.split(" "),configPosVertical=configPos[0],configPosHorizontal=configPos.length>1?configPos[1]:null,inputBounds=positionElement.getBoundingClientRect(),distanceFromBottom=window.innerHeight-inputBounds.bottom,showOnTop=configPosVertical==="above"||configPosVertical!=="below"&&distanceFromBottom<calendarHeight&&inputBounds.top>calendarHeight;var top=window.pageYOffset+inputBounds.top+(!showOnTop?positionElement.offsetHeight+2:-calendarHeight-2);toggleClass(self.calendarContainer,"arrowTop",!showOnTop);toggleClass(self.calendarContainer,"arrowBottom",showOnTop);if(self.config.inline)return;var left=window.pageXOffset+inputBounds.left-(configPosHorizontal!=null&&configPosHorizontal==="center"?(calendarWidth-inputBounds.width)/2:0);var right=window.document.body.offsetWidth-inputBounds.right;var rightMost=left+calendarWidth>window.document.body.offsetWidth;toggleClass(self.calendarContainer,"rightMost",rightMost);if(self.config.static)return;self.calendarContainer.style.top=top+"px";if(!rightMost){self.calendarContainer.style.left=left+"px";self.calendarContainer.style.right="auto"}else{self.calendarContainer.style.left="auto";self.calendarContainer.style.right=right+"px"}}
function redraw(){if(self.config.noCalendar||self.isMobile)return;updateNavigationCurrentMonth();buildDays()}
function focusAndClose(){self._input.focus();if(window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==undefined){setTimeout(self.close,0)}else{self.close()}}
function selectDate(e){e.preventDefault();e.stopPropagation();var isSelectable=function isSelectable(day){return day.classList&&day.classList.contains("flatpickr-day")&&!day.classList.contains("disabled")&&!day.classList.contains("notAllowed")};var t=findParent(e.target,isSelectable);if(t===undefined)return;var target=t;var selectedDate=self.latestSelectedDateObj=new Date(target.dateObj.getTime());var shouldChangeMonth=(selectedDate.getMonth()<self.currentMonth||selectedDate.getMonth()>self.currentMonth+self.config.showMonths-1)&&self.config.mode!=="range";self.selectedDateElem=target;if(self.config.mode==="single")self.selectedDates=[selectedDate];else if(self.config.mode==="multiple"){var selectedIndex=isDateSelected(selectedDate);if(selectedIndex)self.selectedDates.splice(parseInt(selectedIndex),1);else self.selectedDates.push(selectedDate)}else if(self.config.mode==="range"){if(self.selectedDates.length===2)self.clear(!1);self.selectedDates.push(selectedDate);if(compareDates(selectedDate,self.selectedDates[0],!0)!==0)self.selectedDates.sort(function(a,b){return a.getTime()-b.getTime()})}
setHoursFromInputs();if(shouldChangeMonth){var isNewYear=self.currentYear!==selectedDate.getFullYear();self.currentYear=selectedDate.getFullYear();self.currentMonth=selectedDate.getMonth();if(isNewYear)triggerEvent("onYearChange");triggerEvent("onMonthChange")}
updateNavigationCurrentMonth();buildDays();updateValue();if(self.config.enableTime)setTimeout(function(){return self.showTimeInput=!0},50);if(!shouldChangeMonth&&self.config.mode!=="range"&&self.config.showMonths===1)focusOnDayElem(target);else self.selectedDateElem&&self.selectedDateElem.focus();if(self.hourElement!==undefined)setTimeout(function(){return self.hourElement!==undefined&&self.hourElement.select()},451);if(self.config.closeOnSelect){var single=self.config.mode==="single"&&!self.config.enableTime;var range=self.config.mode==="range"&&self.selectedDates.length===2&&!self.config.enableTime;if(single||range){focusAndClose()}}
triggerChange()}
var CALLBACKS={locale:[setupLocale,updateWeekdays],showMonths:[buildMonths,setCalendarWidth,buildWeekdays]};function set(option,value){if(option!==null&&typeof option==="object")Object.assign(self.config,option);else{self.config[option]=value;if(CALLBACKS[option]!==undefined)CALLBACKS[option].forEach(function(x){return x()});else if(HOOKS.indexOf(option)>-1)self.config[option]=arrayify(value)}
self.redraw();jumpToDate();updateValue(!1)}
function setSelectedDate(inputDate,format){var dates=[];if(inputDate instanceof Array)dates=inputDate.map(function(d){return self.parseDate(d,format)});else if(inputDate instanceof Date||typeof inputDate==="number")dates=[self.parseDate(inputDate,format)];else if(typeof inputDate==="string"){switch(self.config.mode){case "single":case "time":dates=[self.parseDate(inputDate,format)];break;case "multiple":dates=inputDate.split(self.config.conjunction).map(function(date){return self.parseDate(date,format)});break;case "range":dates=inputDate.split(self.l10n.rangeSeparator).map(function(date){return self.parseDate(date,format)});break;default:break}}else self.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(inputDate)));self.selectedDates=dates.filter(function(d){return d instanceof Date&&isEnabled(d,!1)});if(self.config.mode==="range")self.selectedDates.sort(function(a,b){return a.getTime()-b.getTime()})}
function setDate(date,triggerChange,format){if(triggerChange===void 0){triggerChange=!1}
if(format===void 0){format=self.config.dateFormat}
if(date!==0&&!date||date instanceof Array&&date.length===0)return self.clear(triggerChange);setSelectedDate(date,format);self.showTimeInput=self.selectedDates.length>0;self.latestSelectedDateObj=self.selectedDates[0];self.redraw();jumpToDate();setHoursFromDate();updateValue(triggerChange);if(triggerChange)triggerEvent("onChange")}
function parseDateRules(arr){return arr.slice().map(function(rule){if(typeof rule==="string"||typeof rule==="number"||rule instanceof Date){return self.parseDate(rule,undefined,!0)}else if(rule&&typeof rule==="object"&&rule.from&&rule.to)return{from:self.parseDate(rule.from,undefined),to:self.parseDate(rule.to,undefined)};return rule}).filter(function(x){return x})}
function setupDates(){self.selectedDates=[];self.now=self.parseDate(self.config.now)||new Date();var preloadedDate=self.config.defaultDate||((self.input.nodeName==="INPUT"||self.input.nodeName==="TEXTAREA")&&self.input.placeholder&&self.input.value===self.input.placeholder?null:self.input.value);if(preloadedDate)setSelectedDate(preloadedDate,self.config.dateFormat);var initialDate=self.selectedDates.length>0?self.selectedDates[0]:self.config.minDate&&self.config.minDate.getTime()>self.now.getTime()?self.config.minDate:self.config.maxDate&&self.config.maxDate.getTime()<self.now.getTime()?self.config.maxDate:self.now;self.currentYear=initialDate.getFullYear();self.currentMonth=initialDate.getMonth();if(self.selectedDates.length>0)self.latestSelectedDateObj=self.selectedDates[0];if(self.config.minTime!==undefined)self.config.minTime=self.parseDate(self.config.minTime,"H:i");if(self.config.maxTime!==undefined)self.config.maxTime=self.parseDate(self.config.maxTime,"H:i");self.minDateHasTime=!!self.config.minDate&&(self.config.minDate.getHours()>0||self.config.minDate.getMinutes()>0||self.config.minDate.getSeconds()>0);self.maxDateHasTime=!!self.config.maxDate&&(self.config.maxDate.getHours()>0||self.config.maxDate.getMinutes()>0||self.config.maxDate.getSeconds()>0);Object.defineProperty(self,"showTimeInput",{get:function get(){return self._showTimeInput},set:function set(bool){self._showTimeInput=bool;if(self.calendarContainer)toggleClass(self.calendarContainer,"showTimeInput",bool);self.isOpen&&positionCalendar()}})}
function setupInputs(){self.input=self.config.wrap?element.querySelector("[data-input]"):element;if(!self.input){self.config.errorHandler(new Error("Invalid input element specified"));return}
self.input._type=self.input.type;self.input.type="text";self.input.classList.add("flatpickr-input");self._input=self.input;if(self.config.altInput){self.altInput=createElement(self.input.nodeName,self.input.className+" "+self.config.altInputClass);self._input=self.altInput;self.altInput.placeholder=self.input.placeholder;self.altInput.disabled=self.input.disabled;self.altInput.required=self.input.required;self.altInput.tabIndex=self.input.tabIndex;self.altInput.type="text";self.input.setAttribute("type","hidden");if(!self.config.static&&self.input.parentNode)self.input.parentNode.insertBefore(self.altInput,self.input.nextSibling)}
if(!self.config.allowInput)self._input.setAttribute("readonly","readonly");self._positionElement=self.config.positionElement||self._input}
function setupMobile(){var inputType=self.config.enableTime?self.config.noCalendar?"time":"datetime-local":"date";self.mobileInput=createElement("input",self.input.className+" flatpickr-mobile");self.mobileInput.step=self.input.getAttribute("step")||"any";self.mobileInput.tabIndex=1;self.mobileInput.type=inputType;self.mobileInput.disabled=self.input.disabled;self.mobileInput.required=self.input.required;self.mobileInput.placeholder=self.input.placeholder;self.mobileFormatStr=inputType==="datetime-local"?"Y-m-d\\TH:i:S":inputType==="date"?"Y-m-d":"H:i:S";if(self.selectedDates.length>0){self.mobileInput.defaultValue=self.mobileInput.value=self.formatDate(self.selectedDates[0],self.mobileFormatStr)}
if(self.config.minDate)self.mobileInput.min=self.formatDate(self.config.minDate,"Y-m-d");if(self.config.maxDate)self.mobileInput.max=self.formatDate(self.config.maxDate,"Y-m-d");self.input.type="hidden";if(self.altInput!==undefined)self.altInput.type="hidden";try{if(self.input.parentNode)self.input.parentNode.insertBefore(self.mobileInput,self.input.nextSibling)}catch(_a){}
bind(self.mobileInput,"change",function(e){self.setDate(e.target.value,!1,self.mobileFormatStr);triggerEvent("onChange");triggerEvent("onClose")})}
function toggle(e){if(self.isOpen===!0)return self.close();self.open(e)}
function triggerEvent(event,data){if(self.config===undefined)return;var hooks=self.config[event];if(hooks!==undefined&&hooks.length>0){for(var i=0;hooks[i]&&i<hooks.length;i++){hooks[i](self.selectedDates,self.input.value,self,data)}}
if(event==="onChange"){self.input.dispatchEvent(createEvent("change"));self.input.dispatchEvent(createEvent("input"))}}
function createEvent(name){var e=document.createEvent("Event");e.initEvent(name,!0,!0);return e}
function isDateSelected(date){for(var i=0;i<self.selectedDates.length;i++){if(compareDates(self.selectedDates[i],date)===0)return ""+i}
return!1}
function isDateInRange(date){if(self.config.mode!=="range"||self.selectedDates.length<2)return!1;return compareDates(date,self.selectedDates[0])>=0&&compareDates(date,self.selectedDates[1])<=0}
function updateNavigationCurrentMonth(){if(self.config.noCalendar||self.isMobile||!self.monthNav)return;self.yearElements.forEach(function(yearElement,i){var d=new Date(self.currentYear,self.currentMonth,1);d.setMonth(self.currentMonth+i);self.monthElements[i].textContent=monthToStr(d.getMonth(),self.config.shorthandCurrentMonth,self.l10n)+" ";yearElement.value=d.getFullYear().toString()});self._hidePrevMonthArrow=self.config.minDate!==undefined&&(self.currentYear===self.config.minDate.getFullYear()?self.currentMonth<=self.config.minDate.getMonth():self.currentYear<self.config.minDate.getFullYear());self._hideNextMonthArrow=self.config.maxDate!==undefined&&(self.currentYear===self.config.maxDate.getFullYear()?self.currentMonth+1>self.config.maxDate.getMonth():self.currentYear>self.config.maxDate.getFullYear())}
function getDateStr(format){return self.selectedDates.map(function(dObj){return self.formatDate(dObj,format)}).filter(function(d,i,arr){return self.config.mode!=="range"||self.config.enableTime||arr.indexOf(d)===i}).join(self.config.mode!=="range"?self.config.conjunction:self.l10n.rangeSeparator)}
function updateValue(triggerChange){if(triggerChange===void 0){triggerChange=!0}
if(self.selectedDates.length===0)return self.clear(triggerChange);if(self.mobileInput!==undefined&&self.mobileFormatStr){self.mobileInput.value=self.latestSelectedDateObj!==undefined?self.formatDate(self.latestSelectedDateObj,self.mobileFormatStr):""}
self.input.value=getDateStr(self.config.dateFormat);if(self.altInput!==undefined){self.altInput.value=getDateStr(self.config.altFormat)}
if(triggerChange!==!1)triggerEvent("onValueUpdate")}
function onMonthNavClick(e){e.preventDefault();var isPrevMonth=self.prevMonthNav.contains(e.target);var isNextMonth=self.nextMonthNav.contains(e.target);if(isPrevMonth||isNextMonth){changeMonth(isPrevMonth?-1:1)}else if(self.yearElements.indexOf(e.target)>=0){e.target.select()}else if(e.target.classList.contains("arrowUp")){self.changeYear(self.currentYear+1)}else if(e.target.classList.contains("arrowDown")){self.changeYear(self.currentYear-1)}}
function timeWrapper(e){e.preventDefault();var isKeyDown=e.type==="keydown",input=e.target;if(self.amPM!==undefined&&e.target===self.amPM){self.amPM.textContent=self.l10n.amPM[int(self.amPM.textContent===self.l10n.amPM[0])]}
var min=parseFloat(input.getAttribute("data-min")),max=parseFloat(input.getAttribute("data-max")),step=parseFloat(input.getAttribute("data-step")),curValue=parseInt(input.value,10),delta=e.delta||(isKeyDown?e.which===38?1:-1:0);var newValue=curValue+step*delta;if(typeof input.value!=="undefined"&&input.value.length===2){var isHourElem=input===self.hourElement,isMinuteElem=input===self.minuteElement;if(newValue<min){newValue=max+newValue+int(!isHourElem)+(int(isHourElem)&&int(!self.amPM));if(isMinuteElem)incrementNumInput(undefined,-1,self.hourElement)}else if(newValue>max){newValue=input===self.hourElement?newValue-max-int(!self.amPM):min;if(isMinuteElem)incrementNumInput(undefined,1,self.hourElement)}
if(self.amPM&&isHourElem&&(step===1?newValue+curValue===23:Math.abs(newValue-curValue)>step)){self.amPM.textContent=self.l10n.amPM[int(self.amPM.textContent===self.l10n.amPM[0])]}
input.value=pad(newValue)}}
init();return self}
function _flatpickr(nodeList,config){var nodes=Array.prototype.slice.call(nodeList);var instances=[];for(var i=0;i<nodes.length;i++){var node=nodes[i];try{if(node.getAttribute("data-fp-omit")!==null)continue;if(node._flatpickr!==undefined){node._flatpickr.destroy();node._flatpickr=undefined}
node._flatpickr=FlatpickrInstance(node,config||{});instances.push(node._flatpickr)}catch(e){console.error(e)}}
return instances.length===1?instances[0]:instances}
if(typeof HTMLElement!=="undefined"){HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(config){return _flatpickr(this,config)};HTMLElement.prototype.flatpickr=function(config){return _flatpickr([this],config)}}
var flatpickr=function flatpickr(selector,config){if(selector instanceof NodeList)return _flatpickr(selector,config);else if(typeof selector==="string")return _flatpickr(window.document.querySelectorAll(selector),config);return _flatpickr([selector],config)};flatpickr.defaultConfig=defaults;flatpickr.l10ns={en:Object.assign({},english),default:Object.assign({},english)};flatpickr.localize=function(l10n){flatpickr.l10ns.default=Object.assign({},flatpickr.l10ns.default,l10n)};flatpickr.setDefaults=function(config){flatpickr.defaultConfig=Object.assign({},flatpickr.defaultConfig,config)};flatpickr.parseDate=createDateParser({});flatpickr.formatDate=createDateFormatter({});flatpickr.compareDates=compareDates;if(typeof jQuery!=="undefined"){jQuery.fn.flatpickr=function(config){return _flatpickr(this,config)}}
Date.prototype.fp_incr=function(days){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof days==="string"?parseInt(days,10):days))};if(typeof window!=="undefined"){window.flatpickr=flatpickr}
return flatpickr})));(function(a){a.Jcrop=function(b,c){function i(a){return Math.round(a)+"px"}function j(a){return d.baseClass+"-"+a}function k(){return a.fx.step.hasOwnProperty("backgroundColor")}function l(b){var c=a(b).offset();return[c.left,c.top]}function m(a){return[a.pageX-e[0],a.pageY-e[1]]}function n(b){typeof b!="object"&&(b={}),d=a.extend(d,b),a.each(["onChange","onSelect","onRelease","onDblClick"],function(a,b){typeof d[b]!="function"&&(d[b]=function(){})})}function o(a,b,c){e=l(D),bc.setCursor(a==="move"?a:a+"-resize");if(a==="move")return bc.activateHandlers(q(b),v,c);var d=_.getFixed(),f=r(a),g=_.getCorner(r(f));_.setPressed(_.getCorner(f)),_.setCurrent(g),bc.activateHandlers(p(a,d),v,c)}function p(a,b){return function(c){if(!d.aspectRatio)switch(a){case"e":c[1]=b.y2;break;case"w":c[1]=b.y2;break;case"n":c[0]=b.x2;break;case"s":c[0]=b.x2}else switch(a){case"e":c[1]=b.y+1;break;case"w":c[1]=b.y+1;break;case"n":c[0]=b.x+1;break;case"s":c[0]=b.x+1}_.setCurrent(c),bb.update()}}function q(a){var b=a;return bd.watchKeys(),function(a){_.moveOffset([a[0]-b[0],a[1]-b[1]]),b=a,bb.update()}}function r(a){switch(a){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function s(a){return function(b){return d.disabled?!1:a==="move"&&!d.allowMove?!1:(e=l(D),W=!0,o(a,m(b)),b.stopPropagation(),b.preventDefault(),!1)}}function t(a,b,c){var d=a.width(),e=a.height();d>b&&b>0&&(d=b,e=b/a.width()*a.height()),e>c&&c>0&&(e=c,d=c/a.height()*a.width()),T=a.width()/d,U=a.height()/e,a.width(d).height(e)}function u(a){return{x:a.x*T,y:a.y*U,x2:a.x2*T,y2:a.y2*U,w:a.w*T,h:a.h*U}}function v(a){var b=_.getFixed();b.w>d.minSelect[0]&&b.h>d.minSelect[1]?(bb.enableHandles(),bb.done()):bb.release(),bc.setCursor(d.allowSelect?"crosshair":"default")}function w(a){if(d.disabled)return!1;if(!d.allowSelect)return!1;W=!0,e=l(D),bb.disableHandles(),bc.setCursor("crosshair");var b=m(a);return _.setPressed(b),bb.update(),bc.activateHandlers(x,v,a.type.substring(0,5)==="touch"),bd.watchKeys(),a.stopPropagation(),a.preventDefault(),!1}function x(a){_.setCurrent(a),bb.update()}function y(){var b=a("<div></div>").addClass(j("tracker"));return g&&b.css({opacity:0,backgroundColor:"white"}),b}function be(a){G.removeClass().addClass(j("holder")).addClass(a)}function bf(a,b){function t(){window.setTimeout(u,l)}var c=a[0]/T,e=a[1]/U,f=a[2]/T,g=a[3]/U;if(X)return;var h=_.flipCoords(c,e,f,g),i=_.getFixed(),j=[i.x,i.y,i.x2,i.y2],k=j,l=d.animationDelay,m=h[0]-j[0],n=h[1]-j[1],o=h[2]-j[2],p=h[3]-j[3],q=0,r=d.swingSpeed;c=k[0],e=k[1],f=k[2],g=k[3],bb.animMode(!0);var s,u=function(){return function(){q+=(100-q)/r,k[0]=Math.round(c+q/100*m),k[1]=Math.round(e+q/100*n),k[2]=Math.round(f+q/100*o),k[3]=Math.round(g+q/100*p),q>=99.8&&(q=100),q<100?(bh(k),t()):(bb.done(),bb.animMode(!1),typeof b=="function"&&b.call(bs))}}();t()}function bg(a){bh([a[0]/T,a[1]/U,a[2]/T,a[3]/U]),d.onSelect.call(bs,u(_.getFixed())),bb.enableHandles()}function bh(a){_.setPressed([a[0],a[1]]),_.setCurrent([a[2],a[3]]),bb.update()}function bi(){return u(_.getFixed())}function bj(){return _.getFixed()}function bk(a){n(a),br()}function bl(){d.disabled=!0,bb.disableHandles(),bb.setCursor("default"),bc.setCursor("default")}function bm(){d.disabled=!1,br()}function bn(){bb.done(),bc.activateHandlers(null,null)}function bo(){G.remove(),A.show(),A.css("visibility","visible"),a(b).removeData("Jcrop")}function bp(a,b){bb.release(),bl();var c=new Image;c.onload=function(){var e=c.width,f=c.height,g=d.boxWidth,h=d.boxHeight;D.width(e).height(f),D.attr("src",a),H.attr("src",a),t(D,g,h),E=D.width(),F=D.height(),H.width(E).height(F),M.width(E+L*2).height(F+L*2),G.width(E).height(F),ba.resize(E,F),bm(),typeof b=="function"&&b.call(bs)},c.src=a}function bq(a,b,c){var e=b||d.bgColor;d.bgFade&&k()&&d.fadeTime&&!c?a.animate({backgroundColor:e},{queue:!1,duration:d.fadeTime}):a.css("backgroundColor",e)}function br(a){d.allowResize?a?bb.enableOnly():bb.enableHandles():bb.disableHandles(),bc.setCursor(d.allowSelect?"crosshair":"default"),bb.setCursor(d.allowMove?"move":"default"),d.hasOwnProperty("trueSize")&&(T=d.trueSize[0]/E,U=d.trueSize[1]/F),d.hasOwnProperty("setSelect")&&(bg(d.setSelect),bb.done(),delete d.setSelect),ba.refresh(),d.bgColor!=N&&(bq(d.shade?ba.getShades():G,d.shade?d.shadeColor||d.bgColor:d.bgColor),N=d.bgColor),O!=d.bgOpacity&&(O=d.bgOpacity,d.shade?ba.refresh():bb.setBgOpacity(O)),P=d.maxSize[0]||0,Q=d.maxSize[1]||0,R=d.minSize[0]||0,S=d.minSize[1]||0,d.hasOwnProperty("outerImage")&&(D.attr("src",d.outerImage),delete d.outerImage),bb.refresh()}var d=a.extend({},a.Jcrop.defaults),e,f=navigator.userAgent.toLowerCase(),g=/msie/.test(f),h=/msie [1-6]\./.test(f);typeof b!="object"&&(b=a(b)[0]),typeof c!="object"&&(c={}),n(c);var z={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},A=a(b),B=!0;if(b.tagName=="IMG"){if(A[0].width!=0&&A[0].height!=0)A.width(A[0].width),A.height(A[0].height);else{var C=new Image;C.src=A[0].src,A.width(C.width),A.height(C.height)}var D=A.clone().removeAttr("id").css(z).show();D.width(A.width()),D.height(A.height()),A.after(D).hide()}else D=A.css(z).show(),B=!1,d.shade===null&&(d.shade=!0);t(D,d.boxWidth,d.boxHeight);var E=D.width(),F=D.height(),G=a("<div />").width(E).height(F).addClass(j("holder")).css({position:"relative",backgroundColor:d.bgColor}).insertAfter(A).append(D);d.addClass&&G.addClass(d.addClass);var H=a("<div />"),I=a("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),J=a("<div />").width("100%").height("100%").css("zIndex",320),K=a("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var a=_.getFixed();d.onDblClick.call(bs,a)}).insertBefore(D).append(I,J);B&&(H=a("<img />").attr("src",D.attr("src")).css(z).width(E).height(F),I.append(H)),h&&K.css({overflowY:"hidden"});var L=d.boundary,M=y().width(E+L*2).height(F+L*2).css({position:"absolute",top:i(-L),left:i(-L),zIndex:290}).mousedown(w),N=d.bgColor,O=d.bgOpacity,P,Q,R,S,T,U,V=!0,W,X,Y;e=l(D);var Z=function(){function a(){var a={},b=["touchstart","touchmove","touchend"],c=document.createElement("div"),d;try{for(d=0;d<b.length;d++){var e=b[d];e="on"+e;var f=e in c;f||(c.setAttribute(e,"return;"),f=typeof c[e]=="function"),a[b[d]]=f}return a.touchstart&&a.touchend&&a.touchmove}catch(g){return!1}}function b(){return d.touchSupport===!0||d.touchSupport===!1?d.touchSupport:a()}return{createDragger:function(a){return function(b){return d.disabled?!1:a==="move"&&!d.allowMove?!1:(e=l(D),W=!0,o(a,m(Z.cfilter(b)),!0),b.stopPropagation(),b.preventDefault(),!1)}},newSelection:function(a){return w(Z.cfilter(a))},cfilter:function(a){return a.pageX=a.originalEvent.changedTouches[0].pageX,a.pageY=a.originalEvent.changedTouches[0].pageY,a},isSupported:a,support:b()}}(),_=function(){function h(d){d=n(d),c=a=d[0],e=b=d[1]}function i(a){a=n(a),f=a[0]-c,g=a[1]-e,c=a[0],e=a[1]}function j(){return[f,g]}function k(d){var f=d[0],g=d[1];0>a+f&&(f-=f+a),0>b+g&&(g-=g+b),F<e+g&&(g+=F-(e+g)),E<c+f&&(f+=E-(c+f)),a+=f,c+=f,b+=g,e+=g}function l(a){var b=m();switch(a){case"ne":return[b.x2,b.y];case"nw":return[b.x,b.y];case"se":return[b.x2,b.y2];case"sw":return[b.x,b.y2]}}function m(){if(!d.aspectRatio)return p();var f=d.aspectRatio,g=d.minSize[0]/T,h=d.maxSize[0]/T,i=d.maxSize[1]/U,j=c-a,k=e-b,l=Math.abs(j),m=Math.abs(k),n=l/m,r,s,t,u;return h===0&&(h=E*10),i===0&&(i=F*10),n<f?(s=e,t=m*f,r=j<0?a-t:t+a,r<0?(r=0,u=Math.abs((r-a)/f),s=k<0?b-u:u+b):r>E&&(r=E,u=Math.abs((r-a)/f),s=k<0?b-u:u+b)):(r=c,u=l/f,s=k<0?b-u:b+u,s<0?(s=0,t=Math.abs((s-b)*f),r=j<0?a-t:t+a):s>F&&(s=F,t=Math.abs(s-b)*f,r=j<0?a-t:t+a)),r>a?(r-a<g?r=a+g:r-a>h&&(r=a+h),s>b?s=b+(r-a)/f:s=b-(r-a)/f):r<a&&(a-r<g?r=a-g:a-r>h&&(r=a-h),s>b?s=b+(a-r)/f:s=b-(a-r)/f),r<0?(a-=r,r=0):r>E&&(a-=r-E,r=E),s<0?(b-=s,s=0):s>F&&(b-=s-F,s=F),q(o(a,b,r,s))}function n(a){return a[0]<0&&(a[0]=0),a[1]<0&&(a[1]=0),a[0]>E&&(a[0]=E),a[1]>F&&(a[1]=F),[Math.round(a[0]),Math.round(a[1])]}function o(a,b,c,d){var e=a,f=c,g=b,h=d;return c<a&&(e=c,f=a),d<b&&(g=d,h=b),[e,g,f,h]}function p(){var d=c-a,f=e-b,g;return P&&Math.abs(d)>P&&(c=d>0?a+P:a-P),Q&&Math.abs(f)>Q&&(e=f>0?b+Q:b-Q),S/U&&Math.abs(f)<S/U&&(e=f>0?b+S/U:b-S/U),R/T&&Math.abs(d)<R/T&&(c=d>0?a+R/T:a-R/T),a<0&&(c-=a,a-=a),b<0&&(e-=b,b-=b),c<0&&(a-=c,c-=c),e<0&&(b-=e,e-=e),c>E&&(g=c-E,a-=g,c-=g),e>F&&(g=e-F,b-=g,e-=g),a>E&&(g=a-F,e-=g,b-=g),b>F&&(g=b-F,e-=g,b-=g),q(o(a,b,c,e))}function q(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}var a=0,b=0,c=0,e=0,f,g;return{flipCoords:o,setPressed:h,setCurrent:i,getOffset:j,moveOffset:k,getCorner:l,getFixed:m}}(),ba=function(){function f(a,b){e.left.css({height:i(b)}),e.right.css({height:i(b)})}function g(){return h(_.getFixed())}function h(a){e.top.css({left:i(a.x),width:i(a.w),height:i(a.y)}),e.bottom.css({top:i(a.y2),left:i(a.x),width:i(a.w),height:i(F-a.y2)}),e.right.css({left:i(a.x2),width:i(E-a.x2)}),e.left.css({width:i(a.x)})}function j(){return a("<div />").css({position:"absolute",backgroundColor:d.shadeColor||d.bgColor}).appendTo(c)}function k(){b||(b=!0,c.insertBefore(D),g(),bb.setBgOpacity(1,0,1),H.hide(),l(d.shadeColor||d.bgColor,1),bb.isAwake()?n(d.bgOpacity,1):n(1,1))}function l(a,b){bq(p(),a,b)}function m(){b&&(c.remove(),H.show(),b=!1,bb.isAwake()?bb.setBgOpacity(d.bgOpacity,1,1):(bb.setBgOpacity(1,1,1),bb.disableHandles()),bq(G,0,1))}function n(a,e){b&&(d.bgFade&&!e?c.animate({opacity:1-a},{queue:!1,duration:d.fadeTime}):c.css({opacity:1-a}))}function o(){d.shade?k():m(),bb.isAwake()&&n(d.bgOpacity)}function p(){return c.children()}var b=!1,c=a("<div />").css({position:"absolute",zIndex:240,opacity:0}),e={top:j(),left:j().height(F),right:j().height(F),bottom:j()};return{update:g,updateRaw:h,getShades:p,setBgColor:l,enable:k,disable:m,resize:f,refresh:o,opacity:n}}(),bb=function(){function k(b){var c=a("<div />").css({position:"absolute",opacity:d.borderOpacity}).addClass(j(b));return I.append(c),c}function l(b,c){var d=a("<div />").mousedown(s(b)).css({cursor:b+"-resize",position:"absolute",zIndex:c}).addClass("ord-"+b);return Z.support&&d.bind("touchstart.jcrop",Z.createDragger(b)),J.append(d),d}function m(a){var b=d.handleSize,e=l(a,c++).css({opacity:d.handleOpacity}).addClass(j("handle"));return b&&e.width(b).height(b),e}function n(a){return l(a,c++).addClass("jcrop-dragbar")}function o(a){var b;for(b=0;b<a.length;b++)g[a[b]]=n(a[b])}function p(a){var b,c;for(c=0;c<a.length;c++){switch(a[c]){case"n":b="hline";break;case"s":b="hline bottom";break;case"e":b="vline right";break;case"w":b="vline"}e[a[c]]=k(b)}}function q(a){var b;for(b=0;b<a.length;b++)f[a[b]]=m(a[b])}function r(a,b){d.shade||H.css({top:i(-b),left:i(-a)}),K.css({top:i(b),left:i(a)})}function t(a,b){K.width(Math.round(a)).height(Math.round(b))}function v(){var a=_.getFixed();_.setPressed([a.x,a.y]),_.setCurrent([a.x2,a.y2]),w()}function w(a){if(b)return x(a)}function x(a){var c=_.getFixed();t(c.w,c.h),r(c.x,c.y),d.shade&&ba.updateRaw(c),b||A(),a?d.onSelect.call(bs,u(c)):d.onChange.call(bs,u(c))}function z(a,c,e){if(!b&&!c)return;d.bgFade&&!e?D.animate({opacity:a},{queue:!1,duration:d.fadeTime}):D.css("opacity",a)}function A(){K.show(),d.shade?ba.opacity(O):z(O,!0),b=!0}function B(){F(),K.hide(),d.shade?ba.opacity(1):z(1),b=!1,d.onRelease.call(bs)}function C(){h&&J.show()}function E(){h=!0;if(d.allowResize)return J.show(),!0}function F(){h=!1,J.hide()}function G(a){a?(X=!0,F()):(X=!1,E())}function L(){G(!1),v()}var b,c=370,e={},f={},g={},h=!1;d.dragEdges&&a.isArray(d.createDragbars)&&o(d.createDragbars),a.isArray(d.createHandles)&&q(d.createHandles),d.drawBorders&&a.isArray(d.createBorders)&&p(d.createBorders),a(document).bind("touchstart.jcrop-ios",function(b){a(b.currentTarget).hasClass("jcrop-tracker")&&b.stopPropagation()});var M=y().mousedown(s("move")).css({cursor:"move",position:"absolute",zIndex:360});return Z.support&&M.bind("touchstart.jcrop",Z.createDragger("move")),I.append(M),F(),{updateVisible:w,update:x,release:B,refresh:v,isAwake:function(){return b},setCursor:function(a){M.css("cursor",a)},enableHandles:E,enableOnly:function(){h=!0},showHandles:C,disableHandles:F,animMode:G,setBgOpacity:z,done:L}}(),bc=function(){function f(b){M.css({zIndex:450}),b?a(document).bind("touchmove.jcrop",k).bind("touchend.jcrop",l):e&&a(document).bind("mousemove.jcrop",h).bind("mouseup.jcrop",i)}function g(){M.css({zIndex:290}),a(document).unbind(".jcrop")}function h(a){return b(m(a)),!1}function i(a){return a.preventDefault(),a.stopPropagation(),W&&(W=!1,c(m(a)),bb.isAwake()&&d.onSelect.call(bs,u(_.getFixed())),g(),b=function(){},c=function(){}),!1}function j(a,d,e){return W=!0,b=a,c=d,f(e),!1}function k(a){return b(m(Z.cfilter(a))),!1}function l(a){return i(Z.cfilter(a))}function n(a){M.css("cursor",a)}var b=function(){},c=function(){},e=d.trackDocument;return e||M.mousemove(h).mouseup(i).mouseout(i),D.before(M),{activateHandlers:j,setCursor:n}}(),bd=function(){function e(){d.keySupport&&(b.show(),b.focus())}function f(a){b.hide()}function g(a,b,c){d.allowMove&&(_.moveOffset([b,c]),bb.updateVisible(!0)),a.preventDefault(),a.stopPropagation()}function i(a){if(a.ctrlKey||a.metaKey)return!0;Y=a.shiftKey?!0:!1;var b=Y?10:1;switch(a.keyCode){case 37:g(a,-b,0);break;case 39:g(a,b,0);break;case 38:g(a,0,-b);break;case 40:g(a,0,b);break;case 27:d.allowSelect&&bb.release();break;case 9:return!0}return!1}var b=a('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),c=a("<div />").css({position:"absolute",overflow:"hidden"}).append(b);return d.keySupport&&(b.keydown(i).blur(f),h||!d.fixedSupport?(b.css({position:"absolute",left:"-20px"}),c.append(b).insertBefore(D)):b.insertBefore(D)),{watchKeys:e}}();Z.support&&M.bind("touchstart.jcrop",Z.newSelection),J.hide(),br(!0);var bs={setImage:bp,animateTo:bf,setSelect:bg,setOptions:bk,tellSelect:bi,tellScaled:bj,setClass:be,disable:bl,enable:bm,cancel:bn,release:bb.release,destroy:bo,focus:bd.watchKeys,getBounds:function(){return[E*T,F*U]},getWidgetSize:function(){return[E,F]},getScaleFactor:function(){return[T,U]},getOptions:function(){return d},ui:{holder:G,selection:K}};return g&&G.bind("selectstart",function(){return!1}),A.data("Jcrop",bs),bs},a.fn.Jcrop=function(b,c){var d;return this.each(function(){if(a(this).data("Jcrop")){if(b==="api")return a(this).data("Jcrop");a(this).data("Jcrop").setOptions(b)}else this.tagName=="IMG"?a.Jcrop.Loader(this,function(){a(this).css({display:"block",visibility:"hidden"}),d=a.Jcrop(this,b),a.isFunction(c)&&c.call(d)}):(a(this).css({display:"block",visibility:"hidden"}),d=a.Jcrop(this,b),a.isFunction(c)&&c.call(d))}),this},a.Jcrop.Loader=function(b,c,d){function g(){f.complete?(e.unbind(".jcloader"),a.isFunction(c)&&c.call(f)):window.setTimeout(g,50)}var e=a(b),f=e[0];e.bind("load.jcloader",g).bind("error.jcloader",function(b){e.unbind(".jcloader"),a.isFunction(d)&&d.call(f)}),f.complete&&a.isFunction(c)&&(e.unbind(".jcloader"),c.call(f))},a.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);(function(window,factory){var lazySizes=factory(window,window.document);window.lazySizes=lazySizes;if(typeof module=='object'&&module.exports){module.exports=lazySizes}}(window,function l(window,document){'use strict';if(!document.getElementsByClassName){return}
var lazysizes,lazySizesConfig;var docElem=document.documentElement;var Date=window.Date;var supportPicture=window.HTMLPictureElement;var _addEventListener='addEventListener';var _getAttribute='getAttribute';var addEventListener=window[_addEventListener];var setTimeout=window.setTimeout;var requestAnimationFrame=window.requestAnimationFrame||setTimeout;var requestIdleCallback=window.requestIdleCallback;var regPicture=/^picture$/i;var loadEvents=['load','error','lazyincluded','_lazyloaded'];var regClassCache={};var forEach=Array.prototype.forEach;var hasClass=function(ele,cls){if(!regClassCache[cls]){regClassCache[cls]=new RegExp('(\\s|^)'+cls+'(\\s|$)')}
return regClassCache[cls].test(ele[_getAttribute]('class')||'')&&regClassCache[cls]};var addClass=function(ele,cls){if(!hasClass(ele,cls)){ele.setAttribute('class',(ele[_getAttribute]('class')||'').trim()+' '+cls)}};var removeClass=function(ele,cls){var reg;if((reg=hasClass(ele,cls))){ele.setAttribute('class',(ele[_getAttribute]('class')||'').replace(reg,' '))}};var addRemoveLoadEvents=function(dom,fn,add){var action=add?_addEventListener:'removeEventListener';if(add){addRemoveLoadEvents(dom,fn)}
loadEvents.forEach(function(evt){dom[action](evt,fn)})};var triggerEvent=function(elem,name,detail,noBubbles,noCancelable){var event=document.createEvent('CustomEvent');if(!detail){detail={}}
detail.instance=lazysizes;event.initCustomEvent(name,!noBubbles,!noCancelable,detail);elem.dispatchEvent(event);return event};var updatePolyfill=function(el,full){var polyfill;if(!supportPicture&&(polyfill=(window.picturefill||lazySizesConfig.pf))){polyfill({reevaluate:!0,elements:[el]})}else if(full&&full.src){el.src=full.src}};var getCSS=function(elem,style){return(getComputedStyle(elem,null)||{})[style]};var getWidth=function(elem,parent,width){width=width||elem.offsetWidth;while(width<lazySizesConfig.minSize&&parent&&!elem._lazysizesWidth){width=parent.offsetWidth;parent=parent.parentNode}
return width};var rAF=(function(){var running,waiting;var firstFns=[];var secondFns=[];var fns=firstFns;var run=function(){var runFns=fns;fns=firstFns.length?secondFns:firstFns;running=!0;waiting=!1;while(runFns.length){runFns.shift()()}
running=!1};var rafBatch=function(fn,queue){if(running&&!queue){fn.apply(this,arguments)}else{fns.push(fn);if(!waiting){waiting=!0;(document.hidden?setTimeout:requestAnimationFrame)(run)}}};rafBatch._lsFlush=run;return rafBatch})();var rAFIt=function(fn,simple){return simple?function(){rAF(fn)}:function(){var that=this;var args=arguments;rAF(function(){fn.apply(that,args)})}};var throttle=function(fn){var running;var lastTime=0;var gDelay=125;var rICTimeout=lazySizesConfig.ricTimeout;var run=function(){running=!1;lastTime=Date.now();fn()};var idleCallback=requestIdleCallback&&lazySizesConfig.ricTimeout?function(){requestIdleCallback(run,{timeout:rICTimeout});if(rICTimeout!==lazySizesConfig.ricTimeout){rICTimeout=lazySizesConfig.ricTimeout}}:rAFIt(function(){setTimeout(run)},!0);return function(isPriority){var delay;if((isPriority=isPriority===!0)){rICTimeout=33}
if(running){return}
running=!0;delay=gDelay-(Date.now()-lastTime);if(delay<0){delay=0}
if(isPriority||(delay<9&&requestIdleCallback)){idleCallback()}else{setTimeout(idleCallback,delay)}}};var debounce=function(func){var timeout,timestamp;var wait=99;var run=function(){timeout=null;func()};var later=function(){var last=Date.now()-timestamp;if(last<wait){setTimeout(later,wait-last)}else{(requestIdleCallback||run)(run)}};return function(){timestamp=Date.now();if(!timeout){timeout=setTimeout(later,wait)}}};(function(){var prop;var lazySizesDefaults={lazyClass:'lazyload',loadedClass:'lazyloaded',loadingClass:'lazyloading',preloadClass:'lazypreload',errorClass:'lazyerror',autosizesClass:'lazyautosizes',srcAttr:'data-src',srcsetAttr:'data-srcset',sizesAttr:'data-sizes',minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:0.8,loadMode:2,loadHidden:!0,ricTimeout:300,};lazySizesConfig=window.lazySizesConfig||window.lazysizesConfig||{};for(prop in lazySizesDefaults){if(!(prop in lazySizesConfig)){lazySizesConfig[prop]=lazySizesDefaults[prop]}}
window.lazySizesConfig=lazySizesConfig;setTimeout(function(){if(lazySizesConfig.init){init()}})})();var loader=(function(){var preloadElems,isCompleted,resetPreloadingTimer,loadMode,started;var eLvW,elvH,eLtop,eLleft,eLright,eLbottom;var defaultExpand,preloadExpand,hFac;var regImg=/^img$/i;var regIframe=/^iframe$/i;var supportScroll=('onscroll' in window)&&!(/glebot/.test(navigator.userAgent));var shrinkExpand=0;var currentExpand=0;var isLoading=0;var lowRuns=-1;var resetPreloading=function(e){isLoading--;if(e&&e.target){addRemoveLoadEvents(e.target,resetPreloading)}
if(!e||isLoading<0||!e.target){isLoading=0}};var isNestedVisible=function(elem,elemExpand){var outerRect;var parent=elem;var visible=getCSS(document.body,'visibility')=='hidden'||getCSS(elem,'visibility')!='hidden';eLtop-=elemExpand;eLbottom+=elemExpand;eLleft-=elemExpand;eLright+=elemExpand;while(visible&&(parent=parent.offsetParent)&&parent!=document.body&&parent!=docElem){visible=((getCSS(parent,'opacity')||1)>0);if(visible&&getCSS(parent,'overflow')!='visible'){outerRect=parent.getBoundingClientRect();visible=eLright>outerRect.left&&eLleft<outerRect.right&&eLbottom>outerRect.top-1&&eLtop<outerRect.bottom+1}}
return visible};var checkElements=function(){var eLlen,i,rect,autoLoadElem,loadedSomething,elemExpand,elemNegativeExpand,elemExpandVal,beforeExpandVal;var lazyloadElems=lazysizes.elements;if((loadMode=lazySizesConfig.loadMode)&&isLoading<8&&(eLlen=lazyloadElems.length)){i=0;lowRuns++;if(preloadExpand==null){if(!('expand' in lazySizesConfig)){lazySizesConfig.expand=docElem.clientHeight>500&&docElem.clientWidth>500?500:370}
defaultExpand=lazySizesConfig.expand;preloadExpand=defaultExpand*lazySizesConfig.expFactor}
if(currentExpand<preloadExpand&&isLoading<1&&lowRuns>2&&loadMode>2&&!document.hidden){currentExpand=preloadExpand;lowRuns=0}else if(loadMode>1&&lowRuns>1&&isLoading<6){currentExpand=defaultExpand}else{currentExpand=shrinkExpand}
for(;i<eLlen;i++){if(!lazyloadElems[i]||lazyloadElems[i]._lazyRace){continue}
if(!supportScroll){unveilElement(lazyloadElems[i]);continue}
if(!(elemExpandVal=lazyloadElems[i][_getAttribute]('data-expand'))||!(elemExpand=elemExpandVal*1)){elemExpand=currentExpand}
if(beforeExpandVal!==elemExpand){eLvW=innerWidth+(elemExpand*hFac);elvH=innerHeight+elemExpand;elemNegativeExpand=elemExpand*-1;beforeExpandVal=elemExpand}
rect=lazyloadElems[i].getBoundingClientRect();if((eLbottom=rect.bottom)>=elemNegativeExpand&&(eLtop=rect.top)<=elvH&&(eLright=rect.right)>=elemNegativeExpand*hFac&&(eLleft=rect.left)<=eLvW&&(eLbottom||eLright||eLleft||eLtop)&&(lazySizesConfig.loadHidden||getCSS(lazyloadElems[i],'visibility')!='hidden')&&((isCompleted&&isLoading<3&&!elemExpandVal&&(loadMode<3||lowRuns<4))||isNestedVisible(lazyloadElems[i],elemExpand))){unveilElement(lazyloadElems[i]);loadedSomething=!0;if(isLoading>9){break}}else if(!loadedSomething&&isCompleted&&!autoLoadElem&&isLoading<4&&lowRuns<4&&loadMode>2&&(preloadElems[0]||lazySizesConfig.preloadAfterLoad)&&(preloadElems[0]||(!elemExpandVal&&((eLbottom||eLright||eLleft||eLtop)||lazyloadElems[i][_getAttribute](lazySizesConfig.sizesAttr)!='auto')))){autoLoadElem=preloadElems[0]||lazyloadElems[i]}}
if(autoLoadElem&&!loadedSomething){unveilElement(autoLoadElem)}}};var throttledCheckElements=throttle(checkElements);var switchLoadingClass=function(e){addClass(e.target,lazySizesConfig.loadedClass);removeClass(e.target,lazySizesConfig.loadingClass);addRemoveLoadEvents(e.target,rafSwitchLoadingClass);triggerEvent(e.target,'lazyloaded')};var rafedSwitchLoadingClass=rAFIt(switchLoadingClass);var rafSwitchLoadingClass=function(e){rafedSwitchLoadingClass({target:e.target})};var changeIframeSrc=function(elem,src){try{elem.contentWindow.location.replace(src)}catch(e){elem.src=src}};var handleSources=function(source){var customMedia;var sourceSrcset=source[_getAttribute](lazySizesConfig.srcsetAttr);if((customMedia=lazySizesConfig.customMedia[source[_getAttribute]('data-media')||source[_getAttribute]('media')])){source.setAttribute('media',customMedia)}
if(sourceSrcset){source.setAttribute('srcset',sourceSrcset)}};var lazyUnveil=rAFIt(function(elem,detail,isAuto,sizes,isImg){var src,srcset,parent,isPicture,event,firesLoad;if(!(event=triggerEvent(elem,'lazybeforeunveil',detail)).defaultPrevented){if(sizes){if(isAuto){addClass(elem,lazySizesConfig.autosizesClass)}else{elem.setAttribute('sizes',sizes)}}
srcset=elem[_getAttribute](lazySizesConfig.srcsetAttr);src=elem[_getAttribute](lazySizesConfig.srcAttr);if(isImg){parent=elem.parentNode;isPicture=parent&&regPicture.test(parent.nodeName||'')}
firesLoad=detail.firesLoad||(('src' in elem)&&(srcset||src||isPicture));event={target:elem};if(firesLoad){addRemoveLoadEvents(elem,resetPreloading,!0);clearTimeout(resetPreloadingTimer);resetPreloadingTimer=setTimeout(resetPreloading,2500);addClass(elem,lazySizesConfig.loadingClass);addRemoveLoadEvents(elem,rafSwitchLoadingClass,!0)}
if(isPicture){forEach.call(parent.getElementsByTagName('source'),handleSources)}
if(srcset){elem.setAttribute('srcset',srcset)}else if(src&&!isPicture){if(regIframe.test(elem.nodeName)){changeIframeSrc(elem,src)}else{elem.src=src}}
if(isImg&&(srcset||isPicture)){updatePolyfill(elem,{src:src})}}
if(elem._lazyRace){delete elem._lazyRace}
removeClass(elem,lazySizesConfig.lazyClass);rAF(function(){if(!firesLoad||(elem.complete&&elem.naturalWidth>1)){if(firesLoad){resetPreloading(event)}else{isLoading--}
switchLoadingClass(event)}},!0)});var unveilElement=function(elem){var detail;var isImg=regImg.test(elem.nodeName);var sizes=isImg&&(elem[_getAttribute](lazySizesConfig.sizesAttr)||elem[_getAttribute]('sizes'));var isAuto=sizes=='auto';if((isAuto||!isCompleted)&&isImg&&(elem[_getAttribute]('src')||elem.srcset)&&!elem.complete&&!hasClass(elem,lazySizesConfig.errorClass)&&hasClass(elem,lazySizesConfig.lazyClass)){return}
detail=triggerEvent(elem,'lazyunveilread').detail;if(isAuto){autoSizer.updateElem(elem,!0,elem.offsetWidth)}
elem._lazyRace=!0;isLoading++;lazyUnveil(elem,detail,isAuto,sizes,isImg)};var onload=function(){if(isCompleted){return}
if(Date.now()-started<999){setTimeout(onload,999);return}
var afterScroll=debounce(function(){lazySizesConfig.loadMode=3;throttledCheckElements()});isCompleted=!0;lazySizesConfig.loadMode=3;throttledCheckElements();addEventListener('scroll',function(){if(lazySizesConfig.loadMode==3){lazySizesConfig.loadMode=2}
afterScroll()},!0)};return{_:function(){started=Date.now();lazysizes.elements=document.getElementsByClassName(lazySizesConfig.lazyClass);preloadElems=document.getElementsByClassName(lazySizesConfig.lazyClass+' '+lazySizesConfig.preloadClass);hFac=lazySizesConfig.hFac;addEventListener('scroll',throttledCheckElements,!0);addEventListener('resize',throttledCheckElements,!0);if(window.MutationObserver){new MutationObserver(throttledCheckElements).observe(docElem,{childList:!0,subtree:!0,attributes:!0})}else{docElem[_addEventListener]('DOMNodeInserted',throttledCheckElements,!0);docElem[_addEventListener]('DOMAttrModified',throttledCheckElements,!0);setInterval(throttledCheckElements,999)}
addEventListener('hashchange',throttledCheckElements,!0);['focus','mouseover','click','load','transitionend','animationend','webkitAnimationEnd'].forEach(function(name){document[_addEventListener](name,throttledCheckElements,!0)});if((/d$|^c/.test(document.readyState))){onload()}else{addEventListener('load',onload);document[_addEventListener]('DOMContentLoaded',throttledCheckElements);setTimeout(onload,20000)}
if(lazysizes.elements.length){checkElements();rAF._lsFlush()}else{throttledCheckElements()}},checkElems:throttledCheckElements,unveil:unveilElement}})();var autoSizer=(function(){var autosizesElems;var sizeElement=rAFIt(function(elem,parent,event,width){var sources,i,len;elem._lazysizesWidth=width;width+='px';elem.setAttribute('sizes',width);if(regPicture.test(parent.nodeName||'')){sources=parent.getElementsByTagName('source');for(i=0,len=sources.length;i<len;i++){sources[i].setAttribute('sizes',width)}}
if(!event.detail.dataAttr){updatePolyfill(elem,event.detail)}});var getSizeElement=function(elem,dataAttr,width){var event;var parent=elem.parentNode;if(parent){width=getWidth(elem,parent,width);event=triggerEvent(elem,'lazybeforesizes',{width:width,dataAttr:!!dataAttr});if(!event.defaultPrevented){width=event.detail.width;if(width&&width!==elem._lazysizesWidth){sizeElement(elem,parent,event,width)}}}};var updateElementsSizes=function(){var i;var len=autosizesElems.length;if(len){i=0;for(;i<len;i++){getSizeElement(autosizesElems[i])}}};var debouncedUpdateElementsSizes=debounce(updateElementsSizes);return{_:function(){autosizesElems=document.getElementsByClassName(lazySizesConfig.autosizesClass);addEventListener('resize',debouncedUpdateElementsSizes)},checkElems:debouncedUpdateElementsSizes,updateElem:getSizeElement}})();var init=function(){if(!init.i){init.i=!0;autoSizer._();loader._()}};lazysizes={cfg:lazySizesConfig,autoSizer:autoSizer,loader:loader,init:init,uP:updatePolyfill,aC:addClass,rC:removeClass,hC:hasClass,fire:triggerEvent,gW:getWidth,rAF:rAF,};return lazysizes}));(function(window,factory){if(typeof define=='function'&&define.amd){define('jquery-bridget/jquery-bridget',['jquery'],function(jQuery){return factory(window,jQuery)})}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('jquery'))}else{window.jQueryBridget=factory(window,window.jQuery)}}(window,function factory(window,jQuery){'use strict';var arraySlice=Array.prototype.slice;var console=window.console;var logError=typeof console=='undefined'?function(){}:function(message){console.error(message)};function jQueryBridget(namespace,PluginClass,$){$=$||jQuery||window.jQuery;if(!$){return}
if(!PluginClass.prototype.option){PluginClass.prototype.option=function(opts){if(!$.isPlainObject(opts)){return}
this.options=$.extend(!0,this.options,opts)}}
$.fn[namespace]=function(arg0){if(typeof arg0=='string'){var args=arraySlice.call(arguments,1);return methodCall(this,arg0,args)}
plainCall(this,arg0);return this};function methodCall($elems,methodName,args){var returnValue;var pluginMethodStr='$().'+namespace+'("'+methodName+'")';$elems.each(function(i,elem){var instance=$.data(elem,namespace);if(!instance){logError(namespace+' not initialized. Cannot call methods, i.e. '+pluginMethodStr);return}
var method=instance[methodName];if(!method||methodName.charAt(0)=='_'){logError(pluginMethodStr+' is not a valid method');return}
var value=method.apply(instance,args);returnValue=returnValue===undefined?value:returnValue});return returnValue!==undefined?returnValue:$elems}
function plainCall($elems,options){$elems.each(function(i,elem){var instance=$.data(elem,namespace);if(instance){instance.option(options);instance._init()}else{instance=new PluginClass(elem,options);$.data(elem,namespace,instance)}})}
updateJQuery($)}
function updateJQuery($){if(!$||($&&$.bridget)){return}
$.bridget=jQueryBridget}
updateJQuery(jQuery||window.jQuery);return jQueryBridget}));(function(global,factory){if(typeof define=='function'&&define.amd){define('ev-emitter/ev-emitter',factory)}else if(typeof module=='object'&&module.exports){module.exports=factory()}else{global.EvEmitter=factory()}}(typeof window!='undefined'?window:this,function(){function EvEmitter(){}
var proto=EvEmitter.prototype;proto.on=function(eventName,listener){if(!eventName||!listener){return}
var events=this._events=this._events||{};var listeners=events[eventName]=events[eventName]||[];if(listeners.indexOf(listener)==-1){listeners.push(listener)}
return this};proto.once=function(eventName,listener){if(!eventName||!listener){return}
this.on(eventName,listener);var onceEvents=this._onceEvents=this._onceEvents||{};var onceListeners=onceEvents[eventName]=onceEvents[eventName]||{};onceListeners[listener]=!0;return this};proto.off=function(eventName,listener){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length){return}
var index=listeners.indexOf(listener);if(index!=-1){listeners.splice(index,1)}
return this};proto.emitEvent=function(eventName,args){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length){return}
var i=0;var listener=listeners[i];args=args||[];var onceListeners=this._onceEvents&&this._onceEvents[eventName];while(listener){var isOnce=onceListeners&&onceListeners[listener];if(isOnce){this.off(eventName,listener);delete onceListeners[listener]}
listener.apply(this,args);i+=isOnce?0:1;listener=listeners[i]}
return this};return EvEmitter}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('get-size/get-size',[],function(){return factory()})}else if(typeof module=='object'&&module.exports){module.exports=factory()}else{window.getSize=factory()}})(window,function factory(){'use strict';function getStyleSize(value){var num=parseFloat(value);var isValid=value.indexOf('%')==-1&&!isNaN(num);return isValid&&num}
function noop(){}
var logError=typeof console=='undefined'?noop:function(message){console.error(message)};var measurements=['paddingLeft','paddingRight','paddingTop','paddingBottom','marginLeft','marginRight','marginTop','marginBottom','borderLeftWidth','borderRightWidth','borderTopWidth','borderBottomWidth'];var measurementsLength=measurements.length;function getZeroSize(){var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];size[measurement]=0}
return size}
function getStyle(elem){var style=getComputedStyle(elem);if(!style){logError('Style returned '+style+'. Are you running this code in a hidden iframe on Firefox? '+'See http://bit.ly/getsizebug1')}
return style}
var isSetup=!1;var isBoxSizeOuter;function setup(){if(isSetup){return}
isSetup=!0;var div=document.createElement('div');div.style.width='200px';div.style.padding='1px 2px 3px 4px';div.style.borderStyle='solid';div.style.borderWidth='1px 2px 3px 4px';div.style.boxSizing='border-box';var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);getSize.isBoxSizeOuter=isBoxSizeOuter=getStyleSize(style.width)==200;body.removeChild(div)}
function getSize(elem){setup();if(typeof elem=='string'){elem=document.querySelector(elem)}
if(!elem||typeof elem!='object'||!elem.nodeType){return}
var style=getStyle(elem);if(style.display=='none'){return getZeroSize()}
var size={};size.width=elem.offsetWidth;size.height=elem.offsetHeight;var isBorderBox=size.isBorderBox=style.boxSizing=='border-box';for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];var value=style[measurement];var num=parseFloat(value);size[measurement]=!isNaN(num)?num:0}
var paddingWidth=size.paddingLeft+size.paddingRight;var paddingHeight=size.paddingTop+size.paddingBottom;var marginWidth=size.marginLeft+size.marginRight;var marginHeight=size.marginTop+size.marginBottom;var borderWidth=size.borderLeftWidth+size.borderRightWidth;var borderHeight=size.borderTopWidth+size.borderBottomWidth;var isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter;var styleWidth=getStyleSize(style.width);if(styleWidth!==!1){size.width=styleWidth+(isBorderBoxSizeOuter?0:paddingWidth+borderWidth)}
var styleHeight=getStyleSize(style.height);if(styleHeight!==!1){size.height=styleHeight+(isBorderBoxSizeOuter?0:paddingHeight+borderHeight)}
size.innerWidth=size.width-(paddingWidth+borderWidth);size.innerHeight=size.height-(paddingHeight+borderHeight);size.outerWidth=size.width+marginWidth;size.outerHeight=size.height+marginHeight;return size}
return getSize});(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('desandro-matches-selector/matches-selector',factory)}else if(typeof module=='object'&&module.exports){module.exports=factory()}else{window.matchesSelector=factory()}}(window,function factory(){'use strict';var matchesMethod=(function(){var ElemProto=window.Element.prototype;if(ElemProto.matches){return 'matches'}
if(ElemProto.matchesSelector){return 'matchesSelector'}
var prefixes=['webkit','moz','ms','o'];for(var i=0;i<prefixes.length;i++){var prefix=prefixes[i];var method=prefix+'MatchesSelector';if(ElemProto[method]){return method}}})();return function matchesSelector(elem,selector){return elem[matchesMethod](selector)}}));(function(window,factory){if(typeof define=='function'&&define.amd){define('fizzy-ui-utils/utils',['desandro-matches-selector/matches-selector'],function(matchesSelector){return factory(window,matchesSelector)})}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('desandro-matches-selector'))}else{window.fizzyUIUtils=factory(window,window.matchesSelector)}}(window,function factory(window,matchesSelector){var utils={};utils.extend=function(a,b){for(var prop in b){a[prop]=b[prop]}
return a};utils.modulo=function(num,div){return((num%div)+div)%div};utils.makeArray=function(obj){var ary=[];if(Array.isArray(obj)){ary=obj}else if(obj&&typeof obj=='object'&&typeof obj.length=='number'){for(var i=0;i<obj.length;i++){ary.push(obj[i])}}else{ary.push(obj)}
return ary};utils.removeFrom=function(ary,obj){var index=ary.indexOf(obj);if(index!=-1){ary.splice(index,1)}};utils.getParent=function(elem,selector){while(elem!=document.body){elem=elem.parentNode;if(matchesSelector(elem,selector)){return elem}}};utils.getQueryElement=function(elem){if(typeof elem=='string'){return document.querySelector(elem)}
return elem};utils.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event)}};utils.filterFindElements=function(elems,selector){elems=utils.makeArray(elems);var ffElems=[];elems.forEach(function(elem){if(!(elem instanceof HTMLElement)){return}
if(!selector){ffElems.push(elem);return}
if(matchesSelector(elem,selector)){ffElems.push(elem)}
var childElems=elem.querySelectorAll(selector);for(var i=0;i<childElems.length;i++){ffElems.push(childElems[i])}});return ffElems};utils.debounceMethod=function(_class,methodName,threshold){var method=_class.prototype[methodName];var timeoutName=methodName+'Timeout';_class.prototype[methodName]=function(){var timeout=this[timeoutName];if(timeout){clearTimeout(timeout)}
var args=arguments;var _this=this;this[timeoutName]=setTimeout(function(){method.apply(_this,args);delete _this[timeoutName]},threshold||100)}};utils.docReady=function(callback){var readyState=document.readyState;if(readyState=='complete'||readyState=='interactive'){setTimeout(callback)}else{document.addEventListener('DOMContentLoaded',callback)}};utils.toDashed=function(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+'-'+$2}).toLowerCase()};var console=window.console;utils.htmlInit=function(WidgetClass,namespace){utils.docReady(function(){var dashedNamespace=utils.toDashed(namespace);var dataAttr='data-'+dashedNamespace;var dataAttrElems=document.querySelectorAll('['+dataAttr+']');var jsDashElems=document.querySelectorAll('.js-'+dashedNamespace);var elems=utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));var dataOptionsAttr=dataAttr+'-options';var jQuery=window.jQuery;elems.forEach(function(elem){var attr=elem.getAttribute(dataAttr)||elem.getAttribute(dataOptionsAttr);var options;try{options=attr&&JSON.parse(attr)}catch(error){if(console){console.error('Error parsing '+dataAttr+' on '+elem.className+': '+error)}
return}
var instance=new WidgetClass(elem,options);if(jQuery){jQuery.data(elem,namespace,instance)}})})};return utils}));(function(window,factory){if(typeof define=='function'&&define.amd){define('outlayer/item',['ev-emitter/ev-emitter','get-size/get-size'],factory)}else if(typeof module=='object'&&module.exports){module.exports=factory(require('ev-emitter'),require('get-size'))}else{window.Outlayer={};window.Outlayer.Item=factory(window.EvEmitter,window.getSize)}}(window,function factory(EvEmitter,getSize){'use strict';function isEmptyObj(obj){for(var prop in obj){return!1}
prop=null;return!0}
var docElemStyle=document.documentElement.style;var transitionProperty=typeof docElemStyle.transition=='string'?'transition':'WebkitTransition';var transformProperty=typeof docElemStyle.transform=='string'?'transform':'WebkitTransform';var transitionEndEvent={WebkitTransition:'webkitTransitionEnd',transition:'transitionend'}[transitionProperty];var vendorProperties={transform:transformProperty,transition:transitionProperty,transitionDuration:transitionProperty+'Duration',transitionProperty:transitionProperty+'Property',transitionDelay:transitionProperty+'Delay'};function Item(element,layout){if(!element){return}
this.element=element;this.layout=layout;this.position={x:0,y:0};this._create()}
var proto=Item.prototype=Object.create(EvEmitter.prototype);proto.constructor=Item;proto._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:'absolute'})};proto.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event)}};proto.getSize=function(){this.size=getSize(this.element)};proto.css=function(style){var elemStyle=this.element.style;for(var prop in style){var supportedProp=vendorProperties[prop]||prop;elemStyle[supportedProp]=style[prop]}};proto.getPosition=function(){var style=getComputedStyle(this.element);var isOriginLeft=this.layout._getOption('originLeft');var isOriginTop=this.layout._getOption('originTop');var xValue=style[isOriginLeft?'left':'right'];var yValue=style[isOriginTop?'top':'bottom'];var layoutSize=this.layout.size;var x=xValue.indexOf('%')!=-1?(parseFloat(xValue)/100)*layoutSize.width:parseInt(xValue,10);var y=yValue.indexOf('%')!=-1?(parseFloat(yValue)/100)*layoutSize.height:parseInt(yValue,10);x=isNaN(x)?0:x;y=isNaN(y)?0:y;x-=isOriginLeft?layoutSize.paddingLeft:layoutSize.paddingRight;y-=isOriginTop?layoutSize.paddingTop:layoutSize.paddingBottom;this.position.x=x;this.position.y=y};proto.layoutPosition=function(){var layoutSize=this.layout.size;var style={};var isOriginLeft=this.layout._getOption('originLeft');var isOriginTop=this.layout._getOption('originTop');var xPadding=isOriginLeft?'paddingLeft':'paddingRight';var xProperty=isOriginLeft?'left':'right';var xResetProperty=isOriginLeft?'right':'left';var x=this.position.x+layoutSize[xPadding];style[xProperty]=this.getXValue(x);style[xResetProperty]='';var yPadding=isOriginTop?'paddingTop':'paddingBottom';var yProperty=isOriginTop?'top':'bottom';var yResetProperty=isOriginTop?'bottom':'top';var y=this.position.y+layoutSize[yPadding];style[yProperty]=this.getYValue(y);style[yResetProperty]='';this.css(style);this.emitEvent('layout',[this])};proto.getXValue=function(x){var isHorizontal=this.layout._getOption('horizontal');return this.layout.options.percentPosition&&!isHorizontal?((x/this.layout.size.width)*100)+'%':x+'px'};proto.getYValue=function(y){var isHorizontal=this.layout._getOption('horizontal');return this.layout.options.percentPosition&&isHorizontal?((y/this.layout.size.height)*100)+'%':y+'px'};proto._transitionTo=function(x,y){this.getPosition();var curX=this.position.x;var curY=this.position.y;var compareX=parseInt(x,10);var compareY=parseInt(y,10);var didNotMove=compareX===this.position.x&&compareY===this.position.y;this.setPosition(x,y);if(didNotMove&&!this.isTransitioning){this.layoutPosition();return}
var transX=x-curX;var transY=y-curY;var transitionStyle={};transitionStyle.transform=this.getTranslate(transX,transY);this.transition({to:transitionStyle,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})};proto.getTranslate=function(x,y){var isOriginLeft=this.layout._getOption('originLeft');var isOriginTop=this.layout._getOption('originTop');x=isOriginLeft?x:-x;y=isOriginTop?y:-y;return 'translate3d('+x+'px, '+y+'px, 0)'};proto.goTo=function(x,y){this.setPosition(x,y);this.layoutPosition()};proto.moveTo=proto._transitionTo;proto.setPosition=function(x,y){this.position.x=parseInt(x,10);this.position.y=parseInt(y,10)};proto._nonTransition=function(args){this.css(args.to);if(args.isCleaning){this._removeStyles(args.to)}
for(var prop in args.onTransitionEnd){args.onTransitionEnd[prop].call(this)}};proto.transition=function(args){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(args);return}
var _transition=this._transn;for(var prop in args.onTransitionEnd){_transition.onEnd[prop]=args.onTransitionEnd[prop]}
for(prop in args.to){_transition.ingProperties[prop]=!0;if(args.isCleaning){_transition.clean[prop]=!0}}
if(args.from){this.css(args.from);var h=this.element.offsetHeight;h=null}
this.enableTransition(args.to);this.css(args.to);this.isTransitioning=!0};function toDashedAll(str){return str.replace(/([A-Z])/g,function($1){return '-'+$1.toLowerCase()})}
var transitionProps='opacity,'+toDashedAll(transformProperty);proto.enableTransition=function(){if(this.isTransitioning){return}
var duration=this.layout.options.transitionDuration;duration=typeof duration=='number'?duration+'ms':duration;this.css({transitionProperty:transitionProps,transitionDuration:duration,transitionDelay:this.staggerDelay||0});this.element.addEventListener(transitionEndEvent,this,!1)};proto.onwebkitTransitionEnd=function(event){this.ontransitionend(event)};proto.onotransitionend=function(event){this.ontransitionend(event)};var dashedVendorProperties={'-webkit-transform':'transform'};proto.ontransitionend=function(event){if(event.target!==this.element){return}
var _transition=this._transn;var propertyName=dashedVendorProperties[event.propertyName]||event.propertyName;delete _transition.ingProperties[propertyName];if(isEmptyObj(_transition.ingProperties)){this.disableTransition()}
if(propertyName in _transition.clean){this.element.style[event.propertyName]='';delete _transition.clean[propertyName]}
if(propertyName in _transition.onEnd){var onTransitionEnd=_transition.onEnd[propertyName];onTransitionEnd.call(this);delete _transition.onEnd[propertyName]}
this.emitEvent('transitionEnd',[this])};proto.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(transitionEndEvent,this,!1);this.isTransitioning=!1};proto._removeStyles=function(style){var cleanStyle={};for(var prop in style){cleanStyle[prop]=''}
this.css(cleanStyle)};var cleanTransitionStyle={transitionProperty:'',transitionDuration:'',transitionDelay:''};proto.removeTransitionStyles=function(){this.css(cleanTransitionStyle)};proto.stagger=function(delay){delay=isNaN(delay)?0:delay;this.staggerDelay=delay+'ms'};proto.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:''});this.emitEvent('remove',[this])};proto.remove=function(){if(!transitionProperty||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}
this.once('transitionEnd',function(){this.removeElem()});this.hide()};proto.reveal=function(){delete this.isHidden;this.css({display:''});var options=this.layout.options;var onTransitionEnd={};var transitionEndProperty=this.getHideRevealTransitionEndProperty('visibleStyle');onTransitionEnd[transitionEndProperty]=this.onRevealTransitionEnd;this.transition({from:options.hiddenStyle,to:options.visibleStyle,isCleaning:!0,onTransitionEnd:onTransitionEnd})};proto.onRevealTransitionEnd=function(){if(!this.isHidden){this.emitEvent('reveal')}};proto.getHideRevealTransitionEndProperty=function(styleProperty){var optionStyle=this.layout.options[styleProperty];if(optionStyle.opacity){return 'opacity'}
for(var prop in optionStyle){return prop}};proto.hide=function(){this.isHidden=!0;this.css({display:''});var options=this.layout.options;var onTransitionEnd={};var transitionEndProperty=this.getHideRevealTransitionEndProperty('hiddenStyle');onTransitionEnd[transitionEndProperty]=this.onHideTransitionEnd;this.transition({from:options.visibleStyle,to:options.hiddenStyle,isCleaning:!0,onTransitionEnd:onTransitionEnd})};proto.onHideTransitionEnd=function(){if(this.isHidden){this.css({display:'none'});this.emitEvent('hide')}};proto.destroy=function(){this.css({position:'',left:'',right:'',top:'',bottom:'',transition:'',transform:''})};return Item}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('outlayer/outlayer',['ev-emitter/ev-emitter','get-size/get-size','fizzy-ui-utils/utils','./item'],function(EvEmitter,getSize,utils,Item){return factory(window,EvEmitter,getSize,utils,Item)})}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('ev-emitter'),require('get-size'),require('fizzy-ui-utils'),require('./item'))}else{window.Outlayer=factory(window,window.EvEmitter,window.getSize,window.fizzyUIUtils,window.Outlayer.Item)}}(window,function factory(window,EvEmitter,getSize,utils,Item){'use strict';var console=window.console;var jQuery=window.jQuery;var noop=function(){};var GUID=0;var instances={};function Outlayer(element,options){var queryElement=utils.getQueryElement(element);if(!queryElement){if(console){console.error('Bad element for '+this.constructor.namespace+': '+(queryElement||element))}
return}
this.element=queryElement;if(jQuery){this.$element=jQuery(this.element)}
this.options=utils.extend({},this.constructor.defaults);this.option(options);var id=++GUID;this.element.outlayerGUID=id;instances[id]=this;this._create();var isInitLayout=this._getOption('initLayout');if(isInitLayout){this.layout()}}
Outlayer.namespace='outlayer';Outlayer.Item=Item;Outlayer.defaults={containerStyle:{position:'relative'},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:'0.4s',hiddenStyle:{opacity:0,transform:'scale(0.001)'},visibleStyle:{opacity:1,transform:'scale(1)'}};var proto=Outlayer.prototype;utils.extend(proto,EvEmitter.prototype);proto.option=function(opts){utils.extend(this.options,opts)};proto._getOption=function(option){var oldOption=this.constructor.compatOptions[option];return oldOption&&this.options[oldOption]!==undefined?this.options[oldOption]:this.options[option]};Outlayer.compatOptions={initLayout:'isInitLayout',horizontal:'isHorizontal',layoutInstant:'isLayoutInstant',originLeft:'isOriginLeft',originTop:'isOriginTop',resize:'isResizeBound',resizeContainer:'isResizingContainer'};proto._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);utils.extend(this.element.style,this.options.containerStyle);var canBindResize=this._getOption('resize');if(canBindResize){this.bindResize()}};proto.reloadItems=function(){this.items=this._itemize(this.element.children)};proto._itemize=function(elems){var itemElems=this._filterFindItemElements(elems);var Item=this.constructor.Item;var items=[];for(var i=0;i<itemElems.length;i++){var elem=itemElems[i];var item=new Item(elem,this);items.push(item)}
return items};proto._filterFindItemElements=function(elems){return utils.filterFindElements(elems,this.options.itemSelector)};proto.getItemElements=function(){return this.items.map(function(item){return item.element})};proto.layout=function(){this._resetLayout();this._manageStamps();var layoutInstant=this._getOption('layoutInstant');var isInstant=layoutInstant!==undefined?layoutInstant:!this._isLayoutInited;this.layoutItems(this.items,isInstant);this._isLayoutInited=!0};proto._init=proto.layout;proto._resetLayout=function(){this.getSize()};proto.getSize=function(){this.size=getSize(this.element)};proto._getMeasurement=function(measurement,size){var option=this.options[measurement];var elem;if(!option){this[measurement]=0}else{if(typeof option=='string'){elem=this.element.querySelector(option)}else if(option instanceof HTMLElement){elem=option}
this[measurement]=elem?getSize(elem)[size]:option}};proto.layoutItems=function(items,isInstant){items=this._getItemsForLayout(items);this._layoutItems(items,isInstant);this._postLayout()};proto._getItemsForLayout=function(items){return items.filter(function(item){return!item.isIgnored})};proto._layoutItems=function(items,isInstant){this._emitCompleteOnItems('layout',items);if(!items||!items.length){return}
var queue=[];items.forEach(function(item){var position=this._getItemLayoutPosition(item);position.item=item;position.isInstant=isInstant||item.isLayoutInstant;queue.push(position)},this);this._processLayoutQueue(queue)};proto._getItemLayoutPosition=function(){return{x:0,y:0}};proto._processLayoutQueue=function(queue){this.updateStagger();queue.forEach(function(obj,i){this._positionItem(obj.item,obj.x,obj.y,obj.isInstant,i)},this)};proto.updateStagger=function(){var stagger=this.options.stagger;if(stagger===null||stagger===undefined){this.stagger=0;return}
this.stagger=getMilliseconds(stagger);return this.stagger};proto._positionItem=function(item,x,y,isInstant,i){if(isInstant){item.goTo(x,y)}else{item.stagger(i*this.stagger);item.moveTo(x,y)}};proto._postLayout=function(){this.resizeContainer()};proto.resizeContainer=function(){var isResizingContainer=this._getOption('resizeContainer');if(!isResizingContainer){return}
var size=this._getContainerSize();if(size){this._setContainerMeasure(size.width,!0);this._setContainerMeasure(size.height,!1)}};proto._getContainerSize=noop;proto._setContainerMeasure=function(measure,isWidth){if(measure===undefined){return}
var elemSize=this.size;if(elemSize.isBorderBox){measure+=isWidth?elemSize.paddingLeft+elemSize.paddingRight+elemSize.borderLeftWidth+elemSize.borderRightWidth:elemSize.paddingBottom+elemSize.paddingTop+elemSize.borderTopWidth+elemSize.borderBottomWidth}
measure=Math.max(measure,0);this.element.style[isWidth?'width':'height']=measure+'px'};proto._emitCompleteOnItems=function(eventName,items){var _this=this;function onComplete(){_this.dispatchEvent(eventName+'Complete',null,[items])}
var count=items.length;if(!items||!count){onComplete();return}
var doneCount=0;function tick(){doneCount++;if(doneCount==count){onComplete()}}
items.forEach(function(item){item.once(eventName,tick)})};proto.dispatchEvent=function(type,event,args){var emitArgs=event?[event].concat(args):args;this.emitEvent(type,emitArgs);if(jQuery){this.$element=this.$element||jQuery(this.element);if(event){var $event=jQuery.Event(event);$event.type=type;this.$element.trigger($event,args)}else{this.$element.trigger(type,args)}}};proto.ignore=function(elem){var item=this.getItem(elem);if(item){item.isIgnored=!0}};proto.unignore=function(elem){var item=this.getItem(elem);if(item){delete item.isIgnored}};proto.stamp=function(elems){elems=this._find(elems);if(!elems){return}
this.stamps=this.stamps.concat(elems);elems.forEach(this.ignore,this)};proto.unstamp=function(elems){elems=this._find(elems);if(!elems){return}
elems.forEach(function(elem){utils.removeFrom(this.stamps,elem);this.unignore(elem)},this)};proto._find=function(elems){if(!elems){return}
if(typeof elems=='string'){elems=this.element.querySelectorAll(elems)}
elems=utils.makeArray(elems);return elems};proto._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}
this._getBoundingRect();this.stamps.forEach(this._manageStamp,this)};proto._getBoundingRect=function(){var boundingRect=this.element.getBoundingClientRect();var size=this.size;this._boundingRect={left:boundingRect.left+size.paddingLeft+size.borderLeftWidth,top:boundingRect.top+size.paddingTop+size.borderTopWidth,right:boundingRect.right-(size.paddingRight+size.borderRightWidth),bottom:boundingRect.bottom-(size.paddingBottom+size.borderBottomWidth)}};proto._manageStamp=noop;proto._getElementOffset=function(elem){var boundingRect=elem.getBoundingClientRect();var thisRect=this._boundingRect;var size=getSize(elem);var offset={left:boundingRect.left-thisRect.left-size.marginLeft,top:boundingRect.top-thisRect.top-size.marginTop,right:thisRect.right-boundingRect.right-size.marginRight,bottom:thisRect.bottom-boundingRect.bottom-size.marginBottom};return offset};proto.handleEvent=utils.handleEvent;proto.bindResize=function(){window.addEventListener('resize',this);this.isResizeBound=!0};proto.unbindResize=function(){window.removeEventListener('resize',this);this.isResizeBound=!1};proto.onresize=function(){this.resize()};utils.debounceMethod(Outlayer,'onresize',100);proto.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}
this.layout()};proto.needsResizeLayout=function(){var size=getSize(this.element);var hasSizes=this.size&&size;return hasSizes&&size.innerWidth!==this.size.innerWidth};proto.addItems=function(elems){var items=this._itemize(elems);if(items.length){this.items=this.items.concat(items)}
return items};proto.appended=function(elems){var items=this.addItems(elems);if(!items.length){return}
this.layoutItems(items,!0);this.reveal(items)};proto.prepended=function(elems){var items=this._itemize(elems);if(!items.length){return}
var previousItems=this.items.slice(0);this.items=items.concat(previousItems);this._resetLayout();this._manageStamps();this.layoutItems(items,!0);this.reveal(items);this.layoutItems(previousItems)};proto.reveal=function(items){this._emitCompleteOnItems('reveal',items);if(!items||!items.length){return}
var stagger=this.updateStagger();items.forEach(function(item,i){item.stagger(i*stagger);item.reveal()})};proto.hide=function(items){this._emitCompleteOnItems('hide',items);if(!items||!items.length){return}
var stagger=this.updateStagger();items.forEach(function(item,i){item.stagger(i*stagger);item.hide()})};proto.revealItemElements=function(elems){var items=this.getItems(elems);this.reveal(items)};proto.hideItemElements=function(elems){var items=this.getItems(elems);this.hide(items)};proto.getItem=function(elem){for(var i=0;i<this.items.length;i++){var item=this.items[i];if(item.element==elem){return item}}};proto.getItems=function(elems){elems=utils.makeArray(elems);var items=[];elems.forEach(function(elem){var item=this.getItem(elem);if(item){items.push(item)}},this);return items};proto.remove=function(elems){var removeItems=this.getItems(elems);this._emitCompleteOnItems('remove',removeItems);if(!removeItems||!removeItems.length){return}
removeItems.forEach(function(item){item.remove();utils.removeFrom(this.items,item)},this)};proto.destroy=function(){var style=this.element.style;style.height='';style.position='';style.width='';this.items.forEach(function(item){item.destroy()});this.unbindResize();var id=this.element.outlayerGUID;delete instances[id];delete this.element.outlayerGUID;if(jQuery){jQuery.removeData(this.element,this.constructor.namespace)}};Outlayer.data=function(elem){elem=utils.getQueryElement(elem);var id=elem&&elem.outlayerGUID;return id&&instances[id]};Outlayer.create=function(namespace,options){var Layout=subclass(Outlayer);Layout.defaults=utils.extend({},Outlayer.defaults);utils.extend(Layout.defaults,options);Layout.compatOptions=utils.extend({},Outlayer.compatOptions);Layout.namespace=namespace;Layout.data=Outlayer.data;Layout.Item=subclass(Item);utils.htmlInit(Layout,namespace);if(jQuery&&jQuery.bridget){jQuery.bridget(namespace,Layout)}
return Layout};function subclass(Parent){function SubClass(){Parent.apply(this,arguments)}
SubClass.prototype=Object.create(Parent.prototype);SubClass.prototype.constructor=SubClass;return SubClass}
var msUnits={ms:1,s:1000};function getMilliseconds(time){if(typeof time=='number'){return time}
var matches=time.match(/(^\d*\.?\d*)(\w*)/);var num=matches&&matches[1];var unit=matches&&matches[2];if(!num.length){return 0}
num=parseFloat(num);var mult=msUnits[unit]||1;return num*mult}
Outlayer.Item=Item;return Outlayer}));(function(window,factory){if(typeof define=='function'&&define.amd){define(['outlayer/outlayer','get-size/get-size'],factory)}else if(typeof module=='object'&&module.exports){module.exports=factory(require('outlayer'),require('get-size'))}else{window.Masonry=factory(window.Outlayer,window.getSize)}}(window,function factory(Outlayer,getSize){var Masonry=Outlayer.create('masonry');Masonry.compatOptions.fitWidth='isFitWidth';var proto=Masonry.prototype;proto._resetLayout=function(){this.getSize();this._getMeasurement('columnWidth','outerWidth');this._getMeasurement('gutter','outerWidth');this.measureColumns();this.colYs=[];for(var i=0;i<this.cols;i++){this.colYs.push(0)}
this.maxY=0;this.horizontalColIndex=0};proto.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var firstItem=this.items[0];var firstItemElem=firstItem&&firstItem.element;this.columnWidth=firstItemElem&&getSize(firstItemElem).outerWidth||this.containerWidth}
var columnWidth=this.columnWidth+=this.gutter;var containerWidth=this.containerWidth+this.gutter;var cols=containerWidth/columnWidth;var excess=columnWidth-containerWidth%columnWidth;var mathMethod=excess&&excess<1?'round':'floor';cols=Math[mathMethod](cols);this.cols=Math.max(cols,1)};proto.getContainerWidth=function(){var isFitWidth=this._getOption('fitWidth');var container=isFitWidth?this.element.parentNode:this.element;var size=getSize(container);this.containerWidth=size&&size.innerWidth};proto._getItemLayoutPosition=function(item){item.getSize();var remainder=item.size.outerWidth%this.columnWidth;var mathMethod=remainder&&remainder<1?'round':'ceil';var colSpan=Math[mathMethod](item.size.outerWidth/this.columnWidth);colSpan=Math.min(colSpan,this.cols);var colPosMethod=this.options.horizontalOrder?'_getHorizontalColPosition':'_getTopColPosition';var colPosition=this[colPosMethod](colSpan,item);var position={x:this.columnWidth*colPosition.col,y:colPosition.y};var setHeight=colPosition.y+item.size.outerHeight;var setMax=colSpan+colPosition.col;for(var i=colPosition.col;i<setMax;i++){this.colYs[i]=setHeight}
return position};proto._getTopColPosition=function(colSpan){var colGroup=this._getTopColGroup(colSpan);var minimumY=Math.min.apply(Math,colGroup);return{col:colGroup.indexOf(minimumY),y:minimumY,}};proto._getTopColGroup=function(colSpan){if(colSpan<2){return this.colYs}
var colGroup=[];var groupCount=this.cols+1-colSpan;for(var i=0;i<groupCount;i++){colGroup[i]=this._getColGroupY(i,colSpan)}
return colGroup};proto._getColGroupY=function(col,colSpan){if(colSpan<2){return this.colYs[col]}
var groupColYs=this.colYs.slice(col,col+colSpan);return Math.max.apply(Math,groupColYs)};proto._getHorizontalColPosition=function(colSpan,item){var col=this.horizontalColIndex%this.cols;var isOver=colSpan>1&&col+colSpan>this.cols;col=isOver?0:col;var hasSize=item.size.outerWidth&&item.size.outerHeight;this.horizontalColIndex=hasSize?col+colSpan:this.horizontalColIndex;return{col:col,y:this._getColGroupY(col,colSpan),}};proto._manageStamp=function(stamp){var stampSize=getSize(stamp);var offset=this._getElementOffset(stamp);var isOriginLeft=this._getOption('originLeft');var firstX=isOriginLeft?offset.left:offset.right;var lastX=firstX+stampSize.outerWidth;var firstCol=Math.floor(firstX/this.columnWidth);firstCol=Math.max(0,firstCol);var lastCol=Math.floor(lastX/this.columnWidth);lastCol-=lastX%this.columnWidth?0:1;lastCol=Math.min(this.cols-1,lastCol);var isOriginTop=this._getOption('originTop');var stampMaxY=(isOriginTop?offset.top:offset.bottom)+stampSize.outerHeight;for(var i=firstCol;i<=lastCol;i++){this.colYs[i]=Math.max(stampMaxY,this.colYs[i])}};proto._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var size={height:this.maxY};if(this._getOption('fitWidth')){size.width=this._getContainerFitWidth()}
return size};proto._getContainerFitWidth=function(){var unusedCols=0;var i=this.cols;while(--i){if(this.colYs[i]!==0){break}
unusedCols++}
return(this.cols-unusedCols)*this.columnWidth-this.gutter};proto.needsResizeLayout=function(){var previousWidth=this.containerWidth;this.getContainerWidth();return previousWidth!=this.containerWidth};return Masonry}));(function(root,factory){'use strict';if(typeof module==='object'&&typeof module.exports==='object'){module.exports=factory(root,document)}else if(typeof define==='function'&&define.amd){define([],function(){return factory(root,document)})}else{root.plyr=factory(root,document)}})(typeof window!=='undefined'?window:this,function(window,document){'use strict';var fullscreen,scroll={x:0,y:0},defaults={enabled:!0,debug:!1,autoplay:!1,loop:!1,seekTime:10,volume:10,volumeMin:0,volumeMax:10,volumeStep:1,duration:null,displayDuration:!0,loadSprite:!0,iconPrefix:'plyr',iconUrl:'https://cdn.plyr.io/2.0.18/plyr.svg',blankUrl:'https://cdn.plyr.io/static/blank.mp4',clickToPlay:!0,hideControls:!0,showPosterOnEnd:!1,disableContextMenu:!0,keyboardShorcuts:{focused:!0,global:!1,},tooltips:{controls:!1,seek:!0,},selectors:{html5:'video, audio',embed:'[data-type]',editable:'input, textarea, select, [contenteditable]',container:'.plyr',controls:{container:null,wrapper:'.plyr__controls',},labels:'[data-plyr]',buttons:{seek:'[data-plyr="seek"]',play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',forward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]',},volume:{input:'[data-plyr="volume"]',display:'.plyr__volume--display',},progress:{container:'.plyr__progress',buffer:'.plyr__progress--buffer',played:'.plyr__progress--played',},captions:'.plyr__captions',currentTime:'.plyr__time--current',duration:'.plyr__time--duration',},classes:{setup:'plyr--setup',ready:'plyr--ready',videoWrapper:'plyr__video-wrapper',embedWrapper:'plyr__video-embed',type:'plyr--{0}',stopped:'plyr--stopped',playing:'plyr--playing',muted:'plyr--muted',loading:'plyr--loading',hover:'plyr--hover',tooltip:'plyr__tooltip',hidden:'plyr__sr-only',hideControls:'plyr--hide-controls',isIos:'plyr--is-ios',isTouch:'plyr--is-touch',captions:{enabled:'plyr--captions-enabled',active:'plyr--captions-active',},fullscreen:{enabled:'plyr--fullscreen-enabled',fallback:'plyr--fullscreen-fallback',active:'plyr--fullscreen-active',},tabFocus:'tab-focus',},captions:{defaultActive:!1,},fullscreen:{enabled:!0,fallback:!0,allowAudio:!1,},storage:{enabled:!0,key:'plyr',},controls:['play-large','play','progress','current-time','mute','volume','captions','fullscreen'],i18n:{restart:'Restart',rewind:'Rewind {seektime} secs',play:'Play',pause:'Pause',forward:'Forward {seektime} secs',played:'played',buffered:'buffered',currentTime:'Current time',duration:'Duration',volume:'Volume',toggleMute:'Toggle Mute',toggleCaptions:'Toggle Captions',toggleFullscreen:'Toggle Fullscreen',frameTitle:'Player for {title}',},types:{embed:['youtube','vimeo','soundcloud'],html5:['video','audio'],},urls:{vimeo:{api:'https://player.vimeo.com/api/player.js',},youtube:{api:'https://www.youtube.com/iframe_api',},soundcloud:{api:'https://w.soundcloud.com/player/api.js',},},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,forward:null,mute:null,volume:null,captions:null,fullscreen:null,},events:['ready','ended','progress','stalled','playing','waiting','canplay','canplaythrough','loadstart','loadeddata','loadedmetadata','timeupdate','volumechange','play','pause','error','seeking','seeked','emptied',],logPrefix:'[Plyr]',};function _browserSniff(){var ua=navigator.userAgent,name=navigator.appName,fullVersion=''+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10),nameOffset,verOffset,ix,isIE=!1,isFirefox=!1,isChrome=!1,isSafari=!1;if(navigator.appVersion.indexOf('Windows NT')!==-1&&navigator.appVersion.indexOf('rv:11')!==-1){isIE=!0;name='IE';fullVersion='11'}else if((verOffset=ua.indexOf('MSIE'))!==-1){isIE=!0;name='IE';fullVersion=ua.substring(verOffset+5)}else if((verOffset=ua.indexOf('Chrome'))!==-1){isChrome=!0;name='Chrome';fullVersion=ua.substring(verOffset+7)}else if((verOffset=ua.indexOf('Safari'))!==-1){isSafari=!0;name='Safari';fullVersion=ua.substring(verOffset+7);if((verOffset=ua.indexOf('Version'))!==-1){fullVersion=ua.substring(verOffset+8)}}else if((verOffset=ua.indexOf('Firefox'))!==-1){isFirefox=!0;name='Firefox';fullVersion=ua.substring(verOffset+8)}else if((nameOffset=ua.lastIndexOf(' ')+1)<(verOffset=ua.lastIndexOf('/'))){name=ua.substring(nameOffset,verOffset);fullVersion=ua.substring(verOffset+1);if(name.toLowerCase()===name.toUpperCase()){name=navigator.appName}}
if((ix=fullVersion.indexOf(';'))!==-1){fullVersion=fullVersion.substring(0,ix)}
if((ix=fullVersion.indexOf(' '))!==-1){fullVersion=fullVersion.substring(0,ix)}
majorVersion=parseInt(''+fullVersion,10);if(isNaN(majorVersion)){fullVersion=''+parseFloat(navigator.appVersion);majorVersion=parseInt(navigator.appVersion,10)}
return{name:name,version:majorVersion,isIE:isIE,isFirefox:isFirefox,isChrome:isChrome,isSafari:isSafari,isIos:/(iPad|iPhone|iPod)/g.test(navigator.platform),isIphone:/(iPhone|iPod)/g.test(navigator.userAgent),isTouch:'ontouchstart' in document.documentElement,}}
function _supportMime(plyr,mimeType){var media=plyr.media;if(plyr.type==='video'){switch(mimeType){case 'video/webm':return!!(media.canPlayType&&media.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,''));case 'video/mp4':return!!(media.canPlayType&&media.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,''));case 'video/ogg':return!!(media.canPlayType&&media.canPlayType('video/ogg; codecs="theora"').replace(/no/,''))}}else if(plyr.type==='audio'){switch(mimeType){case 'audio/mpeg':return!!(media.canPlayType&&media.canPlayType('audio/mpeg;').replace(/no/,''));case 'audio/ogg':return!!(media.canPlayType&&media.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,''));case 'audio/wav':return!!(media.canPlayType&&media.canPlayType('audio/wav; codecs="1"').replace(/no/,''))}}
return!1}
function _injectScript(source){if(document.querySelectorAll('script[src="'+source+'"]').length){return}
var tag=document.createElement('script');tag.src=source;var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}
function _inArray(haystack,needle){return Array.prototype.indexOf&&haystack.indexOf(needle)!==-1}
function _replaceAll(string,find,replace){return string.replace(new RegExp(find.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,'\\$1'),'g'),replace)}
function _wrap(elements,wrapper){if(!elements.length){elements=[elements]}
for(var i=elements.length-1;i>=0;i--){var child=i>0?wrapper.cloneNode(!0):wrapper;var element=elements[i];var parent=element.parentNode;var sibling=element.nextSibling;child.appendChild(element);if(sibling){parent.insertBefore(child,sibling)}else{parent.appendChild(child)}
return child}}
function _remove(element){if(!element){return}
element.parentNode.removeChild(element)}
function _prependChild(parent,element){parent.insertBefore(element,parent.firstChild)}
function _setAttributes(element,attributes){for(var key in attributes){element.setAttribute(key,_is.boolean(attributes[key])&&attributes[key]?'':attributes[key])}}
function _insertElement(type,parent,attributes){var element=document.createElement(type);_setAttributes(element,attributes);_prependChild(parent,element)}
function _getClassname(selector){return selector.replace('.','')}
function _toggleClass(element,className,state){if(element){if(element.classList){element.classList[state?'add':'remove'](className)}else{var name=(' '+element.className+' ').replace(/\s+/g,' ').replace(' '+className+' ','');element.className=name+(state?' '+className:'')}}}
function _hasClass(element,className){if(element){if(element.classList){return element.classList.contains(className)}else{return new RegExp('(\\s|^)'+className+'(\\s|$)').test(element.className)}}
return!1}
function _matches(element,selector){var p=Element.prototype;var f=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return f.call(element,selector)}
function _proxyListener(element,eventName,userListener,defaultListener,useCapture){if(userListener){_on(element,eventName,function(event){userListener.apply(element,[event])},useCapture)}
_on(element,eventName,function(event){defaultListener.apply(element,[event])},useCapture)}
function _toggleListener(element,events,callback,toggle,useCapture){var eventList=events.split(' ');if(!_is.boolean(useCapture)){useCapture=!1}
if(element instanceof NodeList){for(var x=0;x<element.length;x++){if(element[x]instanceof Node){_toggleListener(element[x],arguments[1],arguments[2],arguments[3])}}
return}
for(var i=0;i<eventList.length;i++){element[toggle?'addEventListener':'removeEventListener'](eventList[i],callback,useCapture)}}
function _on(element,events,callback,useCapture){if(element){_toggleListener(element,events,callback,!0,useCapture)}}
function _off(element,events,callback,useCapture){if(element){_toggleListener(element,events,callback,!1,useCapture)}}
function _event(element,type,bubbles,properties){if(!element||!type){return}
if(!_is.boolean(bubbles)){bubbles=!1}
var event=new CustomEvent(type,{bubbles:bubbles,detail:properties,});element.dispatchEvent(event)}
function _toggleState(target,state){if(!target){return}
state=_is.boolean(state)?state:!target.getAttribute('aria-pressed');target.setAttribute('aria-pressed',state);return state}
function _getPercentage(current,max){if(current===0||max===0||isNaN(current)||isNaN(max)){return 0}
return(current/max*100).toFixed(2)}
function _extend(){var objects=arguments;if(!objects.length){return}
if(objects.length===1){return objects[0]}
var destination=Array.prototype.shift.call(objects),length=objects.length;for(var i=0;i<length;i++){var source=objects[i];for(var property in source){if(source[property]&&source[property].constructor&&source[property].constructor===Object){destination[property]=destination[property]||{};_extend(destination[property],source[property])}else{destination[property]=source[property]}}}
return destination}
var _is={object:function(input){return input!==null&&typeof input==='object'},array:function(input){return input!==null&&(typeof input==='object'&&input.constructor===Array)},number:function(input){return input!==null&&((typeof input==='number'&&!isNaN(input-0))||(typeof input==='object'&&input.constructor===Number))},string:function(input){return input!==null&&(typeof input==='string'||(typeof input==='object'&&input.constructor===String))},boolean:function(input){return input!==null&&typeof input==='boolean'},nodeList:function(input){return input!==null&&input instanceof NodeList},htmlElement:function(input){return input!==null&&input instanceof HTMLElement},function:function(input){return input!==null&&typeof input==='function'},undefined:function(input){return input!==null&&typeof input==='undefined'},};function _parseYouTubeId(url){var regex=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;return url.match(regex)?RegExp.$2:url}
function _parseVimeoId(url){var regex=/^.*(vimeo.com\/|video\/)(\d+).*/;return url.match(regex)?RegExp.$2:url}
function _fullscreen(){var fullscreen={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:'',element:null,prefix:'',},browserPrefixes='webkit o moz ms khtml'.split(' ');if(!_is.undefined(document.cancelFullScreen)){fullscreen.supportsFullScreen=!0}else{for(var i=0,il=browserPrefixes.length;i<il;i++){fullscreen.prefix=browserPrefixes[i];if(!_is.undefined(document[fullscreen.prefix+'CancelFullScreen'])){fullscreen.supportsFullScreen=!0;break}else if(!_is.undefined(document.msExitFullscreen)&&document.msFullscreenEnabled){fullscreen.prefix='ms';fullscreen.supportsFullScreen=!0;break}}}
if(fullscreen.supportsFullScreen){fullscreen.fullScreenEventName=fullscreen.prefix==='ms'?'MSFullscreenChange':fullscreen.prefix+'fullscreenchange';fullscreen.isFullScreen=function(element){if(_is.undefined(element)){element=document.body}
switch(this.prefix){case '':return document.fullscreenElement===element;case 'moz':return document.mozFullScreenElement===element;default:return document[this.prefix+'FullscreenElement']===element}};fullscreen.requestFullScreen=function(element){if(_is.undefined(element)){element=document.body}
return this.prefix===''?element.requestFullScreen():element[this.prefix+(this.prefix==='ms'?'RequestFullscreen':'RequestFullScreen')]()};fullscreen.cancelFullScreen=function(){return this.prefix===''?document.cancelFullScreen():document[this.prefix+(this.prefix==='ms'?'ExitFullscreen':'CancelFullScreen')]()};fullscreen.element=function(){return this.prefix===''?document.fullscreenElement:document[this.prefix+'FullscreenElement']}}
return fullscreen}
var _storage={supported:(function(){try{window.localStorage.setItem('___test','OK');var result=window.localStorage.getItem('___test');window.localStorage.removeItem('___test');return result==='OK'}catch(e){return!1}
return!1})(),};function Plyr(media,config){var plyr=this,timers={},api;plyr.media=media;var original=media.cloneNode(!0);function _triggerEvent(element,type,bubbles,properties){_event(element,type,bubbles,_extend({},properties,{plyr:api,}))}
function _console(type,args){if(config.debug&&window.console){args=Array.prototype.slice.call(args);if(_is.string(config.logPrefix)&&config.logPrefix.length){args.unshift(config.logPrefix)}
console[type].apply(console,args)}}
var _log=function(){_console('log',arguments)},_warn=function(){_console('warn',arguments)};_log('Config',config);function _getIconUrl(){return{url:config.iconUrl,absolute:config.iconUrl.indexOf('http')===0||(plyr.browser.isIE&&!window.svg4everybody),}}
function _buildControls(){var html=[],iconUrl=_getIconUrl(),iconPath=(!iconUrl.absolute?iconUrl.url:'')+'#'+config.iconPrefix;if(_inArray(config.controls,'play-large')){html.push('<button type="button" data-plyr="play" class="plyr__play-large">','<svg><use xlink:href="'+iconPath+'-play" /></svg>','<span class="plyr__sr-only">'+config.i18n.play+'</span>','</button>')}
html.push('<div class="plyr__controls">');if(_inArray(config.controls,'restart')){html.push('<button type="button" data-plyr="restart">','<svg><use xlink:href="'+iconPath+'-restart" /></svg>','<span class="plyr__sr-only">'+config.i18n.restart+'</span>','</button>')}
if(_inArray(config.controls,'rewind')){html.push('<button type="button" data-plyr="rewind">','<svg><use xlink:href="'+iconPath+'-rewind" /></svg>','<span class="plyr__sr-only">'+config.i18n.rewind+'</span>','</button>')}
if(_inArray(config.controls,'play')){html.push('<button type="button" data-plyr="play">','<svg><use xlink:href="'+iconPath+'-play" /></svg>','<span class="plyr__sr-only">'+config.i18n.play+'</span>','</button>','<button type="button" data-plyr="pause">','<svg><use xlink:href="'+iconPath+'-pause" /></svg>','<span class="plyr__sr-only">'+config.i18n.pause+'</span>','</button>')}
if(_inArray(config.controls,'fast-forward')){html.push('<button type="button" data-plyr="fast-forward">','<svg><use xlink:href="'+iconPath+'-fast-forward" /></svg>','<span class="plyr__sr-only">'+config.i18n.forward+'</span>','</button>')}
if(_inArray(config.controls,'progress')){html.push('<span class="plyr__progress">','<label for="seek{id}" class="plyr__sr-only">Seek</label>','<input id="seek{id}" class="plyr__progress--seek" type="range" min="0" max="100" step="0.1" value="0" data-plyr="seek">','<progress class="plyr__progress--played" max="100" value="0" role="presentation"></progress>','<progress class="plyr__progress--buffer" max="100" value="0">','<span>0</span>% '+config.i18n.buffered,'</progress>');if(config.tooltips.seek){html.push('<span class="plyr__tooltip">00:00</span>')}
html.push('</span>')}
if(_inArray(config.controls,'current-time')){html.push('<span class="plyr__time">','<span class="plyr__sr-only">'+config.i18n.currentTime+'</span>','<span class="plyr__time--current">00:00</span>','</span>')}
if(_inArray(config.controls,'duration')){html.push('<span class="plyr__time">','<span class="plyr__sr-only">'+config.i18n.duration+'</span>','<span class="plyr__time--duration">00:00</span>','</span>')}
if(_inArray(config.controls,'mute')){html.push('<button type="button" data-plyr="mute">','<svg class="icon--muted"><use xlink:href="'+iconPath+'-muted" /></svg>','<svg><use xlink:href="'+iconPath+'-volume" /></svg>','<span class="plyr__sr-only">'+config.i18n.toggleMute+'</span>','</button>')}
if(_inArray(config.controls,'volume')){html.push('<span class="plyr__volume">','<label for="volume{id}" class="plyr__sr-only">'+config.i18n.volume+'</label>','<input id="volume{id}" class="plyr__volume--input" type="range" min="'+config.volumeMin+'" max="'+config.volumeMax+'" value="'+config.volume+'" data-plyr="volume">','<progress class="plyr__volume--display" max="'+config.volumeMax+'" value="'+config.volumeMin+'" role="presentation"></progress>','</span>')}
if(_inArray(config.controls,'captions')){html.push('<button type="button" data-plyr="captions">','<svg class="icon--captions-on"><use xlink:href="'+iconPath+'-captions-on" /></svg>','<svg><use xlink:href="'+iconPath+'-captions-off" /></svg>','<span class="plyr__sr-only">'+config.i18n.toggleCaptions+'</span>','</button>')}
if(_inArray(config.controls,'fullscreen')){html.push('<button type="button" data-plyr="fullscreen">','<svg class="icon--exit-fullscreen"><use xlink:href="'+iconPath+'-exit-fullscreen" /></svg>','<svg><use xlink:href="'+iconPath+'-enter-fullscreen" /></svg>','<span class="plyr__sr-only">'+config.i18n.toggleFullscreen+'</span>','</button>')}
html.push('</div>');return html.join('')}
function _setupFullscreen(){if(!plyr.supported.full){return}
if((plyr.type!=='audio'||config.fullscreen.allowAudio)&&config.fullscreen.enabled){var nativeSupport=fullscreen.supportsFullScreen;if(nativeSupport||(config.fullscreen.fallback&&!_inFrame())){_log((nativeSupport?'Native':'Fallback')+' fullscreen enabled');if(!nativeSupport){_toggleClass(plyr.container,config.classes.fullscreen.fallback,!0)}
_toggleClass(plyr.container,config.classes.fullscreen.enabled,!0)}else{_log('Fullscreen not supported and fallback disabled')}
if(plyr.buttons&&plyr.buttons.fullscreen){_toggleState(plyr.buttons.fullscreen,!1)}
_focusTrap()}}
function _setupCaptions(){if(plyr.type!=='video'){return}
if(!_getElement(config.selectors.captions)){plyr.videoContainer.insertAdjacentHTML('afterbegin','<div class="'+_getClassname(config.selectors.captions)+'"></div>')}
plyr.usingTextTracks=!1;if(plyr.media.textTracks){plyr.usingTextTracks=!0}
var captionSrc='',kind,children=plyr.media.childNodes;for(var i=0;i<children.length;i++){if(children[i].nodeName.toLowerCase()==='track'){kind=children[i].kind;if(kind==='captions'||kind==='subtitles'){captionSrc=children[i].getAttribute('src')}}}
plyr.captionExists=!0;if(captionSrc===''){plyr.captionExists=!1;_log('No caption track found')}else{_log('Caption track found; URI: '+captionSrc)}
if(!plyr.captionExists){_toggleClass(plyr.container,config.classes.captions.enabled)}else{var tracks=plyr.media.textTracks;for(var x=0;x<tracks.length;x++){tracks[x].mode='hidden'}
_showCaptions(plyr);if((plyr.browser.isIE&&plyr.browser.version>=10)||(plyr.browser.isFirefox&&plyr.browser.version>=31)){_log('Detected browser with known TextTrack issues - using manual fallback');plyr.usingTextTracks=!1}
if(plyr.usingTextTracks){_log('TextTracks supported');for(var y=0;y<tracks.length;y++){var track=tracks[y];if(track.kind==='captions'||track.kind==='subtitles'){_on(track,'cuechange',function(){if(this.activeCues[0]&&'text' in this.activeCues[0]){_setCaption(this.activeCues[0].getCueAsHTML())}else{_setCaption()}})}}}else{_log('TextTracks not supported so rendering captions manually');plyr.currentCaption='';plyr.captions=[];if(captionSrc!==''){var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200){var captions=[],caption,req=xhr.responseText;var lineSeparator='\r\n';if(req.indexOf(lineSeparator+lineSeparator)===-1){if(req.indexOf('\r\r')!==-1){lineSeparator='\r'}else{lineSeparator='\n'}}
captions=req.split(lineSeparator+lineSeparator);for(var r=0;r<captions.length;r++){caption=captions[r];plyr.captions[r]=[];var parts=caption.split(lineSeparator),index=0;if(parts[index].indexOf(':')===-1){index=1}
plyr.captions[r]=[parts[index],parts[index+1]]}
plyr.captions.shift();_log('Successfully loaded the caption file via AJAX')}else{_warn(config.logPrefix+'There was a problem loading the caption file via AJAX')}}};xhr.open('get',captionSrc,!0);xhr.send()}}}}
function _setCaption(caption){var container=_getElement(config.selectors.captions),content=document.createElement('span');container.innerHTML='';if(_is.undefined(caption)){caption=''}
if(_is.string(caption)){content.innerHTML=caption.trim()}else{content.appendChild(caption)}
container.appendChild(content);var redraw=container.offsetHeight}
function _seekManualCaptions(time){function _timecodeCommon(tc,pos){var tcpair=[];tcpair=tc.split(' --> ');for(var i=0;i<tcpair.length;i++){tcpair[i]=tcpair[i].replace(/(\d+:\d+:\d+\.\d+).*/,'$1')}
return _subTcSecs(tcpair[pos])}
function _timecodeMin(tc){return _timecodeCommon(tc,0)}
function _timecodeMax(tc){return _timecodeCommon(tc,1)}
function _subTcSecs(tc){if(tc===null||tc===undefined){return 0}else{var tc1=[],tc2=[],seconds;tc1=tc.split(',');tc2=tc1[0].split(':');seconds=Math.floor(tc2[0]*60*60)+Math.floor(tc2[1]*60)+Math.floor(tc2[2]);return seconds}}
if(plyr.usingTextTracks||plyr.type!=='video'||!plyr.supported.full){return}
plyr.subcount=0;time=_is.number(time)?time:plyr.media.currentTime;if(!plyr.captions[plyr.subcount]){return}
while(_timecodeMax(plyr.captions[plyr.subcount][0])<time.toFixed(1)){plyr.subcount++;if(plyr.subcount>plyr.captions.length-1){plyr.subcount=plyr.captions.length-1;break}}
if(plyr.media.currentTime.toFixed(1)>=_timecodeMin(plyr.captions[plyr.subcount][0])&&plyr.media.currentTime.toFixed(1)<=_timecodeMax(plyr.captions[plyr.subcount][0])){plyr.currentCaption=plyr.captions[plyr.subcount][1];_setCaption(plyr.currentCaption)}else{_setCaption()}}
function _showCaptions(){if(!plyr.buttons.captions){return}
_toggleClass(plyr.container,config.classes.captions.enabled,!0);var active=plyr.storage.captionsEnabled;if(!_is.boolean(active)){active=config.captions.defaultActive}
if(active){_toggleClass(plyr.container,config.classes.captions.active,!0);_toggleState(plyr.buttons.captions,!0)}}
function _getElements(selector){return plyr.container.querySelectorAll(selector)}
function _getElement(selector){return _getElements(selector)[0]}
function _inFrame(){try{return window.self!==window.top}catch(e){return!0}}
function _focusTrap(){var tabbables=_getElements('input:not([disabled]), button:not([disabled])'),first=tabbables[0],last=tabbables[tabbables.length-1];function _checkFocus(event){if(event.which===9&&plyr.isFullscreen){if(event.target===last&&!event.shiftKey){event.preventDefault();first.focus()}else if(event.target===first&&event.shiftKey){event.preventDefault();last.focus()}}}
_on(plyr.container,'keydown',_checkFocus)}
function _insertChildElements(type,attributes){if(_is.string(attributes)){_insertElement(type,plyr.media,{src:attributes})}else if(attributes.constructor===Array){for(var i=attributes.length-1;i>=0;i--){_insertElement(type,plyr.media,attributes[i])}}}
function _injectControls(){if(config.loadSprite){var iconUrl=_getIconUrl();if(iconUrl.absolute){_log('AJAX loading absolute SVG sprite'+(plyr.browser.isIE?' (due to IE)':''));loadSprite(iconUrl.url,'sprite-plyr')}else{_log('Sprite will be used as external resource directly')}}
var html=config.html;_log('Injecting custom controls');if(!html){html=_buildControls()}
html=_replaceAll(html,'{seektime}',config.seekTime);html=_replaceAll(html,'{id}',Math.floor(Math.random()*10000));if(config.title){html=_replaceAll(html,'{title}',config.title)}
var target;if(_is.string(config.selectors.controls.container)){target=document.querySelector(config.selectors.controls.container)}
if(!_is.htmlElement(target)){target=plyr.container}
target.insertAdjacentHTML('beforeend',html);if(config.tooltips.controls){var labels=_getElements([config.selectors.controls.wrapper,' ',config.selectors.labels,' .',config.classes.hidden].join(''));for(var i=labels.length-1;i>=0;i--){var label=labels[i];_toggleClass(label,config.classes.hidden,!1);_toggleClass(label,config.classes.tooltip,!0)}}}
function _findElements(){try{plyr.controls=_getElement(config.selectors.controls.wrapper);plyr.buttons={};plyr.buttons.seek=_getElement(config.selectors.buttons.seek);plyr.buttons.play=_getElements(config.selectors.buttons.play);plyr.buttons.pause=_getElement(config.selectors.buttons.pause);plyr.buttons.restart=_getElement(config.selectors.buttons.restart);plyr.buttons.rewind=_getElement(config.selectors.buttons.rewind);plyr.buttons.forward=_getElement(config.selectors.buttons.forward);plyr.buttons.fullscreen=_getElement(config.selectors.buttons.fullscreen);plyr.buttons.mute=_getElement(config.selectors.buttons.mute);plyr.buttons.captions=_getElement(config.selectors.buttons.captions);plyr.progress={};plyr.progress.container=_getElement(config.selectors.progress.container);plyr.progress.buffer={};plyr.progress.buffer.bar=_getElement(config.selectors.progress.buffer);plyr.progress.buffer.text=plyr.progress.buffer.bar&&plyr.progress.buffer.bar.getElementsByTagName('span')[0];plyr.progress.played=_getElement(config.selectors.progress.played);plyr.progress.tooltip=plyr.progress.container&&plyr.progress.container.querySelector('.'+config.classes.tooltip);plyr.volume={};plyr.volume.input=_getElement(config.selectors.volume.input);plyr.volume.display=_getElement(config.selectors.volume.display);plyr.duration=_getElement(config.selectors.duration);plyr.currentTime=_getElement(config.selectors.currentTime);plyr.seekTime=_getElements(config.selectors.seekTime);return!0}catch(e){_warn('It looks like there is a problem with your controls HTML');_toggleNativeControls(!0);return!1}}
function _toggleStyleHook(){_toggleClass(plyr.container,config.selectors.container.replace('.',''),plyr.supported.full)}
function _toggleNativeControls(toggle){if(toggle&&_inArray(config.types.html5,plyr.type)){plyr.media.setAttribute('controls','')}else{plyr.media.removeAttribute('controls')}}
function _setTitle(iframe){var label=config.i18n.play;if(_is.string(config.title)&&config.title.length){label+=', '+config.title;plyr.container.setAttribute('aria-label',config.title)}
if(plyr.supported.full&&plyr.buttons.play){for(var i=plyr.buttons.play.length-1;i>=0;i--){plyr.buttons.play[i].setAttribute('aria-label',label)}}
if(_is.htmlElement(iframe)){iframe.setAttribute('title',config.i18n.frameTitle.replace('{title}',config.title))}}
function _setupStorage(){var value=null;plyr.storage={};if(!_storage.supported||!config.storage.enabled){return}
window.localStorage.removeItem('plyr-volume');value=window.localStorage.getItem(config.storage.key);if(!value){return}else if(/^\d+(\.\d+)?$/.test(value)){_updateStorage({volume:parseFloat(value)})}else{plyr.storage=JSON.parse(value)}}
function _updateStorage(value){if(!_storage.supported||!config.storage.enabled){return}
_extend(plyr.storage,value);window.localStorage.setItem(config.storage.key,JSON.stringify(plyr.storage))}
function _setupMedia(){if(!plyr.media){_warn('No media element found!');return}
if(plyr.supported.full){_toggleClass(plyr.container,config.classes.type.replace('{0}',plyr.type),!0);if(_inArray(config.types.embed,plyr.type)){_toggleClass(plyr.container,config.classes.type.replace('{0}','video'),!0)}
_toggleClass(plyr.container,config.classes.stopped,config.autoplay);_toggleClass(plyr.container,config.classes.isIos,plyr.browser.isIos);_toggleClass(plyr.container,config.classes.isTouch,plyr.browser.isTouch);if(plyr.type==='video'){var wrapper=document.createElement('div');wrapper.setAttribute('class',config.classes.videoWrapper);_wrap(plyr.media,wrapper);plyr.videoContainer=wrapper}}
if(_inArray(config.types.embed,plyr.type)){_setupEmbed()}}
function _setupEmbed(){var container=document.createElement('div'),mediaId,mediaUrl,id=plyr.type+'-'+Math.floor(Math.random()*10000);switch(plyr.type){case 'youtube':mediaId=_parseYouTubeId(plyr.embedId);break;case 'vimeo':mediaId=_parseVimeoId(plyr.embedId);break;default:mediaId=plyr.embedId}
var containers=_getElements('[id^="'+plyr.type+'-"]');for(var i=containers.length-1;i>=0;i--){_remove(containers[i])}
_toggleClass(plyr.media,config.classes.videoWrapper,!0);_toggleClass(plyr.media,config.classes.embedWrapper,!0);if(plyr.type==='youtube'){plyr.media.appendChild(container);container.setAttribute('id',id);if(_is.object(window.YT)){_youTubeReady(mediaId,container)}else{_injectScript(config.urls.youtube.api);window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[];window.onYouTubeReadyCallbacks.push(function(){_youTubeReady(mediaId,container)});window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(callback){callback()})}}}else if(plyr.type==='vimeo'){if(plyr.supported.full){plyr.media.appendChild(container)}else{container=plyr.media}
container.setAttribute('id',id);if(!_is.object(window.Vimeo)){_injectScript(config.urls.vimeo.api);var vimeoTimer=window.setInterval(function(){if(_is.object(window.Vimeo)){window.clearInterval(vimeoTimer);_vimeoReady(mediaId,container)}},50)}else{_vimeoReady(mediaId,container)}}else if(plyr.type==='soundcloud'){var soundCloud=document.createElement('iframe');soundCloud.loaded=!1;_on(soundCloud,'load',function(){soundCloud.loaded=!0});_setAttributes(soundCloud,{src:'https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/'+mediaId,id:id,});container.appendChild(soundCloud);plyr.media.appendChild(container);if(!window.SC){_injectScript(config.urls.soundcloud.api)}
var soundCloudTimer=window.setInterval(function(){if(window.SC&&soundCloud.loaded){window.clearInterval(soundCloudTimer);_soundcloudReady.call(soundCloud)}},50)}}
function _embedReady(){if(plyr.supported.full){_setupInterface();_ready()}
_setTitle(_getElement('iframe'))}
function _youTubeReady(videoId,container){plyr.embed=new window.YT.Player(container.id,{videoId:videoId,playerVars:{autoplay:config.autoplay?1:0,controls:plyr.supported.full?0:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:config.captions.defaultActive?1:0,cc_lang_pref:'en',wmode:'transparent',modestbranding:1,disablekb:1,origin:'*',},events:{onError:function(event){_triggerEvent(plyr.container,'error',!0,{code:event.data,embed:event.target,})},onReady:function(event){var instance=event.target;plyr.media.play=function(){instance.playVideo();plyr.media.paused=!1};plyr.media.pause=function(){instance.pauseVideo();plyr.media.paused=!0};plyr.media.stop=function(){instance.stopVideo();plyr.media.paused=!0};plyr.media.duration=instance.getDuration();plyr.media.paused=!0;plyr.media.currentTime=0;plyr.media.muted=instance.isMuted();if(typeof instance.getVideoData==='function'){config.title=instance.getVideoData().title}
if(plyr.supported.full){plyr.media.querySelector('iframe').setAttribute('tabindex','-1')}
_embedReady();_triggerEvent(plyr.media,'timeupdate');_triggerEvent(plyr.media,'durationchange');window.clearInterval(timers.buffering);timers.buffering=window.setInterval(function(){plyr.media.buffered=instance.getVideoLoadedFraction();if(plyr.media.lastBuffered===null||plyr.media.lastBuffered<plyr.media.buffered){_triggerEvent(plyr.media,'progress')}
plyr.media.lastBuffered=plyr.media.buffered;if(plyr.media.buffered===1){window.clearInterval(timers.buffering);_triggerEvent(plyr.media,'canplaythrough')}},200)},onStateChange:function(event){var instance=event.target;window.clearInterval(timers.playing);switch(event.data){case 0:plyr.media.paused=!0;_triggerEvent(plyr.media,'ended');break;case 1:plyr.media.paused=!1;if(plyr.media.seeking){_triggerEvent(plyr.media,'seeked')}
plyr.media.seeking=!1;_triggerEvent(plyr.media,'play');_triggerEvent(plyr.media,'playing');timers.playing=window.setInterval(function(){plyr.media.currentTime=instance.getCurrentTime();_triggerEvent(plyr.media,'timeupdate')},100);if(plyr.media.duration!==instance.getDuration()){plyr.media.duration=instance.getDuration();_triggerEvent(plyr.media,'durationchange')}
break;case 2:plyr.media.paused=!0;_triggerEvent(plyr.media,'pause');break}
_triggerEvent(plyr.container,'statechange',!1,{code:event.data,})},},})}
function _vimeoReady(mediaId,container){var options={loop:config.loop,autoplay:config.autoplay,byline:!1,portrait:!1,title:!1,speed:!0,transparent:0,};function buildUrlParameters(options){return Object.keys(options).map(function(key){return encodeURIComponent(key)+'='+encodeURIComponent(options[key])}).join('&')}
var params=buildUrlParameters(options);var iframe=document.createElement('iframe');var src='https://player.vimeo.com/video/'+mediaId+'?'+params;iframe.setAttribute('src',src);iframe.setAttribute('allowfullscreen','');container.appendChild(iframe);plyr.embed=new window.Vimeo.Player(iframe);plyr.media.play=function(){plyr.embed.play();plyr.media.paused=!1};plyr.media.pause=function(){plyr.embed.pause();plyr.media.paused=!0};plyr.media.stop=function(){plyr.embed.stop();plyr.media.paused=!0};plyr.media.paused=!0;plyr.media.currentTime=0;_embedReady();plyr.embed.getCurrentTime().then(function(value){plyr.media.currentTime=value;_triggerEvent(plyr.media,'timeupdate')});plyr.embed.getDuration().then(function(value){plyr.media.duration=value;_triggerEvent(plyr.media,'durationchange')});plyr.embed.on('loaded',function(){if(_is.htmlElement(plyr.embed.element)&&plyr.supported.full){plyr.embed.element.setAttribute('tabindex','-1')}});plyr.embed.on('play',function(){plyr.media.paused=!1;_triggerEvent(plyr.media,'play');_triggerEvent(plyr.media,'playing')});plyr.embed.on('pause',function(){plyr.media.paused=!0;_triggerEvent(plyr.media,'pause')});plyr.embed.on('timeupdate',function(data){plyr.media.seeking=!1;plyr.media.currentTime=data.seconds;_triggerEvent(plyr.media,'timeupdate')});plyr.embed.on('progress',function(data){plyr.media.buffered=data.percent;_triggerEvent(plyr.media,'progress');if(parseInt(data.percent)===1){_triggerEvent(plyr.media,'canplaythrough')}});plyr.embed.on('seeked',function(){plyr.media.seeking=!1;_triggerEvent(plyr.media,'seeked');_triggerEvent(plyr.media,'play')});plyr.embed.on('ended',function(){plyr.media.paused=!0;_triggerEvent(plyr.media,'ended')})}
function _soundcloudReady(){plyr.embed=window.SC.Widget(this);plyr.embed.bind(window.SC.Widget.Events.READY,function(){plyr.media.play=function(){plyr.embed.play();plyr.media.paused=!1};plyr.media.pause=function(){plyr.embed.pause();plyr.media.paused=!0};plyr.media.stop=function(){plyr.embed.seekTo(0);plyr.embed.pause();plyr.media.paused=!0};plyr.media.paused=!0;plyr.media.currentTime=0;plyr.embed.getDuration(function(value){plyr.media.duration=value/1000;_embedReady()});plyr.embed.getPosition(function(value){plyr.media.currentTime=value;_triggerEvent(plyr.media,'timeupdate')});plyr.embed.bind(window.SC.Widget.Events.PLAY,function(){plyr.media.paused=!1;_triggerEvent(plyr.media,'play');_triggerEvent(plyr.media,'playing')});plyr.embed.bind(window.SC.Widget.Events.PAUSE,function(){plyr.media.paused=!0;_triggerEvent(plyr.media,'pause')});plyr.embed.bind(window.SC.Widget.Events.PLAY_PROGRESS,function(data){plyr.media.seeking=!1;plyr.media.currentTime=data.currentPosition/1000;_triggerEvent(plyr.media,'timeupdate')});plyr.embed.bind(window.SC.Widget.Events.LOAD_PROGRESS,function(data){plyr.media.buffered=data.loadProgress;_triggerEvent(plyr.media,'progress');if(parseInt(data.loadProgress)===1){_triggerEvent(plyr.media,'canplaythrough')}});plyr.embed.bind(window.SC.Widget.Events.FINISH,function(){plyr.media.paused=!0;_triggerEvent(plyr.media,'ended')})})}
function _play(){if('play' in plyr.media){plyr.media.play()}}
function _pause(){if('pause' in plyr.media){plyr.media.pause()}}
function _togglePlay(toggle){if(!_is.boolean(toggle)){toggle=plyr.media.paused}
if(toggle){_play()}else{_pause()}
return toggle}
function _rewind(seekTime){if(!_is.number(seekTime)){seekTime=config.seekTime}
_seek(plyr.media.currentTime-seekTime)}
function _forward(seekTime){if(!_is.number(seekTime)){seekTime=config.seekTime}
_seek(plyr.media.currentTime+seekTime)}
function _seek(input){var targetTime=0,paused=plyr.media.paused,duration=_getDuration();if(_is.number(input)){targetTime=input}else if(_is.object(input)&&_inArray(['input','change'],input.type)){targetTime=input.target.value/input.target.max*duration}
if(targetTime<0){targetTime=0}else if(targetTime>duration){targetTime=duration}
_updateSeekDisplay(targetTime);try{plyr.media.currentTime=targetTime.toFixed(4)}catch(e){}
if(_inArray(config.types.embed,plyr.type)){switch(plyr.type){case 'youtube':plyr.embed.seekTo(targetTime);break;case 'vimeo':plyr.embed.setCurrentTime(targetTime.toFixed(0));break;case 'soundcloud':plyr.embed.seekTo(targetTime*1000);break}
if(paused){_pause()}
_triggerEvent(plyr.media,'timeupdate');plyr.media.seeking=!0;_triggerEvent(plyr.media,'seeking')}
_log('Seeking to '+plyr.media.currentTime+' seconds');_seekManualCaptions(targetTime)}
function _getDuration(){var duration=parseInt(config.duration),mediaDuration=0;if(plyr.media.duration!==null&&!isNaN(plyr.media.duration)){mediaDuration=plyr.media.duration}
return isNaN(duration)?mediaDuration:duration}
function _checkPlaying(){_toggleClass(plyr.container,config.classes.playing,!plyr.media.paused);_toggleClass(plyr.container,config.classes.stopped,plyr.media.paused);_toggleControls(plyr.media.paused)}
function _saveScrollPosition(){scroll={x:window.pageXOffset||0,y:window.pageYOffset||0,}}
function _restoreScrollPosition(){window.scrollTo(scroll.x,scroll.y)}
function _toggleFullscreen(event){var nativeSupport=fullscreen.supportsFullScreen;if(nativeSupport){if(event&&event.type===fullscreen.fullScreenEventName){plyr.isFullscreen=fullscreen.isFullScreen(plyr.container)}else{if(!fullscreen.isFullScreen(plyr.container)){_saveScrollPosition();fullscreen.requestFullScreen(plyr.container)}else{fullscreen.cancelFullScreen()}
plyr.isFullscreen=fullscreen.isFullScreen(plyr.container);return}}else{plyr.isFullscreen=!plyr.isFullscreen;document.body.style.overflow=plyr.isFullscreen?'hidden':''}
_toggleClass(plyr.container,config.classes.fullscreen.active,plyr.isFullscreen);_focusTrap(plyr.isFullscreen);if(plyr.buttons&&plyr.buttons.fullscreen){_toggleState(plyr.buttons.fullscreen,plyr.isFullscreen)}
_triggerEvent(plyr.container,plyr.isFullscreen?'enterfullscreen':'exitfullscreen',!0);if(!plyr.isFullscreen&&nativeSupport){_restoreScrollPosition()}}
function _toggleMute(muted){if(!_is.boolean(muted)){muted=!plyr.media.muted}
_toggleState(plyr.buttons.mute,muted);plyr.media.muted=muted;if(plyr.media.volume===0){_setVolume(config.volume)}
if(_inArray(config.types.embed,plyr.type)){switch(plyr.type){case 'youtube':plyr.embed[plyr.media.muted?'mute':'unMute']();break;case 'vimeo':case 'soundcloud':plyr.embed.setVolume(plyr.media.muted?0:parseFloat(config.volume/config.volumeMax));break}
_triggerEvent(plyr.media,'volumechange')}}
function _setVolume(volume){var max=config.volumeMax,min=config.volumeMin;if(_is.undefined(volume)){volume=plyr.storage.volume}
if(volume===null||isNaN(volume)){volume=config.volume}
if(volume>max){volume=max}
if(volume<min){volume=min}
plyr.media.volume=parseFloat(volume/max);if(plyr.volume.display){plyr.volume.display.value=volume}
if(_inArray(config.types.embed,plyr.type)){switch(plyr.type){case 'youtube':plyr.embed.setVolume(plyr.media.volume*100);break;case 'vimeo':case 'soundcloud':plyr.embed.setVolume(plyr.media.volume);break}
_triggerEvent(plyr.media,'volumechange')}
if(volume===0){plyr.media.muted=!0}else if(plyr.media.muted&&volume>0){_toggleMute()}}
function _increaseVolume(step){var volume=plyr.media.muted?0:plyr.media.volume*config.volumeMax;if(!_is.number(step)){step=config.volumeStep}
_setVolume(volume+step)}
function _decreaseVolume(step){var volume=plyr.media.muted?0:plyr.media.volume*config.volumeMax;if(!_is.number(step)){step=config.volumeStep}
_setVolume(volume-step)}
function _updateVolume(){var volume=plyr.media.muted?0:plyr.media.volume*config.volumeMax;if(plyr.supported.full){if(plyr.volume.input){plyr.volume.input.value=volume}
if(plyr.volume.display){plyr.volume.display.value=volume}}
_updateStorage({volume:volume});_toggleClass(plyr.container,config.classes.muted,volume===0);if(plyr.supported.full&&plyr.buttons.mute){_toggleState(plyr.buttons.mute,volume===0)}}
function _toggleCaptions(show){if(!plyr.supported.full||!plyr.buttons.captions){return}
if(!_is.boolean(show)){show=plyr.container.className.indexOf(config.classes.captions.active)===-1}
plyr.captionsEnabled=show;_toggleState(plyr.buttons.captions,plyr.captionsEnabled);_toggleClass(plyr.container,config.classes.captions.active,plyr.captionsEnabled);_triggerEvent(plyr.container,plyr.captionsEnabled?'captionsenabled':'captionsdisabled',!0);_updateStorage({captionsEnabled:plyr.captionsEnabled})}
function _checkLoading(event){var loading=event.type==='waiting';clearTimeout(timers.loading);timers.loading=setTimeout(function(){_toggleClass(plyr.container,config.classes.loading,loading);_toggleControls(loading)},loading?250:0)}
function _updateProgress(event){if(!plyr.supported.full){return}
var progress=plyr.progress.played,value=0,duration=_getDuration();if(event){switch(event.type){case 'timeupdate':case 'seeking':if(plyr.controls.pressed){return}
value=_getPercentage(plyr.media.currentTime,duration);if(event.type==='timeupdate'&&plyr.buttons.seek){plyr.buttons.seek.value=value}
break;case 'playing':case 'progress':progress=plyr.progress.buffer;value=(function(){var buffered=plyr.media.buffered;if(buffered&&buffered.length){return _getPercentage(buffered.end(0),duration)}else if(_is.number(buffered)){return buffered*100}
return 0})();break}}
_setProgress(progress,value)}
function _setProgress(progress,value){if(!plyr.supported.full){return}
if(_is.undefined(value)){value=0}
if(_is.undefined(progress)){if(plyr.progress&&plyr.progress.buffer){progress=plyr.progress.buffer}else{return}}
if(_is.htmlElement(progress)){progress.value=value}else if(progress){if(progress.bar){progress.bar.value=value}
if(progress.text){progress.text.innerHTML=value}}}
function _updateTimeDisplay(time,element){if(!element){return}
if(isNaN(time)){time=0}
plyr.secs=parseInt(time%60);plyr.mins=parseInt((time/60)%60);plyr.hours=parseInt((time/60/60)%60);var displayHours=parseInt((_getDuration()/60/60)%60)>0;plyr.secs=('0'+plyr.secs).slice(-2);plyr.mins=('0'+plyr.mins).slice(-2);element.innerHTML=(displayHours?plyr.hours+':':'')+plyr.mins+':'+plyr.secs}
function _displayDuration(){if(!plyr.supported.full){return}
var duration=_getDuration()||0;if(!plyr.duration&&config.displayDuration&&plyr.media.paused){_updateTimeDisplay(duration,plyr.currentTime)}
if(plyr.duration){_updateTimeDisplay(duration,plyr.duration)}
_updateSeekTooltip()}
function _timeUpdate(event){_updateTimeDisplay(plyr.media.currentTime,plyr.currentTime);if(event&&event.type==='timeupdate'&&plyr.media.seeking){return}
_updateProgress(event)}
function _updateSeekDisplay(time){if(!_is.number(time)){time=0}
var duration=_getDuration(),value=_getPercentage(time,duration);if(plyr.progress&&plyr.progress.played){plyr.progress.played.value=value}
if(plyr.buttons&&plyr.buttons.seek){plyr.buttons.seek.value=value}}
function _updateSeekTooltip(event){var duration=_getDuration();if(!config.tooltips.seek||!plyr.progress.container||duration===0){return}
var clientRect=plyr.progress.container.getBoundingClientRect(),percent=0,visible=config.classes.tooltip+'--visible';if(!event){if(_hasClass(plyr.progress.tooltip,visible)){percent=plyr.progress.tooltip.style.left.replace('%','')}else{return}}else{percent=100/clientRect.width*(event.pageX-clientRect.left)}
if(percent<0){percent=0}else if(percent>100){percent=100}
_updateTimeDisplay(duration/100*percent,plyr.progress.tooltip);plyr.progress.tooltip.style.left=percent+'%';if(event&&_inArray(['mouseenter','mouseleave'],event.type)){_toggleClass(plyr.progress.tooltip,visible,event.type==='mouseenter')}}
function _toggleControls(toggle){if(!config.hideControls||plyr.type==='audio'){return}
var delay=0,isEnterFullscreen=!1,show=toggle,loading=_hasClass(plyr.container,config.classes.loading);if(!_is.boolean(toggle)){if(toggle&&toggle.type){isEnterFullscreen=toggle.type==='enterfullscreen';show=_inArray(['mousemove','touchstart','mouseenter','focus'],toggle.type);if(_inArray(['mousemove','touchmove'],toggle.type)){delay=2000}
if(toggle.type==='focus'){delay=3000}}else{show=_hasClass(plyr.container,config.classes.hideControls)}}
window.clearTimeout(timers.hover);if(show||plyr.media.paused||loading){_toggleClass(plyr.container,config.classes.hideControls,!1);if(plyr.media.paused||loading){return}
if(plyr.browser.isTouch){delay=3000}}
if(!show||!plyr.media.paused){timers.hover=window.setTimeout(function(){if((plyr.controls.pressed||plyr.controls.hover)&&!isEnterFullscreen){return}
_toggleClass(plyr.container,config.classes.hideControls,!0)},delay)}}
function _source(source){if(!_is.undefined(source)){_updateSource(source);return}
var url;switch(plyr.type){case 'youtube':url=plyr.embed.getVideoUrl();break;case 'vimeo':plyr.embed.getVideoUrl.then(function(value){url=value});break;case 'soundcloud':plyr.embed.getCurrentSound(function(object){url=object.permalink_url});break;default:url=plyr.media.currentSrc;break}
return url||''}
function _updateSource(source){if(!_is.object(source)||!('sources' in source)||!source.sources.length){_warn('Invalid source format');return}
_toggleClass(plyr.container,config.classes.ready,!1);_pause();_updateSeekDisplay();_setProgress();_cancelRequests();function setup(){plyr.embed=null;_remove(plyr.media);if(plyr.type==='video'&&plyr.videoContainer){_remove(plyr.videoContainer)}
if(plyr.container){plyr.container.removeAttribute('class')}
if('type' in source){plyr.type=source.type;if(plyr.type==='video'){var firstSource=source.sources[0];if('type' in firstSource&&_inArray(config.types.embed,firstSource.type)){plyr.type=firstSource.type}}}
plyr.supported=supported(plyr.type);switch(plyr.type){case 'video':plyr.media=document.createElement('video');break;case 'audio':plyr.media=document.createElement('audio');break;case 'youtube':case 'vimeo':case 'soundcloud':plyr.media=document.createElement('div');plyr.embedId=source.sources[0].src;break}
_prependChild(plyr.container,plyr.media);if(_is.boolean(source.autoplay)){config.autoplay=source.autoplay}
if(_inArray(config.types.html5,plyr.type)){if(config.crossorigin){plyr.media.setAttribute('crossorigin','')}
if(config.autoplay){plyr.media.setAttribute('autoplay','')}
if('poster' in source){plyr.media.setAttribute('poster',source.poster)}
if(config.loop){plyr.media.setAttribute('loop','')}}
_toggleClass(plyr.container,config.classes.fullscreen.active,plyr.isFullscreen);_toggleClass(plyr.container,config.classes.captions.active,plyr.captionsEnabled);_toggleStyleHook();if(_inArray(config.types.html5,plyr.type)){_insertChildElements('source',source.sources)}
_setupMedia();if(_inArray(config.types.html5,plyr.type)){if('tracks' in source){_insertChildElements('track',source.tracks)}
plyr.media.load()}
if(_inArray(config.types.html5,plyr.type)||(_inArray(config.types.embed,plyr.type)&&!plyr.supported.full)){_setupInterface();_ready()}
config.title=source.title;_setTitle()}
_destroy(setup,!1)}
function _updatePoster(source){if(plyr.type==='video'){plyr.media.setAttribute('poster',source)}}
function onBodyClick(){_toggleClass(_getElement('.'+config.classes.tabFocus),config.classes.tabFocus,!1)}
function _controlListeners(){var inputEvent=plyr.browser.isIE?'change':'input';function togglePlay(){var play=_togglePlay();var trigger=plyr.buttons[play?'play':'pause'],target=plyr.buttons[play?'pause':'play'];if(target){if(target.length>1){target=target[target.length-1]}else{target=target[0]}}
if(target){var hadTabFocus=_hasClass(trigger,config.classes.tabFocus);setTimeout(function(){target.focus();if(hadTabFocus){_toggleClass(trigger,config.classes.tabFocus,!1);_toggleClass(target,config.classes.tabFocus,!0)}},100)}}
function getFocusElement(){var focused=document.activeElement;if(!focused||focused===document.body){focused=null}else{focused=document.querySelector(':focus')}
return focused}
function getKeyCode(event){return event.keyCode?event.keyCode:event.which}
function checkTabFocus(focused){for(var button in plyr.buttons){var element=plyr.buttons[button];if(_is.nodeList(element)){for(var i=0;i<element.length;i++){_toggleClass(element[i],config.classes.tabFocus,element[i]===focused)}}else{_toggleClass(element,config.classes.tabFocus,element===focused)}}}
if(config.keyboardShorcuts.focused){var last=null;if(config.keyboardShorcuts.global){_on(window,'keydown keyup',function(event){var code=getKeyCode(event),focused=getFocusElement(),allowed=[48,49,50,51,52,53,54,56,57,75,77,70,67],count=get().length;if(count===1&&_inArray(allowed,code)&&(!_is.htmlElement(focused)||!_matches(focused,config.selectors.editable))){handleKey(event)}})}
_on(plyr.container,'keydown keyup',handleKey)}
function handleKey(event){var code=getKeyCode(event),pressed=event.type==='keydown',held=pressed&&code===last;if(!_is.number(code)){return}
function seekByKey(){var duration=plyr.media.duration;if(!_is.number(duration)){return}
_seek(duration/10*(code-48))}
if(pressed){var preventDefault=[48,49,50,51,52,53,54,56,57,32,75,38,40,77,39,37,70,67];if(_inArray(preventDefault,code)){event.preventDefault();event.stopPropagation()}
switch(code){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(!held){seekByKey()}
break;case 32:case 75:if(!held){_togglePlay()}
break;case 38:_increaseVolume();break;case 40:_decreaseVolume();break;case 77:if(!held){_toggleMute()}
break;case 39:_forward();break;case 37:_rewind();break;case 70:_toggleFullscreen();break;case 67:if(!held){_toggleCaptions()}
break}
if(!fullscreen.supportsFullScreen&&plyr.isFullscreen&&code===27){_toggleFullscreen()}
last=code}else{last=null}}
_on(window,'keyup',function(event){var code=getKeyCode(event),focused=getFocusElement();if(code===9){checkTabFocus(focused)}});_on(document.body,'click',onBodyClick);for(var button in plyr.buttons){var element=plyr.buttons[button];_on(element,'blur',function(){_toggleClass(element,'tab-focus',!1)})}
_proxyListener(plyr.buttons.play,'click',config.listeners.play,togglePlay);_proxyListener(plyr.buttons.pause,'click',config.listeners.pause,togglePlay);_proxyListener(plyr.buttons.restart,'click',config.listeners.restart,_seek);_proxyListener(plyr.buttons.rewind,'click',config.listeners.rewind,_rewind);_proxyListener(plyr.buttons.forward,'click',config.listeners.forward,_forward);_proxyListener(plyr.buttons.seek,inputEvent,config.listeners.seek,_seek);_proxyListener(plyr.volume.input,inputEvent,config.listeners.volume,function(){_setVolume(plyr.volume.input.value)});_proxyListener(plyr.buttons.mute,'click',config.listeners.mute,_toggleMute);_proxyListener(plyr.buttons.fullscreen,'click',config.listeners.fullscreen,_toggleFullscreen);if(fullscreen.supportsFullScreen){_on(document,fullscreen.fullScreenEventName,_toggleFullscreen)}
_proxyListener(plyr.buttons.captions,'click',config.listeners.captions,_toggleCaptions);_on(plyr.progress.container,'mouseenter mouseleave mousemove',_updateSeekTooltip);if(config.hideControls){_on(plyr.container,'mouseenter mouseleave mousemove touchstart touchend touchcancel touchmove enterfullscreen',_toggleControls);_on(plyr.controls,'mouseenter mouseleave',function(event){plyr.controls.hover=event.type==='mouseenter'});_on(plyr.controls,'mousedown mouseup touchstart touchend touchcancel',function(event){plyr.controls.pressed=_inArray(['mousedown','touchstart'],event.type)});_on(plyr.controls,'focus blur',_toggleControls,!0)}
_on(plyr.volume.input,'wheel',function(event){event.preventDefault();var inverted=event.webkitDirectionInvertedFromDevice,step=config.volumeStep/5;if(event.deltaY<0||event.deltaX>0){if(inverted){_decreaseVolume(step)}else{_increaseVolume(step)}}
if(event.deltaY>0||event.deltaX<0){if(inverted){_increaseVolume(step)}else{_decreaseVolume(step)}}})}
function _mediaListeners(){_on(plyr.media,'timeupdate seeking',_timeUpdate);_on(plyr.media,'timeupdate',_seekManualCaptions);_on(plyr.media,'durationchange loadedmetadata',_displayDuration);_on(plyr.media,'ended',function(){if(plyr.type==='video'&&config.showPosterOnEnd){if(plyr.type==='video'){_setCaption()}
_seek();plyr.media.load()}});_on(plyr.media,'progress playing',_updateProgress);_on(plyr.media,'volumechange',_updateVolume);_on(plyr.media,'play pause ended',_checkPlaying);_on(plyr.media,'waiting canplay seeked',_checkLoading);if(config.clickToPlay&&plyr.type!=='audio'){var wrapper=_getElement('.'+config.classes.videoWrapper);if(!wrapper){return}
wrapper.style.cursor='pointer';_on(wrapper,'click',function(){if(config.hideControls&&plyr.browser.isTouch&&!plyr.media.paused){return}
if(plyr.media.paused){_play()}else if(plyr.media.ended){_seek();_play()}else{_pause()}})}
if(config.disableContextMenu){_on(plyr.media,'contextmenu',function(event){event.preventDefault()})}
_on(plyr.media,config.events.concat(['keyup','keydown']).join(' '),function(event){_triggerEvent(plyr.container,event.type,!0)})}
function _cancelRequests(){if(!_inArray(config.types.html5,plyr.type)){return}
var sources=plyr.media.querySelectorAll('source');for(var i=0;i<sources.length;i++){_remove(sources[i])}
plyr.media.setAttribute('src',config.blankUrl);plyr.media.load();_log('Cancelled network requests')}
function _destroy(callback,restore){if(!plyr.init){return null}
switch(plyr.type){case 'youtube':window.clearInterval(timers.buffering);window.clearInterval(timers.playing);plyr.embed.destroy();cleanUp();break;case 'vimeo':plyr.embed.unload().then(cleanUp);timers.cleanUp=window.setTimeout(cleanUp,200);break;case 'video':case 'audio':_toggleNativeControls(!0);cleanUp();break}
function cleanUp(){clearTimeout(timers.cleanUp);if(!_is.boolean(restore)){restore=!0}
if(_is.function(callback)){callback.call(original)}
if(!restore){return}
plyr.init=!1;plyr.container.parentNode.replaceChild(original,plyr.container);plyr.container=null;document.body.style.overflow='';_off(document.body,'click',onBodyClick);_triggerEvent(original,'destroyed',!0)}}
function _init(){if(plyr.init){return null}
fullscreen=_fullscreen();plyr.browser=_browserSniff();if(!_is.htmlElement(plyr.media)){return}
_setupStorage();var tagName=media.tagName.toLowerCase();if(tagName==='div'){plyr.type=media.getAttribute('data-type');plyr.embedId=media.getAttribute('data-video-id');media.removeAttribute('data-type');media.removeAttribute('data-video-id')}else{plyr.type=tagName;config.crossorigin=media.getAttribute('crossorigin')!==null;config.autoplay=config.autoplay||media.getAttribute('autoplay')!==null;config.loop=config.loop||media.getAttribute('loop')!==null}
plyr.supported=supported(plyr.type);if(!plyr.supported.basic){return}
plyr.container=_wrap(media,document.createElement('div'));plyr.container.setAttribute('tabindex',0);_toggleStyleHook();_log(''+plyr.browser.name+' '+plyr.browser.version);_setupMedia();if(_inArray(config.types.html5,plyr.type)||(_inArray(config.types.embed,plyr.type)&&!plyr.supported.full)){_setupInterface();_ready();_setTitle()}
plyr.init=!0}
function _setupInterface(){if(!plyr.supported.full){_warn('Basic support only',plyr.type);_remove(_getElement(config.selectors.controls.wrapper));_remove(_getElement(config.selectors.buttons.play));_toggleNativeControls(!0);return}
var controlsMissing=!_getElements(config.selectors.controls.wrapper).length;if(controlsMissing){_injectControls()}
if(!_findElements()){return}
if(controlsMissing){_controlListeners()}
_mediaListeners();_toggleNativeControls();_setupFullscreen();_setupCaptions();_setVolume();_updateVolume();_timeUpdate();_checkPlaying();_displayDuration()}
api={getOriginal:function(){return original},getContainer:function(){return plyr.container},getEmbed:function(){return plyr.embed},getMedia:function(){return plyr.media},getType:function(){return plyr.type},getDuration:_getDuration,getCurrentTime:function(){return plyr.media.currentTime},getVolume:function(){return plyr.media.volume},isMuted:function(){return plyr.media.muted},isReady:function(){return _hasClass(plyr.container,config.classes.ready)},isLoading:function(){return _hasClass(plyr.container,config.classes.loading)},isPaused:function(){return plyr.media.paused},on:function(event,callback){_on(plyr.container,event,callback);return this},play:_play,pause:_pause,stop:function(){_pause();_seek()},restart:_seek,rewind:_rewind,forward:_forward,seek:_seek,source:_source,poster:_updatePoster,setVolume:_setVolume,togglePlay:_togglePlay,toggleMute:_toggleMute,toggleCaptions:_toggleCaptions,toggleFullscreen:_toggleFullscreen,toggleControls:_toggleControls,isFullscreen:function(){return plyr.isFullscreen||!1},support:function(mimeType){return _supportMime(plyr,mimeType)},destroy:_destroy,};function _ready(){window.setTimeout(function(){_triggerEvent(plyr.media,'ready')},0);_toggleClass(plyr.media,defaults.classes.setup,!0);_toggleClass(plyr.container,config.classes.ready,!0);plyr.media.plyr=api;if(config.autoplay){_play()}}
_init();if(!plyr.init){return null}
return api}
function loadSprite(url,id){var x=new XMLHttpRequest();if(_is.string(id)&&_is.htmlElement(document.querySelector('#'+id))){return}
var container=document.createElement('div');container.setAttribute('hidden','');if(_is.string(id)){container.setAttribute('id',id)}
document.body.insertBefore(container,document.body.childNodes[0]);if('withCredentials' in x){x.open('GET',url,!0)}else{return}
x.onload=function(){container.innerHTML=x.responseText};x.send()}
function supported(type){var browser=_browserSniff(),isOldIE=browser.isIE&&browser.version<=9,isIos=browser.isIos,isIphone=browser.isIphone,audioSupport=!!document.createElement('audio').canPlayType,videoSupport=!!document.createElement('video').canPlayType,basic=!1,full=!1;switch(type){case 'video':basic=videoSupport;full=basic&&(!isOldIE&&!isIphone);break;case 'audio':basic=audioSupport;full=basic&&!isOldIE;break;case 'vimeo':basic=!0;full=!isOldIE&&!isIos;break;case 'youtube':basic=!0;full=!isOldIE&&!isIos;if(isIos&&!isIphone&&browser.version>=10){full=!0}
break;case 'soundcloud':basic=!0;full=!isOldIE&&!isIphone;break;default:basic=audioSupport&&videoSupport;full=basic&&!isOldIE}
return{basic:basic,full:full,}}
function setup(targets,options){var players=[],instances=[],selector=[defaults.selectors.html5,defaults.selectors.embed].join(',');if(_is.string(targets)){targets=document.querySelectorAll(targets)}else if(_is.htmlElement(targets)){targets=[targets]}else if(!_is.nodeList(targets)&&!_is.array(targets)&&!_is.string(targets)){if(_is.undefined(options)&&_is.object(targets)){options=targets}
targets=document.querySelectorAll(selector)}
if(_is.nodeList(targets)){targets=Array.prototype.slice.call(targets)}
if(!supported().basic||!targets.length){return!1}
function add(target,media){if(!_hasClass(media,defaults.classes.hook)){players.push({target:target,media:media,})}}
for(var i=0;i<targets.length;i++){var target=targets[i];var children=target.querySelectorAll(selector);if(children.length){for(var x=0;x<children.length;x++){add(target,children[x])}}else if(_matches(target,selector)){add(target,target)}}
players.forEach(function(player){var element=player.target,media=player.media,match=!1;if(media===element){match=!0}
var data={};try{data=JSON.parse(element.getAttribute('data-plyr'))}catch(e){}
var config=_extend({},defaults,options,data);if(!config.enabled){return null}
var instance=new Plyr(media,config);if(!_is.object(instance)){return}
if(config.debug){var events=config.events.concat(['setup','statechange','enterfullscreen','exitfullscreen','captionsenabled','captionsdisabled']);_on(instance.getContainer(),events.join(' '),function(event){console.log([config.logPrefix,'event:',event.type].join(' '),event.detail.plyr)})}
_event(instance.getContainer(),'setup',!0,{plyr:instance,});instances.push(instance)});return instances}
function get(container){if(_is.string(container)){container=document.querySelector(container)}else if(_is.undefined(container)){container=document.body}
if(_is.htmlElement(container)){var elements=container.querySelectorAll('.'+defaults.classes.setup),instances=[];Array.prototype.slice.call(elements).forEach(function(element){if(_is.object(element.plyr)){instances.push(element.plyr)}});return instances}
return[]}
return{setup:setup,supported:supported,loadSprite:loadSprite,get:get,}});(function(){if(typeof window.CustomEvent==='function'){return}
function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:undefined};var evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}
CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})();(function($)
{'use strict';if(!Function.prototype.bind)
{Function.prototype.bind=function(scope)
{var fn=this;return function()
{return fn.apply(scope)}}}
var uuid=0;$.fn.redactor=function(options)
{var val=[];var args=Array.prototype.slice.call(arguments,1);if(typeof options==='string')
{this.each(function()
{var instance=$.data(this,'redactor');var func;if(options.search(/\./)!=='-1')
{func=options.split('.');if(typeof instance[func[0]]!=='undefined')
{func=instance[func[0]][func[1]]}}
else{func=instance[options]}
if(typeof instance!=='undefined'&&$.isFunction(func))
{var methodVal=func.apply(instance,args);if(methodVal!==undefined&&methodVal!==instance)
{val.push(methodVal)}}
else{$.error('No such method "'+options+'" for Redactor')}})}
else{this.each(function()
{$.data(this,'redactor',{});$.data(this,'redactor',Redactor(this,options))})}
if(val.length===0)
{return this}
else if(val.length===1)
{return val[0]}
else{return val}};function Redactor(el,options)
{return new Redactor.prototype.init(el,options)}
$.Redactor=Redactor;$.Redactor.VERSION='2.6';$.Redactor.modules=['air','autosave','block','buffer','build','button','caret','clean','code','core','detect','dropdown','events','file','focus','image','indent','inline','insert','keydown','keyup','lang','line','link','linkify','list','marker','modal','observe','offset','paragraphize','paste','placeholder','progress','selection','shortcuts','storage','toolbar','upload','uploads3','utils','browser'];$.Redactor.settings={};$.Redactor.opts={animation:!1,lang:'en',direction:'ltr',spellcheck:!0,overrideStyles:!0,scrollTarget:document,focus:!1,focusEnd:!1,clickToEdit:!1,structure:!1,tabindex:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:!1,callbacks:{},placeholder:!1,linkify:!0,enterKey:!0,pastePlainText:!1,pasteImages:!0,pasteLinks:!0,pasteBlockTags:['pre','h1','h2','h3','h4','h5','h6','table','tbody','thead','tfoot','th','tr','td','ul','ol','li','blockquote','p','figure','figcaption'],pasteInlineTags:['br','strong','ins','code','del','span','samp','kbd','sup','sub','mark','var','cite','small','b','u','em','i'],preClass:!1,preSpaces:4,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveFields:!1,imageUpload:null,imageUploadParam:'file',imageUploadFields:!1,imageUploadForms:!1,imageTag:'figure',imageEditable:!0,imageCaption:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:'10px',dragImageUpload:!0,multipleImageUpload:!0,clipboardImageUpload:!0,fileUpload:null,fileUploadParam:'file',fileUploadFields:!1,fileUploadForms:!1,dragFileUpload:!0,s3:!1,linkNewTab:!1,linkTooltip:!0,linkNofollow:!1,linkSize:30,pasteLinkTarget:!1,videoContainerClass:'video-container',toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarOverflow:!1,air:!1,airWidth:!1,formatting:['p','blockquote','pre','h1','h2','h3','h4','h5','h6'],formattingAdd:!1,buttons:['format','bold','italic','deleted','lists','image','file','link','horizontalrule'],buttonsTextLabeled:!1,buttonsHide:[],buttonsHideOnMobile:[],script:!0,removeNewlines:!1,removeComments:!0,replaceTags:{'b':'strong','i':'em','strike':'del'},keepStyleAttr:[],shortcuts:{'ctrl+shift+m, meta+shift+m':{func:'inline.removeFormat'},'ctrl+b, meta+b':{func:'inline.format',params:['bold']},'ctrl+i, meta+i':{func:'inline.format',params:['italic']},'ctrl+h, meta+h':{func:'inline.format',params:['superscript']},'ctrl+l, meta+l':{func:'inline.format',params:['subscript']},'ctrl+k, meta+k':{func:'link.show'},'ctrl+shift+7':{func:'list.toggle',params:['orderedlist']},'ctrl+shift+8':{func:'list.toggle',params:['unorderedlist']}},shortcutsAdd:!1,activeButtons:['deleted','italic','bold'],activeButtonsStates:{b:'bold',strong:'bold',i:'italic',em:'italic',del:'deleted',strike:'deleted'},langs:{en:{"format":"Format","image":"Image","file":"File","link":"Link","bold":"Bold","italic":"Italic","deleted":"Strikethrough","underline":"Underline","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U","lists":"Lists","link-insert":"Insert link","link-edit":"Edit link","link-in-new-tab":"Open link in new tab","unlink":"Unlink","cancel":"Cancel","close":"Close","insert":"Insert","save":"Save","delete":"Delete","text":"Text","edit":"Edit","title":"Title","paragraph":"Normal text","quote":"Quote","code":"Code","heading1":"Heading 1","heading2":"Heading 2","heading3":"Heading 3","heading4":"Heading 4","heading5":"Heading 5","heading6":"Heading 6","filename":"Name","optional":"optional","unorderedlist":"Unordered List","orderedlist":"Ordered List","outdent":"Outdent","indent":"Indent","horizontalrule":"Line","upload-label":"Drop file here or ","caption":"Caption","bulletslist":"Bullets","numberslist":"Numbers","image-position":"Position","none":"None","left":"Left","right":"Right","center":"Center","accessibility-help-label":"Rich text editor"}},type:'textarea',inline:!1,buffer:[],rebuffer:[],inlineTags:['a','span','strong','strike','b','u','em','i','code','del','ins','samp','kbd','sup','sub','mark','var','cite','small'],blockTags:['pre','ul','ol','li','p','h1','h2','h3','h4','h5','h6','dl','dt','dd','div','td','blockquote','output','figcaption','figure','address','section','header','footer','aside','article','iframe'],paragraphize:!0,paragraphizeBlocks:['table','div','pre','form','ul','ol','h1','h2','h3','h4','h5','h6','dl','blockquote','figcaption','address','section','header','footer','aside','article','object','style','script','iframe','select','input','textarea','button','option','map','area','math','hr','fieldset','legend','hgroup','nav','figure','details','menu','summary','p'],emptyHtml:'<p>&#x200b;</p>',invisibleSpace:'&#x200b;',emptyHtmlRendered:$('').html('').html(),imageTypes:['image/png','image/jpeg','image/gif'],userAgent:navigator.userAgent.toLowerCase(),observe:{dropdowns:[]},regexps:{linkyoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/ig,linkvimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,linkimage:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/ig,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/ig}};Redactor.fn=$.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(el,options)
{this.$element=$(el);this.uuid=uuid++;this.loadOptions(options);this.loadModules();if(this.opts.clickToEdit&&!this.$element.hasClass('redactor-click-to-edit'))
{return this.loadToEdit(options)}
else if(this.$element.hasClass('redactor-click-to-edit'))
{this.$element.removeClass('redactor-click-to-edit')}
this.reIsBlock=new RegExp('^('+this.opts.blockTags.join('|').toUpperCase()+')$','i');this.reIsInline=new RegExp('^('+this.opts.inlineTags.join('|').toUpperCase()+')$','i');this.opts.dragImageUpload=(this.opts.imageUpload===null)?!1:this.opts.dragImageUpload;this.opts.dragFileUpload=(this.opts.fileUpload===null)?!1:this.opts.dragFileUpload;this.formatting={};this.lang.load();$.extend(this.opts.shortcuts,this.opts.shortcutsAdd);this.$editor=this.$element;this.detectType();this.core.callback('start');this.core.callback('startToEdit');this.start=!0;this.build.start()},detectType:function()
{if(this.build.isInline()||this.opts.inline)
{this.opts.type='inline'}
else if(this.build.isTag('DIV'))
{this.opts.type='div'}
else if(this.build.isTag('PRE'))
{this.opts.type='pre'}},loadToEdit:function(options)
{this.$element.on('click.redactor-click-to-edit',$.proxy(function()
{this.initToEdit(options)},this));this.$element.addClass('redactor-click-to-edit');return},initToEdit:function(options)
{$.extend(options.callbacks,{startToEdit:function()
{this.insert.node(this.marker.get(),!1)},initToEdit:function()
{this.selection.restore();this.clickToCancelStorage=this.code.get();$(this.opts.clickToCancel).off('.redactor-click-to-edit');$(this.opts.clickToCancel).show().on('click.redactor-click-to-edit',$.proxy(function(e)
{e.preventDefault();this.core.destroy();this.events.syncFire=!1;this.$element.html(this.clickToCancelStorage);this.core.callback('cancel',this.clickToCancelStorage);this.events.syncFire=!0;this.clickToCancelStorage='';$(this.opts.clickToCancel).hide();$(this.opts.clickToSave).hide();this.$element.on('click.redactor-click-to-edit',$.proxy(function()
{this.initToEdit(options)},this));this.$element.addClass('redactor-click-to-edit')},this));$(this.opts.clickToSave).off('.redactor-click-to-edit');$(this.opts.clickToSave).show().on('click.redactor-click-to-edit',$.proxy(function(e)
{e.preventDefault();this.core.destroy();this.core.callback('save',this.code.get());$(this.opts.clickToCancel).hide();$(this.opts.clickToSave).hide();this.$element.on('click.redactor-click-to-edit',$.proxy(function()
{this.initToEdit(options)},this));this.$element.addClass('redactor-click-to-edit')},this))}});this.$element.redactor(options);this.$element.off('.redactor-click-to-edit')},loadOptions:function(options)
{var settings={};if(typeof $.Redactor.settings.namespace!=='undefined')
{if(this.$element.hasClass($.Redactor.settings.namespace))
{settings=$.Redactor.settings}}
else{settings=$.Redactor.settings}
this.opts=$.extend({},$.Redactor.opts,this.$element.data(),options);this.opts=$.extend(!0,this.opts,settings)},getModuleMethods:function(object)
{return Object.getOwnPropertyNames(object).filter(function(property)
{return typeof object[property]==='function'})},loadModules:function()
{var len=$.Redactor.modules.length;for(var i=0;i<len;i++)
{this.bindModuleMethods($.Redactor.modules[i])}},bindModuleMethods:function(module)
{if(typeof this[module]==='undefined')
{return}
this[module]=this[module]();var methods=this.getModuleMethods(this[module]);var len=methods.length;for(var z=0;z<len;z++)
{this[module][methods[z]]=this[module][methods[z]].bind(this)}},air:function()
{return{enabled:!1,collapsed:function()
{if(this.opts.air)
{this.selection.get().collapseToStart()}},collapsedEnd:function()
{if(this.opts.air)
{this.selection.get().collapseToEnd()}},build:function()
{if(this.detect.isMobile())
{return}
this.button.hideButtons();this.button.hideButtonsOnMobile();if(this.opts.buttons.length===0)
{return}
this.$air=this.air.createContainer();if(this.opts.airWidth!==!1)
{this.$air.css('width',this.opts.airWidth)}
this.air.append();this.button.$toolbar=this.$air;this.button.setFormatting();this.button.load(this.$air);this.core.editor().on('mouseup.redactor',this,$.proxy(function(e)
{if(this.selection.text()!=='')
{this.air.show(e)}},this))},append:function()
{this.$air.appendTo('body')},createContainer:function()
{return $('<ul>').addClass('redactor-air').attr({'id':'redactor-air-'+this.uuid,'role':'toolbar'}).hide()},show:function(e)
{this.selection.saveInstant();$('.redactor-air').hide();var leftFix=0;var width=this.$air.innerWidth();if($(window).width()<(e.clientX+width))
{leftFix=200}
this.$air.css({left:(e.clientX-leftFix)+'px',top:(e.clientY+10+$(document).scrollTop())+'px'}).show();this.air.enabled=!0;this.air.bindHide()},bindHide:function()
{$(document).on('mousedown.redactor-air.'+this.uuid,$.proxy(function(e)
{var dropdown=$(e.target).closest('.redactor-dropdown').length;if($(e.target).closest(this.$air).length===0&&dropdown===0)
{var hide=this.air.hide(e);if(hide!==!1)
{this.marker.remove()}}},this)).on('keydown.redactor-air.'+this.uuid,$.proxy(function(e)
{var key=e.which;if((!this.utils.isRedactorParent(e.target)&&!$(e.target).hasClass('redactor-in'))||$(e.target).closest('#redactor-modal').length!==0)
{return}
if(key===this.keyCode.ESC)
{this.selection.get().collapseToStart()}
else if(key===this.keyCode.BACKSPACE||key===this.keyCode.DELETE)
{var sel=this.selection.get();var range=this.selection.range(sel);range.deleteContents()}
else if(key===this.keyCode.ENTER)
{this.selection.get().collapseToEnd()}
if(this.air.enabled)
{this.air.hide(e)}
else{this.selection.get().collapseToStart()}},this))},hide:function(e)
{var ctrl=e.ctrlKey||e.metaKey||(e.shiftKey&&e.altKey);if(ctrl)
{return!1}
this.button.setInactiveAll();this.$air.fadeOut(100);this.air.enabled=!1;$(document).off('mousedown.redactor-air.'+this.uuid);$(document).off('keydown.redactor-air.'+this.uuid)}}},autosave:function()
{return{enabled:!1,html:!1,init:function()
{if(!this.opts.autosave)
{return}
this.autosave.enabled=!0;this.autosave.name=(this.opts.autosaveName)?this.opts.autosaveName:this.$textarea.attr('name')},is:function()
{return this.autosave.enabled},send:function()
{if(!this.opts.autosave)
{return}
this.autosave.source=this.code.get();if(this.autosave.html===this.autosave.source)
{return}
var data={};data.name=this.autosave.name;data[this.autosave.name]=this.autosave.source;data=this.autosave.getHiddenFields(data);var jsxhr=$.ajax({url:this.opts.autosave,type:'post',data:data});jsxhr.done(this.autosave.success)},getHiddenFields:function(data)
{if(this.opts.autosaveFields===!1||typeof this.opts.autosaveFields!=='object')
{return data}
$.each(this.opts.autosaveFields,$.proxy(function(k,v)
{if(v!==null&&v.toString().indexOf('#')===0)
{v=$(v).val()}
data[k]=v},this));return data},success:function(data)
{var json;try
{json=JSON.parse(data)}
catch(e)
{json=data}
var callbackName=(typeof json.error==='undefined')?'autosave':'autosaveError';this.core.callback(callbackName,this.autosave.name,json);this.autosave.html=this.autosave.source},disable:function()
{this.autosave.enabled=!1;clearInterval(this.autosaveTimeout)}}},block:function()
{return{format:function(tag,attr,value,type)
{tag=(tag==='quote')?'blockquote':tag;this.block.tags=['p','blockquote','pre','h1','h2','h3','h4','h5','h6','div','figure'];if($.inArray(tag,this.block.tags)===-1)
{return}
if(tag==='p'&&typeof attr==='undefined')
{attr='class'}
this.placeholder.hide();this.buffer.set();return(this.utils.isCollapsed())?this.block.formatCollapsed(tag,attr,value,type):this.block.formatUncollapsed(tag,attr,value,type)},formatCollapsed:function(tag,attr,value,type)
{this.selection.save();var block=this.selection.block();var currentTag=block.tagName.toLowerCase();if($.inArray(currentTag,this.block.tags)===-1)
{this.selection.restore();return}
var clearAllAttrs=!1;if(currentTag===tag&&attr===undefined)
{tag='p';clearAllAttrs=!0}
if(clearAllAttrs)
{this.block.removeAllClass();this.block.removeAllAttr()}
var replaced;if(currentTag==='blockquote'&&this.utils.isEndOfElement(block))
{this.marker.remove();replaced=document.createElement('p');replaced.innerHTML=this.opts.invisibleSpace;$(block).after(replaced);this.caret.start(replaced);var $last=$(block).children().last();if($last.length!==0&&$last[0].tagName==='BR')
{$last.remove()}}
else{replaced=this.utils.replaceToTag(block,tag)}
if(typeof attr==='object')
{type=value;for(var key in attr)
{replaced=this.block.setAttr(replaced,key,attr[key],type)}}
else{replaced=this.block.setAttr(replaced,attr,value,type)}
if(tag==='pre'&&replaced.length===1)
{$(replaced).html($.trim($(replaced).html()))}
this.selection.restore();this.block.removeInlineTags(replaced);return replaced},formatUncollapsed:function(tag,attr,value,type)
{this.selection.save();var replaced=[];var blocks=this.selection.blocks();if(blocks[0]&&($(blocks[0]).hasClass('redactor-in')||$(blocks[0]).hasClass('redactor-box')))
{blocks=this.core.editor().find(this.opts.blockTags.join(', '))}
var len=blocks.length;for(var i=0;i<len;i++)
{var currentTag=blocks[i].tagName.toLowerCase();if($.inArray(currentTag,this.block.tags)!==-1&&currentTag!=='figure')
{var block=this.utils.replaceToTag(blocks[i],tag);if(typeof attr==='object')
{type=value;for(var key in attr)
{block=this.block.setAttr(block,key,attr[key],type)}}
else{block=this.block.setAttr(block,attr,value,type)}
replaced.push(block);this.block.removeInlineTags(block)}}
this.selection.restore();if(tag==='pre'&&replaced.length!==0)
{var first=replaced[0];$.each(replaced,function(i,s)
{if(i!==0)
{$(first).append("\n"+$.trim(s.html()));$(s).remove()}});replaced=[];replaced.push(first)}
return replaced},removeInlineTags:function(node)
{node=node[0]||node;var tags=this.opts.inlineTags;var blocks=['PRE','H1','H2','H3','H4','H5','H6'];if($.inArray(node.tagName,blocks)===-1)
{return}
if(node.tagName!=='PRE')
{var index=tags.indexOf('a');tags.splice(index,1)}
$(node).find(tags.join(',')).not('.redactor-selection-marker').contents().unwrap()},setAttr:function(block,attr,value,type)
{if(typeof attr==='undefined')
{return block}
var func=(typeof type==='undefined')?'replace':type;if(attr==='class')
{block=this.block[func+'Class'](value,block)}
else{if(func==='remove')
{block=this.block[func+'Attr'](attr,block)}
else if(func==='removeAll')
{block=this.block[func+'Attr'](attr,block)}
else{block=this.block[func+'Attr'](attr,value,block)}}
return block},getBlocks:function(block)
{return(typeof block==='undefined')?this.selection.blocks():block},replaceClass:function(value,block)
{return $(this.block.getBlocks(block)).removeAttr('class').addClass(value)[0]},toggleClass:function(value,block)
{return $(this.block.getBlocks(block)).toggleClass(value)[0]},addClass:function(value,block)
{return $(this.block.getBlocks(block)).addClass(value)[0]},removeClass:function(value,block)
{return $(this.block.getBlocks(block)).removeClass(value)[0]},removeAllClass:function(block)
{return $(this.block.getBlocks(block)).removeAttr('class')[0]},replaceAttr:function(attr,value,block)
{block=this.block.removeAttr(attr,block);return $(block).attr(attr,value)[0]},toggleAttr:function(attr,value,block)
{block=this.block.getBlocks(block);var self=this;var returned=[];$.each(block,function(i,s)
{var $el=$(s);if($el.attr(attr))
{returned.push(self.block.removeAttr(attr,s))}
else{returned.push(self.block.addAttr(attr,value,s))}});return returned},addAttr:function(attr,value,block)
{return $(this.block.getBlocks(block)).attr(attr,value)[0]},removeAttr:function(attr,block)
{return $(this.block.getBlocks(block)).removeAttr(attr)[0]},removeAllAttr:function(block)
{block=this.block.getBlocks(block);var returned=[];$.each(block,function(i,s)
{if(typeof s.attributes==='undefined')
{returned.push(s)}
var $el=$(s);var len=s.attributes.length;for(var z=0;z<len;z++)
{$el.removeAttr(s.attributes[z].name)}
returned.push($el[0])});return returned}}},buffer:function()
{return{set:function(type)
{if(typeof type==='undefined')
{this.buffer.clear()}
if(typeof type==='undefined'||type==='undo')
{this.buffer.setUndo()}
else{this.buffer.setRedo()}},setUndo:function()
{var saved=this.selection.saveInstant();var last=this.opts.buffer[this.opts.buffer.length-1];var current=this.core.editor().html();var save=(typeof last!=='undefined'&&(last[0]===current))?!1:!0;if(save)
{this.opts.buffer.push([current,saved])}},setRedo:function()
{var saved=this.selection.saveInstant();this.opts.rebuffer.push([this.core.editor().html(),saved])},add:function()
{this.opts.buffer.push([this.core.editor().html(),0])},undo:function()
{if(this.opts.buffer.length===0)
{return}
var buffer=this.opts.buffer.pop();this.buffer.set('redo');this.core.editor().html(buffer[0]);this.selection.restoreInstant(buffer[1]);this.observe.load()},redo:function()
{if(this.opts.rebuffer.length===0)
{return}
var buffer=this.opts.rebuffer.pop();this.buffer.set('undo');this.core.editor().html(buffer[0]);this.selection.restoreInstant(buffer[1]);this.observe.load()},clear:function()
{this.opts.rebuffer=[]}}},build:function()
{return{start:function()
{if(this.opts.type==='inline')
{this.opts.type='inline'}
else if(this.opts.type==='div')
{var html=$.trim(this.$editor.html());if(html==='')
{this.$editor.html(this.opts.emptyHtml)}}
else if(this.opts.type==='textarea')
{this.build.startTextarea()}
this.build.setIn();this.build.setId();this.build.enableEditor();this.build.setOptions();this.build.callEditor()},createContainerBox:function()
{this.$box=$('<div class="redactor-box" role="application" />')},setIn:function()
{this.core.editor().addClass('redactor-in')},setId:function()
{var id=(this.opts.type==='textarea')?'redactor-uuid-'+this.uuid:this.$element.attr('id');this.core.editor().attr('id',(typeof id==='undefined')?'redactor-uuid-'+this.uuid:id)},getName:function()
{var name=this.$element.attr('name');return(typeof name==='undefined')?'content-'+this.uuid:name},loadFromTextarea:function()
{this.$editor=$('<div />');this.$textarea=this.$element;this.$element.attr('name',this.build.getName());this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element);this.$editor.addClass('redactor-layer');if(this.opts.overrideStyles)
{this.$editor.addClass('redactor-styles')}
this.$element.hide();this.$box.prepend('<span class="redactor-voice-label" id="redactor-voice-'+this.uuid+'" aria-hidden="false">'+this.lang.get('accessibility-help-label')+'</span>');this.$editor.attr({'aria-labelledby':'redactor-voice-'+this.uuid,'role':'presentation'})},startTextarea:function()
{this.build.createContainerBox();this.build.loadFromTextarea();this.code.start(this.core.textarea().val());this.core.textarea().val(this.clean.onSync(this.$editor.html()))},isTag:function(tag)
{return(this.$element[0].tagName===tag)},isInline:function()
{return(!this.build.isTag('TEXTAREA')&&!this.build.isTag('DIV')&&!this.build.isTag('PRE'))},enableEditor:function()
{this.core.editor().attr({'contenteditable':!0})},setOptions:function()
{if(this.opts.type==='inline')
{this.opts.enterKey=!1}
if(this.opts.type==='inline'||this.opts.type==='pre')
{this.opts.toolbarMobile=!1;this.opts.toolbar=!1;this.opts.air=!1;this.opts.linkify=!1}
this.core.editor().attr('spellcheck',this.opts.spellcheck);if(this.opts.structure)
{this.core.editor().addClass('redactor-structure')}
if(this.opts.type!=='textarea')
{return}
this.core.box().attr('dir',this.opts.direction);this.core.editor().attr('dir',this.opts.direction);if(this.opts.tabindex)
{this.core.editor().attr('tabindex',this.opts.tabindex)}
if(this.opts.minHeight)
{this.core.editor().css('min-height',this.opts.minHeight)}
else{this.core.editor().css('min-height','40px')}
if(this.opts.maxHeight)
{this.core.editor().css('max-height',this.opts.maxHeight)}
if(this.opts.maxWidth)
{this.core.editor().css({'max-width':this.opts.maxWidth,'margin':'auto'})}},callEditor:function()
{this.build.disableBrowsersEditing();this.events.init();this.build.setHelpers();if(this.opts.toolbar||this.opts.air)
{this.toolbarsButtons=this.button.init()}
if(this.opts.air)
{this.air.build()}
else if(this.opts.toolbar)
{this.toolbar.build()}
if(this.detect.isMobile()&&this.opts.toolbarMobile&&this.opts.air)
{this.opts.toolbar=!0;this.toolbar.build()}
if(this.opts.air||this.opts.toolbar)
{this.core.editor().on('mouseup.redactor-observe.'+this.uuid+' keyup.redactor-observe.'+this.uuid+' focus.redactor-observe.'+this.uuid+' touchstart.redactor-observe.'+this.uuid,$.proxy(this.observe.toolbar,this));this.core.element().on('blur.callback.redactor',$.proxy(function()
{this.button.setInactiveAll()},this))}
this.modal.templates();this.build.plugins();this.autosave.init();this.code.html=this.code.cleaned(this.core.editor().html());this.core.callback('init');this.core.callback('initToEdit');this.storage.observe();this.start=!1},setHelpers:function()
{if(this.opts.linkify)
{this.linkify.format()}
this.placeholder.init();if(this.opts.focus)
{setTimeout(this.focus.start,100)}
else if(this.opts.focusEnd)
{setTimeout(this.focus.end,100)}},disableBrowsersEditing:function()
{try{document.execCommand('enableObjectResizing',!1,!1);document.execCommand('enableInlineTableEditing',!1,!1);document.execCommand("AutoUrlDetect",!1,!1)}catch(e){}},plugins:function()
{if(!this.opts.plugins)
{return}
$.each(this.opts.plugins,$.proxy(function(i,s)
{var func=(typeof RedactorPlugins!=='undefined'&&typeof RedactorPlugins[s]!=='undefined')?RedactorPlugins:Redactor.fn;if(!$.isFunction(func[s]))
{return}
this[s]=func[s]();var methods=this.getModuleMethods(this[s]);var len=methods.length;for(var z=0;z<len;z++)
{this[s][methods[z]]=this[s][methods[z]].bind(this)}
if(typeof this[s].langs!=='undefined')
{var lang={};if(typeof this[s].langs[this.opts.lang]!=='undefined')
{lang=this[s].langs[this.opts.lang]}
else if(typeof this[s].langs[this.opts.lang]==='undefined'&&typeof this[s].langs.en!=='undefined')
{lang=this[s].langs.en}
var self=this;$.each(lang,function(i,s)
{if(typeof self.opts.curLang[i]==='undefined')
{self.opts.curLang[i]=s}})}
if($.isFunction(this[s].init))
{this[s].init()}},this))}}},button:function()
{return{toolbar:function()
{return(typeof this.button.$toolbar==='undefined'||!this.button.$toolbar)?this.$toolbar:this.button.$toolbar},init:function()
{return{format:{title:this.lang.get('format'),icon:!0,dropdown:{p:{title:this.lang.get('paragraph'),func:'block.format'},blockquote:{title:this.lang.get('quote'),func:'block.format'},pre:{title:this.lang.get('code'),func:'block.format'},h1:{title:this.lang.get('heading1'),func:'block.format'},h2:{title:this.lang.get('heading2'),func:'block.format'},h3:{title:this.lang.get('heading3'),func:'block.format'},h4:{title:this.lang.get('heading4'),func:'block.format'},h5:{title:this.lang.get('heading5'),func:'block.format'},h6:{title:this.lang.get('heading6'),func:'block.format'}}},bold:{title:this.lang.get('bold-abbr'),icon:!0,label:this.lang.get('bold'),func:'inline.format'},italic:{title:this.lang.get('italic-abbr'),icon:!0,label:this.lang.get('italic'),func:'inline.format'},deleted:{title:this.lang.get('deleted-abbr'),icon:!0,label:this.lang.get('deleted'),func:'inline.format'},underline:{title:this.lang.get('underline-abbr'),icon:!0,label:this.lang.get('underline'),func:'inline.format'},lists:{title:this.lang.get('lists'),icon:!0,dropdown:{unorderedlist:{title:'&bull; '+this.lang.get('unorderedlist'),func:'list.toggle'},orderedlist:{title:'1. '+this.lang.get('orderedlist'),func:'list.toggle'},outdent:{title:'< '+this.lang.get('outdent'),func:'indent.decrease',observe:{element:'li',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0}}}},indent:{title:'> '+this.lang.get('indent'),func:'indent.increase',observe:{element:'li',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0}}}}}},ul:{title:'&bull; '+this.lang.get('bulletslist'),icon:!0,func:'list.toggle'},ol:{title:'1. '+this.lang.get('numberslist'),icon:!0,func:'list.toggle'},outdent:{title:this.lang.get('outdent'),icon:!0,func:'indent.decrease'},indent:{title:this.lang.get('indent'),icon:!0,func:'indent.increase'},image:{title:this.lang.get('image'),icon:!0,func:'image.show'},file:{title:this.lang.get('file'),icon:!0,func:'file.show'},link:{title:this.lang.get('link'),icon:!0,dropdown:{link:{title:this.lang.get('link-insert'),func:'link.show',observe:{element:'a','in':{title:this.lang.get('link-edit')},out:{title:this.lang.get('link-insert')}}},unlink:{title:this.lang.get('unlink'),func:'link.unlink',observe:{element:'a',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0}}}}}},horizontalrule:{title:this.lang.get('horizontalrule'),icon:!0,func:'line.insert'}}},setFormatting:function()
{$.each(this.toolbarsButtons.format.dropdown,$.proxy(function(i,s)
{if($.inArray(i,this.opts.formatting)===-1)
{delete this.toolbarsButtons.format.dropdown[i]}},this))},hideButtons:function()
{if(this.opts.buttonsHide.length!==0)
{this.button.hideButtonsSlicer(this.opts.buttonsHide)}},hideButtonsOnMobile:function()
{if(this.detect.isMobile()&&this.opts.buttonsHideOnMobile.length!==0)
{this.button.hideButtonsSlicer(this.opts.buttonsHideOnMobile)}},hideButtonsSlicer:function(buttons)
{$.each(buttons,$.proxy(function(i,s)
{var index=this.opts.buttons.indexOf(s);if(index!==-1)
{this.opts.buttons.splice(index,1)}},this))},load:function($toolbar)
{this.button.buttons=[];$.each(this.opts.buttons,$.proxy(function(i,btnName)
{if(!this.toolbarsButtons[btnName]||(btnName==='file'&&!this.file.is())||(btnName==='image'&&!this.image.is()))
{return}
$toolbar.append($('<li>').append(this.button.build(btnName,this.toolbarsButtons[btnName])))},this))},buildButtonTooltip:function($btn,title)
{if(this.opts.air||this.detect.isMobile())
{return}
var $tooltip=$('<span>');$tooltip.addClass('re-button-tooltip');$tooltip.html(title);$btn.append($tooltip);$btn.on('mouseover',function()
{if($(this).hasClass('redactor-button-disabled'))
{return}
$tooltip.show();$tooltip.css('margin-left',-($tooltip.innerWidth()/2))}).on('mouseout',function()
{$tooltip.hide()})},build:function(btnName,btnObject)
{if(this.opts.toolbar===!1)
{return}
var title=(typeof btnObject.label!=='undefined')?btnObject.label:btnObject.title;var $button=$('<a href="javascript:void(null);" alt="'+title+'" rel="'+btnName+'" />')
$button.addClass('re-button re-'+btnName);$button.attr({'role':'button','aria-label':title,'tabindex':'-1'});if(typeof btnObject.icon!=='undefined'&&!this.opts.buttonsTextLabeled)
{var $icon=$('<i>');$icon.addClass('re-icon-'+btnName);$button.append($icon);$button.addClass('re-button-icon');this.button.buildButtonTooltip($button,title)}
else{$button.html(btnObject.title)}
if(btnObject.func||btnObject.command||btnObject.dropdown)
{this.button.setEvent($button,btnName,btnObject)}
if(btnObject.dropdown)
{$button.addClass('redactor-toolbar-link-dropdown').attr('aria-haspopup',!0);var $dropdown=$('<ul class="redactor-dropdown redactor-dropdown-'+this.uuid+' redactor-dropdown-box-'+btnName+'" style="display: none;">');$button.data('dropdown',$dropdown);this.dropdown.build(btnName,$dropdown,btnObject.dropdown)}
this.button.buttons.push($button);return $button},getButtons:function()
{return this.button.toolbar().find('a.re-button')},getButtonsKeys:function()
{return this.button.buttons},setEvent:function($button,btnName,btnObject)
{$button.on('mousedown',$.proxy(function(e)
{e.preventDefault();if($button.hasClass('redactor-button-disabled'))
{return!1}
var type='func';var callback=btnObject.func;if(btnObject.command)
{type='command';callback=btnObject.command}
else if(btnObject.dropdown)
{type='dropdown';callback=!1}
this.button.toggle(e,btnName,type,callback);return!1},this))},toggle:function(e,btnName,type,callback,args)
{if(this.detect.isIe()||!this.detect.isDesktop())
{this.utils.freezeScroll();e.returnValue=!1}
if(type==='command')
{this.inline.format(callback)}
else if(type==='dropdown')
{this.dropdown.show(e,btnName)}
else{this.button.clickCallback(e,callback,btnName,args)}
if(type!=='dropdown')
{this.dropdown.hideAll(!1)}
if(this.opts.air&&type!=='dropdown')
{this.air.hide(e)}
if(this.detect.isIe()||!this.detect.isDesktop())
{this.utils.unfreezeScroll()}},clickCallback:function(e,callback,btnName,args)
{var func;args=(typeof args==='undefined')?btnName:args;if($.isFunction(callback))
{callback.call(this,btnName)}
else if(callback.search(/\./)!=='-1')
{func=callback.split('.');if(typeof this[func[0]]==='undefined')
{return}
if(typeof args==='object')
{this[func[0]][func[1]].apply(this,args)}
else{this[func[0]][func[1]].call(this,args)}}
else{if(typeof args==='object')
{this[callback].apply(this,args)}
else{this[callback].call(this,args)}}
this.observe.buttons(e,btnName)},all:function()
{return this.button.buttons},get:function(key)
{if(this.opts.toolbar===!1)
{return}
return this.button.toolbar().find('a.re-'+key)},set:function(key,title)
{if(this.opts.toolbar===!1)
{return}
var $btn=this.button.toolbar().find('a.re-'+key);$btn.html(title).attr('aria-label',title);return $btn},add:function(key,title)
{if(this.button.isAdded(key)!==!0)
{return $()}
var btn=this.button.build(key,{title:title});this.button.toolbar().append($('<li>').append(btn));return btn},addFirst:function(key,title)
{if(this.button.isAdded(key)!==!0)
{return $()}
var btn=this.button.build(key,{title:title});this.button.toolbar().prepend($('<li>').append(btn));return btn},addAfter:function(afterkey,key,title)
{if(this.button.isAdded(key)!==!0)
{return $()}
var btn=this.button.build(key,{title:title});var $btn=this.button.get(afterkey);if($btn.length!==0)
{$btn.parent().after($('<li>').append(btn))}
else{this.button.toolbar().append($('<li>').append(btn))}
return btn},addBefore:function(beforekey,key,title)
{if(this.button.isAdded(key)!==!0)
{return $()}
var btn=this.button.build(key,{title:title});var $btn=this.button.get(beforekey);if($btn.length!==0)
{$btn.parent().before($('<li>').append(btn))}
else{this.button.toolbar().append($('<li>').append(btn))}
return btn},isAdded:function(key)
{var index=this.opts.buttonsHideOnMobile.indexOf(key);if(this.opts.toolbar===!1||(index!==-1&&this.detect.isMobile()))
{return!1}
return!0},setIcon:function($btn,icon)
{if(!this.opts.buttonsTextLabeled)
{$btn.html(icon).addClass('re-button-icon');this.button.buildButtonTooltip($btn,$btn.attr('alt'))}},changeIcon:function(key,newIconClass)
{var $btn=this.button.get(key);if($btn.length!==0)
{$btn.find('i').removeAttr('class').addClass('re-icon-'+newIconClass)}},addCallback:function($btn,callback)
{if(typeof $btn==='undefined'||this.opts.toolbar===!1)
{return}
var type=(callback==='dropdown')?'dropdown':'func';var key=$btn.attr('rel');$btn.on('mousedown',$.proxy(function(e)
{if($btn.hasClass('redactor-button-disabled'))
{return!1}
this.button.toggle(e,key,type,callback)},this))},addDropdown:function($btn,dropdown)
{if(this.opts.toolbar===!1)
{return}
$btn.addClass('redactor-toolbar-link-dropdown').attr('aria-haspopup',!0);var key=$btn.attr('rel');this.button.addCallback($btn,'dropdown');var $dropdown=$('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+' redactor-dropdown-box-'+key+'" style="display: none;">');$btn.data('dropdown',$dropdown);if(dropdown)
{this.dropdown.build(key,$dropdown,dropdown)}
return $dropdown},setActive:function(key)
{this.button.get(key).addClass('redactor-act')},setInactive:function(key)
{this.button.get(key).removeClass('redactor-act')},setInactiveAll:function(key)
{var $btns=this.button.toolbar().find('a.re-button');if(typeof key!=='undefined')
{$btns=$btns.not('.re-'+key)}
$btns.removeClass('redactor-act')},disable:function(key)
{this.button.get(key).addClass('redactor-button-disabled')},enable:function(key)
{this.button.get(key).removeClass('redactor-button-disabled')},disableAll:function(key)
{var $btns=this.button.toolbar().find('a.re-button');if(typeof key!=='undefined')
{$btns=$btns.not('.re-'+key)}
$btns.addClass('redactor-button-disabled')},enableAll:function()
{this.button.toolbar().find('a.re-button').removeClass('redactor-button-disabled')},remove:function(key)
{this.button.get(key).remove()}}},caret:function()
{return{set:function(node1,node2,end)
{var cs=this.core.editor().scrollTop();this.core.editor().focus();this.core.editor().scrollTop(cs);end=(typeof end==='undefined')?0:1;node1=node1[0]||node1;node2=node2[0]||node2;var sel=this.selection.get();var range=this.selection.range(sel);try
{range.setStart(node1,0);range.setEnd(node2,end)}
catch(e){}
this.selection.update(sel,range)},prepare:function(node)
{if(this.detect.isFirefox()&&typeof this.start!=='undefined')
{this.core.editor().focus()}
return node[0]||node},start:function(node)
{var sel,range;node=this.caret.prepare(node);if(!node)
{return}
if(node.tagName==='BR')
{return this.caret.before(node)}
var $first=$(node).children().first();var inline=this.utils.isInlineTag(node.tagName);if(node.innerHTML===''||inline)
{this.caret.setStartEmptyOrInline(node,inline)}
else if($first&&$first.length!==0&&this.utils.isInlineTag($first[0].tagName)&&$first.text()==='')
{this.caret.setStartEmptyOrInline($first[0],!0)}
else{sel=window.getSelection();sel.removeAllRanges();range=document.createRange();range.selectNodeContents(node);range.collapse(!0);sel.addRange(range)}},setStartEmptyOrInline:function(node,inline)
{var sel=window.getSelection();var range=document.createRange();var textNode=document.createTextNode('\u200B');range.setStart(node,0);range.insertNode(textNode);range.setStartAfter(textNode);range.collapse(!0);sel.removeAllRanges();sel.addRange(range);if(!inline)
{this.core.editor().on('keydown.redactor-remove-textnode',function()
{$(textNode).remove();$(this).off('keydown.redactor-remove-textnode')})}},end:function(node)
{var sel,range;node=this.caret.prepare(node);if(!node)
{return}
if(node.tagName!=='BR'&&node.innerHTML==='')
{return this.caret.start(node)}
if(node.tagName==='BR')
{var space=document.createElement('span');space.className='redactor-invisible-space';space.innerHTML='&#x200b;';$(node).after(space);sel=window.getSelection();sel.removeAllRanges();range=document.createRange();range.setStartBefore(space);range.setEndBefore(space);sel.addRange(range);$(space).replaceWith(function()
{return $(this).contents()});return}
if(node.lastChild&&node.lastChild.nodeType===1)
{return this.caret.after(node.lastChild)}
sel=window.getSelection();sel.removeAllRanges();try{range=document.createRange();range.selectNodeContents(node);range.collapse(!1);sel.addRange(range)}
catch(e){}},after:function(node)
{var sel,range;node=this.caret.prepare(node);if(!node)
{return}
if(node.tagName==='BR')
{return this.caret.end(node)}
if(this.utils.isBlockTag(node.tagName))
{var next=this.caret.next(node);if(typeof next==='undefined')
{this.caret.end(node)}
else{if(next.tagName==='TABLE')
{next=$(next).find('th, td').first()[0]}
else if(next.tagName==='UL'||next.tagName==='OL')
{next=$(next).find('li').first()[0]}
this.caret.start(next)}
return}
var textNode=document.createTextNode('\u200B');sel=window.getSelection();sel.removeAllRanges();range=document.createRange();range.setStartAfter(node);range.insertNode(textNode);range.setStartAfter(textNode);range.collapse(!0);sel.addRange(range)},before:function(node)
{var sel,range;node=this.caret.prepare(node);if(!node)
{return}
if(this.utils.isBlockTag(node.tagName))
{var prev=this.caret.prev(node);if(typeof prev==='undefined')
{this.caret.start(node)}
else{if(prev.tagName==='TABLE')
{prev=$(prev).find('th, td').last()[0]}
else if(prev.tagName==='UL'||prev.tagName==='OL')
{prev=$(prev).find('li').last()[0]}
this.caret.end(prev)}
return}
sel=window.getSelection();sel.removeAllRanges();range=document.createRange();range.setStartBefore(node);range.collapse(!0);sel.addRange(range)},next:function(node)
{var $next=$(node).next();if($next.hasClass('redactor-script-tag, redactor-selection-marker'))
{return $next.next()[0]}
else{return $next[0]}},prev:function(node)
{var $prev=$(node).prev();if($prev.hasClass('redactor-script-tag, redactor-selection-marker'))
{return $prev.prev()[0]}
else{return $prev[0]}},offset:function(node)
{return this.offset.get(node)}}},clean:function()
{return{onSet:function(html)
{html=this.clean.savePreCode(html);html=this.clean.saveFormTags(html);if(this.opts.script)
{html=html.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,'<pre class="redactor-script-tag" $1>$2</pre>')}
html=html.replace(/\$/g,'&#36;');html=html.replace(/&amp;/g,'&');html=html.replace(/<a href="(.*?[^>]?)(.*?[^>]?)">/gi,'<a href="$1&reg$2">');html=html.replace(/<span id="selection-marker-1"(.*?[^>]?)><\/span>/gi,'###marker1###');html=html.replace(/<span id="selection-marker-2"(.*?[^>]?)><\/span>/gi,'###marker2###');var self=this;var $div=$("<div/>").html($.parseHTML(html,document,!0));var replacement=this.opts.replaceTags;if(replacement)
{var keys=Object.keys(this.opts.replaceTags);$div.find(keys.join(',')).each(function(i,s)
{self.utils.replaceToTag(s,replacement[s.tagName.toLowerCase()])})}
$div.find('span, a').attr('data-redactor-span',!0);$div.find(this.opts.inlineTags.join(',')).each(function()
{var $el=$(this);if($el.attr('style'))
{$el.attr('data-redactor-style-cache',$el.attr('style'))}});html=$div.html();var tags=['font','html','head','link','body','meta','applet'];if(!this.opts.script)
{tags.push('script')}
html=this.clean.stripTags(html,tags);if(this.opts.removeComments)
{html=html.replace(/<!--[\s\S]*?-->/gi,'')}
html=this.paragraphize.load(html);html=html.replace('###marker1###','<span id="selection-marker-1" class="redactor-selection-marker"></span>');html=html.replace('###marker2###','<span id="selection-marker-2" class="redactor-selection-marker"></span>');if(html.search(/^(||\s||<br\s?\/?>||&nbsp;)$/i)!==-1)
{return this.opts.emptyHtml}
return html},onGet:function(html)
{return this.clean.onSync(html)},onSync:function(html)
{html=html.replace(/\u200B/g,'');html=html.replace(/&#x200b;/gi,'');if(html.search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i)!==-1)
{return ''}
html=html.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,'$3<img$4>');html=html.replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,'');html=html.replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,'');html=html.replace(/<img(.*?)style="(.*?)opacity: 0\.5;(.*?)"(.*?)>/gi,'<img$1style="$2$3"$4>');var $div=$("<div/>").html($.parseHTML(html,document,!0));$div.find('*[style=""]').removeAttr('style');$div.find('*[class=""]').removeAttr('class');$div.find('*[rel=""]').removeAttr('rel');$div.find('*[data-image=""]').removeAttr('data-image');$div.find('*[alt=""]').removeAttr('alt');$div.find('*[title=""]').removeAttr('title');$div.find('*[data-redactor-style-cache]').removeAttr('data-redactor-style-cache');$div.find('.redactor-invisible-space, .redactor-unlink').each(function()
{$(this).contents().unwrap()});$div.find('span, a').removeAttr('data-redactor-span data-redactor-style-cache').each(function()
{if(this.attributes.length===0)
{$(this).contents().unwrap()}});$div.find('img').removeAttr('rel');$div.find('.redactor-selection-marker, #redactor-insert-marker').remove();html=$div.html();if(this.opts.script)
{html=html.replace(/<pre class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,'<script$1>$2</script>')}
html=this.clean.restoreFormTags(html);html=html.replace(new RegExp('<br\\s?/?></h','gi'),'</h');html=html.replace(new RegExp('<br\\s?/?></li>','gi'),'</li>');html=html.replace(new RegExp('</li><br\\s?/?>','gi'),'</li>');html=html.replace(/<pre>/gi,"<pre>\n");if(this.opts.preClass)
{html=html.replace(/<pre>/gi,'<pre class="'+this.opts.preClass+'">')}
if(this.opts.linkNofollow)
{html=html.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,'<a$1$2>');html=html.replace(/<a(.*?[^>])>/gi,'<a$1 rel="nofollow">')}
var chars={'\u2122':'&trade;','\u00a9':'&copy;','\u2026':'&hellip;','\u2014':'&mdash;','\u2010':'&dash;'};$.each(chars,function(i,s)
{html=html.replace(new RegExp(i,'g'),s)});html=html.replace(/&amp;/g,'&');html=html.replace(/<p><\/p>/gi,"");html=html.replace(/\n{2,}/g,"\n");if(this.opts.removeNewlines)
{html=html.replace(/\r?\n/g,"")}
return html},onPaste:function(html,data,insert)
{if(insert!==!0)
{html=html.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2");html=html.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3");html=html.replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,'<b><i>$2</i></b>');html=html.replace(/<span[^>]*(font-style: italic; font-weight: 700|font-weight: 700; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,'<b><i>$2</i></b>');html=html.replace(/<span[^>]*font-style: italic[^>]*>([\w\W]*?)<\/span>/gi,'<i>$1</i>');html=html.replace(/<span[^>]*font-weight: bold[^>]*>([\w\W]*?)<\/span>/gi,'<b>$1</b>');html=html.replace(/<span[^>]*font-weight: 700[^>]*>([\w\W]*?)<\/span>/gi,'<b>$1</b>');html=html.replace(/<o:p[^>]*>/gi,'');html=html.replace(/<\/o:p>/gi,'');var msword=this.clean.isHtmlMsWord(html);if(msword)
{html=this.clean.cleanMsWord(html)}}
html=$.trim(html);if(data.pre)
{if(this.opts.preSpaces)
{html=html.replace(/\t/g,new Array(this.opts.preSpaces+1).join(' '))}}
else{html=this.clean.replaceBrToNl(html);html=this.clean.removeTagsInsidePre(html)}
if(insert!==!0)
{html=this.clean.removeEmptyInlineTags(html);if(data.encode===!1)
{html=html.replace(/&/g,'&amp;');html=this.clean.convertTags(html,data);html=this.clean.getPlainText(html);html=this.clean.reconvertTags(html,data)}}
if(data.text)
{html=this.clean.replaceNbspToSpaces(html);html=this.clean.getPlainText(html)}
if(data.lists)
{html=html.replace("\n",'<br>')}
if(data.encode)
{html=this.clean.encodeHtml(html)}
if(data.paragraphize)
{html=html.replace(/ \n/g,' ');html=html.replace(/\n /g,' ');html=this.paragraphize.load(html);html=html.replace(/<p><\/p>/g,'')}
return html},getCurrentType:function(html,insert)
{var blocks=this.selection.blocks();var data={text:!1,encode:!1,paragraphize:!0,line:this.clean.isHtmlLine(html),blocks:this.clean.isHtmlBlocked(html),pre:!1,lists:!1,block:!0,inline:!0,links:!0,images:!0};if(blocks.length===1&&this.utils.isCurrentOrParent(['h1','h2','h3','h4','h5','h6','a','figcaption']))
{data.text=!0;data.paragraphize=!1;data.inline=!1;data.images=!1;data.links=!1;data.line=!0}
else if(this.opts.type==='inline'||this.opts.enterKey===!1)
{data.paragraphize=!1;data.block=!1;data.line=!0}
else if(blocks.length===1&&this.utils.isCurrentOrParent(['li']))
{data.lists=!0;data.block=!1;data.paragraphize=!1;data.images=!1}
else if(blocks.length===1&&this.utils.isCurrentOrParent(['th','td','blockquote']))
{data.block=!1;data.paragraphize=!1}
else if(this.opts.type==='pre'||(blocks.length===1&&this.utils.isCurrentOrParent('pre')))
{data.inline=!1;data.block=!1;data.encode=!0;data.pre=!0;data.paragraphize=!1;data.images=!1;data.links=!1}
if(data.line===!0)
{data.paragraphize=!1}
if(insert===!0)
{data.text=!1}
return data},isHtmlBlocked:function(html)
{var match1=html.match(new RegExp('</('+this.opts.blockTags.join('|').toUpperCase()+')>','gi'));var match2=html.match(new RegExp('<hr(.*?[^>])>','gi'));return(match1===null&&match2===null)?!1:!0},isHtmlLine:function(html)
{if(this.clean.isHtmlBlocked(html))
{return!1}
var matchBR=html.match(/<br\s?\/?>/gi);var matchNL=html.match(/\n/gi);return(!matchBR&&!matchNL)?!0:!1},isHtmlMsWord:function(html)
{return html.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},removeEmptyInlineTags:function(html)
{var tags=this.opts.inlineTags;var $div=$("<div/>").html($.parseHTML(html,document,!0));var self=this;var $spans=$div.find('span');var $tags=$div.find(tags.join(','));$tags.removeAttr('style');$tags.each(function()
{var tagHtml=$(this).html();if(this.attributes.length===0&&self.utils.isEmpty(tagHtml))
{$(this).replaceWith(function()
{return $(this).contents()})}});$spans.each(function()
{var tagHtml=$(this).html();if(this.attributes.length===0)
{$(this).replaceWith(function()
{return $(this).contents()})}});html=$div.html();html=html.replace('<!--?php','<?php');html=html.replace('<!--?','<?');html=html.replace('?-->','?>');$div.remove();return html},cleanMsWord:function(html)
{html=html.replace(/<!--[\s\S]*?-->/g,"");html=html.replace(/<o:p>[\s\S]*?<\/o:p>/gi,'');html=html.replace(/\n/g," ");html=html.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,'\n\n');var $div=$("<div/>").html(html);var lastList=!1;var lastLevel=1;var listsIds=[];$div.find("p[style]").each(function()
{var matches=$(this).attr('style').match(/mso\-list\:l([0-9]+)\slevel([0-9]+)/);if(matches)
{var currentList=parseInt(matches[1]);var currentLevel=parseInt(matches[2]);var listType=$(this).html().match(/^[\w]+\./)?"ol":"ul";var $li=$("<li/>").html($(this).html());$li.html($li.html().replace(/^([\w\.]+)</,'<'));$li.find("span:first").remove();if(currentLevel==1&&$.inArray(currentList,listsIds)==-1)
{var $list=$("<"+listType+"/>").attr({"data-level":currentLevel,"data-list":currentList}).html($li);$(this).replaceWith($list);lastList=currentList;listsIds.push(currentList)}
else{if(currentLevel>lastLevel)
{var $prevList=$div.find('[data-level="'+lastLevel+'"][data-list="'+lastList+'"]');var $lastList=$prevList;for(var i=lastLevel;i<currentLevel;i++)
{$list=$("<"+listType+"/>");$list.appendTo($lastList.find("li").last());$lastList=$list}
$lastList.attr({"data-level":currentLevel,"data-list":currentList}).html($li)}
else{var $prevList=$div.find('[data-level="'+currentLevel+'"][data-list="'+currentList+'"]').last();$prevList.append($li)}
lastLevel=currentLevel;lastList=currentList;$(this).remove()}}});$div.find('[data-level][data-list]').removeAttr('data-level data-list');html=$div.html();return html},replaceNbspToSpaces:function(html)
{return html.replace('&nbsp;',' ')},replaceBrToNl:function(html)
{return html.replace(/<br\s?\/?>/gi,'\n')},replaceNlToBr:function(html)
{return html.replace(/\n/g,'<br />')},convertTags:function(html,data)
{var $div=$('<div>').html(html);$div.find('iframe').remove();var $links=$div.find('a');$links.removeAttr('style');if(this.opts.pasteLinkTarget!==!1)
{$links.attr('target',this.opts.pasteLinkTarget)}
if(data.links&&this.opts.pasteLinks)
{$div.find('a').each(function(i,link)
{if(link.href)
{var tmp='##%a href="'+link.href+'"';var attr;for(var j=0,length=link.attributes.length;j<length;j++)
{attr=link.attributes.item(j);if(attr.name!=='href')
{tmp+=' '+attr.name+'="'+attr.value+'"'}}
link.outerHTML=tmp+'%##'+link.innerHTML+'##%/a%##'}})}
html=$div.html();if(data.images&&this.opts.pasteImages)
{html=html.replace(/<img(.*?)src="(.*?)"(.*?[^>])>/gi,'##%img$1src="$2"$3%##')}
if(this.opts.pastePlainText)
{return html}
var blockTags=(data.lists)?['ul','ol','li']:this.opts.pasteBlockTags;var tags;if(data.block||data.lists)
{tags=(data.inline)?blockTags.concat(this.opts.pasteInlineTags):blockTags}
else{tags=(data.inline)?this.opts.pasteInlineTags:[]}
var len=tags.length;for(var i=0;i<len;i++)
{html=html.replace(new RegExp('<\/'+tags[i]+'>','gi'),'###/'+tags[i]+'###');if(tags[i]==='td'||tags[i]==='th')
{html=html.replace(new RegExp('<'+tags[i]+'(.*?[^>])((colspan|rowspan)="(.*?[^>])")?(.*?[^>])>','gi'),'###'+tags[i]+' $2###')}
else if(this.utils.isInlineTag(tags[i]))
{html=html.replace(new RegExp('<'+tags[i]+'([^>]*)class="([^>]*)"[^>]*>','gi'),'###'+tags[i]+' class="$2"###');html=html.replace(new RegExp('<'+tags[i]+'([^>]*)data-redactor-style-cache="([^>]*)"[^>]*>','gi'),'###'+tags[i]+' cache="$2"###');html=html.replace(new RegExp('<'+tags[i]+'[^>]*>','gi'),'###'+tags[i]+'###')}
else{html=html.replace(new RegExp('<'+tags[i]+'[^>]*>','gi'),'###'+tags[i]+'###')}}
return html},reconvertTags:function(html,data)
{if((data.links&&this.opts.pasteLinks)||(data.images&&this.opts.pasteImages))
{html=html.replace(new RegExp('##%','gi'),'<');html=html.replace(new RegExp('%##','gi'),'>')}
if(this.opts.pastePlainText)
{return html}
var blockTags=(data.lists)?['ul','ol','li']:this.opts.pasteBlockTags;var tags;if(data.block||data.lists)
{tags=(data.inline)?blockTags.concat(this.opts.pasteInlineTags):blockTags}
else{tags=(data.inline)?this.opts.pasteInlineTags:[]}
var len=tags.length;for(var i=0;i<len;i++)
{html=html.replace(new RegExp('###\/'+tags[i]+'###','gi'),'</'+tags[i]+'>')}
for(var i=0;i<len;i++)
{html=html.replace(new RegExp('###'+tags[i]+'###','gi'),'<'+tags[i]+'>')}
for(var i=0;i<len;i++)
{if(tags[i]==='td'||tags[i]==='th')
{html=html.replace(new RegExp('###'+tags[i]+'\s?(.*?[^#])###','gi'),'<'+tags[i]+'$1>')}
else if(this.utils.isInlineTag(tags[i]))
{var spanMarker=(tags[i]==='span')?' data-redactor-span="true"':'';html=html.replace(new RegExp('###'+tags[i]+' cache="(.*?[^#])"###','gi'),'<'+tags[i]+' style="$1"'+spanMarker+' data-redactor-style-cache="$1">');html=html.replace(new RegExp('###'+tags[i]+'\s?(.*?[^#])###','gi'),'<'+tags[i]+'$1>')}}
return html},cleanPre:function(block)
{block=(typeof block==='undefined')?$(this.selection.block()).closest('pre',this.core.editor()[0]):block;$(block).find('br').replaceWith(function()
{return document.createTextNode('\n')});$(block).find('p').replaceWith(function()
{return $(this).contents()})},removeTagsInsidePre:function(html)
{var $div=$('<div />').append(html);$div.find('pre').replaceWith(function()
{var str=$(this).html();str=str.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,'\n');str=str.replace(/(<([^>]+)>)/gi,'');return $('<pre />').append(str)});html=$div.html();$div.remove();return html},getPlainText:function(html)
{html=html.replace(/<!--[\s\S]*?-->/gi,'');html=html.replace(/<style[\s\S]*?style>/gi,'');html=html.replace(/<p><\/p>/g,'');html=html.replace(/<\/div>|<\/li>|<\/td>/gi,'\n');html=html.replace(/<\/p>/gi,'\n\n');html=html.replace(/<\/H[1-6]>/gi,'\n\n');var tmp=document.createElement('div');tmp.innerHTML=html;html=tmp.textContent||tmp.innerText;return $.trim(html)},savePreCode:function(html)
{html=this.clean.savePreFormatting(html);html=this.clean.saveCodeFormatting(html);html=this.clean.restoreSelectionMarkers(html);return html},savePreFormatting:function(html)
{var pre=html.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);if(pre===null)
{return html}
$.each(pre,$.proxy(function(i,s)
{var arr=[];var codeTag=!1;var contents,attr1,attr2;if(s.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>/i))
{arr=s.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>([\w\W]*?)<\/code>(([\n\r\s]+)?)<\/pre>/i);codeTag=!0;contents=arr[5];attr1=arr[1];attr2=arr[4]}
else{arr=s.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i);contents=arr[2];attr1=arr[1]}
contents=contents.replace(/<br\s?\/?>/g,'\n');contents=contents.replace(/&nbsp;/g,' ');if(this.opts.preSpaces)
{contents=contents.replace(/\t/g,new Array(this.opts.preSpaces+1).join(' '))}
contents=this.clean.encodeEntities(contents);contents=contents.replace(/\$/g,'&#36;');if(codeTag)
{html=html.replace(s,'<pre'+attr1+'><code'+attr2+'>'+contents+'</code></pre>')}
else{html=html.replace(s,'<pre'+attr1+'>'+contents+'</pre>')}},this));return html},saveCodeFormatting:function(html)
{var code=html.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);if(code===null)
{return html}
$.each(code,$.proxy(function(i,s)
{var arr=s.match(/<code(.*?)>([\w\W]*?)<\/code>/i);arr[2]=arr[2].replace(/&nbsp;/g,' ');arr[2]=this.clean.encodeEntities(arr[2]);arr[2]=arr[2].replace(/\$/g,'&#36;');html=html.replace(s,'<code'+arr[1]+'>'+arr[2]+'</code>')},this));return html},restoreSelectionMarkers:function(html)
{html=html.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot;&gt;&lt;\/span&gt;/g,'<span id="selection-marker-$1" class="redactor-selection-marker"></span>');return html},saveFormTags:function(html)
{return html.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(html)
{return html.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,'<form$1$2>$3</form>')},encodeHtml:function(html)
{html=html.replace(//g,'"');html=html.replace(//g,'"');html=html.replace(//g,'\'');html=html.replace(//g,'\'');html=this.clean.encodeEntities(html);return html},encodeEntities:function(str)
{str=String(str).replace(/&amp;/g,'&').replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"');str=str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');return str},stripTags:function(input,denied)
{if(typeof denied==='undefined')
{return input.replace(/(<([^>]+)>)/gi,'')}
var tags=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return input.replace(tags,function($0,$1)
{return denied.indexOf($1.toLowerCase())===-1?$0:''})},removeMarkers:function(html)
{return html.replace(/<span(.*?[^>]?)class="redactor-selection-marker"(.*?[^>]?)>([\w\W]*?)<\/span>/gi,'')},removeSpaces:function(html)
{html=$.trim(html);html=html.replace(/\n/g,'');html=html.replace(/[\t]*/g,'');html=html.replace(/\n\s*\n/g,"\n");html=html.replace(/^[\s\n]*/g,' ');html=html.replace(/[\s\n]*$/g,' ');html=html.replace(/>\s{2,}</g,'> <');html=html.replace(/\n\n/g,"\n");html=html.replace(/\u200B/g,'');return html},removeSpacesHard:function(html)
{html=$.trim(html);html=html.replace(/\n/g,'');html=html.replace(/[\t]*/g,'');html=html.replace(/\n\s*\n/g,"\n");html=html.replace(/^[\s\n]*/g,'');html=html.replace(/[\s\n]*$/g,'');html=html.replace(/>\s{2,}</g,'><');html=html.replace(/\n\n/g,"\n");html=html.replace(/\u200B/g,'');return html},normalizeCurrentHeading:function()
{var heading=this.selection.block();if(this.utils.isCurrentOrParentHeader()&&heading)
{heading.normalize()}}}},code:function()
{return{syncFire:!0,html:!1,start:function(html)
{html=$.trim(html);html=html.replace(/^(<span id="selection-marker-1" class="redactor-selection-marker"><\/span>)/,'');if(this.opts.type==='textarea')
{html=this.clean.onSet(html)}
else if(this.opts.type==='div'&&html==='')
{html=this.opts.emptyHtml}
html=html.replace(/<p><span id="selection-marker-1" class="redactor-selection-marker"><\/span><\/p>/,'');this.events.stopDetectChanges();this.core.editor().html(html);this.observe.load();this.events.startDetectChanges()},set:function(html,options)
{html=$.trim(html);options=options||{};if(options.start)
{this.start=options.start}
if(this.opts.type==='textarea')
{html=this.clean.onSet(html)}
else if(this.opts.type==='div'&&html==='')
{html=this.opts.emptyHtml}
this.core.editor().html(html);if(this.opts.type==='textarea')
{this.code.sync()}
this.placeholder.enable()},get:function()
{if(this.opts.type==='textarea')
{return this.core.textarea().val()}
else{var html=this.core.editor().html();html=this.clean.onGet(html);return html}},sync:function()
{if(!this.code.syncFire)
{return}
var html=this.core.editor().html();var htmlCleaned=this.code.cleaned(html);if(this.code.isSync(htmlCleaned))
{return}
this.code.html=htmlCleaned;if(this.opts.type!=='textarea')
{this.core.callback('sync',html);this.core.callback('change',html);return}
if(this.opts.type==='textarea')
{setTimeout($.proxy(function()
{this.code.startSync(html)},this),10)}},startSync:function(html)
{html=this.core.callback('syncBefore',html);html=this.clean.onSync(html);this.core.textarea().val(html);this.core.callback('sync',html);if(this.start===!1)
{this.core.callback('change',html)}
this.start=!1},isSync:function(htmlCleaned)
{var html=(this.code.html!==!1)?this.code.html:!1;return(html!==!1&&html===htmlCleaned)},cleaned:function(html)
{html=html.replace(/\u200B/g,'');return this.clean.removeMarkers(html)}}},core:function()
{return{id:function()
{return this.$editor.attr('id')},element:function()
{return this.$element},editor:function()
{return(typeof this.$editor==='undefined')?$():this.$editor},textarea:function()
{return this.$textarea},box:function()
{return(this.opts.type==='textarea')?this.$box:this.$element},toolbar:function()
{return(this.$toolbar)?this.$toolbar:!1},air:function()
{return(this.$air)?this.$air:!1},object:function()
{return $.extend({},this)},structure:function()
{this.core.editor().toggleClass('redactor-structure')},addEvent:function(name)
{this.core.event=name},getEvent:function()
{return this.core.event},callback:function(type,e,data)
{var eventNamespace='redactor';var returnValue=!1;var events=$._data(this.core.element()[0],'events');if(typeof events!=='undefined'&&typeof events[type]!=='undefined')
{var len=events[type].length;for(var i=0;i<len;i++)
{var namespace=events[type][i].namespace;if(namespace==='callback.'+eventNamespace)
{var handler=events[type][i].handler;var args=(typeof data==='undefined')?[e]:[e,data];returnValue=(typeof args==='undefined')?handler.call(this,e):handler.call(this,e,args)}}}
if(returnValue)
{return returnValue}
if(typeof this.opts.callbacks[type]==='undefined')
{return(typeof data==='undefined')?e:data}
var callback=this.opts.callbacks[type];if($.isFunction(callback))
{return(typeof data==='undefined')?callback.call(this,e):callback.call(this,e,data)}
else{return(typeof data==='undefined')?e:data}},destroy:function()
{this.opts.destroyed=!0;this.core.callback('destroy');this.placeholder.destroy();this.progress.destroy();$('#redactor-voice-'+this.uuid).remove();this.core.editor().removeClass('redactor-in redactor-styles redactor-structure redactor-layer-img-edit');this.core.editor().off('keydown.redactor-remove-textnode');this.core.editor().off('.redactor-observe.'+this.uuid);this.$element.off('.redactor').removeData('redactor');this.core.editor().off('.redactor');$(document).off('.redactor-dropdown');$(document).off('.redactor-air.'+this.uuid);$(document).off('mousedown.redactor-blur.'+this.uuid);$(document).off('mousedown.redactor.'+this.uuid);$(document).off('touchstart.redactor.'+this.uuid+' click.redactor.'+this.uuid);$(window).off('.redactor-toolbar.'+this.uuid);$(window).off('touchmove.redactor.'+this.uuid);$("body").off('scroll.redactor.'+this.uuid);$(this.opts.toolbarFixedTarget).off('scroll.redactor.'+this.uuid);var self=this;if(this.opts.plugins!==!1)
{$.each(this.opts.plugins,function(i,s)
{$(window).off('.redactor-plugin-'+s);$(document).off('.redactor-plugin-'+s);$("body").off('.redactor-plugin-'+s);self.core.editor().off('.redactor-plugin-'+s)})}
this.$element.off('click.redactor-click-to-edit');this.$element.removeClass('redactor-click-to-edit');this.core.editor().removeClass('redactor-layer');this.core.editor().removeAttr('contenteditable');var html=this.code.get();if(this.opts.toolbar&&this.$toolbar)
{this.$toolbar.find('a').each(function()
{var $el=$(this);if($el.data('dropdown'))
{$el.data('dropdown').remove();$el.data('dropdown',{})}})}
if(this.opts.type==='textarea')
{this.$box.after(this.$element);this.$box.remove();this.$element.val(html).show()}
if(this.opts.air)
{this.$air.remove()}
if(this.opts.toolbar&&this.$toolbar)
{this.$toolbar.remove()}
if(this.$modalBox)
{this.$modalBox.remove()}
if(this.$modalOverlay)
{this.$modalOverlay.remove()}
$('.redactor-link-tooltip').remove();clearInterval(this.autosaveTimeout)}}},detect:function()
{return{isWebkit:function()
{return/webkit/.test(this.opts.userAgent)},isFirefox:function()
{return this.opts.userAgent.indexOf('firefox')>-1},isIe:function(v)
{if(document.documentMode||/Edge/.test(navigator.userAgent))
{return 'edge'}
var ie;ie=RegExp('msie'+(!isNaN(v)?('\\s'+v):''),'i').test(navigator.userAgent);if(!ie)
{ie=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)}
return ie},isMobile:function()
{return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function()
{return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isIpad:function()
{return/iPad/.test(navigator.userAgent)}}},dropdown:function()
{return{active:!1,button:!1,key:!1,position:[],getDropdown:function()
{return this.dropdown.active},build:function(name,$dropdown,dropdownObject)
{dropdownObject=this.dropdown.buildFormatting(name,dropdownObject);$.each(dropdownObject,$.proxy(function(btnName,btnObject)
{var $item=this.dropdown.buildItem(btnName,btnObject);this.observe.addDropdown($item,btnName,btnObject);$dropdown.attr('rel',name).append($item)},this))},buildFormatting:function(name,dropdownObject)
{if(name!=='format'||this.opts.formattingAdd===!1)
{return dropdownObject}
$.each(this.opts.formattingAdd,$.proxy(function(i,s)
{var type=(this.utils.isBlockTag(s.args[0]))?'block':'inline';dropdownObject[i]={func:(type==='block')?'block.format':'inline.format',args:s.args,title:s.title}},this));return dropdownObject},buildItem:function(btnName,btnObject)
{var $itemContainer=$('<li />');if(typeof btnObject.classname!=='undefined')
{$itemContainer.addClass(btnObject.classname)}
if(btnName.search(/^divider/i)!==-1)
{$itemContainer.addClass('redactor-dropdown-divider');return $itemContainer}
var $item=$('<a href="#" class="redactor-dropdown-'+btnName+'" role="button" />');var $itemSpan=$('<span />').html(btnObject.title);$item.append($itemSpan);$item.on('mousedown',$.proxy(function(e)
{e.preventDefault();this.dropdown.buildClick(e,btnName,btnObject)},this));$itemContainer.append($item);return $itemContainer},buildClick:function(e,btnName,btnObject)
{if($(e.target).hasClass('redactor-dropdown-link-inactive'))
{return}
var command=this.dropdown.buildCommand(btnObject);if(typeof btnObject.args!==' undefined')
{this.button.toggle(e,btnName,command.type,command.callback,btnObject.args)}
else{this.button.toggle(e,btnName,command.type,command.callback)}},buildCommand:function(btnObject)
{var command={};command.type='func';command.callback=btnObject.func;if(btnObject.command)
{command.type='command';command.callback=btnObject.command}
else if(btnObject.dropdown)
{command.type='dropdown';command.callback=btnObject.dropdown}
return command},show:function(e,key)
{if(this.detect.isDesktop())
{this.core.editor().focus()}
this.dropdown.hideAll(!1,key);this.dropdown.key=key;this.dropdown.button=this.button.get(this.dropdown.key);if(this.dropdown.button.hasClass('dropact'))
{this.dropdown.hide();return}
this.dropdown.active=this.dropdown.button.data('dropdown').appendTo(document.body);this.core.callback('dropdownShow',{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button});this.button.setActive(this.dropdown.key);this.dropdown.button.addClass('dropact');this.dropdown.getButtonPosition();if(this.button.toolbar().hasClass('toolbar-fixed-box')&&this.detect.isDesktop())
{this.dropdown.showIsFixedToolbar()}
else{this.dropdown.showIsUnFixedToolbar()}
if(this.detect.isDesktop()&&!this.detect.isFirefox())
{this.dropdown.active.on('mouseover.redactor-dropdown',$.proxy(this.utils.disableBodyScroll,this));this.dropdown.active.on('mouseout.redactor-dropdown mousedown.redactor-dropdown',$.proxy(this.utils.enableBodyScroll,this))}
e.stopPropagation()},showIsFixedToolbar:function()
{var top=this.dropdown.button.position().top+this.dropdown.button.innerHeight()+this.opts.toolbarFixedTopOffset;var position='fixed';if(this.opts.toolbarFixedTarget!==document)
{top=(this.dropdown.button.innerHeight()+this.$toolbar.offset().top)+this.opts.toolbarFixedTopOffset;position='absolute'}
this.dropdown.active.css({position:position,left:this.dropdown.position.left+'px',top:top+'px'}).show();this.dropdown.active.redactorAnimation('slideDown',{duration:0.2},$.proxy(function()
{this.dropdown.enableCallback();this.dropdown.enableEvents()},this))},showIsUnFixedToolbar:function()
{this.dropdown.active.css({position:'absolute',left:this.dropdown.position.left+'px',top:(this.dropdown.button.innerHeight()+this.dropdown.position.top)+'px'}).show();this.dropdown.active.redactorAnimation(((this.opts.animation)?'slideDown':'show'),{duration:0.2},$.proxy(function()
{this.dropdown.enableCallback();this.dropdown.enableEvents()},this))},enableEvents:function()
{$(document).on('mousedown.redactor-dropdown',$.proxy(this.dropdown.hideAll,this));this.core.editor().on('touchstart.redactor-dropdown',$.proxy(this.dropdown.hideAll,this));$(document).on('keyup.redactor-dropdown',$.proxy(this.dropdown.closeHandler,this))},enableCallback:function()
{this.core.callback('dropdownShown',{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button})},getButtonPosition:function()
{this.dropdown.position=this.dropdown.button.offset();var dropdownWidth=this.dropdown.active.width();if((this.dropdown.position.left+dropdownWidth)>$(document).width())
{this.dropdown.position.left=Math.max(0,this.dropdown.position.left-dropdownWidth+parseInt(this.dropdown.button.innerWidth()))}},closeHandler:function(e)
{if(e.which!==this.keyCode.ESC)
{return}
this.dropdown.hideAll(e);this.core.editor().focus()},hideAll:function(e,key)
{if(this.detect.isDesktop())
{this.utils.enableBodyScroll()}
if(e!==!1&&$(e.target).closest('.redactor-dropdown').length!==0)
{return}
var $buttons=(typeof key==='undefined')?this.button.toolbar().find('a.dropact'):this.button.toolbar().find('a.dropact').not('.re-'+key);var $elements=(typeof key==='undefined')?$('.redactor-dropdown-'+this.uuid):$('.redactor-dropdown-'+this.uuid).not('.redactor-dropdown-box-'+key);if($elements.length!==0)
{$(document).off('.redactor-dropdown');this.core.editor().off('.redactor-dropdown');$.each($elements,$.proxy(function(i,s)
{var $el=$(s);this.core.callback('dropdownHide',$el);$el.hide();$el.off('mouseover mouseout').off('.redactor-dropdown')},this));$buttons.removeClass('redactor-act dropact')}},hide:function()
{if(this.dropdown.active===!1)
{return}
if(this.detect.isDesktop())
{this.utils.enableBodyScroll()}
this.dropdown.active.redactorAnimation(((this.opts.animation)?'slideUp':'hide'),{duration:0.2},$.proxy(function()
{$(document).off('.redactor-dropdown');this.core.editor().off('.redactor-dropdown');this.dropdown.hideOut()},this))},hideOut:function()
{this.core.callback('dropdownHide',this.dropdown.active);this.dropdown.button.removeClass('redactor-act dropact');this.dropdown.active.off('mouseover mouseout').off('.redactor-dropdown');this.dropdown.button=!1;this.dropdown.key=!1;this.dropdown.active=!1}}},events:function()
{return{focused:!1,blured:!0,dropImage:!1,stopChanges:!1,stopDetectChanges:function()
{this.events.stopChanges=!0},startDetectChanges:function()
{var self=this;setTimeout(function()
{self.events.stopChanges=!1},1)},dragover:function(e)
{e.preventDefault();e.stopPropagation();if(e.target.tagName==='IMG')
{$(e.target).addClass('redactor-image-dragover')}},dragleave:function(e)
{this.core.editor().find('img').removeClass('redactor-image-dragover')},drop:function(e)
{e=e.originalEvent||e;this.core.editor().find('img').removeClass('redactor-image-dragover');if(this.opts.type==='inline'||this.opts.type==='pre')
{e.preventDefault();return!1}
if(window.FormData===undefined||!e.dataTransfer)
{return!0}
if(e.dataTransfer.files.length===0)
{return this.events.onDrop(e)}
else{this.events.onDropUpload(e)}
this.core.callback('drop',e)},click:function(e)
{var event=this.core.getEvent();var type=(event==='click'||event==='arrow')?!1:'click';this.core.addEvent(type);this.utils.disableSelectAll();this.core.callback('click',e)},focus:function(e)
{if(this.rtePaste)
{return}
if(this.events.isCallback('focus'))
{this.core.callback('focus',e)}
this.events.focused=!0;this.events.blured=!1;if(this.selection.current()===!1)
{var sel=this.selection.get();var range=this.selection.range(sel);range.setStart(this.core.editor()[0],0);range.setEnd(this.core.editor()[0],0);this.selection.update(sel,range)}},blur:function(e)
{if(this.start||this.rtePaste)
{return}
if($(e.target).closest('#'+this.core.id()+', .redactor-toolbar, .redactor-dropdown, #redactor-modal-box').length!==0)
{return}
if(!this.events.blured&&this.events.isCallback('blur'))
{this.core.callback('blur',e)}
this.events.focused=!1;this.events.blured=!0},touchImageEditing:function()
{var scrollTimer=-1;this.events.imageEditing=!1;$(window).on('touchmove.redactor.'+this.uuid,$.proxy(function()
{this.events.imageEditing=!0;if(scrollTimer!==-1)
{clearTimeout(scrollTimer)}
scrollTimer=setTimeout($.proxy(function()
{this.events.imageEditing=!1},this),500)},this))},init:function()
{this.core.editor().on('dragover.redactor dragenter.redactor',$.proxy(this.events.dragover,this));this.core.editor().on('dragleave.redactor',$.proxy(this.events.dragleave,this));this.core.editor().on('drop.redactor',$.proxy(this.events.drop,this));this.core.editor().on('click.redactor',$.proxy(this.events.click,this));this.core.editor().on('paste.redactor',$.proxy(this.paste.init,this));this.core.editor().on('keydown.redactor',$.proxy(this.keydown.init,this));this.core.editor().on('keyup.redactor',$.proxy(this.keyup.init,this));this.core.editor().on('focus.redactor',$.proxy(this.events.focus,this));$(document).on('mousedown.redactor-blur.'+this.uuid,$.proxy(this.events.blur,this));this.events.touchImageEditing();this.events.createObserver();this.events.setupObserver()},createObserver:function()
{var self=this;this.events.observer=new MutationObserver(function(mutations)
{mutations.forEach($.proxy(self.events.iterateObserver,self))})},iterateObserver:function(mutation)
{var stop=!1;if(((this.opts.type==='textarea'||this.opts.type==='div')&&(!this.detect.isFirefox()&&mutation.target===this.core.editor()[0]))||(mutation.attributeName==='class'&&mutation.target===this.core.editor()[0]))
{stop=!0}
if(!stop)
{this.observe.load();this.events.changeHandler()}},setupObserver:function()
{this.events.observer.observe(this.core.editor()[0],{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})},changeHandler:function()
{if(this.events.stopChanges)
{return}
this.code.sync();if(this.autosave.is())
{clearTimeout(this.autosaveTimeout);this.autosaveTimeout=setTimeout($.proxy(this.autosave.send,this),300)}},onDropUpload:function(e)
{e.preventDefault();e.stopPropagation();if((!this.opts.dragImageUpload&&!this.opts.dragFileUpload)||(this.opts.imageUpload===null&&this.opts.fileUpload===null))
{return}
if(e.target.tagName==='IMG')
{this.events.dropImage=e.target}
var files=e.dataTransfer.files;var len=files.length;for(var i=0;i<len;i++)
{this.upload.directUpload(files[i],e)}},onDrop:function(e)
{this.core.callback('drop',e)},isCallback:function(name)
{return(typeof this.opts.callbacks[name]!=='undefined'&&$.isFunction(this.opts.callbacks[name]))},stopDetect:function()
{this.events.stopDetectChanges()},startDetect:function()
{this.events.startDetectChanges()}}},file:function()
{return{is:function()
{return!(!this.opts.fileUpload||!this.opts.fileUpload&&!this.opts.s3)},show:function()
{this.modal.load('file',this.lang.get('file'),700);this.upload.init('#redactor-modal-file-upload',this.opts.fileUpload,this.file.insert);$('#redactor-filename').val(this.selection.get().toString());this.modal.show()},insert:function(json,direct,e)
{if(typeof json.error!=='undefined')
{this.modal.close();this.core.callback('fileUploadError',json);return}
this.file.release(e,direct);this.buffer.set();this.air.collapsed();var text=this.file.text(json);var $link=$('<a />').attr('href',json.url).text(text);var id=(typeof json.id==='undefined')?'':json.id;var type=(typeof json.s3==='undefined')?'file':'s3';$link.attr('data-'+type,id);$link=$(this.insert.node($link));this.caret.after($link);this.storage.add({type:type,node:$link[0],url:json.url,id:id});if(direct!==null)
{this.core.callback('fileUpload',$link,json)}},release:function(e,direct)
{if(direct)
{this.marker.remove();this.insert.nodeToPoint(e,this.marker.get());this.selection.restore()}
else{this.modal.close()}},text:function(json)
{var text=$('#redactor-filename').val();return(typeof text==='undefined'||text==='')?json.name:text}}},focus:function()
{return{start:function()
{this.core.editor().focus();if(this.opts.type==='inline')
{return}
var $first=this.focus.first();if($first!==!1)
{this.caret.start($first)}},end:function()
{this.core.editor().focus();var last=(this.opts.inline)?this.core.editor():this.focus.last();if(last.length===0)
{return}
var lastNode=this.focus.lastChild(last);if(!this.detect.isWebkit()&&lastNode!==!1)
{this.caret.end(lastNode)}
else{var sel=this.selection.get();var range=this.selection.range(sel);if(range!==null)
{range.selectNodeContents(last[0]);range.collapse(!1);this.selection.update(sel,range)}
else{this.caret.end(last)}}},first:function()
{var $first=this.core.editor().children().first();if($first.length===0&&($first[0].length===0||$first[0].tagName==='BR'||$first[0].tagName==='HR'||$first[0].nodeType===3))
{return!1}
if($first[0].tagName==='UL'||$first[0].tagName==='OL')
{return $first.find('li').first()}
return $first},last:function()
{return this.core.editor().children().last()},lastChild:function(last)
{var lastNode=last[0].lastChild;return(lastNode!==null&&this.utils.isInlineTag(lastNode.tagName))?lastNode:!1},is:function()
{return(this.core.editor()[0]===document.activeElement)}}},image:function()
{return{is:function()
{return!(!this.opts.imageUpload||!this.opts.imageUpload&&!this.opts.s3)},show:function()
{this.modal.load('image',this.lang.get('image'),700);this.upload.init('#redactor-modal-image-droparea',this.opts.imageUpload,this.image.insert);this.modal.show()},insert:function(json,direct,e)
{var $img;if(typeof json.error!=='undefined')
{this.modal.close();this.events.dropImage=!1;this.core.callback('imageUploadError',json,e);return}
if(this.events.dropImage!==!1)
{$img=$(this.events.dropImage);this.core.callback('imageDelete',$img[0].src,$img);$img.attr('src',json.url);this.events.dropImage=!1;this.core.callback('imageUpload',$img,json);return}
this.placeholder.hide();var $figure=$('<'+this.opts.imageTag+'>');$img=$('<img>');$img.attr('src',json.url);var id=(typeof json.id==='undefined')?'':json.id;var type=(typeof json.s3==='undefined')?'image':'s3';$img.attr('data-'+type,id);$figure.append($img);var pre=this.utils.isTag(this.selection.current(),'pre');if(direct)
{this.air.collapsed();this.marker.remove();var node=this.insert.nodeToPoint(e,this.marker.get());var $next=$(node).next();this.selection.restore();this.buffer.set();if(typeof $next!=='undefined'&&$next.length!==0&&$next[0].tagName==='IMG')
{this.core.callback('imageDelete',$next[0].src,$next);$next.closest('figure, p',this.core.editor()[0]).replaceWith($figure);this.caret.after($figure)}
else{if(pre)
{$(pre).after($figure)}
else{this.insert.node($figure)}
this.caret.after($figure)}}
else{this.modal.close();this.buffer.set();this.air.collapsed();if(pre)
{$(pre).after($figure)}
else{this.insert.node($figure)}
this.caret.after($figure)}
this.events.dropImage=!1;this.storage.add({type:type,node:$img[0],url:json.url,id:id});var nextNode=$img[0].nextSibling;var $nextFigure=$figure.next();var isNextEmpty=$(nextNode).text().replace(/\u200B/g,'');var isNextFigureEmpty=$nextFigure.text().replace(/\u200B/g,'');if(isNextEmpty==='')
{$(nextNode).remove()}
if($nextFigure.length===1&&$nextFigure[0].tagName==='FIGURE'&&isNextFigureEmpty==='')
{$nextFigure.remove()}
if(direct!==null)
{this.core.callback('imageUpload',$img,json)}
else{this.core.callback('imageInserted',$img,json)}},setEditable:function($image)
{$image.on('dragstart',function(e)
{e.preventDefault()});if(this.opts.imageResizable)
{var handler=$.proxy(function(e)
{this.observe.image=$image;this.image.resizer=this.image.loadEditableControls($image);$(document).on('mousedown.redactor-image-resize-hide.'+this.uuid,$.proxy(this.image.hideResize,this));if(this.image.resizer)
{this.image.resizer.on('mousedown.redactor touchstart.redactor',$.proxy(function(e)
{this.image.setResizable(e,$image)},this))}},this);$image.off('mousedown.redactor').on('mousedown.redactor',$.proxy(this.image.hideResize,this));$image.off('click.redactor touchstart.redactor').on('click.redactor touchstart.redactor',handler)}
else{$image.off('click.redactor touchstart.redactor').on('click.redactor touchstart.redactor',$.proxy(function(e)
{setTimeout($.proxy(function()
{this.image.showEdit($image)},this),200)},this))}},setResizable:function(e,$image)
{e.preventDefault();this.image.resizeHandle={x:e.pageX,y:e.pageY,el:$image,ratio:$image.width()/$image.height(),h:$image.height()};e=e.originalEvent||e;if(e.targetTouches)
{this.image.resizeHandle.x=e.targetTouches[0].pageX;this.image.resizeHandle.y=e.targetTouches[0].pageY}
this.image.startResize()},startResize:function()
{$(document).on('mousemove.redactor-image-resize touchmove.redactor-image-resize',$.proxy(this.image.moveResize,this));$(document).on('mouseup.redactor-image-resize touchend.redactor-image-resize',$.proxy(this.image.stopResize,this))},moveResize:function(e)
{e.preventDefault();e=e.originalEvent||e;var height=this.image.resizeHandle.h;if(e.targetTouches)height+=(e.targetTouches[0].pageY-this.image.resizeHandle.y);else height+=(e.pageY-this.image.resizeHandle.y);var width=Math.round(height*this.image.resizeHandle.ratio);if(height<50||width<100)return;var height=Math.round(this.image.resizeHandle.el.width()/this.image.resizeHandle.ratio);this.image.resizeHandle.el.attr({width:width,height:height});this.image.resizeHandle.el.width(width);this.image.resizeHandle.el.height(height);this.code.sync()},stopResize:function()
{this.handle=!1;$(document).off('.redactor-image-resize');this.image.hideResize()},hideResize:function(e)
{if(e&&$(e.target).closest('#redactor-image-box',this.$editor[0]).length!==0)return;if(e&&e.target.tagName=='IMG')
{var $image=$(e.target)}
var imageBox=this.$editor.find('#redactor-image-box');if(imageBox.length===0)return;$('#redactor-image-editter').remove();$('#redactor-image-resizer').remove();imageBox.find('img').css({marginTop:imageBox[0].style.marginTop,marginBottom:imageBox[0].style.marginBottom,marginLeft:imageBox[0].style.marginLeft,marginRight:imageBox[0].style.marginRight});imageBox.css('margin','');imageBox.find('img').css('opacity','');imageBox.replaceWith(function()
{return $(this).contents()});$(document).off('mousedown.redactor-image-resize-hide.'+this.uuid);if(typeof this.image.resizeHandle!=='undefined')
{this.image.resizeHandle.el.attr('rel',this.image.resizeHandle.el.attr('style'))}},loadResizableControls:function($image,imageBox)
{if(this.opts.imageResizable&&!this.detect.isMobile())
{var imageResizer=$('<span id="redactor-image-resizer" data-redactor="verified"></span>');if(!this.detect.isDesktop())
{imageResizer.css({width:'15px',height:'15px'})}
imageResizer.attr('contenteditable',!1);imageBox.append(imageResizer);imageBox.append($image);return imageResizer}
else{imageBox.append($image);return!1}},loadEditableControls:function($image)
{if($('#redactor-image-box').length!==0)
{return}
var imageBox=$('<span id="redactor-image-box" data-redactor="verified">');imageBox.css('float',$image.css('float')).attr('contenteditable',!1);if($image[0].style.margin!='auto')
{imageBox.css({marginTop:$image[0].style.marginTop,marginBottom:$image[0].style.marginBottom,marginLeft:$image[0].style.marginLeft,marginRight:$image[0].style.marginRight});$image.css('margin','')}
else{imageBox.css({'display':'block','margin':'auto'})}
$image.css('opacity','.5').after(imageBox);if(this.opts.imageEditable)
{this.image.editter=$('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get('edit')+'</span>');this.image.editter.attr('contenteditable',!1);this.image.editter.on('click',$.proxy(function()
{this.image.showEdit($image)},this));imageBox.append(this.image.editter);var editerWidth=this.image.editter.innerWidth();this.image.editter.css('margin-left','-'+editerWidth/2+'px')}
return this.image.loadResizableControls($image,imageBox)},showEdit:function($image)
{if(this.events.imageEditing)
{return}
this.observe.image=$image;var $link=$image.closest('a',this.$editor[0]);var $figure=$image.closest('figure',this.$editor[0]);var $container=($figure.length!==0)?$figure:$image;this.modal.load('image-edit',this.lang.get('edit'),705);this.image.buttonDelete=this.modal.getDeleteButton().text(this.lang.get('delete'));this.image.buttonSave=this.modal.getActionButton().text(this.lang.get('save'));this.image.buttonDelete.on('click',$.proxy(this.image.remove,this));this.image.buttonSave.on('click',$.proxy(this.image.update,this));if(this.opts.imageCaption===!1)
{$('#redactor-image-caption').val('').hide().prev().hide()}
else{var $parent=$image.closest(this.opts.imageTag,this.$editor[0]);var $ficaption=$parent.find('figcaption');if($ficaption!==0)
{$('#redactor-image-caption').val($ficaption.text()).show()}}
if(!this.opts.imagePosition)
{$('.redactor-image-position-option').hide()}
else{var isCentered=($figure.length!==0)?($container.css('text-align')==='center'):($container.css('display')=='block'&&$container.css('float')=='none');var floatValue=(isCentered)?'center':$container.css('float');$('#redactor-image-align').val(floatValue)}
$('#redactor-image-preview').html($('<img src="'+$image.attr('src')+'" style="max-width: 100%;">'));$('#redactor-image-title').val($image.attr('alt'));if($link.length!==0)
{$('#redactor-image-link').val($link.attr('href'));if($link.attr('target')==='_blank')
{$('#redactor-image-link-blank').prop('checked',!0)}}
$('.redactor-link-tooltip').remove();this.modal.show();if(this.detect.isDesktop())
{$('#redactor-image-title').focus()}},update:function()
{var $image=this.observe.image;var $link=$image.closest('a',this.core.editor()[0]);var title=$('#redactor-image-title').val().replace(/(<([^>]+)>)/ig,"");$image.attr('alt',title).attr('title',title);this.image.setFloating($image);var link=$.trim($('#redactor-image-link').val()).replace(/(<([^>]+)>)/ig,"");if(link!=='')
{var pattern='((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}';var re=new RegExp('^(http|ftp|https)://'+pattern,'i');var re2=new RegExp('^'+pattern,'i');if(link.search(re)===-1&&link.search(re2)===0&&this.opts.linkProtocol)
{link=this.opts.linkProtocol+'://'+link}
var target=($('#redactor-image-link-blank').prop('checked'))?!0:!1;if($link.length===0)
{var a=$('<a href="'+link+'" id="redactor-img-tmp">'+this.utils.getOuterHtml($image)+'</a>');if(target)
{a.attr('target','_blank')}
$image=$image.replaceWith(a);$link=this.core.editor().find('#redactor-img-tmp');$link.removeAttr('id')}
else{$link.attr('href',link);if(target)
{$link.attr('target','_blank')}
else{$link.removeAttr('target')}}}
else if($link.length!==0)
{$link.replaceWith(this.utils.getOuterHtml($image))}
this.image.addCaption($image,$link);this.modal.close();this.buffer.set()},setFloating:function($image)
{var $figure=$image.closest('figure',this.$editor[0]);var $container=($figure.length!==0)?$figure:$image;var floating=$('#redactor-image-align').val();var imageFloat='';var imageDisplay='';var imageMargin='';var textAlign='';switch(floating)
{case 'left':imageFloat='left';imageMargin='0 '+this.opts.imageFloatMargin+' '+this.opts.imageFloatMargin+' 0';break;case 'right':imageFloat='right';imageMargin='0 0 '+this.opts.imageFloatMargin+' '+this.opts.imageFloatMargin;break;case 'center':if($figure.length!==0)
{textAlign='center'}
else{imageDisplay='block';imageMargin='auto'}
break}
$container.css({'float':imageFloat,'display':imageDisplay,'margin':imageMargin,'text-align':textAlign});$container.attr('rel',$image.attr('style'))},addCaption:function($image,$link)
{var caption=$('#redactor-image-caption').val();var $target=($link.length!==0)?$link:$image;var $figcaption=$target.next();if($figcaption.length===0||$figcaption[0].tagName!=='FIGCAPTION')
{$figcaption=!1}
if(caption!=='')
{if($figcaption===!1)
{$figcaption=$('<figcaption />').text(caption);$target.after($figcaption)}
else{$figcaption.text(caption)}}
else if($figcaption!==!1)
{$figcaption.remove()}},remove:function(e,$image,index)
{$image=(typeof $image==='undefined')?$(this.observe.image):$image;if(typeof e!=='boolean')
{this.buffer.set()}
this.events.stopDetectChanges();var $link=$image.closest('a',this.core.editor()[0]);var $figure=$image.closest(this.opts.imageTag,this.core.editor()[0]);var $parent=$image.parent();var imageDeleteStop=this.core.callback('imageDelete',e,$image[0]);if(imageDeleteStop===!1)
{e.preventDefault();return!1}
if($('#redactor-image-box').length!==0)
{$parent=$('#redactor-image-box').parent()}
var $next,$prev;if($figure.length!==0)
{$prev=$figure.prev();$next=$figure.next();$figure.remove()}
else if($link.length!==0)
{$parent=$link.parent();$link.remove()}
else{$image.remove()}
$('#redactor-image-box').remove();if(e!==!1)
{if($next&&$next.length!==0)
{this.caret.start($next)}
else if($prev&&$prev.length!==0)
{this.caret.end($prev)}}
if(typeof e!=='boolean')
{this.modal.close()}
this.utils.restoreScroll();this.observe.image=!1;this.events.startDetectChanges();this.placeholder.enable();this.code.sync()}}},indent:function()
{return{increase:function()
{if(!this.list.get())
{return}
var $current=$(this.selection.current()).closest('li');var $list=$current.closest('ul, ol',this.core.editor()[0]);var $li=$current.closest('li');var $prev=$li.prev();if($prev.length===0||$prev[0].tagName!=='LI')
{return}
this.buffer.set();if(this.utils.isCollapsed())
{var listTag=$list[0].tagName;var $newList=$('<'+listTag+' />');this.selection.save();var $ol=$prev.find('ol').first();if($ol.length===1)
{$ol.append($current)}
else{var listTag=$list[0].tagName;var $newList=$('<'+listTag+' />');$newList.append($current);$prev.append($newList)}
this.selection.restore()}
else{document.execCommand('indent');this.selection.save();this.indent.removeEmpty();this.indent.normalize();this.selection.restore()}},decrease:function()
{if(!this.list.get())
{return}
var $current=$(this.selection.current()).closest('li');var $list=$current.closest('ul, ol',this.core.editor()[0]);this.buffer.set();document.execCommand('outdent');var $item=$(this.selection.current()).closest('li',this.core.editor()[0]);if(this.utils.isCollapsed())
{this.indent.repositionItem($item)}
if($item.length===0)
{document.execCommand('formatblock',!1,'p');$item=$(this.selection.current());var $next=$item.next();if($next.length!==0&&$next[0].tagName==='BR')
{$next.remove()}}
this.selection.save();this.indent.removeEmpty();this.indent.normalize();this.selection.restore()},repositionItem:function($item)
{var $next=$item.next();if($next.length!==0&&($next[0].tagName!=='UL'||$next[0].tagName!=='OL'))
{$item.append($next)}
var $prev=$item.prev();if($prev.length!==0&&$prev[0].tagName!=='LI')
{this.selection.save();var $li=$item.parents('li',this.core.editor()[0]);$li.after($item);this.selection.restore()}},normalize:function()
{this.core.editor().find('li').each($.proxy(function(i,s)
{var $el=$(s);$el.find(this.opts.inlineTags.join(',')).each(function()
{$(this).removeAttr('style')});var $parent=$el.parent();if($parent.length!==0&&$parent[0].tagName==='LI')
{$parent.after($el);return}
var $next=$el.next();if($next.length!==0&&($next[0].tagName==='UL'||$next[0].tagName==='OL'))
{$el.append($next)}},this))},removeEmpty:function($list)
{var $lists=this.core.editor().find('ul, ol');var $items=this.core.editor().find('li');$items.each($.proxy(function(i,s)
{this.indent.removeItemEmpty(s)},this));$lists.each($.proxy(function(i,s)
{this.indent.removeItemEmpty(s)},this));$items.each($.proxy(function(i,s)
{this.indent.removeItemEmpty(s)},this))},removeItemEmpty:function(s)
{var html=s.innerHTML.replace(/[\t\s\n]/g,'');html=html.replace(/<span><\/span>/g,'');if(html==='')
{$(s).remove()}}}},inline:function()
{return{format:function(tag,attr,value,type)
{if(this.utils.isCurrentOrParent(['PRE','CODE']))return;var params=this.inline.getParams(attr,value,type);tag=this.inline.arrangeTag(tag);this.placeholder.hide();this.buffer.set();(this.utils.isCollapsed())?this.inline.formatCollapsed(tag,params):this.inline.formatUncollapsed(tag,params)},formatCollapsed:function(tag,params)
{var newInline;var inline=this.selection.inline();if(inline)
{var currentTag=inline.tagName.toLowerCase();if(currentTag===tag)
{if(this.utils.isEmpty(inline.innerHTML))
{this.caret.after(inline);$(inline).remove()}
else{var $first=this.inline.insertBreakpoint(inline,currentTag);this.caret.after($first)}}
else if($(inline).closest(tag).length===0)
{newInline=this.inline.insertInline(tag);newInline=this.inline.setParams(newInline,params)}
else{var $first=this.inline.insertBreakpoint($parent[0],currentTag);this.caret.after($first)}}
else{newInline=this.inline.insertInline(tag);newInline=this.inline.setParams(newInline,params)}},formatUncollapsed:function(tag,params)
{this.selection.save();var nodes=this.inline.getClearedNodes();this.inline.setNodesStriked(nodes,tag,params);this.selection.restore();document.execCommand('strikethrough');this.selection.saveInstant();var self=this;this.core.editor().find('strike').each(function()
{var $el=self.utils.replaceToTag(this,tag);self.inline.setParams($el[0],params);var $inside=$el.find(tag);var $parent=$el.parent();var $parentAround=$parent.parent();if($parentAround.length!==0&&$parentAround[0].tagName.toLowerCase()===tag&&$parentAround.html()==$parent[0].outerHTML)
{$el.replaceWith(function(){return $(this).contents()});$parentAround.replaceWith(function(){return $(this).contents()});return}
if($inside.length!==0)self.inline.cleanInsideOrParent($inside,params);if($parent.html()==$el[0].outerHTML)self.inline.cleanInsideOrParent($parent,params);if(self.detect.isFirefox())
{self.core.editor().find(tag+':empty').remove()}});this.selection.restoreInstant()},cleanInsideOrParent:function($el,params)
{if(params)
{for(var key in params.data)
{this.inline.removeSpecificAttr($el,key,params.data[key])}}},getClearedNodes:function()
{var nodes=this.selection.nodes();var newNodes=[];var len=nodes.length;var started=0;for(var i=0;i<len;i++)
{if($(nodes[i]).hasClass('redactor-selection-marker'))
{started=i+2;break}}
for(var i=0;i<len;i++)
{if(i>=started&&!this.utils.isBlockTag(nodes[i].tagName))
{newNodes.push(nodes[i])}}
return newNodes},isConvertableAttr:function(node,name,value)
{var nodeAttrValue=$(node).attr(name);if(nodeAttrValue)
{if(name==='style')
{value=$.trim(value).replace(/;$/,'')
var rules=value.split(';');var count=0;for(var i=0;i<rules.length;i++)
{var arr=rules[i].split(':');var ruleName=$.trim(arr[0]);var ruleValue=$.trim(arr[1]);if(ruleName.search(/color/)!==-1)
{var val=$(node).css(ruleName);if(val&&(val===ruleValue||this.utils.rgb2hex(val)===ruleValue))
{count++}}
else if($(node).css(ruleName)===ruleValue)
{count++}}
if(count===rules.length)
{return 1}}
else if(nodeAttrValue===value)
{return 1}}
return 0},isConvertable:function(node,nodeTag,tag,params)
{if(nodeTag===tag)
{if(params)
{var count=0;for(var key in params.data)
{count+=this.inline.isConvertableAttr(node,key,params.data[key])}
if(count===Object.keys(params.data).length)
{return!0}}
else{return!0}}
return!1},setNodesStriked:function(nodes,tag,params)
{for(var i=0;i<nodes.length;i++)
{var nodeTag=(nodes[i].tagName)?nodes[i].tagName.toLowerCase():undefined;var parent=nodes[i].parentNode;var parentTag=(parent&&parent.tagName)?parent.tagName.toLowerCase():undefined;var convertable=this.inline.isConvertable(parent,parentTag,tag,params);if(convertable)
{var $el=$(parent).replaceWith(function()
{return $('<strike>').append($(this).contents())});$el.attr('data-redactor-inline-converted')}
var convertable=this.inline.isConvertable(nodes[i],nodeTag,tag,params);if(convertable)
{var $el=$(nodes[i]).replaceWith(function()
{return $('<strike>').append($(this).contents())})}}},insertBreakpoint:function(inline,currentTag)
{var breakpoint=document.createElement('span');breakpoint.id='redactor-inline-breakpoint';breakpoint=this.insert.node(breakpoint);var end=this.utils.isEndOfElement(inline);var code=this.utils.getOuterHtml(inline);var endTag=(end)?'':'<'+currentTag+'>';code=code.replace(/<span id="redactor-inline-breakpoint"><\/span>/i,"</"+currentTag+">"+endTag);var $code=$(code);$(inline).replaceWith($code);if(endTag!=='')
{this.utils.cloneAttributes(inline,$code.last())}
return $code.first()},insertInline:function(tag)
{var node=document.createElement(tag);this.insert.node(node);this.caret.start(node);return node},arrangeTag:function(tag)
{var tags=['b','bold','i','italic','underline','strikethrough','deleted','superscript','subscript'];var replaced=['strong','strong','em','em','u','del','del','sup','sub'];tag=tag.toLowerCase();for(var i=0;i<tags.length;i++)
{if(tag===tags[i])
{tag=replaced[i]}}
return tag},getStyleParams:function(params)
{var result={};var rules=params.trim().replace(/;$/,'').split(';');for(var i=0;i<rules.length;i++)
{var rule=rules[i].split(':');if(rule)
{result[rule[0].trim()]=rule[1].trim()}}
return result},getParams:function(attr,value,type)
{var data=!1;var func='toggle';if(typeof attr==='object')
{data=attr;func=(value!==undefined)?value:func}
else if(attr!==undefined&&value!==undefined)
{data={};data[attr]=value;func=(type!==undefined)?type:func}
return(data)?{'func':func,'data':data}:!1},setParams:function(node,params)
{if(params)
{for(var key in params.data)
{var $node=$(node);if(key==='style')
{node=this.inline[params.func+'Style'](params.data[key],node);$node.attr('data-redactor-style-cache',$node.attr('style'))}
else if(key==='class')
{node=this.inline[params.func+'Class'](params.data[key],node)}
else{node=(params.func==='remove')?this.inline[params.func+'Attr'](key,node):this.inline[params.func+'Attr'](key,params.data[key],node)}
if(key==='style'&&node.tagName==='SPAN')
{$node.attr('data-redactor-span',!0)}}}
return node},eachInline:function(node,callback)
{var lastNode;var nodes=(node===undefined)?this.selection.inlines():[node];if(nodes)
{for(var i=0;i<nodes.length;i++)
{lastNode=callback(nodes[i])[0]}}
return lastNode},replaceClass:function(value,node)
{return this.inline.eachInline(node,function(el)
{return $(el).removeAttr('class').addClass(value)})},toggleClass:function(value,node)
{return this.inline.eachInline(node,function(el)
{return $(el).toggleClass(value)})},addClass:function(value,node)
{return this.inline.eachInline(node,function(el)
{return $(el).addClass(value)})},removeClass:function(value,node)
{return this.inline.eachInline(node,function(el)
{return $(el).removeClass(value)})},removeAllClass:function(node)
{return this.inline.eachInline(node,function(el)
{return $(el).removeAttr('class')})},replaceAttr:function(name,value,node)
{return this.inline.eachInline(node,function(el)
{return $(el).removeAttr(name).attr(name.value)})},toggleAttr:function(name,value,node)
{return this.inline.eachInline(node,function(el)
{var attr=$(el).attr(name);return(attr)?$(el).removeAttr(name):$(el).attr(name.value)})},addAttr:function(name,value,node)
{return this.inline.eachInline(node,function(el)
{return $(el).attr(name,value)})},removeAttr:function(name,node)
{return this.inline.eachInline(node,function(el)
{var $el=$(el);$el.removeAttr(name);if(name==='style')
{$el.removeAttr('data-redactor-style-cache')}
return $el})},removeAllAttr:function(node)
{return this.inline.eachInline(node,function(el)
{var $el=$(el);var len=el.attributes.length;for(var z=0;z<len;z++)
{$el.removeAttr(el.attributes[z].name)}
return $el})},removeSpecificAttr:function(node,key,value)
{var $el=$(node);if(key==='style')
{var arr=value.split(':');var name=arr[0].trim();$el.css(name,'');if(this.utils.removeEmptyAttr(node,'style'))
{$el.removeAttr('data-redactor-style-cache')}}
else{$el.removeAttr(key)[0]}},hasParentStyle:function($el)
{var $parent=$el.parent();return($parent.length===1&&$parent[0].tagName===$el[0].tagName&&$parent.html()===$el[0].outerHTML)?$parent:!1},addParentStyle:function($el)
{var $parent=this.inline.hasParentStyle($el);if($parent)
{var style=this.inline.getStyleParams($el.attr('style'));$parent.css(style);$parent.attr('data-redactor-style-cache',$parent.attr('style'));$el.replaceWith(function()
{return $(this).contents()})}
else{$el.attr('data-redactor-style-cache',$el.attr('style'))}
return $el},replaceStyle:function(params,node)
{params=this.inline.getStyleParams(params);var self=this;return this.inline.eachInline(node,function(el)
{var $el=$(el);$el.removeAttr('style').css(params);var style=$el.attr('style');if(style)$el.attr('style',style.replace(/"/g,'\''));$el=self.inline.addParentStyle($el);return $el})},toggleStyle:function(params,node)
{params=this.inline.getStyleParams(params);var self=this;return this.inline.eachInline(node,function(el)
{var $el=$(el);for(var key in params)
{var newVal=params[key];var oldVal=$el.css(key);oldVal=(self.utils.isRgb(oldVal))?self.utils.rgb2hex(oldVal):oldVal.replace(/"/g,'');newVal=(self.utils.isRgb(newVal))?self.utils.rgb2hex(newVal):newVal.replace(/"/g,'');if(oldVal===newVal)
{$el.css(key,'')}
else{$el.css(key,newVal)}}
var style=$el.attr('style');if(style)$el.attr('style',style.replace(/"/g,'\''));if(!self.utils.removeEmptyAttr(el,'style'))
{$el=self.inline.addParentStyle($el)}
else{$el.removeAttr('data-redactor-style-cache')}
return $el})},addStyle:function(params,node)
{params=this.inline.getStyleParams(params);var self=this;return this.inline.eachInline(node,function(el)
{var $el=$(el);$el.css(params);var style=$el.attr('style');if(style)$el.attr('style',style.replace(/"/g,'\''));$el=self.inline.addParentStyle($el);return $el})},removeStyle:function(params,node)
{params=this.inline.getStyleParams(params);var self=this;return this.inline.eachInline(node,function(el)
{var $el=$(el);for(var key in params)
{$el.css(key,'')}
if(self.utils.removeEmptyAttr(el,'style'))
{$el.removeAttr('data-redactor-style-cache')}
else{$el.attr('data-redactor-style-cache',$el.attr('style'))}
return $el})},removeAllStyle:function(node)
{return this.inline.eachInline(node,function(el)
{return $(el).removeAttr('style').removeAttr('data-redactor-style-cache')})},removeStyleRule:function(name)
{var parent=this.selection.parent();var nodes=this.selection.inlines();this.buffer.set();if(parent&&parent.tagName==='SPAN')
{this.inline.removeStyleRuleAttr($(parent),name)}
for(var i=0;i<nodes.length;i++)
{var el=nodes[i];var $el=$(el);if($.inArray(el.tagName.toLowerCase(),this.opts.inlineTags)!=-1&&!$el.hasClass('redactor-selection-marker'))
{this.inline.removeStyleRuleAttr($el,name)}}},removeStyleRuleAttr:function($el,name)
{$el.css(name,'');if(this.utils.removeEmptyAttr($el,'style'))
{$el.removeAttr('data-redactor-style-cache')}
else{$el.attr('data-redactor-style-cache',$el.attr('style'))}},update:function(tag,attr,value,type)
{tag=this.inline.arrangeTag(tag);var params=this.inline.getParams(attr,value,type);var nodes=this.selection.inlines();var result=[];if(nodes)
{for(var i=0;i<nodes.length;i++)
{var el=nodes[i];if(tag==='*'||el.tagName.toLowerCase()===tag)
{result.push(this.inline.setParams(el,params))}}}
return result},removeFormat:function()
{this.selection.save();var nodes=this.inline.getClearedNodes();for(var i=0;i<nodes.length;i++)
{if(nodes[i].nodeType===1)
{$(nodes[i]).replaceWith(function()
{return $(this).contents()})}}
this.selection.restore()}}},insert:function()
{return{set:function(html)
{this.placeholder.hide();this.code.set(html);this.focus.end();this.placeholder.enable()},html:function(html,data)
{this.placeholder.hide();this.core.editor().focus();var block=this.selection.block();var inline=this.selection.inline();if(typeof data==='undefined')
{data=this.clean.getCurrentType(html,!0);html=this.clean.onPaste(html,data,!0)}
html=$.parseHTML(html);var endNode=$(html).last();var sel=this.selection.get();var range=this.selection.range(sel);range.deleteContents();this.selection.update(sel,range);if(data.lists)
{var $list=$(html);if($list.length!==0&&($list[0].tagName==='UL'||$list[0].tagName==='OL'))
{this.insert.appendLists(block,$list);return}}
if(data.blocks&&block)
{if(this.utils.isSelectAll())
{this.core.editor().html(html);this.focus.end()}
else{var breaked=this.utils.breakBlockTag();if(breaked===!1)
{this.insert.placeHtml(html)}
else{var $last=$(html).children().last();$last.append(this.marker.get());if(breaked.type==='start')
{breaked.$block.before(html)}
else{breaked.$block.after(html)}
this.selection.restore();this.core.editor().find('p').each(function()
{if($.trim(this.innerHTML)==='')
{$(this).remove()}})}}}
else{if(inline)
{var $div=$("<div/>").html(html);$div.find(inline.tagName.toLowerCase()).each(function()
{$(this).contents().unwrap()});html=$div.html()}
if(this.utils.isSelectAll())
{var $node=$(this.opts.emptyHtml);this.core.editor().html('').append($node);$node.html(html);this.caret.end($node)}
else{this.insert.placeHtml(html)}}
this.utils.disableSelectAll();this.linkify.format();if(data.pre)this.clean.cleanPre();this.caret.end(endNode)},text:function(text)
{text=text.toString();text=$.trim(text);var tmp=document.createElement('div');tmp.innerHTML=text;text=tmp.textContent||tmp.innerText;if(typeof text==='undefined')
{return}
this.placeholder.hide();this.core.editor().focus();var blocks=this.selection.blocks();text=text.replace(/\n/g,' ');if(this.utils.isSelectAll())
{var $node=$(this.opts.emptyHtml);this.core.editor().html('').append($node);$node.html(text);this.caret.end($node)}
else{var sel=this.selection.get();var node=document.createTextNode(text);if(sel.getRangeAt&&sel.rangeCount)
{var range=sel.getRangeAt(0);range.deleteContents();range.insertNode(node);range.setStartAfter(node);range.collapse(!0);this.selection.update(sel,range)}
if(blocks.length>1)
{$(node).wrap('<p>');this.caret.after(node)}}
this.utils.disableSelectAll();this.linkify.format();this.clean.normalizeCurrentHeading()},raw:function(html)
{this.placeholder.hide();this.core.editor().focus();var sel=this.selection.get();var range=this.selection.range(sel);range.deleteContents();var el=document.createElement("div");el.innerHTML=html;var frag=document.createDocumentFragment(),node,lastNode;while((node=el.firstChild))
{lastNode=frag.appendChild(node)}
range.insertNode(frag);if(lastNode)
{range=range.cloneRange();range.setStartAfter(lastNode);range.collapse(!0);sel.removeAllRanges();sel.addRange(range)}},node:function(node,deleteContent)
{this.placeholder.hide();if(typeof this.start!=='undefined')
{this.core.editor().focus()}
node=node[0]||node;var block=this.selection.block();var gap=this.utils.isBlockTag(node.tagName);var result=!0;if(this.utils.isSelectAll())
{if(gap)
{this.core.editor().html(node)}
else{this.core.editor().html($('<p>').html(node))}
this.code.sync()}
else if(gap&&block)
{var breaked=this.utils.breakBlockTag();if(breaked===!1)
{this.insert.placeNode(node,deleteContent)}
else{if(breaked.type==='start')
{breaked.$block.before(node)}
else{breaked.$block.after(node)}
this.core.editor().find('p:empty').remove()}}
else{result=this.insert.placeNode(node,deleteContent)}
this.utils.disableSelectAll();if(result)
{this.caret.end(node)}
return node},appendLists:function(block,$list)
{var $block=$(block);var last;var isEmpty=this.utils.isEmpty(block.innerHTML);if(isEmpty||this.utils.isEndOfElement(block))
{last=$block;$list.find('li').each(function()
{last.after(this);last=$(this)});if(isEmpty)
{$block.remove()}}
else if(this.utils.isStartOfElement(block))
{$list.find('li').each(function()
{$block.before(this);last=$(this)})}
else{var endOfNode=this.selection.extractEndOfNode(block);$block.after($('<li>').append(endOfNode));$block.append($list);last=$list}
this.marker.remove();if(last)
{this.caret.end(last)}
this.linkify.format()},placeHtml:function(html)
{var marker=document.createElement('span');marker.id='redactor-insert-marker';marker=this.insert.node(marker);$(marker).before(html);this.selection.restore();this.caret.after(marker);$(marker).remove()},placeNode:function(node,deleteContent)
{var sel=this.selection.get();var range=this.selection.range(sel);if(range==null)
{return!1}
if(deleteContent!==!1)
{range.deleteContents()}
range.insertNode(node);range.collapse(!1);this.selection.update(sel,range)},nodeToPoint:function(e,node)
{this.placeholder.hide();node=node[0]||node;if(this.utils.isEmpty())
{node=(this.utils.isBlock(node))?node:$('<p />').append(node);this.core.editor().html(node);return node}
var range;var x=e.clientX,y=e.clientY;if(document.caretPositionFromPoint)
{var pos=document.caretPositionFromPoint(x,y);var sel=document.getSelection();range=sel.getRangeAt(0);range.setStart(pos.offsetNode,pos.offset);range.collapse(!0);range.insertNode(node)}
else if(document.caretRangeFromPoint)
{range=document.caretRangeFromPoint(x,y);range.insertNode(node)}
else if(typeof document.body.createTextRange!=="undefined")
{range=document.body.createTextRange();range.moveToPoint(x,y);var endRange=range.duplicate();endRange.moveToPoint(x,y);range.setEndPoint("EndToEnd",endRange);range.select()}
return node},nodeToCaretPositionFromPoint:function(e,node)
{this.insert.nodeToPoint(e,node)},marker:function()
{this.marker.insert()}}},keydown:function()
{return{init:function(e)
{if(this.rtePaste)
{return}
var key=e.which;var arrow=(key>=37&&key<=40);this.keydown.ctrl=e.ctrlKey||e.metaKey;this.keydown.parent=this.selection.parent();this.keydown.current=this.selection.current();this.keydown.block=this.selection.block();this.keydown.pre=this.utils.isTag(this.keydown.current,'pre');this.keydown.blockquote=this.utils.isTag(this.keydown.current,'blockquote');this.keydown.figcaption=this.utils.isTag(this.keydown.current,'figcaption');this.keydown.figure=this.utils.isTag(this.keydown.current,'figure');var keydownStop=this.core.callback('keydown',e);if(keydownStop===!1)
{e.preventDefault();return!1}
this.shortcuts.init(e,key);this.keydown.checkEvents(arrow,key);this.keydown.setupBuffer(e,key);if(this.utils.isSelectAll()&&(key===this.keyCode.ENTER||key===this.keyCode.BACKSPACE||key===this.keyCode.DELETE))
{e.preventDefault();this.code.set(this.opts.emptyHtml);return}
this.keydown.addArrowsEvent(arrow);this.keydown.setupSelectAll(e,key);if(!this.opts.enterKey&&key===this.keyCode.ENTER)
{e.preventDefault();var sel=this.selection.get();var range=this.selection.range(sel);if(!range.collapsed)
{range.deleteContents()}
return}
if(this.opts.enterKey&&key===this.keyCode.DOWN)
{this.keydown.onArrowDown()}
if(this.opts.enterKey&&key===this.keyCode.UP)
{this.keydown.onArrowUp()}
if((this.opts.type==='textarea'||this.opts.type==='div')&&this.keydown.current&&this.keydown.current.nodeType===3&&$(this.keydown.parent).hasClass('redactor-in'))
{this.keydown.wrapToParagraph()}
if(!this.keyup.lastShiftKey&&key===this.keyCode.SPACE&&(e.ctrlKey||e.shiftKey))
{e.preventDefault();return this.keydown.onShiftSpace()}
if(key===this.keyCode.ENTER&&(e.ctrlKey||e.shiftKey))
{e.preventDefault();return this.keydown.onShiftEnter(e)}
if(key===this.keyCode.ENTER&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey)
{return this.keydown.onEnter(e)}
if(key===this.keyCode.TAB||e.metaKey&&key===221||e.metaKey&&key===219)
{return this.keydown.onTab(e,key)}
if(this.detect.isFirefox()&&key===this.keyCode.BACKSPACE&&this.keydown.block&&this.keydown.block.tagName==='P'&&this.utils.isStartOfElement(this.keydown.block))
{var $prev=$(this.keydown.block).prev();if($prev.length!==0)
{e.preventDefault();$prev.append(this.marker.get());$prev.append($(this.keydown.block).html());$(this.keydown.block).remove();this.selection.restore();return}}
if(key===this.keyCode.BACKSPACE||key===this.keyCode.DELETE)
{if(this.observe.image&&typeof this.observe.image!=='undefined'&&$('#redactor-image-box').length!==0)
{e.preventDefault();var $prev=this.observe.image.closest('figure, p').prev()
this.image.remove(!1);this.observe.image=!1;if($prev&&$prev.length!==0)
{this.caret.end($prev)}
else{this.core.editor().focus()}
return}
this.keydown.onBackspaceAndDeleteBefore()}
if(key===this.keyCode.DELETE)
{var $next=$(this.keydown.block).next();if(this.utils.isEndOfElement(this.keydown.block)&&$next.length!==0&&$next[0].tagName==='FIGURE')
{$next.remove();return!1}
var tagLi=(this.keydown.block&&this.keydown.block.tagName==='LI')?this.keydown.block:!1;if(tagLi)
{var $list=$(this.keydown.block).parents('ul, ol').last();var $nextList=$list.next();if(this.utils.isRedactorParent($list)&&this.utils.isEndOfElement($list)&&$nextList.length!==0&&($nextList[0].tagName==='UL'||$nextList[0].tagName==='OL'))
{e.preventDefault();$list.append($nextList.contents());$nextList.remove();return!1}}
if(this.utils.isEndOfElement(this.keydown.block)&&$next.length!==0&&$next[0].tagName==='PRE')
{$(this.keydown.block).append($next.text());$next.remove();return!1}}
if(key===this.keyCode.DELETE&&$('#redactor-image-box').length!==0)
{this.image.remove()}
if(key===this.keyCode.BACKSPACE)
{if(this.detect.isFirefox())
{this.line.removeOnBackspace(e)}
if(this.list.combineAfterAndBefore(this.keydown.block))
{e.preventDefault();return}
var block=this.selection.block();if(block&&block.tagName==='LI'&&this.utils.isCollapsed()&&this.utils.isStartOfElement())
{this.indent.decrease();e.preventDefault();return}
this.keydown.removeInvisibleSpace();this.keydown.removeEmptyListInTable(e)}
if(key===this.keyCode.BACKSPACE||key===this.keyCode.DELETE)
{this.keydown.onBackspaceAndDeleteAfter(e)}},onShiftSpace:function()
{this.buffer.set();this.insert.raw('&nbsp;');return!1},onShiftEnter:function(e)
{this.buffer.set();return(this.keydown.pre)?this.keydown.insertNewLine(e):this.insert.raw('<br>')},onBackspaceAndDeleteBefore:function()
{this.utils.saveScroll()},onBackspaceAndDeleteAfter:function(e)
{setTimeout($.proxy(function()
{this.code.syncFire=!1;this.keydown.removeEmptyLists();var filter='';if(this.opts.keepStyleAttr.length!==0)
{filter=','+this.opts.keepStyleAttr.join(',')}
var $styleTags=this.core.editor().find('*[style]');$styleTags.not('img, figure, iframe, #redactor-image-box, #redactor-image-editter, [data-redactor-style-cache], [data-redactor-span]'+filter).removeAttr('style');this.keydown.formatEmpty(e);this.code.syncFire=!0},this),1)},onEnter:function(e)
{var stop=this.core.callback('enter',e);if(stop===!1)
{e.preventDefault();return!1}
if(this.keydown.blockquote&&this.keydown.exitFromBlockquote(e)===!0)
{return!1}
if(this.keydown.pre)
{return this.keydown.insertNewLine(e)}
else if(this.keydown.blockquote||this.keydown.figcaption)
{return this.keydown.insertBreakLine(e)}
else if(this.keydown.figure)
{setTimeout($.proxy(function()
{this.keydown.replaceToParagraph('FIGURE')},this),1)}
else if(this.keydown.block)
{setTimeout($.proxy(function()
{this.keydown.replaceToParagraph('DIV')},this),1);if(this.keydown.block.tagName==='LI')
{var current=this.selection.current();var $parent=$(current).closest('li',this.$editor[0]);var $list=$parent.parents('ul,ol',this.$editor[0]).last();if($parent.length!==0&&this.utils.isEmpty($parent.html())&&$list.next().length===0&&this.utils.isEmpty($list.find("li").last().html()))
{$list.find("li").last().remove();var node=$(this.opts.emptyHtml);$list.after(node);this.caret.start(node);return!1}}}
else if(!this.keydown.block)
{return this.keydown.insertParagraph(e)}
if(this.detect.isFirefox()&&this.utils.isInline(this.keydown.parent))
{this.keydown.insertBreakLine(e);return}
setTimeout($.proxy(function()
{var inline=this.selection.inline();if(inline&&this.utils.isEmpty(inline.innerHTML))
{var parent=this.selection.block();$(inline).remove();var range=document.createRange();range.setStart(parent,0);var textNode=document.createTextNode('\u200B');range.insertNode(textNode);range.setStartAfter(textNode);range.collapse(!0);var sel=window.getSelection();sel.removeAllRanges();sel.addRange(range)}},this),1)},checkEvents:function(arrow,key)
{if(!arrow&&(this.core.getEvent()==='click'||this.core.getEvent()==='arrow'))
{this.core.addEvent(!1);if(this.keydown.checkKeyEvents(key))
{this.buffer.set()}}},checkKeyEvents:function(key)
{var k=this.keyCode;var keys=[k.BACKSPACE,k.DELETE,k.ENTER,k.ESC,k.TAB,k.CTRL,k.META,k.ALT,k.SHIFT];return($.inArray(key,keys)===-1)?!0:!1},addArrowsEvent:function(arrow)
{if(!arrow)
{return}
if((this.core.getEvent()==='click'||this.core.getEvent()==='arrow'))
{this.core.addEvent(!1);return}
this.core.addEvent('arrow')},setupBuffer:function(e,key)
{if(this.keydown.ctrl&&key===90&&!e.shiftKey&&!e.altKey&&this.opts.buffer.length)
{e.preventDefault();this.buffer.undo();return}
else if(this.keydown.ctrl&&key===90&&e.shiftKey&&!e.altKey&&this.opts.rebuffer.length!==0)
{e.preventDefault();this.buffer.redo();return}
else if(!this.keydown.ctrl)
{if(key===this.keyCode.SPACE||key===this.keyCode.BACKSPACE||key===this.keyCode.DELETE||(key===this.keyCode.ENTER&&!e.ctrlKey&&!e.shiftKey))
{this.buffer.set()}}},exitFromBlockquote:function(e)
{if(!this.utils.isEndOfElement(this.keydown.blockquote))
{return}
var tmp=this.clean.removeSpacesHard($(this.keydown.blockquote).html());if(tmp.search(/(<br\s?\/?>){1}$/i)!==-1)
{e.preventDefault();var $last=$(this.keydown.blockquote).children().last();$last.filter('br').remove();$(this.keydown.blockquote).children().last().filter('span').remove();var node=$(this.opts.emptyHtml);$(this.keydown.blockquote).after(node);this.caret.start(node);return!0}
return},onArrowDown:function()
{var tags=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption];for(var i=0;i<tags.length;i++)
{if(tags[i])
{this.keydown.insertAfterLastElement(tags[i]);return!1}}},onArrowUp:function()
{var tags=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption];for(var i=0;i<tags.length;i++)
{if(tags[i])
{this.keydown.insertBeforeFirstElement(tags[i]);return!1}}},insertAfterLastElement:function(element)
{if(!this.utils.isEndOfElement(element))
{return}
var last=this.core.editor().contents().last();var $next=(element.tagName==='FIGCAPTION')?$(this.keydown.block).parent().next():$(this.keydown.block).next();if($next.length!==0)
{return}
else if(last.length===0&&last[0]!==element)
{this.caret.start(last);return}
else{var node=$(this.opts.emptyHtml);if(element.tagName==='FIGCAPTION')
{$(element).parent().after(node)}
else{$(element).after(node)}
this.caret.start(node)}},insertBeforeFirstElement:function(element)
{if(!this.utils.isStartOfElement())
{return}
if(this.core.editor().contents().length>1&&this.core.editor().contents().first()[0]!==element)
{return}
var node=$(this.opts.emptyHtml);$(element).before(node);this.caret.start(node)},onTab:function(e,key)
{if(!this.opts.tabKey)
{return!0}
var isList=(this.keydown.block&&this.keydown.block.tagName==='LI')
if(this.utils.isEmpty(this.code.get())||(!isList&&!this.keydown.pre&&this.opts.tabAsSpaces===!1))
{return!0}
e.preventDefault();this.buffer.set();var isListStart=(isList&&this.utils.isStartOfElement(this.keydown.block));var node;if(this.keydown.pre&&!e.shiftKey)
{node=(this.opts.preSpaces)?document.createTextNode(Array(this.opts.preSpaces+1).join('\u00a0')):document.createTextNode('\t');this.insert.node(node)}
else if(this.opts.tabAsSpaces!==!1&&!isListStart)
{node=document.createTextNode(Array(this.opts.tabAsSpaces+1).join('\u00a0'));this.insert.node(node)}
else{if(e.metaKey&&key===219)
{this.indent.decrease()}
else if(e.metaKey&&key===221)
{this.indent.increase()}
else if(!e.shiftKey)
{this.indent.increase()}
else{this.indent.decrease()}}
return!1},setupSelectAll:function(e,key)
{if(this.keydown.ctrl&&key===65)
{this.utils.enableSelectAll()}
else if(key!==this.keyCode.LEFT_WIN&&!this.keydown.ctrl)
{this.utils.disableSelectAll()}},insertNewLine:function(e)
{e.preventDefault();var node=document.createTextNode('\n');var sel=this.selection.get();var range=this.selection.range(sel);range.deleteContents();range.insertNode(node);this.caret.after(node);return!1},insertParagraph:function(e)
{e.preventDefault();var p=document.createElement('p');p.innerHTML='<br>';var sel=this.selection.get();var range=this.selection.range(sel);range.deleteContents();range.insertNode(p);this.caret.start(p);return!1},insertBreakLine:function(e)
{return this.keydown.insertBreakLineProcessing(e)},insertDblBreakLine:function(e)
{return this.keydown.insertBreakLineProcessing(e,!0)},insertBreakLineProcessing:function(e,dbl)
{e.stopPropagation();var br1=document.createElement('br');this.insert.node(br1);if(dbl===!0)
{var br2=document.createElement('br');this.insert.node(br2);this.caret.after(br2)}
else{this.caret.after(br1)}
return!1},wrapToParagraph:function()
{var $current=$(this.keydown.current);var node=$('<p>').append($current.clone());$current.replaceWith(node);var next=$(node).next();if(typeof(next[0])!=='undefined'&&next[0].tagName==='BR')
{next.remove()}
this.caret.end(node)},replaceToParagraph:function(tag)
{var blockElem=this.selection.block();var $prev=$(blockElem).prev();var blockHtml=blockElem.innerHTML.replace(/<br\s?\/?>/gi,'');if(blockElem.tagName===tag&&this.utils.isEmpty(blockHtml)&&!$(blockElem).hasClass('redactor-in'))
{var p=document.createElement('p');$(blockElem).replaceWith(p);this.keydown.setCaretToParagraph(p);return!1}
else if(blockElem.tagName==='P')
{$(blockElem).removeAttr('class').removeAttr('style');if(this.detect.isIe()&&this.utils.isEmpty(blockHtml)&&this.utils.isInline(this.keydown.parent))
{$(blockElem).on('input',$.proxy(function()
{var parent=this.selection.parent();if(this.utils.isInline(parent))
{var html=$(parent).html();$(blockElem).html(html);this.caret.end(blockElem)}
$(blockElem).off('keyup')},this))}
return!1}
else if($prev.hasClass(this.opts.videoContainerClass))
{$prev.removeAttr('class');var p=document.createElement('p');$prev.replaceWith(p);this.keydown.setCaretToParagraph(p);return!1}},setCaretToParagraph:function(p)
{var range=document.createRange();range.setStart(p,0);var textNode=document.createTextNode('\u200B');range.insertNode(textNode);range.setStartAfter(textNode);range.collapse(!0);var sel=window.getSelection();sel.removeAllRanges();sel.addRange(range)},removeInvisibleSpace:function()
{var $current=$(this.keydown.current);if($current.text().search(/^\u200B$/g)===0)
{$current.remove()}},removeEmptyListInTable:function(e)
{var $current=$(this.keydown.current);var $parent=$(this.keydown.parent);var td=$current.closest('td',this.$editor[0]);if(td.length!==0&&$current.closest('li',this.$editor[0])&&$parent.children('li').length===1)
{if(!this.utils.isEmpty($current.text()))
{return}
e.preventDefault();$current.remove();$parent.remove();this.caret.start(td)}},removeEmptyLists:function()
{var removeIt=function()
{var html=$.trim(this.innerHTML).replace(/\/t\/n/g,'');if(html==='')
{$(this).remove()}};this.core.editor().find('li').each(removeIt);this.core.editor().find('ul, ol').each(removeIt)},formatEmpty:function(e)
{var html=$.trim(this.core.editor().html());if(!this.utils.isEmpty(html))
{return}
e.preventDefault();if(this.opts.type==='inline'||this.opts.type==='pre')
{this.core.editor().html(this.marker.html());this.selection.restore()}
else{this.core.editor().html(this.opts.emptyHtml);this.focus.start()}
return!1}}},keyup:function()
{return{init:function(e)
{if(this.rtePaste)
{return}
var key=e.which;this.keyup.block=this.selection.block();this.keyup.current=this.selection.current();this.keyup.parent=this.selection.parent();this.keyup.lastShiftKey=e.shiftKey;var stop=this.core.callback('keyup',e);if(stop===!1)
{e.preventDefault();return!1}
if(key===this.keyCode.ENTER)
{if(this.keyup.block&&this.keyup.block.tagName==='FIGURE')
{var $prev=$(this.keyup.block).prev();if($prev.length!==0&&$prev[0].tagName==='FIGURE')
{var $newTag=this.utils.replaceToTag($prev,'p');this.caret.start($newTag);return}}}
if(key===this.keyCode.BACKSPACE||key===this.keyCode.DELETE)
{if(this.utils.isSelectAll())
{this.focus.start();this.toolbar.setUnfixed();return}
if(this.keyup.block&&this.keydown.block&&this.keyup.block.tagName==='FIGURE'&&this.utils.isStartOfElement(this.keydown.block))
{e.preventDefault();this.selection.save();$(this.keyup.block).find('figcaption').remove();$(this.keyup.block).find('img').first().remove();this.utils.replaceToTag(this.keyup.block,'p');var $marker=this.marker.find();$('html, body').animate({scrollTop:$marker.position().top+20},500);this.selection.restore();return}
if(this.keyup.block&&this.keyup.block.tagName==='P')
{var isContainImage=$(this.keyup.block).find('img').length;var text=$(this.keyup.block).text().replace(/\u200B/g,'');if(text===''&&isContainImage!==0)
{this.utils.replaceToTag(this.keyup.block,'figure')}}
if(this.keyup.block&&this.keyup.block.tagName==='FIGURE'&&$(this.keyup.block).find('img').length===0)
{this.selection.save();this.utils.replaceToTag(this.keyup.block,'p');this.selection.restore()}}
if(this.linkify.isKey(key))
{this.linkify.format()}}}},lang:function()
{return{load:function()
{this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(name)
{return(typeof this.opts.curLang[name]!=='undefined')?this.opts.curLang[name]:''}}},line:function()
{return{insert:function()
{this.buffer.set();this.insert.html(this.line.getLineHtml());var $hr=this.core.editor().find('#redactor-hr-tmp-id');$hr.removeAttr('id');this.core.callback('insertedLine',$hr);return $hr},getLineHtml:function()
{var html='<hr id="redactor-hr-tmp-id" />';if(!this.detect.isFirefox()&&this.utils.isEmpty())
{html+='<p>'+this.opts.emptyHtml+'</p>'}
return html},removeOnBackspace:function(e)
{if(!this.utils.isCollapsed())
{return}
var $block=$(this.selection.block());if($block.length===0||!this.utils.isStartOfElement($block))
{return}
var $prev=$block.prev();if($prev&&$prev.length!==0&&$prev[0].tagName==='HR')
{e.preventDefault();$prev.remove()}}}},link:function()
{return{get:function()
{return $(this.selection.inlines('a'))},is:function()
{var nodes=this.selection.nodes();var $link=$(this.selection.current()).closest('a',this.core.editor()[0]);return($link.length===0||nodes.length>1)?!1:$link},unlink:function(e)
{if(typeof e!=='undefined'&&e.preventDefault)
{e.preventDefault()}
this.buffer.set();var links=this.selection.inlines('a');if(links.length===0)
{return}
var $links=this.link.replaceLinksToText(links);this.observe.closeAllTooltip();this.core.callback('deletedLink',$links)},insert:function(link,cleaned)
{var $el=this.link.is();if(cleaned!==!0)
{link=this.link.buildLinkFromObject($el,link);if(link===!1)
{return!1}}
this.buffer.set();link=this.core.callback('beforeInsertingLink',link);if($el===!1)
{$el=$('<a />');$el=this.link.update($el,link);$el=$(this.insert.node($el));var $parent=$el.parent();if(this.utils.isRedactorParent($parent)===!1)
{$el.wrap('<p>')}
if($parent.hasClass('redactor-unlink'))
{$parent.replaceWith(function(){return $(this).contents()})}
this.caret.after($el);this.core.callback('insertedLink',$el)}
else{$el=this.link.update($el,link);this.caret.after($el)}},update:function($el,link)
{$el.text(link.text);$el.attr('href',link.url);this.link.target($el,link.target);return $el},target:function($el,target)
{return(target)?$el.attr('target','_blank'):$el.removeAttr('target')},show:function(e)
{if(typeof e!=='undefined'&&e.preventDefault)
{e.preventDefault()}
this.observe.closeAllTooltip();var $el=this.link.is();this.link.buildModal($el);var link=this.link.buildLinkFromElement($el);link.url=this.link.removeSelfHostFromUrl(link.url);if(this.opts.linkNewTab&&!$el)
{link.target=!0}
this.link.setModalValues(link);this.modal.show();if(this.detect.isDesktop())
{$('#redactor-link-url').focus()}},setModalValues:function(link)
{$('#redactor-link-blank').prop('checked',link.target);$('#redactor-link-url').val(link.url);$('#redactor-link-url-text').val(link.text)},buildModal:function($el)
{this.modal.load('link',this.lang.get(($el===!1)?'link-insert':'link-edit'),600);var $btn=this.modal.getActionButton();$btn.text(this.lang.get(($el===!1)?'insert':'save')).on('click',$.proxy(this.link.callback,this))},callback:function()
{var link=this.link.buildLinkFromModal();if(link===!1)
{return!1}
this.modal.close();this.link.insert(link,!0)},cleanUrl:function(url)
{return(typeof url==='undefined')?'':$.trim(url.replace(/[^\W\w\D\d+&\'@#/%?=~_|!:,.;\(\)]/gi,''))},cleanText:function(text)
{return(typeof text==='undefined')?'':$.trim(text.replace(/(<([^>]+)>)/gi,''))},getText:function(link)
{return(link.text===''&&link.url!=='')?this.link.truncateUrl(link.url.replace(/<|>/g,'')):link.text},isUrl:function(url)
{var pattern='((xn--)?[\\W\\w\\D\\d]+(-[\\W\\w\\D\\d]+)*\\.)+[\\W\\w]{2,}';var re1=new RegExp('^(http|ftp|https)://'+pattern,'i');var re2=new RegExp('^'+pattern,'i');var re3=new RegExp('\.(html|php)$','i');var re4=new RegExp('^/','i');var re5=new RegExp('^tel:(.*?)','i');if(url.search(re1)===-1&&url.search(re2)!==-1&&url.search(re3)===-1&&url.substring(0,1)!=='/')
{url='http://'+url}
if(url.search(re1)!==-1||url.search(re3)!==-1||url.search(re4)!==-1||url.search(re5)!==-1)
{return url}
return!1},isMailto:function(url)
{return(url.search('@')!==-1&&/(http|ftp|https):\/\//i.test(url)===!1)},isEmpty:function(link)
{return(link.url===''||(link.text===''&&link.url===''))},truncateUrl:function(url)
{return(url.length>this.opts.linkSize)?url.substring(0,this.opts.linkSize)+'...':url},parse:function(link)
{if(this.link.isMailto(link.url))
{link.url='mailto:'+link.url.replace('mailto:','')}
else if(link.url.search('#')!==0)
{link.url=this.link.isUrl(link.url)}
return(this.link.isEmpty(link)||link.url===!1)?!1:link},buildLinkFromModal:function()
{var link={};link.url=this.link.cleanUrl($('#redactor-link-url').val());link.text=this.link.cleanText($('#redactor-link-url-text').val());link.text=this.link.getText(link);link.target=($('#redactor-link-blank').prop('checked'))?!0:!1;return this.link.parse(link)},buildLinkFromObject:function($el,link)
{link.url=this.link.cleanUrl(link.url);link.text=(typeof link.text==='undefined'&&this.selection.is())?this.selection.text():this.link.cleanText(link.text);link.text=this.link.getText(link);link.target=($el===!1)?link.target:this.link.buildTarget($el);return this.link.parse(link)},buildLinkFromElement:function($el)
{var link={url:'',text:(this.selection.is())?this.selection.text():'',target:!1};if($el!==!1)
{link.url=$el.attr('href');link.text=$el.text();link.target=this.link.buildTarget($el)}
return link},buildTarget:function($el)
{return(typeof $el.attr('target')!=='undefined'&&$el.attr('target')==='_blank')?!0:!1},removeSelfHostFromUrl:function(url)
{var href=self.location.href.replace('#','').replace(/\/$/i,'');return url.replace(/^\/\#/,'#').replace(href,'').replace('mailto:','')},replaceLinksToText:function(links)
{var $first;var $links=$.each(links,function(i,s)
{var $el=$(s);var $unlinked=$('<span class="redactor-unlink" />').append($el.contents());$el.replaceWith($unlinked);if(i===0)
{$first=$unlinked}
return $el});if(links.length===1&&this.selection.isCollapsed())
{this.caret.after($first)}
return $links}}},linkify:function()
{return{isKey:function(key)
{return key===this.keyCode.ENTER||key===this.keyCode.SPACE},isLink:function(node)
{return(node.nodeValue.match(this.opts.regexps.linkyoutube)||node.nodeValue.match(this.opts.regexps.linkvimeo)||node.nodeValue.match(this.opts.regexps.linkimage)||node.nodeValue.match(this.opts.regexps.url))},isFiltered:function(i,node)
{return node.nodeType===3&&$.trim(node.nodeValue)!==""&&!$(node).parent().is("pre")&&(this.linkify.isLink(node))},handler:function(i,node)
{var $el=$(node);var text=$el.text();var html=text;if(html.match(this.opts.regexps.linkyoutube)||html.match(this.opts.regexps.linkvimeo))
{html=this.linkify.convertVideoLinks(html)}
else if(html.match(this.opts.regexps.linkimage))
{html=this.linkify.convertImages(html)}
else{html=this.linkify.convertLinks(html)}
$el.before(text.replace(text,html)).remove()},format:function()
{if(!this.opts.linkify||this.utils.isCurrentOrParent('pre'))
{return}
this.core.editor().find(":not(iframe,img,a,pre,code,.redactor-unlink)").addBack().contents().filter($.proxy(this.linkify.isFiltered,this)).each($.proxy(this.linkify.handler,this));var $objects=this.core.editor().find('.redactor-linkify-object').each($.proxy(function(i,s)
{var $el=$(s);$el.removeClass('redactor-linkify-object');if($el.attr('class')==='')
{$el.removeAttr('class')}
if(s.tagName==='DIV')
{this.linkify.breakBlockTag($el,'video')}
else if(s.tagName==='IMG')
{this.linkify.breakBlockTag($el,'image')}
else if(s.tagName==='A')
{this.core.callback('insertedLink',$el)}
return $el},this));setTimeout($.proxy(function()
{this.code.sync();this.core.callback('linkify',$objects)},this),100)},breakBlockTag:function($el,type)
{var breaked=this.utils.breakBlockTag();if(breaked===!1)
{return}
var $newBlock=$el;if(type==='image')
{$newBlock=$('<figure />').append($el)}
if(breaked.type==='start')
{breaked.$block.before($newBlock)}
else{breaked.$block.after($newBlock)}
if(type==='image')
{this.caret.after($newBlock)}},convertVideoLinks:function(html)
{var iframeStart='<div class="'+this.opts.videoContainerClass+' redactor-linkify-object"><iframe class="redactor-linkify-object" width="500" height="281" src="';var iframeEnd='" frameborder="0" allowfullscreen></iframe></div>';if(html.match(this.opts.regexps.linkyoutube))
{html=html.replace(this.opts.regexps.linkyoutube,iframeStart+'//www.youtube.com/embed/$1'+iframeEnd)}
if(html.match(this.opts.regexps.linkvimeo))
{html=html.replace(this.opts.regexps.linkvimeo,iframeStart+'//player.vimeo.com/video/$2'+iframeEnd)}
return html},convertImages:function(html)
{var matches=html.match(this.opts.regexps.linkimage);if(!matches)
{return html}
return html.replace(html,'<img src="'+matches+'" class="redactor-linkify-object" />')},convertLinks:function(html)
{var matches=html.match(this.opts.regexps.url);if(!matches)
{return html}
matches=$.grep(matches,function(v,k){return $.inArray(v,matches)===k});var length=matches.length;for(var i=0;i<length;i++)
{var href=matches[i],text=href;var linkProtocol=(href.match(/(https?|ftp):\/\//i)!==null)?'':'http://';if(text.length>this.opts.linkSize)
{text=text.substring(0,this.opts.linkSize)+'...'}
if(text.search('%')===-1)
{text=decodeURIComponent(text)}
var regexB="\\b";if($.inArray(href.slice(-1),["/","&","="])!==-1)
{regexB=""}
var regexp=new RegExp('('+href.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+regexB+')','g');var target='';if(this.opts.pasteLinkTarget!==!1)
{target=' target="'+this.opts.pasteLinkTarget+'"'}
html=html.replace(regexp,'<a href="'+linkProtocol+$.trim(href)+'"'+target+' class="redactor-linkify-object">'+$.trim(text)+'</a>')}
return html}}},list:function()
{return{toggle:function(cmd)
{if(this.utils.inBlocks(['table','td','th','tr']))
{return}
var tag=(cmd==='orderedlist'||cmd==='ol')?'OL':'UL';cmd=(tag==='OL')?'orderedlist':'unorderedlist'
var $list=$(this.selection.current()).parentsUntil('.redactor-in','ul, ol').first();this.placeholder.hide();this.buffer.set();if($list.length!==0&&$list[0].tagName===tag&&this.utils.isRedactorParent($list))
{this.selection.save();$list.find('ul, ol').each(function()
{var parent=$(this).closest('li');$(this).find('li').each(function()
{$(parent).after(this)})});$list.find('ul, ol').remove();$list.find('li').each(function()
{return $(this).replaceWith(function()
{return $('<p />').append($(this).contents())})});$list.replaceWith(function()
{return $(this).contents()});this.selection.restore();return}
this.selection.save();if($list.length!==0&&$list[0].tagName!==tag)
{$list.each($.proxy(function(i,s)
{this.utils.replaceToTag(s,tag)},this))}
else{document.execCommand('insert'+cmd)}
this.selection.restore();var $insertedList=this.list.get();if(!$insertedList)
{if(!this.selection.block())
{document.execCommand('formatblock',!1,'p')}
return}
$insertedList.find('span').replaceWith(function()
{return $(this).contents()});$insertedList.find(this.opts.inlineTags.join(',')).each(function()
{$(this).removeAttr('style')});var $listParent=$insertedList.parent();if(this.utils.isRedactorParent($listParent)&&$listParent[0].tagName!=='LI'&&this.utils.isBlock($listParent))
{this.selection.save();$listParent.replaceWith($listParent.contents());this.selection.restore()}},get:function()
{var current=this.selection.current();var $list=$(current).closest('ul, ol',this.core.editor()[0]);return($list.length===0)?!1:$list},combineAfterAndBefore:function(block)
{var $prev=$(block).prev();var $next=$(block).next();var isEmptyBlock=(block&&block.tagName==='P'&&(block.innerHTML==='<br>'||block.innerHTML===''));var isBlockWrapped=($prev.closest('ol, ul',this.core.editor()[0]).length===1&&$next.closest('ol, ul',this.core.editor()[0]).length===1);if(isEmptyBlock&&isBlockWrapped)
{$prev.children('li').last().append(this.marker.get());$prev.append($next.contents());this.selection.restore();return!0}
return!1}}},marker:function()
{return{get:function(num)
{num=(typeof num==='undefined')?1:num;var marker=document.createElement('span');marker.id='selection-marker-'+num;marker.className='redactor-selection-marker';marker.innerHTML=this.opts.invisibleSpace;return marker},html:function(num)
{return this.utils.getOuterHtml(this.marker.get(num))},find:function(num)
{num=(typeof num==='undefined')?1:num;return this.core.editor().find('span#selection-marker-'+num)},insert:function()
{var sel=this.selection.get();var range=this.selection.range(sel);this.marker.insertNode(range,this.marker.get(1),!0);if(range&&range.collapsed===!1)
{this.marker.insertNode(range,this.marker.get(2),!1)}},remove:function()
{this.core.editor().find('.redactor-selection-marker').each(this.marker.iterateRemove)},insertNode:function(range,node,collapse)
{var parent=this.selection.parent();if(range===null||$(parent).closest('.redactor-in').length===0)
{return}
range=range.cloneRange();try{range.collapse(collapse);range.insertNode(node)}
catch(e)
{this.focus.start()}},iterateRemove:function(i,el)
{var $el=$(el);var text=$el.text().replace(/\u200B/g,'');return(text==='')?$el.remove():$el.replaceWith(function(){return $(this).contents()})}}},modal:function()
{return{callbacks:{},templates:function()
{this.opts.modal={'image-edit':String()+'<div class="redactor-modal-tab redactor-group" data-title="General">'+'<div id="redactor-image-preview" class="redactor-modal-tab-side">'+'</div>'+'<div class="redactor-modal-tab-area">'+'<section>'+'<label>'+this.lang.get('title')+'</label>'+'<input type="text" id="redactor-image-title" />'+'</section>'+'<section>'+'<label>'+this.lang.get('caption')+'</label>'+'<input type="text" id="redactor-image-caption" aria-label="'+this.lang.get('caption')+'" />'+'</section>'+'<section>'+'<label>'+this.lang.get('link')+'</label>'+'<input type="text" id="redactor-image-link" aria-label="'+this.lang.get('link')+'" />'+'</section>'+'<section>'+'<label class="redactor-image-position-option">'+this.lang.get('image-position')+'</label>'+'<select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+this.lang.get('image-position')+'">'+'<option value="none">'+this.lang.get('none')+'</option>'+'<option value="left">'+this.lang.get('left')+'</option>'+'<option value="center">'+this.lang.get('center')+'</option>'+'<option value="right">'+this.lang.get('right')+'</option>'+'</select>'+'</section>'+'<section>'+'<label class="checkbox"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get('link-in-new-tab')+'"> '+this.lang.get('link-in-new-tab')+'</label>'+'</section>'+'<section>'+'<button id="redactor-modal-button-action">'+this.lang.get('insert')+'</button>'+'<button id="redactor-modal-button-cancel">'+this.lang.get('cancel')+'</button>'+'<button id="redactor-modal-button-delete" class="redactor-modal-button-offset">'+this.lang.get('delete')+'</button>'+'</section>'+'</div>'+'</div>','image':String()+'<div class="redactor-modal-tab" data-title="Upload">'+'<section>'+'<div id="redactor-modal-image-droparea"></div>'+'</section>'+'</div>','file':String()+'<div class="redactor-modal-tab" data-title="Upload">'+'<section>'+'<label>'+this.lang.get('filename')+' <span class="desc">('+this.lang.get('optional')+')</span></label>'+'<input type="text" id="redactor-filename" aria-label="'+this.lang.get('filename')+'" /><br><br>'+'</section>'+'<section>'+'<div id="redactor-modal-file-upload"></div>'+'</section>'+'</div>','link':String()+'<div class="redactor-modal-tab" data-title="General">'+'<section>'+'<label>URL</label>'+'<input type="url" id="redactor-link-url" aria-label="URL" />'+'</section>'+'<section>'+'<label>'+this.lang.get('text')+'</label>'+'<input type="text" id="redactor-link-url-text" aria-label="'+this.lang.get('text')+'" />'+'</section>'+'<section>'+'<label class="checkbox"><input type="checkbox" id="redactor-link-blank"> '+this.lang.get('link-in-new-tab')+'</label>'+'</section>'+'<section>'+'<button id="redactor-modal-button-action">'+this.lang.get('insert')+'</button>'+'<button id="redactor-modal-button-cancel">'+this.lang.get('cancel')+'</button>'+'</section>'+'</div>'};$.extend(this.opts,this.opts.modal)},addCallback:function(name,callback)
{this.modal.callbacks[name]=callback},addTemplate:function(name,template)
{this.opts.modal[name]=template},getTemplate:function(name)
{return this.opts.modal[name]},getModal:function()
{return this.$modalBody},getActionButton:function()
{return this.$modalBody.find('#redactor-modal-button-action')},getCancelButton:function()
{return this.$modalBody.find('#redactor-modal-button-cancel')},getDeleteButton:function()
{return this.$modalBody.find('#redactor-modal-button-delete')},load:function(templateName,title,width)
{if(typeof this.$modalBox!=='undefined'&&this.$modalBox.hasClass('open'))
{return}
this.modal.templateName=templateName;this.modal.width=width;this.modal.build();this.modal.enableEvents();this.modal.setTitle(title);this.modal.setDraggable();this.modal.setContent();if(typeof this.modal.callbacks[templateName]!=='undefined')
{this.modal.callbacks[templateName].call(this)}},show:function()
{if(!this.detect.isDesktop())
{document.activeElement.blur()}
this.selection.save();this.modal.buildTabber();if(this.detect.isMobile())
{this.modal.width='96%'}
setTimeout($.proxy(this.modal.buildWidth,this),0);$(window).on('resize.redactor-modal',$.proxy(this.modal.buildWidth,this));this.$modalOverlay.redactorAnimation('fadeIn',{duration:0.25});this.$modalBox.addClass('open').show();this.$modal.redactorAnimation('fadeIn',{timing:'cubic-bezier(0.175, 0.885, 0.320, 1.105)'},$.proxy(function()
{this.utils.saveScroll();this.utils.disableBodyScroll();this.core.callback('modalOpened',this.modal.templateName,this.$modal);$(document).off('focusin.modal');var $elements=this.$modal.find('input[type=text],input[type=url],input[type=email]');$elements.on('keydown.redactor-modal',$.proxy(this.modal.setEnter,this))},this))},buildWidth:function()
{var windowHeight=$(window).height();var windowWidth=$(window).width();var number=(typeof this.modal.width==='number');if(!number&&this.modal.width.match(/%$/))
{this.$modal.css({'width':this.modal.width,'margin-bottom':'16px'})}
else if(parseInt(this.modal.width)>windowWidth)
{this.$modal.css({'width':'96%','margin-bottom':'2%'})}
else{if(number)
{this.modal.width+='px'}
this.$modal.css({'width':this.modal.width,'margin-bottom':'16px'})}
var height=this.$modal.outerHeight();var top=(windowHeight/2-height/2)+'px';if(this.detect.isMobile())
{top='2%'}
else if(height>windowHeight)
{top='16px'}
this.$modal.css('margin-top',top)},buildTabber:function()
{this.modal.tabs=this.$modal.find('.redactor-modal-tab');if(this.modal.tabs.length<2)
{return}
this.modal.$tabsBox=$('<div id="redactor-modal-tabber" />');$.each(this.modal.tabs,$.proxy(function(i,s)
{var a=$('<a href="#" rel="'+i+'" />').text($(s).attr('data-title'));a.on('click',$.proxy(this.modal.showTab,this));if(i===0)
{a.addClass('active')}
this.modal.$tabsBox.append(a)},this));this.$modalBody.prepend(this.modal.$tabsBox)},showTab:function(e)
{e.preventDefault();var $el=$(e.target);var index=$el.attr('rel');this.modal.tabs.hide();this.modal.tabs.eq(index).show();$('#redactor-modal-tabber').find('a').removeClass('active');$el.addClass('active');return!1},setTitle:function(title)
{this.$modalHeader.html(title)},setContent:function()
{this.$modalBody.html(this.modal.getTemplate(this.modal.templateName));this.modal.getCancelButton().on('mousedown',$.proxy(this.modal.close,this))},setDraggable:function()
{if(typeof $.fn.draggable==='undefined')
{return}
this.$modal.draggable({handle:this.$modalHeader});this.$modalHeader.css('cursor','move')},setEnter:function(e)
{if(e.which!==13)
{return}
e.preventDefault();this.modal.getActionButton().click()},build:function()
{this.modal.buildOverlay();this.$modalBox=$('<div id="redactor-modal-box"/>').hide();this.$modal=$('<div id="redactor-modal" role="dialog" />');this.$modalHeader=$('<div id="redactor-modal-header" />');this.$modalClose=$('<button type="button" id="redactor-modal-close" aria-label="'+this.lang.get('close')+'" />').html('&times;');this.$modalBody=$('<div id="redactor-modal-body" />');this.$modal.append(this.$modalHeader);this.$modal.append(this.$modalBody);this.$modal.append(this.$modalClose);this.$modalBox.append(this.$modal);this.$modalBox.appendTo(document.body)},buildOverlay:function()
{this.$modalOverlay=$('<div id="redactor-modal-overlay">').hide();$('body').prepend(this.$modalOverlay)},enableEvents:function()
{this.$modalClose.on('mousedown.redactor-modal',$.proxy(this.modal.close,this));$(document).on('keyup.redactor-modal',$.proxy(this.modal.closeHandler,this));this.core.editor().on('keyup.redactor-modal',$.proxy(this.modal.closeHandler,this));this.$modalBox.on('click.redactor-modal',$.proxy(this.modal.close,this))},disableEvents:function()
{this.$modalClose.off('mousedown.redactor-modal');$(document).off('keyup.redactor-modal');this.core.editor().off('keyup.redactor-modal');this.$modalBox.off('click.redactor-modal');$(window).off('resize.redactor-modal')},closeHandler:function(e)
{if(e.which!==this.keyCode.ESC)
{return}
this.modal.close(!1)},close:function(e)
{if(e)
{if($(e.target).attr('id')!=='redactor-modal-button-cancel'&&e.target!==this.$modalClose[0]&&e.target!==this.$modalBox[0])
{return}
e.preventDefault()}
if(!this.$modalBox)
{return}
this.selection.restore();this.modal.disableEvents();this.utils.enableBodyScroll();this.utils.restoreScroll();this.$modalOverlay.redactorAnimation('fadeOut',{duration:0.4},$.proxy(function()
{this.$modalOverlay.remove()},this));this.$modal.redactorAnimation('fadeOut',{duration:0.3,timing:'cubic-bezier(0.175, 0.885, 0.320, 1.175)'},$.proxy(function()
{if(typeof this.$modalBox!=='undefined')
{this.$modalBox.remove();this.$modalBox=undefined}
$(document.body).css('overflow',this.modal.bodyOveflow);this.core.callback('modalClosed',this.modal.templateName)},this))}}},observe:function()
{return{load:function()
{if(typeof this.opts.destroyed!=='undefined')
{return}
this.observe.links();this.observe.images()},isCurrent:function($el,$current)
{if(typeof $current==='undefined')
{$current=$(this.selection.current())}
return $current.is($el)||$current.parents($el).length>0},toolbar:function()
{this.observe.buttons();this.observe.dropdowns()},buttons:function(e,btnName)
{var current=this.selection.current();var parent=this.selection.parent();if(e!==!1)this.button.setInactiveAll();else this.button.setInactiveAll(btnName);if(e===!1&&btnName!=='html')
{if($.inArray(btnName,this.opts.activeButtons)!==-1)this.button.toggleActive(btnName);return}
if(!this.utils.isRedactorParent(current))
{return}
if(this.core.editor().css('display')!=='none')
{if(this.utils.isCurrentOrParentHeader()||this.utils.isCurrentOrParent(['table','pre','blockquote','li']))this.button.disable('horizontalrule');else this.button.enable('horizontalrule')}
$.each(this.opts.activeButtonsStates,$.proxy(function(key,value)
{var parentEl=$(parent).closest(key,this.$editor[0]);var currentEl=$(current).closest(key,this.$editor[0]);if(parentEl.length!==0&&!this.utils.isRedactorParent(parentEl))
{return}
if(!this.utils.isRedactorParent(currentEl))
{return}
if(parentEl.length!==0||currentEl.closest(key,this.$editor[0]).length!==0)
{this.button.setActive(value)}},this))},dropdowns:function()
{var finded=$('<div />').html(this.selection.html()).find('a').length;var $current=$(this.selection.current());var isRedactor=this.utils.isRedactorParent($current);$.each(this.opts.observe.dropdowns,$.proxy(function(key,value)
{var observe=value.observe,element=observe.element,$item=value.item,inValues=typeof observe['in']!=='undefined'?observe['in']:!1,outValues=typeof observe.out!=='undefined'?observe.out:!1;if(($current.closest(element).length>0&&isRedactor)||(element==='a'&&finded!==0))
{this.observe.setDropdownProperties($item,inValues,outValues)}
else{this.observe.setDropdownProperties($item,outValues,inValues)}},this))},setDropdownProperties:function($item,addProperties,deleteProperties)
{if(deleteProperties&&typeof deleteProperties.attr!=='undefined')
{this.observe.setDropdownAttr($item,deleteProperties.attr,!0)}
if(typeof addProperties.attr!=='undefined')
{this.observe.setDropdownAttr($item,addProperties.attr)}
if(typeof addProperties.title!=='undefined')
{$item.find('span').text(addProperties.title)}},setDropdownAttr:function($item,properties,isDelete)
{$.each(properties,function(key,value)
{if(key==='class')
{if(!isDelete)
{$item.addClass(value)}
else{$item.removeClass(value)}}
else{if(!isDelete)
{$item.attr(key,value)}
else{$item.removeAttr(key)}}})},addDropdown:function($item,btnName,btnObject)
{if(typeof btnObject.observe==="undefined")
{return}
btnObject.item=$item;this.opts.observe.dropdowns.push(btnObject)},images:function()
{if(this.opts.imageEditable)
{this.core.editor().addClass('redactor-layer-img-edit');this.core.editor().find('img').each($.proxy(function(i,img)
{var $img=$(img);$img.closest('a',this.$editor[0]).on('click',function(e){e.preventDefault()});this.image.setEditable($img)},this))}},links:function()
{if(this.opts.linkTooltip)
{this.core.editor().find('a').each($.proxy(function(i,s)
{var $link=$(s);if($link.data('cached')!==!0)
{$link.data('cached',!0);$link.on('touchstart.redactor.'+this.uuid+' click.redactor.'+this.uuid,$.proxy(this.observe.showTooltip,this))}},this))}},getTooltipPosition:function($link)
{return $link.offset()},showTooltip:function(e)
{var $el=$(e.target);if($el[0].tagName==='IMG')
{return}
if($el[0].tagName!=='A')
{$el=$el.closest('a',this.$editor[0])}
if($el[0].tagName!=='A')
{return}
var $link=$el;var pos=this.observe.getTooltipPosition($link);var tooltip=$('<span class="redactor-link-tooltip"></span>');var href=$link.attr('href');if(href===undefined)
{href=''}
if(href.length>24)
{href=href.substring(0,24)+'...'}
var aLink=$('<a href="'+$link.attr('href')+'" target="_blank" />').html(href).addClass('redactor-link-tooltip-action');var aEdit=$('<a href="#" />').html(this.lang.get('edit')).on('click',$.proxy(this.link.show,this)).addClass('redactor-link-tooltip-action');var aUnlink=$('<a href="#" />').html(this.lang.get('unlink')).on('click',$.proxy(this.link.unlink,this)).addClass('redactor-link-tooltip-action');tooltip.append(aLink).append(' | ').append(aEdit).append(' | ').append(aUnlink);var lineHeight=parseInt($link.css('line-height'),10);var lineClicked=Math.ceil((e.pageY-pos.top)/lineHeight);var top=pos.top+lineClicked*lineHeight;tooltip.css({top:top+'px',left:pos.left+'px'});$('.redactor-link-tooltip').remove();$('body').append(tooltip);this.core.editor().on('touchstart.redactor.'+this.uuid+' click.redactor.'+this.uuid,$.proxy(this.observe.closeTooltip,this));$(document).on('touchstart.redactor.'+this.uuid+' click.redactor.'+this.uuid,$.proxy(this.observe.closeTooltip,this))},closeAllTooltip:function()
{$('.redactor-link-tooltip').remove()},closeTooltip:function(e)
{e=e.originalEvent||e;var target=e.target;var $parent=$(target).closest('a',this.$editor[0]);if($parent.length!==0&&$parent[0].tagName==='A'&&target.tagName!=='A')
{return}
else if((target.tagName==='A'&&this.utils.isRedactorParent(target))||$(target).hasClass('redactor-link-tooltip-action'))
{return}
this.observe.closeAllTooltip();this.core.editor().off('touchstart.redactor.'+this.uuid+' click.redactor.'+this.uuid,$.proxy(this.observe.closeTooltip,this));$(document).off('touchstart.redactor.'+this.uuid+' click.redactor.'+this.uuid,$.proxy(this.observe.closeTooltip,this))}}},offset:function()
{return{get:function(node)
{var cloned=this.offset.clone(node);if(cloned===!1)
{return 0}
var div=document.createElement('div');div.appendChild(cloned.cloneContents());div.innerHTML=div.innerHTML.replace(/<img(.*?[^>])>$/gi,'i');var text=$.trim($(div).text()).replace(/[\t\n\r\n]/g,'').replace(/\u200B/g,'');return text.length},clone:function(node)
{var sel=this.selection.get();var range=this.selection.range(sel);if(range===null&&typeof node==='undefined')
{return!1}
node=(typeof node==='undefined')?this.$editor:node;if(node===!1)
{return!1}
node=node[0]||node;var cloned=range.cloneRange();cloned.selectNodeContents(node);cloned.setEnd(range.endContainer,range.endOffset);return cloned},set:function(start,end)
{end=(typeof end==='undefined')?start:end;if(!this.focus.is())
{this.focus.start()}
var sel=this.selection.get();var range=this.selection.range(sel);var node,offset=0;var walker=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);while((node=walker.nextNode())!==null)
{offset+=node.nodeValue.length;if(offset>start)
{range.setStart(node,node.nodeValue.length+start-offset);start=Infinity}
if(offset>=end)
{range.setEnd(node,node.nodeValue.length+end-offset);break}}
range.collapse(!1);this.selection.update(sel,range)}}},paragraphize:function()
{return{load:function(html)
{if(this.opts.paragraphize===!1||this.opts.type==='inline'||this.opts.type==='pre')
{return html}
if(html===''||html==='<p></p>')
{return this.opts.emptyHtml}
html=html+"\n";this.paragraphize.safes=[];this.paragraphize.z=0;html=html.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,'</blockquote>');html=html.replace(/<\/pre>/gi,"</pre>\n\n");html=html.replace(/<p>\s<br><\/p>/gi,'<p></p>');html=this.paragraphize.getSafes(html);html=html.replace('<br>',"\n");html=this.paragraphize.convert(html);html=this.paragraphize.clear(html);html=this.paragraphize.restoreSafes(html);html=html.replace(new RegExp('<br\\s?/?>\n?<('+this.opts.paragraphizeBlocks.join('|')+')(.*?[^>])>','gi'),'<p><br /></p>\n<$1$2>');return $.trim(html)},getSafes:function(html)
{var $div=$('<div />').append(html);$div.find('blockquote p').replaceWith(function()
{return $(this).append('<br />').contents()});$div.find(this.opts.paragraphizeBlocks.join(', ')).each($.proxy(function(i,s)
{this.paragraphize.z++;this.paragraphize.safes[this.paragraphize.z]=s.outerHTML;return $(s).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this));$div.find('span.redactor-selection-marker').each($.proxy(function(i,s)
{this.paragraphize.z++;this.paragraphize.safes[this.paragraphize.z]=s.outerHTML;return $(s).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this));return $div.html()},restoreSafes:function(html)
{$.each(this.paragraphize.safes,function(i,s)
{s=(typeof s!=='undefined')?s.replace(/\$/g,'&#36;'):s;html=html.replace('#####replace'+i+'#####',s)});return html},convert:function(html)
{html=html.replace(/\r\n/g,"xparagraphmarkerz");html=html.replace(/\n/g,"xparagraphmarkerz");html=html.replace(/\r/g,"xparagraphmarkerz");var re1=/\s+/g;html=html.replace(re1," ");html=$.trim(html);var re2=/xparagraphmarkerzxparagraphmarkerz/gi;html=html.replace(re2,"</p><p>");var re3=/xparagraphmarkerz/gi;html=html.replace(re3,"<br>");html='<p>'+html+'</p>';html=html.replace("<p></p>","");html=html.replace("\r\n\r\n","");html=html.replace(/<\/p><p>/g,"</p>\r\n\r\n<p>");html=html.replace(new RegExp("<br\\s?/?></p>","g"),"</p>");html=html.replace(new RegExp("<p><br\\s?/?>","g"),"<p>");html=html.replace(new RegExp("<p><br\\s?/?>","g"),"<p>");html=html.replace(new RegExp("<br\\s?/?></p>","g"),"</p>");html=html.replace(/<p>&nbsp;<\/p>/gi,"");html=html.replace(/<p>\s?<br>&nbsp;<\/p>/gi,'');html=html.replace(/<p>\s?<br>/gi,'<p>');return html},clear:function(html)
{html=html.replace(/<p>(.*?)#####replace(.*?)#####\s?<\/p>/gi,'<p>$1</p>#####replace$2#####');html=html.replace(/(<br\s?\/?>){2,}<\/p>/gi,'</p>');html=html.replace(new RegExp('</blockquote></p>','gi'),'</blockquote>');html=html.replace(new RegExp('<p></blockquote>','gi'),'</blockquote>');html=html.replace(new RegExp('<p><blockquote>','gi'),'<blockquote>');html=html.replace(new RegExp('<blockquote></p>','gi'),'<blockquote>');html=html.replace(new RegExp('<p><p ','gi'),'<p ');html=html.replace(new RegExp('<p><p>','gi'),'<p>');html=html.replace(new RegExp('</p></p>','gi'),'</p>');html=html.replace(new RegExp('<p>\\s?</p>','gi'),'');html=html.replace(new RegExp("\n</p>",'gi'),'</p>');html=html.replace(new RegExp('<p>\t?\t?\n?<p>','gi'),'<p>');html=html.replace(new RegExp('<p>\t*</p>','gi'),'');return html}}},paste:function()
{return{init:function(e)
{this.rtePaste=!0;var pre=(this.opts.type==='pre'||this.utils.isCurrentOrParent('pre'))?!0:!1;if(this.detect.isDesktop())
{if(!this.paste.pre&&this.opts.clipboardImageUpload&&this.opts.imageUpload&&this.paste.detectClipboardUpload(e))
{if(this.detect.isIe())
{setTimeout($.proxy(this.paste.clipboardUpload,this),100)}
return}}
this.utils.saveScroll();this.selection.save();this.paste.createPasteBox(pre);$(window).on('scroll.redactor-freeze',$.proxy(function()
{$(window).scrollTop(this.saveBodyScroll)},this));setTimeout($.proxy(function()
{var html=this.paste.getPasteBoxCode(pre);this.buffer.set();this.selection.restore();this.utils.restoreScroll();var data=this.clean.getCurrentType(html);html=this.clean.onPaste(html,data);var returned=this.core.callback('paste',html);html=(typeof returned==='undefined')?html:returned;this.paste.insert(html,data);this.rtePaste=!1;if(pre)
{this.clean.cleanPre()}
$(window).off('scroll.redactor-freeze')},this),1)},getPasteBoxCode:function(pre)
{var html=(pre)?this.$pasteBox.val():this.$pasteBox.html();this.$pasteBox.remove();return html},createPasteBox:function(pre)
{var css={position:'fixed',width:'1px',top:0,left:'-9999px'};this.$pasteBox=(pre)?$('<textarea>').css(css):$('<div>').attr('contenteditable','true').css(css);this.paste.appendPasteBox();this.$pasteBox.focus()},appendPasteBox:function()
{if(this.detect.isIe())
{this.core.box().append(this.$pasteBox)}
else{var $visibleModals=$('.modal-body:visible');if($visibleModals.length>0)
{$visibleModals.append(this.$pasteBox)}
else{$('body').prepend(this.$pasteBox)}}},detectClipboardUpload:function(e)
{e=e.originalEvent||e;var clipboard=e.clipboardData;if(this.detect.isIe()||this.detect.isFirefox())
{return!1}
var types=clipboard.types;if(types.indexOf('public.tiff')!==-1)
{e.preventDefault();return!1}
if(!clipboard.items||!clipboard.items.length)
{return}
var file=clipboard.items[0].getAsFile();if(file===null)
{return!1}
var reader=new FileReader();reader.readAsDataURL(file);reader.onload=$.proxy(this.paste.insertFromClipboard,this);return!0},clipboardUpload:function()
{var imgs=this.$editor.find('img');$.each(imgs,$.proxy(function(i,s)
{if(s.src.search(/^data\:image/i)===-1)
{return}
var formData=!!window.FormData?new FormData():null;if(!window.FormData)
{return}
this.upload.direct=!0;this.upload.type='image';this.upload.url=this.opts.imageUpload;this.upload.callback=$.proxy(function(data)
{if(this.detect.isIe())
{$(s).wrap($('<figure />'))}
else{var $parent=$(s).parent();this.utils.replaceToTag($parent,'figure')}
s.src=data.url;this.core.callback('imageUpload',$(s),data)},this);var blob=this.utils.dataURItoBlob(s.src);formData.append('clipboard',1);formData.append(this.opts.imageUploadParam,blob);this.progress.show();this.upload.send(formData,!1);this.code.sync();this.rtePaste=!1},this))},insertFromClipboard:function(e)
{var formData=!!window.FormData?new FormData():null;if(!window.FormData)
{return}
this.upload.direct=!0;this.upload.type='image';this.upload.url=this.opts.imageUpload;this.upload.callback=this.image.insert;var blob=this.utils.dataURItoBlob(e.target.result);formData.append('clipboard',1);formData.append(this.opts.imageUploadParam,blob);this.progress.show();this.upload.send(formData,e);this.rtePaste=!1},insert:function(html,data)
{if(data.pre)
{this.insert.raw(html)}
else if(data.text)
{this.insert.text(html)}
else{this.insert.html(html,data)}
if(this.detect.isFirefox()&&this.opts.clipboardImageUpload)
{setTimeout($.proxy(this.paste.clipboardUpload,this),100)}}}},placeholder:function()
{return{enable:function()
{setTimeout($.proxy(function()
{return(this.placeholder.isEditorEmpty())?this.placeholder.show():this.placeholder.hide()},this),5)},show:function()
{this.core.editor().addClass('redactor-placeholder')},update:function(text)
{this.opts.placeholder=text;this.core.editor().attr('placeholder',text)},hide:function()
{this.core.editor().removeClass('redactor-placeholder')},is:function()
{return this.core.editor().hasClass('redactor-placeholder')},init:function()
{if(!this.placeholder.enabled())
{return}
if(!this.utils.isEditorRelative())
{this.utils.setEditorRelative()}
this.placeholder.build();this.placeholder.buildPosition();this.placeholder.enable();this.placeholder.enableEvents()},enabled:function()
{return(this.opts.placeholder)?this.core.element().attr('placeholder',this.opts.placeholder):this.placeholder.isAttr()},enableEvents:function()
{this.core.editor().on('keydown.redactor-placeholder.'+this.uuid,$.proxy(this.placeholder.enable,this))},disableEvents:function()
{this.core.editor().off('.redactor-placeholder.'+this.uuid)},build:function()
{this.core.editor().attr('placeholder',this.core.element().attr('placeholder'))},buildPosition:function()
{var $style=$('<style />');$style.addClass('redactor-placeholder-style-tag');$style.html('#'+this.core.id()+'.redactor-placeholder::after '+this.placeholder.getPosition());$('head').append($style)},getPosition:function()
{return '{ top: '+this.core.editor().css('padding-top')+'; left: '+this.core.editor().css('padding-left')+'; }'},isEditorEmpty:function()
{var html=$.trim(this.core.editor().html()).replace(/[\t\n]/g,'');var states=['','<p></p>','<p><br></p>',this.opts.emptyHtmlRendered];return($.inArray(html,states)!==-1)},isAttr:function()
{return(typeof this.core.element().attr('placeholder')!=='undefined'&&this.core.element().attr('placeholder')!=='')},destroy:function()
{this.core.editor().removeAttr('placeholder');this.placeholder.hide();this.placeholder.disableEvents();$('.redactor-placeholder-style-tag').remove()}}},progress:function()
{return{$box:null,$bar:null,target:document.body,show:function()
{if(!this.progress.is())
{this.progress.build();this.progress.$box.redactorAnimation('fadeIn')}
else{this.progress.$box.show()}},hide:function()
{if(this.progress.is())
{this.progress.$box.redactorAnimation('fadeOut',{duration:0.35},$.proxy(this.progress.destroy,this))}},update:function(value)
{this.progress.show();this.progress.$bar.css('width',value+'%')},is:function()
{return(this.progress.$box===null)?!1:!0},build:function()
{this.progress.$bar=$('<span />');this.progress.$box=$('<div id="redactor-progress" />');this.progress.$box.append(this.progress.$bar);$(this.progress.target).append(this.progress.$box)},destroy:function()
{if(this.progress.is())
{this.progress.$box.remove()}
this.progress.$box=null;this.progress.$bar=null}}},selection:function()
{return{get:function()
{if(window.getSelection)
{return window.getSelection()}
else if(document.selection&&document.selection.type!=="Control")
{return document.selection}
return null},range:function(sel)
{if(typeof sel==='undefined')
{sel=this.selection.get()}
if(sel.getRangeAt&&sel.rangeCount)
{return sel.getRangeAt(0)}
return null},is:function()
{return(this.selection.isCollapsed())?!1:!0},isRedactor:function()
{var range=this.selection.range();if(range!==null)
{var el=range.startContainer.parentNode;if($(el).hasClass('redactor-in')||$(el).parents('.redactor-in').length!==0)
{return!0}}
return!1},isCollapsed:function()
{var sel=this.selection.get();return(sel===null)?!1:sel.isCollapsed},update:function(sel,range)
{if(range===null)
{return}
sel.removeAllRanges();sel.addRange(range)},current:function()
{var sel=this.selection.get();return(sel===null)?!1:sel.anchorNode},parent:function()
{var current=this.selection.current();return(current===null)?!1:current.parentNode},block:function(node)
{node=node||this.selection.current();while(node)
{if(this.utils.isBlockTag(node.tagName))
{return($(node).hasClass('redactor-in'))?!1:node}
node=node.parentNode}
return!1},inline:function(node)
{node=node||this.selection.current();while(node)
{if(this.utils.isInlineTag(node.tagName))
{return($(node).hasClass('redactor-in'))?!1:node}
node=node.parentNode}
return!1},element:function(node)
{if(!node)
{node=this.selection.current()}
while(node)
{if(node.nodeType===1)
{if($(node).hasClass('redactor-in'))
{return!1}
return node}
node=node.parentNode}
return!1},prev:function()
{var current=this.selection.current();return(current===null)?!1:this.selection.current().previousSibling},next:function()
{var current=this.selection.current();return(current===null)?!1:this.selection.current().nextSibling},blocks:function(tag)
{var blocks=[];var nodes=this.selection.nodes(tag);$.each(nodes,$.proxy(function(i,node)
{if(this.utils.isBlock(node))
{blocks.push(node)}},this));var block=this.selection.block();if(blocks.length===0&&block===!1)
{return[]}
else if(blocks.length===0&&block!==!1)
{return[block]}
else{return blocks}},inlines:function(tag)
{var inlines=[];var nodes=this.selection.nodes(tag);$.each(nodes,$.proxy(function(i,node)
{if(this.utils.isInline(node))
{inlines.push(node)}},this));var inline=this.selection.inline();if(inlines.length===0&&inline===!1)
{return[]}
else if(inlines.length===0&&inline!==!1)
{return[inline]}
else{return inlines}},nodes:function(tag)
{var filter=(typeof tag==='undefined')?[]:(($.isArray(tag))?tag:[tag]);var sel=this.selection.get();var range=this.selection.range(sel);var nodes=[];var resultNodes=[];if(this.utils.isCollapsed())
{nodes=[this.selection.current()]}
else{var node=range.startContainer;var endNode=range.endContainer;if(node===endNode)
{return[this.selection.parent()]}
while(node&&node!==endNode)
{nodes.push(node=this.selection.nextNode(node))}
node=range.startContainer;while(node&&node!==range.commonAncestorContainer)
{nodes.unshift(node);node=node.parentNode}}
$.each(nodes,function(i,s)
{if(s)
{var tagName=(s.nodeType!==1)?!1:s.tagName.toLowerCase();if($(s).hasClass('redactor-script-tag')||$(s).hasClass('redactor-selection-marker'))
{return}
else if(tagName&&filter.length!==0&&$.inArray(tagName,filter)===-1)
{return}
else{resultNodes.push(s)}}});return(resultNodes.length===0)?[]:resultNodes},nextNode:function(node)
{if(node.hasChildNodes())
{return node.firstChild}
else{while(node&&!node.nextSibling)
{node=node.parentNode}
if(!node)
{return null}
return node.nextSibling}},save:function()
{this.marker.insert();this.savedSel=this.core.editor().html()},restore:function(removeMarkers)
{var node1=this.marker.find(1);var node2=this.marker.find(2);if(this.detect.isFirefox())
{this.core.editor().focus()}
if(node1.length!==0&&node2.length!==0)
{this.caret.set(node1,node2)}
else if(node1.length!==0)
{this.caret.start(node1)}
else{this.core.editor().focus()}
if(removeMarkers!==!1)
{this.marker.remove();this.savedSel=!1}},saveInstant:function()
{var el=this.core.editor()[0];var doc=el.ownerDocument,win=doc.defaultView;var sel=win.getSelection();if(!sel.getRangeAt||!sel.rangeCount)
{return}
var range=sel.getRangeAt(0);var selectionRange=range.cloneRange();selectionRange.selectNodeContents(el);selectionRange.setEnd(range.startContainer,range.startOffset);var start=selectionRange.toString().length;this.saved={start:start,end:start+range.toString().length,node:range.startContainer};return this.saved},restoreInstant:function(saved)
{if(typeof saved==='undefined'&&!this.saved)
{return}
this.saved=(typeof saved!=='undefined')?saved:this.saved;var $node=this.core.editor().find(this.saved.node);if($node.length!==0&&$node.text().trim().replace(/\u200B/g,'').length===0)
{try{var range=document.createRange();range.setStart($node[0],0);var sel=window.getSelection();sel.removeAllRanges();sel.addRange(range)}
catch(e){}
return}
var el=this.core.editor()[0];var doc=el.ownerDocument,win=doc.defaultView;var charIndex=0,range=doc.createRange();range.setStart(el,0);range.collapse(!0);var nodeStack=[el],node,foundStart=!1,stop=!1;while(!stop&&(node=nodeStack.pop()))
{if(node.nodeType==3)
{var nextCharIndex=charIndex+node.length;if(!foundStart&&this.saved.start>=charIndex&&this.saved.start<=nextCharIndex)
{range.setStart(node,this.saved.start-charIndex);foundStart=!0}
if(foundStart&&this.saved.end>=charIndex&&this.saved.end<=nextCharIndex)
{range.setEnd(node,this.saved.end-charIndex);stop=!0}
charIndex=nextCharIndex}
else{var i=node.childNodes.length;while(i--)
{nodeStack.push(node.childNodes[i])}}}
var sel=win.getSelection();sel.removeAllRanges();sel.addRange(range)},node:function(node)
{$(node).prepend(this.marker.get(1));$(node).append(this.marker.get(2));this.selection.restore()},all:function()
{this.core.editor().focus();var sel=this.selection.get();var range=this.selection.range(sel);range.selectNodeContents(this.core.editor()[0]);this.selection.update(sel,range)},remove:function()
{this.selection.get().removeAllRanges()},replace:function(html)
{this.insert.html(html)},text:function()
{return this.selection.get().toString()},html:function()
{var html='';var sel=this.selection.get();if(sel.rangeCount)
{var container=document.createElement('div');var len=sel.rangeCount;for(var i=0;i<len;++i)
{container.appendChild(sel.getRangeAt(i).cloneContents())}
html=this.clean.onGet(container.innerHTML)}
return html},extractEndOfNode:function(node)
{var sel=this.selection.get();var range=this.selection.range(sel);var clonedRange=range.cloneRange();clonedRange.selectNodeContents(node);clonedRange.setStart(range.endContainer,range.endOffset);return clonedRange.extractContents()},removeMarkers:function()
{this.marker.remove()},marker:function(num)
{return this.marker.get(num)},markerHtml:function(num)
{return this.marker.html(num)}}},shortcuts:function()
{return{hotkeysSpecialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hotkeysShiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":"\"",",":"<",".":">","/":"?","\\":"|"},init:function(e,key)
{if(this.opts.shortcuts===!1)
{if((e.ctrlKey||e.metaKey)&&(key===66||key===73))
{e.preventDefault()}
return!1}
else{$.each(this.opts.shortcuts,$.proxy(function(str,command)
{this.shortcuts.build(e,str,command)},this))}},build:function(e,str,command)
{var handler=$.proxy(function()
{this.shortcuts.buildHandler(command)},this);var keys=str.split(',');var len=keys.length;for(var i=0;i<len;i++)
{if(typeof keys[i]==='string')
{this.shortcuts.handler(e,$.trim(keys[i]),handler)}}},buildHandler:function(command)
{var func;if(command.func.search(/\./)!=='-1')
{func=command.func.split('.');if(typeof this[func[0]]!=='undefined')
{this[func[0]][func[1]].apply(this,command.params)}}
else{this[command.func].apply(this,command.params)}},handler:function(e,keys,origHandler)
{keys=keys.toLowerCase().split(" ");var special=this.shortcuts.hotkeysSpecialKeys[e.keyCode];var character=String.fromCharCode(e.which).toLowerCase();var modif="",possible={};$.each(["alt","ctrl","meta","shift"],function(index,specialKey)
{if(e[specialKey+'Key']&&special!==specialKey)
{modif+=specialKey+'+'}});if(special)
{possible[modif+special]=!0}
if(character)
{possible[modif+character]=!0;possible[modif+this.shortcuts.hotkeysShiftNums[character]]=!0;if(modif==="shift+")
{possible[this.shortcuts.hotkeysShiftNums[character]]=!0}}
var len=keys.length;for(var i=0;i<len;i++)
{if(possible[keys[i]])
{e.preventDefault();return origHandler.apply(this,arguments)}}}}},storage:function()
{return{data:[],add:function(data)
{data.status=!0;data.url=decodeURI(data.url);this.storage.data[data.url]=data},status:function(url,status)
{this.storage.data[decodeURI(url)].status=status},observe:function()
{var _this=this;var $images=this.core.editor().find('[data-image]');$images.each(function(i,s)
{_this.storage.add({type:'image',node:s,url:s.src,id:$(s).attr('data-image')})});var $files=this.core.editor().find('[data-file]');$files.each(function(i,s)
{_this.storage.add({type:'file',node:s,url:s.href,id:$(s).attr('data-file')})});var $s3=this.core.editor().find('[data-s3]');$s3.each(function(i,s)
{var url=(s.tagName==='IMG')?s.src:s.href;_this.storage.add({type:'s3',node:s,url:url,id:$(s).attr('data-s3')})})},changes:function()
{for(var key in this.storage.data)
{var data=this.storage.data[key];var attr=(data.node.tagName==='IMG')?'src':'href';var $el=this.core.editor().find('[data-'+data.type+']['+attr+'="'+data.url+'"]');if($el.length===0)
{this.storage.status(data.url,!1)}
else{this.storage.status(data.url,!0)}}
return this.storage.data}}},toolbar:function()
{return{build:function()
{this.button.hideButtons();this.button.hideButtonsOnMobile();this.$toolbar=this.toolbar.createContainer();this.toolbar.append();this.button.$toolbar=this.$toolbar;this.button.setFormatting();this.button.load(this.$toolbar);this.toolbar.setOverflow();this.toolbar.setFixed()},createContainer:function()
{return $('<ul>').addClass('redactor-toolbar').attr({'id':'redactor-toolbar-'+this.uuid,'role':'toolbar'})},append:function()
{if(this.opts.toolbarExternal)
{this.$toolbar.addClass('redactor-toolbar-external');$(this.opts.toolbarExternal).html(this.$toolbar)}
else{if(this.opts.type==='textarea')
{this.$box.prepend(this.$toolbar)}
else{this.$element.before(this.$toolbar)}}},setOverflow:function()
{if(this.opts.toolbarOverflow)
{this.$toolbar.addClass('redactor-toolbar-overflow')}},setFixed:function()
{if(!this.opts.toolbarFixed||this.opts.toolbarExternal)
{return}
if(this.opts.toolbarFixedTarget!==document)
{var $el=$(this.opts.toolbarFixedTarget);this.toolbarOffsetTop=($el.length===0)?0:this.core.box().offset().top-$el.offset().top}
var late=(this.core.box().closest('.modal-body').length!==0)?1000:0;setTimeout($.proxy(function()
{var self=this;this.toolbar.observeScroll(!1);if(this.detect.isDesktop())
{$(this.opts.toolbarFixedTarget).on('scroll.redactor.'+this.uuid,function()
{if(self.core.editor().height()<100||self.placeholder.isEditorEmpty())
{return}
self.toolbar.observeScroll()})}
else{$(this.opts.toolbarFixedTarget).on('scroll.redactor.'+this.uuid,function()
{if(self.core.editor().height()<100||self.placeholder.isEditorEmpty())
{return}
self.core.toolbar().hide();clearTimeout($.data(this,"scrollCheck"));$.data(this,"scrollCheck",setTimeout(function()
{self.core.toolbar().show();self.toolbar.observeScroll()},250))})}},this),late)},setUnfixed:function()
{this.toolbar.observeScrollDisable()},getBoxTop:function()
{return(this.opts.toolbarFixedTarget===document)?this.core.box().offset().top:this.toolbar.toolbarOffsetTop},observeScroll:function(start)
{var tolerance=0;if(start!==!1)
{tolerance=(this.opts.toolbarFixedTarget===document)?20:0}
var scrollTop=$(this.opts.toolbarFixedTarget).scrollTop();var boxTop=this.toolbar.getBoxTop();if(scrollTop===boxTop)
{return}
if((scrollTop+this.opts.toolbarFixedTopOffset+tolerance)>boxTop)
{this.toolbar.observeScrollEnable(scrollTop,boxTop)}
else{this.toolbar.observeScrollDisable()}},observeScrollResize:function()
{this.$toolbar.css({width:this.core.box().innerWidth(),left:this.core.box().offset().left})},observeScrollEnable:function(scrollTop,boxTop)
{if(typeof this.fullscreen!=='undefined'&&this.fullscreen.isOpened===!1)
{this.toolbar.observeScrollDisable();return}
var end=boxTop+this.core.box().outerHeight()-32;var width=this.core.box().innerWidth();var position=(this.detect.isDesktop())?'fixed':'absolute';var top=(this.detect.isDesktop())?this.opts.toolbarFixedTopOffset:($(this.opts.toolbarFixedTarget).scrollTop()-boxTop+this.opts.toolbarFixedTopOffset);var left=(this.detect.isDesktop())?this.core.box().offset().left:0;if(this.opts.toolbarFixedTarget!==document)
{position='absolute';top=this.opts.toolbarFixedTopOffset+$(this.opts.toolbarFixedTarget).scrollTop()-boxTop;left=0}
this.$toolbar.addClass('toolbar-fixed-box');this.$toolbar.css({position:position,width:width,top:top,left:left});if(scrollTop>end)
{$('.redactor-dropdown-'+this.uuid+':visible').hide()}
this.toolbar.setDropdownsFixed();this.$toolbar.css('visibility',(scrollTop<end)?'visible':'hidden');$(window).on('resize.redactor-toolbar.'+this.uuid,$.proxy(this.toolbar.observeScrollResize,this))},observeScrollDisable:function()
{this.$toolbar.css({position:'relative',width:'auto',top:0,left:0,visibility:'visible'});this.toolbar.unsetDropdownsFixed();this.$toolbar.removeClass('toolbar-fixed-box');$(window).off('resize.redactor-toolbar.'+this.uuid)},setDropdownsFixed:function()
{var position=(this.opts.toolbarFixedTarget===document&&this.detect.isDesktop())?'fixed':'absolute';this.toolbar.setDropdownPosition(position)},unsetDropdownsFixed:function()
{this.toolbar.setDropdownPosition('absolute')},setDropdownPosition:function(position)
{var self=this;$('.redactor-dropdown-'+this.uuid).each(function()
{var $el=$(this);var $button=self.button.get($el.attr('rel'));var top=(position==='fixed')?self.opts.toolbarFixedTopOffset:$button.offset().top;$el.css({position:position,top:($button.innerHeight()+top)+'px'})})}}},upload:function()
{return{init:function(id,url,callback)
{this.upload.direct=!1;this.upload.callback=callback;this.upload.url=url;this.upload.$el=$(id);this.upload.$droparea=$('<div id="redactor-droparea" />');this.upload.$placeholdler=$('<div id="redactor-droparea-placeholder" />').text(this.lang.get('upload-label'));this.upload.$input=$('<input type="file" name="file" multiple />');this.upload.$placeholdler.append(this.upload.$input);this.upload.$droparea.append(this.upload.$placeholdler);this.upload.$el.append(this.upload.$droparea);this.upload.$droparea.off('redactor.upload');this.upload.$input.off('redactor.upload');this.upload.$droparea.on('dragover.redactor.upload',$.proxy(this.upload.onDrag,this));this.upload.$droparea.on('dragleave.redactor.upload',$.proxy(this.upload.onDragLeave,this));this.upload.$input.on('change.redactor.upload',$.proxy(function(e)
{e=e.originalEvent||e;var len=this.upload.$input[0].files.length;for(var i=0;i<len;i++)
{this.upload.traverseFile(this.upload.$input[0].files[i],e)}},this));this.upload.$droparea.on('drop.redactor.upload',$.proxy(function(e)
{e.preventDefault();this.upload.$droparea.removeClass('drag-hover').addClass('drag-drop');this.upload.onDrop(e)},this))},directUpload:function(file,e)
{this.upload.direct=!0;this.upload.traverseFile(file,e)},onDrop:function(e)
{e=e.originalEvent||e;var files=e.dataTransfer.files;if(this.opts.multipleImageUpload)
{var len=files.length;for(var i=0;i<len;i++)
{this.upload.traverseFile(files[i],e)}}
else{this.upload.traverseFile(files[0],e)}},traverseFile:function(file,e)
{if(this.opts.s3)
{this.upload.setConfig(file);this.uploads3.send(file,e);return}
var formData=!!window.FormData?new FormData():null;if(window.FormData)
{this.upload.setConfig(file);var name=(this.upload.type==='image')?this.opts.imageUploadParam:this.opts.fileUploadParam;formData.append(name,file)}
this.progress.show();this.core.callback('uploadStart',e,formData);this.upload.send(formData,e)},setConfig:function(file)
{this.upload.getType(file);if(this.upload.direct)
{this.upload.url=(this.upload.type==='image')?this.opts.imageUpload:this.opts.fileUpload;this.upload.callback=(this.upload.type==='image')?this.image.insert:this.file.insert}},getType:function(file)
{this.upload.type=(this.opts.imageTypes.indexOf(file.type)===-1)?'file':'image';if(this.opts.imageUpload===null&&this.opts.fileUpload!==null)
{this.upload.type='file'}},getHiddenFields:function(obj,fd)
{if(obj===!1||typeof obj!=='object')
{return fd}
$.each(obj,$.proxy(function(k,v)
{if(v!==null&&v.toString().indexOf('#')===0)
{v=$(v).val()}
fd.append(k,v)},this));return fd},send:function(formData,e)
{if(this.upload.type==='image')
{formData=this.utils.appendFields(this.opts.imageUploadFields,formData);formData=this.utils.appendForms(this.opts.imageUploadForms,formData);formData=this.upload.getHiddenFields(this.upload.imageFields,formData)}
else{formData=this.utils.appendFields(this.opts.fileUploadFields,formData);formData=this.utils.appendForms(this.opts.fileUploadForms,formData);formData=this.upload.getHiddenFields(this.upload.fileFields,formData)}
var xhr=new XMLHttpRequest();xhr.open('POST',this.upload.url);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.onreadystatechange=$.proxy(function()
{if(xhr.readyState===4)
{var data=xhr.responseText;data=data.replace(/^\[/,'');data=data.replace(/\]$/,'');var json;try
{json=(typeof data==='string'?JSON.parse(data):data)}
catch(err)
{json={error:!0}}
this.progress.hide();if(!this.upload.direct)
{this.upload.$droparea.removeClass('drag-drop')}
this.upload.callback(json,this.upload.direct,e)}},this);this.core.callback('uploadBeforeSend',xhr);xhr.send(formData)},onDrag:function(e)
{e.preventDefault();this.upload.$droparea.addClass('drag-hover')},onDragLeave:function(e)
{e.preventDefault();this.upload.$droparea.removeClass('drag-hover')},clearImageFields:function()
{this.upload.imageFields={}},addImageFields:function(name,value)
{this.upload.imageFields[name]=value},removeImageFields:function(name)
{delete this.upload.imageFields[name]},clearFileFields:function()
{this.upload.fileFields={}},addFileFields:function(name,value)
{this.upload.fileFields[name]=value},removeFileFields:function(name)
{delete this.upload.fileFields[name]}}},uploads3:function()
{return{send:function(file,e)
{this.uploads3.executeOnSignedUrl(file,$.proxy(function(signedURL)
{this.uploads3.sendToS3(file,signedURL,e)},this))},executeOnSignedUrl:function(file,callback)
{var xhr=new XMLHttpRequest();var mark=(this.opts.s3.search(/\?/)===-1)?'?':'&';xhr.open('GET',this.opts.s3+mark+'name='+file.name+'&type='+file.type,!0);if(xhr.overrideMimeType)
{xhr.overrideMimeType('text/plain; charset=x-user-defined')}
var that=this;xhr.onreadystatechange=function(e)
{if(this.readyState===4&&this.status===200)
{that.progress.show();callback(decodeURIComponent(this.responseText))}};xhr.send()},createCORSRequest:function(method,url)
{var xhr=new XMLHttpRequest();if("withCredentials" in xhr)
{xhr.open(method,url,!0)}
else if(typeof XDomainRequest!=="undefined")
{xhr=new XDomainRequest();xhr.open(method,url)}
else{xhr=null}
return xhr},sendToS3:function(file,url,formData)
{var xhr=this.uploads3.createCORSRequest('PUT',url);if(!xhr)
{return}
xhr.onload=$.proxy(function()
{var json;this.progress.hide();if(xhr.status!==200)
{json={error:!0};this.upload.callback(json,this.upload.direct,xhr);return}
var s3file=url.split('?');if(!s3file[0])
{return!1}
if(!this.upload.direct)
{this.upload.$droparea.removeClass('drag-drop')}
json={url:s3file[0],id:s3file[0],s3:!0};if(this.upload.type==='file')
{var arr=s3file[0].split('/');json.name=arr[arr.length-1]}
this.upload.callback(json,this.upload.direct,e)},this);xhr.onerror=function(){};xhr.upload.onprogress=function(e){};xhr.setRequestHeader('Content-Type',file.type);xhr.setRequestHeader('x-amz-acl','public-read');xhr.send(formData)}}},utils:function()
{return{isEmpty:function(html)
{html=(typeof html==='undefined')?this.core.editor().html():html;html=html.replace(/[\u200B-\u200D\uFEFF]/g,'');html=html.replace(/&nbsp;/gi,'');html=html.replace(/<\/?br\s?\/?>/g,'');html=html.replace(/\s/g,'');html=html.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,'');html=html.replace(/<iframe(.*?[^>])>$/i,'iframe');html=html.replace(/<source(.*?[^>])>$/i,'source');html=html.replace(/<[^\/>][^>]*><\/[^>]+>/gi,'');html=html.replace(/<[^\/>][^>]*><\/[^>]+>/gi,'');html=$.trim(html);return html===''},isElement:function(obj)
{try{return obj instanceof HTMLElement}
catch(e)
{return(typeof obj==="object")&&(obj.nodeType===1)&&(typeof obj.style==="object")&&(typeof obj.ownerDocument==="object")}},strpos:function(haystack,needle,offset)
{var i=haystack.indexOf(needle,offset);return i>=0?i:!1},dataURItoBlob:function(dataURI)
{var byteString;if(dataURI.split(',')[0].indexOf('base64')>=0)
{byteString=atob(dataURI.split(',')[1])}
else{byteString=unescape(dataURI.split(',')[1])}
var mimeString=dataURI.split(',')[0].split(':')[1].split(';')[0];var ia=new Uint8Array(byteString.length);for(var i=0;i<byteString.length;i++)
{ia[i]=byteString.charCodeAt(i)}
return new Blob([ia],{type:mimeString})},getOuterHtml:function(el)
{return $('<div>').append($(el).eq(0).clone()).html()},cloneAttributes:function(from,to)
{from=from[0]||from;to=$(to);var attrs=from.attributes;var len=attrs.length;while(len--)
{var attr=attrs[len];to.attr(attr.name,attr.value)}
return to},breakBlockTag:function()
{var block=this.selection.block();if(!block)
{return!1}
var isEmpty=this.utils.isEmpty(block.innerHTML);var tag=block.tagName.toLowerCase();if(tag==='pre'||tag==='li'||tag==='td'||tag==='th')
{return!1}
if(!isEmpty&&this.utils.isStartOfElement(block))
{return{$block:$(block),$next:$(block).next(),type:'start'}}
else if(!isEmpty&&this.utils.isEndOfElement(block))
{return{$block:$(block),$next:$(block).next(),type:'end'}}
else{var endOfNode=this.selection.extractEndOfNode(block);var $nextPart=$('<'+tag+' />').append(endOfNode);$nextPart=this.utils.cloneAttributes(block,$nextPart);$(block).after($nextPart);return{$block:$(block),$next:$nextPart,type:'break'}}},inBlocks:function(tags)
{tags=($.isArray(tags))?tags:[tags];var blocks=this.selection.blocks();var len=blocks.length;var contains=!1;for(var i=0;i<len;i++)
{if(blocks[i]!==!1)
{var tag=blocks[i].tagName.toLowerCase();if($.inArray(tag,tags)!==-1)
{contains=!0}}}
return contains},inInlines:function(tags)
{tags=($.isArray(tags))?tags:[tags];var inlines=this.selection.inlines();var len=inlines.length;var contains=!1;for(var i=0;i<len;i++)
{var tag=inlines[i].tagName.toLowerCase();if($.inArray(tag,tags)!==-1)
{contains=!0}}
return contains},isTag:function(current,tag)
{var element=$(current).closest(tag,this.core.editor()[0]);if(element.length===1)
{return element[0]}
return!1},isBlock:function(block)
{if(block===null)
{return!1}
block=block[0]||block;return block&&this.utils.isBlockTag(block.tagName)},isBlockTag:function(tag)
{return(typeof tag==='undefined')?!1:this.reIsBlock.test(tag)},isInline:function(inline)
{inline=inline[0]||inline;return inline&&this.utils.isInlineTag(inline.tagName)},isInlineTag:function(tag)
{return(typeof tag==='undefined')?!1:this.reIsInline.test(tag)},isRedactorParent:function(el)
{if(!el)
{return!1}
if($(el).parents('.redactor-in').length===0||$(el).hasClass('redactor-in'))
{return!1}
return el},isCurrentOrParentHeader:function()
{return this.utils.isCurrentOrParent(['H1','H2','H3','H4','H5','H6'])},isCurrentOrParent:function(tagName)
{var parent=this.selection.parent();var current=this.selection.current();if($.isArray(tagName))
{var matched=0;$.each(tagName,$.proxy(function(i,s)
{if(this.utils.isCurrentOrParentOne(current,parent,s))
{matched++}},this));return(matched===0)?!1:!0}
else{return this.utils.isCurrentOrParentOne(current,parent,tagName)}},isCurrentOrParentOne:function(current,parent,tagName)
{tagName=tagName.toUpperCase();return parent&&parent.tagName===tagName?parent:current&&current.tagName===tagName?current:!1},isEditorRelative:function()
{var position=this.core.editor().css('position');var arr=['absolute','fixed','relative'];return($.inArray(arr,position)!==-1)},setEditorRelative:function()
{this.core.editor().addClass('redactor-relative')},getScrollTarget:function()
{var $scrollTarget=$(this.opts.scrollTarget);return($scrollTarget.length!==0)?$scrollTarget:$(document)},freezeScroll:function()
{this.freezeScrollTop=this.utils.getScrollTarget().scrollTop();this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},unfreezeScroll:function()
{if(typeof this.freezeScrollTop==='undefined')
{return}
this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},saveScroll:function()
{this.tmpScrollTop=this.utils.getScrollTarget().scrollTop()},restoreScroll:function()
{if(typeof this.tmpScrollTop==='undefined')
{return}
this.utils.getScrollTarget().scrollTop(this.tmpScrollTop)},isStartOfElement:function(element)
{if(typeof element==='undefined')
{element=this.selection.block();if(!element)
{return!1}}
return(this.offset.get(element)===0)?!0:!1},isEndOfElement:function(element)
{if(typeof element==='undefined')
{element=this.selection.block();if(!element)
{return!1}}
var text=$.trim($(element).text()).replace(/[\t\n\r\n]/g,'').replace(/\u200B/g,'');var offset=this.offset.get(element);return(offset===text.length)?!0:!1},removeEmptyAttr:function(el,attr)
{var $el=$(el);if(typeof $el.attr(attr)==='undefined')
{return!0}
if($el.attr(attr)==='')
{$el.removeAttr(attr);return!0}
return!1},replaceToTag:function(node,tag)
{var replacement;$(node).replaceWith(function()
{replacement=$('<'+tag+' />').append($(this).contents());for(var i=0;i<this.attributes.length;i++)
{replacement.attr(this.attributes[i].name,this.attributes[i].value)}
return replacement});return replacement},isSelectAll:function()
{return this.selectAll},enableSelectAll:function()
{this.selectAll=!0},disableSelectAll:function()
{this.selectAll=!1},disableBodyScroll:function()
{var $body=$('html');var windowWidth=window.innerWidth;if(!windowWidth)
{var documentElementRect=document.documentElement.getBoundingClientRect();windowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}
var isOverflowing=document.body.clientWidth<windowWidth;var scrollbarWidth=this.utils.measureScrollbar();$body.css('overflow','hidden');if(isOverflowing)
{$body.css('padding-right',scrollbarWidth)}},measureScrollbar:function()
{var $body=$('body');var scrollDiv=document.createElement('div');scrollDiv.className='redactor-scrollbar-measure';$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;$body[0].removeChild(scrollDiv);return scrollbarWidth},enableBodyScroll:function()
{$('html').css({'overflow':'','padding-right':''});$('body').remove('redactor-scrollbar-measure')},appendFields:function(appendFields,data)
{if(!appendFields)
{return data}
else if(typeof appendFields==='object')
{$.each(appendFields,function(k,v)
{if(v!==null&&v.toString().indexOf('#')===0)
{v=$(v).val()}
data.append(k,v)});return data}
var $fields=$(appendFields);if($fields.length===0)
{return data}
else{var str='';$fields.each(function()
{data.append($(this).attr('name'),$(this).val())});return data}},appendForms:function(appendForms,data)
{if(!appendForms)
{return data}
var $forms=$(appendForms);if($forms.length===0)
{return data}
else{var formData=$forms.serializeArray();$.each(formData,function(z,f)
{data.append(f.name,f.value)});return data}},isRgb:function(str)
{return(str.search(/^rgb/i)===0)},rgb2hex:function(rgb)
{rgb=rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return(rgb&&rgb.length===4)?"#"+("0"+parseInt(rgb[1],10).toString(16)).slice(-2)+("0"+parseInt(rgb[2],10).toString(16)).slice(-2)+("0"+parseInt(rgb[3],10).toString(16)).slice(-2):''},isCollapsed:function()
{return this.selection.isCollapsed()},isMobile:function()
{return this.detect.isMobile()},isDesktop:function()
{return this.detect.isDesktop()},isPad:function()
{return this.detect.isIpad()}}},browser:function()
{return{webkit:function()
{return this.detect.isWebkit()},ff:function()
{return this.detect.isFirefox()},ie:function()
{return this.detect.isIe()}}}};$(window).on('load.tools.redactor',function()
{$('[data-tools="redactor"]').redactor()});Redactor.prototype.init.prototype=Redactor.prototype})(jQuery);(function($)
{$.fn.redactorAnimation=function(animation,options,callback)
{return this.each(function()
{new redactorAnimation(this,animation,options,callback)})};function redactorAnimation(element,animation,options,callback)
{var opts={duration:0.5,iterate:1,delay:0,prefix:'redactor-',timing:'linear'};this.animation=animation;this.slide=(this.animation==='slideDown'||this.animation==='slideUp');this.$element=$(element);this.prefixes=['','-moz-','-o-animation-','-webkit-'];this.queue=[];if(typeof options==='function')
{callback=options;this.opts=opts}
else{this.opts=$.extend(opts,options)}
if(this.slide)
{this.$element.height(this.$element.height())}
this.init(callback)}
redactorAnimation.prototype={init:function(callback)
{this.queue.push(this.animation);this.clean();if(this.animation==='show')
{this.opts.timing='linear';this.$element.removeClass('hide').show();if(typeof callback==='function')
{callback(this)}}
else if(this.animation==='hide')
{this.opts.timing='linear';this.$element.hide();if(typeof callback==='function')
{callback(this)}}
else{this.animate(callback)}},animate:function(callback)
{this.$element.addClass('redactor-animated').css('display','').removeClass('hide');this.$element.addClass(this.opts.prefix+this.queue[0]);this.set(this.opts.duration+'s',this.opts.delay+'s',this.opts.iterate,this.opts.timing);var _callback=(this.queue.length>1)?null:callback;this.complete('AnimationEnd',$.proxy(function()
{if(this.$element.hasClass(this.opts.prefix+this.queue[0]))
{this.clean();this.queue.shift();if(this.queue.length)
{this.animate(callback)}}},this),_callback)},set:function(duration,delay,iterate,timing)
{var len=this.prefixes.length;while(len--)
{this.$element.css(this.prefixes[len]+'animation-duration',duration);this.$element.css(this.prefixes[len]+'animation-delay',delay);this.$element.css(this.prefixes[len]+'animation-iteration-count',iterate);this.$element.css(this.prefixes[len]+'animation-timing-function',timing)}},clean:function()
{this.$element.removeClass('redactor-animated');this.$element.removeClass(this.opts.prefix+this.queue[0]);this.set('','','','')},complete:function(type,make,callback)
{this.$element.one(type.toLowerCase()+' webkit'+type+' o'+type+' MS'+type,$.proxy(function()
{if(typeof make==='function')
{make()}
if(typeof callback==='function')
{callback(this)}
var effects=['fadeOut','slideUp','zoomOut','slideOutUp','slideOutRight','slideOutLeft'];if($.inArray(this.animation,effects)!==-1)
{this.$element.css('display','none')}
if(this.slide)
{this.$element.css('height','')}},this))}}})(jQuery);(function($)
{$.Redactor.prototype.clips=function()
{return{init:function()
{var items=[['Lorem ipsum...','Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.'],['Button','<a class="btn btn-primary" href="http://www.be-interactive.nl/">Button tekst</a>']];this.clips.template=$('<ul id="redactor-modal-list">');for(var i=0;i<items.length;i++)
{var li=$('<li>');var a=$('<a href="#" class="redactor-clips-link">').text(items[i][0]);var div=$('<div class="redactor-clips">').hide().html(items[i][1]);li.append(a);li.append(div);this.clips.template.append(li)}
this.modal.addTemplate('clips','<div class="modal-section">'+this.utils.getOuterHtml(this.clips.template)+'</div>');var button=this.button.add('clips','Clips');this.button.setIcon(button,'<i class="re-icon-clips"></i>');this.button.addCallback(button,this.clips.show)},show:function()
{this.modal.load('clips','Insert Clips',500);$('#redactor-modal-list').find('.redactor-clips-link').each($.proxy(this.clips.load,this));this.modal.show()},load:function(i,s)
{$(s).on('click',$.proxy(function(e)
{e.preventDefault();this.clips.insert($(s).next().html())},this))},insert:function(html)
{this.buffer.set();this.air.collapsedEnd();this.insert.html(html);this.modal.close()}}}})(jQuery);(function($)
{$.Redactor.prototype.bufferbuttons=function()
{return{init:function()
{var undo=this.button.addFirst('undo','Undo');this.button.setIcon(undo,'<i class="fa fa-undo"></i>');this.button.addCallback(undo,this.buffer.undo)}}}})(jQuery);(function($)
{$.Redactor.prototype.source=function()
{return{init:function()
{var button=this.button.addFirst('html','HTML');this.button.setIcon(button,'<i class="re-icon-html"></i>');this.button.addCallback(button,this.source.toggle);var style={'width':'100%','margin':'0','background':'#1d1d1d','box-sizing':'border-box','color':'#ccc','font-size':'15px','outline':'none','padding':'20px','line-height':'24px','font-family':'Consolas, Menlo, Monaco, "Courier New", monospace'};this.source.$textarea=$('<textarea />');this.source.$textarea.css(style).hide();if(this.opts.type==='textarea')
{this.core.box().append(this.source.$textarea)}
else{this.core.box().after(this.source.$textarea)}
this.core.element().on('destroy.callback.redactor',$.proxy(function()
{this.source.$textarea.remove()},this))},toggle:function()
{return(this.source.$textarea.hasClass('open'))?this.source.hide():this.source.show()},setCaretOnShow:function()
{this.source.offset=this.offset.get();var scroll=$(window).scrollTop();var width=this.core.editor().innerWidth();var height=this.core.editor().innerHeight();this.source.start=0;this.source.end=0;var $editorDiv=$("<div/>").append($.parseHTML(this.core.editor().html(),document,!0));var $selectionMarkers=$editorDiv.find("span.redactor-selection-marker");if($selectionMarkers.length>0)
{var editorHtml=$editorDiv.html().replace(/&amp;/g,'&');if($selectionMarkers.length===1)
{this.source.start=this.utils.strpos(editorHtml,$editorDiv.find("#selection-marker-1").prop("outerHTML"));this.source.end=this.source.start}
else if($selectionMarkers.length===2)
{this.source.start=this.utils.strpos(editorHtml,$editorDiv.find("#selection-marker-1").prop("outerHTML"));this.source.end=this.utils.strpos(editorHtml,$editorDiv.find("#selection-marker-2").prop("outerHTML"))-$editorDiv.find("#selection-marker-1").prop("outerHTML").toString().length}}},setCaretOnHide:function(html)
{this.source.start=this.source.$textarea.get(0).selectionStart;this.source.end=this.source.$textarea.get(0).selectionEnd;if(this.source.start>this.source.end&&this.source.end>0)
{var tempStart=this.source.end;var tempEnd=this.source.start;this.source.start=tempStart;this.source.end=tempEnd}
this.source.start=this.source.enlargeOffset(html,this.source.start);this.source.end=this.source.enlargeOffset(html,this.source.end);html=html.substr(0,this.source.start)+this.marker.html(1)+html.substr(this.source.start);if(this.source.end>this.source.start)
{var markerLength=this.marker.html(1).toString().length;html=html.substr(0,this.source.end+markerLength)+this.marker.html(2)+html.substr(this.source.end+markerLength)}
return html},hide:function()
{this.source.$textarea.removeClass('open').hide();this.source.$textarea.off('.redactor-source');var code=this.source.$textarea.val();code=this.paragraphize.load(code);code=this.source.setCaretOnHide(code);this.code.start(code);this.button.enableAll();this.core.editor().show().focus();this.selection.restore();this.core.callback('visual')},show:function()
{this.selection.save();this.source.setCaretOnShow();var height=this.core.editor().innerHeight();var code=this.code.get();code=this.core.callback('source',code);this.core.editor().hide();this.button.disableAll('html');this.source.$textarea.val(code).height(height).addClass('open').show();this.source.$textarea.on('keyup.redactor-source',$.proxy(function()
{if(this.opts.type==='textarea')
{this.core.textarea().val(this.source.$textarea.val())}},this));this.marker.remove();$(window).scrollTop(scroll);if(this.source.$textarea[0].setSelectionRange)
{this.source.$textarea[0].setSelectionRange(this.source.start,this.source.end)}
this.source.$textarea[0].scrollTop=0;setTimeout($.proxy(function()
{this.source.$textarea.focus()},this),0)},enlargeOffset:function(html,offset)
{var htmlLength=html.length;var c=0;if(html[offset]==='>')
{c++}
else{for(var i=offset;i<=htmlLength;i++)
{c++;if(html[i]==='>')
{break}
else if(html[i]==='<'||i===htmlLength)
{c=0;break}}}
return offset+c}}}})(jQuery);(function($)
{$.Redactor.prototype.table=function()
{return{langs:{en:{"table":"Table","insert-table":"Insert table","insert-row-above":"Insert row above","insert-row-below":"Insert row below","insert-column-left":"Insert column left","insert-column-right":"Insert column right","add-head":"Add head","delete-head":"Delete head","delete-column":"Delete column","delete-row":"Delete row","delete-table":"Delete table"}},init:function()
{var dropdown={};dropdown.insert_table={title:this.lang.get('insert-table'),func:this.table.insert,observe:{element:'table',in:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0,}}}};dropdown.insert_row_above={title:this.lang.get('insert-row-above'),func:this.table.addRowAbove,observe:{element:'table',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0,}}}};dropdown.insert_row_below={title:this.lang.get('insert-row-below'),func:this.table.addRowBelow,observe:{element:'table',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0,}}}};dropdown.insert_column_left={title:this.lang.get('insert-column-left'),func:this.table.addColumnLeft,observe:{element:'table',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0,}}}};dropdown.insert_column_right={title:this.lang.get('insert-column-right'),func:this.table.addColumnRight,observe:{element:'table',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0,}}}};dropdown.add_head={title:this.lang.get('add-head'),func:this.table.addHead,observe:{element:'table',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0,}}}};dropdown.delete_head={title:this.lang.get('delete-head'),func:this.table.deleteHead,observe:{element:'table',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0,}}}};dropdown.delete_column={title:this.lang.get('delete-column'),func:this.table.deleteColumn,observe:{element:'table',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0,}}}};dropdown.delete_row={title:this.lang.get('delete-row'),func:this.table.deleteRow,observe:{element:'table',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0,}}}};dropdown.delete_table={title:this.lang.get('delete-table'),func:this.table.deleteTable,observe:{element:'table',out:{attr:{'class':'redactor-dropdown-link-inactive','aria-disabled':!0,}}}};var button=this.button.addBefore('link','table',this.lang.get('table'));this.button.setIcon(button,'<i class="re-icon-table"></i>');this.button.addDropdown(button,dropdown)},insert:function()
{if(this.table.getTable())
{return}
this.placeholder.hide();var rows=2;var columns=3;var $tableBox=$('<div>');var $table=$('<table />');for(var i=0;i<rows;i++)
{var $row=$('<tr>');for(var z=0;z<columns;z++)
{var $column=$('<td>'+this.opts.invisibleSpace+'</td>');if(i===0&&z===0)
{$column.append(this.marker.get())}
$($row).append($column)}
$table.append($row)}
$tableBox.append($table);var html=$tableBox.html();this.buffer.set();var current=this.selection.current();if($(current).closest('li',this.core.editor()[0]).length!==0)
{$(current).closest('ul, ol').first().after(html)}
else{this.air.collapsed();this.insert.html(html)}
this.selection.restore();this.core.callback('insertedTable',$table)},getTable:function()
{var $table=$(this.selection.current()).closest('table');if(!this.utils.isRedactorParent($table))
{return!1}
if($table.length===0)
{return!1}
return $table},restoreAfterDelete:function($table)
{this.selection.restore();$table.find('span.redactor-selection-marker').remove()},deleteTable:function()
{var $table=this.table.getTable();if(!$table)
{return}
this.buffer.set();var $next=$table.next();if(!this.opts.linebreaks&&$next.length!==0)
{this.caret.start($next)}
else{this.caret.after($table)}
$table.remove()},deleteRow:function()
{var $table=this.table.getTable();if(!$table)
{return}
var $current=$(this.selection.current());this.buffer.set();var $current_tr=$current.closest('tr');var $focus_tr=$current_tr.prev().length?$current_tr.prev():$current_tr.next();if($focus_tr.length)
{var $focus_td=$focus_tr.children('td, th').first();if($focus_td.length)
{$focus_td.prepend(this.marker.get())}}
$current_tr.remove();this.table.restoreAfterDelete($table)},deleteColumn:function()
{var $table=this.table.getTable();if(!$table)
{return}
this.buffer.set();var $current=$(this.selection.current());var $current_td=$current.closest('td, th');var index=$current_td[0].cellIndex;$table.find('tr').each($.proxy(function(i,elem)
{var $elem=$(elem);var focusIndex=index-1<0?index+1:index-1;if(i===0)
{$elem.find('td, th').eq(focusIndex).prepend(this.marker.get())}
$elem.find('td, th').eq(index).remove()},this));this.table.restoreAfterDelete($table)},addHead:function()
{var $table=this.table.getTable();if(!$table)
{return}
this.buffer.set();if($table.find('thead').length!==0)
{this.table.deleteHead();return}
var tr=$table.find('tr').first().clone();tr.find('td').replaceWith($.proxy(function()
{return $('<th>').html(this.opts.invisibleSpace)},this));$thead=$('<thead></thead>').append(tr);$table.prepend($thead)},deleteHead:function()
{var $table=this.table.getTable();if(!$table)
{return}
var $thead=$table.find('thead');if($thead.length===0)
{return}
this.buffer.set();$thead.remove()},addRowAbove:function()
{this.table.addRow('before')},addRowBelow:function()
{this.table.addRow('after')},addColumnLeft:function()
{this.table.addColumn('before')},addColumnRight:function()
{this.table.addColumn('after')},addRow:function(type)
{var $table=this.table.getTable();if(!$table)
{return}
this.buffer.set();var $current=$(this.selection.current());var $current_tr=$current.closest('tr');var new_tr=$current_tr.clone();new_tr.find('th').replaceWith(function()
{var $td=$('<td>');$td[0].attributes=this.attributes;return $td.append($(this).contents())});new_tr.find('td').html(this.opts.invisibleSpace);if(type==='after')
{$current_tr.after(new_tr)}
else{$current_tr.before(new_tr)}},addColumn:function(type)
{var $table=this.table.getTable();if(!$table)
{return}
var index=0;var current=$(this.selection.current());this.buffer.set();var $current_tr=current.closest('tr');var $current_td=current.closest('td, th');$current_tr.find('td, th').each($.proxy(function(i,elem)
{if($(elem)[0]===$current_td[0])
{index=i}},this));$table.find('tr').each($.proxy(function(i,elem)
{var $current=$(elem).find('td, th').eq(index);var td=$current.clone();td.html(this.opts.invisibleSpace);if(type==='after')
{$current.after(td)}
else{$current.before(td)}},this))}}}})(jQuery);(function($)
{$.Redactor.opts.langs.nl={"format":"Opmaak","image":"Afbeelding","file":"Bestand","link":"Link","bold":"Vet","italic":"Cursief","deleted":"Doorstreept","underline":"Onderstreept","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U","lists":"Lijsten","link-insert":"Link invoegen","link-edit":"Link Bewerken","link-in-new-tab":"Open link in nieuw tabblad","unlink":"Ontkoppelen","cancel":"Annuleren","close":"Afsluiten","insert":"Invoegen","save":"Opslaan","delete":"Verwijder","text":"Tekst","edit":"Bewerken","title":"Titel","paragraph":"Normale tekst","quote":"Citaat","code":"Code","heading1":"Koptekst 1","heading2":"Koptekst 2","heading3":"Koptekst 3","heading4":"Koptekst 4","heading5":"Koptekst 5","heading6":"Koptekst 6","filename":"Bestandsnaam","optional":"Optioneel","unorderedlist":"Ongeordende lijst","orderedlist":"Geordende lijst","outdent":"Uitspringen","indent":"Inspringen","horizontalrule":"Streep","upload-label":"Drop bestand hier of ","accessibility-help-label":"RTF editor","caption":"Caption","bulletslist":"Puntsgewijs","numberslist":"Nummeriek","image-position":"Positie","none":"Geen","left":"Links","right":"Rechts","center":"Midden"}})(jQuery);(function($)
{$.Redactor.prototype.imagemanager=function()
{return{langs:{en:{"upload":"Upload","choose":"Choose"}},init:function()
{if(!this.opts.imageManagerJson)
{return}
this.modal.addCallback('image',this.imagemanager.load)},load:function()
{var $box=$('<div style="overflow: auto; height: 300px; display: none;" class="redactor-modal-tab" data-title="Choose">');this.modal.getModal().append($box);$.ajax({dataType:"json",cache:!1,url:this.opts.imageManagerJson,success:$.proxy(function(data)
{$.each(data,$.proxy(function(key,val)
{var thumbtitle='';if(typeof val.title!=='undefined')
{thumbtitle=val.title}
var img=$('<img src="'+val.thumb+'"  data-params="'+encodeURI(JSON.stringify(val))+'" style="width: 100px; height: 75px; cursor: pointer;" />');$box.append(img);$(img).click($.proxy(this.imagemanager.insert,this))},this))},this)})},insert:function(e)
{var $el=$(e.target);var json=$.parseJSON(decodeURI($el.attr('data-params')));this.image.insert(json,null)}}}})(jQuery);(function($)
{$.Redactor.prototype.filemanager=function()
{return{langs:{en:{"upload":"Upload","choose":"Choose"}},init:function()
{if(!this.opts.fileManagerJson)
{return}
this.modal.addCallback('file',this.filemanager.load)},load:function()
{var $box=$('<div  style="overflow: auto; height: 300px; display: none;" class="redactor-modal-tab" data-title="Choose">').hide();this.modal.getModal().append($box);$.ajax({dataType:"json",cache:!1,url:this.opts.fileManagerJson,success:$.proxy(function(data)
{var ul=$('<ul id="redactor-modal-list">');$.each(data,$.proxy(function(key,val)
{var a=$('<a href="#" data-params="'+encodeURI(JSON.stringify(val))+'" class="redactor-file-manager-link">'+val.title+' <span style="font-size: 11px; color: #888;">'+val.name+'</span> <span style="position: absolute; right: 10px; font-size: 11px; color: #888;">('+val.size+')</span></a>');var li=$('<li />');a.on('click',$.proxy(this.filemanager.insert,this));li.append(a);ul.append(li)},this));$box.append(ul)},this)})},insert:function(e)
{e.preventDefault();var $el=$(e.target).closest('.redactor-file-manager-link');var json=$.parseJSON(decodeURI($el.attr('data-params')));this.file.insert(json,null)}}}})(jQuery);(function($)
{$.Redactor.prototype.properties=function()
{return{langs:{en:{"properties":"Properties"}},block:!1,labelStyle:{'position':'absolute','padding':'2px 5px','line-height':1,'border-radius':'5px','font-size':'10px','color':'rgba(255, 255, 255, .9)','z-index':99},getTemplate:function()
{return String()+'<div class="modal-section" id="redactor-modal-properties">'+'<section>'+'<label id="modal-properties-id-label">Id</label>'+'<input type="text" id="modal-properties-id" />'+'</section>'+'<section>'+'<label id="modal-properties-class-label">Class</label>'+'<input type="text" id="modal-properties-class" />'+'</section>'+'<section>'+'<button id="redactor-modal-button-action">Save</button>'+'<button id="redactor-modal-button-cancel">Cancel</button>'+'</section>'+'</div>'},setup:function()
{this.opts.properties=(typeof this.opts.properties==='undefined')?{}:this.opts.properties;this.opts.properties.id=(typeof this.opts.properties.id==='undefined')?!0:this.opts.properties.id;this.opts.properties.classname=(typeof this.opts.properties.classname==='undefined')?!0:this.opts.properties.classname;this.opts.properties.show=(typeof this.opts.properties.show==='undefined')?!1:this.opts.properties.show},init:function()
{if(this.opts.type==='pre'||this.opts.type==='inline')
{return}
this.properties.setup();this.properties.createLabelId(this.properties.labelStyle);this.properties.createLabelClass(this.properties.labelStyle);this.properties.setEvents();var button=this.button.add('properties',this.lang.get('properties'));this.button.setIcon(button,'<i class="re-icon-properties"></i>');this.button.addCallback(button,this.properties.show)},show:function()
{this.modal.addTemplate('properties',this.properties.getTemplate());this.modal.load('properties','Properties',600);var button=this.modal.getActionButton().text('Save');button.on('click',this.properties.save);this.properties.showId();this.properties.showClass();this.modal.show()},createLabelId:function(css)
{if(!this.opts.properties.show&&!this.opts.properties.id)
{return}
this.properties.labelId=$('<span />').attr('id','redactor-properties-label-id-'+this.uuid).attr('title','ID').hide();this.properties.labelId.css(css).css('background','rgba(229, 57, 143, .7)');$('body').append(this.properties.labelId)},createLabelClass:function(css)
{if(!this.opts.properties.show&&!this.opts.properties.classname)
{return}
this.properties.labelClass=$('<span />').attr('id','redactor-properties-label-class-'+this.uuid).attr('title','class').hide();this.properties.labelClass.css(css).css('background','rgba(61, 121, 242, .7)');$('body').append(this.properties.labelClass)},setEvents:function()
{this.core.element().on('click.callback.redactor',this.properties.showOnClick);$(document).on('mousedown.redactor-properties',$.proxy(this.properties.hideOnBlur,this));this.core.element().on('destroy.callback.redactor',$.proxy(function()
{$(document).off('.redactor-properties')},this))},showId:function()
{if(this.opts.properties.id)
{$('#modal-properties-id-label').show();$('#modal-properties-id').show().val($(this.properties.block).attr('id'))}
else{$('#modal-properties-id, #modal-properties-id-label').hide()}},showClass:function()
{if(this.opts.properties.classname)
{$('#modal-properties-class-label').show();$('#modal-properties-class').show().val($(this.properties.block).attr('class'))}
else{$('#modal-properties-class, #modal-properties-class-label').hide()}},save:function()
{if(this.opts.properties.id)
{var id=$('#modal-properties-id').val();if(typeof id==='undefined'||id==='')
{this.block.removeAttr('id',this.properties.block)}
else{this.block.replaceAttr('id',id,this.properties.block)}}
if(this.opts.properties.classname)
{var classname=$('#modal-properties-class').val();if(typeof classname==='undefined'||classname==='')
{this.block.removeAttr('class',this.properties.block)}
else{this.block.replaceClass(classname,this.properties.block)}}
this.modal.close();this.properties.showOnClick(!1)},showOnClick:function(e)
{if(e!==!1)
{e.preventDefault()}
var zindex=(typeof this.fullscreen!=='undefined'&&this.fullscreen.isOpen)?1052:99;this.properties.block=this.selection.block();if(!this.properties.block||!this.utils.isRedactorParent(this.properties.block)||this.utils.isCurrentOrParent(['figure','li']))
{return}
var pos=$(this.properties.block).offset();var classname=this.properties.showOnClickClass(pos,zindex);this.properties.showOnClickId(pos,zindex,classname)},showOnClickId:function(pos,zindex,classname)
{var id=$(this.properties.block).attr('id');if(this.opts.properties.show&&this.opts.properties.id&&typeof id!=='undefined'&&id!=='')
{setTimeout($.proxy(function()
{var width=(this.opts.properties.classname&&typeof classname!=='undefined'&&classname!=='')?this.properties.labelClass.innerWidth():-3;this.properties.labelId.css({zIndex:zindex,top:pos.top-13,left:pos.left+width}).show().text('#'+id)},this),10)}},showOnClickClass:function(pos,zindex)
{var classname=$(this.properties.block).attr('class');if(this.opts.properties.show&&this.opts.properties.classname&&typeof classname!=='undefined'&&classname!=='')
{this.properties.labelClass.css({zIndex:zindex,top:pos.top-13,left:pos.left-3}).show().text(classname)}
return classname},hideOnBlur:function(e)
{if(e.target===this.properties.block)
{return}
this.properties.hideOnBlurId();this.properties.hideOnBlurClass()},hideOnBlurId:function()
{if(this.opts.properties.show&&this.opts.properties.id)
{this.properties.labelId.css('z-index',99).hide()}},hideOnBlurClass:function()
{if(this.opts.properties.show&&this.opts.properties.classname)
{this.properties.labelClass.css('z-index',99).hide()}}}}})(jQuery);(function($)
{$.Redactor.prototype.alignment=function()
{return{langs:{en:{"align":"Align","align-left":"Align Left","align-center":"Align Center","align-right":"Align Right","align-justify":"Align Justify",}},init:function()
{var that=this;var dropdown={};dropdown.left={title:that.lang.get('align-left'),func:that.alignment.setLeft};dropdown.center={title:that.lang.get('align-center'),func:that.alignment.setCenter};dropdown.right={title:that.lang.get('align-right'),func:that.alignment.setRight};dropdown.justify={title:that.lang.get('align-justify'),func:that.alignment.setJustify};var button=this.button.add('alignment',this.lang.get('align'));this.button.setIcon(button,'<i class="re-icon-alignment"></i>');this.button.addDropdown(button,dropdown)},removeAlign:function()
{this.block.removeClass('text-center');this.block.removeClass('text-right')},setLeft:function()
{this.buffer.set();this.alignment.removeAlign()},setCenter:function()
{this.buffer.set();this.alignment.removeAlign();this.block.addClass('text-center')},setRight:function()
{this.buffer.set();this.alignment.removeAlign();this.block.addClass('text-right')},setJustify:function()
{this.buffer.set();this.alignment.removeAlign();this.block.addClass('text-justify')}}}})(jQuery);(function(root,factory){if(typeof define==='function'&&define.amd){define('sifter',factory)}else if(typeof exports==='object'){module.exports=factory()}else{root.Sifter=factory()}}(this,function(){var Sifter=function(items,settings){this.items=items;this.settings=settings||{diacritics:!0}};Sifter.prototype.tokenize=function(query){query=trim(String(query||'').toLowerCase());if(!query||!query.length)return[];var i,n,regex,letter;var tokens=[];var words=query.split(/ +/);for(i=0,n=words.length;i<n;i++){regex=escape_regex(words[i]);if(this.settings.diacritics){for(letter in DIACRITICS){if(DIACRITICS.hasOwnProperty(letter)){regex=regex.replace(new RegExp(letter,'g'),DIACRITICS[letter])}}}
tokens.push({string:words[i],regex:new RegExp(regex,'i')})}
return tokens};Sifter.prototype.iterator=function(object,callback){var iterator;if(is_array(object)){iterator=Array.prototype.forEach||function(callback){for(var i=0,n=this.length;i<n;i++){callback(this[i],i,this)}}}else{iterator=function(callback){for(var key in this){if(this.hasOwnProperty(key)){callback(this[key],key,this)}}}}
iterator.apply(object,[callback])};Sifter.prototype.getScoreFunction=function(search,options){var self,fields,tokens,token_count,nesting;self=this;search=self.prepareSearch(search,options);tokens=search.tokens;fields=search.options.fields;token_count=tokens.length;nesting=search.options.nesting;var scoreValue=function(value,token){var score,pos;if(!value)return 0;value=String(value||'');pos=value.search(token.regex);if(pos===-1)return 0;score=token.string.length/value.length;if(pos===0)score+=0.5;return score};var scoreObject=(function(){var field_count=fields.length;if(!field_count){return function(){return 0}}
if(field_count===1){return function(token,data){return scoreValue(getattr(data,fields[0],nesting),token)}}
return function(token,data){for(var i=0,sum=0;i<field_count;i++){sum+=scoreValue(getattr(data,fields[i],nesting),token)}
return sum/field_count}})();if(!token_count){return function(){return 0}}
if(token_count===1){return function(data){return scoreObject(tokens[0],data)}}
if(search.options.conjunction==='and'){return function(data){var score;for(var i=0,sum=0;i<token_count;i++){score=scoreObject(tokens[i],data);if(score<=0)return 0;sum+=score}
return sum/token_count}}else{return function(data){for(var i=0,sum=0;i<token_count;i++){sum+=scoreObject(tokens[i],data)}
return sum/token_count}}};Sifter.prototype.getSortFunction=function(search,options){var i,n,self,field,fields,fields_count,multiplier,multipliers,get_field,implicit_score,sort;self=this;search=self.prepareSearch(search,options);sort=(!search.query&&options.sort_empty)||options.sort;get_field=function(name,result){if(name==='$score')return result.score;return getattr(self.items[result.id],name,options.nesting)};fields=[];if(sort){for(i=0,n=sort.length;i<n;i++){if(search.query||sort[i].field!=='$score'){fields.push(sort[i])}}}
if(search.query){implicit_score=!0;for(i=0,n=fields.length;i<n;i++){if(fields[i].field==='$score'){implicit_score=!1;break}}
if(implicit_score){fields.unshift({field:'$score',direction:'desc'})}}else{for(i=0,n=fields.length;i<n;i++){if(fields[i].field==='$score'){fields.splice(i,1);break}}}
multipliers=[];for(i=0,n=fields.length;i<n;i++){multipliers.push(fields[i].direction==='desc'?-1:1)}
fields_count=fields.length;if(!fields_count){return null}else if(fields_count===1){field=fields[0].field;multiplier=multipliers[0];return function(a,b){return multiplier*cmp(get_field(field,a),get_field(field,b))}}else{return function(a,b){var i,result,a_value,b_value,field;for(i=0;i<fields_count;i++){field=fields[i].field;result=multipliers[i]*cmp(get_field(field,a),get_field(field,b));if(result)return result}
return 0}}};Sifter.prototype.prepareSearch=function(query,options){if(typeof query==='object')return query;options=extend({},options);var option_fields=options.fields;var option_sort=options.sort;var option_sort_empty=options.sort_empty;if(option_fields&&!is_array(option_fields))options.fields=[option_fields];if(option_sort&&!is_array(option_sort))options.sort=[option_sort];if(option_sort_empty&&!is_array(option_sort_empty))options.sort_empty=[option_sort_empty];return{options:options,query:String(query||'').toLowerCase(),tokens:this.tokenize(query),total:0,items:[]}};Sifter.prototype.search=function(query,options){var self=this,value,score,search,calculateScore;var fn_sort;var fn_score;search=this.prepareSearch(query,options);options=search.options;query=search.query;fn_score=options.score||self.getScoreFunction(search);if(query.length){self.iterator(self.items,function(item,id){score=fn_score(item);if(options.filter===!1||score>0){search.items.push({'score':score,'id':id})}})}else{self.iterator(self.items,function(item,id){search.items.push({'score':1,'id':id})})}
fn_sort=self.getSortFunction(search,options);if(fn_sort)search.items.sort(fn_sort);search.total=search.items.length;if(typeof options.limit==='number'){search.items=search.items.slice(0,options.limit)}
return search};var cmp=function(a,b){if(typeof a==='number'&&typeof b==='number'){return a>b?1:(a<b?-1:0)}
a=asciifold(String(a||''));b=asciifold(String(b||''));if(a>b)return 1;if(b>a)return-1;return 0};var extend=function(a,b){var i,n,k,object;for(i=1,n=arguments.length;i<n;i++){object=arguments[i];if(!object)continue;for(k in object){if(object.hasOwnProperty(k)){a[k]=object[k]}}}
return a};var getattr=function(obj,name,nesting){if(!obj||!name)return;if(!nesting)return obj[name];var names=name.split(".");while(names.length&&(obj=obj[names.shift()]));return obj};var trim=function(str){return(str+'').replace(/^\s+|\s+$|/g,'')};var escape_regex=function(str){return(str+'').replace(/([.?*+^$[\]\\(){}|-])/g,'\\$1')};var is_array=Array.isArray||(typeof $!=='undefined'&&$.isArray)||function(object){return Object.prototype.toString.call(object)==='[object Array]'};var DIACRITICS={'a':'[a]','b':'[bB]','c':'[cCc]','d':'[dDd]','e':'[e]','f':'[f]','g':'[g]','h':'[h]','i':'[iiI]','j':'[j]','k':'[k]','l':'[l]','n':'[nNn]','o':'[o]','p':'[p]','q':'[qq]','r':'[r]','s':'[sSs]','t':'[t]','u':'[u]','v':'[v]','w':'[w]','x':'[x]','y':'[y]','z':'[z]'};var asciifold=(function(){var i,n,k,chunk;var foreignletters='';var lookup={};for(k in DIACRITICS){if(DIACRITICS.hasOwnProperty(k)){chunk=DIACRITICS[k].substring(2,DIACRITICS[k].length-1);foreignletters+=chunk;for(i=0,n=chunk.length;i<n;i++){lookup[chunk.charAt(i)]=k}}}
var regexp=new RegExp('['+foreignletters+']','g');return function(str){return str.replace(regexp,function(foreignletter){return lookup[foreignletter]}).toLowerCase()}})();return Sifter}));(function(root,factory){if(typeof define==='function'&&define.amd){define('microplugin',factory)}else if(typeof exports==='object'){module.exports=factory()}else{root.MicroPlugin=factory()}}(this,function(){var MicroPlugin={};MicroPlugin.mixin=function(Interface){Interface.plugins={};Interface.prototype.initializePlugins=function(plugins){var i,n,key;var self=this;var queue=[];self.plugins={names:[],settings:{},requested:{},loaded:{}};if(utils.isArray(plugins)){for(i=0,n=plugins.length;i<n;i++){if(typeof plugins[i]==='string'){queue.push(plugins[i])}else{self.plugins.settings[plugins[i].name]=plugins[i].options;queue.push(plugins[i].name)}}}else if(plugins){for(key in plugins){if(plugins.hasOwnProperty(key)){self.plugins.settings[key]=plugins[key];queue.push(key)}}}
while(queue.length){self.require(queue.shift())}};Interface.prototype.loadPlugin=function(name){var self=this;var plugins=self.plugins;var plugin=Interface.plugins[name];if(!Interface.plugins.hasOwnProperty(name)){throw new Error('Unable to find "'+name+'" plugin')}
plugins.requested[name]=!0;plugins.loaded[name]=plugin.fn.apply(self,[self.plugins.settings[name]||{}]);plugins.names.push(name)};Interface.prototype.require=function(name){var self=this;var plugins=self.plugins;if(!self.plugins.loaded.hasOwnProperty(name)){if(plugins.requested[name]){throw new Error('Plugin has circular dependency ("'+name+'")')}
self.loadPlugin(name)}
return plugins.loaded[name]};Interface.define=function(name,fn){Interface.plugins[name]={'name':name,'fn':fn}}};var utils={isArray:Array.isArray||function(vArg){return Object.prototype.toString.call(vArg)==='[object Array]'}};return MicroPlugin}));(function(root,factory){if(typeof define==='function'&&define.amd){define('selectize',['jquery','sifter','microplugin'],factory)}else if(typeof exports==='object'){module.exports=factory(require('jquery'),require('sifter'),require('microplugin'))}else{root.Selectize=factory(root.jQuery,root.Sifter,root.MicroPlugin)}}(this,function($,Sifter,MicroPlugin){'use strict';var highlight=function($element,pattern){if(typeof pattern==='string'&&!pattern.length)return;var regex=(typeof pattern==='string')?new RegExp(pattern,'i'):pattern;var highlight=function(node){var skip=0;if(node.nodeType===3){var pos=node.data.search(regex);if(pos>=0&&node.data.length>0){var match=node.data.match(regex);var spannode=document.createElement('span');spannode.className='highlight';var middlebit=node.splitText(pos);var endbit=middlebit.splitText(match[0].length);var middleclone=middlebit.cloneNode(!0);spannode.appendChild(middleclone);middlebit.parentNode.replaceChild(spannode,middlebit);skip=1}}else if(node.nodeType===1&&node.childNodes&&!/(script|style)/i.test(node.tagName)){for(var i=0;i<node.childNodes.length;++i){i+=highlight(node.childNodes[i])}}
return skip};return $element.each(function(){highlight(this)})};$.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var parent=this.parentNode;parent.replaceChild(this.firstChild,this);parent.normalize()}).end()};var MicroEvent=function(){};MicroEvent.prototype={on:function(event,fct){this._events=this._events||{};this._events[event]=this._events[event]||[];this._events[event].push(fct)},off:function(event,fct){var n=arguments.length;if(n===0)return delete this._events;if(n===1)return delete this._events[event];this._events=this._events||{};if(event in this._events===!1)return;this._events[event].splice(this._events[event].indexOf(fct),1)},trigger:function(event){this._events=this._events||{};if(event in this._events===!1)return;for(var i=0;i<this._events[event].length;i++){this._events[event][i].apply(this,Array.prototype.slice.call(arguments,1))}}};MicroEvent.mixin=function(destObject){var props=['on','off','trigger'];for(var i=0;i<props.length;i++){destObject.prototype[props[i]]=MicroEvent.prototype[props[i]]}};var IS_MAC=/Mac/.test(navigator.userAgent);var KEY_A=65;var KEY_COMMA=188;var KEY_RETURN=13;var KEY_ESC=27;var KEY_LEFT=37;var KEY_UP=38;var KEY_P=80;var KEY_RIGHT=39;var KEY_DOWN=40;var KEY_N=78;var KEY_BACKSPACE=8;var KEY_DELETE=46;var KEY_SHIFT=16;var KEY_CMD=IS_MAC?91:17;var KEY_CTRL=IS_MAC?18:17;var KEY_TAB=9;var TAG_SELECT=1;var TAG_INPUT=2;var SUPPORTS_VALIDITY_API=!/android/i.test(window.navigator.userAgent)&&!!document.createElement('input').validity;var isset=function(object){return typeof object!=='undefined'};var hash_key=function(value){if(typeof value==='undefined'||value===null)return null;if(typeof value==='boolean')return value?'1':'0';return value+''};var escape_html=function(str){return(str+'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;')};var escape_replace=function(str){return(str+'').replace(/\$/g,'$$$$')};var hook={};hook.before=function(self,method,fn){var original=self[method];self[method]=function(){fn.apply(self,arguments);return original.apply(self,arguments)}};hook.after=function(self,method,fn){var original=self[method];self[method]=function(){var result=original.apply(self,arguments);fn.apply(self,arguments);return result}};var once=function(fn){var called=!1;return function(){if(called)return;called=!0;fn.apply(this,arguments)}};var debounce=function(fn,delay){var timeout;return function(){var self=this;var args=arguments;window.clearTimeout(timeout);timeout=window.setTimeout(function(){fn.apply(self,args)},delay)}};var debounce_events=function(self,types,fn){var type;var trigger=self.trigger;var event_args={};self.trigger=function(){var type=arguments[0];if(types.indexOf(type)!==-1){event_args[type]=arguments}else{return trigger.apply(self,arguments)}};fn.apply(self,[]);self.trigger=trigger;for(type in event_args){if(event_args.hasOwnProperty(type)){trigger.apply(self,event_args[type])}}};var watchChildEvent=function($parent,event,selector,fn){$parent.on(event,selector,function(e){var child=e.target;while(child&&child.parentNode!==$parent[0]){child=child.parentNode}
e.currentTarget=child;return fn.apply(this,[e])})};var getSelection=function(input){var result={};if('selectionStart' in input){result.start=input.selectionStart;result.length=input.selectionEnd-result.start}else if(document.selection){input.focus();var sel=document.selection.createRange();var selLen=document.selection.createRange().text.length;sel.moveStart('character',-input.value.length);result.start=sel.text.length-selLen;result.length=selLen}
return result};var transferStyles=function($from,$to,properties){var i,n,styles={};if(properties){for(i=0,n=properties.length;i<n;i++){styles[properties[i]]=$from.css(properties[i])}}else{styles=$from.css()}
$to.css(styles)};var measureString=function(str,$parent){if(!str){return 0}
var $test=$('<test>').css({position:'absolute',top:-99999,left:-99999,width:'auto',padding:0,whiteSpace:'pre'}).text(str).appendTo('body');transferStyles($parent,$test,['letterSpacing','fontSize','fontFamily','fontWeight','textTransform']);var width=$test.width();$test.remove();return width};var autoGrow=function($input){var currentWidth=null;var update=function(e,options){var value,keyCode,printable,placeholder,width;var shift,character,selection;e=e||window.event||{};options=options||{};if(e.metaKey||e.altKey)return;if(!options.force&&$input.data('grow')===!1)return;value=$input.val();if(e.type&&e.type.toLowerCase()==='keydown'){keyCode=e.keyCode;printable=((keyCode>=97&&keyCode<=122)||(keyCode>=65&&keyCode<=90)||(keyCode>=48&&keyCode<=57)||keyCode===32);if(keyCode===KEY_DELETE||keyCode===KEY_BACKSPACE){selection=getSelection($input[0]);if(selection.length){value=value.substring(0,selection.start)+value.substring(selection.start+selection.length)}else if(keyCode===KEY_BACKSPACE&&selection.start){value=value.substring(0,selection.start-1)+value.substring(selection.start+1)}else if(keyCode===KEY_DELETE&&typeof selection.start!=='undefined'){value=value.substring(0,selection.start)+value.substring(selection.start+1)}}else if(printable){shift=e.shiftKey;character=String.fromCharCode(e.keyCode);if(shift)character=character.toUpperCase();else character=character.toLowerCase();value+=character}}
placeholder=$input.attr('placeholder');if(!value&&placeholder){value=placeholder}
width=measureString(value,$input)+4;if(width!==currentWidth){currentWidth=width;$input.width(width);$input.triggerHandler('resize')}};$input.on('keydown keyup update blur',update);update()};var domToString=function(d){var tmp=document.createElement('div');tmp.appendChild(d.cloneNode(!0));return tmp.innerHTML};var logError=function(message,options){if(!options)options={};var component="Selectize";console.error(component+": "+message)
if(options.explanation){if(console.group)console.group();console.error(options.explanation);if(console.group)console.groupEnd()}}
var Selectize=function($input,settings){var key,i,n,dir,input,self=this;input=$input[0];input.selectize=self;var computedStyle=window.getComputedStyle&&window.getComputedStyle(input,null);dir=computedStyle?computedStyle.getPropertyValue('direction'):input.currentStyle&&input.currentStyle.direction;dir=dir||$input.parents('[dir]:first').attr('dir')||'';$.extend(self,{order:0,settings:settings,$input:$input,tabIndex:$input.attr('tabindex')||'',tagType:input.tagName.toLowerCase()==='select'?TAG_SELECT:TAG_INPUT,rtl:/rtl/i.test(dir),eventNS:'.selectize'+(++Selectize.count),highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:$input.is('[required]'),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:'',caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:settings.loadThrottle===null?self.onSearchChange:debounce(self.onSearchChange,settings.loadThrottle)});self.sifter=new Sifter(this.options,{diacritics:settings.diacritics});if(self.settings.options){for(i=0,n=self.settings.options.length;i<n;i++){self.registerOption(self.settings.options[i])}
delete self.settings.options}
if(self.settings.optgroups){for(i=0,n=self.settings.optgroups.length;i<n;i++){self.registerOptionGroup(self.settings.optgroups[i])}
delete self.settings.optgroups}
self.settings.mode=self.settings.mode||(self.settings.maxItems===1?'single':'multi');if(typeof self.settings.hideSelected!=='boolean'){self.settings.hideSelected=self.settings.mode==='multi'}
self.initializePlugins(self.settings.plugins);self.setupCallbacks();self.setupTemplates();self.setup()};MicroEvent.mixin(Selectize);if(typeof MicroPlugin!=="undefined"){MicroPlugin.mixin(Selectize)}else{logError("Dependency MicroPlugin is missing",{explanation:"Make sure you either: (1) are using the \"standalone\" "+"version of Selectize, or (2) require MicroPlugin before you "+"load Selectize."})}
$.extend(Selectize.prototype,{setup:function(){var self=this;var settings=self.settings;var eventNS=self.eventNS;var $window=$(window);var $document=$(document);var $input=self.$input;var $wrapper;var $control;var $control_input;var $dropdown;var $dropdown_content;var $dropdown_parent;var inputMode;var timeout_blur;var timeout_focus;var classes;var classes_plugins;var inputId;inputMode=self.settings.mode;classes=$input.attr('class')||'';$wrapper=$('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);$control=$('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);$control_input=$('<input type="text" autocomplete="off" />').appendTo($control).attr('tabindex',$input.is(':disabled')?'-1':self.tabIndex);$dropdown_parent=$(settings.dropdownParent||$wrapper);$dropdown=$('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);$dropdown_content=$('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);if(inputId=$input.attr('id')){$control_input.attr('id',inputId+'-selectized');$("label[for='"+inputId+"']").attr('for',inputId+'-selectized')}
if(self.settings.copyClassesToDropdown){$dropdown.addClass(classes)}
$wrapper.css({width:$input[0].style.width});if(self.plugins.names.length){classes_plugins='plugin-'+self.plugins.names.join(' plugin-');$wrapper.addClass(classes_plugins);$dropdown.addClass(classes_plugins)}
if((settings.maxItems===null||settings.maxItems>1)&&self.tagType===TAG_SELECT){$input.attr('multiple','multiple')}
if(self.settings.placeholder){$control_input.attr('placeholder',settings.placeholder)}
if(!self.settings.splitOn&&self.settings.delimiter){var delimiterEscaped=self.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');self.settings.splitOn=new RegExp('\\s*'+delimiterEscaped+'+\\s*')}
if($input.attr('autocorrect')){$control_input.attr('autocorrect',$input.attr('autocorrect'))}
if($input.attr('autocapitalize')){$control_input.attr('autocapitalize',$input.attr('autocapitalize'))}
self.$wrapper=$wrapper;self.$control=$control;self.$control_input=$control_input;self.$dropdown=$dropdown;self.$dropdown_content=$dropdown_content;$dropdown.on('mouseenter','[data-selectable]',function(){return self.onOptionHover.apply(self,arguments)});$dropdown.on('mousedown click','[data-selectable]',function(){return self.onOptionSelect.apply(self,arguments)});watchChildEvent($control,'mousedown','*:not(input)',function(){return self.onItemSelect.apply(self,arguments)});autoGrow($control_input);$control.on({mousedown:function(){return self.onMouseDown.apply(self,arguments)},click:function(){return self.onClick.apply(self,arguments)}});$control_input.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return self.onKeyDown.apply(self,arguments)},keyup:function(){return self.onKeyUp.apply(self,arguments)},keypress:function(){return self.onKeyPress.apply(self,arguments)},resize:function(){self.positionDropdown.apply(self,[])},blur:function(){return self.onBlur.apply(self,arguments)},focus:function(){self.ignoreBlur=!1;return self.onFocus.apply(self,arguments)},paste:function(){return self.onPaste.apply(self,arguments)}});$document.on('keydown'+eventNS,function(e){self.isCmdDown=e[IS_MAC?'metaKey':'ctrlKey'];self.isCtrlDown=e[IS_MAC?'altKey':'ctrlKey'];self.isShiftDown=e.shiftKey});$document.on('keyup'+eventNS,function(e){if(e.keyCode===KEY_CTRL)self.isCtrlDown=!1;if(e.keyCode===KEY_SHIFT)self.isShiftDown=!1;if(e.keyCode===KEY_CMD)self.isCmdDown=!1});$document.on('mousedown'+eventNS,function(e){if(self.isFocused){if(e.target===self.$dropdown[0]||e.target.parentNode===self.$dropdown[0]){return!1}
if(!self.$control.has(e.target).length&&e.target!==self.$control[0]){self.blur(e.target)}}});$window.on(['scroll'+eventNS,'resize'+eventNS].join(' '),function(){if(self.isOpen){self.positionDropdown.apply(self,arguments)}});$window.on('mousemove'+eventNS,function(){self.ignoreHover=!1});this.revertSettings={$children:$input.children().detach(),tabindex:$input.attr('tabindex')};$input.attr('tabindex',-1).hide().after(self.$wrapper);if($.isArray(settings.items)){self.setValue(settings.items);delete settings.items}
if(SUPPORTS_VALIDITY_API){$input.on('invalid'+eventNS,function(e){e.preventDefault();self.isInvalid=!0;self.refreshState()})}
self.updateOriginalInput();self.refreshItems();self.refreshState();self.updatePlaceholder();self.isSetup=!0;if($input.is(':disabled')){self.disable()}
self.on('change',this.onChange);$input.data('selectize',self);$input.addClass('selectized');self.trigger('initialize');if(settings.preload===!0){self.onSearchChange('')}},setupTemplates:function(){var self=this;var field_label=self.settings.labelField;var field_optgroup=self.settings.optgroupLabelField;var templates={'optgroup':function(data){return '<div class="optgroup">'+data.html+'</div>'},'optgroup_header':function(data,escape){return '<div class="optgroup-header">'+escape(data[field_optgroup])+'</div>'},'option':function(data,escape){return '<div class="option">'+escape(data[field_label])+'</div>'},'item':function(data,escape){return '<div class="item">'+escape(data[field_label])+'</div>'},'option_create':function(data,escape){return '<div class="create">Add <strong>'+escape(data.input)+'</strong>&hellip;</div>'}};self.settings.render=$.extend({},templates,self.settings.render)},setupCallbacks:function(){var key,fn,callbacks={'initialize':'onInitialize','change':'onChange','item_add':'onItemAdd','item_remove':'onItemRemove','clear':'onClear','option_add':'onOptionAdd','option_remove':'onOptionRemove','option_clear':'onOptionClear','optgroup_add':'onOptionGroupAdd','optgroup_remove':'onOptionGroupRemove','optgroup_clear':'onOptionGroupClear','dropdown_open':'onDropdownOpen','dropdown_close':'onDropdownClose','type':'onType','load':'onLoad','focus':'onFocus','blur':'onBlur'};for(key in callbacks){if(callbacks.hasOwnProperty(key)){fn=this.settings[callbacks[key]];if(fn)this.on(key,fn)}}},onClick:function(e){var self=this;if(!self.isFocused){self.focus();e.preventDefault()}},onMouseDown:function(e){var self=this;var defaultPrevented=e.isDefaultPrevented();var $target=$(e.target);if(self.isFocused){if(e.target!==self.$control_input[0]){if(self.settings.mode==='single'){self.isOpen?self.close():self.open()}else if(!defaultPrevented){self.setActiveItem(null)}
return!1}}else{if(!defaultPrevented){window.setTimeout(function(){self.focus()},0)}}},onChange:function(){this.$input.trigger('change')},onPaste:function(e){var self=this;if(self.isFull()||self.isInputHidden||self.isLocked){e.preventDefault();return}
if(self.settings.splitOn){setTimeout(function(){var pastedText=self.$control_input.val();if(!pastedText.match(self.settings.splitOn)){return}
var splitInput=$.trim(pastedText).split(self.settings.splitOn);for(var i=0,n=splitInput.length;i<n;i++){self.createItem(splitInput[i])}},0)}},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var character=String.fromCharCode(e.keyCode||e.which);if(this.settings.create&&this.settings.mode==='multi'&&character===this.settings.delimiter){this.createItem();e.preventDefault();return!1}},onKeyDown:function(e){var isInput=e.target===this.$control_input[0];var self=this;if(self.isLocked){if(e.keyCode!==KEY_TAB){e.preventDefault()}
return}
switch(e.keyCode){case KEY_A:if(self.isCmdDown){self.selectAll();return}
break;case KEY_ESC:if(self.isOpen){e.preventDefault();e.stopPropagation();self.close()}
return;case KEY_N:if(!e.ctrlKey||e.altKey)break;case KEY_DOWN:if(!self.isOpen&&self.hasOptions){self.open()}else if(self.$activeOption){self.ignoreHover=!0;var $next=self.getAdjacentOption(self.$activeOption,1);if($next.length)self.setActiveOption($next,!0,!0)}
e.preventDefault();return;case KEY_P:if(!e.ctrlKey||e.altKey)break;case KEY_UP:if(self.$activeOption){self.ignoreHover=!0;var $prev=self.getAdjacentOption(self.$activeOption,-1);if($prev.length)self.setActiveOption($prev,!0,!0)}
e.preventDefault();return;case KEY_RETURN:if(self.isOpen&&self.$activeOption){self.onOptionSelect({currentTarget:self.$activeOption});e.preventDefault()}
return;case KEY_LEFT:self.advanceSelection(-1,e);return;case KEY_RIGHT:self.advanceSelection(1,e);return;case KEY_TAB:if(self.settings.selectOnTab&&self.isOpen&&self.$activeOption){self.onOptionSelect({currentTarget:self.$activeOption});if(!self.isFull()){e.preventDefault()}}
if(self.settings.create&&self.createItem()){e.preventDefault()}
return;case KEY_BACKSPACE:case KEY_DELETE:self.deleteSelection(e);return}
if((self.isFull()||self.isInputHidden)&&!(IS_MAC?e.metaKey:e.ctrlKey)){e.preventDefault();return}},onKeyUp:function(e){var self=this;if(self.isLocked)return e&&e.preventDefault();var value=self.$control_input.val()||'';if(self.lastValue!==value){self.lastValue=value;self.onSearchChange(value);self.refreshOptions();self.trigger('type',value)}},onSearchChange:function(value){var self=this;var fn=self.settings.load;if(!fn)return;if(self.loadedSearches.hasOwnProperty(value))return;self.loadedSearches[value]=!0;self.load(function(callback){fn.apply(self,[value,callback])})},onFocus:function(e){var self=this;var wasFocused=self.isFocused;if(self.isDisabled){self.blur();e&&e.preventDefault();return!1}
if(self.ignoreFocus)return;self.isFocused=!0;if(self.settings.preload==='focus')self.onSearchChange('');if(!wasFocused)self.trigger('focus');if(!self.$activeItems.length){self.showInput();self.setActiveItem(null);self.refreshOptions(!!self.settings.openOnFocus)}
self.refreshState()},onBlur:function(e,dest){var self=this;if(!self.isFocused)return;self.isFocused=!1;if(self.ignoreFocus){return}else if(!self.ignoreBlur&&document.activeElement===self.$dropdown_content[0]){self.ignoreBlur=!0;self.onFocus(e);return}
var deactivate=function(){self.close();self.setTextboxValue('');self.setActiveItem(null);self.setActiveOption(null);self.setCaret(self.items.length);self.refreshState();dest&&dest.focus&&dest.focus();self.ignoreFocus=!1;self.trigger('blur')};self.ignoreFocus=!0;if(self.settings.create&&self.settings.createOnBlur){self.createItem(null,!1,deactivate)}else{deactivate()}},onOptionHover:function(e){if(this.ignoreHover)return;this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var value,$target,$option,self=this;if(e.preventDefault){e.preventDefault();e.stopPropagation()}
$target=$(e.currentTarget);if($target.hasClass('create')){self.createItem(null,function(){if(self.settings.closeAfterSelect){self.close()}})}else{value=$target.attr('data-value');if(typeof value!=='undefined'){self.lastQuery=null;self.setTextboxValue('');self.addItem(value);if(self.settings.closeAfterSelect){self.close()}else if(!self.settings.hideSelected&&e.type&&/mouse/.test(e.type)){self.setActiveOption(self.getOption(value))}}}},onItemSelect:function(e){var self=this;if(self.isLocked)return;if(self.settings.mode==='multi'){e.preventDefault();self.setActiveItem(e.currentTarget,e)}},load:function(fn){var self=this;var $wrapper=self.$wrapper.addClass(self.settings.loadingClass);self.loading++;fn.apply(self,[function(results){self.loading=Math.max(self.loading-1,0);if(results&&results.length){self.addOption(results);self.refreshOptions(self.isFocused&&!self.isInputHidden)}
if(!self.loading){$wrapper.removeClass(self.settings.loadingClass)}
self.trigger('load',results)}])},setTextboxValue:function(value){var $input=this.$control_input;var changed=$input.val()!==value;if(changed){$input.val(value).triggerHandler('update');this.lastValue=value}},getValue:function(){if(this.tagType===TAG_SELECT&&this.$input.attr('multiple')){return this.items}else{return this.items.join(this.settings.delimiter)}},setValue:function(value,silent){var events=silent?[]:['change'];debounce_events(this,events,function(){this.clear(silent);this.addItems(value,silent)})},setActiveItem:function($item,e){var self=this;var eventName;var i,idx,begin,end,item,swap;var $last;if(self.settings.mode==='single')return;$item=$($item);if(!$item.length){$(self.$activeItems).removeClass('active');self.$activeItems=[];if(self.isFocused){self.showInput()}
return}
eventName=e&&e.type.toLowerCase();if(eventName==='mousedown'&&self.isShiftDown&&self.$activeItems.length){$last=self.$control.children('.active:last');begin=Array.prototype.indexOf.apply(self.$control[0].childNodes,[$last[0]]);end=Array.prototype.indexOf.apply(self.$control[0].childNodes,[$item[0]]);if(begin>end){swap=begin;begin=end;end=swap}
for(i=begin;i<=end;i++){item=self.$control[0].childNodes[i];if(self.$activeItems.indexOf(item)===-1){$(item).addClass('active');self.$activeItems.push(item)}}
e.preventDefault()}else if((eventName==='mousedown'&&self.isCtrlDown)||(eventName==='keydown'&&this.isShiftDown)){if($item.hasClass('active')){idx=self.$activeItems.indexOf($item[0]);self.$activeItems.splice(idx,1);$item.removeClass('active')}else{self.$activeItems.push($item.addClass('active')[0])}}else{$(self.$activeItems).removeClass('active');self.$activeItems=[$item.addClass('active')[0]]}
self.hideInput();if(!this.isFocused){self.focus()}},setActiveOption:function($option,scroll,animate){var height_menu,height_item,y;var scroll_top,scroll_bottom;var self=this;if(self.$activeOption)self.$activeOption.removeClass('active');self.$activeOption=null;$option=$($option);if(!$option.length)return;self.$activeOption=$option.addClass('active');if(scroll||!isset(scroll)){height_menu=self.$dropdown_content.height();height_item=self.$activeOption.outerHeight(!0);scroll=self.$dropdown_content.scrollTop()||0;y=self.$activeOption.offset().top-self.$dropdown_content.offset().top+scroll;scroll_top=y;scroll_bottom=y-height_menu+height_item;if(y+height_item>height_menu+scroll){self.$dropdown_content.stop().animate({scrollTop:scroll_bottom},animate?self.settings.scrollDuration:0)}else if(y<scroll){self.$dropdown_content.stop().animate({scrollTop:scroll_top},animate?self.settings.scrollDuration:0)}}},selectAll:function(){var self=this;if(self.settings.mode==='single')return;self.$activeItems=Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));if(self.$activeItems.length){self.hideInput();self.close()}
self.focus()},hideInput:function(){var self=this;self.setTextboxValue('');self.$control_input.css({opacity:0,position:'absolute',left:self.rtl?10000:-10000});self.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:'relative',left:0});this.isInputHidden=!1},focus:function(){var self=this;if(self.isDisabled)return;self.ignoreFocus=!0;self.$control_input[0].focus();window.setTimeout(function(){self.ignoreFocus=!1;self.onFocus()},0)},blur:function(dest){this.$control_input[0].blur();this.onBlur(null,dest)},getScoreFunction:function(query){return this.sifter.getScoreFunction(query,this.getSearchOptions())},getSearchOptions:function(){var settings=this.settings;var sort=settings.sortField;if(typeof sort==='string'){sort=[{field:sort}]}
return{fields:settings.searchField,conjunction:settings.searchConjunction,sort:sort}},search:function(query){var i,value,score,result,calculateScore;var self=this;var settings=self.settings;var options=this.getSearchOptions();if(settings.score){calculateScore=self.settings.score.apply(this,[query]);if(typeof calculateScore!=='function'){throw new Error('Selectize "score" setting must be a function that returns a function')}}
if(query!==self.lastQuery){self.lastQuery=query;result=self.sifter.search(query,$.extend(options,{score:calculateScore}));self.currentResults=result}else{result=$.extend(!0,{},self.currentResults)}
if(settings.hideSelected){for(i=result.items.length-1;i>=0;i--){if(self.items.indexOf(hash_key(result.items[i].id))!==-1){result.items.splice(i,1)}}}
return result},refreshOptions:function(triggerDropdown){var i,j,k,n,groups,groups_order,option,option_html,optgroup,optgroups,html,html_children,has_create_option;var $active,$active_before,$create;if(typeof triggerDropdown==='undefined'){triggerDropdown=!0}
var self=this;var query=$.trim(self.$control_input.val());var results=self.search(query);var $dropdown_content=self.$dropdown_content;var active_before=self.$activeOption&&hash_key(self.$activeOption.attr('data-value'));n=results.items.length;if(typeof self.settings.maxOptions==='number'){n=Math.min(n,self.settings.maxOptions)}
groups={};groups_order=[];for(i=0;i<n;i++){option=self.options[results.items[i].id];option_html=self.render('option',option);optgroup=option[self.settings.optgroupField]||'';optgroups=$.isArray(optgroup)?optgroup:[optgroup];for(j=0,k=optgroups&&optgroups.length;j<k;j++){optgroup=optgroups[j];if(!self.optgroups.hasOwnProperty(optgroup)){optgroup=''}
if(!groups.hasOwnProperty(optgroup)){groups[optgroup]=document.createDocumentFragment();groups_order.push(optgroup)}
groups[optgroup].appendChild(option_html)}}
if(this.settings.lockOptgroupOrder){groups_order.sort(function(a,b){var a_order=self.optgroups[a].$order||0;var b_order=self.optgroups[b].$order||0;return a_order-b_order})}
html=document.createDocumentFragment();for(i=0,n=groups_order.length;i<n;i++){optgroup=groups_order[i];if(self.optgroups.hasOwnProperty(optgroup)&&groups[optgroup].childNodes.length){html_children=document.createDocumentFragment();html_children.appendChild(self.render('optgroup_header',self.optgroups[optgroup]));html_children.appendChild(groups[optgroup]);html.appendChild(self.render('optgroup',$.extend({},self.optgroups[optgroup],{html:domToString(html_children),dom:html_children})))}else{html.appendChild(groups[optgroup])}}
$dropdown_content.html(html);if(self.settings.highlight&&results.query.length&&results.tokens.length){$dropdown_content.removeHighlight();for(i=0,n=results.tokens.length;i<n;i++){highlight($dropdown_content,results.tokens[i].regex)}}
if(!self.settings.hideSelected){for(i=0,n=self.items.length;i<n;i++){self.getOption(self.items[i]).addClass('selected')}}
has_create_option=self.canCreate(query);if(has_create_option){$dropdown_content.prepend(self.render('option_create',{input:query}));$create=$($dropdown_content[0].childNodes[0])}
self.hasOptions=results.items.length>0||has_create_option;if(self.hasOptions){if(results.items.length>0){$active_before=active_before&&self.getOption(active_before);if($active_before&&$active_before.length){$active=$active_before}else if(self.settings.mode==='single'&&self.items.length){$active=self.getOption(self.items[0])}
if(!$active||!$active.length){if($create&&!self.settings.addPrecedence){$active=self.getAdjacentOption($create,1)}else{$active=$dropdown_content.find('[data-selectable]:first')}}}else{$active=$create}
self.setActiveOption($active);if(triggerDropdown&&!self.isOpen){self.open()}}else{self.setActiveOption(null);if(triggerDropdown&&self.isOpen){self.close()}}},addOption:function(data){var i,n,value,self=this;if($.isArray(data)){for(i=0,n=data.length;i<n;i++){self.addOption(data[i])}
return}
if(value=self.registerOption(data)){self.userOptions[value]=!0;self.lastQuery=null;self.trigger('option_add',value,data)}},registerOption:function(data){var key=hash_key(data[this.settings.valueField]);if(typeof key==='undefined'||key===null||this.options.hasOwnProperty(key))return!1;data.$order=data.$order||++this.order;this.options[key]=data;return key},registerOptionGroup:function(data){var key=hash_key(data[this.settings.optgroupValueField]);if(!key)return!1;data.$order=data.$order||++this.order;this.optgroups[key]=data;return key},addOptionGroup:function(id,data){data[this.settings.optgroupValueField]=id;if(id=this.registerOptionGroup(data)){this.trigger('optgroup_add',id,data)}},removeOptionGroup:function(id){if(this.optgroups.hasOwnProperty(id)){delete this.optgroups[id];this.renderCache={};this.trigger('optgroup_remove',id)}},clearOptionGroups:function(){this.optgroups={};this.renderCache={};this.trigger('optgroup_clear')},updateOption:function(value,data){var self=this;var $item,$item_new;var value_new,index_item,cache_items,cache_options,order_old;value=hash_key(value);value_new=hash_key(data[self.settings.valueField]);if(value===null)return;if(!self.options.hasOwnProperty(value))return;if(typeof value_new!=='string')throw new Error('Value must be set in option data');order_old=self.options[value].$order;if(value_new!==value){delete self.options[value];index_item=self.items.indexOf(value);if(index_item!==-1){self.items.splice(index_item,1,value_new)}}
data.$order=data.$order||order_old;self.options[value_new]=data;cache_items=self.renderCache.item;cache_options=self.renderCache.option;if(cache_items){delete cache_items[value];delete cache_items[value_new]}
if(cache_options){delete cache_options[value];delete cache_options[value_new]}
if(self.items.indexOf(value_new)!==-1){$item=self.getItem(value);$item_new=$(self.render('item',data));if($item.hasClass('active'))$item_new.addClass('active');$item.replaceWith($item_new)}
self.lastQuery=null;if(self.isOpen){self.refreshOptions(!1)}},removeOption:function(value,silent){var self=this;value=hash_key(value);var cache_items=self.renderCache.item;var cache_options=self.renderCache.option;if(cache_items)delete cache_items[value];if(cache_options)delete cache_options[value];delete self.userOptions[value];delete self.options[value];self.lastQuery=null;self.trigger('option_remove',value);self.removeItem(value,silent)},clearOptions:function(){var self=this;self.loadedSearches={};self.userOptions={};self.renderCache={};self.options=self.sifter.items={};self.lastQuery=null;self.trigger('option_clear');self.clear()},getOption:function(value){return this.getElementWithValue(value,this.$dropdown_content.find('[data-selectable]'))},getAdjacentOption:function($option,direction){var $options=this.$dropdown.find('[data-selectable]');var index=$options.index($option)+direction;return index>=0&&index<$options.length?$options.eq(index):$()},getElementWithValue:function(value,$els){value=hash_key(value);if(typeof value!=='undefined'&&value!==null){for(var i=0,n=$els.length;i<n;i++){if($els[i].getAttribute('data-value')===value){return $($els[i])}}}
return $()},getItem:function(value){return this.getElementWithValue(value,this.$control.children())},addItems:function(values,silent){var items=$.isArray(values)?values:[values];for(var i=0,n=items.length;i<n;i++){this.isPending=(i<n-1);this.addItem(items[i],silent)}},addItem:function(value,silent){var events=silent?[]:['change'];debounce_events(this,events,function(){var $item,$option,$options;var self=this;var inputMode=self.settings.mode;var i,active,value_next,wasFull;value=hash_key(value);if(self.items.indexOf(value)!==-1){if(inputMode==='single')self.close();return}
if(!self.options.hasOwnProperty(value))return;if(inputMode==='single')self.clear(silent);if(inputMode==='multi'&&self.isFull())return;$item=$(self.render('item',self.options[value]));wasFull=self.isFull();self.items.splice(self.caretPos,0,value);self.insertAtCaret($item);if(!self.isPending||(!wasFull&&self.isFull())){self.refreshState()}
if(self.isSetup){$options=self.$dropdown_content.find('[data-selectable]');if(!self.isPending){$option=self.getOption(value);value_next=self.getAdjacentOption($option,1).attr('data-value');self.refreshOptions(self.isFocused&&inputMode!=='single');if(value_next){self.setActiveOption(self.getOption(value_next))}}
if(!$options.length||self.isFull()){self.close()}else{self.positionDropdown()}
self.updatePlaceholder();self.trigger('item_add',value,$item);self.updateOriginalInput({silent:silent})}})},removeItem:function(value,silent){var self=this;var $item,i,idx;$item=(value instanceof $)?value:self.getItem(value);value=hash_key($item.attr('data-value'));i=self.items.indexOf(value);if(i!==-1){$item.remove();if($item.hasClass('active')){idx=self.$activeItems.indexOf($item[0]);self.$activeItems.splice(idx,1)}
self.items.splice(i,1);self.lastQuery=null;if(!self.settings.persist&&self.userOptions.hasOwnProperty(value)){self.removeOption(value,silent)}
if(i<self.caretPos){self.setCaret(self.caretPos-1)}
self.refreshState();self.updatePlaceholder();self.updateOriginalInput({silent:silent});self.positionDropdown();self.trigger('item_remove',value,$item)}},createItem:function(input,triggerDropdown){var self=this;var caret=self.caretPos;input=input||$.trim(self.$control_input.val()||'');var callback=arguments[arguments.length-1];if(typeof callback!=='function')callback=function(){};if(typeof triggerDropdown!=='boolean'){triggerDropdown=!0}
if(!self.canCreate(input)){callback();return!1}
self.lock();var setup=(typeof self.settings.create==='function')?this.settings.create:function(input){var data={};data[self.settings.labelField]=input;data[self.settings.valueField]=input;return data};var create=once(function(data){self.unlock();if(!data||typeof data!=='object')return callback();var value=hash_key(data[self.settings.valueField]);if(typeof value!=='string')return callback();self.setTextboxValue('');self.addOption(data);self.setCaret(caret);self.addItem(value);self.refreshOptions(triggerDropdown&&self.settings.mode!=='single');callback(data)});var output=setup.apply(this,[input,create]);if(typeof output!=='undefined'){create(output)}
return!0},refreshItems:function(){this.lastQuery=null;if(this.isSetup){this.addItem(this.items)}
this.refreshState();this.updateOriginalInput()},refreshState:function(){this.refreshValidityState();this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var invalid=!this.items.length;this.isInvalid=invalid;this.$control_input.prop('required',invalid);this.$input.prop('required',!invalid)},refreshClasses:function(){var self=this;var isFull=self.isFull();var isLocked=self.isLocked;self.$wrapper.toggleClass('rtl',self.rtl);self.$control.toggleClass('focus',self.isFocused).toggleClass('disabled',self.isDisabled).toggleClass('required',self.isRequired).toggleClass('invalid',self.isInvalid).toggleClass('locked',isLocked).toggleClass('full',isFull).toggleClass('not-full',!isFull).toggleClass('input-active',self.isFocused&&!self.isInputHidden).toggleClass('dropdown-active',self.isOpen).toggleClass('has-options',!$.isEmptyObject(self.options)).toggleClass('has-items',self.items.length>0);self.$control_input.data('grow',!isFull&&!isLocked)},isFull:function(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(opts){var i,n,options,label,self=this;opts=opts||{};if(self.tagType===TAG_SELECT){options=[];for(i=0,n=self.items.length;i<n;i++){label=self.options[self.items[i]][self.settings.labelField]||'';options.push('<option value="'+escape_html(self.items[i])+'" selected="selected">'+escape_html(label)+'</option>')}
if(!options.length&&!this.$input.attr('multiple')){options.push('<option value="" selected="selected"></option>')}
self.$input.html(options.join(''))}else{self.$input.val(self.getValue());self.$input.attr('value',self.$input.val())}
if(self.isSetup){if(!opts.silent){self.trigger('change',self.$input.val())}}},updatePlaceholder:function(){if(!this.settings.placeholder)return;var $input=this.$control_input;if(this.items.length){$input.removeAttr('placeholder')}else{$input.attr('placeholder',this.settings.placeholder)}
$input.triggerHandler('update',{force:!0})},open:function(){var self=this;if(self.isLocked||self.isOpen||(self.settings.mode==='multi'&&self.isFull()))return;self.focus();self.isOpen=!0;self.refreshState();self.$dropdown.css({visibility:'hidden',display:'block'});self.positionDropdown();self.$dropdown.css({visibility:'visible'});self.trigger('dropdown_open',self.$dropdown)},close:function(){var self=this;var trigger=self.isOpen;if(self.settings.mode==='single'&&self.items.length){self.hideInput();self.$control_input.blur()}
self.isOpen=!1;self.$dropdown.hide();self.setActiveOption(null);self.refreshState();if(trigger)self.trigger('dropdown_close',self.$dropdown)},positionDropdown:function(){var $control=this.$control;var offset=this.settings.dropdownParent==='body'?$control.offset():$control.position();offset.top+=$control.outerHeight(!0);this.$dropdown.css({width:$control.outerWidth(),top:offset.top,left:offset.left})},clear:function(silent){var self=this;if(!self.items.length)return;self.$control.children(':not(input)').remove();self.items=[];self.lastQuery=null;self.setCaret(0);self.setActiveItem(null);self.updatePlaceholder();self.updateOriginalInput({silent:silent});self.refreshState();self.showInput();self.trigger('clear')},insertAtCaret:function($el){var caret=Math.min(this.caretPos,this.items.length);if(caret===0){this.$control.prepend($el)}else{$(this.$control[0].childNodes[caret]).before($el)}
this.setCaret(caret+1)},deleteSelection:function(e){var i,n,direction,selection,values,caret,option_select,$option_select,$tail;var self=this;direction=(e&&e.keyCode===KEY_BACKSPACE)?-1:1;selection=getSelection(self.$control_input[0]);if(self.$activeOption&&!self.settings.hideSelected){option_select=self.getAdjacentOption(self.$activeOption,-1).attr('data-value')}
values=[];if(self.$activeItems.length){$tail=self.$control.children('.active:'+(direction>0?'last':'first'));caret=self.$control.children(':not(input)').index($tail);if(direction>0){caret++}
for(i=0,n=self.$activeItems.length;i<n;i++){values.push($(self.$activeItems[i]).attr('data-value'))}
if(e){e.preventDefault();e.stopPropagation()}}else if((self.isFocused||self.settings.mode==='single')&&self.items.length){if(direction<0&&selection.start===0&&selection.length===0){values.push(self.items[self.caretPos-1])}else if(direction>0&&selection.start===self.$control_input.val().length){values.push(self.items[self.caretPos])}}
if(!values.length||(typeof self.settings.onDelete==='function'&&self.settings.onDelete.apply(self,[values])===!1)){return!1}
if(typeof caret!=='undefined'){self.setCaret(caret)}
while(values.length){self.removeItem(values.pop())}
self.showInput();self.positionDropdown();self.refreshOptions(!0);if(option_select){$option_select=self.getOption(option_select);if($option_select.length){self.setActiveOption($option_select)}}
return!0},advanceSelection:function(direction,e){var tail,selection,idx,valueLength,cursorAtEdge,$tail;var self=this;if(direction===0)return;if(self.rtl)direction*=-1;tail=direction>0?'last':'first';selection=getSelection(self.$control_input[0]);if(self.isFocused&&!self.isInputHidden){valueLength=self.$control_input.val().length;cursorAtEdge=direction<0?selection.start===0&&selection.length===0:selection.start===valueLength;if(cursorAtEdge&&!valueLength){self.advanceCaret(direction,e)}}else{$tail=self.$control.children('.active:'+tail);if($tail.length){idx=self.$control.children(':not(input)').index($tail);self.setActiveItem(null);self.setCaret(direction>0?idx+1:idx)}}},advanceCaret:function(direction,e){var self=this,fn,$adj;if(direction===0)return;fn=direction>0?'next':'prev';if(self.isShiftDown){$adj=self.$control_input[fn]();if($adj.length){self.hideInput();self.setActiveItem($adj);e&&e.preventDefault()}}else{self.setCaret(self.caretPos+direction)}},setCaret:function(i){var self=this;if(self.settings.mode==='single'){i=self.items.length}else{i=Math.max(0,Math.min(self.items.length,i))}
if(!self.isPending){var j,n,fn,$children,$child;$children=self.$control.children(':not(input)');for(j=0,n=$children.length;j<n;j++){$child=$($children[j]).detach();if(j<i){self.$control_input.before($child)}else{self.$control.append($child)}}}
self.caretPos=i},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked=!1;this.refreshState()},disable:function(){var self=this;self.$input.prop('disabled',!0);self.$control_input.prop('disabled',!0).prop('tabindex',-1);self.isDisabled=!0;self.lock()},enable:function(){var self=this;self.$input.prop('disabled',!1);self.$control_input.prop('disabled',!1).prop('tabindex',self.tabIndex);self.isDisabled=!1;self.unlock()},destroy:function(){var self=this;var eventNS=self.eventNS;var revertSettings=self.revertSettings;self.trigger('destroy');self.off();self.$wrapper.remove();self.$dropdown.remove();self.$input.html('').append(revertSettings.$children).removeAttr('tabindex').removeClass('selectized').attr({tabindex:revertSettings.tabindex}).show();self.$control_input.removeData('grow');self.$input.removeData('selectize');$(window).off(eventNS);$(document).off(eventNS);$(document.body).off(eventNS);delete self.$input[0].selectize},render:function(templateName,data){var value,id,label;var html='';var cache=!1;var self=this;var regex_tag=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;if(templateName==='option'||templateName==='item'){value=hash_key(data[self.settings.valueField]);cache=!!value}
if(cache){if(!isset(self.renderCache[templateName])){self.renderCache[templateName]={}}
if(self.renderCache[templateName].hasOwnProperty(value)){return self.renderCache[templateName][value]}}
html=$(self.settings.render[templateName].apply(this,[data,escape_html]));if(templateName==='option'||templateName==='option_create'){html.attr('data-selectable','')}
else if(templateName==='optgroup'){id=data[self.settings.optgroupValueField]||'';html.attr('data-group',id)}
if(templateName==='option'||templateName==='item'){html.attr('data-value',value||'')}
if(cache){self.renderCache[templateName][value]=html[0]}
return html[0]},clearCache:function(templateName){var self=this;if(typeof templateName==='undefined'){self.renderCache={}}else{delete self.renderCache[templateName]}},canCreate:function(input){var self=this;if(!self.settings.create)return!1;var filter=self.settings.createFilter;return input.length&&(typeof filter!=='function'||filter.apply(self,[input]))&&(typeof filter!=='string'||new RegExp(filter).test(input))&&(!(filter instanceof RegExp)||filter.test(input))}});Selectize.count=0;Selectize.defaults={options:[],optgroups:[],plugins:[],delimiter:',',splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1000,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:'loading',dataAttr:'data-data',optgroupField:'optgroup',valueField:'value',labelField:'text',optgroupLabelField:'label',optgroupValueField:'value',lockOptgroupOrder:!1,sortField:'$order',searchField:['text'],searchConjunction:'and',mode:null,wrapperClass:'selectize-control',inputClass:'selectize-input',dropdownClass:'selectize-dropdown',dropdownContentClass:'selectize-dropdown-content',dropdownParent:null,copyClassesToDropdown:!0,render:{}};$.fn.selectize=function(settings_user){var defaults=$.fn.selectize.defaults;var settings=$.extend({},defaults,settings_user);var attr_data=settings.dataAttr;var field_label=settings.labelField;var field_value=settings.valueField;var field_optgroup=settings.optgroupField;var field_optgroup_label=settings.optgroupLabelField;var field_optgroup_value=settings.optgroupValueField;var init_textbox=function($input,settings_element){var i,n,values,option;var data_raw=$input.attr(attr_data);if(!data_raw){var value=$.trim($input.val()||'');if(!settings.allowEmptyOption&&!value.length)return;values=value.split(settings.delimiter);for(i=0,n=values.length;i<n;i++){option={};option[field_label]=values[i];option[field_value]=values[i];settings_element.options.push(option)}
settings_element.items=values}else{settings_element.options=JSON.parse(data_raw);for(i=0,n=settings_element.options.length;i<n;i++){settings_element.items.push(settings_element.options[i][field_value])}}};var init_select=function($input,settings_element){var i,n,tagName,$children,order=0;var options=settings_element.options;var optionsMap={};var readData=function($el){var data=attr_data&&$el.attr(attr_data);if(typeof data==='string'&&data.length){return JSON.parse(data)}
return null};var addOption=function($option,group){$option=$($option);var value=hash_key($option.val());if(!value&&!settings.allowEmptyOption)return;if(optionsMap.hasOwnProperty(value)){if(group){var arr=optionsMap[value][field_optgroup];if(!arr){optionsMap[value][field_optgroup]=group}else if(!$.isArray(arr)){optionsMap[value][field_optgroup]=[arr,group]}else{arr.push(group)}}
return}
var option=readData($option)||{};option[field_label]=option[field_label]||$option.text();option[field_value]=option[field_value]||value;option[field_optgroup]=option[field_optgroup]||group;optionsMap[value]=option;options.push(option);if($option.is(':selected')){settings_element.items.push(value)}};var addGroup=function($optgroup){var i,n,id,optgroup,$options;$optgroup=$($optgroup);id=$optgroup.attr('label');if(id){optgroup=readData($optgroup)||{};optgroup[field_optgroup_label]=id;optgroup[field_optgroup_value]=id;settings_element.optgroups.push(optgroup)}
$options=$('option',$optgroup);for(i=0,n=$options.length;i<n;i++){addOption($options[i],id)}};settings_element.maxItems=$input.attr('multiple')?null:1;$children=$input.children();for(i=0,n=$children.length;i<n;i++){tagName=$children[i].tagName.toLowerCase();if(tagName==='optgroup'){addGroup($children[i])}else if(tagName==='option'){addOption($children[i])}}};return this.each(function(){if(this.selectize)return;var instance;var $input=$(this);var tag_name=this.tagName.toLowerCase();var placeholder=$input.attr('placeholder')||$input.attr('data-placeholder');if(!placeholder&&!settings.allowEmptyOption){placeholder=$input.children('option[value=""]').text()}
var settings_element={'placeholder':placeholder,'options':[],'optgroups':[],'items':[]};if(tag_name==='select'){init_select($input,settings_element)}else{init_textbox($input,settings_element)}
instance=new Selectize($input,$.extend(!0,{},defaults,settings_element,settings_user))})};$.fn.selectize.defaults=Selectize.defaults;$.fn.selectize.support={validity:SUPPORTS_VALIDITY_API};Selectize.define('drag_drop',function(options){if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if(this.settings.mode!=='multi')return;var self=this;self.lock=(function(){var original=self.lock;return function(){var sortable=self.$control.data('sortable');if(sortable)sortable.disable();return original.apply(self,arguments)}})();self.unlock=(function(){var original=self.unlock;return function(){var sortable=self.$control.data('sortable');if(sortable)sortable.enable();return original.apply(self,arguments)}})();self.setup=(function(){var original=self.setup;return function(){original.apply(this,arguments);var $control=self.$control.sortable({items:'[data-value]',forcePlaceholderSize:!0,disabled:self.isLocked,start:function(e,ui){ui.placeholder.css('width',ui.helper.css('width'));$control.css({overflow:'visible'})},stop:function(){$control.css({overflow:'hidden'});var active=self.$activeItems?self.$activeItems.slice():null;var values=[];$control.children('[data-value]').each(function(){values.push($(this).attr('data-value'))});self.setValue(values);self.setActiveItem(active)}})}})()});Selectize.define('dropdown_header',function(options){var self=this;options=$.extend({title:'Untitled',headerClass:'selectize-dropdown-header',titleRowClass:'selectize-dropdown-header-title',labelClass:'selectize-dropdown-header-label',closeClass:'selectize-dropdown-header-close',html:function(data){return('<div class="'+data.headerClass+'">'+'<div class="'+data.titleRowClass+'">'+'<span class="'+data.labelClass+'">'+data.title+'</span>'+'<a href="javascript:void(0)" class="'+data.closeClass+'">&times;</a>'+'</div>'+'</div>')}},options);self.setup=(function(){var original=self.setup;return function(){original.apply(self,arguments);self.$dropdown_header=$(options.html(options));self.$dropdown.prepend(self.$dropdown_header)}})()});Selectize.define('optgroup_columns',function(options){var self=this;options=$.extend({equalizeWidth:!0,equalizeHeight:!0},options);this.getAdjacentOption=function($option,direction){var $options=$option.closest('[data-group]').find('[data-selectable]');var index=$options.index($option)+direction;return index>=0&&index<$options.length?$options.eq(index):$()};this.onKeyDown=(function(){var original=self.onKeyDown;return function(e){var index,$option,$options,$optgroup;if(this.isOpen&&(e.keyCode===KEY_LEFT||e.keyCode===KEY_RIGHT)){self.ignoreHover=!0;$optgroup=this.$activeOption.closest('[data-group]');index=$optgroup.find('[data-selectable]').index(this.$activeOption);if(e.keyCode===KEY_LEFT){$optgroup=$optgroup.prev('[data-group]')}else{$optgroup=$optgroup.next('[data-group]')}
$options=$optgroup.find('[data-selectable]');$option=$options.eq(Math.min($options.length-1,index));if($option.length){this.setActiveOption($option)}
return}
return original.apply(this,arguments)}})();var getScrollbarWidth=function(){var div;var width=getScrollbarWidth.width;var doc=document;if(typeof width==='undefined'){div=doc.createElement('div');div.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>';div=div.firstChild;doc.body.appendChild(div);width=getScrollbarWidth.width=div.offsetWidth-div.clientWidth;doc.body.removeChild(div)}
return width};var equalizeSizes=function(){var i,n,height_max,width,width_last,width_parent,$optgroups;$optgroups=$('[data-group]',self.$dropdown_content);n=$optgroups.length;if(!n||!self.$dropdown_content.width())return;if(options.equalizeHeight){height_max=0;for(i=0;i<n;i++){height_max=Math.max(height_max,$optgroups.eq(i).height())}
$optgroups.css({height:height_max})}
if(options.equalizeWidth){width_parent=self.$dropdown_content.innerWidth()-getScrollbarWidth();width=Math.round(width_parent/n);$optgroups.css({width:width});if(n>1){width_last=width_parent-width*(n-1);$optgroups.eq(n-1).css({width:width_last})}}};if(options.equalizeHeight||options.equalizeWidth){hook.after(this,'positionDropdown',equalizeSizes);hook.after(this,'refreshOptions',equalizeSizes)}});Selectize.define('remove_button',function(options){options=$.extend({label:'&times;',title:'Remove',className:'remove',append:!0},options);var singleClose=function(thisRef,options){options.className='remove-single';var self=thisRef;var html='<a href="javascript:void(0)" class="'+options.className+'" tabindex="-1" title="'+escape_html(options.title)+'">'+options.label+'</a>';var append=function(html_container,html_element){return html_container+html_element};thisRef.setup=(function(){var original=self.setup;return function(){if(options.append){var id=$(self.$input.context).attr('id');var selectizer=$('#'+id);var render_item=self.settings.render.item;self.settings.render.item=function(data){return append(render_item.apply(thisRef,arguments),html)}}
original.apply(thisRef,arguments);thisRef.$control.on('click','.'+options.className,function(e){e.preventDefault();if(self.isLocked)return;self.clear()})}})()};var multiClose=function(thisRef,options){var self=thisRef;var html='<a href="javascript:void(0)" class="'+options.className+'" tabindex="-1" title="'+escape_html(options.title)+'">'+options.label+'</a>';var append=function(html_container,html_element){var pos=html_container.search(/(<\/[^>]+>\s*)$/);return html_container.substring(0,pos)+html_element+html_container.substring(pos)};thisRef.setup=(function(){var original=self.setup;return function(){if(options.append){var render_item=self.settings.render.item;self.settings.render.item=function(data){return append(render_item.apply(thisRef,arguments),html)}}
original.apply(thisRef,arguments);thisRef.$control.on('click','.'+options.className,function(e){e.preventDefault();if(self.isLocked)return;var $item=$(e.currentTarget).parent();self.setActiveItem($item);if(self.deleteSelection()){self.setCaret(self.items.length)}})}})()};if(this.settings.mode==='single'){singleClose(this,options);return}else{multiClose(this,options)}});Selectize.define('restore_on_backspace',function(options){var self=this;options.text=options.text||function(option){return option[this.settings.labelField]};this.onKeyDown=(function(){var original=self.onKeyDown;return function(e){var index,option;if(e.keyCode===KEY_BACKSPACE&&this.$control_input.val()===''&&!this.$activeItems.length){index=this.caretPos-1;if(index>=0&&index<this.items.length){option=this.options[this.items[index]];if(this.deleteSelection(e)){this.setTextboxValue(options.text.apply(this,[option]));this.refreshOptions(!0)}
e.preventDefault();return}}
return original.apply(this,arguments)}})()});return Selectize}));(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory)}else if(typeof exports!=='undefined'){module.exports=factory(require('jquery'))}else{factory(jQuery)}}(function($){'use strict';var Slick=window.Slick||{};Slick=(function(){var instanceUid=0;function Slick(element,settings){var _=this,dataSettings;_.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:$(element),appendDots:$(element),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3000,centerMode:!1,centerPadding:'50px',cssEase:'ease',customPaging:function(slider,i){return $('<button type="button" />').text(i+1)},dots:!1,dotsClass:'slick-dots',draggable:!0,easing:'linear',edgeFriction:0.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:'ondemand',mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:'window',responsive:null,rows:1,rtl:!1,slide:'',slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1000};_.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1};$.extend(_,_.initials);_.activeBreakpoint=null;_.animType=null;_.animProp=null;_.breakpoints=[];_.breakpointSettings=[];_.cssTransitions=!1;_.focussed=!1;_.interrupted=!1;_.hidden='hidden';_.paused=!0;_.positionProp=null;_.respondTo=null;_.rowCount=1;_.shouldClick=!0;_.$slider=$(element);_.$slidesCache=null;_.transformType=null;_.transitionType=null;_.visibilityChange='visibilitychange';_.windowWidth=0;_.windowTimer=null;dataSettings=$(element).data('slick')||{};_.options=$.extend({},_.defaults,settings,dataSettings);_.currentSlide=_.options.initialSlide;_.originalSettings=_.options;if(typeof document.mozHidden!=='undefined'){_.hidden='mozHidden';_.visibilityChange='mozvisibilitychange'}else if(typeof document.webkitHidden!=='undefined'){_.hidden='webkitHidden';_.visibilityChange='webkitvisibilitychange'}
_.autoPlay=$.proxy(_.autoPlay,_);_.autoPlayClear=$.proxy(_.autoPlayClear,_);_.autoPlayIterator=$.proxy(_.autoPlayIterator,_);_.changeSlide=$.proxy(_.changeSlide,_);_.clickHandler=$.proxy(_.clickHandler,_);_.selectHandler=$.proxy(_.selectHandler,_);_.setPosition=$.proxy(_.setPosition,_);_.swipeHandler=$.proxy(_.swipeHandler,_);_.dragHandler=$.proxy(_.dragHandler,_);_.keyHandler=$.proxy(_.keyHandler,_);_.instanceUid=instanceUid++;_.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;_.registerBreakpoints();_.init(!0)}
return Slick}());Slick.prototype.activateADA=function(){var _=this;_.$slideTrack.find('.slick-active').attr({'aria-hidden':'false'}).find('a, input, button, select').attr({'tabindex':'0'})};Slick.prototype.addSlide=Slick.prototype.slickAdd=function(markup,index,addBefore){var _=this;if(typeof(index)==='boolean'){addBefore=index;index=null}else if(index<0||(index>=_.slideCount)){return!1}
_.unload();if(typeof(index)==='number'){if(index===0&&_.$slides.length===0){$(markup).appendTo(_.$slideTrack)}else if(addBefore){$(markup).insertBefore(_.$slides.eq(index))}else{$(markup).insertAfter(_.$slides.eq(index))}}else{if(addBefore===!0){$(markup).prependTo(_.$slideTrack)}else{$(markup).appendTo(_.$slideTrack)}}
_.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slides.each(function(index,element){$(element).attr('data-slick-index',index)});_.$slidesCache=_.$slides;_.reinit()};Slick.prototype.animateHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===!0&&_.options.vertical===!1){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(!0);_.$list.animate({height:targetHeight},_.options.speed)}};Slick.prototype.animateSlide=function(targetLeft,callback){var animProps={},_=this;_.animateHeight();if(_.options.rtl===!0&&_.options.vertical===!1){targetLeft=-targetLeft}
if(_.transformsEnabled===!1){if(_.options.vertical===!1){_.$slideTrack.animate({left:targetLeft},_.options.speed,_.options.easing,callback)}else{_.$slideTrack.animate({top:targetLeft},_.options.speed,_.options.easing,callback)}}else{if(_.cssTransitions===!1){if(_.options.rtl===!0){_.currentLeft=-(_.currentLeft)}
$({animStart:_.currentLeft}).animate({animStart:targetLeft},{duration:_.options.speed,easing:_.options.easing,step:function(now){now=Math.ceil(now);if(_.options.vertical===!1){animProps[_.animType]='translate('+now+'px, 0px)';_.$slideTrack.css(animProps)}else{animProps[_.animType]='translate(0px,'+now+'px)';_.$slideTrack.css(animProps)}},complete:function(){if(callback){callback.call()}}})}else{_.applyTransition();targetLeft=Math.ceil(targetLeft);if(_.options.vertical===!1){animProps[_.animType]='translate3d('+targetLeft+'px, 0px, 0px)'}else{animProps[_.animType]='translate3d(0px,'+targetLeft+'px, 0px)'}
_.$slideTrack.css(animProps);if(callback){setTimeout(function(){_.disableTransition();callback.call()},_.options.speed)}}}};Slick.prototype.getNavTarget=function(){var _=this,asNavFor=_.options.asNavFor;if(asNavFor&&asNavFor!==null){asNavFor=$(asNavFor).not(_.$slider)}
return asNavFor};Slick.prototype.asNavFor=function(index){var _=this,asNavFor=_.getNavTarget();if(asNavFor!==null&&typeof asNavFor==='object'){asNavFor.each(function(){var target=$(this).slick('getSlick');if(!target.unslicked){target.slideHandler(index,!0)}})}};Slick.prototype.applyTransition=function(slide){var _=this,transition={};if(_.options.fade===!1){transition[_.transitionType]=_.transformType+' '+_.options.speed+'ms '+_.options.cssEase}else{transition[_.transitionType]='opacity '+_.options.speed+'ms '+_.options.cssEase}
if(_.options.fade===!1){_.$slideTrack.css(transition)}else{_.$slides.eq(slide).css(transition)}};Slick.prototype.autoPlay=function(){var _=this;_.autoPlayClear();if(_.slideCount>_.options.slidesToShow){_.autoPlayTimer=setInterval(_.autoPlayIterator,_.options.autoplaySpeed)}};Slick.prototype.autoPlayClear=function(){var _=this;if(_.autoPlayTimer){clearInterval(_.autoPlayTimer)}};Slick.prototype.autoPlayIterator=function(){var _=this,slideTo=_.currentSlide+_.options.slidesToScroll;if(!_.paused&&!_.interrupted&&!_.focussed){if(_.options.infinite===!1){if(_.direction===1&&(_.currentSlide+1)===(_.slideCount-1)){_.direction=0}
else if(_.direction===0){slideTo=_.currentSlide-_.options.slidesToScroll;if(_.currentSlide-1===0){_.direction=1}}}
_.slideHandler(slideTo)}};Slick.prototype.buildArrows=function(){var _=this;if(_.options.arrows===!0){_.$prevArrow=$(_.options.prevArrow).addClass('slick-arrow');_.$nextArrow=$(_.options.nextArrow).addClass('slick-arrow');if(_.slideCount>_.options.slidesToShow){_.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');_.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');if(_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.prependTo(_.options.appendArrows)}
if(_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.appendTo(_.options.appendArrows)}
if(_.options.infinite!==!0){_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true')}}else{_.$prevArrow.add(_.$nextArrow).addClass('slick-hidden').attr({'aria-disabled':'true','tabindex':'-1'})}}};Slick.prototype.buildDots=function(){var _=this,i,dot;if(_.options.dots===!0&&_.slideCount>_.options.slidesToShow){_.$slider.addClass('slick-dotted');dot=$('<ul />').addClass(_.options.dotsClass);for(i=0;i<=_.getDotCount();i+=1){dot.append($('<li />').append(_.options.customPaging.call(this,_,i)))}
_.$dots=dot.appendTo(_.options.appendDots);_.$dots.find('li').first().addClass('slick-active')}};Slick.prototype.buildOut=function(){var _=this;_.$slides=_.$slider.children(_.options.slide+':not(.slick-cloned)').addClass('slick-slide');_.slideCount=_.$slides.length;_.$slides.each(function(index,element){$(element).attr('data-slick-index',index).data('originalStyling',$(element).attr('style')||'')});_.$slider.addClass('slick-slider');_.$slideTrack=(_.slideCount===0)?$('<div class="slick-track"/>').appendTo(_.$slider):_.$slides.wrapAll('<div class="slick-track"/>').parent();_.$list=_.$slideTrack.wrap('<div class="slick-list"/>').parent();_.$slideTrack.css('opacity',0);if(_.options.centerMode===!0||_.options.swipeToSlide===!0){_.options.slidesToScroll=1}
$('img[data-lazy]',_.$slider).not('[src]').addClass('slick-loading');_.setupInfinite();_.buildArrows();_.buildDots();_.updateDots();_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);if(_.options.draggable===!0){_.$list.addClass('draggable')}};Slick.prototype.buildRows=function(){var _=this,a,b,c,newSlides,numOfSlides,originalSlides,slidesPerSection;newSlides=document.createDocumentFragment();originalSlides=_.$slider.children();if(_.options.rows>0){slidesPerSection=_.options.slidesPerRow*_.options.rows;numOfSlides=Math.ceil(originalSlides.length/slidesPerSection);for(a=0;a<numOfSlides;a++){var slide=document.createElement('div');for(b=0;b<_.options.rows;b++){var row=document.createElement('div');for(c=0;c<_.options.slidesPerRow;c++){var target=(a*slidesPerSection+((b*_.options.slidesPerRow)+c));if(originalSlides.get(target)){row.appendChild(originalSlides.get(target))}}
slide.appendChild(row)}
newSlides.appendChild(slide)}
_.$slider.empty().append(newSlides);_.$slider.children().children().children().css({'width':(100/_.options.slidesPerRow)+'%','display':'inline-block'})}};Slick.prototype.checkResponsive=function(initial,forceUpdate){var _=this,breakpoint,targetBreakpoint,respondToWidth,triggerBreakpoint=!1;var sliderWidth=_.$slider.width();var windowWidth=window.innerWidth||$(window).width();if(_.respondTo==='window'){respondToWidth=windowWidth}else if(_.respondTo==='slider'){respondToWidth=sliderWidth}else if(_.respondTo==='min'){respondToWidth=Math.min(windowWidth,sliderWidth)}
if(_.options.responsive&&_.options.responsive.length&&_.options.responsive!==null){targetBreakpoint=null;for(breakpoint in _.breakpoints){if(_.breakpoints.hasOwnProperty(breakpoint)){if(_.originalSettings.mobileFirst===!1){if(respondToWidth<_.breakpoints[breakpoint]){targetBreakpoint=_.breakpoints[breakpoint]}}else{if(respondToWidth>_.breakpoints[breakpoint]){targetBreakpoint=_.breakpoints[breakpoint]}}}}
if(targetBreakpoint!==null){if(_.activeBreakpoint!==null){if(targetBreakpoint!==_.activeBreakpoint||forceUpdate){_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick'){_.unslick(targetBreakpoint)}else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===!0){_.currentSlide=_.options.initialSlide}
_.refresh(initial)}
triggerBreakpoint=targetBreakpoint}}else{_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick'){_.unslick(targetBreakpoint)}else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===!0){_.currentSlide=_.options.initialSlide}
_.refresh(initial)}
triggerBreakpoint=targetBreakpoint}}else{if(_.activeBreakpoint!==null){_.activeBreakpoint=null;_.options=_.originalSettings;if(initial===!0){_.currentSlide=_.options.initialSlide}
_.refresh(initial);triggerBreakpoint=targetBreakpoint}}
if(!initial&&triggerBreakpoint!==!1){_.$slider.trigger('breakpoint',[_,triggerBreakpoint])}}};Slick.prototype.changeSlide=function(event,dontAnimate){var _=this,$target=$(event.currentTarget),indexOffset,slideOffset,unevenOffset;if($target.is('a')){event.preventDefault()}
if(!$target.is('li')){$target=$target.closest('li')}
unevenOffset=(_.slideCount%_.options.slidesToScroll!==0);indexOffset=unevenOffset?0:(_.slideCount-_.currentSlide)%_.options.slidesToScroll;switch(event.data.message){case 'previous':slideOffset=indexOffset===0?_.options.slidesToScroll:_.options.slidesToShow-indexOffset;if(_.slideCount>_.options.slidesToShow){_.slideHandler(_.currentSlide-slideOffset,!1,dontAnimate)}
break;case 'next':slideOffset=indexOffset===0?_.options.slidesToScroll:indexOffset;if(_.slideCount>_.options.slidesToShow){_.slideHandler(_.currentSlide+slideOffset,!1,dontAnimate)}
break;case 'index':var index=event.data.index===0?0:event.data.index||$target.index()*_.options.slidesToScroll;_.slideHandler(_.checkNavigable(index),!1,dontAnimate);$target.children().trigger('focus');break;default:return}};Slick.prototype.checkNavigable=function(index){var _=this,navigables,prevNavigable;navigables=_.getNavigableIndexes();prevNavigable=0;if(index>navigables[navigables.length-1]){index=navigables[navigables.length-1]}else{for(var n in navigables){if(index<navigables[n]){index=prevNavigable;break}
prevNavigable=navigables[n]}}
return index};Slick.prototype.cleanUpEvents=function(){var _=this;if(_.options.dots&&_.$dots!==null){$('li',_.$dots).off('click.slick',_.changeSlide).off('mouseenter.slick',$.proxy(_.interrupt,_,!0)).off('mouseleave.slick',$.proxy(_.interrupt,_,!1));if(_.options.accessibility===!0){_.$dots.off('keydown.slick',_.keyHandler)}}
_.$slider.off('focus.slick blur.slick');if(_.options.arrows===!0&&_.slideCount>_.options.slidesToShow){_.$prevArrow&&_.$prevArrow.off('click.slick',_.changeSlide);_.$nextArrow&&_.$nextArrow.off('click.slick',_.changeSlide);if(_.options.accessibility===!0){_.$prevArrow&&_.$prevArrow.off('keydown.slick',_.keyHandler);_.$nextArrow&&_.$nextArrow.off('keydown.slick',_.keyHandler)}}
_.$list.off('touchstart.slick mousedown.slick',_.swipeHandler);_.$list.off('touchmove.slick mousemove.slick',_.swipeHandler);_.$list.off('touchend.slick mouseup.slick',_.swipeHandler);_.$list.off('touchcancel.slick mouseleave.slick',_.swipeHandler);_.$list.off('click.slick',_.clickHandler);$(document).off(_.visibilityChange,_.visibility);_.cleanUpSlideEvents();if(_.options.accessibility===!0){_.$list.off('keydown.slick',_.keyHandler)}
if(_.options.focusOnSelect===!0){$(_.$slideTrack).children().off('click.slick',_.selectHandler)}
$(window).off('orientationchange.slick.slick-'+_.instanceUid,_.orientationChange);$(window).off('resize.slick.slick-'+_.instanceUid,_.resize);$('[draggable!=true]',_.$slideTrack).off('dragstart',_.preventDefault);$(window).off('load.slick.slick-'+_.instanceUid,_.setPosition)};Slick.prototype.cleanUpSlideEvents=function(){var _=this;_.$list.off('mouseenter.slick',$.proxy(_.interrupt,_,!0));_.$list.off('mouseleave.slick',$.proxy(_.interrupt,_,!1))};Slick.prototype.cleanUpRows=function(){var _=this,originalSlides;if(_.options.rows>0){originalSlides=_.$slides.children().children();originalSlides.removeAttr('style');_.$slider.empty().append(originalSlides)}};Slick.prototype.clickHandler=function(event){var _=this;if(_.shouldClick===!1){event.stopImmediatePropagation();event.stopPropagation();event.preventDefault()}};Slick.prototype.destroy=function(refresh){var _=this;_.autoPlayClear();_.touchObject={};_.cleanUpEvents();$('.slick-cloned',_.$slider).detach();if(_.$dots){_.$dots.remove()}
if(_.$prevArrow&&_.$prevArrow.length){_.$prevArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display','');if(_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.remove()}}
if(_.$nextArrow&&_.$nextArrow.length){_.$nextArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display','');if(_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.remove()}}
if(_.$slides){_.$slides.removeClass('slick-slide slick-active slick-center slick-visible slick-current').removeAttr('aria-hidden').removeAttr('data-slick-index').each(function(){$(this).attr('style',$(this).data('originalStyling'))});_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.detach();_.$list.detach();_.$slider.append(_.$slides)}
_.cleanUpRows();_.$slider.removeClass('slick-slider');_.$slider.removeClass('slick-initialized');_.$slider.removeClass('slick-dotted');_.unslicked=!0;if(!refresh){_.$slider.trigger('destroy',[_])}};Slick.prototype.disableTransition=function(slide){var _=this,transition={};transition[_.transitionType]='';if(_.options.fade===!1){_.$slideTrack.css(transition)}else{_.$slides.eq(slide).css(transition)}};Slick.prototype.fadeSlide=function(slideIndex,callback){var _=this;if(_.cssTransitions===!1){_.$slides.eq(slideIndex).css({zIndex:_.options.zIndex});_.$slides.eq(slideIndex).animate({opacity:1},_.options.speed,_.options.easing,callback)}else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:1,zIndex:_.options.zIndex});if(callback){setTimeout(function(){_.disableTransition(slideIndex);callback.call()},_.options.speed)}}};Slick.prototype.fadeSlideOut=function(slideIndex){var _=this;if(_.cssTransitions===!1){_.$slides.eq(slideIndex).animate({opacity:0,zIndex:_.options.zIndex-2},_.options.speed,_.options.easing)}else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:0,zIndex:_.options.zIndex-2})}};Slick.prototype.filterSlides=Slick.prototype.slickFilter=function(filter){var _=this;if(filter!==null){_.$slidesCache=_.$slides;_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.filter(filter).appendTo(_.$slideTrack);_.reinit()}};Slick.prototype.focusHandler=function(){var _=this;_.$slider.off('focus.slick blur.slick').on('focus.slick blur.slick','*',function(event){event.stopImmediatePropagation();var $sf=$(this);setTimeout(function(){if(_.options.pauseOnFocus){_.focussed=$sf.is(':focus');_.autoPlay()}},0)})};Slick.prototype.getCurrent=Slick.prototype.slickCurrentSlide=function(){var _=this;return _.currentSlide};Slick.prototype.getDotCount=function(){var _=this;var breakPoint=0;var counter=0;var pagerQty=0;if(_.options.infinite===!0){if(_.slideCount<=_.options.slidesToShow){++pagerQty}else{while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow}}}else if(_.options.centerMode===!0){pagerQty=_.slideCount}else if(!_.options.asNavFor){pagerQty=1+Math.ceil((_.slideCount-_.options.slidesToShow)/_.options.slidesToScroll)}else{while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow}}
return pagerQty-1};Slick.prototype.getLeft=function(slideIndex){var _=this,targetLeft,verticalHeight,verticalOffset=0,targetSlide,coef;_.slideOffset=0;verticalHeight=_.$slides.first().outerHeight(!0);if(_.options.infinite===!0){if(_.slideCount>_.options.slidesToShow){_.slideOffset=(_.slideWidth*_.options.slidesToShow)*-1;coef=-1
if(_.options.vertical===!0&&_.options.centerMode===!0){if(_.options.slidesToShow===2){coef=-1.5}else if(_.options.slidesToShow===1){coef=-2}}
verticalOffset=(verticalHeight*_.options.slidesToShow)*coef}
if(_.slideCount%_.options.slidesToScroll!==0){if(slideIndex+_.options.slidesToScroll>_.slideCount&&_.slideCount>_.options.slidesToShow){if(slideIndex>_.slideCount){_.slideOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*_.slideWidth)*-1;verticalOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*verticalHeight)*-1}else{_.slideOffset=((_.slideCount%_.options.slidesToScroll)*_.slideWidth)*-1;verticalOffset=((_.slideCount%_.options.slidesToScroll)*verticalHeight)*-1}}}}else{if(slideIndex+_.options.slidesToShow>_.slideCount){_.slideOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*_.slideWidth;verticalOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*verticalHeight}}
if(_.slideCount<=_.options.slidesToShow){_.slideOffset=0;verticalOffset=0}
if(_.options.centerMode===!0&&_.slideCount<=_.options.slidesToShow){_.slideOffset=((_.slideWidth*Math.floor(_.options.slidesToShow))/2)-((_.slideWidth*_.slideCount)/2)}else if(_.options.centerMode===!0&&_.options.infinite===!0){_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2)-_.slideWidth}else if(_.options.centerMode===!0){_.slideOffset=0;_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2)}
if(_.options.vertical===!1){targetLeft=((slideIndex*_.slideWidth)*-1)+_.slideOffset}else{targetLeft=((slideIndex*verticalHeight)*-1)+verticalOffset}
if(_.options.variableWidth===!0){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===!1){targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex)}else{targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow)}
if(_.options.rtl===!0){if(targetSlide[0]){targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1}else{targetLeft=0}}else{targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0}
if(_.options.centerMode===!0){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===!1){targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex)}else{targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow+1)}
if(_.options.rtl===!0){if(targetSlide[0]){targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1}else{targetLeft=0}}else{targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0}
targetLeft+=(_.$list.width()-targetSlide.outerWidth())/2}}
return targetLeft};Slick.prototype.getOption=Slick.prototype.slickGetOption=function(option){var _=this;return _.options[option]};Slick.prototype.getNavigableIndexes=function(){var _=this,breakPoint=0,counter=0,indexes=[],max;if(_.options.infinite===!1){max=_.slideCount}else{breakPoint=_.options.slidesToScroll*-1;counter=_.options.slidesToScroll*-1;max=_.slideCount*2}
while(breakPoint<max){indexes.push(breakPoint);breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow}
return indexes};Slick.prototype.getSlick=function(){return this};Slick.prototype.getSlideCount=function(){var _=this,slidesTraversed,swipedSlide,centerOffset;centerOffset=_.options.centerMode===!0?_.slideWidth*Math.floor(_.options.slidesToShow/2):0;if(_.options.swipeToSlide===!0){_.$slideTrack.find('.slick-slide').each(function(index,slide){if(slide.offsetLeft-centerOffset+($(slide).outerWidth()/2)>(_.swipeLeft*-1)){swipedSlide=slide;return!1}});slidesTraversed=Math.abs($(swipedSlide).attr('data-slick-index')-_.currentSlide)||1;return slidesTraversed}else{return _.options.slidesToScroll}};Slick.prototype.goTo=Slick.prototype.slickGoTo=function(slide,dontAnimate){var _=this;_.changeSlide({data:{message:'index',index:parseInt(slide)}},dontAnimate)};Slick.prototype.init=function(creation){var _=this;if(!$(_.$slider).hasClass('slick-initialized')){$(_.$slider).addClass('slick-initialized');_.buildRows();_.buildOut();_.setProps();_.startLoad();_.loadSlider();_.initializeEvents();_.updateArrows();_.updateDots();_.checkResponsive(!0);_.focusHandler()}
if(creation){_.$slider.trigger('init',[_])}
if(_.options.accessibility===!0){_.initADA()}
if(_.options.autoplay){_.paused=!1;_.autoPlay()}};Slick.prototype.initADA=function(){var _=this,numDotGroups=Math.ceil(_.slideCount/_.options.slidesToShow),tabControlIndexes=_.getNavigableIndexes().filter(function(val){return(val>=0)&&(val<_.slideCount)});_.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({'aria-hidden':'true','tabindex':'-1'}).find('a, input, button, select').attr({'tabindex':'-1'});if(_.$dots!==null){_.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i){var slideControlIndex=tabControlIndexes.indexOf(i);$(this).attr({'role':'tabpanel','id':'slick-slide'+_.instanceUid+i,'tabindex':-1});if(slideControlIndex!==-1){var ariaButtonControl='slick-slide-control'+_.instanceUid+slideControlIndex
if($('#'+ariaButtonControl).length){$(this).attr({'aria-describedby':ariaButtonControl})}}});_.$dots.attr('role','tablist').find('li').each(function(i){var mappedSlideIndex=tabControlIndexes[i];$(this).attr({'role':'presentation'});$(this).find('button').first().attr({'role':'tab','id':'slick-slide-control'+_.instanceUid+i,'aria-controls':'slick-slide'+_.instanceUid+mappedSlideIndex,'aria-label':(i+1)+' of '+numDotGroups,'aria-selected':null,'tabindex':'-1'})}).eq(_.currentSlide).find('button').attr({'aria-selected':'true','tabindex':'0'}).end()}
for(var i=_.currentSlide,max=i+_.options.slidesToShow;i<max;i++){if(_.options.focusOnChange){_.$slides.eq(i).attr({'tabindex':'0'})}else{_.$slides.eq(i).removeAttr('tabindex')}}
_.activateADA()};Slick.prototype.initArrowEvents=function(){var _=this;if(_.options.arrows===!0&&_.slideCount>_.options.slidesToShow){_.$prevArrow.off('click.slick').on('click.slick',{message:'previous'},_.changeSlide);_.$nextArrow.off('click.slick').on('click.slick',{message:'next'},_.changeSlide);if(_.options.accessibility===!0){_.$prevArrow.on('keydown.slick',_.keyHandler);_.$nextArrow.on('keydown.slick',_.keyHandler)}}};Slick.prototype.initDotEvents=function(){var _=this;if(_.options.dots===!0&&_.slideCount>_.options.slidesToShow){$('li',_.$dots).on('click.slick',{message:'index'},_.changeSlide);if(_.options.accessibility===!0){_.$dots.on('keydown.slick',_.keyHandler)}}
if(_.options.dots===!0&&_.options.pauseOnDotsHover===!0&&_.slideCount>_.options.slidesToShow){$('li',_.$dots).on('mouseenter.slick',$.proxy(_.interrupt,_,!0)).on('mouseleave.slick',$.proxy(_.interrupt,_,!1))}};Slick.prototype.initSlideEvents=function(){var _=this;if(_.options.pauseOnHover){_.$list.on('mouseenter.slick',$.proxy(_.interrupt,_,!0));_.$list.on('mouseleave.slick',$.proxy(_.interrupt,_,!1))}};Slick.prototype.initializeEvents=function(){var _=this;_.initArrowEvents();_.initDotEvents();_.initSlideEvents();_.$list.on('touchstart.slick mousedown.slick',{action:'start'},_.swipeHandler);_.$list.on('touchmove.slick mousemove.slick',{action:'move'},_.swipeHandler);_.$list.on('touchend.slick mouseup.slick',{action:'end'},_.swipeHandler);_.$list.on('touchcancel.slick mouseleave.slick',{action:'end'},_.swipeHandler);_.$list.on('click.slick',_.clickHandler);$(document).on(_.visibilityChange,$.proxy(_.visibility,_));if(_.options.accessibility===!0){_.$list.on('keydown.slick',_.keyHandler)}
if(_.options.focusOnSelect===!0){$(_.$slideTrack).children().on('click.slick',_.selectHandler)}
$(window).on('orientationchange.slick.slick-'+_.instanceUid,$.proxy(_.orientationChange,_));$(window).on('resize.slick.slick-'+_.instanceUid,$.proxy(_.resize,_));$('[draggable!=true]',_.$slideTrack).on('dragstart',_.preventDefault);$(window).on('load.slick.slick-'+_.instanceUid,_.setPosition);$(_.setPosition)};Slick.prototype.initUI=function(){var _=this;if(_.options.arrows===!0&&_.slideCount>_.options.slidesToShow){_.$prevArrow.show();_.$nextArrow.show()}
if(_.options.dots===!0&&_.slideCount>_.options.slidesToShow){_.$dots.show()}};Slick.prototype.keyHandler=function(event){var _=this;if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')){if(event.keyCode===37&&_.options.accessibility===!0){_.changeSlide({data:{message:_.options.rtl===!0?'next':'previous'}})}else if(event.keyCode===39&&_.options.accessibility===!0){_.changeSlide({data:{message:_.options.rtl===!0?'previous':'next'}})}}};Slick.prototype.lazyLoad=function(){var _=this,loadRange,cloneRange,rangeStart,rangeEnd;function loadImages(imagesScope){$('img[data-lazy]',imagesScope).each(function(){var image=$(this),imageSource=$(this).attr('data-lazy'),imageSrcSet=$(this).attr('data-srcset'),imageSizes=$(this).attr('data-sizes')||_.$slider.attr('data-sizes'),imageToLoad=document.createElement('img');imageToLoad.onload=function(){image.animate({opacity:0},100,function(){if(imageSrcSet){image.attr('srcset',imageSrcSet);if(imageSizes){image.attr('sizes',imageSizes)}}
image.attr('src',imageSource).animate({opacity:1},200,function(){image.removeAttr('data-lazy data-srcset data-sizes').removeClass('slick-loading')});_.$slider.trigger('lazyLoaded',[_,image,imageSource])})};imageToLoad.onerror=function(){image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');_.$slider.trigger('lazyLoadError',[_,image,imageSource])};imageToLoad.src=imageSource})}
if(_.options.centerMode===!0){if(_.options.infinite===!0){rangeStart=_.currentSlide+(_.options.slidesToShow/2+1);rangeEnd=rangeStart+_.options.slidesToShow+2}else{rangeStart=Math.max(0,_.currentSlide-(_.options.slidesToShow/2+1));rangeEnd=2+(_.options.slidesToShow/2+1)+_.currentSlide}}else{rangeStart=_.options.infinite?_.options.slidesToShow+_.currentSlide:_.currentSlide;rangeEnd=Math.ceil(rangeStart+_.options.slidesToShow);if(_.options.fade===!0){if(rangeStart>0)rangeStart--;if(rangeEnd<=_.slideCount)rangeEnd++}}
loadRange=_.$slider.find('.slick-slide').slice(rangeStart,rangeEnd);if(_.options.lazyLoad==='anticipated'){var prevSlide=rangeStart-1,nextSlide=rangeEnd,$slides=_.$slider.find('.slick-slide');for(var i=0;i<_.options.slidesToScroll;i++){if(prevSlide<0)prevSlide=_.slideCount-1;loadRange=loadRange.add($slides.eq(prevSlide));loadRange=loadRange.add($slides.eq(nextSlide));prevSlide--;nextSlide++}}
loadImages(loadRange);if(_.slideCount<=_.options.slidesToShow){cloneRange=_.$slider.find('.slick-slide');loadImages(cloneRange)}else if(_.currentSlide>=_.slideCount-_.options.slidesToShow){cloneRange=_.$slider.find('.slick-cloned').slice(0,_.options.slidesToShow);loadImages(cloneRange)}else if(_.currentSlide===0){cloneRange=_.$slider.find('.slick-cloned').slice(_.options.slidesToShow*-1);loadImages(cloneRange)}};Slick.prototype.loadSlider=function(){var _=this;_.setPosition();_.$slideTrack.css({opacity:1});_.$slider.removeClass('slick-loading');_.initUI();if(_.options.lazyLoad==='progressive'){_.progressiveLazyLoad()}};Slick.prototype.next=Slick.prototype.slickNext=function(){var _=this;_.changeSlide({data:{message:'next'}})};Slick.prototype.orientationChange=function(){var _=this;_.checkResponsive();_.setPosition()};Slick.prototype.pause=Slick.prototype.slickPause=function(){var _=this;_.autoPlayClear();_.paused=!0};Slick.prototype.play=Slick.prototype.slickPlay=function(){var _=this;_.autoPlay();_.options.autoplay=!0;_.paused=!1;_.focussed=!1;_.interrupted=!1};Slick.prototype.postSlide=function(index){var _=this;if(!_.unslicked){_.$slider.trigger('afterChange',[_,index]);_.animating=!1;if(_.slideCount>_.options.slidesToShow){_.setPosition()}
_.swipeLeft=null;if(_.options.autoplay){_.autoPlay()}
if(_.options.accessibility===!0){_.initADA();if(_.options.focusOnChange){var $currentSlide=$(_.$slides.get(_.currentSlide));$currentSlide.attr('tabindex',0).focus()}}}};Slick.prototype.prev=Slick.prototype.slickPrev=function(){var _=this;_.changeSlide({data:{message:'previous'}})};Slick.prototype.preventDefault=function(event){event.preventDefault()};Slick.prototype.progressiveLazyLoad=function(tryCount){tryCount=tryCount||1;var _=this,$imgsToLoad=$('img[data-lazy]',_.$slider),image,imageSource,imageSrcSet,imageSizes,imageToLoad;if($imgsToLoad.length){image=$imgsToLoad.first();imageSource=image.attr('data-lazy');imageSrcSet=image.attr('data-srcset');imageSizes=image.attr('data-sizes')||_.$slider.attr('data-sizes');imageToLoad=document.createElement('img');imageToLoad.onload=function(){if(imageSrcSet){image.attr('srcset',imageSrcSet);if(imageSizes){image.attr('sizes',imageSizes)}}
image.attr('src',imageSource).removeAttr('data-lazy data-srcset data-sizes').removeClass('slick-loading');if(_.options.adaptiveHeight===!0){_.setPosition()}
_.$slider.trigger('lazyLoaded',[_,image,imageSource]);_.progressiveLazyLoad()};imageToLoad.onerror=function(){if(tryCount<3){setTimeout(function(){_.progressiveLazyLoad(tryCount+1)},500)}else{image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');_.$slider.trigger('lazyLoadError',[_,image,imageSource]);_.progressiveLazyLoad()}};imageToLoad.src=imageSource}else{_.$slider.trigger('allImagesLoaded',[_])}};Slick.prototype.refresh=function(initializing){var _=this,currentSlide,lastVisibleIndex;lastVisibleIndex=_.slideCount-_.options.slidesToShow;if(!_.options.infinite&&(_.currentSlide>lastVisibleIndex)){_.currentSlide=lastVisibleIndex}
if(_.slideCount<=_.options.slidesToShow){_.currentSlide=0}
currentSlide=_.currentSlide;_.destroy(!0);$.extend(_,_.initials,{currentSlide:currentSlide});_.init();if(!initializing){_.changeSlide({data:{message:'index',index:currentSlide}},!1)}};Slick.prototype.registerBreakpoints=function(){var _=this,breakpoint,currentBreakpoint,l,responsiveSettings=_.options.responsive||null;if($.type(responsiveSettings)==='array'&&responsiveSettings.length){_.respondTo=_.options.respondTo||'window';for(breakpoint in responsiveSettings){l=_.breakpoints.length-1;if(responsiveSettings.hasOwnProperty(breakpoint)){currentBreakpoint=responsiveSettings[breakpoint].breakpoint;while(l>=0){if(_.breakpoints[l]&&_.breakpoints[l]===currentBreakpoint){_.breakpoints.splice(l,1)}
l--}
_.breakpoints.push(currentBreakpoint);_.breakpointSettings[currentBreakpoint]=responsiveSettings[breakpoint].settings}}
_.breakpoints.sort(function(a,b){return(_.options.mobileFirst)?a-b:b-a})}};Slick.prototype.reinit=function(){var _=this;_.$slides=_.$slideTrack.children(_.options.slide).addClass('slick-slide');_.slideCount=_.$slides.length;if(_.currentSlide>=_.slideCount&&_.currentSlide!==0){_.currentSlide=_.currentSlide-_.options.slidesToScroll}
if(_.slideCount<=_.options.slidesToShow){_.currentSlide=0}
_.registerBreakpoints();_.setProps();_.setupInfinite();_.buildArrows();_.updateArrows();_.initArrowEvents();_.buildDots();_.updateDots();_.initDotEvents();_.cleanUpSlideEvents();_.initSlideEvents();_.checkResponsive(!1,!0);if(_.options.focusOnSelect===!0){$(_.$slideTrack).children().on('click.slick',_.selectHandler)}
_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);_.setPosition();_.focusHandler();_.paused=!_.options.autoplay;_.autoPlay();_.$slider.trigger('reInit',[_])};Slick.prototype.resize=function(){var _=this;if($(window).width()!==_.windowWidth){clearTimeout(_.windowDelay);_.windowDelay=window.setTimeout(function(){_.windowWidth=$(window).width();_.checkResponsive();if(!_.unslicked){_.setPosition()}},50)}};Slick.prototype.removeSlide=Slick.prototype.slickRemove=function(index,removeBefore,removeAll){var _=this;if(typeof(index)==='boolean'){removeBefore=index;index=removeBefore===!0?0:_.slideCount-1}else{index=removeBefore===!0?--index:index}
if(_.slideCount<1||index<0||index>_.slideCount-1){return!1}
_.unload();if(removeAll===!0){_.$slideTrack.children().remove()}else{_.$slideTrack.children(this.options.slide).eq(index).remove()}
_.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slidesCache=_.$slides;_.reinit()};Slick.prototype.setCSS=function(position){var _=this,positionProps={},x,y;if(_.options.rtl===!0){position=-position}
x=_.positionProp=='left'?Math.ceil(position)+'px':'0px';y=_.positionProp=='top'?Math.ceil(position)+'px':'0px';positionProps[_.positionProp]=position;if(_.transformsEnabled===!1){_.$slideTrack.css(positionProps)}else{positionProps={};if(_.cssTransitions===!1){positionProps[_.animType]='translate('+x+', '+y+')';_.$slideTrack.css(positionProps)}else{positionProps[_.animType]='translate3d('+x+', '+y+', 0px)';_.$slideTrack.css(positionProps)}}};Slick.prototype.setDimensions=function(){var _=this;if(_.options.vertical===!1){if(_.options.centerMode===!0){_.$list.css({padding:('0px '+_.options.centerPadding)})}}else{_.$list.height(_.$slides.first().outerHeight(!0)*_.options.slidesToShow);if(_.options.centerMode===!0){_.$list.css({padding:(_.options.centerPadding+' 0px')})}}
_.listWidth=_.$list.width();_.listHeight=_.$list.height();if(_.options.vertical===!1&&_.options.variableWidth===!1){_.slideWidth=Math.ceil(_.listWidth/_.options.slidesToShow);_.$slideTrack.width(Math.ceil((_.slideWidth*_.$slideTrack.children('.slick-slide').length)))}else if(_.options.variableWidth===!0){_.$slideTrack.width(5000*_.slideCount)}else{_.slideWidth=Math.ceil(_.listWidth);_.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(!0)*_.$slideTrack.children('.slick-slide').length)))}
var offset=_.$slides.first().outerWidth(!0)-_.$slides.first().width();if(_.options.variableWidth===!1)_.$slideTrack.children('.slick-slide').width(_.slideWidth-offset)};Slick.prototype.setFade=function(){var _=this,targetLeft;_.$slides.each(function(index,element){targetLeft=(_.slideWidth*index)*-1;if(_.options.rtl===!0){$(element).css({position:'relative',right:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0})}else{$(element).css({position:'relative',left:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0})}});_.$slides.eq(_.currentSlide).css({zIndex:_.options.zIndex-1,opacity:1})};Slick.prototype.setHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===!0&&_.options.vertical===!1){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(!0);_.$list.css('height',targetHeight)}};Slick.prototype.setOption=Slick.prototype.slickSetOption=function(){var _=this,l,item,option,value,refresh=!1,type;if($.type(arguments[0])==='object'){option=arguments[0];refresh=arguments[1];type='multiple'}else if($.type(arguments[0])==='string'){option=arguments[0];value=arguments[1];refresh=arguments[2];if(arguments[0]==='responsive'&&$.type(arguments[1])==='array'){type='responsive'}else if(typeof arguments[1]!=='undefined'){type='single'}}
if(type==='single'){_.options[option]=value}else if(type==='multiple'){$.each(option,function(opt,val){_.options[opt]=val})}else if(type==='responsive'){for(item in value){if($.type(_.options.responsive)!=='array'){_.options.responsive=[value[item]]}else{l=_.options.responsive.length-1;while(l>=0){if(_.options.responsive[l].breakpoint===value[item].breakpoint){_.options.responsive.splice(l,1)}
l--}
_.options.responsive.push(value[item])}}}
if(refresh){_.unload();_.reinit()}};Slick.prototype.setPosition=function(){var _=this;_.setDimensions();_.setHeight();if(_.options.fade===!1){_.setCSS(_.getLeft(_.currentSlide))}else{_.setFade()}
_.$slider.trigger('setPosition',[_])};Slick.prototype.setProps=function(){var _=this,bodyStyle=document.body.style;_.positionProp=_.options.vertical===!0?'top':'left';if(_.positionProp==='top'){_.$slider.addClass('slick-vertical')}else{_.$slider.removeClass('slick-vertical')}
if(bodyStyle.WebkitTransition!==undefined||bodyStyle.MozTransition!==undefined||bodyStyle.msTransition!==undefined){if(_.options.useCSS===!0){_.cssTransitions=!0}}
if(_.options.fade){if(typeof _.options.zIndex==='number'){if(_.options.zIndex<3){_.options.zIndex=3}}else{_.options.zIndex=_.defaults.zIndex}}
if(bodyStyle.OTransform!==undefined){_.animType='OTransform';_.transformType='-o-transform';_.transitionType='OTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=!1}
if(bodyStyle.MozTransform!==undefined){_.animType='MozTransform';_.transformType='-moz-transform';_.transitionType='MozTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.MozPerspective===undefined)_.animType=!1}
if(bodyStyle.webkitTransform!==undefined){_.animType='webkitTransform';_.transformType='-webkit-transform';_.transitionType='webkitTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=!1}
if(bodyStyle.msTransform!==undefined){_.animType='msTransform';_.transformType='-ms-transform';_.transitionType='msTransition';if(bodyStyle.msTransform===undefined)_.animType=!1}
if(bodyStyle.transform!==undefined&&_.animType!==!1){_.animType='transform';_.transformType='transform';_.transitionType='transition'}
_.transformsEnabled=_.options.useTransform&&(_.animType!==null&&_.animType!==!1)};Slick.prototype.setSlideClasses=function(index){var _=this,centerOffset,allSlides,indexOffset,remainder;allSlides=_.$slider.find('.slick-slide').removeClass('slick-active slick-center slick-current').attr('aria-hidden','true');_.$slides.eq(index).addClass('slick-current');if(_.options.centerMode===!0){var evenCoef=_.options.slidesToShow%2===0?1:0;centerOffset=Math.floor(_.options.slidesToShow/2);if(_.options.infinite===!0){if(index>=centerOffset&&index<=(_.slideCount-1)-centerOffset){_.$slides.slice(index-centerOffset+evenCoef,index+centerOffset+1).addClass('slick-active').attr('aria-hidden','false')}else{indexOffset=_.options.slidesToShow+index;allSlides.slice(indexOffset-centerOffset+1+evenCoef,indexOffset+centerOffset+2).addClass('slick-active').attr('aria-hidden','false')}
if(index===0){allSlides.eq(allSlides.length-1-_.options.slidesToShow).addClass('slick-center')}else if(index===_.slideCount-1){allSlides.eq(_.options.slidesToShow).addClass('slick-center')}}
_.$slides.eq(index).addClass('slick-center')}else{if(index>=0&&index<=(_.slideCount-_.options.slidesToShow)){_.$slides.slice(index,index+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false')}else if(allSlides.length<=_.options.slidesToShow){allSlides.addClass('slick-active').attr('aria-hidden','false')}else{remainder=_.slideCount%_.options.slidesToShow;indexOffset=_.options.infinite===!0?_.options.slidesToShow+index:index;if(_.options.slidesToShow==_.options.slidesToScroll&&(_.slideCount-index)<_.options.slidesToShow){allSlides.slice(indexOffset-(_.options.slidesToShow-remainder),indexOffset+remainder).addClass('slick-active').attr('aria-hidden','false')}else{allSlides.slice(indexOffset,indexOffset+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false')}}}
if(_.options.lazyLoad==='ondemand'||_.options.lazyLoad==='anticipated'){_.lazyLoad()}};Slick.prototype.setupInfinite=function(){var _=this,i,slideIndex,infiniteCount;if(_.options.fade===!0){_.options.centerMode=!1}
if(_.options.infinite===!0&&_.options.fade===!1){slideIndex=null;if(_.slideCount>_.options.slidesToShow){if(_.options.centerMode===!0){infiniteCount=_.options.slidesToShow+1}else{infiniteCount=_.options.slidesToShow}
for(i=_.slideCount;i>(_.slideCount-infiniteCount);i-=1){slideIndex=i-1;$(_.$slides[slideIndex]).clone(!0).attr('id','').attr('data-slick-index',slideIndex-_.slideCount).prependTo(_.$slideTrack).addClass('slick-cloned')}
for(i=0;i<infiniteCount+_.slideCount;i+=1){slideIndex=i;$(_.$slides[slideIndex]).clone(!0).attr('id','').attr('data-slick-index',slideIndex+_.slideCount).appendTo(_.$slideTrack).addClass('slick-cloned')}
_.$slideTrack.find('.slick-cloned').find('[id]').each(function(){$(this).attr('id','')})}}};Slick.prototype.interrupt=function(toggle){var _=this;if(!toggle){_.autoPlay()}
_.interrupted=toggle};Slick.prototype.selectHandler=function(event){var _=this;var targetElement=$(event.target).is('.slick-slide')?$(event.target):$(event.target).parents('.slick-slide');var index=parseInt(targetElement.attr('data-slick-index'));if(!index)index=0;if(_.slideCount<=_.options.slidesToShow){_.slideHandler(index,!1,!0);return}
_.slideHandler(index)};Slick.prototype.slideHandler=function(index,sync,dontAnimate){var targetSlide,animSlide,oldSlide,slideLeft,targetLeft=null,_=this,navTarget;sync=sync||!1;if(_.animating===!0&&_.options.waitForAnimate===!0){return}
if(_.options.fade===!0&&_.currentSlide===index){return}
if(sync===!1){_.asNavFor(index)}
targetSlide=index;targetLeft=_.getLeft(targetSlide);slideLeft=_.getLeft(_.currentSlide);_.currentLeft=_.swipeLeft===null?slideLeft:_.swipeLeft;if(_.options.infinite===!1&&_.options.centerMode===!1&&(index<0||index>_.getDotCount()*_.options.slidesToScroll)){if(_.options.fade===!1){targetSlide=_.currentSlide;if(dontAnimate!==!0&&_.slideCount>_.options.slidesToShow){_.animateSlide(slideLeft,function(){_.postSlide(targetSlide)})}else{_.postSlide(targetSlide)}}
return}else if(_.options.infinite===!1&&_.options.centerMode===!0&&(index<0||index>(_.slideCount-_.options.slidesToScroll))){if(_.options.fade===!1){targetSlide=_.currentSlide;if(dontAnimate!==!0&&_.slideCount>_.options.slidesToShow){_.animateSlide(slideLeft,function(){_.postSlide(targetSlide)})}else{_.postSlide(targetSlide)}}
return}
if(_.options.autoplay){clearInterval(_.autoPlayTimer)}
if(targetSlide<0){if(_.slideCount%_.options.slidesToScroll!==0){animSlide=_.slideCount-(_.slideCount%_.options.slidesToScroll)}else{animSlide=_.slideCount+targetSlide}}else if(targetSlide>=_.slideCount){if(_.slideCount%_.options.slidesToScroll!==0){animSlide=0}else{animSlide=targetSlide-_.slideCount}}else{animSlide=targetSlide}
_.animating=!0;_.$slider.trigger('beforeChange',[_,_.currentSlide,animSlide]);oldSlide=_.currentSlide;_.currentSlide=animSlide;_.setSlideClasses(_.currentSlide);if(_.options.asNavFor){navTarget=_.getNavTarget();navTarget=navTarget.slick('getSlick');if(navTarget.slideCount<=navTarget.options.slidesToShow){navTarget.setSlideClasses(_.currentSlide)}}
_.updateDots();_.updateArrows();if(_.options.fade===!0){if(dontAnimate!==!0){_.fadeSlideOut(oldSlide);_.fadeSlide(animSlide,function(){_.postSlide(animSlide)})}else{_.postSlide(animSlide)}
_.animateHeight();return}
if(dontAnimate!==!0&&_.slideCount>_.options.slidesToShow){_.animateSlide(targetLeft,function(){_.postSlide(animSlide)})}else{_.postSlide(animSlide)}};Slick.prototype.startLoad=function(){var _=this;if(_.options.arrows===!0&&_.slideCount>_.options.slidesToShow){_.$prevArrow.hide();_.$nextArrow.hide()}
if(_.options.dots===!0&&_.slideCount>_.options.slidesToShow){_.$dots.hide()}
_.$slider.addClass('slick-loading')};Slick.prototype.swipeDirection=function(){var xDist,yDist,r,swipeAngle,_=this;xDist=_.touchObject.startX-_.touchObject.curX;yDist=_.touchObject.startY-_.touchObject.curY;r=Math.atan2(yDist,xDist);swipeAngle=Math.round(r*180/Math.PI);if(swipeAngle<0){swipeAngle=360-Math.abs(swipeAngle)}
if((swipeAngle<=45)&&(swipeAngle>=0)){return(_.options.rtl===!1?'left':'right')}
if((swipeAngle<=360)&&(swipeAngle>=315)){return(_.options.rtl===!1?'left':'right')}
if((swipeAngle>=135)&&(swipeAngle<=225)){return(_.options.rtl===!1?'right':'left')}
if(_.options.verticalSwiping===!0){if((swipeAngle>=35)&&(swipeAngle<=135)){return 'down'}else{return 'up'}}
return 'vertical'};Slick.prototype.swipeEnd=function(event){var _=this,slideCount,direction;_.dragging=!1;_.swiping=!1;if(_.scrolling){_.scrolling=!1;return!1}
_.interrupted=!1;_.shouldClick=(_.touchObject.swipeLength>10)?!1:!0;if(_.touchObject.curX===undefined){return!1}
if(_.touchObject.edgeHit===!0){_.$slider.trigger('edge',[_,_.swipeDirection()])}
if(_.touchObject.swipeLength>=_.touchObject.minSwipe){direction=_.swipeDirection();switch(direction){case 'left':case 'down':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide+_.getSlideCount()):_.currentSlide+_.getSlideCount();_.currentDirection=0;break;case 'right':case 'up':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide-_.getSlideCount()):_.currentSlide-_.getSlideCount();_.currentDirection=1;break;default:}
if(direction!='vertical'){_.slideHandler(slideCount);_.touchObject={};_.$slider.trigger('swipe',[_,direction])}}else{if(_.touchObject.startX!==_.touchObject.curX){_.slideHandler(_.currentSlide);_.touchObject={}}}};Slick.prototype.swipeHandler=function(event){var _=this;if((_.options.swipe===!1)||('ontouchend' in document&&_.options.swipe===!1)){return}else if(_.options.draggable===!1&&event.type.indexOf('mouse')!==-1){return}
_.touchObject.fingerCount=event.originalEvent&&event.originalEvent.touches!==undefined?event.originalEvent.touches.length:1;_.touchObject.minSwipe=_.listWidth/_.options.touchThreshold;if(_.options.verticalSwiping===!0){_.touchObject.minSwipe=_.listHeight/_.options.touchThreshold}
switch(event.data.action){case 'start':_.swipeStart(event);break;case 'move':_.swipeMove(event);break;case 'end':_.swipeEnd(event);break}};Slick.prototype.swipeMove=function(event){var _=this,edgeWasHit=!1,curLeft,swipeDirection,swipeLength,positionOffset,touches,verticalSwipeLength;touches=event.originalEvent!==undefined?event.originalEvent.touches:null;if(!_.dragging||_.scrolling||touches&&touches.length!==1){return!1}
curLeft=_.getLeft(_.currentSlide);_.touchObject.curX=touches!==undefined?touches[0].pageX:event.clientX;_.touchObject.curY=touches!==undefined?touches[0].pageY:event.clientY;_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curX-_.touchObject.startX,2)));verticalSwipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curY-_.touchObject.startY,2)));if(!_.options.verticalSwiping&&!_.swiping&&verticalSwipeLength>4){_.scrolling=!0;return!1}
if(_.options.verticalSwiping===!0){_.touchObject.swipeLength=verticalSwipeLength}
swipeDirection=_.swipeDirection();if(event.originalEvent!==undefined&&_.touchObject.swipeLength>4){_.swiping=!0;event.preventDefault()}
positionOffset=(_.options.rtl===!1?1:-1)*(_.touchObject.curX>_.touchObject.startX?1:-1);if(_.options.verticalSwiping===!0){positionOffset=_.touchObject.curY>_.touchObject.startY?1:-1}
swipeLength=_.touchObject.swipeLength;_.touchObject.edgeHit=!1;if(_.options.infinite===!1){if((_.currentSlide===0&&swipeDirection==='right')||(_.currentSlide>=_.getDotCount()&&swipeDirection==='left')){swipeLength=_.touchObject.swipeLength*_.options.edgeFriction;_.touchObject.edgeHit=!0}}
if(_.options.vertical===!1){_.swipeLeft=curLeft+swipeLength*positionOffset}else{_.swipeLeft=curLeft+(swipeLength*(_.$list.height()/_.listWidth))*positionOffset}
if(_.options.verticalSwiping===!0){_.swipeLeft=curLeft+swipeLength*positionOffset}
if(_.options.fade===!0||_.options.touchMove===!1){return!1}
if(_.animating===!0){_.swipeLeft=null;return!1}
_.setCSS(_.swipeLeft)};Slick.prototype.swipeStart=function(event){var _=this,touches;_.interrupted=!0;if(_.touchObject.fingerCount!==1||_.slideCount<=_.options.slidesToShow){_.touchObject={};return!1}
if(event.originalEvent!==undefined&&event.originalEvent.touches!==undefined){touches=event.originalEvent.touches[0]}
_.touchObject.startX=_.touchObject.curX=touches!==undefined?touches.pageX:event.clientX;_.touchObject.startY=_.touchObject.curY=touches!==undefined?touches.pageY:event.clientY;_.dragging=!0};Slick.prototype.unfilterSlides=Slick.prototype.slickUnfilter=function(){var _=this;if(_.$slidesCache!==null){_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.appendTo(_.$slideTrack);_.reinit()}};Slick.prototype.unload=function(){var _=this;$('.slick-cloned',_.$slider).remove();if(_.$dots){_.$dots.remove()}
if(_.$prevArrow&&_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.remove()}
if(_.$nextArrow&&_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.remove()}
_.$slides.removeClass('slick-slide slick-active slick-visible slick-current').attr('aria-hidden','true').css('width','')};Slick.prototype.unslick=function(fromBreakpoint){var _=this;_.$slider.trigger('unslick',[_,fromBreakpoint]);_.destroy()};Slick.prototype.updateArrows=function(){var _=this,centerOffset;centerOffset=Math.floor(_.options.slidesToShow/2);if(_.options.arrows===!0&&_.slideCount>_.options.slidesToShow&&!_.options.infinite){_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');if(_.currentSlide===0){_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false')}else if(_.currentSlide>=_.slideCount-_.options.slidesToShow&&_.options.centerMode===!1){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false')}else if(_.currentSlide>=_.slideCount-1&&_.options.centerMode===!0){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false')}}};Slick.prototype.updateDots=function(){var _=this;if(_.$dots!==null){_.$dots.find('li').removeClass('slick-active').end();_.$dots.find('li').eq(Math.floor(_.currentSlide/_.options.slidesToScroll)).addClass('slick-active')}};Slick.prototype.visibility=function(){var _=this;if(_.options.autoplay){if(document[_.hidden]){_.interrupted=!0}else{_.interrupted=!1}}};$.fn.slick=function(){var _=this,opt=arguments[0],args=Array.prototype.slice.call(arguments,1),l=_.length,i,ret;for(i=0;i<l;i++){if(typeof opt=='object'||typeof opt=='undefined')
_[i].slick=new Slick(_[i],opt);else ret=_[i].slick[opt].apply(_[i].slick,args);if(typeof ret!='undefined')return ret}
return _}}));(function(root,factory){if(typeof define==='function'&&define.amd){define([],factory(root))}else if(typeof exports==='object'){module.exports=factory(root)}else{root.tabby=factory(root)}})(typeof global!=='undefined'?global:this.window||this.global,(function(root){'use strict';var tabby={};var supports='querySelector' in document&&'addEventListener' in root&&'classList' in document.createElement('_')&&'onhashchange' in root;var settings,tab;var defaults={selectorToggle:'[data-tab]',selectorToggleGroup:'[data-tabs]',selectorContent:'[data-tabs-pane]',selectorContentGroup:'[data-tabs-content]',toggleActiveClass:'active',contentActiveClass:'active',initClass:'js-tabby',stopVideo:!0,callback:function(){}};var forEach=function(collection,callback,scope){if(Object.prototype.toString.call(collection)==='[object Object]'){for(var prop in collection){if(Object.prototype.hasOwnProperty.call(collection,prop)){callback.call(scope,collection[prop],prop,collection)}}}else{for(var i=0,len=collection.length;i<len;i++){callback.call(scope,collection[i],i,collection)}}};var extend=function(){var extended={};var deep=!1;var i=0;var length=arguments.length;if(Object.prototype.toString.call(arguments[0])==='[object Boolean]'){deep=arguments[0];i++}
var merge=function(obj){for(var prop in obj){if(Object.prototype.hasOwnProperty.call(obj,prop)){if(deep&&Object.prototype.toString.call(obj[prop])==='[object Object]'){extended[prop]=extend(!0,extended[prop],obj[prop])}else{extended[prop]=obj[prop]}}}};for(;i<length;i++){var obj=arguments[i];merge(obj)}
return extended};var getClosest=function(elem,selector){if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length;while(--i>=0&&matches.item(i)!==this){}
return i>-1}}
for(;elem&&elem!==document;elem=elem.parentNode){if(elem.matches(selector))return elem}
return null};var escapeCharacters=function(id){if(id.charAt(0)==='#'){id=id.substr(1)}
var string=String(id);var length=string.length;var index=-1;var codeUnit;var result='';var firstCodeUnit=string.charCodeAt(0);while(++index<length){codeUnit=string.charCodeAt(index);if(codeUnit===0x0000){throw new InvalidCharacterError('Invalid character: the input contains U+0000.')}
if((codeUnit>=0x0001&&codeUnit<=0x001F)||codeUnit==0x007F||(index===0&&codeUnit>=0x0030&&codeUnit<=0x0039)||(index===1&&codeUnit>=0x0030&&codeUnit<=0x0039&&firstCodeUnit===0x002D)){result+='\\'+codeUnit.toString(16)+' ';continue}
if(codeUnit>=0x0080||codeUnit===0x002D||codeUnit===0x005F||codeUnit>=0x0030&&codeUnit<=0x0039||codeUnit>=0x0041&&codeUnit<=0x005A||codeUnit>=0x0061&&codeUnit<=0x007A){result+=string.charAt(index);continue}
result+='\\'+string.charAt(index)}
return '#'+result};var stopVideos=function(content,settings){if(!settings.stopVideo)return;if(content.classList.contains(settings.contentActiveClass))return;var iframe=content.querySelector('iframe');var video=content.querySelector('video');if(iframe){var iframeSrc=iframe.src;iframe.src=iframeSrc}
if(video){video.pause()}};var adjustFocus=function(tab,settings){if(tab.hasAttribute('data-tab-no-focus'))return;if(!tab.classList.contains(settings.contentActiveClass)){if(tab.hasAttribute('data-tab-focused')){tab.removeAttribute('tabindex')}
return}
var position={x:root.pageXOffset,y:root.pageYOffset};tab.focus();if(document.activeElement.id!==tab.id){tab.setAttribute('tabindex','-1');tab.setAttribute('data-tab-focused',!0);tab.focus()}
root.scrollTo(position.x,position.y)};var toggleToggles=function(toggle,settings){var toggleGroup=getClosest(toggle,settings.selectorToggleGroup);if(!toggleGroup)return;var toggles=toggleGroup.querySelectorAll(settings.selectorToggle);var toggleList;forEach(toggles,(function(item){if(item.hash===toggle.hash){item.classList.add(settings.toggleActiveClass);toggleList=getClosest(item,'li');if(toggleList){toggleList.classList.add(settings.toggleActiveClass)}
return}
item.classList.remove(settings.toggleActiveClass);toggleList=getClosest(item,'li');if(toggleList){toggleList.classList.remove(settings.toggleActiveClass)}}))};var toggleTabs=function(tabID,settings){var tab=document.querySelector(escapeCharacters(tabID));if(!tab)return;var tabGroup=getClosest(tab,settings.selectorContentGroup);if(!tabGroup)return;var tabs=tabGroup.querySelectorAll(settings.selectorContent);forEach(tabs,(function(tab){if(tab.id===tabID.substring(1)){tab.classList.add(settings.contentActiveClass);adjustFocus(tab,settings);return}
tab.classList.remove(settings.contentActiveClass);stopVideos(tab,settings);adjustFocus(tab,settings)}))};tabby.toggleTab=function(tabID,toggle,options){var localSettings=extend(settings||defaults,options||{});var tabs=document.querySelectorAll(escapeCharacters(tabID));toggleTabs(tabID,localSettings);if(toggle){toggleToggles(toggle,localSettings)}
localSettings.callback(tabs,toggle)};var hashChangeHandler=function(event){var hash=root.location.hash;if(tab){tab.id=tab.getAttribute('data-tab-id');tab=null}
if(!hash)return;var toggle=document.querySelector(settings.selectorToggle+'[href*="'+hash+'"]');tabby.toggleTab(hash,toggle)};var clickHandler=function(event){if(event.button!==0||event.metaKey||event.ctrlKey)return;var toggle=getClosest(event.target,settings.selectorToggle);if(!toggle||!toggle.hash)return;if(toggle.hash===root.location.hash){event.preventDefault();return}
tab=document.querySelector(toggle.hash);if(!tab)return;tab.setAttribute('data-tab-id',tab.id);tab.id=''};var focusHandler=function(event){tab=getClosest(event.target,settings.selectorContent);if(!tab)return;if(tab.classList.contains(settings.contentActiveClass))return;var hash=tab.id;tab.setAttribute('data-tab-id',hash);tab.setAttribute('data-tab-no-focus',!0);tab.id='';location.hash=hash};tabby.destroy=function(){if(!settings)return;document.documentElement.classList.remove(settings.initClass);document.removeEventListener('click',clickHandler,!1);document.removeEventListener('focus',focusHandler,!0);root.removeEventListener('hashchange',hashChangeHandler,!1);settings=null;tab=null};tabby.init=function(options){if(!supports)return;tabby.destroy();settings=extend(defaults,options||{});document.documentElement.classList.add(settings.initClass);document.addEventListener('click',clickHandler,!1);document.addEventListener('focus',focusHandler,!0);root.addEventListener('hashchange',hashChangeHandler,!1);hashChangeHandler()};return tabby}));(function(root,factory){if(typeof define==='function'&&define.amd){define(["jquery"],function(a0){return(factory(a0))})}else if(typeof exports==='object'){module.exports=factory(require("jquery"))}else{factory(jQuery)}}(this,function($){var defaults={animation:'fade',animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:['sideTip'],repositionOnScroll:!1,restoration:'none',selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:'hover',triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:'rotate',zIndex:9999999},win=(typeof window!='undefined')?window:null,env={hasTouchCapability:!!(win&&('ontouchstart' in win||(win.DocumentTouch&&win.document instanceof win.DocumentTouch)||win.navigator.maxTouchPoints)),hasTransitions:transitionSupport(),IE:!1,semVer:'4.2.5',window:win},core=function(){this.__$emitterPrivate=$({});this.__$emitterPublic=$({});this.__instancesLatestArr=[];this.__plugins={};this._env=env};core.prototype={__bridge:function(constructor,obj,pluginName){if(!obj[pluginName]){var fn=function(){};fn.prototype=constructor;var pluginInstance=new fn();if(pluginInstance.__init){pluginInstance.__init(obj)}
$.each(constructor,function(methodName,fn){if(methodName.indexOf('__')!=0){if(!obj[methodName]){obj[methodName]=function(){return pluginInstance[methodName].apply(pluginInstance,Array.prototype.slice.apply(arguments))};obj[methodName].bridged=pluginInstance}
else if(defaults.debug){console.log('The '+methodName+' method of the '+pluginName+' plugin conflicts with another plugin or native methods')}}});obj[pluginName]=pluginInstance}
return this},__setWindow:function(window){env.window=window;return this},_getRuler:function($tooltip){return new Ruler($tooltip)},_off:function(){this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));return this},_on:function(){this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));return this},_one:function(){this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));return this},_plugin:function(plugin){var self=this;if(typeof plugin=='string'){var pluginName=plugin,p=null;if(pluginName.indexOf('.')>0){p=self.__plugins[pluginName]}
else{$.each(self.__plugins,function(i,plugin){if(plugin.name.substring(plugin.name.length-pluginName.length-1)=='.'+pluginName){p=plugin;return!1}})}
return p}
else{if(plugin.name.indexOf('.')<0){throw new Error('Plugins must be namespaced')}
self.__plugins[plugin.name]=plugin;if(plugin.core){self.__bridge(plugin.core,self,plugin.name)}
return this}},_trigger:function(){var args=Array.prototype.slice.apply(arguments);if(typeof args[0]=='string'){args[0]={type:args[0]}}
this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,args);this.__$emitterPublic.trigger.apply(this.__$emitterPublic,args);return this},instances:function(selector){var instances=[],sel=selector||'.tooltipstered';$(sel).each(function(){var $this=$(this),ns=$this.data('tooltipster-ns');if(ns){$.each(ns,function(i,namespace){instances.push($this.data(namespace))})}});return instances},instancesLatest:function(){return this.__instancesLatestArr},off:function(){this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this},on:function(){this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this},one:function(){this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this},origins:function(selector){var sel=selector?selector+' ':'';return $(sel+'.tooltipstered').toArray()},setDefaults:function(d){$.extend(defaults,d);return this},triggerHandler:function(){this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this}};$.tooltipster=new core();$.Tooltipster=function(element,options){this.__callbacks={close:[],open:[]};this.__closingTime;this.__Content;this.__contentBcr;this.__destroyed=!1;this.__$emitterPrivate=$({});this.__$emitterPublic=$({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace='tooltipster-'+Math.round(Math.random()*1000000);this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state='closed';this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;this._$tooltip;this.__init(element,options)};$.Tooltipster.prototype={__init:function(origin,options){var self=this;self._$origin=$(origin);self.__options=$.extend(!0,{},defaults,options);self.__optionsFormat();if(!env.IE||env.IE>=self.__options.IEmin){var initialTitle=null;if(self._$origin.data('tooltipster-initialTitle')===undefined){initialTitle=self._$origin.attr('title');if(initialTitle===undefined)initialTitle=null;self._$origin.data('tooltipster-initialTitle',initialTitle)}
if(self.__options.content!==null){self.__contentSet(self.__options.content)}
else{var selector=self._$origin.attr('data-tooltip-content'),$el;if(selector){$el=$(selector)}
if($el&&$el[0]){self.__contentSet($el.first())}
else{self.__contentSet(initialTitle)}}
self._$origin.removeAttr('title').addClass('tooltipstered');self.__prepareOrigin();self.__prepareGC();$.each(self.__options.plugins,function(i,pluginName){self._plug(pluginName)});if(env.hasTouchCapability){$(env.window.document.body).on('touchmove.'+self.__namespace+'-triggerOpen',function(event){self._touchRecordEvent(event)})}
self._on('created',function(){self.__prepareTooltip()})._on('repositioned',function(e){self.__lastPosition=e.position})}
else{self.__options.disabled=!0}},__contentInsert:function(){var self=this,$el=self._$tooltip.find('.tooltipster-content'),formattedContent=self.__Content,format=function(content){formattedContent=content};self._trigger({type:'format',content:self.__Content,format:format});if(self.__options.functionFormat){formattedContent=self.__options.functionFormat.call(self,self,{origin:self._$origin[0]},self.__Content)}
if(typeof formattedContent==='string'&&!self.__options.contentAsHTML){$el.text(formattedContent)}
else{$el.empty().append(formattedContent)}
return self},__contentSet:function(content){if(content instanceof $&&this.__options.contentCloning){content=content.clone(!0)}
this.__Content=content;this._trigger({type:'updated',content:content});return this},__destroyError:function(){throw new Error('This tooltip has been destroyed and cannot execute your method call.')},__geometry:function(){var self=this,$target=self._$origin,originIsArea=self._$origin.is('area');if(originIsArea){var mapName=self._$origin.parent().attr('name');$target=$('img[usemap="#'+mapName+'"]')}
var bcr=$target[0].getBoundingClientRect(),$document=$(env.window.document),$window=$(env.window),$parent=$target,geo={available:{document:null,window:null},document:{size:{height:$document.height(),width:$document.width()}},window:{scroll:{left:env.window.scrollX||env.window.document.documentElement.scrollLeft,top:env.window.scrollY||env.window.document.documentElement.scrollTop},size:{height:$window.height(),width:$window.width()}},origin:{fixedLineage:!1,offset:{},size:{height:bcr.bottom-bcr.top,width:bcr.right-bcr.left},usemapImage:originIsArea?$target[0]:null,windowOffset:{bottom:bcr.bottom,left:bcr.left,right:bcr.right,top:bcr.top}}},geoFixed=!1;if(originIsArea){var shape=self._$origin.attr('shape'),coords=self._$origin.attr('coords');if(coords){coords=coords.split(',');$.map(coords,function(val,i){coords[i]=parseInt(val)})}
if(shape!='default'){switch(shape){case 'circle':var circleCenterLeft=coords[0],circleCenterTop=coords[1],circleRadius=coords[2],areaTopOffset=circleCenterTop-circleRadius,areaLeftOffset=circleCenterLeft-circleRadius;geo.origin.size.height=circleRadius*2;geo.origin.size.width=geo.origin.size.height;geo.origin.windowOffset.left+=areaLeftOffset;geo.origin.windowOffset.top+=areaTopOffset;break;case 'rect':var areaLeft=coords[0],areaTop=coords[1],areaRight=coords[2],areaBottom=coords[3];geo.origin.size.height=areaBottom-areaTop;geo.origin.size.width=areaRight-areaLeft;geo.origin.windowOffset.left+=areaLeft;geo.origin.windowOffset.top+=areaTop;break;case 'poly':var areaSmallestX=0,areaSmallestY=0,areaGreatestX=0,areaGreatestY=0,arrayAlternate='even';for(var i=0;i<coords.length;i++){var areaNumber=coords[i];if(arrayAlternate=='even'){if(areaNumber>areaGreatestX){areaGreatestX=areaNumber;if(i===0){areaSmallestX=areaGreatestX}}
if(areaNumber<areaSmallestX){areaSmallestX=areaNumber}
arrayAlternate='odd'}
else{if(areaNumber>areaGreatestY){areaGreatestY=areaNumber;if(i==1){areaSmallestY=areaGreatestY}}
if(areaNumber<areaSmallestY){areaSmallestY=areaNumber}
arrayAlternate='even'}}
geo.origin.size.height=areaGreatestY-areaSmallestY;geo.origin.size.width=areaGreatestX-areaSmallestX;geo.origin.windowOffset.left+=areaSmallestX;geo.origin.windowOffset.top+=areaSmallestY;break}}}
var edit=function(r){geo.origin.size.height=r.height,geo.origin.windowOffset.left=r.left,geo.origin.windowOffset.top=r.top,geo.origin.size.width=r.width};self._trigger({type:'geometry',edit:edit,geometry:{height:geo.origin.size.height,left:geo.origin.windowOffset.left,top:geo.origin.windowOffset.top,width:geo.origin.size.width}});geo.origin.windowOffset.right=geo.origin.windowOffset.left+geo.origin.size.width;geo.origin.windowOffset.bottom=geo.origin.windowOffset.top+geo.origin.size.height;geo.origin.offset.left=geo.origin.windowOffset.left+geo.window.scroll.left;geo.origin.offset.top=geo.origin.windowOffset.top+geo.window.scroll.top;geo.origin.offset.bottom=geo.origin.offset.top+geo.origin.size.height;geo.origin.offset.right=geo.origin.offset.left+geo.origin.size.width;geo.available.document={bottom:{height:geo.document.size.height-geo.origin.offset.bottom,width:geo.document.size.width},left:{height:geo.document.size.height,width:geo.origin.offset.left},right:{height:geo.document.size.height,width:geo.document.size.width-geo.origin.offset.right},top:{height:geo.origin.offset.top,width:geo.document.size.width}};geo.available.window={bottom:{height:Math.max(geo.window.size.height-Math.max(geo.origin.windowOffset.bottom,0),0),width:geo.window.size.width},left:{height:geo.window.size.height,width:Math.max(geo.origin.windowOffset.left,0)},right:{height:geo.window.size.height,width:Math.max(geo.window.size.width-Math.max(geo.origin.windowOffset.right,0),0)},top:{height:Math.max(geo.origin.windowOffset.top,0),width:geo.window.size.width}};while($parent[0].tagName.toLowerCase()!='html'){if($parent.css('position')=='fixed'){geo.origin.fixedLineage=!0;break}
$parent=$parent.parent()}
return geo},__optionsFormat:function(){if(typeof this.__options.animationDuration=='number'){this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]}
if(typeof this.__options.delay=='number'){this.__options.delay=[this.__options.delay,this.__options.delay]}
if(typeof this.__options.delayTouch=='number'){this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]}
if(typeof this.__options.theme=='string'){this.__options.theme=[this.__options.theme]}
if(this.__options.parent===null){this.__options.parent=$(env.window.document.body)}
else if(typeof this.__options.parent=='string'){this.__options.parent=$(this.__options.parent)}
if(this.__options.trigger=='hover'){this.__options.triggerOpen={mouseenter:!0,touchstart:!0};this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}}
else if(this.__options.trigger=='click'){this.__options.triggerOpen={click:!0,tap:!0};this.__options.triggerClose={click:!0,tap:!0}}
this._trigger('options');return this},__prepareGC:function(){var self=this;if(self.__options.selfDestruction){self.__garbageCollector=setInterval(function(){var now=new Date().getTime();self.__touchEvents=$.grep(self.__touchEvents,function(event,i){return now-event.time>60000});if(!bodyContains(self._$origin)){self.close(function(){self.destroy()})}},20000)}
else{clearInterval(self.__garbageCollector)}
return self},__prepareOrigin:function(){var self=this;self._$origin.off('.'+self.__namespace+'-triggerOpen');if(env.hasTouchCapability){self._$origin.on('touchstart.'+self.__namespace+'-triggerOpen '+'touchend.'+self.__namespace+'-triggerOpen '+'touchcancel.'+self.__namespace+'-triggerOpen',function(event){self._touchRecordEvent(event)})}
if(self.__options.triggerOpen.click||(self.__options.triggerOpen.tap&&env.hasTouchCapability)){var eventNames='';if(self.__options.triggerOpen.click){eventNames+='click.'+self.__namespace+'-triggerOpen '}
if(self.__options.triggerOpen.tap&&env.hasTouchCapability){eventNames+='touchend.'+self.__namespace+'-triggerOpen'}
self._$origin.on(eventNames,function(event){if(self._touchIsMeaningfulEvent(event)){self._open(event)}})}
if(self.__options.triggerOpen.mouseenter||(self.__options.triggerOpen.touchstart&&env.hasTouchCapability)){var eventNames='';if(self.__options.triggerOpen.mouseenter){eventNames+='mouseenter.'+self.__namespace+'-triggerOpen '}
if(self.__options.triggerOpen.touchstart&&env.hasTouchCapability){eventNames+='touchstart.'+self.__namespace+'-triggerOpen'}
self._$origin.on(eventNames,function(event){if(self._touchIsTouchEvent(event)||!self._touchIsEmulatedEvent(event)){self.__pointerIsOverOrigin=!0;self._openShortly(event)}})}
if(self.__options.triggerClose.mouseleave||(self.__options.triggerClose.touchleave&&env.hasTouchCapability)){var eventNames='';if(self.__options.triggerClose.mouseleave){eventNames+='mouseleave.'+self.__namespace+'-triggerOpen '}
if(self.__options.triggerClose.touchleave&&env.hasTouchCapability){eventNames+='touchend.'+self.__namespace+'-triggerOpen touchcancel.'+self.__namespace+'-triggerOpen'}
self._$origin.on(eventNames,function(event){if(self._touchIsMeaningfulEvent(event)){self.__pointerIsOverOrigin=!1}})}
return self},__prepareTooltip:function(){var self=this,p=self.__options.interactive?'auto':'';self._$tooltip.attr('id',self.__namespace).css({'pointer-events':p,zIndex:self.__options.zIndex});$.each(self.__previousThemes,function(i,theme){self._$tooltip.removeClass(theme)});$.each(self.__options.theme,function(i,theme){self._$tooltip.addClass(theme)});self.__previousThemes=$.merge([],self.__options.theme);return self},__scrollHandler:function(event){var self=this;if(self.__options.triggerClose.scroll){self._close(event)}
else{if(bodyContains(self._$origin)&&bodyContains(self._$tooltip)){var geo=null;if(event.target===env.window.document){if(!self.__Geometry.origin.fixedLineage){if(self.__options.repositionOnScroll){self.reposition(event)}}}
else{geo=self.__geometry();var overflows=!1;if(self._$origin.css('position')!='fixed'){self.__$originParents.each(function(i,el){var $el=$(el),overflowX=$el.css('overflow-x'),overflowY=$el.css('overflow-y');if(overflowX!='visible'||overflowY!='visible'){var bcr=el.getBoundingClientRect();if(overflowX!='visible'){if(geo.origin.windowOffset.left<bcr.left||geo.origin.windowOffset.right>bcr.right){overflows=!0;return!1}}
if(overflowY!='visible'){if(geo.origin.windowOffset.top<bcr.top||geo.origin.windowOffset.bottom>bcr.bottom){overflows=!0;return!1}}}
if($el.css('position')=='fixed'){return!1}})}
if(overflows){self._$tooltip.css('visibility','hidden')}
else{self._$tooltip.css('visibility','visible');if(self.__options.repositionOnScroll){self.reposition(event)}
else{var offsetLeft=geo.origin.offset.left-self.__Geometry.origin.offset.left,offsetTop=geo.origin.offset.top-self.__Geometry.origin.offset.top;self._$tooltip.css({left:self.__lastPosition.coord.left+offsetLeft,top:self.__lastPosition.coord.top+offsetTop})}}}
self._trigger({type:'scroll',event:event,geo:geo})}}
return self},__stateSet:function(state){this.__state=state;this._trigger({type:'state',state:state});return this},__timeoutsClear:function(){clearTimeout(this.__timeouts.open);this.__timeouts.open=null;$.each(this.__timeouts.close,function(i,timeout){clearTimeout(timeout)});this.__timeouts.close=[];return this},__trackerStart:function(){var self=this,$content=self._$tooltip.find('.tooltipster-content');if(self.__options.trackTooltip){self.__contentBcr=$content[0].getBoundingClientRect()}
self.__tracker=setInterval(function(){if(!bodyContains(self._$origin)||!bodyContains(self._$tooltip)){self._close()}
else{if(self.__options.trackOrigin){var g=self.__geometry(),identical=!1;if(areEqual(g.origin.size,self.__Geometry.origin.size)){if(self.__Geometry.origin.fixedLineage){if(areEqual(g.origin.windowOffset,self.__Geometry.origin.windowOffset)){identical=!0}}
else{if(areEqual(g.origin.offset,self.__Geometry.origin.offset)){identical=!0}}}
if(!identical){if(self.__options.triggerClose.mouseleave){self._close()}
else{self.reposition()}}}
if(self.__options.trackTooltip){var currentBcr=$content[0].getBoundingClientRect();if(currentBcr.height!==self.__contentBcr.height||currentBcr.width!==self.__contentBcr.width){self.reposition();self.__contentBcr=currentBcr}}}},self.__options.trackerInterval);return self},_close:function(event,callback,force){var self=this,ok=!0;self._trigger({type:'close',event:event,stop:function(){ok=!1}});if(ok||force){if(callback)self.__callbacks.close.push(callback);self.__callbacks.open=[];self.__timeoutsClear();var finishCallbacks=function(){$.each(self.__callbacks.close,function(i,c){c.call(self,self,{event:event,origin:self._$origin[0]})});self.__callbacks.close=[]};if(self.__state!='closed'){var necessary=!0,d=new Date(),now=d.getTime(),newClosingTime=now+self.__options.animationDuration[1];if(self.__state=='disappearing'){if(newClosingTime>self.__closingTime&&self.__options.animationDuration[1]>0){necessary=!1}}
if(necessary){self.__closingTime=newClosingTime;if(self.__state!='disappearing'){self.__stateSet('disappearing')}
var finish=function(){clearInterval(self.__tracker);self._trigger({type:'closing',event:event});self._$tooltip.off('.'+self.__namespace+'-triggerClose').removeClass('tooltipster-dying');$(env.window).off('.'+self.__namespace+'-triggerClose');self.__$originParents.each(function(i,el){$(el).off('scroll.'+self.__namespace+'-triggerClose')});self.__$originParents=null;$(env.window.document.body).off('.'+self.__namespace+'-triggerClose');self._$origin.off('.'+self.__namespace+'-triggerClose');self._off('dismissable');self.__stateSet('closed');self._trigger({type:'after',event:event});if(self.__options.functionAfter){self.__options.functionAfter.call(self,self,{event:event,origin:self._$origin[0]})}
finishCallbacks()};if(env.hasTransitions){self._$tooltip.css({'-moz-animation-duration':self.__options.animationDuration[1]+'ms','-ms-animation-duration':self.__options.animationDuration[1]+'ms','-o-animation-duration':self.__options.animationDuration[1]+'ms','-webkit-animation-duration':self.__options.animationDuration[1]+'ms','animation-duration':self.__options.animationDuration[1]+'ms','transition-duration':self.__options.animationDuration[1]+'ms'});self._$tooltip.clearQueue().removeClass('tooltipster-show').addClass('tooltipster-dying');if(self.__options.animationDuration[1]>0){self._$tooltip.delay(self.__options.animationDuration[1])}
self._$tooltip.queue(finish)}
else{self._$tooltip.stop().fadeOut(self.__options.animationDuration[1],finish)}}}
else{finishCallbacks()}}
return self},_off:function(){this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));return this},_on:function(){this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));return this},_one:function(){this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));return this},_open:function(event,callback){var self=this;if(!self.__destroying){if(bodyContains(self._$origin)&&self.__enabled){var ok=!0;if(self.__state=='closed'){self._trigger({type:'before',event:event,stop:function(){ok=!1}});if(ok&&self.__options.functionBefore){ok=self.__options.functionBefore.call(self,self,{event:event,origin:self._$origin[0]})}}
if(ok!==!1){if(self.__Content!==null){if(callback){self.__callbacks.open.push(callback)}
self.__callbacks.close=[];self.__timeoutsClear();var extraTime,finish=function(){if(self.__state!='stable'){self.__stateSet('stable')}
$.each(self.__callbacks.open,function(i,c){c.call(self,self,{origin:self._$origin[0],tooltip:self._$tooltip[0]})});self.__callbacks.open=[]};if(self.__state!=='closed'){extraTime=0;if(self.__state==='disappearing'){self.__stateSet('appearing');if(env.hasTransitions){self._$tooltip.clearQueue().removeClass('tooltipster-dying').addClass('tooltipster-show');if(self.__options.animationDuration[0]>0){self._$tooltip.delay(self.__options.animationDuration[0])}
self._$tooltip.queue(finish)}
else{self._$tooltip.stop().fadeIn(finish)}}
else if(self.__state=='stable'){finish()}}
else{self.__stateSet('appearing');extraTime=self.__options.animationDuration[0];self.__contentInsert();self.reposition(event,!0);if(env.hasTransitions){self._$tooltip.addClass('tooltipster-'+self.__options.animation).addClass('tooltipster-initial').css({'-moz-animation-duration':self.__options.animationDuration[0]+'ms','-ms-animation-duration':self.__options.animationDuration[0]+'ms','-o-animation-duration':self.__options.animationDuration[0]+'ms','-webkit-animation-duration':self.__options.animationDuration[0]+'ms','animation-duration':self.__options.animationDuration[0]+'ms','transition-duration':self.__options.animationDuration[0]+'ms'});setTimeout(function(){if(self.__state!='closed'){self._$tooltip.addClass('tooltipster-show').removeClass('tooltipster-initial');if(self.__options.animationDuration[0]>0){self._$tooltip.delay(self.__options.animationDuration[0])}
self._$tooltip.queue(finish)}},0)}
else{self._$tooltip.css('display','none').fadeIn(self.__options.animationDuration[0],finish)}
self.__trackerStart();$(env.window).on('resize.'+self.__namespace+'-triggerClose',function(e){var $ae=$(document.activeElement);if((!$ae.is('input')&&!$ae.is('textarea'))||!$.contains(self._$tooltip[0],$ae[0])){self.reposition(e)}}).on('scroll.'+self.__namespace+'-triggerClose',function(e){self.__scrollHandler(e)});self.__$originParents=self._$origin.parents();self.__$originParents.each(function(i,parent){$(parent).on('scroll.'+self.__namespace+'-triggerClose',function(e){self.__scrollHandler(e)})});if(self.__options.triggerClose.mouseleave||(self.__options.triggerClose.touchleave&&env.hasTouchCapability)){self._on('dismissable',function(event){if(event.dismissable){if(event.delay){timeout=setTimeout(function(){self._close(event.event)},event.delay);self.__timeouts.close.push(timeout)}
else{self._close(event)}}
else{clearTimeout(timeout)}});var $elements=self._$origin,eventNamesIn='',eventNamesOut='',timeout=null;if(self.__options.interactive){$elements=$elements.add(self._$tooltip)}
if(self.__options.triggerClose.mouseleave){eventNamesIn+='mouseenter.'+self.__namespace+'-triggerClose ';eventNamesOut+='mouseleave.'+self.__namespace+'-triggerClose '}
if(self.__options.triggerClose.touchleave&&env.hasTouchCapability){eventNamesIn+='touchstart.'+self.__namespace+'-triggerClose';eventNamesOut+='touchend.'+self.__namespace+'-triggerClose touchcancel.'+self.__namespace+'-triggerClose'}
$elements.on(eventNamesOut,function(event){if(self._touchIsTouchEvent(event)||!self._touchIsEmulatedEvent(event)){var delay=(event.type=='mouseleave')?self.__options.delay:self.__options.delayTouch;self._trigger({delay:delay[1],dismissable:!0,event:event,type:'dismissable'})}}).on(eventNamesIn,function(event){if(self._touchIsTouchEvent(event)||!self._touchIsEmulatedEvent(event)){self._trigger({dismissable:!1,event:event,type:'dismissable'})}})}
if(self.__options.triggerClose.originClick){self._$origin.on('click.'+self.__namespace+'-triggerClose',function(event){if(!self._touchIsTouchEvent(event)&&!self._touchIsEmulatedEvent(event)){self._close(event)}})}
if(self.__options.triggerClose.click||(self.__options.triggerClose.tap&&env.hasTouchCapability)){setTimeout(function(){if(self.__state!='closed'){var eventNames='',$body=$(env.window.document.body);if(self.__options.triggerClose.click){eventNames+='click.'+self.__namespace+'-triggerClose '}
if(self.__options.triggerClose.tap&&env.hasTouchCapability){eventNames+='touchend.'+self.__namespace+'-triggerClose'}
$body.on(eventNames,function(event){if(self._touchIsMeaningfulEvent(event)){self._touchRecordEvent(event);if(!self.__options.interactive||!$.contains(self._$tooltip[0],event.target)){self._close(event)}}});if(self.__options.triggerClose.tap&&env.hasTouchCapability){$body.on('touchstart.'+self.__namespace+'-triggerClose',function(event){self._touchRecordEvent(event)})}}},0)}
self._trigger('ready');if(self.__options.functionReady){self.__options.functionReady.call(self,self,{origin:self._$origin[0],tooltip:self._$tooltip[0]})}}
if(self.__options.timer>0){var timeout=setTimeout(function(){self._close()},self.__options.timer+extraTime);self.__timeouts.close.push(timeout)}}}}}
return self},_openShortly:function(event){var self=this,ok=!0;if(self.__state!='stable'&&self.__state!='appearing'){if(!self.__timeouts.open){self._trigger({type:'start',event:event,stop:function(){ok=!1}});if(ok){var delay=(event.type.indexOf('touch')==0)?self.__options.delayTouch:self.__options.delay;if(delay[0]){self.__timeouts.open=setTimeout(function(){self.__timeouts.open=null;if(self.__pointerIsOverOrigin&&self._touchIsMeaningfulEvent(event)){self._trigger('startend');self._open(event)}
else{self._trigger('startcancel')}},delay[0])}
else{self._trigger('startend');self._open(event)}}}}
return self},_optionsExtract:function(pluginName,defaultOptions){var self=this,options=$.extend(!0,{},defaultOptions);var pluginOptions=self.__options[pluginName];if(!pluginOptions){pluginOptions={};$.each(defaultOptions,function(optionName,value){var o=self.__options[optionName];if(o!==undefined){pluginOptions[optionName]=o}})}
$.each(options,function(optionName,value){if(pluginOptions[optionName]!==undefined){if((typeof value=='object'&&!(value instanceof Array)&&value!=null)&&(typeof pluginOptions[optionName]=='object'&&!(pluginOptions[optionName]instanceof Array)&&pluginOptions[optionName]!=null)){$.extend(options[optionName],pluginOptions[optionName])}
else{options[optionName]=pluginOptions[optionName]}}});return options},_plug:function(pluginName){var plugin=$.tooltipster._plugin(pluginName);if(plugin){if(plugin.instance){$.tooltipster.__bridge(plugin.instance,this,plugin.name)}}
else{throw new Error('The "'+pluginName+'" plugin is not defined')}
return this},_touchIsEmulatedEvent:function(event){var isEmulated=!1,now=new Date().getTime();for(var i=this.__touchEvents.length-1;i>=0;i--){var e=this.__touchEvents[i];if(now-e.time<500){if(e.target===event.target){isEmulated=!0}}
else{break}}
return isEmulated},_touchIsMeaningfulEvent:function(event){return((this._touchIsTouchEvent(event)&&!this._touchSwiped(event.target))||(!this._touchIsTouchEvent(event)&&!this._touchIsEmulatedEvent(event)))},_touchIsTouchEvent:function(event){return event.type.indexOf('touch')==0},_touchRecordEvent:function(event){if(this._touchIsTouchEvent(event)){event.time=new Date().getTime();this.__touchEvents.push(event)}
return this},_touchSwiped:function(target){var swiped=!1;for(var i=this.__touchEvents.length-1;i>=0;i--){var e=this.__touchEvents[i];if(e.type=='touchmove'){swiped=!0;break}
else if(e.type=='touchstart'&&target===e.target){break}}
return swiped},_trigger:function(){var args=Array.prototype.slice.apply(arguments);if(typeof args[0]=='string'){args[0]={type:args[0]}}
args[0].instance=this;args[0].origin=this._$origin?this._$origin[0]:null;args[0].tooltip=this._$tooltip?this._$tooltip[0]:null;this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,args);$.tooltipster._trigger.apply($.tooltipster,args);this.__$emitterPublic.trigger.apply(this.__$emitterPublic,args);return this},_unplug:function(pluginName){var self=this;if(self[pluginName]){var plugin=$.tooltipster._plugin(pluginName);if(plugin.instance){$.each(plugin.instance,function(methodName,fn){if(self[methodName]&&self[methodName].bridged===self[pluginName]){delete self[methodName]}})}
if(self[pluginName].__destroy){self[pluginName].__destroy()}
delete self[pluginName]}
return self},close:function(callback){if(!this.__destroyed){this._close(null,callback)}
else{this.__destroyError()}
return this},content:function(content){var self=this;if(content===undefined){return self.__Content}
else{if(!self.__destroyed){self.__contentSet(content);if(self.__Content!==null){if(self.__state!=='closed'){self.__contentInsert();self.reposition();if(self.__options.updateAnimation){if(env.hasTransitions){var animation=self.__options.updateAnimation;self._$tooltip.addClass('tooltipster-update-'+animation);setTimeout(function(){if(self.__state!='closed'){self._$tooltip.removeClass('tooltipster-update-'+animation)}},1000)}
else{self._$tooltip.fadeTo(200,0.5,function(){if(self.__state!='closed'){self._$tooltip.fadeTo(200,1)}})}}}}
else{self._close()}}
else{self.__destroyError()}
return self}},destroy:function(){var self=this;if(!self.__destroyed){if(self.__state!='closed'){self.option('animationDuration',0)._close(null,null,!0)}
else{self.__timeoutsClear()}
self._trigger('destroy');self.__destroyed=!0;self._$origin.removeData(self.__namespace).off('.'+self.__namespace+'-triggerOpen');$(env.window.document.body).off('.'+self.__namespace+'-triggerOpen');var ns=self._$origin.data('tooltipster-ns');if(ns){if(ns.length===1){var title=null;if(self.__options.restoration=='previous'){title=self._$origin.data('tooltipster-initialTitle')}
else if(self.__options.restoration=='current'){title=(typeof self.__Content=='string')?self.__Content:$('<div></div>').append(self.__Content).html()}
if(title){self._$origin.attr('title',title)}
self._$origin.removeClass('tooltipstered');self._$origin.removeData('tooltipster-ns').removeData('tooltipster-initialTitle')}
else{ns=$.grep(ns,function(el,i){return el!==self.__namespace});self._$origin.data('tooltipster-ns',ns)}}
self._trigger('destroyed');self._off();self.off();self.__Content=null;self.__$emitterPrivate=null;self.__$emitterPublic=null;self.__options.parent=null;self._$origin=null;self._$tooltip=null;$.tooltipster.__instancesLatestArr=$.grep($.tooltipster.__instancesLatestArr,function(el,i){return self!==el});clearInterval(self.__garbageCollector)}
else{self.__destroyError()}
return self},disable:function(){if(!this.__destroyed){this._close();this.__enabled=!1;return this}
else{this.__destroyError()}
return this},elementOrigin:function(){if(!this.__destroyed){return this._$origin[0]}
else{this.__destroyError()}},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){this.__enabled=!0;return this},hide:function(callback){return this.close(callback)},instance:function(){return this},off:function(){if(!this.__destroyed){this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments))}
return this},on:function(){if(!this.__destroyed){this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments))}
else{this.__destroyError()}
return this},one:function(){if(!this.__destroyed){this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments))}
else{this.__destroyError()}
return this},open:function(callback){if(!this.__destroyed){this._open(null,callback)}
else{this.__destroyError()}
return this},option:function(o,val){if(val===undefined){return this.__options[o]}
else{if(!this.__destroyed){this.__options[o]=val;this.__optionsFormat();if($.inArray(o,['trigger','triggerClose','triggerOpen'])>=0){this.__prepareOrigin()}
if(o==='selfDestruction'){this.__prepareGC()}}
else{this.__destroyError()}
return this}},reposition:function(event,tooltipIsDetached){var self=this;if(!self.__destroyed){if(self.__state!='closed'&&bodyContains(self._$origin)){if(tooltipIsDetached||bodyContains(self._$tooltip)){if(!tooltipIsDetached){self._$tooltip.detach()}
self.__Geometry=self.__geometry();self._trigger({type:'reposition',event:event,helper:{geo:self.__Geometry}})}}}
else{self.__destroyError()}
return self},show:function(callback){return this.open(callback)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:this.__state!=='closed',state:this.__state}},triggerHandler:function(){if(!this.__destroyed){this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments))}
else{this.__destroyError()}
return this}};$.fn.tooltipster=function(){var args=Array.prototype.slice.apply(arguments),contentCloningWarning='You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.';if(this.length===0){return this}
else{if(typeof args[0]==='string'){var v='#*$~&';this.each(function(){var ns=$(this).data('tooltipster-ns'),self=ns?$(this).data(ns[0]):null;if(self){if(typeof self[args[0]]==='function'){if(this.length>1&&args[0]=='content'&&(args[1]instanceof $||(typeof args[1]=='object'&&args[1]!=null&&args[1].tagName))&&!self.__options.contentCloning&&self.__options.debug){console.log(contentCloningWarning)}
var resp=self[args[0]](args[1],args[2])}
else{throw new Error('Unknown method "'+args[0]+'"')}
if(resp!==self||args[0]==='instance'){v=resp;return!1}}
else{throw new Error('You called Tooltipster\'s "'+args[0]+'" method on an uninitialized element')}});return(v!=='#*$~&')?v:this}
else{$.tooltipster.__instancesLatestArr=[];var multipleIsSet=args[0]&&args[0].multiple!==undefined,multiple=(multipleIsSet&&args[0].multiple)||(!multipleIsSet&&defaults.multiple),contentIsSet=args[0]&&args[0].content!==undefined,content=(contentIsSet&&args[0].content)||(!contentIsSet&&defaults.content),contentCloningIsSet=args[0]&&args[0].contentCloning!==undefined,contentCloning=(contentCloningIsSet&&args[0].contentCloning)||(!contentCloningIsSet&&defaults.contentCloning),debugIsSet=args[0]&&args[0].debug!==undefined,debug=(debugIsSet&&args[0].debug)||(!debugIsSet&&defaults.debug);if(this.length>1&&(content instanceof $||(typeof content=='object'&&content!=null&&content.tagName))&&!contentCloning&&debug){console.log(contentCloningWarning)}
this.each(function(){var go=!1,$this=$(this),ns=$this.data('tooltipster-ns'),obj=null;if(!ns){go=!0}
else if(multiple){go=!0}
else if(debug){console.log('Tooltipster: one or more tooltips are already attached to the element below. Ignoring.');console.log(this)}
if(go){obj=new $.Tooltipster(this,args[0]);if(!ns)ns=[];ns.push(obj.__namespace);$this.data('tooltipster-ns',ns);$this.data(obj.__namespace,obj);if(obj.__options.functionInit){obj.__options.functionInit.call(obj,obj,{origin:this})}
obj._trigger('init')}
$.tooltipster.__instancesLatestArr.push(obj)});return this}}};function Ruler($tooltip){this.$container;this.constraints=null;this.__$tooltip;this.__init($tooltip)}
Ruler.prototype={__init:function($tooltip){this.__$tooltip=$tooltip;this.__$tooltip.css({left:0,overflow:'hidden',position:'absolute',top:0}).find('.tooltipster-content').css('overflow','auto');this.$container=$('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(env.window.document.body)},__forceRedraw:function(){var $p=this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo($p)},constrain:function(width,height){this.constraints={width:width,height:height};this.__$tooltip.css({display:'block',height:'',overflow:'auto',width:width});return this},destroy:function(){this.__$tooltip.detach().find('.tooltipster-content').css({display:'',overflow:''});this.$container.remove()},free:function(){this.constraints=null;this.__$tooltip.css({display:'',height:'',overflow:'visible',width:''});return this},measure:function(){this.__forceRedraw();var tooltipBcr=this.__$tooltip[0].getBoundingClientRect(),result={size:{height:tooltipBcr.height||(tooltipBcr.bottom-tooltipBcr.top),width:tooltipBcr.width||(tooltipBcr.right-tooltipBcr.left)}};if(this.constraints){var $content=this.__$tooltip.find('.tooltipster-content'),height=this.__$tooltip.outerHeight(),contentBcr=$content[0].getBoundingClientRect(),fits={height:height<=this.constraints.height,width:(tooltipBcr.width<=this.constraints.width&&contentBcr.width>=$content[0].scrollWidth-1)};result.fits=fits.height&&fits.width}
if(env.IE&&env.IE<=11&&result.size.width!==env.window.document.documentElement.clientWidth){result.size.width=Math.ceil(result.size.width)+1}
return result}};function areEqual(a,b){var same=!0;$.each(a,function(i,_){if(b[i]===undefined||a[i]!==b[i]){same=!1;return!1}});return same}
function bodyContains($obj){var id=$obj.attr('id'),el=id?env.window.document.getElementById(id):null;return el?el===$obj[0]:$.contains(env.window.document.body,$obj[0])}
var uA=navigator.userAgent.toLowerCase();if(uA.indexOf('msie')!=-1)env.IE=parseInt(uA.split('msie')[1]);else if(uA.toLowerCase().indexOf('trident')!==-1&&uA.indexOf(' rv:11')!==-1)env.IE=11;else if(uA.toLowerCase().indexOf('edge/')!=-1)env.IE=parseInt(uA.toLowerCase().split('edge/')[1]);function transitionSupport(){if(!win)return!1;var b=win.document.body||win.document.documentElement,s=b.style,p='transition',v=['Moz','Webkit','Khtml','O','ms'];if(typeof s[p]=='string'){return!0}
p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++){if(typeof s[v[i]+p]=='string'){return!0}}
return!1}
var pluginName='tooltipster.sideTip';$.tooltipster._plugin({name:pluginName,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:'top',viewportAware:!0}},__init:function(instance){var self=this;self.__instance=instance;self.__namespace='tooltipster-sideTip-'+Math.round(Math.random()*1000000);self.__previousState='closed';self.__options;self.__optionsFormat();self.__instance._on('state.'+self.__namespace,function(event){if(event.state=='closed'){self.__close()}
else if(event.state=='appearing'&&self.__previousState=='closed'){self.__create()}
self.__previousState=event.state});self.__instance._on('options.'+self.__namespace,function(){self.__optionsFormat()});self.__instance._on('reposition.'+self.__namespace,function(e){self.__reposition(e.event,e.helper)})},__close:function(){if(this.__instance.content()instanceof $){this.__instance.content().detach()}
this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var $html=$('<div class="tooltipster-base tooltipster-sidetip">'+'<div class="tooltipster-box">'+'<div class="tooltipster-content"></div>'+'</div>'+'<div class="tooltipster-arrow">'+'<div class="tooltipster-arrow-uncropped">'+'<div class="tooltipster-arrow-border"></div>'+'<div class="tooltipster-arrow-background"></div>'+'</div>'+'</div>'+'</div>');if(!this.__options.arrow){$html.find('.tooltipster-box').css('margin',0).end().find('.tooltipster-arrow').hide()}
if(this.__options.minWidth){$html.css('min-width',this.__options.minWidth+'px')}
if(this.__options.maxWidth){$html.css('max-width',this.__options.maxWidth+'px')}
this.__instance._$tooltip=$html;this.__instance._trigger('created')},__destroy:function(){this.__instance._off('.'+self.__namespace)},__optionsFormat:function(){var self=this;self.__options=self.__instance._optionsExtract(pluginName,self.__defaults());if(self.__options.position){self.__options.side=self.__options.position}
if(typeof self.__options.distance!='object'){self.__options.distance=[self.__options.distance]}
if(self.__options.distance.length<4){if(self.__options.distance[1]===undefined)self.__options.distance[1]=self.__options.distance[0];if(self.__options.distance[2]===undefined)self.__options.distance[2]=self.__options.distance[0];if(self.__options.distance[3]===undefined)self.__options.distance[3]=self.__options.distance[1];self.__options.distance={top:self.__options.distance[0],right:self.__options.distance[1],bottom:self.__options.distance[2],left:self.__options.distance[3]}}
if(typeof self.__options.side=='string'){var opposites={'top':'bottom','right':'left','bottom':'top','left':'right'};self.__options.side=[self.__options.side,opposites[self.__options.side]];if(self.__options.side[0]=='left'||self.__options.side[0]=='right'){self.__options.side.push('top','bottom')}
else{self.__options.side.push('right','left')}}
if($.tooltipster._env.IE===6&&self.__options.arrow!==!0){self.__options.arrow=!1}},__reposition:function(event,helper){var self=this,finalResult,targets=self.__targetFind(helper),testResults=[];self.__instance._$tooltip.detach();var $clone=self.__instance._$tooltip.clone(),ruler=$.tooltipster._getRuler($clone),satisfied=!1,animation=self.__instance.option('animation');if(animation){$clone.removeClass('tooltipster-'+animation)}
$.each(['window','document'],function(i,container){var takeTest=null;self.__instance._trigger({container:container,helper:helper,satisfied:satisfied,takeTest:function(bool){takeTest=bool},results:testResults,type:'positionTest'});if(takeTest==!0||(takeTest!=!1&&satisfied==!1&&(container!='window'||self.__options.viewportAware))){for(var i=0;i<self.__options.side.length;i++){var distance={horizontal:0,vertical:0},side=self.__options.side[i];if(side=='top'||side=='bottom'){distance.vertical=self.__options.distance[side]}
else{distance.horizontal=self.__options.distance[side]}
self.__sideChange($clone,side);$.each(['natural','constrained'],function(i,mode){takeTest=null;self.__instance._trigger({container:container,event:event,helper:helper,mode:mode,results:testResults,satisfied:satisfied,side:side,takeTest:function(bool){takeTest=bool},type:'positionTest'});if(takeTest==!0||(takeTest!=!1&&satisfied==!1)){var testResult={container:container,distance:distance,fits:null,mode:mode,outerSize:null,side:side,size:null,target:targets[side],whole:null};var rulerConfigured=(mode=='natural')?ruler.free():ruler.constrain(helper.geo.available[container][side].width-distance.horizontal,helper.geo.available[container][side].height-distance.vertical),rulerResults=rulerConfigured.measure();testResult.size=rulerResults.size;testResult.outerSize={height:rulerResults.size.height+distance.vertical,width:rulerResults.size.width+distance.horizontal};if(mode=='natural'){if(helper.geo.available[container][side].width>=testResult.outerSize.width&&helper.geo.available[container][side].height>=testResult.outerSize.height){testResult.fits=!0}
else{testResult.fits=!1}}
else{testResult.fits=rulerResults.fits}
if(container=='window'){if(!testResult.fits){testResult.whole=!1}
else{if(side=='top'||side=='bottom'){testResult.whole=(helper.geo.origin.windowOffset.right>=self.__options.minIntersection&&helper.geo.window.size.width-helper.geo.origin.windowOffset.left>=self.__options.minIntersection)}
else{testResult.whole=(helper.geo.origin.windowOffset.bottom>=self.__options.minIntersection&&helper.geo.window.size.height-helper.geo.origin.windowOffset.top>=self.__options.minIntersection)}}}
testResults.push(testResult);if(testResult.whole){satisfied=!0}
else{if(testResult.mode=='natural'&&(testResult.fits||testResult.size.width<=helper.geo.available[container][side].width)){return!1}}}})}}});self.__instance._trigger({edit:function(r){testResults=r},event:event,helper:helper,results:testResults,type:'positionTested'});testResults.sort(function(a,b){if(a.whole&&!b.whole){return-1}
else if(!a.whole&&b.whole){return 1}
else if(a.whole&&b.whole){var ai=self.__options.side.indexOf(a.side),bi=self.__options.side.indexOf(b.side);if(ai<bi){return-1}
else if(ai>bi){return 1}
else{return a.mode=='natural'?-1:1}}
else{if(a.fits&&!b.fits){return-1}
else if(!a.fits&&b.fits){return 1}
else if(a.fits&&b.fits){var ai=self.__options.side.indexOf(a.side),bi=self.__options.side.indexOf(b.side);if(ai<bi){return-1}
else if(ai>bi){return 1}
else{return a.mode=='natural'?-1:1}}
else{if(a.container=='document'&&a.side=='bottom'&&a.mode=='natural'){return-1}
else{return 1}}}});finalResult=testResults[0];finalResult.coord={};switch(finalResult.side){case 'left':case 'right':finalResult.coord.top=Math.floor(finalResult.target-finalResult.size.height/2);break;case 'bottom':case 'top':finalResult.coord.left=Math.floor(finalResult.target-finalResult.size.width/2);break}
switch(finalResult.side){case 'left':finalResult.coord.left=helper.geo.origin.windowOffset.left-finalResult.outerSize.width;break;case 'right':finalResult.coord.left=helper.geo.origin.windowOffset.right+finalResult.distance.horizontal;break;case 'top':finalResult.coord.top=helper.geo.origin.windowOffset.top-finalResult.outerSize.height;break;case 'bottom':finalResult.coord.top=helper.geo.origin.windowOffset.bottom+finalResult.distance.vertical;break}
if(finalResult.container=='window'){if(finalResult.side=='top'||finalResult.side=='bottom'){if(finalResult.coord.left<0){if(helper.geo.origin.windowOffset.right-this.__options.minIntersection>=0){finalResult.coord.left=0}
else{finalResult.coord.left=helper.geo.origin.windowOffset.right-this.__options.minIntersection-1}}
else if(finalResult.coord.left>helper.geo.window.size.width-finalResult.size.width){if(helper.geo.origin.windowOffset.left+this.__options.minIntersection<=helper.geo.window.size.width){finalResult.coord.left=helper.geo.window.size.width-finalResult.size.width}
else{finalResult.coord.left=helper.geo.origin.windowOffset.left+this.__options.minIntersection+1-finalResult.size.width}}}
else{if(finalResult.coord.top<0){if(helper.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0){finalResult.coord.top=0}
else{finalResult.coord.top=helper.geo.origin.windowOffset.bottom-this.__options.minIntersection-1}}
else if(finalResult.coord.top>helper.geo.window.size.height-finalResult.size.height){if(helper.geo.origin.windowOffset.top+this.__options.minIntersection<=helper.geo.window.size.height){finalResult.coord.top=helper.geo.window.size.height-finalResult.size.height}
else{finalResult.coord.top=helper.geo.origin.windowOffset.top+this.__options.minIntersection+1-finalResult.size.height}}}}
else{if(finalResult.coord.left>helper.geo.window.size.width-finalResult.size.width){finalResult.coord.left=helper.geo.window.size.width-finalResult.size.width}
if(finalResult.coord.left<0){finalResult.coord.left=0}}
self.__sideChange($clone,finalResult.side);helper.tooltipClone=$clone[0];helper.tooltipParent=self.__instance.option('parent').parent[0];helper.mode=finalResult.mode;helper.whole=finalResult.whole;helper.origin=self.__instance._$origin[0];helper.tooltip=self.__instance._$tooltip[0];delete finalResult.container;delete finalResult.fits;delete finalResult.mode;delete finalResult.outerSize;delete finalResult.whole;finalResult.distance=finalResult.distance.horizontal||finalResult.distance.vertical;var finalResultClone=$.extend(!0,{},finalResult);self.__instance._trigger({edit:function(result){finalResult=result},event:event,helper:helper,position:finalResultClone,type:'position'});if(self.__options.functionPosition){var result=self.__options.functionPosition.call(self,self.__instance,helper,finalResultClone);if(result)finalResult=result}
ruler.destroy();var arrowCoord,maxVal;if(finalResult.side=='top'||finalResult.side=='bottom'){arrowCoord={prop:'left',val:finalResult.target-finalResult.coord.left};maxVal=finalResult.size.width-this.__options.minIntersection}
else{arrowCoord={prop:'top',val:finalResult.target-finalResult.coord.top};maxVal=finalResult.size.height-this.__options.minIntersection}
if(arrowCoord.val<this.__options.minIntersection){arrowCoord.val=this.__options.minIntersection}
else if(arrowCoord.val>maxVal){arrowCoord.val=maxVal}
var originParentOffset;if(helper.geo.origin.fixedLineage){originParentOffset=helper.geo.origin.windowOffset}
else{originParentOffset={left:helper.geo.origin.windowOffset.left+helper.geo.window.scroll.left,top:helper.geo.origin.windowOffset.top+helper.geo.window.scroll.top}}
finalResult.coord={left:originParentOffset.left+(finalResult.coord.left-helper.geo.origin.windowOffset.left),top:originParentOffset.top+(finalResult.coord.top-helper.geo.origin.windowOffset.top)};self.__sideChange(self.__instance._$tooltip,finalResult.side);if(helper.geo.origin.fixedLineage){self.__instance._$tooltip.css('position','fixed')}
else{self.__instance._$tooltip.css('position','')}
self.__instance._$tooltip.css({left:finalResult.coord.left,top:finalResult.coord.top,height:finalResult.size.height,width:finalResult.size.width}).find('.tooltipster-arrow').css({'left':'','top':''}).css(arrowCoord.prop,arrowCoord.val);self.__instance._$tooltip.appendTo(self.__instance.option('parent'));self.__instance._trigger({type:'repositioned',event:event,position:finalResult})},__sideChange:function($obj,side){$obj.removeClass('tooltipster-bottom').removeClass('tooltipster-left').removeClass('tooltipster-right').removeClass('tooltipster-top').addClass('tooltipster-'+side)},__targetFind:function(helper){var target={},rects=this.__instance._$origin[0].getClientRects();if(rects.length>1){var opacity=this.__instance._$origin.css('opacity');if(opacity==1){this.__instance._$origin.css('opacity',0.99);rects=this.__instance._$origin[0].getClientRects();this.__instance._$origin.css('opacity',1)}}
if(rects.length<2){target.top=Math.floor(helper.geo.origin.windowOffset.left+(helper.geo.origin.size.width/2));target.bottom=target.top;target.left=Math.floor(helper.geo.origin.windowOffset.top+(helper.geo.origin.size.height/2));target.right=target.left}
else{var targetRect=rects[0];target.top=Math.floor(targetRect.left+(targetRect.right-targetRect.left)/2);if(rects.length>2){targetRect=rects[Math.ceil(rects.length/2)-1]}
else{targetRect=rects[0]}
target.right=Math.floor(targetRect.top+(targetRect.bottom-targetRect.top)/2);targetRect=rects[rects.length-1];target.bottom=Math.floor(targetRect.left+(targetRect.right-targetRect.left)/2);if(rects.length>2){targetRect=rects[Math.ceil((rects.length+1)/2)-1]}
else{targetRect=rects[rects.length-1]}
target.left=Math.floor(targetRect.top+(targetRect.bottom-targetRect.top)/2)}
return target}}});return $}));!function(a){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}},c="0.10.2",d=function(){function a(a){return a.split(/\s+/)}function b(a){return a.split(/\W+/)}function c(a){return function(b){return function(c){return a(c[b])}}}return{nonword:b,whitespace:a,obj:{nonword:c(b),whitespace:c(a)}}}(),e=function(){function a(a){this.maxSize=a||100,this.size=0,this.hash={},this.list=new c}function c(){this.head=this.tail=null}function d(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(a.prototype,{set:function(a,b){var c,e=this.list.tail;this.size>=this.maxSize&&(this.list.remove(e),delete this.hash[e.key]),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new d(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0}}),b.mixin(c.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),a}(),f=function(){function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function c(){return(new Date).getTime()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}function e(a){return JSON.parse(a)}var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(h){f=null}return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))},set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))},remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this},clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return b.isNumber(d)&&c()>d?!0:!1}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop},b.mixin(a.prototype,g),a}(),g=function(){function c(b){b=b||{},this._send=b.transport?d(b.transport):a.ajax,this._get=b.rateLimiter?b.rateLimiter(this._get):this._get}function d(c){return function(d,e){function f(a){b.defer(function(){h.resolve(a)})}function g(a){b.defer(function(){h.reject(a)})}var h=a.Deferred();return c(d,e,f,g),h}}var f=0,g={},h=6,i=new e(10);return c.setMaxPendingRequests=function(a){h=a},c.resetCache=function(){i=new e(10)},b.mixin(c.prototype,{_get:function(a,b,c){function d(b){c&&c(null,b),i.set(a,b)}function e(){c&&c(!0)}function j(){f--,delete g[a],l.onDeckRequestArgs&&(l._get.apply(l,l.onDeckRequestArgs),l.onDeckRequestArgs=null)}var k,l=this;(k=g[a])?k.done(d).fail(e):h>f?(f++,g[a]=this._send(a,b).done(d).fail(e).always(j)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(a,c,d){var e;return b.isFunction(c)&&(d=c,c={}),(e=i.get(a))?b.defer(function(){d&&d(null,e)}):this._get(a,c,d),!!e}}),c}(),h=function(){function c(b){b=b||{},b.datumTokenizer&&b.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=b.datumTokenizer,this.queryTokenizer=b.queryTokenizer,this.reset()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){return{ids:[],children:{}}}function f(a){for(var b={},c=[],d=0;d<a.length;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){function c(a,b){return a-b}var d=0,e=0,f=[];for(a=a.sort(c),b=b.sort(c);d<a.length&&e<b.length;)a[d]<b[e]?d++:a[d]>b[e]?e++:(f.push(a[d]),d++,e++);return f}return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.datums.push(a)-1,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b.children[g]||(b.children[g]=e()),b.ids.push(f)})})},get:function(a){var c,e,h=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=h.trie,c=a.split("");b&&(d=c.shift());)b=b.children[d];return b&&0===c.length?(f=b.ids.slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return h.datums[a]}):[]},reset:function(){this.datums=[],this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),i=function(){function d(a){return a.local||null}function e(d){var e,f;return f={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(e=d.prefetch||null)&&(e=b.isString(e)?{url:e}:e,e=b.mixin(f,e),e.thumbprint=c+e.thumbprint,e.ajax.type=e.ajax.type||"GET",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&a.error("prefetch requires url to be set")),e}function f(c){function d(a){return function(c){return b.debounce(c,a)}}function e(a){return function(c){return b.throttle(c,a)}}var f,g;return g={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(f=c.remote||null)&&(f=b.isString(f)?{url:f}:f,f=b.mixin(g,f),f.rateLimiter=/^throttle$/i.test(f.rateLimitBy)?e(f.rateLimitWait):d(f.rateLimitWait),f.ajax.type=f.ajax.type||"GET",f.ajax.dataType=f.ajax.dataType||"json",delete f.rateLimitBy,delete f.rateLimitWait,!f.url&&a.error("remote requires url to be set")),f}return{local:d,prefetch:e,remote:f}}();!function(c){function e(b){b&&(b.local||b.prefetch||b.remote)||a.error("one of local, prefetch, or remote is required"),this.limit=b.limit||5,this.sorter=j(b.sorter),this.dupDetector=b.dupDetector||k,this.local=i.local(b),this.prefetch=i.prefetch(b),this.remote=i.remote(b),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new h({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer}),this.storage=this.cacheKey?new f(this.cacheKey):null}function j(a){function c(b){return b.sort(a)}function d(a){return a}return b.isFunction(a)?c:d}function k(){return!1}var l,m;return l=c.Bloodhound,m={data:"data",protocol:"protocol",thumbprint:"thumbprint"},c.Bloodhound=e,e.noConflict=function(){return c.Bloodhound=l,e},e.tokenizers=d,b.mixin(e.prototype,{_loadPrefetch:function(b){function c(a){f.clear(),f.add(b.filter?b.filter(a):a),f._saveToStorage(f.index.serialize(),b.thumbprint,b.ttl)}var d,e,f=this;return(d=this._readFromStorage(b.thumbprint))?(this.index.bootstrap(d),e=a.Deferred().resolve()):e=a.ajax(b.url,b.ajax).done(c),e},_getFromRemote:function(a,b){function c(a,c){b(a?[]:f.remote.filter?f.remote.filter(c):c)}var d,e,f=this;return a=a||"",e=encodeURIComponent(a),d=this.remote.replace?this.remote.replace(this.remote.url,a):this.remote.url.replace(this.remote.wildcard,e),this.transport.get(d,this.remote.ajax,c)},_saveToStorage:function(a,b,c){this.storage&&(this.storage.set(m.data,a,c),this.storage.set(m.protocol,location.protocol,c),this.storage.set(m.thumbprint,b,c))},_readFromStorage:function(a){var b,c={};return this.storage&&(c.data=this.storage.get(m.data),c.protocol=this.storage.get(m.protocol),c.thumbprint=this.storage.get(m.thumbprint)),b=c.thumbprint!==a||c.protocol!==location.protocol,c.data&&!b?c.data:null},_initialize:function(){function c(){e.add(b.isFunction(f)?f():f)}var d,e=this,f=this.local;return d=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),f&&d.done(c),this.transport=this.remote?new g(this.remote):null,this.initPromise=d.promise()},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){this.index.add(a)},get:function(a,c){function d(a){var d=f.slice(0);b.each(a,function(a){var c;return c=b.some(d,function(b){return e.dupDetector(a,b)}),!c&&d.push(a),d.length<e.limit}),c&&c(e.sorter(d))}var e=this,f=[],g=!1;f=this.index.get(a),f=this.sorter(f).slice(0,this.limit),f.length<this.limit&&this.transport&&(g=this._getFromRemote(a,d)),g||(f.length>0||!this.transport)&&c&&c(f)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&g.resetCache()},ttAdapter:function(){return b.bind(this.get,this)}}),e}(this);var j={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},k={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};b.isMsie()&&b.mixin(k.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b.isMsie()&&b.isMsie()<=7&&b.mixin(k.input,{marginTop:"-1px"});var l=function(){function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d="typeahead:";return b.mixin(c.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger(d+a,b)}}),c}(),m=function(){function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0;!d&&e<a.length;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),n=function(a){function c(a,c,d){for(var e,f=[],g=0;g<a.length;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d;return(c=h.exec(b.data))&&(wrapperNode=a.createElement(e.tagName),e.className&&(wrapperNode.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),wrapperNode.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(wrapperNode,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),o=function(){function c(c){var e,f,h,i,j=this;c=c||{},c.input||a.error("input is missing"),e=b.bind(this._onBlur,this),f=b.bind(this._onFocus,this),h=b.bind(this._onKeydown,this),i=b.bind(this._onInput,this),this.$hint=a(c.hint),this.$input=a(c.input).on("blur.tt",e).on("focus.tt",f).on("keydown.tt",h),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop),b.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){g[a.which||a.keyCode]||b.defer(b.bind(j._onInput,j,a))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.$overflowHelper=d(this.$input)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function e(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function f(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var g;return g={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,m,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=g[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var c,d,e;switch(a){case"tab":d=this.getHint(),e=this.getInputValue(),c=d&&d!==e&&!f(b);break;case"up":case"down":c=!f(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!f(b);break;default:c=!0}return c},_checkInputValue:function(){var a,b,c;a=this.getInputValue(),b=e(a,this.query),c=b?this.query.length!==a.length:!1,b?c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=a)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),b?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b,c,d;a=this.getInputValue(),b=this.getHint(),c=a!==b&&0===b.indexOf(a),d=""!==a&&c&&!this.hasOverflow(),!d&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),c}(),p=function(){function c(c){c=c||{},c.templates=c.templates||{},c.source||a.error("missing source"),c.name&&!f(c.name)&&a.error("invalid dataset name: "+c.name),this.query=null,this.highlight=!!c.highlight,this.name=c.name||b.getUniqueId(),this.source=c.source,this.displayFn=d(c.display||c.displayKey),this.templates=e(c.templates,this.displayFn),this.$el=a(j.dataset.replace("%CLASS%",this.name))}function d(a){function c(b){return b[a]}return a=a||"value",b.isFunction(a)?a:c}function e(a,c){function d(a){return"<p>"+c(a)+"</p>"}return{empty:a.empty&&b.templatify(a.empty),header:a.header&&b.templatify(a.header),footer:a.footer&&b.templatify(a.footer),suggestion:a.suggestion||d}}function f(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var g="ttDataset",h="ttValue",i="ttDatum";return c.extractDatasetName=function(b){return a(b).data(g)},c.extractValue=function(b){return a(b).data(h)},c.extractDatum=function(b){return a(b).data(i)},b.mixin(c.prototype,m,{_render:function(c,d){function e(){return p.templates.empty({query:c,isEmpty:!0})}function f(){function e(b){var c;return c=a(j.suggestion).append(p.templates.suggestion(b)).data(g,p.name).data(h,p.displayFn(b)).data(i,b),c.children().each(function(){a(this).css(k.suggestionChild)}),c}var f,l;return f=a(j.suggestions).css(k.suggestions),l=b.map(d,e),f.append.apply(f,l),p.highlight&&n({node:f[0],pattern:c}),f}function l(){return p.templates.header({query:c,isEmpty:!o})}function m(){return p.templates.footer({query:c,isEmpty:!o})}if(this.$el){var o,p=this;this.$el.empty(),o=d&&d.length,!o&&this.templates.empty?this.$el.html(e()).prepend(p.templates.header?l():null).append(p.templates.footer?m():null):o&&this.$el.html(f()).prepend(p.templates.header?l():null).append(p.templates.footer?m():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(a){function b(b){c.canceled||a!==c.query||c._render(a,b)}var c=this;this.query=a,this.canceled=!1,this.source(a,b)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),c}(),q=function(){function c(c){var e,f,g,h=this;c=c||{},c.menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=b.map(c.datasets,d),e=b.bind(this._onSuggestionClick,this),f=b.bind(this._onSuggestionMouseEnter,this),g=b.bind(this._onSuggestionMouseLeave,this),this.$menu=a(c.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",f).on("mouseleave.tt",".tt-suggestion",g),b.each(this.datasets,function(a){h.$menu.append(a.getRoot()),a.onSync("rendered",h._onRendered,h)})}function d(a){return new p(a)}return b.mixin(c.prototype,m,{_onSuggestionClick:function(b){this.trigger("suggestionClicked",a(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor(a(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function a(a){return a.isEmpty()}this.isEmpty=b.every(this.datasets,a),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(a,b){a.first().addClass("tt-cursor"),!b&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(a){var b,c,d,e;if(this.isOpen){if(c=this._getCursor(),b=this._getSuggestions(),this._removeCursor(),d=b.index(c)+a,d=(d+1)%(b.length+1)-1,-1===d)return void this.trigger("cursorRemoved");-1>d&&(d=b.length-1),this._setCursor(e=b.eq(d)),this._ensureVisible(e)}},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$menu.scrollTop(),e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>b?this.$menu.scrollTop(d+b):c>e&&this.$menu.scrollTop(d+(c-e))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){this.$menu.css("ltr"===a?k.ltr:k.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(a){var b=null;return a.length&&(b={raw:p.extractDatum(a),value:p.extractValue(a),datasetName:p.extractDatasetName(a)}),b},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(a){function c(b){b.update(a)}b.each(this.datasets,c)},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function a(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,b.each(this.datasets,a)}}),c}(),r=function(){function c(c){var e,f,g;c=c||{},c.input||a.error("missing input"),this.isActivated=!1,this.autoselect=!!c.autoselect,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.$node=d(c.input,c.withHint),e=this.$node.find(".tt-dropdown-menu"),f=this.$node.find(".tt-input"),g=this.$node.find(".tt-hint"),f.on("blur.tt",function(a){var c,d,g;c=document.activeElement,d=e.is(c),g=e.has(c).length>0,b.isMsie()&&(d||g)&&(a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){f.focus()}))}),e.on("mousedown.tt",function(a){a.preventDefault()}),this.eventBus=c.eventBus||new l({el:f}),this.dropdown=new q({menu:e,datasets:c.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new o({input:f,hint:g}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function d(b,c){var d,f,h,i;d=a(b),f=a(j.wrapper).css(k.wrapper),h=a(j.dropdown).css(k.dropdown),i=d.clone().css(k.hint).css(e(d)),i.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),d.data(g,{dir:d.attr("dir"),autocomplete:d.attr("autocomplete"),spellcheck:d.attr("spellcheck"),style:d.attr("style")}),d.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(c?k.input:k.inputWithNoHint);try{!d.attr("dir")&&d.attr("dir","auto")}catch(l){}return d.wrap(f).parent().prepend(c?i:null).append(h)}function e(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function f(a){var c=a.find(".tt-input");b.each(c.data(g),function(a,d){b.isUndefined(a)?c.removeAttr(d):c.attr(d,a)}),c.detach().removeData(g).removeClass("tt-input").insertAfter(a),a.remove()}var g="ttAttrs";return b.mixin(c.prototype,{_onSuggestionClicked:function(a,b){var c;(c=this.dropdown.getDatumForSuggestion(b))&&this._select(c)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.setInputValue(a.value,!0),this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(a,b){var c,d;c=this.dropdown.getDatumForCursor(),d=this.dropdown.getDatumForTopSuggestion(),c?(this._select(c),b.preventDefault()):this.autoselect&&d&&(this._select(d),b.preventDefault())},_onTabKeyed:function(a,b){var c;(c=this.dropdown.getDatumForCursor())?(this._select(c),b.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHintIfInvalid(),b.length>=this.minLength?this.dropdown.update(b):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var a;this.dir!==(a=this.input.getLanguageDirection())&&(this.dir=a,this.$node.css("direction",a),this.dropdown.setLanguageDirection(a))},_updateHint:function(){var a,c,d,e,f,g;a=this.dropdown.getDatumForTopSuggestion(),a&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(c=this.input.getInputValue(),d=o.normalizeQuery(c),e=b.escapeRegExChars(d),f=new RegExp("^(?:"+e+")(.+$)","i"),g=f.exec(a.value),g?this.input.setHint(c+g[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(a){var b,c,d,e;b=this.input.getHint(),c=this.input.getQuery(),d=a||this.input.isCursorAtEnd(),b&&c!==b&&d&&(e=this.dropdown.getDatumForTopSuggestion(),e&&this.input.setInputValue(e.value),this.eventBus.trigger("autocompleted",e.raw,e.datasetName))},_select:function(a){this.input.setQuery(a.value),this.input.setInputValue(a.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",a.raw,a.datasetName),this.dropdown.close(),b.defer(b.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(a){this.isActivated?this.input.setInputValue(a):(this.input.setQuery(a),this.input.setInputValue(a,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),f(this.$node),this.$node=null}}),c}();!function(){var c,d,e;c=a.fn.typeahead,d="ttTypeahead",e={initialize:function(c,e){function f(){var f,g,h=a(this);b.each(e,function(a){a.highlight=!!c.highlight}),g=new r({input:h,eventBus:f=new l({el:h}),withHint:b.isUndefined(c.hint)?!0:!!c.hint,minLength:c.minLength,autoselect:c.autoselect,datasets:e}),h.data(d,g)}return e=b.isArray(e)?e:[].slice.call(arguments,1),c=c||{},this.each(f)},open:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.open()}return this.each(b)},close:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.close()}return this.each(b)},val:function(b){function c(){var c,e=a(this);(c=e.data(d))&&c.setVal(b)}function e(a){var b,c;return(b=a.data(d))&&(c=b.getVal()),c}return arguments.length?this.each(c):e(this.first())},destroy:function(){function b(){var b,c=a(this);(b=c.data(d))&&(b.destroy(),c.removeData(d))}return this.each(b)}},a.fn.typeahead=function(a){return e[a]?e[a].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this}}()}(window.jQuery);!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Sweetalert2=t()}(this,function(){"use strict";var e={title:"",titleText:"",text:"",html:"",type:null,customClass:"",target:"body",animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonColor:"#3085d6",confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonColor:"#aaa",cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusCancel:!1,showCloseButton:!1,showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageClass:null,timer:null,width:500,padding:20,background:"#fff",input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,progressSteps:[],currentProgressStep:null,progressStepsDistance:"40px",onOpen:null,onClose:null,useRejections:!0},t=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},n=t(["container","shown","iosfix","modal","overlay","fade","show","hide","noanimation","close","title","content","buttonswrapper","confirm","cancel","icon","image","input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled"]),o=t(["success","warning","info","question","error"]),r=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var n="#",o=0;o<3;o++){var r=parseInt(e.substr(2*o,2),16);n+=("00"+(r=Math.round(Math.min(Math.max(0,r+r*t),255)).toString(16))).substr(r.length)}return n},i=function(e){var t=[];for(var n in e)-1===t.indexOf(e[n])&&t.push(e[n]);return t},a={previousWindowKeyDown:null,previousActiveElement:null,previousBodyPadding:null},l=function(e){if("undefined"!=typeof document){var t=document.createElement("div");t.className=n.container,t.innerHTML=s;var o=document.querySelector(e.target);o||(console.warn("SweetAlert2: Can't find the target \""+e.target+'"'),o=document.body),o.appendChild(t);var r=c(),i=A(r,n.input),a=A(r,n.file),l=r.querySelector("."+n.range+" input"),u=r.querySelector("."+n.range+" output"),d=A(r,n.select),p=r.querySelector("."+n.checkbox+" input"),f=A(r,n.textarea);return i.oninput=function(){$.resetValidationError()},i.onkeydown=function(t){setTimeout(function(){13===t.keyCode&&e.allowEnterKey&&(t.stopPropagation(),$.clickConfirm())},0)},a.onchange=function(){$.resetValidationError()},l.oninput=function(){$.resetValidationError(),u.value=l.value},l.onchange=function(){$.resetValidationError(),l.previousSibling.value=l.value},d.onchange=function(){$.resetValidationError()},p.onchange=function(){$.resetValidationError()},f.oninput=function(){$.resetValidationError()},r}console.error("SweetAlert2 requires document to initialize")},s=('\n <div role="dialog" aria-labelledby="'+n.title+'" aria-describedby="'+n.content+'" class="'+n.modal+'" tabindex="-1">\n   <ul class="'+n.progresssteps+'"></ul>\n   <div class="'+n.icon+" "+o.error+'">\n     <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n   </div>\n   <div class="'+n.icon+" "+o.question+'">?</div>\n   <div class="'+n.icon+" "+o.warning+'">!</div>\n   <div class="'+n.icon+" "+o.info+'">i</div>\n   <div class="'+n.icon+" "+o.success+'">\n     <div class="swal2-success-circular-line-left"></div>\n     <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n     <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n     <div class="swal2-success-circular-line-right"></div>\n   </div>\n   <img class="'+n.image+'">\n   <h2 class="'+n.title+'" id="'+n.title+'"></h2>\n   <div id="'+n.content+'" class="'+n.content+'"></div>\n   <input class="'+n.input+'">\n   <input type="file" class="'+n.file+'">\n   <div class="'+n.range+'">\n     <output></output>\n     <input type="range">\n   </div>\n   <select class="'+n.select+'"></select>\n   <div class="'+n.radio+'"></div>\n   <label for="'+n.checkbox+'" class="'+n.checkbox+'">\n     <input type="checkbox">\n   </label>\n   <textarea class="'+n.textarea+'"></textarea>\n   <div class="'+n.validationerror+'"></div>\n   <div class="'+n.buttonswrapper+'">\n     <button type="button" class="'+n.confirm+'">OK</button>\n     <button type="button" class="'+n.cancel+'">Cancel</button>\n   </div>\n   <button type="button" class="'+n.close+'" aria-label="Close this dialog">&times;</button>\n </div>\n').replace(/(^|\n)\s*/g,""),u=function(){return document.body.querySelector("."+n.container)},c=function(){return u()?u().querySelector("."+n.modal):null},d=function(){return c().querySelectorAll("."+n.icon)},p=function(e){return u()?u().querySelector("."+e):null},f=function(){return p(n.title)},m=function(){return p(n.content)},v=function(){return p(n.image)},h=function(){return p(n.buttonswrapper)},g=function(){return p(n.progresssteps)},y=function(){return p(n.validationerror)},b=function(){return p(n.confirm)},w=function(){return p(n.cancel)},C=function(){return p(n.close)},k=function(e){var t=[b(),w()];e&&t.reverse();var n=t.concat(Array.prototype.slice.call(c().querySelectorAll('button, input:not([type=hidden]), textarea, select, a, *[tabindex]:not([tabindex="-1"])')));return i(n)},x=function(e,t){return!!e.classList&&e.classList.contains(t)},S=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},E=function(e,t){e&&t&&t.split(/\s+/).filter(Boolean).forEach(function(t){e.classList.add(t)})},B=function(e,t){e&&t&&t.split(/\s+/).filter(Boolean).forEach(function(t){e.classList.remove(t)})},A=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(x(e.childNodes[n],t))return e.childNodes[n]},P=function(e,t){t||(t="block"),e.style.opacity="",e.style.display=t},T=function(e){e.style.opacity="",e.style.display="none"},L=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},M=function(e){return e.offsetWidth||e.offsetHeight||e.getClientRects().length},q=function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},V=function(e){if(!M(e))return!1;if("function"==typeof MouseEvent){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),e.dispatchEvent(n)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},O=function(){var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n];return!1}(),H=function(){if(window.onkeydown=a.previousWindowKeyDown,a.previousActiveElement&&a.previousActiveElement.focus){var e=window.scrollX,t=window.scrollY;a.previousActiveElement.focus(),e&&t&&window.scrollTo(e,t)}},N=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},j=function(e,t){var n=void 0;return function(){var o=function(){n=null,e()};clearTimeout(n),n=setTimeout(o,t)}},R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},K=I({},e),D=[],W=void 0,U=function(t){var r=c()||l(t);for(var i in t)e.hasOwnProperty(i)||"extraParams"===i||console.warn('SweetAlert2: Unknown parameter "'+i+'"');r.style.width="number"==typeof t.width?t.width+"px":t.width,r.style.padding=t.padding+"px",r.style.background=t.background;for(var a=r.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),s=0;s<a.length;s++)a[s].style.background=t.background;var u=f(),p=m(),y=h(),k=b(),x=w(),S=C();if(t.titleText?u.innerText=t.titleText:u.innerHTML=t.title.split("\n").join("<br>"),t.text||t.html){if("object"===R(t.html))if(p.innerHTML="",0 in t.html)for(var A=0;A in t.html;A++)p.appendChild(t.html[A].cloneNode(!0));else p.appendChild(t.html.cloneNode(!0));else t.html?p.innerHTML=t.html:t.text&&(p.textContent=t.text);P(p)}else T(p);t.showCloseButton?P(S):T(S),r.className=n.modal,t.customClass&&E(r,t.customClass);var M=g(),V=parseInt(null===t.currentProgressStep?$.getQueueStep():t.currentProgressStep,10);t.progressSteps.length?(P(M),L(M),V>=t.progressSteps.length&&console.warn("SweetAlert2: Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(function(e,o){var r=document.createElement("li");if(E(r,n.progresscircle),r.innerHTML=e,o===V&&E(r,n.activeprogressstep),M.appendChild(r),o!==t.progressSteps.length-1){var i=document.createElement("li");E(i,n.progressline),i.style.width=t.progressStepsDistance,M.appendChild(i)}})):T(M);for(var O=d(),H=0;H<O.length;H++)T(O[H]);if(t.type){var N=!1;for(var j in o)if(t.type===j){N=!0;break}if(!N)return console.error("SweetAlert2: Unknown alert type: "+t.type),!1;var I=r.querySelector("."+n.icon+"."+o[t.type]);if(P(I),t.animation)switch(t.type){case"success":E(I,"swal2-animate-success-icon"),E(I.querySelector(".swal2-success-line-tip"),"swal2-animate-success-line-tip"),E(I.querySelector(".swal2-success-line-long"),"swal2-animate-success-line-long");break;case"error":E(I,"swal2-animate-error-icon"),E(I.querySelector(".swal2-x-mark"),"swal2-animate-x-mark")}}var K=v();t.imageUrl?(K.setAttribute("src",t.imageUrl),P(K),t.imageWidth?K.setAttribute("width",t.imageWidth):K.removeAttribute("width"),t.imageHeight?K.setAttribute("height",t.imageHeight):K.removeAttribute("height"),K.className=n.image,t.imageClass&&E(K,t.imageClass)):T(K),t.showCancelButton?x.style.display="inline-block":T(x),t.showConfirmButton?q(k,"display"):T(k),t.showConfirmButton||t.showCancelButton?P(y):T(y),k.innerHTML=t.confirmButtonText,x.innerHTML=t.cancelButtonText,t.buttonsStyling&&(k.style.backgroundColor=t.confirmButtonColor,x.style.backgroundColor=t.cancelButtonColor),k.className=n.confirm,E(k,t.confirmButtonClass),x.className=n.cancel,E(x,t.cancelButtonClass),t.buttonsStyling?(E(k,n.styled),E(x,n.styled)):(B(k,n.styled),B(x,n.styled),k.style.backgroundColor=k.style.borderLeftColor=k.style.borderRightColor="",x.style.backgroundColor=x.style.borderLeftColor=x.style.borderRightColor=""),!0===t.animation?B(r,n.noanimation):E(r,n.noanimation)},z=function(e,t){var o=u(),r=c();e?(E(r,n.show),E(o,n.fade),B(r,n.hide)):B(r,n.fade),P(r),o.style.overflowY="hidden",O&&!x(r,n.noanimation)?r.addEventListener(O,function e(){r.removeEventListener(O,e),o.style.overflowY="auto"}):o.style.overflowY="auto",E(document.documentElement,n.shown),E(document.body,n.shown),E(o,n.shown),Z(),Y(),a.previousActiveElement=document.activeElement,null!==t&&"function"==typeof t&&setTimeout(function(){t(r)})},Z=function(){null===a.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(a.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=N()+"px")},Q=function(){null!==a.previousBodyPadding&&(document.body.style.paddingRight=a.previousBodyPadding,a.previousBodyPadding=null)},Y=function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!x(document.body,n.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+"px",E(document.body,n.iosfix)}},_=function(){if(x(document.body,n.iosfix)){var e=parseInt(document.body.style.top,10);B(document.body,n.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},$=function e(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];if(void 0===o[0])return console.error("SweetAlert2 expects at least 1 attribute!"),!1;var l=I({},K);switch(R(o[0])){case"string":l.title=o[0],l.html=o[1],l.type=o[2];break;case"object":I(l,o[0]),l.extraParams=o[0].extraParams,"email"===l.input&&null===l.inputValidator&&(l.inputValidator=function(e){return new Promise(function(t,n){/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)?t():n("Invalid email address")})}),"url"===l.input&&null===l.inputValidator&&(l.inputValidator=function(e){return new Promise(function(t,n){/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(e)?t():n("Invalid URL")})});break;default:return console.error('SweetAlert2: Unexpected type of argument! Expected "string" or "object", got '+R(o[0])),!1}U(l);var s=u(),d=c();return new Promise(function(t,o){l.timer&&(d.timeout=setTimeout(function(){e.closeModal(l.onClose),l.useRejections?o("timer"):t({dismiss:"timer"})},l.timer));var i=function(e){if(!(e=e||l.input))return null;switch(e){case"select":case"textarea":case"file":return A(d,n[e]);case"checkbox":return d.querySelector("."+n.checkbox+" input");case"radio":return d.querySelector("."+n.radio+" input:checked")||d.querySelector("."+n.radio+" input:first-child");case"range":return d.querySelector("."+n.range+" input");default:return A(d,n.input)}},p=function(){var e=i();if(!e)return null;switch(l.input){case"checkbox":return e.checked?1:0;case"radio":return e.checked?e.value:null;case"file":return e.files.length?e.files[0]:null;default:return l.inputAutoTrim?e.value.trim():e.value}};l.input&&setTimeout(function(){var e=i();e&&S(e)},0);for(var x=function(n){l.showLoaderOnConfirm&&e.showLoading(),l.preConfirm?l.preConfirm(n,l.extraParams).then(function(o){e.closeModal(l.onClose),t(o||n)},function(t){e.hideLoading(),t&&e.showValidationError(t)}):(e.closeModal(l.onClose),t(l.useRejections?n:{value:n}))},L=function(n){var i=n||window.event,a=i.target||i.srcElement,s=b(),u=w(),c=s&&(s===a||s.contains(a)),d=u&&(u===a||u.contains(a));switch(i.type){case"mouseover":case"mouseup":l.buttonsStyling&&(c?s.style.backgroundColor=r(l.confirmButtonColor,-.1):d&&(u.style.backgroundColor=r(l.cancelButtonColor,-.1)));break;case"mouseout":l.buttonsStyling&&(c?s.style.backgroundColor=l.confirmButtonColor:d&&(u.style.backgroundColor=l.cancelButtonColor));break;case"mousedown":l.buttonsStyling&&(c?s.style.backgroundColor=r(l.confirmButtonColor,-.2):d&&(u.style.backgroundColor=r(l.cancelButtonColor,-.2)));break;case"click":if(c&&e.isVisible())if(e.disableButtons(),l.input){var f=p();l.inputValidator?(e.disableInput(),l.inputValidator(f,l.extraParams).then(function(){e.enableButtons(),e.enableInput(),x(f)},function(t){e.enableButtons(),e.enableInput(),t&&e.showValidationError(t)})):x(f)}else x(!0);else d&&e.isVisible()&&(e.disableButtons(),e.closeModal(l.onClose),l.useRejections?o("cancel"):t({dismiss:"cancel"}))}},q=d.querySelectorAll("button"),O=0;O<q.length;O++)q[O].onclick=L,q[O].onmouseover=L,q[O].onmouseout=L,q[O].onmousedown=L;C().onclick=function(){e.closeModal(l.onClose),l.useRejections?o("close"):t({dismiss:"close"})},s.onclick=function(n){n.target===s&&l.allowOutsideClick&&(e.closeModal(l.onClose),l.useRejections?o("overlay"):t({dismiss:"overlay"}))};var H=h(),N=b(),I=w();l.reverseButtons?N.parentNode.insertBefore(I,N):N.parentNode.insertBefore(N,I);var K=function(e,t){for(var n=k(l.focusCancel),o=0;o<n.length;o++){(e+=t)===n.length?e=0:-1===e&&(e=n.length-1);var r=n[e];if(M(r))return r.focus()}},D=function(n){var r=n||window.event,i=r.keyCode||r.which;if(-1!==[9,13,32,27,37,38,39,40].indexOf(i)){for(var a=r.target||r.srcElement,s=k(l.focusCancel),u=-1,c=0;c<s.length;c++)if(a===s[c]){u=c;break}9===i?(r.shiftKey?K(u,-1):K(u,1),r.stopPropagation(),r.preventDefault()):37===i||38===i||39===i||40===i?document.activeElement===N&&M(I)?I.focus():document.activeElement===I&&M(N)&&N.focus():13===i||32===i?-1===u&&l.allowEnterKey&&(V(l.focusCancel?I:N),r.stopPropagation(),r.preventDefault()):27===i&&!0===l.allowEscapeKey&&(e.closeModal(l.onClose),l.useRejections?o("esc"):t({dismiss:"esc"}))}};window.onkeydown&&window.onkeydown.toString()===D.toString()||(a.previousWindowKeyDown=window.onkeydown,window.onkeydown=D),l.buttonsStyling&&(N.style.borderLeftColor=l.confirmButtonColor,N.style.borderRightColor=l.confirmButtonColor),e.hideLoading=e.disableLoading=function(){l.showConfirmButton||(T(N),l.showCancelButton||T(h())),B(H,n.loading),B(d,n.loading),N.disabled=!1,I.disabled=!1},e.getTitle=function(){return f()},e.getContent=function(){return m()},e.getInput=function(){return i()},e.getImage=function(){return v()},e.getButtonsWrapper=function(){return h()},e.getConfirmButton=function(){return b()},e.getCancelButton=function(){return w()},e.enableButtons=function(){N.disabled=!1,I.disabled=!1},e.disableButtons=function(){N.disabled=!0,I.disabled=!0},e.enableConfirmButton=function(){N.disabled=!1},e.disableConfirmButton=function(){N.disabled=!0},e.enableInput=function(){var e=i();if(!e)return!1;if("radio"===e.type)for(var t=e.parentNode.parentNode.querySelectorAll("input"),n=0;n<t.length;n++)t[n].disabled=!1;else e.disabled=!1},e.disableInput=function(){var e=i();if(!e)return!1;if(e&&"radio"===e.type)for(var t=e.parentNode.parentNode.querySelectorAll("input"),n=0;n<t.length;n++)t[n].disabled=!0;else e.disabled=!0},e.recalculateHeight=j(function(){var e=c();if(e){var t=e.style.display;e.style.minHeight="",P(e),e.style.minHeight=e.scrollHeight+1+"px",e.style.display=t}},50),e.showValidationError=function(e){var t=y();t.innerHTML=e,P(t);var o=i();o&&(S(o),E(o,n.inputerror))},e.resetValidationError=function(){var t=y();T(t),e.recalculateHeight();var o=i();o&&B(o,n.inputerror)},e.getProgressSteps=function(){return l.progressSteps},e.setProgressSteps=function(e){l.progressSteps=e,U(l)},e.showProgressSteps=function(){P(g())},e.hideProgressSteps=function(){T(g())},e.enableButtons(),e.hideLoading(),e.resetValidationError();for(var Z=["input","file","range","select","radio","checkbox","textarea"],Q=void 0,Y=0;Y<Z.length;Y++){var _=n[Z[Y]],$=A(d,_);if(Q=i(Z[Y])){for(var J in Q.attributes)if(Q.attributes.hasOwnProperty(J)){var X=Q.attributes[J].name;"type"!==X&&"value"!==X&&Q.removeAttribute(X)}for(var F in l.inputAttributes)Q.setAttribute(F,l.inputAttributes[F])}$.className=_,l.inputClass&&E($,l.inputClass),T($)}var G=void 0;switch(l.input){case"text":case"email":case"password":case"number":case"tel":case"url":(Q=A(d,n.input)).value=l.inputValue,Q.placeholder=l.inputPlaceholder,Q.type=l.input,P(Q);break;case"file":(Q=A(d,n.file)).placeholder=l.inputPlaceholder,Q.type=l.input,P(Q);break;case"range":var ee=A(d,n.range),te=ee.querySelector("input"),ne=ee.querySelector("output");te.value=l.inputValue,te.type=l.input,ne.value=l.inputValue,P(ee);break;case"select":var oe=A(d,n.select);if(oe.innerHTML="",l.inputPlaceholder){var re=document.createElement("option");re.innerHTML=l.inputPlaceholder,re.value="",re.disabled=!0,re.selected=!0,oe.appendChild(re)}G=function(e){for(var t in e){var n=document.createElement("option");n.value=t,n.innerHTML=e[t],l.inputValue===t&&(n.selected=!0),oe.appendChild(n)}P(oe),oe.focus()};break;case"radio":var ie=A(d,n.radio);ie.innerHTML="",G=function(e){for(var t in e){var o=document.createElement("input"),r=document.createElement("label"),i=document.createElement("span");o.type="radio",o.name=n.radio,o.value=t,l.inputValue===t&&(o.checked=!0),i.innerHTML=e[t],r.appendChild(o),r.appendChild(i),r.for=o.id,ie.appendChild(r)}P(ie);var a=ie.querySelectorAll("input");a.length&&a[0].focus()};break;case"checkbox":var ae=A(d,n.checkbox),le=i("checkbox");le.type="checkbox",le.value=1,le.id=n.checkbox,le.checked=Boolean(l.inputValue);var se=ae.getElementsByTagName("span");se.length&&ae.removeChild(se[0]),(se=document.createElement("span")).innerHTML=l.inputPlaceholder,ae.appendChild(se),P(ae);break;case"textarea":var ue=A(d,n.textarea);ue.value=l.inputValue,ue.placeholder=l.inputPlaceholder,P(ue);break;case null:break;default:console.error('SweetAlert2: Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'+l.input+'"')}"select"!==l.input&&"radio"!==l.input||(l.inputOptions instanceof Promise?(e.showLoading(),l.inputOptions.then(function(t){e.hideLoading(),G(t)})):"object"===R(l.inputOptions)?G(l.inputOptions):console.error("SweetAlert2: Unexpected type of inputOptions! Expected object or Promise, got "+R(l.inputOptions))),z(l.animation,l.onOpen),l.allowEnterKey?K(-1,1):document.activeElement&&document.activeElement.blur(),u().scrollTop=0,"undefined"==typeof MutationObserver||W||(W=new MutationObserver(e.recalculateHeight)).observe(d,{childList:!0,characterData:!0,subtree:!0})})};return $.isVisible=function(){return!!c()},$.queue=function(e){D=e;var t=function(){D=[],document.body.removeAttribute("data-swal2-queue-step")},n=[];return new Promise(function(e,o){!function r(i,a){i<D.length?(document.body.setAttribute("data-swal2-queue-step",i),$(D[i]).then(function(e){n.push(e),r(i+1,a)},function(e){t(),o(e)})):(t(),e(n))}(0)})},$.getQueueStep=function(){return document.body.getAttribute("data-swal2-queue-step")},$.insertQueueStep=function(e,t){return t&&t<D.length?D.splice(t,0,e):D.push(e)},$.deleteQueueStep=function(e){void 0!==D[e]&&D.splice(e,1)},$.close=$.closeModal=function(e){var t=u(),o=c();if(o){B(o,n.show),E(o,n.hide),clearTimeout(o.timeout),H();var r=function(){t.parentNode&&t.parentNode.removeChild(t),B(document.documentElement,n.shown),B(document.body,n.shown),Q(),_()};O&&!x(o,n.noanimation)?o.addEventListener(O,function e(){o.removeEventListener(O,e),x(o,n.hide)&&r()}):r(),null!==e&&"function"==typeof e&&setTimeout(function(){e(o)})}},$.clickConfirm=function(){return b().click()},$.clickCancel=function(){return w().click()},$.showLoading=$.enableLoading=function(){var e=c();e||$("");var t=h(),o=b(),r=w();P(t),P(o,"inline-block"),E(t,n.loading),E(e,n.loading),o.disabled=!0,r.disabled=!0},$.setDefaults=function(t){if(!t||"object"!==(void 0===t?"undefined":R(t)))return console.error("SweetAlert2: the argument for setDefaults() is required and has to be a object");for(var n in t)e.hasOwnProperty(n)||"extraParams"===n||(console.warn('SweetAlert2: Unknown parameter "'+n+'"'),delete t[n]);I(K,t)},$.resetDefaults=function(){K=I({},e)},$.noop=function(){},$.version="6.6.5",$.default=$,$}),window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2);(function(){var Dropzone,Emitter,ExifRestore,camelize,contentLoaded,detectVerticalSquash,drawImageIOSFix,noop,without,slice=[].slice,extend1=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;noop=function(){};Emitter=(function(){function Emitter(){}
Emitter.prototype.addEventListener=Emitter.prototype.on;Emitter.prototype.on=function(event,fn){this._callbacks=this._callbacks||{};if(!this._callbacks[event]){this._callbacks[event]=[]}
this._callbacks[event].push(fn);return this};Emitter.prototype.emit=function(){var args,callback,callbacks,event,j,len;event=arguments[0],args=2<=arguments.length?slice.call(arguments,1):[];this._callbacks=this._callbacks||{};callbacks=this._callbacks[event];if(callbacks){for(j=0,len=callbacks.length;j<len;j++){callback=callbacks[j];callback.apply(this,args)}}
return this};Emitter.prototype.removeListener=Emitter.prototype.off;Emitter.prototype.removeAllListeners=Emitter.prototype.off;Emitter.prototype.removeEventListener=Emitter.prototype.off;Emitter.prototype.off=function(event,fn){var callback,callbacks,i,j,len;if(!this._callbacks||arguments.length===0){this._callbacks={};return this}
callbacks=this._callbacks[event];if(!callbacks){return this}
if(arguments.length===1){delete this._callbacks[event];return this}
for(i=j=0,len=callbacks.length;j<len;i=++j){callback=callbacks[i];if(callback===fn){callbacks.splice(i,1);break}}
return this};return Emitter})();Dropzone=(function(superClass){var extend,resolveOption;extend1(Dropzone,superClass);Dropzone.prototype.Emitter=Emitter;Dropzone.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];Dropzone.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:30000,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:'crop',resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:0.8,resizeMethod:'contain',filesizeBase:1000,maxFiles:null,params:{},headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",init:function(){return noop},accept:function(file,done){return done()},fallback:function(){var child,j,len,messageElement,ref,span;this.element.className=this.element.className+" dz-browser-not-supported";ref=this.element.getElementsByTagName("div");for(j=0,len=ref.length;j<len;j++){child=ref[j];if(/(^| )dz-message($| )/.test(child.className)){messageElement=child;child.className="dz-message";continue}}
if(!messageElement){messageElement=Dropzone.createElement("<div class=\"dz-message\"><span></span></div>");this.element.appendChild(messageElement)}
span=messageElement.getElementsByTagName("span")[0];if(span){if(span.textContent!=null){span.textContent=this.options.dictFallbackMessage}else if(span.innerText!=null){span.innerText=this.options.dictFallbackMessage}}
return this.element.appendChild(this.getFallbackForm())},resize:function(file,width,height,resizeMethod){var info,srcRatio,trgRatio;info={srcX:0,srcY:0,srcWidth:file.width,srcHeight:file.height};srcRatio=file.width/file.height;if((width==null)&&(height==null)){width=info.srcWidth;height=info.srcHeight}else if(width==null){width=height*srcRatio}else if(height==null){height=width/srcRatio}
width=Math.min(width,info.srcWidth);height=Math.min(height,info.srcHeight);trgRatio=width/height;if(info.srcWidth>width||info.srcHeight>height){if(resizeMethod==='crop'){if(srcRatio>trgRatio){info.srcHeight=file.height;info.srcWidth=info.srcHeight*trgRatio}else{info.srcWidth=file.width;info.srcHeight=info.srcWidth/trgRatio}}else if(resizeMethod==='contain'){if(srcRatio>trgRatio){height=width/srcRatio}else{width=height*srcRatio}}else{throw new Error("Unknown resizeMethod '"+resizeMethod+"'")}}
info.srcX=(file.width-info.srcWidth)/2;info.srcY=(file.height-info.srcHeight)/2;info.trgWidth=width;info.trgHeight=height;return info},transformFile:function(file,done){if((this.options.resizeWidth||this.options.resizeHeight)&&file.type.match(/image.*/)){return this.resizeImage(file,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,done)}else{return done(file)}},previewTemplate:"<div class=\"dz-preview dz-file-preview\">\n  <div class=\"dz-image\"><img data-dz-thumbnail /></div>\n  <div class=\"dz-details\">\n    <div class=\"dz-size\"><span data-dz-size></span></div>\n    <div class=\"dz-filename\"><span data-dz-name></span></div>\n  </div>\n  <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>\n  <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\n  <div class=\"dz-success-mark\">\n    <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\n      <title>Check</title>\n      <defs></defs>\n      <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\n        <path d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" stroke-opacity=\"0.198794158\" stroke=\"#747474\" fill-opacity=\"0.816519475\" fill=\"#FFFFFF\" sketch:type=\"MSShapeGroup\"></path>\n      </g>\n    </svg>\n  </div>\n  <div class=\"dz-error-mark\">\n    <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\n      <title>Error</title>\n      <defs></defs>\n      <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\n        <g id=\"Check-+-Oval-2\" sketch:type=\"MSLayerGroup\" stroke=\"#747474\" stroke-opacity=\"0.198794158\" fill=\"#FFFFFF\" fill-opacity=\"0.816519475\">\n          <path d=\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" sketch:type=\"MSShapeGroup\"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>",drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:noop,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:noop,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(file){var j,k,l,len,len1,len2,node,ref,ref1,ref2,removeFileEvent,removeLink,results;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}
if(this.previewsContainer){file.previewElement=Dropzone.createElement(this.options.previewTemplate.trim());file.previewTemplate=file.previewElement;this.previewsContainer.appendChild(file.previewElement);ref=file.previewElement.querySelectorAll("[data-dz-name]");for(j=0,len=ref.length;j<len;j++){node=ref[j];node.textContent=this._renameFilename(file.name,file)}
ref1=file.previewElement.querySelectorAll("[data-dz-size]");for(k=0,len1=ref1.length;k<len1;k++){node=ref1[k];node.innerHTML=this.filesize(file.size)}
if(this.options.addRemoveLinks){file._removeLink=Dropzone.createElement("<a class=\"dz-remove\" href=\"javascript:undefined;\" data-dz-remove>"+this.options.dictRemoveFile+"</a>");file.previewElement.appendChild(file._removeLink)}
removeFileEvent=(function(_this){return function(e){e.preventDefault();e.stopPropagation();if(file.status===Dropzone.UPLOADING){return Dropzone.confirm(_this.options.dictCancelUploadConfirmation,function(){return _this.removeFile(file)})}else{if(_this.options.dictRemoveFileConfirmation){return Dropzone.confirm(_this.options.dictRemoveFileConfirmation,function(){return _this.removeFile(file)})}else{return _this.removeFile(file)}}}})(this);ref2=file.previewElement.querySelectorAll("[data-dz-remove]");results=[];for(l=0,len2=ref2.length;l<len2;l++){removeLink=ref2[l];results.push(removeLink.addEventListener("click",removeFileEvent))}
return results}},removedfile:function(file){var ref;if(file.previewElement){if((ref=file.previewElement)!=null){ref.parentNode.removeChild(file.previewElement)}}
return this._updateMaxFilesReachedClass()},thumbnail:function(file,dataUrl){var j,len,ref,thumbnailElement;if(file.previewElement){file.previewElement.classList.remove("dz-file-preview");ref=file.previewElement.querySelectorAll("[data-dz-thumbnail]");for(j=0,len=ref.length;j<len;j++){thumbnailElement=ref[j];thumbnailElement.alt=file.name;thumbnailElement.src=dataUrl}
return setTimeout(((function(_this){return function(){return file.previewElement.classList.add("dz-image-preview")}})(this)),1)}},error:function(file,message){var j,len,node,ref,results;if(file.previewElement){file.previewElement.classList.add("dz-error");if(typeof message!=="String"&&message.error){message=message.error}
ref=file.previewElement.querySelectorAll("[data-dz-errormessage]");results=[];for(j=0,len=ref.length;j<len;j++){node=ref[j];results.push(node.textContent=message)}
return results}},errormultiple:noop,processing:function(file){if(file.previewElement){file.previewElement.classList.add("dz-processing");if(file._removeLink){return file._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:noop,uploadprogress:function(file,progress,bytesSent){var j,len,node,ref,results;if(file.previewElement){ref=file.previewElement.querySelectorAll("[data-dz-uploadprogress]");results=[];for(j=0,len=ref.length;j<len;j++){node=ref[j];if(node.nodeName==='PROGRESS'){results.push(node.value=progress)}else{results.push(node.style.width=progress+"%")}}
return results}},totaluploadprogress:noop,sending:noop,sendingmultiple:noop,success:function(file){if(file.previewElement){return file.previewElement.classList.add("dz-success")}},successmultiple:noop,canceled:function(file){return this.emit("error",file,"Upload canceled.")},canceledmultiple:noop,complete:function(file){if(file._removeLink){file._removeLink.textContent=this.options.dictRemoveFile}
if(file.previewElement){return file.previewElement.classList.add("dz-complete")}},completemultiple:noop,maxfilesexceeded:noop,maxfilesreached:noop,queuecomplete:noop,addedfiles:noop};extend=function(){var j,key,len,object,objects,target,val;target=arguments[0],objects=2<=arguments.length?slice.call(arguments,1):[];for(j=0,len=objects.length;j<len;j++){object=objects[j];for(key in object){val=object[key];target[key]=val}}
return target};function Dropzone(element1,options){var elementOptions,fallback,ref;this.element=element1;this.version=Dropzone.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}
if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}
if(this.element.dropzone){throw new Error("Dropzone already attached.")}
Dropzone.instances.push(this);this.element.dropzone=this;elementOptions=(ref=Dropzone.optionsForElement(this.element))!=null?ref:{};this.options=extend({},this.defaultOptions,elementOptions,options!=null?options:{});if(this.options.forceFallback||!Dropzone.isBrowserSupported()){return this.options.fallback.call(this)}
if(this.options.url==null){this.options.url=this.element.getAttribute("action")}
if(!this.options.url){throw new Error("No URL provided.")}
if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}
if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}
this.options.method=this.options.method.toUpperCase();if((fallback=this.getExistingFallback())&&fallback.parentNode){fallback.parentNode.removeChild(fallback)}
if(this.options.previewsContainer!==!1){if(this.options.previewsContainer){this.previewsContainer=Dropzone.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}}
if(this.options.clickable){if(this.options.clickable===!0){this.clickableElements=[this.element]}else{this.clickableElements=Dropzone.getElements(this.options.clickable,"clickable")}}
this.init()}
Dropzone.prototype.getAcceptedFiles=function(){var file,j,len,ref,results;ref=this.files;results=[];for(j=0,len=ref.length;j<len;j++){file=ref[j];if(file.accepted){results.push(file)}}
return results};Dropzone.prototype.getRejectedFiles=function(){var file,j,len,ref,results;ref=this.files;results=[];for(j=0,len=ref.length;j<len;j++){file=ref[j];if(!file.accepted){results.push(file)}}
return results};Dropzone.prototype.getFilesWithStatus=function(status){var file,j,len,ref,results;ref=this.files;results=[];for(j=0,len=ref.length;j<len;j++){file=ref[j];if(file.status===status){results.push(file)}}
return results};Dropzone.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(Dropzone.QUEUED)};Dropzone.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(Dropzone.UPLOADING)};Dropzone.prototype.getAddedFiles=function(){return this.getFilesWithStatus(Dropzone.ADDED)};Dropzone.prototype.getActiveFiles=function(){var file,j,len,ref,results;ref=this.files;results=[];for(j=0,len=ref.length;j<len;j++){file=ref[j];if(file.status===Dropzone.UPLOADING||file.status===Dropzone.QUEUED){results.push(file)}}
return results};Dropzone.prototype.init=function(){var eventName,j,len,noPropagation,ref,ref1,setupHiddenFileInput;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}
if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(Dropzone.createElement("<div class=\"dz-default dz-message\"><span>"+this.options.dictDefaultMessage+"</span></div>"))}
if(this.clickableElements.length){setupHiddenFileInput=(function(_this){return function(){if(_this.hiddenFileInput){_this.hiddenFileInput.parentNode.removeChild(_this.hiddenFileInput)}
_this.hiddenFileInput=document.createElement("input");_this.hiddenFileInput.setAttribute("type","file");if((_this.options.maxFiles==null)||_this.options.maxFiles>1){_this.hiddenFileInput.setAttribute("multiple","multiple")}
_this.hiddenFileInput.className="dz-hidden-input";if(_this.options.acceptedFiles!=null){_this.hiddenFileInput.setAttribute("accept",_this.options.acceptedFiles)}
if(_this.options.capture!=null){_this.hiddenFileInput.setAttribute("capture",_this.options.capture)}
_this.hiddenFileInput.style.visibility="hidden";_this.hiddenFileInput.style.position="absolute";_this.hiddenFileInput.style.top="0";_this.hiddenFileInput.style.left="0";_this.hiddenFileInput.style.height="0";_this.hiddenFileInput.style.width="0";document.querySelector(_this.options.hiddenInputContainer).appendChild(_this.hiddenFileInput);return _this.hiddenFileInput.addEventListener("change",function(){var file,files,j,len;files=_this.hiddenFileInput.files;if(files.length){for(j=0,len=files.length;j<len;j++){file=files[j];_this.addFile(file)}}
_this.emit("addedfiles",files);return setupHiddenFileInput()})}})(this);setupHiddenFileInput()}
this.URL=(ref=window.URL)!=null?ref:window.webkitURL;ref1=this.events;for(j=0,len=ref1.length;j<len;j++){eventName=ref1[j];this.on(eventName,this.options[eventName])}
this.on("uploadprogress",(function(_this){return function(){return _this.updateTotalUploadProgress()}})(this));this.on("removedfile",(function(_this){return function(){return _this.updateTotalUploadProgress()}})(this));this.on("canceled",(function(_this){return function(file){return _this.emit("complete",file)}})(this));this.on("complete",(function(_this){return function(file){if(_this.getAddedFiles().length===0&&_this.getUploadingFiles().length===0&&_this.getQueuedFiles().length===0){return setTimeout((function(){return _this.emit("queuecomplete")}),0)}}})(this));noPropagation=function(e){e.stopPropagation();if(e.preventDefault){return e.preventDefault()}else{return e.returnValue=!1}};this.listeners=[{element:this.element,events:{"dragstart":(function(_this){return function(e){return _this.emit("dragstart",e)}})(this),"dragenter":(function(_this){return function(e){noPropagation(e);return _this.emit("dragenter",e)}})(this),"dragover":(function(_this){return function(e){var efct;try{efct=e.dataTransfer.effectAllowed}catch(undefined){}
e.dataTransfer.dropEffect='move'===efct||'linkMove'===efct?'move':'copy';noPropagation(e);return _this.emit("dragover",e)}})(this),"dragleave":(function(_this){return function(e){return _this.emit("dragleave",e)}})(this),"drop":(function(_this){return function(e){noPropagation(e);return _this.drop(e)}})(this),"dragend":(function(_this){return function(e){return _this.emit("dragend",e)}})(this)}}];this.clickableElements.forEach((function(_this){return function(clickableElement){return _this.listeners.push({element:clickableElement,events:{"click":function(evt){if((clickableElement!==_this.element)||(evt.target===_this.element||Dropzone.elementInside(evt.target,_this.element.querySelector(".dz-message")))){_this.hiddenFileInput.click()}
return!0}}})}})(this));this.enable();return this.options.init.call(this)};Dropzone.prototype.destroy=function(){var ref;this.disable();this.removeAllFiles(!0);if((ref=this.hiddenFileInput)!=null?ref.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}
delete this.element.dropzone;return Dropzone.instances.splice(Dropzone.instances.indexOf(this),1)};Dropzone.prototype.updateTotalUploadProgress=function(){var activeFiles,file,j,len,ref,totalBytes,totalBytesSent,totalUploadProgress;totalBytesSent=0;totalBytes=0;activeFiles=this.getActiveFiles();if(activeFiles.length){ref=this.getActiveFiles();for(j=0,len=ref.length;j<len;j++){file=ref[j];totalBytesSent+=file.upload.bytesSent;totalBytes+=file.upload.total}
totalUploadProgress=100*totalBytesSent/totalBytes}else{totalUploadProgress=100}
return this.emit("totaluploadprogress",totalUploadProgress,totalBytes,totalBytesSent)};Dropzone.prototype._getParamName=function(n){if(typeof this.options.paramName==="function"){return this.options.paramName(n)}else{return ""+this.options.paramName+(this.options.uploadMultiple?"["+n+"]":"")}};Dropzone.prototype._renameFilename=function(name,file){if(typeof this.options.renameFilename!=="function"){return name}
return this.options.renameFilename(name,file)};Dropzone.prototype.getFallbackForm=function(){var existingFallback,fields,fieldsString,form;if(existingFallback=this.getExistingFallback()){return existingFallback}
fieldsString="<div class=\"dz-fallback\">";if(this.options.dictFallbackText){fieldsString+="<p>"+this.options.dictFallbackText+"</p>"}
fieldsString+="<input type=\"file\" name=\""+(this._getParamName(0))+"\" "+(this.options.uploadMultiple?'multiple="multiple"':void 0)+" /><input type=\"submit\" value=\"Upload!\"></div>";fields=Dropzone.createElement(fieldsString);if(this.element.tagName!=="FORM"){form=Dropzone.createElement("<form action=\""+this.options.url+"\" enctype=\"multipart/form-data\" method=\""+this.options.method+"\"></form>");form.appendChild(fields)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}
return form!=null?form:fields};Dropzone.prototype.getExistingFallback=function(){var fallback,getFallback,j,len,ref,tagName;getFallback=function(elements){var el,j,len;for(j=0,len=elements.length;j<len;j++){el=elements[j];if(/(^| )fallback($| )/.test(el.className)){return el}}};ref=["div","form"];for(j=0,len=ref.length;j<len;j++){tagName=ref[j];if(fallback=getFallback(this.element.getElementsByTagName(tagName))){return fallback}}};Dropzone.prototype.setupEventListeners=function(){var elementListeners,event,j,len,listener,ref,results;ref=this.listeners;results=[];for(j=0,len=ref.length;j<len;j++){elementListeners=ref[j];results.push((function(){var ref1,results1;ref1=elementListeners.events;results1=[];for(event in ref1){listener=ref1[event];results1.push(elementListeners.element.addEventListener(event,listener,!1))}
return results1})())}
return results};Dropzone.prototype.removeEventListeners=function(){var elementListeners,event,j,len,listener,ref,results;ref=this.listeners;results=[];for(j=0,len=ref.length;j<len;j++){elementListeners=ref[j];results.push((function(){var ref1,results1;ref1=elementListeners.events;results1=[];for(event in ref1){listener=ref1[event];results1.push(elementListeners.element.removeEventListener(event,listener,!1))}
return results1})())}
return results};Dropzone.prototype.disable=function(){var file,j,len,ref,results;this.clickableElements.forEach(function(element){return element.classList.remove("dz-clickable")});this.removeEventListeners();ref=this.files;results=[];for(j=0,len=ref.length;j<len;j++){file=ref[j];results.push(this.cancelUpload(file))}
return results};Dropzone.prototype.enable=function(){this.clickableElements.forEach(function(element){return element.classList.add("dz-clickable")});return this.setupEventListeners()};Dropzone.prototype.filesize=function(size){var cutoff,i,j,len,selectedSize,selectedUnit,unit,units;selectedSize=0;selectedUnit="b";if(size>0){units=['TB','GB','MB','KB','b'];for(i=j=0,len=units.length;j<len;i=++j){unit=units[i];cutoff=Math.pow(this.options.filesizeBase,4-i)/10;if(size>=cutoff){selectedSize=size/Math.pow(this.options.filesizeBase,4-i);selectedUnit=unit;break}}
selectedSize=Math.round(10*selectedSize)/10}
return "<strong>"+selectedSize+"</strong> "+selectedUnit};Dropzone.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit('maxfilesreached',this.files)}
return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};Dropzone.prototype.drop=function(e){var files,items;if(!e.dataTransfer){return}
this.emit("drop",e);files=e.dataTransfer.files;this.emit("addedfiles",files);if(files.length){items=e.dataTransfer.items;if(items&&items.length&&(items[0].webkitGetAsEntry!=null)){this._addFilesFromItems(items)}else{this.handleFiles(files)}}};Dropzone.prototype.paste=function(e){var items,ref;if((e!=null?(ref=e.clipboardData)!=null?ref.items:void 0:void 0)==null){return}
this.emit("paste",e);items=e.clipboardData.items;if(items.length){return this._addFilesFromItems(items)}};Dropzone.prototype.handleFiles=function(files){var file,j,len,results;results=[];for(j=0,len=files.length;j<len;j++){file=files[j];results.push(this.addFile(file))}
return results};Dropzone.prototype._addFilesFromItems=function(items){var entry,item,j,len,results;results=[];for(j=0,len=items.length;j<len;j++){item=items[j];if((item.webkitGetAsEntry!=null)&&(entry=item.webkitGetAsEntry())){if(entry.isFile){results.push(this.addFile(item.getAsFile()))}else if(entry.isDirectory){results.push(this._addFilesFromDirectory(entry,entry.name))}else{results.push(void 0)}}else if(item.getAsFile!=null){if((item.kind==null)||item.kind==="file"){results.push(this.addFile(item.getAsFile()))}else{results.push(void 0)}}else{results.push(void 0)}}
return results};Dropzone.prototype._addFilesFromDirectory=function(directory,path){var dirReader,errorHandler,readEntries;dirReader=directory.createReader();errorHandler=function(error){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(error):void 0:void 0};readEntries=(function(_this){return function(){return dirReader.readEntries(function(entries){var entry,j,len;if(entries.length>0){for(j=0,len=entries.length;j<len;j++){entry=entries[j];if(entry.isFile){entry.file(function(file){if(_this.options.ignoreHiddenFiles&&file.name.substring(0,1)==='.'){return}
file.fullPath=path+"/"+file.name;return _this.addFile(file)})}else if(entry.isDirectory){_this._addFilesFromDirectory(entry,path+"/"+entry.name)}}
readEntries()}
return null},errorHandler)}})(this);return readEntries()};Dropzone.prototype.accept=function(file,done){if(file.size>this.options.maxFilesize*1024*1024){return done(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(file.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else if(!Dropzone.isValidFile(file,this.options.acceptedFiles)){return done(this.options.dictInvalidFileType)}else if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){done(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",file)}else{return this.options.accept.call(this,file,done)}};Dropzone.prototype.addFile=function(file){file.upload={progress:0,total:file.size,bytesSent:0};this.files.push(file);file.status=Dropzone.ADDED;this.emit("addedfile",file);this._enqueueThumbnail(file);return this.accept(file,(function(_this){return function(error){if(error){file.accepted=!1;_this._errorProcessing([file],error)}else{file.accepted=!0;if(_this.options.autoQueue){_this.enqueueFile(file)}}
return _this._updateMaxFilesReachedClass()}})(this))};Dropzone.prototype.enqueueFiles=function(files){var file,j,len;for(j=0,len=files.length;j<len;j++){file=files[j];this.enqueueFile(file)}
return null};Dropzone.prototype.enqueueFile=function(file){if(file.status===Dropzone.ADDED&&file.accepted===!0){file.status=Dropzone.QUEUED;if(this.options.autoProcessQueue){return setTimeout(((function(_this){return function(){return _this.processQueue()}})(this)),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};Dropzone.prototype._thumbnailQueue=[];Dropzone.prototype._processingThumbnail=!1;Dropzone.prototype._enqueueThumbnail=function(file){if(this.options.createImageThumbnails&&file.type.match(/image.*/)&&file.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(file);return setTimeout(((function(_this){return function(){return _this._processThumbnailQueue()}})(this)),0)}};Dropzone.prototype._processThumbnailQueue=function(){var file;if(this._processingThumbnail||this._thumbnailQueue.length===0){return}
this._processingThumbnail=!0;file=this._thumbnailQueue.shift();return this.createThumbnail(file,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(_this){return function(dataUrl){_this.emit("thumbnail",file,dataUrl);_this._processingThumbnail=!1;return _this._processThumbnailQueue()}})(this))};Dropzone.prototype.removeFile=function(file){if(file.status===Dropzone.UPLOADING){this.cancelUpload(file)}
this.files=without(this.files,file);this.emit("removedfile",file);if(this.files.length===0){return this.emit("reset")}};Dropzone.prototype.removeAllFiles=function(cancelIfNecessary){var file,j,len,ref;if(cancelIfNecessary==null){cancelIfNecessary=!1}
ref=this.files.slice();for(j=0,len=ref.length;j<len;j++){file=ref[j];if(file.status!==Dropzone.UPLOADING||cancelIfNecessary){this.removeFile(file)}}
return null};Dropzone.prototype.resizeImage=function(file,width,height,resizeMethod,callback){return this.createThumbnail(file,width,height,resizeMethod,!1,(function(_this){return function(dataUrl,canvas){var resizeMimeType,resizedDataURL;if(canvas===null){return callback(file)}else{resizeMimeType=_this.options.resizeMimeType;if(resizeMimeType==null){resizeMimeType=file.type}
resizedDataURL=canvas.toDataURL(resizeMimeType,_this.options.resizeQuality);if(resizeMimeType==='image/jpeg'||resizeMimeType==='image/jpg'){resizedDataURL=ExifRestore.restore(file.dataURL,resizedDataURL)}
return callback(Dropzone.dataURItoBlob(resizedDataURL))}}})(this))};Dropzone.prototype.createThumbnail=function(file,width,height,resizeMethod,fixOrientation,callback){var fileReader;fileReader=new FileReader;fileReader.onload=(function(_this){return function(){file.dataURL=fileReader.result;if(file.type==="image/svg+xml"){if(callback!=null){callback(fileReader.result)}
return}
return _this.createThumbnailFromUrl(file,width,height,resizeMethod,fixOrientation,callback)}})(this);return fileReader.readAsDataURL(file)};Dropzone.prototype.createThumbnailFromUrl=function(file,width,height,resizeMethod,fixOrientation,callback,crossOrigin){var img;img=document.createElement("img");if(crossOrigin){img.crossOrigin=crossOrigin}
img.onload=(function(_this){return function(){var loadExif;loadExif=function(callback){return callback(1)};if((typeof EXIF!=="undefined"&&EXIF!==null)&&fixOrientation){loadExif=function(callback){return EXIF.getData(img,function(){return callback(EXIF.getTag(this,'Orientation'))})}}
return loadExif(function(orientation){var canvas,ctx,ref,ref1,ref2,ref3,resizeInfo,thumbnail;file.width=img.width;file.height=img.height;resizeInfo=_this.options.resize.call(_this,file,width,height,resizeMethod);canvas=document.createElement("canvas");ctx=canvas.getContext("2d");canvas.width=resizeInfo.trgWidth;canvas.height=resizeInfo.trgHeight;if(orientation>4){canvas.width=resizeInfo.trgHeight;canvas.height=resizeInfo.trgWidth}
switch(orientation){case 2:ctx.translate(canvas.width,0);ctx.scale(-1,1);break;case 3:ctx.translate(canvas.width,canvas.height);ctx.rotate(Math.PI);break;case 4:ctx.translate(0,canvas.height);ctx.scale(1,-1);break;case 5:ctx.rotate(0.5*Math.PI);ctx.scale(1,-1);break;case 6:ctx.rotate(0.5*Math.PI);ctx.translate(0,-canvas.height);break;case 7:ctx.rotate(0.5*Math.PI);ctx.translate(canvas.width,-canvas.height);ctx.scale(-1,1);break;case 8:ctx.rotate(-0.5*Math.PI);ctx.translate(-canvas.width,0)}
drawImageIOSFix(ctx,img,(ref=resizeInfo.srcX)!=null?ref:0,(ref1=resizeInfo.srcY)!=null?ref1:0,resizeInfo.srcWidth,resizeInfo.srcHeight,(ref2=resizeInfo.trgX)!=null?ref2:0,(ref3=resizeInfo.trgY)!=null?ref3:0,resizeInfo.trgWidth,resizeInfo.trgHeight);thumbnail=canvas.toDataURL("image/png");if(callback!=null){return callback(thumbnail,canvas)}})}})(this);if(callback!=null){img.onerror=callback}
return img.src=file.dataURL};Dropzone.prototype.processQueue=function(){var i,parallelUploads,processingLength,queuedFiles;parallelUploads=this.options.parallelUploads;processingLength=this.getUploadingFiles().length;i=processingLength;if(processingLength>=parallelUploads){return}
queuedFiles=this.getQueuedFiles();if(!(queuedFiles.length>0)){return}
if(this.options.uploadMultiple){return this.processFiles(queuedFiles.slice(0,parallelUploads-processingLength))}else{while(i<parallelUploads){if(!queuedFiles.length){return}
this.processFile(queuedFiles.shift());i++}}};Dropzone.prototype.processFile=function(file){return this.processFiles([file])};Dropzone.prototype.processFiles=function(files){var file,j,len;for(j=0,len=files.length;j<len;j++){file=files[j];file.processing=!0;file.status=Dropzone.UPLOADING;this.emit("processing",file)}
if(this.options.uploadMultiple){this.emit("processingmultiple",files)}
return this.uploadFiles(files)};Dropzone.prototype._getFilesWithXhr=function(xhr){var file,files;return files=(function(){var j,len,ref,results;ref=this.files;results=[];for(j=0,len=ref.length;j<len;j++){file=ref[j];if(file.xhr===xhr){results.push(file)}}
return results}).call(this)};Dropzone.prototype.cancelUpload=function(file){var groupedFile,groupedFiles,j,k,len,len1,ref;if(file.status===Dropzone.UPLOADING){groupedFiles=this._getFilesWithXhr(file.xhr);for(j=0,len=groupedFiles.length;j<len;j++){groupedFile=groupedFiles[j];groupedFile.status=Dropzone.CANCELED}
file.xhr.abort();for(k=0,len1=groupedFiles.length;k<len1;k++){groupedFile=groupedFiles[k];this.emit("canceled",groupedFile)}
if(this.options.uploadMultiple){this.emit("canceledmultiple",groupedFiles)}}else if((ref=file.status)===Dropzone.ADDED||ref===Dropzone.QUEUED){file.status=Dropzone.CANCELED;this.emit("canceled",file);if(this.options.uploadMultiple){this.emit("canceledmultiple",[file])}}
if(this.options.autoProcessQueue){return this.processQueue()}};resolveOption=function(){var args,option;option=arguments[0],args=2<=arguments.length?slice.call(arguments,1):[];if(typeof option==='function'){return option.apply(this,args)}
return option};Dropzone.prototype.uploadFile=function(file){return this.uploadFiles([file])};Dropzone.prototype.uploadFiles=function(files){var doneCounter,doneFunction,file,formData,handleError,headerName,headerValue,headers,i,input,inputName,inputType,j,k,key,l,len,len1,len2,len3,m,method,o,option,progressObj,ref,ref1,ref2,ref3,ref4,ref5,response,results,updateProgress,url,value,xhr;xhr=new XMLHttpRequest();for(j=0,len=files.length;j<len;j++){file=files[j];file.xhr=xhr}
method=resolveOption(this.options.method,files);url=resolveOption(this.options.url,files);xhr.open(method,url,!0);xhr.timeout=resolveOption(this.options.timeout,files);xhr.withCredentials=!!this.options.withCredentials;response=null;handleError=(function(_this){return function(){var k,len1,results;results=[];for(k=0,len1=files.length;k<len1;k++){file=files[k];results.push(_this._errorProcessing(files,response||_this.options.dictResponseError.replace("{{statusCode}}",xhr.status),xhr))}
return results}})(this);updateProgress=(function(_this){return function(e){var allFilesFinished,k,l,len1,len2,len3,m,progress,results;if(e!=null){progress=100*e.loaded/e.total;for(k=0,len1=files.length;k<len1;k++){file=files[k];file.upload={progress:progress,total:e.total,bytesSent:e.loaded}}}else{allFilesFinished=!0;progress=100;for(l=0,len2=files.length;l<len2;l++){file=files[l];if(!(file.upload.progress===100&&file.upload.bytesSent===file.upload.total)){allFilesFinished=!1}
file.upload.progress=progress;file.upload.bytesSent=file.upload.total}
if(allFilesFinished){return}}
results=[];for(m=0,len3=files.length;m<len3;m++){file=files[m];results.push(_this.emit("uploadprogress",file,progress,file.upload.bytesSent))}
return results}})(this);xhr.onload=(function(_this){return function(e){var error1,ref;if(files[0].status===Dropzone.CANCELED){return}
if(xhr.readyState!==4){return}
response=xhr.responseText;if(xhr.getResponseHeader("content-type")&&~xhr.getResponseHeader("content-type").indexOf("application/json")){try{response=JSON.parse(response)}catch(error1){e=error1;response="Invalid JSON response from server."}}
updateProgress();if(!((200<=(ref=xhr.status)&&ref<300))){return handleError()}else{return _this._finished(files,response,e)}}})(this);xhr.onerror=(function(_this){return function(){if(files[0].status===Dropzone.CANCELED){return}
return handleError()}})(this);progressObj=(ref=xhr.upload)!=null?ref:xhr;progressObj.onprogress=updateProgress;headers={"Accept":"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){extend(headers,this.options.headers)}
for(headerName in headers){headerValue=headers[headerName];if(headerValue){xhr.setRequestHeader(headerName,headerValue)}}
formData=new FormData();if(this.options.params){ref1=this.options.params;for(key in ref1){value=ref1[key];formData.append(key,value)}}
for(k=0,len1=files.length;k<len1;k++){file=files[k];this.emit("sending",file,xhr,formData)}
if(this.options.uploadMultiple){this.emit("sendingmultiple",files,xhr,formData)}
if(this.element.tagName==="FORM"){ref2=this.element.querySelectorAll("input, textarea, select, button");for(l=0,len2=ref2.length;l<len2;l++){input=ref2[l];inputName=input.getAttribute("name");inputType=input.getAttribute("type");if(input.tagName==="SELECT"&&input.hasAttribute("multiple")){ref3=input.options;for(m=0,len3=ref3.length;m<len3;m++){option=ref3[m];if(option.selected){formData.append(inputName,option.value)}}}else if(!inputType||((ref4=inputType.toLowerCase())!=="checkbox"&&ref4!=="radio")||input.checked){formData.append(inputName,input.value)}}}
doneCounter=0;results=[];for(i=o=0,ref5=files.length-1;0<=ref5?o<=ref5:o>=ref5;i=0<=ref5?++o:--o){doneFunction=(function(_this){return function(file,paramName,fileName){return function(transformedFile){formData.append(paramName,transformedFile,fileName);if(++doneCounter===files.length){return _this.submitRequest(xhr,formData,files)}}}})(this);results.push(this.options.transformFile.call(this,files[i],doneFunction(files[i],this._getParamName(i),this._renameFilename(file.name,file))))}
return results};Dropzone.prototype.submitRequest=function(xhr,formData,files){return xhr.send(formData)};Dropzone.prototype._finished=function(files,responseText,e){var file,j,len;for(j=0,len=files.length;j<len;j++){file=files[j];file.status=Dropzone.SUCCESS;this.emit("success",file,responseText,e);this.emit("complete",file)}
if(this.options.uploadMultiple){this.emit("successmultiple",files,responseText,e);this.emit("completemultiple",files)}
if(this.options.autoProcessQueue){return this.processQueue()}};Dropzone.prototype._errorProcessing=function(files,message,xhr){var file,j,len;for(j=0,len=files.length;j<len;j++){file=files[j];file.status=Dropzone.ERROR;this.emit("error",file,message,xhr);this.emit("complete",file)}
if(this.options.uploadMultiple){this.emit("errormultiple",files,message,xhr);this.emit("completemultiple",files)}
if(this.options.autoProcessQueue){return this.processQueue()}};return Dropzone})(Emitter);Dropzone.version="5.0.0";Dropzone.options={};Dropzone.optionsForElement=function(element){if(element.getAttribute("id")){return Dropzone.options[camelize(element.getAttribute("id"))]}else{return void 0}};Dropzone.instances=[];Dropzone.forElement=function(element){if(typeof element==="string"){element=document.querySelector(element)}
if((element!=null?element.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}
return element.dropzone};Dropzone.autoDiscover=!0;Dropzone.discover=function(){var checkElements,dropzone,dropzones,j,len,results;if(document.querySelectorAll){dropzones=document.querySelectorAll(".dropzone")}else{dropzones=[];checkElements=function(elements){var el,j,len,results;results=[];for(j=0,len=elements.length;j<len;j++){el=elements[j];if(/(^| )dropzone($| )/.test(el.className)){results.push(dropzones.push(el))}else{results.push(void 0)}}
return results};checkElements(document.getElementsByTagName("div"));checkElements(document.getElementsByTagName("form"))}
results=[];for(j=0,len=dropzones.length;j<len;j++){dropzone=dropzones[j];if(Dropzone.optionsForElement(dropzone)!==!1){results.push(new Dropzone(dropzone))}else{results.push(void 0)}}
return results};Dropzone.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];Dropzone.isBrowserSupported=function(){var capableBrowser,j,len,ref,regex;capableBrowser=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){capableBrowser=!1}else{ref=Dropzone.blacklistedBrowsers;for(j=0,len=ref.length;j<len;j++){regex=ref[j];if(regex.test(navigator.userAgent)){capableBrowser=!1;continue}}}}else{capableBrowser=!1}
return capableBrowser};Dropzone.dataURItoBlob=function(dataURI){var ab,byteString,i,ia,j,mimeString,ref;byteString=atob(dataURI.split(',')[1]);mimeString=dataURI.split(',')[0].split(':')[1].split(';')[0];ab=new ArrayBuffer(byteString.length);ia=new Uint8Array(ab);for(i=j=0,ref=byteString.length;0<=ref?j<=ref:j>=ref;i=0<=ref?++j:--j){ia[i]=byteString.charCodeAt(i)}
return new Blob([ab],{type:mimeString})};without=function(list,rejectedItem){var item,j,len,results;results=[];for(j=0,len=list.length;j<len;j++){item=list[j];if(item!==rejectedItem){results.push(item)}}
return results};camelize=function(str){return str.replace(/[\-_](\w)/g,function(match){return match.charAt(1).toUpperCase()})};Dropzone.createElement=function(string){var div;div=document.createElement("div");div.innerHTML=string;return div.childNodes[0]};Dropzone.elementInside=function(element,container){if(element===container){return!0}
while(element=element.parentNode){if(element===container){return!0}}
return!1};Dropzone.getElement=function(el,name){var element;if(typeof el==="string"){element=document.querySelector(el)}else if(el.nodeType!=null){element=el}
if(element==null){throw new Error("Invalid `"+name+"` option provided. Please provide a CSS selector or a plain HTML element.")}
return element};Dropzone.getElements=function(els,name){var e,el,elements,error1,j,k,len,len1,ref;if(els instanceof Array){elements=[];try{for(j=0,len=els.length;j<len;j++){el=els[j];elements.push(this.getElement(el,name))}}catch(error1){e=error1;elements=null}}else if(typeof els==="string"){elements=[];ref=document.querySelectorAll(els);for(k=0,len1=ref.length;k<len1;k++){el=ref[k];elements.push(el)}}else if(els.nodeType!=null){elements=[els]}
if(!((elements!=null)&&elements.length)){throw new Error("Invalid `"+name+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}
return elements};Dropzone.confirm=function(question,accepted,rejected){if(window.confirm(question)){return accepted()}else if(rejected!=null){return rejected()}};Dropzone.isValidFile=function(file,acceptedFiles){var baseMimeType,j,len,mimeType,validType;if(!acceptedFiles){return!0}
acceptedFiles=acceptedFiles.split(",");mimeType=file.type;baseMimeType=mimeType.replace(/\/.*$/,"");for(j=0,len=acceptedFiles.length;j<len;j++){validType=acceptedFiles[j];validType=validType.trim();if(validType.charAt(0)==="."){if(file.name.toLowerCase().indexOf(validType.toLowerCase(),file.name.length-validType.length)!==-1){return!0}}else if(/\/\*$/.test(validType)){if(baseMimeType===validType.replace(/\/.*$/,"")){return!0}}else{if(mimeType===validType){return!0}}}
return!1};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(options){return this.each(function(){return new Dropzone(this,options)})}}
if(typeof module!=="undefined"&&module!==null){module.exports=Dropzone}else{window.Dropzone=Dropzone}
Dropzone.ADDED="added";Dropzone.QUEUED="queued";Dropzone.ACCEPTED=Dropzone.QUEUED;Dropzone.UPLOADING="uploading";Dropzone.PROCESSING=Dropzone.UPLOADING;Dropzone.CANCELED="canceled";Dropzone.ERROR="error";Dropzone.SUCCESS="success";detectVerticalSquash=function(img){var alpha,canvas,ctx,data,ey,ih,iw,py,ratio,sy;iw=img.naturalWidth;ih=img.naturalHeight;canvas=document.createElement("canvas");canvas.width=1;canvas.height=ih;ctx=canvas.getContext("2d");ctx.drawImage(img,0,0);data=ctx.getImageData(1,0,1,ih).data;sy=0;ey=ih;py=ih;while(py>sy){alpha=data[(py-1)*4+3];if(alpha===0){ey=py}else{sy=py}
py=(ey+sy)>>1}
ratio=py/ih;if(ratio===0){return 1}else{return ratio}};drawImageIOSFix=function(ctx,img,sx,sy,sw,sh,dx,dy,dw,dh){var vertSquashRatio;vertSquashRatio=detectVerticalSquash(img);return ctx.drawImage(img,sx,sy,sw,sh,dx,dy,dw,dh/vertSquashRatio)};ExifRestore=(function(){function ExifRestore(){}
ExifRestore.KEY_STR='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';ExifRestore.encode64=function(input){var chr1,chr2,chr3,enc1,enc2,enc3,enc4,i,output;output='';chr1=void 0;chr2=void 0;chr3='';enc1=void 0;enc2=void 0;enc3=void 0;enc4='';i=0;while(!0){chr1=input[i++];chr2=input[i++];chr3=input[i++];enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}
output=output+this.KEY_STR.charAt(enc1)+this.KEY_STR.charAt(enc2)+this.KEY_STR.charAt(enc3)+this.KEY_STR.charAt(enc4);chr1=chr2=chr3='';enc1=enc2=enc3=enc4='';if(!(i<input.length)){break}}
return output};ExifRestore.restore=function(origFileBase64,resizedFileBase64){var image,rawImage,segments;if(!origFileBase64.match('data:image/jpeg;base64,')){return resizedFileBase64}
rawImage=this.decode64(origFileBase64.replace('data:image/jpeg;base64,',''));segments=this.slice2Segments(rawImage);image=this.exifManipulation(resizedFileBase64,segments);return 'data:image/jpeg;base64,'+this.encode64(image)};ExifRestore.exifManipulation=function(resizedFileBase64,segments){var aBuffer,exifArray,newImageArray;exifArray=this.getExifArray(segments);newImageArray=this.insertExif(resizedFileBase64,exifArray);aBuffer=new Uint8Array(newImageArray);return aBuffer};ExifRestore.getExifArray=function(segments){var seg,x;seg=void 0;x=0;while(x<segments.length){seg=segments[x];if(seg[0]===255&seg[1]===225){return seg}
x++}
return[]};ExifRestore.insertExif=function(resizedFileBase64,exifArray){var array,ato,buf,imageData,mae,separatePoint;imageData=resizedFileBase64.replace('data:image/jpeg;base64,','');buf=this.decode64(imageData);separatePoint=buf.indexOf(255,3);mae=buf.slice(0,separatePoint);ato=buf.slice(separatePoint);array=mae;array=array.concat(exifArray);array=array.concat(ato);return array};ExifRestore.slice2Segments=function(rawImageArray){var endPoint,head,length,seg,segments;head=0;segments=[];while(!0){if(rawImageArray[head]===255&rawImageArray[head+1]===218){break}
if(rawImageArray[head]===255&rawImageArray[head+1]===216){head+=2}else{length=rawImageArray[head+2]*256+rawImageArray[head+3];endPoint=head+length+2;seg=rawImageArray.slice(head,endPoint);segments.push(seg);head=endPoint}
if(head>rawImageArray.length){break}}
return segments};ExifRestore.decode64=function(input){var base64test,buf,chr1,chr2,chr3,enc1,enc2,enc3,enc4,i,output;output='';chr1=void 0;chr2=void 0;chr3='';enc1=void 0;enc2=void 0;enc3=void 0;enc4='';i=0;buf=[];base64test=/[^A-Za-z0-9\+\/\=]/g;if(base64test.exec(input)){console.warning('There were invalid base64 characters in the input text.\n'+'Valid base64 characters are A-Z, a-z, 0-9, \'+\', \'/\',and \'=\'\n'+'Expect errors in decoding.')}
input=input.replace(/[^A-Za-z0-9\+\/\=]/g,'');while(!0){enc1=this.KEY_STR.indexOf(input.charAt(i++));enc2=this.KEY_STR.indexOf(input.charAt(i++));enc3=this.KEY_STR.indexOf(input.charAt(i++));enc4=this.KEY_STR.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;buf.push(chr1);if(enc3!==64){buf.push(chr2)}
if(enc4!==64){buf.push(chr3)}
chr1=chr2=chr3='';enc1=enc2=enc3=enc4='';if(!(i<input.length)){break}}
return buf};return ExifRestore})();contentLoaded=function(win,fn){var add,doc,done,init,poll,pre,rem,root,top;done=!1;top=!0;doc=win.document;root=doc.documentElement;add=(doc.addEventListener?"addEventListener":"attachEvent");rem=(doc.addEventListener?"removeEventListener":"detachEvent");pre=(doc.addEventListener?"":"on");init=function(e){if(e.type==="readystatechange"&&doc.readyState!=="complete"){return}(e.type==="load"?win:doc)[rem](pre+e.type,init,!1);if(!done&&(done=!0)){return fn.call(win,e.type||e)}};poll=function(){var e,error1;try{root.doScroll("left")}catch(error1){e=error1;setTimeout(poll,50);return}
return init("poll")};if(doc.readyState!=="complete"){if(doc.createEventObject&&root.doScroll){try{top=!win.frameElement}catch(undefined){}
if(top){poll()}}
doc[add](pre+"DOMContentLoaded",init,!1);doc[add](pre+"readystatechange",init,!1);return win[add](pre+"load",init,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover){return Dropzone.discover()}};contentLoaded(window,Dropzone._autoDiscoverFunction)}).call(this);(function(c){c.fn.stupidtable=function(b){return this.each(function(){var a=c(this);b=b||{};b=c.extend({},c.fn.stupidtable.default_sort_fns,b);a.data("sortFns",b);a.stupidtable_build();a.on("click.stupidtable","thead th",function(){c(this).stupidsort()});a.find("th[data-sort-onload=yes]").eq(0).stupidsort()})};c.fn.stupidtable_settings=function(b){return this.each(function(){var a=c(this),f=c.extend({},c.fn.stupidtable.default_settings,b);a.stupidtable.settings=f})};c.fn.stupidsort=function(b){var a=c(this),f=0,g=c.fn.stupidtable.dir,d=a.closest("table"),h=a.data("sort")||null;d.stupidtable.settings||(d.stupidtable.settings=c.extend({},c.fn.stupidtable.default_settings));if(null!==h){var k=d.data("sortFns")[h];a.parents("tr").find("th").slice(0,c(this).index()).each(function(){var a=c(this).attr("colspan")||1;f+=parseInt(a,10)});var e;1==arguments.length?e=b:(e=b||a.data("sort-default")||g.ASC,a.data("sort-dir")&&(e=a.data("sort-dir")===g.ASC?g.DESC:g.ASC));a.data("sort-dir",e);d.trigger("beforetablesort",{column:f,direction:e,$th:a});d.css("display");setTimeout(function(){d.stupidtable.settings.will_manually_build_table||d.stupidtable_build();var b=d.data("stupidsort_internaltable");b.sort(function(a,b){var c=k(a.columns[f],b.columns[f]);return 0===c?a.index-b.index:c});e!=g.ASC&&b.reverse();var l={column:c.map(b,function(a,b){return[[a.columns[f],a.$tr,b]]}),sort_dir:e,$th:a,th_index:f,$table:d,datatype:h,compare_fn:k};d.stupidtable.settings.should_redraw(l)&&(trs=c.map(b,function(a){return a.$tr}),d.children("tbody").append(trs),d.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc"),a.data("sort-dir",e).addClass("sorting-"+e),d.trigger("aftertablesort",{column:f,direction:e,$th:a}),d.css("display"))},10);return a}};c.fn.updateSortVal=function(b){var a=c(this);a.is("[data-sort-value]")&&a.attr("data-sort-value",b);a.data("sort-value",b);return a};c.fn.stupidtable.default_settings={should_redraw:function(b){return!0},will_manually_build_table:!1};c.fn.stupidtable.dir={ASC:"asc",DESC:"desc"};c.fn.stupidtable.default_sort_fns={"int":function(b,a){return parseInt(b,10)-parseInt(a,10)},"float":function(b,a){return parseFloat(b)-parseFloat(a)},string:function(b,a){return b.toString().localeCompare(a.toString())},"string-ins":function(b,a){b=b.toString().toLocaleLowerCase();a=a.toString().toLocaleLowerCase();return b.localeCompare(a)}};c.fn.stupidtable_build=function(){return this.each(function(){var b=c(this),a=[];b.children("tbody").children("tr").each(function(b,g){var d={$tr:c(g),columns:[],index:b};c(g).children("td").each(function(a,b){var e=c(b).data("sort-value");"undefined"===typeof e&&(e=c(b).text(),c(b).data("sort-value",e));d.columns.push(e)});a.push(d)});b.data("stupidsort_internaltable",a)})}})(jQuery);(function($,window){var defaults={ratio:16/9,videoId:'ZCAnLxRvNNc',mute:!0,repeat:!0,width:$(window).width(),wrapperZIndex:99,playButtonClass:'tubular-play',pauseButtonClass:'tubular-pause',muteButtonClass:'tubular-mute',volumeUpClass:'tubular-volume-up',volumeDownClass:'tubular-volume-down',increaseVolumeBy:10,start:0};var tubular=function(node,options){var options=$.extend({},defaults,options),$body=$('body')
$node=$(node);var tubularContainer='<div id="tubular-container" style="position: absolute; overflow: hidden; width: 100%; height: 100%"><div id="tubular-player" class="'+$node.parent().attr('data-tubular-parent')+'" style="position: absolute"></div></div><div id="tubular-shield" style="width: 100%; height: 100%; z-index: 2; position: absolute; left: 0; top: 0;"></div>';$('html,body').css({'width':'100%','height':'100%'});$node.prepend(tubularContainer);window.player;window.onYouTubeIframeAPIReady=function(){player=new YT.Player('tubular-player',{width:options.width,height:Math.ceil(options.width/options.ratio),videoId:options.videoId,playerVars:{rel:0,controls:0,showinfo:0,modestbranding:1,wmode:'transparent'},events:{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange}})}
window.onPlayerReady=function(e){resize();if(options.mute)e.target.mute();e.target.seekTo(options.start);e.target.playVideo()}
window.onPlayerStateChange=function(state){if(state.data===0&&options.repeat){player.seekTo(options.start)}}
var resize=function(){var width=Math.ceil(options.width),pWidth,height=Math.ceil($('body').find('.tubular-machinepark').height()),pHeight,$tubularPlayer=$('#tubular-player.'+$node.parent().attr('data-tubular-parent')+'');console.log();if(width/options.ratio<height){pWidth=Math.ceil(height*options.ratio);$tubularPlayer.width(pWidth).height(height).css({left:(width-pWidth)/2,top:0})}else{pHeight=Math.ceil(width/options.ratio);$tubularPlayer.width(width).height(pHeight).css({left:0,top:(height-pHeight)/2})}}
$(window).on('resize.tubular',function(){resize()})
$('body').on('click','.'+options.playButtonClass,function(e){e.preventDefault();player.playVideo()}).on('click','.'+options.pauseButtonClass,function(e){e.preventDefault();player.pauseVideo()}).on('click','.'+options.muteButtonClass,function(e){e.preventDefault();(player.isMuted())?player.unMute():player.mute()}).on('click','.'+options.volumeDownClass,function(e){e.preventDefault();var currentVolume=player.getVolume();if(currentVolume<options.increaseVolumeBy)currentVolume=options.increaseVolumeBy;player.setVolume(currentVolume-options.increaseVolumeBy)}).on('click','.'+options.volumeUpClass,function(e){e.preventDefault();if(player.isMuted())player.unMute();var currentVolume=player.getVolume();if(currentVolume>100-options.increaseVolumeBy)currentVolume=100-options.increaseVolumeBy;player.setVolume(currentVolume+options.increaseVolumeBy)})}
var tag=document.createElement('script');tag.src="//www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);$.fn.tubular=function(options){return this.each(function(){if(!$.data(this,'tubular_instantiated')){$.data(this,'tubular_instantiated',tubular(this,options))}})}})(jQuery,window);$('body').on('click','.alert .icon-cross',function(){$(this).closest('.alert').hide()});$(document).on("mousedown",".js-clickable",function(e){switch(e.which){case 1:console.log('left mouse')
if(!$(e.target).closest('a:not(.js-clickable-link)').length){window.location=$(this).find(".js-clickable-link").attr("href");return!1}
break;case 2:console.log('middle mouse')
if(!$(e.target).closest('a:not(.js-clickable-link)').length){window.open($(this).find(".js-clickable-link").attr("href"),'_blank');return!1}
break}
return!0});$(document).mouseup(function(e){var dropdown=$('.dropdown-click.active');if(!dropdown.is(e.target)&&dropdown.has(e.target).length===0){dropdown.removeClass('active')}});$('body').on('click','.dropdown-click .dropdown-option',function(e){e.preventDefault();var dropdownValue=$(this).html();$(this).closest('.dropdown-click').find('.dropdown-option').removeClass('selected');$(this).addClass('selected');$(this).closest('.dropdown-click').find('.dropdown-trigger').html(dropdownValue);$(this).closest('.dropdown-click').removeClass('active')});$('.dropdown-click').each(function(){var dropdownValue=$(this).find('.dropdown-option.selected').html();$(this).find('.dropdown-trigger').html(dropdownValue)})
$('body').on('click','.dropdown-click .dropdown-trigger',function(e){e.preventDefault();if($(this).closest('.dropdown-click').hasClass('active')){$('body').find('.dropdown-click').removeClass('active')}else{$('body').find('.dropdown-click').removeClass('active');$(this).closest('.dropdown-click').addClass('active')}
if($('.dropdown-click.active').length>0){$('body').addClass('dropdown_open')}else{$('body').removeClass('dropdown_open')}});$(document).ready(equalHeight);$(window).on('load',equalHeight);$(window).on('resize',equalHeight);function equalHeight(){var groups={};$('[data-equal-group]').each(function(){var $this=$(this),groupId=$this.attr('data-equal-group');if(groupId in groups){groups[groupId]=groups[groupId].add($this)}else{groups[groupId]=$this}});$.each(groups,function(){groupNr=$(this).attr('data-equal-group-nr');groupUnset=$(this).attr('data-equal-group-unset');groupBreak=$(this).attr('data-equal-group-break');groupBreakNr=$(this).attr('data-equal-group-break-nr');if(groupNr!==undefined){$(this).css('height','').setHeight(parseInt(groupNr))}else{$(this).css('height','').setHeight(0)}
if(groupBreak!==undefined){if(g_windowWidth<=groupBreak&&groupBreakNr!=undefined){$(this).css('height','').setHeight(parseInt(groupBreakNr))}}
if(groupUnset!==undefined){if(g_windowWidth<=groupUnset){$(this).css('height','')}}})}
$.fn.setHeight=function(setCount){if(setCount===0){setCount=this.length}
for(var i=0;i<this.length;i+=setCount){var curSet=this.slice(i,i+setCount),height=0;curSet.each(function(){height=Math.max(height,Math.ceil($(this).outerHeight()))}).css('height',height)}
return this};$(document).ready(equalMinHeight);$(window).on('load',equalMinHeight);$(window).on('resize',equalMinHeight);function equalMinHeight(){var groups={};$('[data-equal-minheight-group]').each(function(){var $this=$(this),groupId=$this.attr('data-equal-group');if(groupId in groups){groups[groupId]=groups[groupId].add($this)}else{groups[groupId]=$this}});$.each(groups,function(){groupNr=$(this).attr('data-equal-minheight-group-nr');groupUnset=$(this).attr('data-equal-minheight-group-unset');groupBreak=$(this).attr('data-equal-minheight-group-break');groupBreakNr=$(this).attr('data-equal-minheight-group-break-nr');if(groupNr!==undefined){$(this).css('min-height','').setMinHeight(parseInt(groupNr))}else{$(this).css('min-height','').setMinHeight(0)}
if(groupBreak!==undefined){if(g_windowWidth<=groupBreak&&groupBreakNr!=undefined){$(this).css('min-height','').setMinHeight(parseInt(groupBreakNr))}}
if(groupUnset!==undefined){if(g_windowWidth<=groupUnset){$(this).css('min-height','')}}})}
$.fn.setMinHeight=function(setCount){if(setCount===0){setCount=this.length}
for(var i=0;i<this.length;i+=setCount){var curSet=this.slice(i,i+setCount),height=0;curSet.each(function(){height=Math.max(height,Math.ceil($(this).outerHeight()))}).css('min-height',height)}
return this};$(document).ready(function(){$('.file-control .file-select, .file-control .file-placeholder').on('click',function(e){e.preventDefault();$(this).parent().find('input[type="file"]').trigger('click')});$(document).on('change','.file-control input[type="file"]',function(){var filename=''+$(this)[0].files[0].name+' <span class="text-xs">('+humanFileSize($(this)[0].files[0].size)+')</span>';if(this.files.length>1){filename=this.files.length+' bestanden geselecteerd'}
$(this).parent().find('.file-placeholder').html(filename)});function humanFileSize(bytes){var i=-1;var byteUnits=[' kB',' MB',' GB',' TB','PB','EB','ZB','YB'];do{bytes=bytes/1024;i++}while(bytes>1024);return Math.max(bytes,0.1).toFixed(1)+byteUnits[i]}});var headerHeight=0;if(typeof fixedHeader==='undefined'){headerHeight=0}else{headerHeight=fixedHeader.height()}
if($('[data-fixed-element="child"]').length>0){fixedSidebar();$(window).resize(fixedSidebar);$(window).scroll(fixedSidebar)}
var fixedParent=$('[data-fixed-element="child"]');var sidebarHeight=Math.round($('[data-fixed-element="child"]').outerHeight());function fixedSidebar(){$('[data-fixed-element="child"]').width($('[data-fixed-element="parent"]').width());fixedParent=$('[data-fixed-element="parent"]');scrollParent=$(fixedParent).siblings().outerHeight();sidebarHeight=Math.round($('[data-fixed-element="child"]').outerHeight());if(g_windowWidth>=960&&sidebarHeight<=scrollParent){var scroll=Math.round(g_scroll+headerHeight);var offsetTop=Math.round($(fixedParent).offset().top-10);var offsetBottom=Math.round(($(fixedParent).parent().outerHeight()+$(fixedParent).parent().offset().top)-sidebarHeight)-headerHeight-20;if(sidebarHeight>g_windowHeight){scroll=Math.round(g_scroll+g_windowHeight);offsetTop=Math.round($(fixedParent).offset().top+sidebarHeight+headerHeight-30);offsetBottom=Math.round($(fixedParent).parent().outerHeight()+$(fixedParent).parent().offset().top)-headerHeight-20}
if(scroll>=offsetTop&&scroll<offsetBottom){$('[data-fixed-element="child"]').css("position","fixed");if(sidebarHeight>g_windowHeight){$('[data-fixed-element="child"]').css("top","auto").css("bottom",0)}else{$('[data-fixed-element="child"]').css("bottom","auto").css("top",headerHeight+20)}}else if(scroll>=offsetBottom){$('[data-fixed-element="child"]').css("position","absolute").css("top","auto").css("bottom","49px")}else{$('[data-fixed-element="child"]').css("position","relative").css("top","auto").css("bottom","auto")}}else{$('[data-fixed-element="child"]').removeClass("fixed").removeClass("bottom")}};function jsToggle(){$('[data-toggle-target]').each(function(e){var toggleParentElement=$(this).attr('data-toggle-target-parent');var toggleElement=$(this).attr('data-toggle-target');var toggleClass=$(this).attr('data-toggle-target-class');var toggleType=$(this).attr('data-toggle-type');if(toggleClass!=null){if(toggleType==='hover'){$(this).on('mouseover',function(){$(toggleElement).toggleClass(toggleClass)})}else if(toggleType==='change'){$(this).on('change',function(){if($(this).is(":checked")){$(toggleElement).addClass(toggleClass)}else{$(toggleElement).removeClass(toggleClass)}})}else{$(this).on('click',function(e){e.preventDefault();if(toggleParentElement!=null){if(toggleParentElement==='parent'){$(this).parent().find(toggleElement).toggleClass(toggleClass);console.log($(this).attr('class'));console.log(toggleElement);console.log(toggleClass)}else{$(toggleParentElement).find(toggleElement).toggleClass(toggleClass)}}else{$(toggleElement).toggleClass(toggleClass)}})}}else{console.log(toggleElement+': Set [data-toggle-target-class]!')}})};$(document).ready(function(){var parentWidth=0;var groups={};$('[data-menu-group]').each(function(){var $this=$(this),groupId=$this.attr('data-menu-group');if(groupId in groups){groups[groupId]=groups[groupId].add($this)}else{groups[groupId]=$this}});$.each(groups,function(index,group){mobileMenu();$(window).resize(mobileMenu);function mobileMenu(){parentWidth=$('[data-menu-measure="parent"]').width();menuWidth=20;$('[data-menu-measure="child"]').each(function(){menuWidth+=$(this).outerWidth()});$('[data-menu-show="both"]').removeClass('invisible-js');if(menuWidth>=parentWidth){$('[data-menu-show="desktop"]').addClass('invisible-js');$('[data-menu-show="mobile"]').removeClass('invisible');$('body').addClass('body_mobile-menu')}else{$('[data-menu-show="desktop"]').removeClass('invisible-js');$('[data-menu-show="mobile"]').addClass('invisible');$('body').removeClass('body_mobile-menu');$('body').removeClass('open-menu')}}});$("body").on('click','.btn-mobile-menu',function(e){e.preventDefault();e.stopPropagation();$('body').addClass('open-menu')});$('body').on('click','#mobile-overlay',function(e){e.preventDefault();$('body.open-menu').removeClass('open-menu')})});$(document).ready(parallax);$(window).on('scroll',parallax);function parallax(){$('.parallax').each(function(){var parallaxheight=$(this).height();var parallaxstart=$(this).offset().top;var parallaxend=parallaxstart+parallaxheight;var scrollstart=parallaxstart;if(parallaxstart>=g_windowHeight){scrollstart=parallaxstart-g_windowHeight}
var scrollend=parallaxend-scrollstart;var attr=$(this).attr('data-parallax-speed');if(typeof attr!==typeof undefined&&attr!==!1){var speed=$(this).attr('data-parallax-speed')}
var scroll=$(window).scrollTop();var scrollpos=scroll-scrollstart;var translate=0;if(g_windowWidth>=960){if(speed>1){$(this).find('.parallax-layer').css('height',parallaxheight*speed);if(scrollpos>=0){translate=((parallaxheight*speed)-parallaxheight)*(scrollpos/scrollend);$(this).find('.parallax-layer').css('transform','translateY(-'+translate+'px)')}else{$(this).find('.parallax-layer').css('background-attachment','local')}}if(speed>0&&speed<1){$(this).find('.parallax-layer').css('height',parallaxheight+(parallaxheight*speed));if(scrollpos>=0){translate=(scroll*speed);$(this).find('.parallax-layer').css('transform','translateY(-'+translate+'px)')}else{$(this).find('.parallax-layer').css('background-attachment','local')}}if(speed===0){$(this).find('.parallax-layer').css('height',parallaxheight);$(this).find('.parallax-layer').css('top',parallaxstart);$(this).find('.parallax-layer').css('position','fixed');$(this).find('.parallax-layer').css('background-attachment','scroll')}if(speed<0){$(this).find('.parallax-layer').css('height',parallaxheight);translate=(scroll*(speed*-1));$(this).find('.parallax-layer').css('background-attachment','local');$(this).find('.parallax-layer').css('top',translate+'px')}}else{}
if(g_dev===!0){console.log('[scroll:'+scroll+'][parallax:'+translate+']')}})};$(document).ready(function(){var $table=$('.responsive-table table');var $fixedColumn=$table.clone().insertBefore($table).removeClass('basis-table').addClass('fixed-column');$fixedColumn.find('th:not(:first-child),td:not(:first-child)').remove();setTableHeight();function setTableHeight(){$('div.responsive-table').each(function(){var div=$(this);$('table.basis-table tbody tr',div).each(function(i,el){var hgt=$(this).outerHeight();$('table.fixed-column tr',div).eq(i).height(hgt);$('table.basis-table tbody tr',div).eq(i).height(hgt)});$('table tbody tr th',div).each(function(i,el){var hgt=$(this).outerWidth();$('table.fixed-column',div).eq(i).width(hgt)})})}});if(typeof scrollTreshold==='undefined'){var scrollTreshold=0.3}
if(typeof scrollParent==='undefined'){var scrollParent=!0}
if(typeof scrollActive==='undefined'){var scrollActive=!0}
$(window).on('load',scrollMenu);$(window).on('scroll',scrollMenu);function scrollMenu(){var startScroll=g_scroll;var endScroll=g_scroll+(g_windowHeight*scrollTreshold);var scrollSection=0;$('a[data-scroll-link]').each(function(index,value){scrollSection=$(this).attr('data-scroll-link');$('#'+scrollSection).each(function(index,value){if($(this).length>0){if($(this).offset().top>=startScroll&&$(this).offset().top<=endScroll){if(scrollActive===!0){if($('[data-scroll-children]').length>0){$('body').find('a[data-scroll-link]').parent().removeClass('active');$('body').find('a[data-scroll-link="'+$(this).attr('id')+'"]').parent().addClass('active');$('body').find('a[data-scroll-children~="'+$(this).attr('id')+'"]').parent().addClass('active')}else{$('body').find('a[data-scroll-link]').parent().removeClass('active');$('body').find('a[data-scroll-link="'+$(this).attr('id')+'"]').parent().addClass('active')}}else{if($('[data-scroll-parent]').length>0){$('body').find('a[data-scroll-link]').parent().removeClass('active');$('body').find('a[data-scroll-link="'+$(this).attr('id')+'"]').parent().addClass('active');$('body').find('a[data-scroll-parent="'+$(this).attr('id')+'"]').parent().addClass('active')}else{$('body').find('a[data-scroll-link]').parent().removeClass('active');$('body').find('a[data-scroll-link="'+$(this).attr('id')+'"]').parent().addClass('active')}}}}})})};$(document).ready(searchBar);function searchBar(){$('.searchbar-toggle').on('click',function(e){e.preventDefault();$('.searchbar-section').toggleClass('active');$('.searchbar-section input').val('').focus()})};if(typeof scrollMargin==='undefined'){var scrollMargin=0}
if(typeof fixedHeader==='undefined'){var fixedHeader=!1}else{var headerHeight=fixedHeader.height()}
$('body').on('click','a[data-scroll-link]',function(e){e.preventDefault();var scrollLink=$(this).attr('data-scroll-link');if($('body').hasClass('open-menu')){$('body.open-menu').removeClass('open-menu')}
if($('#'+scrollLink).length>0){if(fixedHeader!==!1){$('html,body').animate({scrollTop:$('#'+scrollLink).offset().top-headerHeight-scrollMargin},500)}else{$('html,body').animate({scrollTop:$('#'+scrollLink).offset().top-scrollMargin},500)}}else{location.href=BASE_HREF+'#'+scrollLink;return!1}});$(window).on('load',function(){if(window.location.hash){var hash=window.location.hash.substring(1);if($('#'+hash+'').length>0){if(hash.substring(0,4)==="tab-"){if(fixedHeader!==!1){$('html,body').animate({scrollTop:$('#'+hash).offset().top-headerHeight-scrollMargin},0)}else{$('html,body').animate({scrollTop:$('#'+hash).offset().top-scrollMargin},0)}}else{if(fixedHeader!==!1){$('html,body').animate({scrollTop:$('#'+hash).offset().top-headerHeight-scrollMargin},0)}else{$('html,body').animate({scrollTop:$('#'+hash).offset().top-scrollMargin},0)}}}}});$(document).ready(function(){var tabgroups={};$('[data-tab-group]').each(function(){var $this=$(this),tabgroupId=$this.attr('data-tab-group');if(tabgroupId in tabgroups){tabgroups[tabgroupId]=tabgroups[tabgroupId].add($this)}else{tabgroups[tabgroupId]=$this}});$.each(tabgroups,function(index,tabgroup){var tabText=tabgroup.find('.tabs .active .tab-text').html();var tabChildren=tabgroup.find('.tab-link');var tabbyWidth=0;var tabsWidth=0;function measureTabs(){tabbyWidth=tabgroup.width();tabsWidth=20;tabbyCompact=!1;tabCompact=!1;tabChildren.each(function(index,elem){var $elem=$(elem).find('.tab-text');tabsWidth+=$elem.outerWidth();if(tabsWidth>=tabbyWidth){tabbyCompact=!0}
$(this).each(function(index,elem){var tabWidth=$(elem).outerWidth()+5;var textWidth=$(elem).find('.tab-text').outerWidth();if(textWidth>=tabWidth){tabCompact=!0}});if(tabbyCompact==!0||tabCompact==!0){if(!tabgroup.find('ul.tabs-compact').length>0){tabgroup.find('ul.tabs').addClass('invisible');tabgroup.find('ul.tabs').clone().removeClass().addClass('tabs-compact').appendTo('.tabs-wrapper');tabgroup.find('ul.tabs-compact').prepend('<li class="placeholder">...</li>');tabgroup.find('ul.tabs-compact .placeholder').html(tabText)}}else{tabgroup.find('ul.tabs').removeClass('invisible');tabgroup.find('ul.tabs-compact').remove()}})}
measureTabs();$(window).on('resize',measureTabs)})});$(document).ready(function(){tabby.init();$('body').on('click touchstart','.tabs-compact .placeholder',function(e){e.preventDefault();e.stopPropagation();$(this).closest('.tabs-compact').addClass('open');tabText=$(this).html();$(this).closest('.tabs-compact').find('.placeholder').text('...')});$('body').on('click','.tabs-compact.open li:not(.placeholder) a',function(e){$(this).closest('.tabs-compact').removeClass('open');$(this).closest('.tabs-compact').find('li').removeClass('active');$(this).closest('.tabs-compact li').addClass('active');tabText=$(this).find('.tab-text').html();$(this).closest('.tabs-compact').find('.placeholder').html(tabText)})});$('.textarea-autogrow').each(function(){var txt=$(this),hiddenDiv=$(document.createElement('div'));txt.addClass('txtstuff');hiddenDiv.addClass('fake-textarea');txt.closest('.textarea-parent').append(hiddenDiv);textareaHeight(txt,hiddenDiv);txt.on('input',function(){textareaHeight(txt,hiddenDiv)})});function textareaHeight(txt,hiddenDiv){hiddenDiv.html(txt.val());txt.css('height',(hiddenDiv.outerHeight()-2))};function tubularVideos(){if(g_windowWidth>639){$('[data-tubular]').each(function(){var tubularElement=$(this).attr('data-tubular-element')
$($(this).attr('data-tubular-element')).tubular({videoId:$(this).attr('data-tubular-id'),height:$(tubularElement).height(),width:$(tubularElement).width()})})}};$(document).ready(function(){$('.zebra').each(function(){if($(this).is('table')){$(this).addClass('js-zebra');$(this).find("tr:visible:odd").addClass("js-odd");$(this).find("tr:visible:even").addClass("js-even")}else if($(this).is('ul')){$(this).addClass('js-zebra');$(this).find("li:visible:odd").addClass("js-odd");$(this).find("li:visible:even").addClass("js-even")}})});(function(global){var cookieConsent={};cookieConsent.get=function(){return BeInteractive.cookieConsent.value};cookieConsent.set=function(value){return new Promise(function(resolve,reject){$.post("ajax/cookie-consent",JSON.stringify(value),function(data){BeInteractive.cookieConsent.value=data.value;resolve(data)},"json").fail(function(jqXHR){reject(jqXHR)})})};cookieConsent.responded=function(){return this.get()!==null};cookieConsent.accepted=function(){return this.responded()&&this.get()};cookieConsent.denied=function(){return this.responded()&&!this.get()};cookieConsent.getCookieName=function(){return BeInteractive.cookieConsent.cookie_name};global.cookieConsent=cookieConsent})(window);var mapsLoader=null;var latlong=!1;var address='';var scriptLocation='';var markerIcon='marker';if($("#google-maps-multiple-markers").length>0&&typeof google_maps_markers!=='undefined'){$(function(){scriptLocation=$("#google-maps-multiple-markers").data('script');tryToInitializeGmaps();$(window).on('resize scroll',function(){tryToInitializeGmaps()})});function tryToInitializeGmaps(){if($('#google_maps_wrapper').isInViewport()){if(mapsLoader===null){lazyLoadGoogleMap()}}}
function initializeGmaps(){let markers=[];let infowindow=new google.maps.InfoWindow();let bounds=new google.maps.LatLngBounds();let maxZoom=9;let mapsOptions={zoom:0,center:new google.maps.LatLng(google_maps_center.lat,google_maps_center.lng),scrollwheel:!1,disableDefaultUI:!0,panControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_LEFT},mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};let map=new google.maps.Map(document.getElementById("google-maps-multiple-markers"),mapsOptions);if(typeof searchMarker!=='undefined'&&searchMarker!==!1){let marker=new google.maps.Marker({icon:'frontend/img/search-marker.png',position:new google.maps.LatLng(searchMarker.lat,searchMarker.lng),map:map});bounds.extend(marker.position);maxZoom=12}
if(typeof google_maps_company_marker!=='undefined'&&google_maps_company_marker!==!1){let marker=new google.maps.Marker({icon:'frontend/img/marker-office.png',position:new google.maps.LatLng(google_maps_company_marker.lat,google_maps_company_marker.lng),map:map});google.maps.event.addListener(marker,'click',(function(marker,i){return function(){infowindow.setContent('<strong>'+google_maps_company_marker.description+'</strong><br>'+google_maps_company_marker.address);infowindow.open(map,marker)}})(marker))}
for(let i=0;i<google_maps_markers.length;i++){var markerIcon='marker_gold_2019';if(typeof google_maps_markers[i].type!=='undefined'&&google_maps_markers[i].type!==''){markerIcon=google_maps_markers[i].type}
markers[i]=new google.maps.Marker({icon:'frontend/img/'+markerIcon+'.png',position:new google.maps.LatLng(google_maps_markers[i].latLng.lat,google_maps_markers[i].latLng.lng),map:map});if(typeof searchMarker!=='undefined'&&searchMarker!==!1){}else{bounds.extend(markers[i].position)}
google.maps.event.addListener(markers[i],'click',(function(marker,i){return function(){infowindow.setContent('<strong>'+google_maps_markers[i].description+'</strong><br>');infowindow.open(map,marker);toggleFranchise(google_maps_markers[i].franchise.id)}})(markers[i],i))}
let listener=google.maps.event.addListener(map,"idle",function(){google.maps.event.removeListener(listener)});let zoomListener=google.maps.event.addListener(map,'zoom_changed',function(){let zoomChangeBoundsListener=google.maps.event.addListener(map,'bounds_changed',function(event){if(this.getZoom()>maxZoom&&this.initialZoom===!0){this.setZoom(maxZoom);this.initialZoom=!1}
google.maps.event.removeListener(zoomChangeBoundsListener)})});map.initialZoom=!0;map.fitBounds(bounds);$('.show-franchise-info').on('click',function(e){e.preventDefault();let franchiseId=$(this).data('franchiseId');for(let i=0;i<google_maps_markers.length;i++){if(google_maps_markers[i].franchise.id===franchiseId.toString()){new google.maps.event.trigger(markers[i],'click');break}}})}
function lazyLoadGoogleMap(){mapsLoader=$.getScript(scriptLocation).done(function(){initializeGmaps()}).fail(function(jqxhr,settings,ex){alert("Could not load Google Map script")})}
function toggleFranchise(franchiseId){$('.franchise-info').hide();$('.franchise-block').removeClass('active');$('.franchise-info[data-franchise-id="'+franchiseId+'"]').show();$('.franchise-info[data-franchise-id="'+franchiseId+'"]').closest('.franchise-block').addClass('active')}};(function($){$.fn.isInViewport=function(){var elementTop=$(this).offset().top;var elementBottom=elementTop+$(this).outerHeight();var viewportTop=$(window).scrollTop();var viewportBottom=viewportTop+$(window).height();return elementBottom>viewportTop&&elementTop<viewportBottom}}(jQuery));var g_dev=!1;var g_windowHeight=$(window).height();var g_windowWidth=$(window).width();var g_scroll=$(window).scrollTop();$(document).ready(function(){jsToggle();tubularVideos();slickSlider();newsletterSignup();dismissAlert()});$(window).on('load',function(){loadFancybox()});$(window).on('scroll',function(){g_scroll=$(window).scrollTop()});$(window).on('resize',function(){g_windowHeight=$(window).height();g_windowWidth=$(window).width()});function dismissAlert(){$(".alert .icon-cross").on('click',function(e){e.preventDefault();$(this).closest(".alert").remove()})}
function slickSlider(){if($('.slider').length>0){$('.slider').slick({dotsClass:'slick-dots inside-dots',lazyLoad:'ondemand',autoplaySpeed:5000,pauseOnHover:!1,slidesToScroll:1,slidesToShow:1,draggable:!0,autoplay:!0,infinite:!0,arrows:!1,dots:!1,speed:500,rows:0})}
if($('.slider-media').length>0){$('.slider-media').slick({lazyLoad:'ondemand',autoplaySpeed:5000,pauseOnHover:!1,slidesToScroll:1,slidesToShow:4,draggable:!0,autoplay:!0,infinite:!0,arrows:!0,dots:!1,speed:500,rows:0,responsive:[{breakpoint:960,settings:{slidesToShow:3}},{breakpoint:480,settings:{slidesToShow:2}}]})}
if($('.slider-participants').length>0){$('.slider-participants').slick({lazyLoad:'ondemand',autoplaySpeed:5000,pauseOnHover:!1,slidesToScroll:1,slidesToShow:6,draggable:!0,autoplay:!0,infinite:!0,arrows:!0,dots:!1,speed:500,rows:0,responsive:[{breakpoint:960,settings:{slidesToShow:3}},{breakpoint:480,settings:{slidesToShow:2}}]})}}
function newsletterSignup(){$('#newsletter-form').on('submit',function(e){e.preventDefault();var name=$('input[name="name"]',$(this)).val();var mail=$('input[name="mail"]',$(this)).val();$('.formElement').removeClass('error');$('#newsletter-form-header').find(".alert").remove();$.ajax({type:'POST',url:'ajax/mailchimp',data:{name:name,mail:mail}}).done(function(feedback){var alertClass;if(feedback.hasOwnProperty('error')&&feedback.error===1){$('.formElement').addClass('warning');alertClass='error'}else{$('#newsletter-form').hide();alertClass='success'}
$('#newsletter-form-header').append('<div class="alert alert-'+alertClass+'"><p>'+feedback.message+'</p></div>')})})}
function loadJs(filename){var l=document.createElement('script');l.type='text/javascript';l.src=filename;var h=document.getElementsByTagName('head')[0];h.parentNode.insertBefore(l,h)}
function loadFancybox(){$(".fancy-gallery").fancybox({buttons:['close'],animationEffect:"fade",animationDuration:300});$(".fancy-content-wrapper").fancybox({baseClass:"fancybox-content-wrapper",clickOutside:!1,clickSlide:!1,touch:!1,buttons:['close'],beforeLoad:function(){$('html').addClass("fancybox-locked")},afterClose:function(){$('html').removeClass("fancybox-locked")}})}
if($("#google_maps").length>0){var mapsLoader=null;var latlong=!1;var address='';var scriptLocation='';address=$("#google_maps").data('address');scriptLocation=$("#google_maps").data('script');$(function(){setTimeout(function(){tryToInitializeGmaps();$(window).on('resize scroll',function(){tryToInitializeGmaps()})},500)});function tryToInitializeGmaps(){if($('#google_maps_wrapper').isInViewport()){if(mapsLoader===null){lazyLoadGoogleMap()}}}
function initializeGmaps(){var geocoder=new google.maps.Geocoder();geocoder.geocode({'address':address},function(results,status){if(status===google.maps.GeocoderStatus.OK){latlong=results[0].geometry.location;var mapsOptions={zoom:12,center:latlong,scrollwheel:!1,disableDefaultUI:!0,panControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_LEFT},mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};var map=new google.maps.Map(document.getElementById("google_maps"),mapsOptions);var marker=new google.maps.Marker({icon:'frontend/img/marker.png',position:latlong,map:map});if($(".google_maps_info").css('position')!=='relative'){var offset=($(".google_maps_info").width()/2)+30;map.panBy(offset,0)}}else{alert("Geocode was not successful for the following reason: "+status)}})}
function lazyLoadGoogleMap(){mapsLoader=$.getScript(scriptLocation).done(function(){initializeGmaps()}).fail(function(jqxhr,settings,ex){alert("Could not load Google Map script")})}}